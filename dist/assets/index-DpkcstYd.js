var $U=Object.defineProperty;var HU=(e,t,r)=>t in e?$U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sn=(e,t,r)=>HU(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function age(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var GR={exports:{}},ub={},KR={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=Symbol.for("react.element"),qU=Symbol.for("react.portal"),VU=Symbol.for("react.fragment"),GU=Symbol.for("react.strict_mode"),KU=Symbol.for("react.profiler"),XU=Symbol.for("react.provider"),ZU=Symbol.for("react.context"),YU=Symbol.for("react.forward_ref"),JU=Symbol.for("react.suspense"),QU=Symbol.for("react.memo"),e$=Symbol.for("react.lazy"),mk=Symbol.iterator;function t$(e){return e===null||typeof e!="object"?null:(e=mk&&e[mk]||e["@@iterator"],typeof e=="function"?e:null)}var XR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZR=Object.assign,YR={};function ip(e,t,r){this.props=e,this.context=t,this.refs=YR,this.updater=r||XR}ip.prototype.isReactComponent={};ip.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ip.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JR(){}JR.prototype=ip.prototype;function o6(e,t,r){this.props=e,this.context=t,this.refs=YR,this.updater=r||XR}var l6=o6.prototype=new JR;l6.constructor=o6;ZR(l6,ip.prototype);l6.isPureReactComponent=!0;var gk=Array.isArray,QR=Object.prototype.hasOwnProperty,c6={current:null},eP={key:!0,ref:!0,__self:!0,__source:!0};function tP(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)QR.call(t,n)&&!eP.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:J0,type:e,key:s,ref:o,props:i,_owner:c6.current}}function r$(e,t){return{$$typeof:J0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function u6(e){return typeof e=="object"&&e!==null&&e.$$typeof===J0}function n$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vk=/\/+/g;function yw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n$(""+e.key):t.toString(36)}function Ov(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case J0:case qU:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+yw(o,0):n,gk(i)?(r="",e!=null&&(r=e.replace(vk,"$&/")+"/"),Ov(i,t,r,"",function(c){return c})):i!=null&&(u6(i)&&(i=r$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vk,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",gk(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+yw(s,a);o+=Ov(s,t,r,l,i)}else if(l=t$(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+yw(s,a++),o+=Ov(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function v1(e,t,r){if(e==null)return e;var n=[],i=0;return Ov(e,n,"","",function(s){return t.call(r,s,i++)}),n}function i$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ps={current:null},Iv={transition:null},s$={ReactCurrentDispatcher:Ps,ReactCurrentBatchConfig:Iv,ReactCurrentOwner:c6};function rP(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:v1,forEach:function(e,t,r){v1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return v1(e,function(){t++}),t},toArray:function(e){return v1(e,function(t){return t})||[]},only:function(e){if(!u6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fr.Component=ip;Fr.Fragment=VU;Fr.Profiler=KU;Fr.PureComponent=o6;Fr.StrictMode=GU;Fr.Suspense=JU;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s$;Fr.act=rP;Fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=c6.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)QR.call(t,l)&&!eP.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:J0,type:e.type,key:i,ref:s,props:n,_owner:o}};Fr.createContext=function(e){return e={$$typeof:ZU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XU,_context:e},e.Consumer=e};Fr.createElement=tP;Fr.createFactory=function(e){var t=tP.bind(null,e);return t.type=e,t};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(e){return{$$typeof:YU,render:e}};Fr.isValidElement=u6;Fr.lazy=function(e){return{$$typeof:e$,_payload:{_status:-1,_result:e},_init:i$}};Fr.memo=function(e,t){return{$$typeof:QU,type:e,compare:t===void 0?null:t}};Fr.startTransition=function(e){var t=Iv.transition;Iv.transition={};try{e()}finally{Iv.transition=t}};Fr.unstable_act=rP;Fr.useCallback=function(e,t){return Ps.current.useCallback(e,t)};Fr.useContext=function(e){return Ps.current.useContext(e)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(e){return Ps.current.useDeferredValue(e)};Fr.useEffect=function(e,t){return Ps.current.useEffect(e,t)};Fr.useId=function(){return Ps.current.useId()};Fr.useImperativeHandle=function(e,t,r){return Ps.current.useImperativeHandle(e,t,r)};Fr.useInsertionEffect=function(e,t){return Ps.current.useInsertionEffect(e,t)};Fr.useLayoutEffect=function(e,t){return Ps.current.useLayoutEffect(e,t)};Fr.useMemo=function(e,t){return Ps.current.useMemo(e,t)};Fr.useReducer=function(e,t,r){return Ps.current.useReducer(e,t,r)};Fr.useRef=function(e){return Ps.current.useRef(e)};Fr.useState=function(e){return Ps.current.useState(e)};Fr.useSyncExternalStore=function(e,t,r){return Ps.current.useSyncExternalStore(e,t,r)};Fr.useTransition=function(){return Ps.current.useTransition()};Fr.version="18.3.1";KR.exports=Fr;var Be=KR.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a$=Be,o$=Symbol.for("react.element"),l$=Symbol.for("react.fragment"),c$=Object.prototype.hasOwnProperty,u$=a$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d$={key:!0,ref:!0,__self:!0,__source:!0};function nP(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)c$.call(t,n)&&!d$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:o$,type:e,key:s,ref:o,props:i,_owner:u$.current}}ub.Fragment=l$;ub.jsx=nP;ub.jsxs=nP;GR.exports=ub;var w=GR.exports,iP={exports:{}},xa={},sP={exports:{}},aP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var D=A.length;A.push(C);e:for(;0<D;){var z=D-1>>>1,P=A[z];if(0<i(P,C))A[z]=C,A[D]=P,D=z;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var C=A[0],D=A.pop();if(D!==C){A[0]=D;e:for(var z=0,P=A.length,K=P>>>1;z<K;){var Z=2*(z+1)-1,te=A[Z],q=Z+1,$=A[q];if(0>i(te,D))q<P&&0>i($,te)?(A[z]=$,A[q]=D,z=q):(A[z]=te,A[Z]=D,z=Z);else if(q<P&&0>i($,D))A[z]=$,A[q]=D,z=q;else break e}}return C}function i(A,C){var D=A.sortIndex-C.sortIndex;return D!==0?D:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var C=r(c);C!==null;){if(C.callback===null)n(c);else if(C.startTime<=A)n(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=r(c)}}function x(A){if(g=!1,b(A),!p)if(r(l)!==null)p=!0,E(_);else{var C=r(c);C!==null&&k(x,C.startTime-A)}}function _(A,C){p=!1,g&&(g=!1,v(L),L=-1),d=!0;var D=f;try{for(b(C),h=r(l);h!==null&&(!(h.expirationTime>C)||A&&!G());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var P=z(h.expirationTime<=C);C=e.unstable_now(),typeof P=="function"?h.callback=P:h===r(l)&&n(l),b(C)}else n(l);h=r(l)}if(h!==null)var K=!0;else{var Z=r(c);Z!==null&&k(x,Z.startTime-C),K=!1}return K}finally{h=null,f=D,d=!1}}var M=!1,U=null,L=-1,O=5,H=-1;function G(){return!(e.unstable_now()-H<O)}function I(){if(U!==null){var A=e.unstable_now();H=A;var C=!0;try{C=U(!0,A)}finally{C?R():(M=!1,U=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,j=S.port2;S.port1.onmessage=I,R=function(){j.postMessage(null)}}else R=function(){m(I,0)};function E(A){U=A,M||(M=!0,R())}function k(A,C){L=m(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,E(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var D=f;f=C;try{return A()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=f;f=A;try{return C()}finally{f=D}},e.unstable_scheduleCallback=function(A,C,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=D+P,A={id:u++,callback:C,priorityLevel:A,startTime:D,expirationTime:P,sortIndex:-1},D>z?(A.sortIndex=D,t(c,A),r(l)===null&&A===r(c)&&(g?(v(L),L=-1):g=!0,k(x,D-z))):(A.sortIndex=P,t(l,A),p||d||(p=!0,E(_))),A},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(A){var C=f;return function(){var D=f;f=C;try{return A.apply(this,arguments)}finally{f=D}}}})(aP);sP.exports=aP;var h$=sP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$=Be,wa=h$;function gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oP=new Set,c0={};function sh(e,t){jf(e,t),jf(e+"Capture",t)}function jf(e,t){for(c0[e]=t,e=0;e<t.length;e++)oP.add(t[e])}var ec=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V5=Object.prototype.hasOwnProperty,p$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yk={},bk={};function m$(e){return V5.call(bk,e)?!0:V5.call(yk,e)?!1:p$.test(e)?bk[e]=!0:(yk[e]=!0,!1)}function g$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v$(e,t,r,n){if(t===null||typeof t>"u"||g$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Os(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){is[e]=new Os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];is[t]=new Os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){is[e]=new Os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){is[e]=new Os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){is[e]=new Os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){is[e]=new Os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){is[e]=new Os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){is[e]=new Os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){is[e]=new Os(e,5,!1,e.toLowerCase(),null,!1,!1)});var d6=/[\-:]([a-z])/g;function h6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d6,h6);is[t]=new Os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d6,h6);is[t]=new Os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d6,h6);is[t]=new Os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){is[e]=new Os(e,1,!1,e.toLowerCase(),null,!1,!1)});is.xlinkHref=new Os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){is[e]=new Os(e,1,!1,e.toLowerCase(),null,!0,!0)});function f6(e,t,r,n){var i=is.hasOwnProperty(t)?is[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v$(t,r,i,n)&&(r=null),n||i===null?m$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ac=f$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y1=Symbol.for("react.element"),sf=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),G5=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),m6=Symbol.for("react.forward_ref"),K5=Symbol.for("react.suspense"),X5=Symbol.for("react.suspense_list"),g6=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),uP=Symbol.for("react.offscreen"),wk=Symbol.iterator;function Yp(e){return e===null||typeof e!="object"?null:(e=wk&&e[wk]||e["@@iterator"],typeof e=="function"?e:null)}var Fn=Object.assign,bw;function Am(e){if(bw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bw=t&&t[1]||""}return`
`+bw+e}var ww=!1;function xw(e,t){if(!e||ww)return"";ww=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ww=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Am(e):""}function y$(e){switch(e.tag){case 5:return Am(e.type);case 16:return Am("Lazy");case 13:return Am("Suspense");case 19:return Am("SuspenseList");case 0:case 2:case 15:return e=xw(e.type,!1),e;case 11:return e=xw(e.type.render,!1),e;case 1:return e=xw(e.type,!0),e;default:return""}}function Z5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case af:return"Fragment";case sf:return"Portal";case G5:return"Profiler";case p6:return"StrictMode";case K5:return"Suspense";case X5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cP:return(e.displayName||"Context")+".Consumer";case lP:return(e._context.displayName||"Context")+".Provider";case m6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g6:return t=e.displayName||null,t!==null?t:Z5(e.type)||"Memo";case qc:t=e._payload,e=e._init;try{return Z5(e(t))}catch{}}return null}function b$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z5(t);case 8:return t===p6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w$(e){var t=dP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function b1(e){e._valueTracker||(e._valueTracker=w$(e))}function hP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Y5(e,t){var r=t.checked;return Fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fP(e,t){t=t.checked,t!=null&&f6(e,"checked",t,!1)}function J5(e,t){fP(e,t);var r=bu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Q5(e,t.type,r):t.hasOwnProperty("defaultValue")&&Q5(e,t.type,bu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _k(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Q5(e,t,r){(t!=="number"||uy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cm=Array.isArray;function vf(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function e3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gt(92));if(Cm(r)){if(1<r.length)throw Error(gt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bu(r)}}function pP(e,t){var r=bu(t.value),n=bu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ek(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var w1,gP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(w1=w1||document.createElement("div"),w1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=w1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function u0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x$=["Webkit","ms","Moz","O"];Object.keys(Mm).forEach(function(e){x$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mm[t]=Mm[e]})});function vP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mm.hasOwnProperty(e)&&Mm[e]?(""+t).trim():t+"px"}function yP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=vP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _$=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r3(e,t){if(t){if(_$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function n3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i3=null;function v6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s3=null,yf=null,bf=null;function kk(e){if(e=tg(e)){if(typeof s3!="function")throw Error(gt(280));var t=e.stateNode;t&&(t=mb(t),s3(e.stateNode,e.type,t))}}function bP(e){yf?bf?bf.push(e):bf=[e]:yf=e}function wP(){if(yf){var e=yf,t=bf;if(bf=yf=null,kk(e),t)for(e=0;e<t.length;e++)kk(t[e])}}function xP(e,t){return e(t)}function _P(){}var _w=!1;function SP(e,t,r){if(_w)return e(t,r);_w=!0;try{return xP(e,t,r)}finally{_w=!1,(yf!==null||bf!==null)&&(_P(),wP())}}function d0(e,t){var r=e.stateNode;if(r===null)return null;var n=mb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gt(231,t,typeof r));return r}var a3=!1;if(ec)try{var Jp={};Object.defineProperty(Jp,"passive",{get:function(){a3=!0}}),window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{a3=!1}function S$(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Lm=!1,dy=null,hy=!1,o3=null,E$={onError:function(e){Lm=!0,dy=e}};function k$(e,t,r,n,i,s,o,a,l){Lm=!1,dy=null,S$.apply(E$,arguments)}function N$(e,t,r,n,i,s,o,a,l){if(k$.apply(this,arguments),Lm){if(Lm){var c=dy;Lm=!1,dy=null}else throw Error(gt(198));hy||(hy=!0,o3=c)}}function ah(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function EP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nk(e){if(ah(e)!==e)throw Error(gt(188))}function A$(e){var t=e.alternate;if(!t){if(t=ah(e),t===null)throw Error(gt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Nk(i),e;if(s===n)return Nk(i),t;s=s.sibling}throw Error(gt(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(gt(189))}}if(r.alternate!==n)throw Error(gt(190))}if(r.tag!==3)throw Error(gt(188));return r.stateNode.current===r?e:t}function kP(e){return e=A$(e),e!==null?NP(e):null}function NP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NP(e);if(t!==null)return t;e=e.sibling}return null}var AP=wa.unstable_scheduleCallback,Ak=wa.unstable_cancelCallback,C$=wa.unstable_shouldYield,j$=wa.unstable_requestPaint,ai=wa.unstable_now,T$=wa.unstable_getCurrentPriorityLevel,y6=wa.unstable_ImmediatePriority,CP=wa.unstable_UserBlockingPriority,fy=wa.unstable_NormalPriority,R$=wa.unstable_LowPriority,jP=wa.unstable_IdlePriority,db=null,tl=null;function P$(e){if(tl&&typeof tl.onCommitFiberRoot=="function")try{tl.onCommitFiberRoot(db,e,void 0,(e.current.flags&128)===128)}catch{}}var vo=Math.clz32?Math.clz32:M$,O$=Math.log,I$=Math.LN2;function M$(e){return e>>>=0,e===0?32:31-(O$(e)/I$|0)|0}var x1=64,_1=4194304;function jm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function py(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=jm(a):(s&=o,s!==0&&(n=jm(s)))}else o=r&~i,o!==0?n=jm(o):s!==0&&(n=jm(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vo(t),i=1<<r,n|=e[r],t&=~i;return n}function L$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-vo(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=L$(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function l3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TP(){var e=x1;return x1<<=1,!(x1&4194240)&&(x1=64),e}function Sw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Q0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vo(t),e[t]=r}function B$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-vo(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function b6(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var on=0;function RP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PP,w6,OP,IP,MP,c3=!1,S1=[],su=null,au=null,ou=null,h0=new Map,f0=new Map,Kc=[],F$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ck(e,t){switch(e){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":ou=null;break;case"pointerover":case"pointerout":h0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":f0.delete(t.pointerId)}}function Qp(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=tg(t),t!==null&&w6(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function z$(e,t,r,n,i){switch(t){case"focusin":return su=Qp(su,e,t,r,n,i),!0;case"dragenter":return au=Qp(au,e,t,r,n,i),!0;case"mouseover":return ou=Qp(ou,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return h0.set(s,Qp(h0.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,f0.set(s,Qp(f0.get(s)||null,e,t,r,n,i)),!0}return!1}function LP(e){var t=Cd(e.target);if(t!==null){var r=ah(t);if(r!==null){if(t=r.tag,t===13){if(t=EP(r),t!==null){e.blockedOn=t,MP(e.priority,function(){OP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=u3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);i3=n,r.target.dispatchEvent(n),i3=null}else return t=tg(r),t!==null&&w6(t),e.blockedOn=r,!1;t.shift()}return!0}function jk(e,t,r){Mv(e)&&r.delete(t)}function U$(){c3=!1,su!==null&&Mv(su)&&(su=null),au!==null&&Mv(au)&&(au=null),ou!==null&&Mv(ou)&&(ou=null),h0.forEach(jk),f0.forEach(jk)}function em(e,t){e.blockedOn===t&&(e.blockedOn=null,c3||(c3=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,U$)))}function p0(e){function t(i){return em(i,e)}if(0<S1.length){em(S1[0],e);for(var r=1;r<S1.length;r++){var n=S1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(su!==null&&em(su,e),au!==null&&em(au,e),ou!==null&&em(ou,e),h0.forEach(t),f0.forEach(t),r=0;r<Kc.length;r++)n=Kc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kc.length&&(r=Kc[0],r.blockedOn===null);)LP(r),r.blockedOn===null&&Kc.shift()}var wf=ac.ReactCurrentBatchConfig,my=!0;function $$(e,t,r,n){var i=on,s=wf.transition;wf.transition=null;try{on=1,x6(e,t,r,n)}finally{on=i,wf.transition=s}}function H$(e,t,r,n){var i=on,s=wf.transition;wf.transition=null;try{on=4,x6(e,t,r,n)}finally{on=i,wf.transition=s}}function x6(e,t,r,n){if(my){var i=u3(e,t,r,n);if(i===null)Ow(e,t,n,gy,r),Ck(e,n);else if(z$(i,e,t,r,n))n.stopPropagation();else if(Ck(e,n),t&4&&-1<F$.indexOf(e)){for(;i!==null;){var s=tg(i);if(s!==null&&PP(s),s=u3(e,t,r,n),s===null&&Ow(e,t,n,gy,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ow(e,t,n,null,r)}}var gy=null;function u3(e,t,r,n){if(gy=null,e=v6(n),e=Cd(e),e!==null)if(t=ah(e),t===null)e=null;else if(r=t.tag,r===13){if(e=EP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gy=e,null}function DP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T$()){case y6:return 1;case CP:return 4;case fy:case R$:return 16;case jP:return 536870912;default:return 16}default:return 16}}var Qc=null,_6=null,Lv=null;function BP(){if(Lv)return Lv;var e,t=_6,r=t.length,n,i="value"in Qc?Qc.value:Qc.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Lv=i.slice(e,1<n?1-n:void 0)}function Dv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function E1(){return!0}function Tk(){return!1}function _a(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?E1:Tk,this.isPropagationStopped=Tk,this}return Fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=E1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=E1)},persist:function(){},isPersistent:E1}),t}var sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S6=_a(sp),eg=Fn({},sp,{view:0,detail:0}),W$=_a(eg),Ew,kw,tm,hb=Fn({},eg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tm&&(tm&&e.type==="mousemove"?(Ew=e.screenX-tm.screenX,kw=e.screenY-tm.screenY):kw=Ew=0,tm=e),Ew)},movementY:function(e){return"movementY"in e?e.movementY:kw}}),Rk=_a(hb),q$=Fn({},hb,{dataTransfer:0}),V$=_a(q$),G$=Fn({},eg,{relatedTarget:0}),Nw=_a(G$),K$=Fn({},sp,{animationName:0,elapsedTime:0,pseudoElement:0}),X$=_a(K$),Z$=Fn({},sp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y$=_a(Z$),J$=Fn({},sp,{data:0}),Pk=_a(J$),Q$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tH[e])?!!t[e]:!1}function E6(){return rH}var nH=Fn({},eg,{key:function(e){if(e.key){var t=Q$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E6,charCode:function(e){return e.type==="keypress"?Dv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iH=_a(nH),sH=Fn({},hb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ok=_a(sH),aH=Fn({},eg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E6}),oH=_a(aH),lH=Fn({},sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),cH=_a(lH),uH=Fn({},hb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dH=_a(uH),hH=[9,13,27,32],k6=ec&&"CompositionEvent"in window,Dm=null;ec&&"documentMode"in document&&(Dm=document.documentMode);var fH=ec&&"TextEvent"in window&&!Dm,FP=ec&&(!k6||Dm&&8<Dm&&11>=Dm),Ik=" ",Mk=!1;function zP(e,t){switch(e){case"keyup":return hH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var of=!1;function pH(e,t){switch(e){case"compositionend":return UP(t);case"keypress":return t.which!==32?null:(Mk=!0,Ik);case"textInput":return e=t.data,e===Ik&&Mk?null:e;default:return null}}function mH(e,t){if(of)return e==="compositionend"||!k6&&zP(e,t)?(e=BP(),Lv=_6=Qc=null,of=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FP&&t.locale!=="ko"?null:t.data;default:return null}}var gH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gH[e.type]:t==="textarea"}function $P(e,t,r,n){bP(n),t=vy(t,"onChange"),0<t.length&&(r=new S6("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bm=null,m0=null;function vH(e){QP(e,0)}function fb(e){var t=uf(e);if(hP(t))return e}function yH(e,t){if(e==="change")return t}var HP=!1;if(ec){var Aw;if(ec){var Cw="oninput"in document;if(!Cw){var Dk=document.createElement("div");Dk.setAttribute("oninput","return;"),Cw=typeof Dk.oninput=="function"}Aw=Cw}else Aw=!1;HP=Aw&&(!document.documentMode||9<document.documentMode)}function Bk(){Bm&&(Bm.detachEvent("onpropertychange",WP),m0=Bm=null)}function WP(e){if(e.propertyName==="value"&&fb(m0)){var t=[];$P(t,m0,e,v6(e)),SP(vH,t)}}function bH(e,t,r){e==="focusin"?(Bk(),Bm=t,m0=r,Bm.attachEvent("onpropertychange",WP)):e==="focusout"&&Bk()}function wH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fb(m0)}function xH(e,t){if(e==="click")return fb(t)}function _H(e,t){if(e==="input"||e==="change")return fb(t)}function SH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _o=typeof Object.is=="function"?Object.is:SH;function g0(e,t){if(_o(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!V5.call(t,i)||!_o(e[i],t[i]))return!1}return!0}function Fk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zk(e,t){var r=Fk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fk(r)}}function qP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VP(){for(var e=window,t=uy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uy(e.document)}return t}function N6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EH(e){var t=VP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qP(r.ownerDocument.documentElement,r)){if(n!==null&&N6(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=zk(r,s);var o=zk(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kH=ec&&"documentMode"in document&&11>=document.documentMode,lf=null,d3=null,Fm=null,h3=!1;function Uk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h3||lf==null||lf!==uy(n)||(n=lf,"selectionStart"in n&&N6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fm&&g0(Fm,n)||(Fm=n,n=vy(d3,"onSelect"),0<n.length&&(t=new S6("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=lf)))}function k1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cf={animationend:k1("Animation","AnimationEnd"),animationiteration:k1("Animation","AnimationIteration"),animationstart:k1("Animation","AnimationStart"),transitionend:k1("Transition","TransitionEnd")},jw={},GP={};ec&&(GP=document.createElement("div").style,"AnimationEvent"in window||(delete cf.animationend.animation,delete cf.animationiteration.animation,delete cf.animationstart.animation),"TransitionEvent"in window||delete cf.transitionend.transition);function pb(e){if(jw[e])return jw[e];if(!cf[e])return e;var t=cf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in GP)return jw[e]=t[r];return e}var KP=pb("animationend"),XP=pb("animationiteration"),ZP=pb("animationstart"),YP=pb("transitionend"),JP=new Map,$k="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ku(e,t){JP.set(e,t),sh(t,[e])}for(var Tw=0;Tw<$k.length;Tw++){var Rw=$k[Tw],NH=Rw.toLowerCase(),AH=Rw[0].toUpperCase()+Rw.slice(1);ku(NH,"on"+AH)}ku(KP,"onAnimationEnd");ku(XP,"onAnimationIteration");ku(ZP,"onAnimationStart");ku("dblclick","onDoubleClick");ku("focusin","onFocus");ku("focusout","onBlur");ku(YP,"onTransitionEnd");jf("onMouseEnter",["mouseout","mouseover"]);jf("onMouseLeave",["mouseout","mouseover"]);jf("onPointerEnter",["pointerout","pointerover"]);jf("onPointerLeave",["pointerout","pointerover"]);sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tm));function Hk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,N$(n,t,void 0,e),e.currentTarget=null}function QP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hk(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hk(i,a,c),s=l}}}if(hy)throw e=o3,hy=!1,o3=null,e}function En(e,t){var r=t[v3];r===void 0&&(r=t[v3]=new Set);var n=e+"__bubble";r.has(n)||(eO(t,e,2,!1),r.add(n))}function Pw(e,t,r){var n=0;t&&(n|=4),eO(r,e,n,t)}var N1="_reactListening"+Math.random().toString(36).slice(2);function v0(e){if(!e[N1]){e[N1]=!0,oP.forEach(function(r){r!=="selectionchange"&&(CH.has(r)||Pw(r,!1,e),Pw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[N1]||(t[N1]=!0,Pw("selectionchange",!1,t))}}function eO(e,t,r,n){switch(DP(t)){case 1:var i=$$;break;case 4:i=H$;break;default:i=x6}r=i.bind(null,t,r,e),i=void 0,!a3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ow(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cd(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}SP(function(){var c=s,u=v6(r),h=[];e:{var f=JP.get(e);if(f!==void 0){var d=S6,p=e;switch(e){case"keypress":if(Dv(r)===0)break e;case"keydown":case"keyup":d=iH;break;case"focusin":p="focus",d=Nw;break;case"focusout":p="blur",d=Nw;break;case"beforeblur":case"afterblur":d=Nw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Rk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=V$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=oH;break;case KP:case XP:case ZP:d=X$;break;case YP:d=cH;break;case"scroll":d=W$;break;case"wheel":d=dH;break;case"copy":case"cut":case"paste":d=Y$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ok}var g=(t&4)!==0,m=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=d0(y,v),x!=null&&g.push(y0(y,x,b)))),m)break;y=y.return}0<g.length&&(f=new d(f,p,null,r,u),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==i3&&(p=r.relatedTarget||r.fromElement)&&(Cd(p)||p[tc]))break e;if((d||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=c,p=p?Cd(p):null,p!==null&&(m=ah(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(g=Rk,x="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ok,x="onPointerLeave",v="onPointerEnter",y="pointer"),m=d==null?f:uf(d),b=p==null?f:uf(p),f=new g(x,y+"leave",d,r,u),f.target=m,f.relatedTarget=b,x=null,Cd(u)===c&&(g=new g(v,y+"enter",p,r,u),g.target=b,g.relatedTarget=m,x=g),m=x,d&&p)t:{for(g=d,v=p,y=0,b=g;b;b=Oh(b))y++;for(b=0,x=v;x;x=Oh(x))b++;for(;0<y-b;)g=Oh(g),y--;for(;0<b-y;)v=Oh(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Oh(g),v=Oh(v)}g=null}else g=null;d!==null&&Wk(h,f,d,g,!1),p!==null&&m!==null&&Wk(h,m,p,g,!0)}}e:{if(f=c?uf(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var _=yH;else if(Lk(f))if(HP)_=_H;else{_=wH;var M=bH}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=xH);if(_&&(_=_(e,c))){$P(h,_,r,u);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Q5(f,"number",f.value)}switch(M=c?uf(c):window,e){case"focusin":(Lk(M)||M.contentEditable==="true")&&(lf=M,d3=c,Fm=null);break;case"focusout":Fm=d3=lf=null;break;case"mousedown":h3=!0;break;case"contextmenu":case"mouseup":case"dragend":h3=!1,Uk(h,r,u);break;case"selectionchange":if(kH)break;case"keydown":case"keyup":Uk(h,r,u)}var U;if(k6)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else of?zP(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(FP&&r.locale!=="ko"&&(of||L!=="onCompositionStart"?L==="onCompositionEnd"&&of&&(U=BP()):(Qc=u,_6="value"in Qc?Qc.value:Qc.textContent,of=!0)),M=vy(c,L),0<M.length&&(L=new Pk(L,e,null,r,u),h.push({event:L,listeners:M}),U?L.data=U:(U=UP(r),U!==null&&(L.data=U)))),(U=fH?pH(e,r):mH(e,r))&&(c=vy(c,"onBeforeInput"),0<c.length&&(u=new Pk("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=U))}QP(h,t)})}function y0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=d0(e,r),s!=null&&n.unshift(y0(e,s,i)),s=d0(e,t),s!=null&&n.push(y0(e,s,i))),e=e.return}return n}function Oh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wk(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=d0(r,s),l!=null&&o.unshift(y0(r,l,a))):i||(l=d0(r,s),l!=null&&o.push(y0(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jH=/\r\n?/g,TH=/\u0000|\uFFFD/g;function qk(e){return(typeof e=="string"?e:""+e).replace(jH,`
`).replace(TH,"")}function A1(e,t,r){if(t=qk(t),qk(e)!==t&&r)throw Error(gt(425))}function yy(){}var f3=null,p3=null;function m3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g3=typeof setTimeout=="function"?setTimeout:void 0,RH=typeof clearTimeout=="function"?clearTimeout:void 0,Vk=typeof Promise=="function"?Promise:void 0,PH=typeof queueMicrotask=="function"?queueMicrotask:typeof Vk<"u"?function(e){return Vk.resolve(null).then(e).catch(OH)}:g3;function OH(e){setTimeout(function(){throw e})}function Iw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),p0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);p0(t)}function lu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ap=Math.random().toString(36).slice(2),Xo="__reactFiber$"+ap,b0="__reactProps$"+ap,tc="__reactContainer$"+ap,v3="__reactEvents$"+ap,IH="__reactListeners$"+ap,MH="__reactHandles$"+ap;function Cd(e){var t=e[Xo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tc]||r[Xo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gk(e);e!==null;){if(r=e[Xo])return r;e=Gk(e)}return t}e=r,r=e.parentNode}return null}function tg(e){return e=e[Xo]||e[tc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gt(33))}function mb(e){return e[b0]||null}var y3=[],df=-1;function Nu(e){return{current:e}}function Nn(e){0>df||(e.current=y3[df],y3[df]=null,df--)}function wn(e,t){df++,y3[df]=e.current,e.current=t}var wu={},gs=Nu(wu),Ks=Nu(!1),Gd=wu;function Tf(e,t){var r=e.type.contextTypes;if(!r)return wu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xs(e){return e=e.childContextTypes,e!=null}function by(){Nn(Ks),Nn(gs)}function Kk(e,t,r){if(gs.current!==wu)throw Error(gt(168));wn(gs,t),wn(Ks,r)}function tO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(gt(108,b$(e)||"Unknown",i));return Fn({},r,n)}function wy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wu,Gd=gs.current,wn(gs,e),wn(Ks,Ks.current),!0}function Xk(e,t,r){var n=e.stateNode;if(!n)throw Error(gt(169));r?(e=tO(e,t,Gd),n.__reactInternalMemoizedMergedChildContext=e,Nn(Ks),Nn(gs),wn(gs,e)):Nn(Ks),wn(Ks,r)}var Bl=null,gb=!1,Mw=!1;function rO(e){Bl===null?Bl=[e]:Bl.push(e)}function LH(e){gb=!0,rO(e)}function Au(){if(!Mw&&Bl!==null){Mw=!0;var e=0,t=on;try{var r=Bl;for(on=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bl=null,gb=!1}catch(i){throw Bl!==null&&(Bl=Bl.slice(e+1)),AP(y6,Au),i}finally{on=t,Mw=!1}}return null}var hf=[],ff=0,xy=null,_y=0,Da=[],Ba=0,Kd=null,Hl=1,Wl="";function wd(e,t){hf[ff++]=_y,hf[ff++]=xy,xy=e,_y=t}function nO(e,t,r){Da[Ba++]=Hl,Da[Ba++]=Wl,Da[Ba++]=Kd,Kd=e;var n=Hl;e=Wl;var i=32-vo(n)-1;n&=~(1<<i),r+=1;var s=32-vo(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Hl=1<<32-vo(t)+i|r<<i|n,Wl=s+e}else Hl=1<<s|r<<i|n,Wl=e}function A6(e){e.return!==null&&(wd(e,1),nO(e,1,0))}function C6(e){for(;e===xy;)xy=hf[--ff],hf[ff]=null,_y=hf[--ff],hf[ff]=null;for(;e===Kd;)Kd=Da[--Ba],Da[Ba]=null,Wl=Da[--Ba],Da[Ba]=null,Hl=Da[--Ba],Da[Ba]=null}var ba=null,ga=null,Pn=!1,mo=null;function iO(e,t){var r=Ua(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ba=e,ga=lu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ba=e,ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kd!==null?{id:Hl,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ua(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ba=e,ga=null,!0):!1;default:return!1}}function b3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w3(e){if(Pn){var t=ga;if(t){var r=t;if(!Zk(e,t)){if(b3(e))throw Error(gt(418));t=lu(r.nextSibling);var n=ba;t&&Zk(e,t)?iO(n,r):(e.flags=e.flags&-4097|2,Pn=!1,ba=e)}}else{if(b3(e))throw Error(gt(418));e.flags=e.flags&-4097|2,Pn=!1,ba=e}}}function Yk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ba=e}function C1(e){if(e!==ba)return!1;if(!Pn)return Yk(e),Pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m3(e.type,e.memoizedProps)),t&&(t=ga)){if(b3(e))throw sO(),Error(gt(418));for(;t;)iO(e,t),t=lu(t.nextSibling)}if(Yk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ga=lu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ga=null}}else ga=ba?lu(e.stateNode.nextSibling):null;return!0}function sO(){for(var e=ga;e;)e=lu(e.nextSibling)}function Rf(){ga=ba=null,Pn=!1}function j6(e){mo===null?mo=[e]:mo.push(e)}var DH=ac.ReactCurrentBatchConfig;function rm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gt(309));var n=r.stateNode}if(!n)throw Error(gt(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(gt(284));if(!r._owner)throw Error(gt(290,e))}return e}function j1(e,t){throw e=Object.prototype.toString.call(t),Error(gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jk(e){var t=e._init;return t(e._payload)}function aO(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=hu(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,x){return y===null||y.tag!==6?(y=$w(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var _=b.type;return _===af?u(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qc&&Jk(_)===y.type)?(x=i(y,b.props),x.ref=rm(v,y,b),x.return=v,x):(x=Wv(b.type,b.key,b.props,null,v.mode,x),x.ref=rm(v,y,b),x.return=v,x)}function c(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hw(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,x,_){return y===null||y.tag!==7?(y=zd(b,v.mode,x,_),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$w(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case y1:return b=Wv(y.type,y.key,y.props,null,v.mode,b),b.ref=rm(v,null,y),b.return=v,b;case sf:return y=Hw(y,v.mode,b),y.return=v,y;case qc:var x=y._init;return h(v,x(y._payload),b)}if(Cm(y)||Yp(y))return y=zd(y,v.mode,b,null),y.return=v,y;j1(v,y)}return null}function f(v,y,b,x){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case y1:return b.key===_?l(v,y,b,x):null;case sf:return b.key===_?c(v,y,b,x):null;case qc:return _=b._init,f(v,y,_(b._payload),x)}if(Cm(b)||Yp(b))return _!==null?null:u(v,y,b,x,null);j1(v,b)}return null}function d(v,y,b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(y,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case y1:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,_);case sf:return v=v.get(x.key===null?b:x.key)||null,c(y,v,x,_);case qc:var M=x._init;return d(v,y,b,M(x._payload),_)}if(Cm(x)||Yp(x))return v=v.get(b)||null,u(y,v,x,_,null);j1(y,x)}return null}function p(v,y,b,x){for(var _=null,M=null,U=y,L=y=0,O=null;U!==null&&L<b.length;L++){U.index>L?(O=U,U=null):O=U.sibling;var H=f(v,U,b[L],x);if(H===null){U===null&&(U=O);break}e&&U&&H.alternate===null&&t(v,U),y=s(H,y,L),M===null?_=H:M.sibling=H,M=H,U=O}if(L===b.length)return r(v,U),Pn&&wd(v,L),_;if(U===null){for(;L<b.length;L++)U=h(v,b[L],x),U!==null&&(y=s(U,y,L),M===null?_=U:M.sibling=U,M=U);return Pn&&wd(v,L),_}for(U=n(v,U);L<b.length;L++)O=d(U,v,L,b[L],x),O!==null&&(e&&O.alternate!==null&&U.delete(O.key===null?L:O.key),y=s(O,y,L),M===null?_=O:M.sibling=O,M=O);return e&&U.forEach(function(G){return t(v,G)}),Pn&&wd(v,L),_}function g(v,y,b,x){var _=Yp(b);if(typeof _!="function")throw Error(gt(150));if(b=_.call(b),b==null)throw Error(gt(151));for(var M=_=null,U=y,L=y=0,O=null,H=b.next();U!==null&&!H.done;L++,H=b.next()){U.index>L?(O=U,U=null):O=U.sibling;var G=f(v,U,H.value,x);if(G===null){U===null&&(U=O);break}e&&U&&G.alternate===null&&t(v,U),y=s(G,y,L),M===null?_=G:M.sibling=G,M=G,U=O}if(H.done)return r(v,U),Pn&&wd(v,L),_;if(U===null){for(;!H.done;L++,H=b.next())H=h(v,H.value,x),H!==null&&(y=s(H,y,L),M===null?_=H:M.sibling=H,M=H);return Pn&&wd(v,L),_}for(U=n(v,U);!H.done;L++,H=b.next())H=d(U,v,L,H.value,x),H!==null&&(e&&H.alternate!==null&&U.delete(H.key===null?L:H.key),y=s(H,y,L),M===null?_=H:M.sibling=H,M=H);return e&&U.forEach(function(I){return t(v,I)}),Pn&&wd(v,L),_}function m(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===af&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case y1:e:{for(var _=b.key,M=y;M!==null;){if(M.key===_){if(_=b.type,_===af){if(M.tag===7){r(v,M.sibling),y=i(M,b.props.children),y.return=v,v=y;break e}}else if(M.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qc&&Jk(_)===M.type){r(v,M.sibling),y=i(M,b.props),y.ref=rm(v,M,b),y.return=v,v=y;break e}r(v,M);break}else t(v,M);M=M.sibling}b.type===af?(y=zd(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=Wv(b.type,b.key,b.props,null,v.mode,x),x.ref=rm(v,y,b),x.return=v,v=x)}return o(v);case sf:e:{for(M=b.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Hw(b,v.mode,x),y.return=v,v=y}return o(v);case qc:return M=b._init,m(v,y,M(b._payload),x)}if(Cm(b))return p(v,y,b,x);if(Yp(b))return g(v,y,b,x);j1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,b),y.return=v,v=y):(r(v,y),y=$w(b,v.mode,x),y.return=v,v=y),o(v)):r(v,y)}return m}var Pf=aO(!0),oO=aO(!1),Sy=Nu(null),Ey=null,pf=null,T6=null;function R6(){T6=pf=Ey=null}function P6(e){var t=Sy.current;Nn(Sy),e._currentValue=t}function x3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xf(e,t){Ey=e,T6=pf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qs=!0),e.firstContext=null)}function Va(e){var t=e._currentValue;if(T6!==e)if(e={context:e,memoizedValue:t,next:null},pf===null){if(Ey===null)throw Error(gt(308));pf=e,Ey.dependencies={lanes:0,firstContext:e}}else pf=pf.next=e;return t}var jd=null;function O6(e){jd===null?jd=[e]:jd.push(e)}function lO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,O6(t)):(r.next=i.next,i.next=r),t.interleaved=r,rc(e,n)}function rc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vc=!1;function I6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,rc(e,r)}return i=n.interleaved,i===null?(t.next=t,O6(n)):(t.next=i.next,i.next=t),n.interleaved=t,rc(e,r)}function Bv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b6(e,r)}}function Qk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ky(e,t,r,n){var i=e.updateQueue;Vc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,d=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Fn({},h,f);break e;case 2:Vc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zd|=o,e.lanes=o,e.memoizedState=h}}function eN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(gt(191,i));i.call(n)}}}var rg={},rl=Nu(rg),w0=Nu(rg),x0=Nu(rg);function Td(e){if(e===rg)throw Error(gt(174));return e}function M6(e,t){switch(wn(x0,t),wn(w0,e),wn(rl,rg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t3(t,e)}Nn(rl),wn(rl,t)}function Of(){Nn(rl),Nn(w0),Nn(x0)}function uO(e){Td(x0.current);var t=Td(rl.current),r=t3(t,e.type);t!==r&&(wn(w0,e),wn(rl,r))}function L6(e){w0.current===e&&(Nn(rl),Nn(w0))}var Ln=Nu(0);function Ny(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lw=[];function D6(){for(var e=0;e<Lw.length;e++)Lw[e]._workInProgressVersionPrimary=null;Lw.length=0}var Fv=ac.ReactCurrentDispatcher,Dw=ac.ReactCurrentBatchConfig,Xd=0,Bn=null,ji=null,Ui=null,Ay=!1,zm=!1,_0=0,BH=0;function cs(){throw Error(gt(321))}function B6(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_o(e[r],t[r]))return!1;return!0}function F6(e,t,r,n,i,s){if(Xd=s,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fv.current=e===null||e.memoizedState===null?$H:HH,e=r(n,i),zm){s=0;do{if(zm=!1,_0=0,25<=s)throw Error(gt(301));s+=1,Ui=ji=null,t.updateQueue=null,Fv.current=WH,e=r(n,i)}while(zm)}if(Fv.current=Cy,t=ji!==null&&ji.next!==null,Xd=0,Ui=ji=Bn=null,Ay=!1,t)throw Error(gt(300));return e}function z6(){var e=_0!==0;return _0=0,e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?Bn.memoizedState=Ui=e:Ui=Ui.next=e,Ui}function Ga(){if(ji===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=ji.next;var t=Ui===null?Bn.memoizedState:Ui.next;if(t!==null)Ui=t,ji=e;else{if(e===null)throw Error(gt(310));ji=e,e={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},Ui===null?Bn.memoizedState=Ui=e:Ui=Ui.next=e}return Ui}function S0(e,t){return typeof t=="function"?t(e):t}function Bw(e){var t=Ga(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=ji,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Xd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Bn.lanes|=u,Zd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,_o(n,t.memoizedState)||(qs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Bn.lanes|=s,Zd|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fw(e){var t=Ga(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);_o(s,t.memoizedState)||(qs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function dO(){}function hO(e,t){var r=Bn,n=Ga(),i=t(),s=!_o(n.memoizedState,i);if(s&&(n.memoizedState=i,qs=!0),n=n.queue,U6(mO.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ui!==null&&Ui.memoizedState.tag&1){if(r.flags|=2048,E0(9,pO.bind(null,r,n,i,t),void 0,null),Hi===null)throw Error(gt(349));Xd&30||fO(r,t,i)}return i}function fO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pO(e,t,r,n){t.value=r,t.getSnapshot=n,gO(t)&&vO(e)}function mO(e,t,r){return r(function(){gO(t)&&vO(e)})}function gO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_o(e,r)}catch{return!0}}function vO(e){var t=rc(e,1);t!==null&&yo(t,e,1,-1)}function tN(e){var t=$o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:e},t.queue=e,e=e.dispatch=UH.bind(null,Bn,e),[t.memoizedState,e]}function E0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yO(){return Ga().memoizedState}function zv(e,t,r,n){var i=$o();Bn.flags|=e,i.memoizedState=E0(1|t,r,void 0,n===void 0?null:n)}function vb(e,t,r,n){var i=Ga();n=n===void 0?null:n;var s=void 0;if(ji!==null){var o=ji.memoizedState;if(s=o.destroy,n!==null&&B6(n,o.deps)){i.memoizedState=E0(t,r,s,n);return}}Bn.flags|=e,i.memoizedState=E0(1|t,r,s,n)}function rN(e,t){return zv(8390656,8,e,t)}function U6(e,t){return vb(2048,8,e,t)}function bO(e,t){return vb(4,2,e,t)}function wO(e,t){return vb(4,4,e,t)}function xO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _O(e,t,r){return r=r!=null?r.concat([e]):null,vb(4,4,xO.bind(null,t,e),r)}function $6(){}function SO(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B6(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function EO(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B6(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kO(e,t,r){return Xd&21?(_o(r,t)||(r=TP(),Bn.lanes|=r,Zd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qs=!0),e.memoizedState=r)}function FH(e,t){var r=on;on=r!==0&&4>r?r:4,e(!0);var n=Dw.transition;Dw.transition={};try{e(!1),t()}finally{on=r,Dw.transition=n}}function NO(){return Ga().memoizedState}function zH(e,t,r){var n=du(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AO(e))CO(t,r);else if(r=lO(e,t,r,n),r!==null){var i=Cs();yo(r,e,n,i),jO(r,t,n)}}function UH(e,t,r){var n=du(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AO(e))CO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,_o(a,o)){var l=t.interleaved;l===null?(i.next=i,O6(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=lO(e,t,i,n),r!==null&&(i=Cs(),yo(r,e,n,i),jO(r,t,n))}}function AO(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function CO(e,t){zm=Ay=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b6(e,r)}}var Cy={readContext:Va,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useInsertionEffect:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useSyncExternalStore:cs,useId:cs,unstable_isNewReconciler:!1},$H={readContext:Va,useCallback:function(e,t){return $o().memoizedState=[e,t===void 0?null:t],e},useContext:Va,useEffect:rN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zv(4194308,4,xO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zv(4194308,4,e,t)},useInsertionEffect:function(e,t){return zv(4,2,e,t)},useMemo:function(e,t){var r=$o();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$o();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zH.bind(null,Bn,e),[n.memoizedState,e]},useRef:function(e){var t=$o();return e={current:e},t.memoizedState=e},useState:tN,useDebugValue:$6,useDeferredValue:function(e){return $o().memoizedState=e},useTransition:function(){var e=tN(!1),t=e[0];return e=FH.bind(null,e[1]),$o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bn,i=$o();if(Pn){if(r===void 0)throw Error(gt(407));r=r()}else{if(r=t(),Hi===null)throw Error(gt(349));Xd&30||fO(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,rN(mO.bind(null,n,s,e),[e]),n.flags|=2048,E0(9,pO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=$o(),t=Hi.identifierPrefix;if(Pn){var r=Wl,n=Hl;r=(n&~(1<<32-vo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BH++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HH={readContext:Va,useCallback:SO,useContext:Va,useEffect:U6,useImperativeHandle:_O,useInsertionEffect:bO,useLayoutEffect:wO,useMemo:EO,useReducer:Bw,useRef:yO,useState:function(){return Bw(S0)},useDebugValue:$6,useDeferredValue:function(e){var t=Ga();return kO(t,ji.memoizedState,e)},useTransition:function(){var e=Bw(S0)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:dO,useSyncExternalStore:hO,useId:NO,unstable_isNewReconciler:!1},WH={readContext:Va,useCallback:SO,useContext:Va,useEffect:U6,useImperativeHandle:_O,useInsertionEffect:bO,useLayoutEffect:wO,useMemo:EO,useReducer:Fw,useRef:yO,useState:function(){return Fw(S0)},useDebugValue:$6,useDeferredValue:function(e){var t=Ga();return ji===null?t.memoizedState=e:kO(t,ji.memoizedState,e)},useTransition:function(){var e=Fw(S0)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:dO,useSyncExternalStore:hO,useId:NO,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){t=Fn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yb={isMounted:function(e){return(e=e._reactInternals)?ah(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cs(),i=du(e),s=Xl(n,i);s.payload=t,r!=null&&(s.callback=r),t=cu(e,s,i),t!==null&&(yo(t,e,i,n),Bv(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cs(),i=du(e),s=Xl(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=cu(e,s,i),t!==null&&(yo(t,e,i,n),Bv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cs(),n=du(e),i=Xl(r,n);i.tag=2,t!=null&&(i.callback=t),t=cu(e,i,n),t!==null&&(yo(t,e,n,r),Bv(t,e,n))}};function nN(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!g0(r,n)||!g0(i,s):!0}function TO(e,t,r){var n=!1,i=wu,s=t.contextType;return typeof s=="object"&&s!==null?s=Va(s):(i=Xs(t)?Gd:gs.current,n=t.contextTypes,s=(n=n!=null)?Tf(e,i):wu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function iN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yb.enqueueReplaceState(t,t.state,null)}function S3(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},I6(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Va(s):(s=Xs(t)?Gd:gs.current,i.context=Tf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_3(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&yb.enqueueReplaceState(i,i.state,null),ky(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function If(e,t){try{var r="",n=t;do r+=y$(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function zw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function E3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qH=typeof WeakMap=="function"?WeakMap:Map;function RO(e,t,r){r=Xl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ty||(Ty=!0,I3=n),E3(e,t)},r}function PO(e,t,r){r=Xl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){E3(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){E3(e,t),typeof n!="function"&&(uu===null?uu=new Set([this]):uu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qH;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=sW.bind(null,e,t,r),t.then(e,e))}function aN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xl(-1,1),t.tag=2,cu(r,t,1))),r.lanes|=1),e)}var VH=ac.ReactCurrentOwner,qs=!1;function ks(e,t,r,n){t.child=e===null?oO(t,null,r,n):Pf(t,e.child,r,n)}function lN(e,t,r,n,i){r=r.render;var s=t.ref;return xf(t,i),n=F6(e,t,r,n,s,i),r=z6(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nc(e,t,i)):(Pn&&r&&A6(t),t.flags|=1,ks(e,t,n,i),t.child)}function cN(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Z6(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,OO(e,t,s,n,i)):(e=Wv(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:g0,r(o,n)&&e.ref===t.ref)return nc(e,t,i)}return t.flags|=1,e=hu(s,n),e.ref=t.ref,e.return=t,t.child=e}function OO(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(g0(s,n)&&e.ref===t.ref)if(qs=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(qs=!0);else return t.lanes=e.lanes,nc(e,t,i)}return k3(e,t,r,n,i)}function IO(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(gf,ma),ma|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wn(gf,ma),ma|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,wn(gf,ma),ma|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,wn(gf,ma),ma|=n;return ks(e,t,i,r),t.child}function MO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function k3(e,t,r,n,i){var s=Xs(r)?Gd:gs.current;return s=Tf(t,s),xf(t,i),r=F6(e,t,r,n,s,i),n=z6(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nc(e,t,i)):(Pn&&n&&A6(t),t.flags|=1,ks(e,t,r,i),t.child)}function uN(e,t,r,n,i){if(Xs(r)){var s=!0;wy(t)}else s=!1;if(xf(t,i),t.stateNode===null)Uv(e,t),TO(t,r,n),S3(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Va(c):(c=Xs(r)?Gd:gs.current,c=Tf(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&iN(t,o,n,c),Vc=!1;var f=t.memoizedState;o.state=f,ky(t,n,o,i),l=t.memoizedState,a!==n||f!==l||Ks.current||Vc?(typeof u=="function"&&(_3(t,r,u,n),l=t.memoizedState),(a=Vc||nN(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cO(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ho(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Va(l):(l=Xs(r)?Gd:gs.current,l=Tf(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&iN(t,o,n,l),Vc=!1,f=t.memoizedState,o.state=f,ky(t,n,o,i);var p=t.memoizedState;a!==h||f!==p||Ks.current||Vc?(typeof d=="function"&&(_3(t,r,d,n),p=t.memoizedState),(c=Vc||nN(t,r,c,n,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return N3(e,t,r,n,s,i)}function N3(e,t,r,n,i,s){MO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Xk(t,r,!1),nc(e,t,s);n=t.stateNode,VH.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Pf(t,e.child,null,s),t.child=Pf(t,null,a,s)):ks(e,t,a,s),t.memoizedState=n.state,i&&Xk(t,r,!0),t.child}function LO(e){var t=e.stateNode;t.pendingContext?Kk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kk(e,t.context,!1),M6(e,t.containerInfo)}function dN(e,t,r,n,i){return Rf(),j6(i),t.flags|=256,ks(e,t,r,n),t.child}var A3={dehydrated:null,treeContext:null,retryLane:0};function C3(e){return{baseLanes:e,cachePool:null,transitions:null}}function DO(e,t,r){var n=t.pendingProps,i=Ln.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),wn(Ln,i&1),e===null)return w3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xb(o,n,0,null),e=zd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=C3(r),t.memoizedState=A3,e):H6(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GH(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=hu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hu(a,s):(s=zd(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?C3(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=A3,n}return s=e.child,e=s.sibling,n=hu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function H6(e,t){return t=xb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function T1(e,t,r,n){return n!==null&&j6(n),Pf(t,e.child,null,r),e=H6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GH(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=zw(Error(gt(422))),T1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=xb({mode:"visible",children:n.children},i,0,null),s=zd(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Pf(t,e.child,null,o),t.child.memoizedState=C3(o),t.memoizedState=A3,s);if(!(t.mode&1))return T1(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(gt(419)),n=zw(s,n,void 0),T1(e,t,o,n)}if(a=(o&e.childLanes)!==0,qs||a){if(n=Hi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rc(e,i),yo(n,e,i,-1))}return X6(),n=zw(Error(gt(421))),T1(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aW.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ga=lu(i.nextSibling),ba=t,Pn=!0,mo=null,e!==null&&(Da[Ba++]=Hl,Da[Ba++]=Wl,Da[Ba++]=Kd,Hl=e.id,Wl=e.overflow,Kd=t),t=H6(t,n.children),t.flags|=4096,t)}function hN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),x3(e.return,t,r)}function Uw(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function BO(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ks(e,t,n.children,r),n=Ln.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hN(e,r,t);else if(e.tag===19)hN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(wn(Ln,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ny(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Uw(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ny(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Uw(t,!0,r,null,s);break;case"together":Uw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(gt(153));if(t.child!==null){for(e=t.child,r=hu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KH(e,t,r){switch(t.tag){case 3:LO(t),Rf();break;case 5:uO(t);break;case 1:Xs(t.type)&&wy(t);break;case 4:M6(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;wn(Sy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(wn(Ln,Ln.current&1),t.flags|=128,null):r&t.child.childLanes?DO(e,t,r):(wn(Ln,Ln.current&1),e=nc(e,t,r),e!==null?e.sibling:null);wn(Ln,Ln.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return BO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Ln,Ln.current),n)break;return null;case 22:case 23:return t.lanes=0,IO(e,t,r)}return nc(e,t,r)}var FO,j3,zO,UO;FO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};j3=function(){};zO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Td(rl.current);var s=null;switch(r){case"input":i=Y5(e,i),n=Y5(e,n),s=[];break;case"select":i=Fn({},i,{value:void 0}),n=Fn({},n,{value:void 0}),s=[];break;case"textarea":i=e3(e,i),n=e3(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yy)}r3(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(c0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(c0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};UO=function(e,t,r,n){r!==n&&(t.flags|=4)};function nm(e,t){if(!Pn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function us(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XH(e,t,r){var n=t.pendingProps;switch(C6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(t),null;case 1:return Xs(t.type)&&by(),us(t),null;case 3:return n=t.stateNode,Of(),Nn(Ks),Nn(gs),D6(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(C1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo!==null&&(D3(mo),mo=null))),j3(e,t),us(t),null;case 5:L6(t);var i=Td(x0.current);if(r=t.type,e!==null&&t.stateNode!=null)zO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return us(t),null}if(e=Td(rl.current),C1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Xo]=t,n[b0]=s,e=(t.mode&1)!==0,r){case"dialog":En("cancel",n),En("close",n);break;case"iframe":case"object":case"embed":En("load",n);break;case"video":case"audio":for(i=0;i<Tm.length;i++)En(Tm[i],n);break;case"source":En("error",n);break;case"img":case"image":case"link":En("error",n),En("load",n);break;case"details":En("toggle",n);break;case"input":xk(n,s),En("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},En("invalid",n);break;case"textarea":Sk(n,s),En("invalid",n)}r3(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&A1(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&A1(n.textContent,a,e),i=["children",""+a]):c0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",n)}switch(r){case"input":b1(n),_k(n,s,!0);break;case"textarea":b1(n),Ek(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xo]=t,e[b0]=n,FO(e,t,!1,!1),t.stateNode=e;e:{switch(o=n3(r,n),r){case"dialog":En("cancel",e),En("close",e),i=n;break;case"iframe":case"object":case"embed":En("load",e),i=n;break;case"video":case"audio":for(i=0;i<Tm.length;i++)En(Tm[i],e);i=n;break;case"source":En("error",e),i=n;break;case"img":case"image":case"link":En("error",e),En("load",e),i=n;break;case"details":En("toggle",e),i=n;break;case"input":xk(e,n),i=Y5(e,n),En("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Fn({},n,{value:void 0}),En("invalid",e);break;case"textarea":Sk(e,n),i=e3(e,n),En("invalid",e);break;default:i=n}r3(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yP(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gP(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&u0(e,l):typeof l=="number"&&u0(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(c0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",e):l!=null&&f6(e,s,l,o))}switch(r){case"input":b1(e),_k(e,n,!1);break;case"textarea":b1(e),Ek(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?vf(e,!!n.multiple,s,!1):n.defaultValue!=null&&vf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return us(t),null;case 6:if(e&&t.stateNode!=null)UO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(r=Td(x0.current),Td(rl.current),C1(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xo]=t,(s=n.nodeValue!==r)&&(e=ba,e!==null))switch(e.tag){case 3:A1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xo]=t,t.stateNode=n}return us(t),null;case 13:if(Nn(Ln),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pn&&ga!==null&&t.mode&1&&!(t.flags&128))sO(),Rf(),t.flags|=98560,s=!1;else if(s=C1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(gt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(gt(317));s[Xo]=t}else Rf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;us(t),s=!1}else mo!==null&&(D3(mo),mo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ln.current&1?Oi===0&&(Oi=3):X6())),t.updateQueue!==null&&(t.flags|=4),us(t),null);case 4:return Of(),j3(e,t),e===null&&v0(t.stateNode.containerInfo),us(t),null;case 10:return P6(t.type._context),us(t),null;case 17:return Xs(t.type)&&by(),us(t),null;case 19:if(Nn(Ln),s=t.memoizedState,s===null)return us(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)nm(s,!1);else{if(Oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ny(e),o!==null){for(t.flags|=128,nm(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wn(Ln,Ln.current&1|2),t.child}e=e.sibling}s.tail!==null&&ai()>Mf&&(t.flags|=128,n=!0,nm(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ny(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return us(t),null}else 2*ai()-s.renderingStartTime>Mf&&r!==1073741824&&(t.flags|=128,n=!0,nm(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ai(),t.sibling=null,r=Ln.current,wn(Ln,n?r&1|2:r&1),t):(us(t),null);case 22:case 23:return K6(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ma&1073741824&&(us(t),t.subtreeFlags&6&&(t.flags|=8192)):us(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function ZH(e,t){switch(C6(t),t.tag){case 1:return Xs(t.type)&&by(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Of(),Nn(Ks),Nn(gs),D6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return L6(t),null;case 13:if(Nn(Ln),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));Rf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nn(Ln),null;case 4:return Of(),null;case 10:return P6(t.type._context),null;case 22:case 23:return K6(),null;case 24:return null;default:return null}}var R1=!1,ms=!1,YH=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function mf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gn(e,t,n)}else r.current=null}function T3(e,t,r){try{r()}catch(n){Gn(e,t,n)}}var fN=!1;function JH(e,t){if(f3=my,e=VP(),N6(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(p3={focusedElem:e,selectionRange:r},my=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(x){Gn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return p=fN,fN=!1,p}function Um(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&T3(t,r,s)}i=i.next}while(i!==n)}}function bb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function R3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $O(e){var t=e.alternate;t!==null&&(e.alternate=null,$O(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xo],delete t[b0],delete t[v3],delete t[IH],delete t[MH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HO(e){return e.tag===5||e.tag===3||e.tag===4}function pN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yy));else if(n!==4&&(e=e.child,e!==null))for(P3(e,t,r),e=e.sibling;e!==null;)P3(e,t,r),e=e.sibling}function O3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(O3(e,t,r),e=e.sibling;e!==null;)O3(e,t,r),e=e.sibling}var Xi=null,fo=!1;function Ic(e,t,r){for(r=r.child;r!==null;)WO(e,t,r),r=r.sibling}function WO(e,t,r){if(tl&&typeof tl.onCommitFiberUnmount=="function")try{tl.onCommitFiberUnmount(db,r)}catch{}switch(r.tag){case 5:ms||mf(r,t);case 6:var n=Xi,i=fo;Xi=null,Ic(e,t,r),Xi=n,fo=i,Xi!==null&&(fo?(e=Xi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xi.removeChild(r.stateNode));break;case 18:Xi!==null&&(fo?(e=Xi,r=r.stateNode,e.nodeType===8?Iw(e.parentNode,r):e.nodeType===1&&Iw(e,r),p0(e)):Iw(Xi,r.stateNode));break;case 4:n=Xi,i=fo,Xi=r.stateNode.containerInfo,fo=!0,Ic(e,t,r),Xi=n,fo=i;break;case 0:case 11:case 14:case 15:if(!ms&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T3(r,t,o),i=i.next}while(i!==n)}Ic(e,t,r);break;case 1:if(!ms&&(mf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gn(r,t,a)}Ic(e,t,r);break;case 21:Ic(e,t,r);break;case 22:r.mode&1?(ms=(n=ms)||r.memoizedState!==null,Ic(e,t,r),ms=n):Ic(e,t,r);break;default:Ic(e,t,r)}}function mN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YH),t.forEach(function(n){var i=oW.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xi=a.stateNode,fo=!1;break e;case 3:Xi=a.stateNode.containerInfo,fo=!0;break e;case 4:Xi=a.stateNode.containerInfo,fo=!0;break e}a=a.return}if(Xi===null)throw Error(gt(160));WO(s,o,i),Xi=null,fo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qO(t,e),t=t.sibling}function qO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oo(t,e),Do(e),n&4){try{Um(3,e,e.return),bb(3,e)}catch(g){Gn(e,e.return,g)}try{Um(5,e,e.return)}catch(g){Gn(e,e.return,g)}}break;case 1:oo(t,e),Do(e),n&512&&r!==null&&mf(r,r.return);break;case 5:if(oo(t,e),Do(e),n&512&&r!==null&&mf(r,r.return),e.flags&32){var i=e.stateNode;try{u0(i,"")}catch(g){Gn(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fP(i,s),n3(a,o);var c=n3(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?yP(i,h):u==="dangerouslySetInnerHTML"?gP(i,h):u==="children"?u0(i,h):f6(i,u,h,c)}switch(a){case"input":J5(i,s);break;case"textarea":pP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?vf(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?vf(i,!!s.multiple,s.defaultValue,!0):vf(i,!!s.multiple,s.multiple?[]:"",!1))}i[b0]=s}catch(g){Gn(e,e.return,g)}}break;case 6:if(oo(t,e),Do(e),n&4){if(e.stateNode===null)throw Error(gt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Gn(e,e.return,g)}}break;case 3:if(oo(t,e),Do(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{p0(t.containerInfo)}catch(g){Gn(e,e.return,g)}break;case 4:oo(t,e),Do(e);break;case 13:oo(t,e),Do(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(V6=ai())),n&4&&mN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ms=(c=ms)||u,oo(t,e),ms=c):oo(t,e),Do(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Rt=e,u=e.child;u!==null;){for(h=Rt=u;Rt!==null;){switch(f=Rt,d=f.child,f.tag){case 0:case 11:case 14:case 15:Um(4,f,f.return);break;case 1:mf(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Gn(n,r,g)}}break;case 5:mf(f,f.return);break;case 22:if(f.memoizedState!==null){vN(h);continue}}d!==null?(d.return=f,Rt=d):vN(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vP("display",o))}catch(g){Gn(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Gn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:oo(t,e),Do(e),n&4&&mN(e);break;case 21:break;default:oo(t,e),Do(e)}}function Do(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(HO(r)){var n=r;break e}r=r.return}throw Error(gt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(u0(i,""),n.flags&=-33);var s=pN(e);O3(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=pN(e);P3(e,a,o);break;default:throw Error(gt(161))}}catch(l){Gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QH(e,t,r){Rt=e,VO(e)}function VO(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var i=Rt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||R1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ms;a=R1;var c=ms;if(R1=o,(ms=l)&&!c)for(Rt=i;Rt!==null;)o=Rt,l=o.child,o.tag===22&&o.memoizedState!==null?yN(i):l!==null?(l.return=o,Rt=l):yN(i);for(;s!==null;)Rt=s,VO(s),s=s.sibling;Rt=i,R1=a,ms=c}gN(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Rt=s):gN(e)}}function gN(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ms||bb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ms)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ho(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&eN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eN(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&p0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}ms||t.flags&512&&R3(t)}catch(f){Gn(t,t.return,f)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function vN(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function yN(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bb(4,t)}catch(l){Gn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Gn(t,i,l)}}var s=t.return;try{R3(t)}catch(l){Gn(t,s,l)}break;case 5:var o=t.return;try{R3(t)}catch(l){Gn(t,o,l)}}}catch(l){Gn(t,t.return,l)}if(t===e){Rt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Rt=a;break}Rt=t.return}}var eW=Math.ceil,jy=ac.ReactCurrentDispatcher,W6=ac.ReactCurrentOwner,Wa=ac.ReactCurrentBatchConfig,Xr=0,Hi=null,vi=null,rs=0,ma=0,gf=Nu(0),Oi=0,k0=null,Zd=0,wb=0,q6=0,$m=null,Hs=null,V6=0,Mf=1/0,Ll=null,Ty=!1,I3=null,uu=null,P1=!1,eu=null,Ry=0,Hm=0,M3=null,$v=-1,Hv=0;function Cs(){return Xr&6?ai():$v!==-1?$v:$v=ai()}function du(e){return e.mode&1?Xr&2&&rs!==0?rs&-rs:DH.transition!==null?(Hv===0&&(Hv=TP()),Hv):(e=on,e!==0||(e=window.event,e=e===void 0?16:DP(e.type)),e):1}function yo(e,t,r,n){if(50<Hm)throw Hm=0,M3=null,Error(gt(185));Q0(e,r,n),(!(Xr&2)||e!==Hi)&&(e===Hi&&(!(Xr&2)&&(wb|=r),Oi===4&&Xc(e,rs)),Zs(e,n),r===1&&Xr===0&&!(t.mode&1)&&(Mf=ai()+500,gb&&Au()))}function Zs(e,t){var r=e.callbackNode;D$(e,t);var n=py(e,e===Hi?rs:0);if(n===0)r!==null&&Ak(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ak(r),t===1)e.tag===0?LH(bN.bind(null,e)):rO(bN.bind(null,e)),PH(function(){!(Xr&6)&&Au()}),r=null;else{switch(RP(n)){case 1:r=y6;break;case 4:r=CP;break;case 16:r=fy;break;case 536870912:r=jP;break;default:r=fy}r=eI(r,GO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function GO(e,t){if($v=-1,Hv=0,Xr&6)throw Error(gt(327));var r=e.callbackNode;if(_f()&&e.callbackNode!==r)return null;var n=py(e,e===Hi?rs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Py(e,n);else{t=n;var i=Xr;Xr|=2;var s=XO();(Hi!==e||rs!==t)&&(Ll=null,Mf=ai()+500,Fd(e,t));do try{nW();break}catch(a){KO(e,a)}while(!0);R6(),jy.current=s,Xr=i,vi!==null?t=0:(Hi=null,rs=0,t=Oi)}if(t!==0){if(t===2&&(i=l3(e),i!==0&&(n=i,t=L3(e,i))),t===1)throw r=k0,Fd(e,0),Xc(e,n),Zs(e,ai()),r;if(t===6)Xc(e,n);else{if(i=e.current.alternate,!(n&30)&&!tW(i)&&(t=Py(e,n),t===2&&(s=l3(e),s!==0&&(n=s,t=L3(e,s))),t===1))throw r=k0,Fd(e,0),Xc(e,n),Zs(e,ai()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:xd(e,Hs,Ll);break;case 3:if(Xc(e,n),(n&130023424)===n&&(t=V6+500-ai(),10<t)){if(py(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Cs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=g3(xd.bind(null,e,Hs,Ll),t);break}xd(e,Hs,Ll);break;case 4:if(Xc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-vo(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ai()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eW(n/1960))-n,10<n){e.timeoutHandle=g3(xd.bind(null,e,Hs,Ll),n);break}xd(e,Hs,Ll);break;case 5:xd(e,Hs,Ll);break;default:throw Error(gt(329))}}}return Zs(e,ai()),e.callbackNode===r?GO.bind(null,e):null}function L3(e,t){var r=$m;return e.current.memoizedState.isDehydrated&&(Fd(e,t).flags|=256),e=Py(e,t),e!==2&&(t=Hs,Hs=r,t!==null&&D3(t)),e}function D3(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function tW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!_o(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t){for(t&=~q6,t&=~wb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vo(t),n=1<<r;e[r]=-1,t&=~n}}function bN(e){if(Xr&6)throw Error(gt(327));_f();var t=py(e,0);if(!(t&1))return Zs(e,ai()),null;var r=Py(e,t);if(e.tag!==0&&r===2){var n=l3(e);n!==0&&(t=n,r=L3(e,n))}if(r===1)throw r=k0,Fd(e,0),Xc(e,t),Zs(e,ai()),r;if(r===6)throw Error(gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xd(e,Hs,Ll),Zs(e,ai()),null}function G6(e,t){var r=Xr;Xr|=1;try{return e(t)}finally{Xr=r,Xr===0&&(Mf=ai()+500,gb&&Au())}}function Yd(e){eu!==null&&eu.tag===0&&!(Xr&6)&&_f();var t=Xr;Xr|=1;var r=Wa.transition,n=on;try{if(Wa.transition=null,on=1,e)return e()}finally{on=n,Wa.transition=r,Xr=t,!(Xr&6)&&Au()}}function K6(){ma=gf.current,Nn(gf)}function Fd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RH(r)),vi!==null)for(r=vi.return;r!==null;){var n=r;switch(C6(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&by();break;case 3:Of(),Nn(Ks),Nn(gs),D6();break;case 5:L6(n);break;case 4:Of();break;case 13:Nn(Ln);break;case 19:Nn(Ln);break;case 10:P6(n.type._context);break;case 22:case 23:K6()}r=r.return}if(Hi=e,vi=e=hu(e.current,null),rs=ma=t,Oi=0,k0=null,q6=wb=Zd=0,Hs=$m=null,jd!==null){for(t=0;t<jd.length;t++)if(r=jd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}jd=null}return e}function KO(e,t){do{var r=vi;try{if(R6(),Fv.current=Cy,Ay){for(var n=Bn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ay=!1}if(Xd=0,Ui=ji=Bn=null,zm=!1,_0=0,W6.current=null,r===null||r.return===null){Oi=1,k0=t,vi=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=rs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=aN(o);if(d!==null){d.flags&=-257,oN(d,o,a,s,t),d.mode&1&&sN(s,c,t),t=d,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){sN(s,c,t),X6();break e}l=Error(gt(426))}}else if(Pn&&a.mode&1){var m=aN(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),oN(m,o,a,s,t),j6(If(l,a));break e}}s=l=If(l,a),Oi!==4&&(Oi=2),$m===null?$m=[s]:$m.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=RO(s,l,t);Qk(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(uu===null||!uu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=PO(s,a,t);Qk(s,x);break e}}s=s.return}while(s!==null)}YO(r)}catch(_){t=_,vi===r&&r!==null&&(vi=r=r.return);continue}break}while(!0)}function XO(){var e=jy.current;return jy.current=Cy,e===null?Cy:e}function X6(){(Oi===0||Oi===3||Oi===2)&&(Oi=4),Hi===null||!(Zd&268435455)&&!(wb&268435455)||Xc(Hi,rs)}function Py(e,t){var r=Xr;Xr|=2;var n=XO();(Hi!==e||rs!==t)&&(Ll=null,Fd(e,t));do try{rW();break}catch(i){KO(e,i)}while(!0);if(R6(),Xr=r,jy.current=n,vi!==null)throw Error(gt(261));return Hi=null,rs=0,Oi}function rW(){for(;vi!==null;)ZO(vi)}function nW(){for(;vi!==null&&!C$();)ZO(vi)}function ZO(e){var t=QO(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?YO(e):vi=t,W6.current=null}function YO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZH(r,t),r!==null){r.flags&=32767,vi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oi=6,vi=null;return}}else if(r=XH(r,t,ma),r!==null){vi=r;return}if(t=t.sibling,t!==null){vi=t;return}vi=t=e}while(t!==null);Oi===0&&(Oi=5)}function xd(e,t,r){var n=on,i=Wa.transition;try{Wa.transition=null,on=1,iW(e,t,r,n)}finally{Wa.transition=i,on=n}return null}function iW(e,t,r,n){do _f();while(eu!==null);if(Xr&6)throw Error(gt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(gt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(B$(e,s),e===Hi&&(vi=Hi=null,rs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||P1||(P1=!0,eI(fy,function(){return _f(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var o=on;on=1;var a=Xr;Xr|=4,W6.current=null,JH(e,r),qO(r,e),EH(p3),my=!!f3,p3=f3=null,e.current=r,QH(r),j$(),Xr=a,on=o,Wa.transition=s}else e.current=r;if(P1&&(P1=!1,eu=e,Ry=i),s=e.pendingLanes,s===0&&(uu=null),P$(r.stateNode),Zs(e,ai()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ty)throw Ty=!1,e=I3,I3=null,e;return Ry&1&&e.tag!==0&&_f(),s=e.pendingLanes,s&1?e===M3?Hm++:(Hm=0,M3=e):Hm=0,Au(),null}function _f(){if(eu!==null){var e=RP(Ry),t=Wa.transition,r=on;try{if(Wa.transition=null,on=16>e?16:e,eu===null)var n=!1;else{if(e=eu,eu=null,Ry=0,Xr&6)throw Error(gt(331));var i=Xr;for(Xr|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Um(8,u,s)}var h=u.child;if(h!==null)h.return=u,Rt=h;else for(;Rt!==null;){u=Rt;var f=u.sibling,d=u.return;if($O(u),u===c){Rt=null;break}if(f!==null){f.return=d,Rt=f;break}Rt=d}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Um(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Rt=v;break e}Rt=s.return}}var y=e.current;for(Rt=y;Rt!==null;){o=Rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Rt=b;else e:for(o=y;Rt!==null;){if(a=Rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bb(9,a)}}catch(_){Gn(a,a.return,_)}if(a===o){Rt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Rt=x;break e}Rt=a.return}}if(Xr=i,Au(),tl&&typeof tl.onPostCommitFiberRoot=="function")try{tl.onPostCommitFiberRoot(db,e)}catch{}n=!0}return n}finally{on=r,Wa.transition=t}}return!1}function wN(e,t,r){t=If(r,t),t=RO(e,t,1),e=cu(e,t,1),t=Cs(),e!==null&&(Q0(e,1,t),Zs(e,t))}function Gn(e,t,r){if(e.tag===3)wN(e,e,r);else for(;t!==null;){if(t.tag===3){wN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(uu===null||!uu.has(n))){e=If(r,e),e=PO(t,e,1),t=cu(t,e,1),e=Cs(),t!==null&&(Q0(t,1,e),Zs(t,e));break}}t=t.return}}function sW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cs(),e.pingedLanes|=e.suspendedLanes&r,Hi===e&&(rs&r)===r&&(Oi===4||Oi===3&&(rs&130023424)===rs&&500>ai()-V6?Fd(e,0):q6|=r),Zs(e,t)}function JO(e,t){t===0&&(e.mode&1?(t=_1,_1<<=1,!(_1&130023424)&&(_1=4194304)):t=1);var r=Cs();e=rc(e,t),e!==null&&(Q0(e,t,r),Zs(e,r))}function aW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),JO(e,r)}function oW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),JO(e,r)}var QO;QO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ks.current)qs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qs=!1,KH(e,t,r);qs=!!(e.flags&131072)}else qs=!1,Pn&&t.flags&1048576&&nO(t,_y,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Uv(e,t),e=t.pendingProps;var i=Tf(t,gs.current);xf(t,r),i=F6(null,t,n,e,i,r);var s=z6();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xs(n)?(s=!0,wy(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I6(t),i.updater=yb,t.stateNode=i,i._reactInternals=t,S3(t,n,e,r),t=N3(null,t,n,!0,s,r)):(t.tag=0,Pn&&s&&A6(t),ks(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Uv(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=cW(n),e=ho(n,e),i){case 0:t=k3(null,t,n,e,r);break e;case 1:t=uN(null,t,n,e,r);break e;case 11:t=lN(null,t,n,e,r);break e;case 14:t=cN(null,t,n,ho(n.type,e),r);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),k3(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),uN(e,t,n,i,r);case 3:e:{if(LO(t),e===null)throw Error(gt(387));n=t.pendingProps,s=t.memoizedState,i=s.element,cO(e,t),ky(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=If(Error(gt(423)),t),t=dN(e,t,n,r,i);break e}else if(n!==i){i=If(Error(gt(424)),t),t=dN(e,t,n,r,i);break e}else for(ga=lu(t.stateNode.containerInfo.firstChild),ba=t,Pn=!0,mo=null,r=oO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rf(),n===i){t=nc(e,t,r);break e}ks(e,t,n,r)}t=t.child}return t;case 5:return uO(t),e===null&&w3(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,m3(n,i)?o=null:s!==null&&m3(n,s)&&(t.flags|=32),MO(e,t),ks(e,t,o,r),t.child;case 6:return e===null&&w3(t),null;case 13:return DO(e,t,r);case 4:return M6(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pf(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),lN(e,t,n,i,r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:return ks(e,t,t.pendingProps.children,r),t.child;case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,wn(Sy,n._currentValue),n._currentValue=o,s!==null)if(_o(s.value,o)){if(s.children===i.children&&!Ks.current){t=nc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Xl(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),x3(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(gt(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),x3(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ks(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,xf(t,r),i=Va(i),n=n(i),t.flags|=1,ks(e,t,n,r),t.child;case 14:return n=t.type,i=ho(n,t.pendingProps),i=ho(n.type,i),cN(e,t,n,i,r);case 15:return OO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),Uv(e,t),t.tag=1,Xs(n)?(e=!0,wy(t)):e=!1,xf(t,r),TO(t,n,i),S3(t,n,i,r),N3(null,t,n,!0,e,r);case 19:return BO(e,t,r);case 22:return IO(e,t,r)}throw Error(gt(156,t.tag))};function eI(e,t){return AP(e,t)}function lW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,r,n){return new lW(e,t,r,n)}function Z6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cW(e){if(typeof e=="function")return Z6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m6)return 11;if(e===g6)return 14}return 2}function hu(e,t){var r=e.alternate;return r===null?(r=Ua(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wv(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Z6(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case af:return zd(r.children,i,s,t);case p6:o=8,i|=8;break;case G5:return e=Ua(12,r,t,i|2),e.elementType=G5,e.lanes=s,e;case K5:return e=Ua(13,r,t,i),e.elementType=K5,e.lanes=s,e;case X5:return e=Ua(19,r,t,i),e.elementType=X5,e.lanes=s,e;case uP:return xb(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lP:o=10;break e;case cP:o=9;break e;case m6:o=11;break e;case g6:o=14;break e;case qc:o=16,n=null;break e}throw Error(gt(130,e==null?e:typeof e,""))}return t=Ua(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function zd(e,t,r,n){return e=Ua(7,e,n,t),e.lanes=r,e}function xb(e,t,r,n){return e=Ua(22,e,n,t),e.elementType=uP,e.lanes=r,e.stateNode={isHidden:!1},e}function $w(e,t,r){return e=Ua(6,e,null,t),e.lanes=r,e}function Hw(e,t,r){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uW(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sw(0),this.expirationTimes=Sw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y6(e,t,r,n,i,s,o,a,l){return e=new uW(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ua(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I6(s),e}function dW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tI(e){if(!e)return wu;e=e._reactInternals;e:{if(ah(e)!==e||e.tag!==1)throw Error(gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(e.tag===1){var r=e.type;if(Xs(r))return tO(e,r,t)}return t}function rI(e,t,r,n,i,s,o,a,l){return e=Y6(r,n,!0,e,i,s,o,a,l),e.context=tI(null),r=e.current,n=Cs(),i=du(r),s=Xl(n,i),s.callback=t??null,cu(r,s,i),e.current.lanes=i,Q0(e,i,n),Zs(e,n),e}function _b(e,t,r,n){var i=t.current,s=Cs(),o=du(i);return r=tI(r),t.context===null?t.context=r:t.pendingContext=r,t=Xl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cu(i,t,o),e!==null&&(yo(e,i,o,s),Bv(e,i,o)),o}function Oy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function J6(e,t){xN(e,t),(e=e.alternate)&&xN(e,t)}function hW(){return null}var nI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Q6(e){this._internalRoot=e}Sb.prototype.render=Q6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(gt(409));_b(e,t,null,null)};Sb.prototype.unmount=Q6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yd(function(){_b(null,e,null,null)}),t[tc]=null}};function Sb(e){this._internalRoot=e}Sb.prototype.unstable_scheduleHydration=function(e){if(e){var t=IP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kc.length&&t!==0&&t<Kc[r].priority;r++);Kc.splice(r,0,e),r===0&&LP(e)}};function e8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _N(){}function fW(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Oy(o);s.call(c)}}var o=rI(t,n,e,0,null,!1,!1,"",_N);return e._reactRootContainer=o,e[tc]=o.current,v0(e.nodeType===8?e.parentNode:e),Yd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Oy(l);a.call(c)}}var l=Y6(e,0,!1,null,null,!1,!1,"",_N);return e._reactRootContainer=l,e[tc]=l.current,v0(e.nodeType===8?e.parentNode:e),Yd(function(){_b(t,l,r,n)}),l}function kb(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Oy(o);a.call(l)}}_b(t,o,e,i)}else o=fW(r,t,e,i,n);return Oy(o)}PP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jm(t.pendingLanes);r!==0&&(b6(t,r|1),Zs(t,ai()),!(Xr&6)&&(Mf=ai()+500,Au()))}break;case 13:Yd(function(){var n=rc(e,1);if(n!==null){var i=Cs();yo(n,e,1,i)}}),J6(e,1)}};w6=function(e){if(e.tag===13){var t=rc(e,134217728);if(t!==null){var r=Cs();yo(t,e,134217728,r)}J6(e,134217728)}};OP=function(e){if(e.tag===13){var t=du(e),r=rc(e,t);if(r!==null){var n=Cs();yo(r,e,t,n)}J6(e,t)}};IP=function(){return on};MP=function(e,t){var r=on;try{return on=e,t()}finally{on=r}};s3=function(e,t,r){switch(t){case"input":if(J5(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=mb(n);if(!i)throw Error(gt(90));hP(n),J5(n,i)}}}break;case"textarea":pP(e,r);break;case"select":t=r.value,t!=null&&vf(e,!!r.multiple,t,!1)}};xP=G6;_P=Yd;var pW={usingClientEntryPoint:!1,Events:[tg,uf,mb,bP,wP,G6]},im={findFiberByHostInstance:Cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mW={bundleType:im.bundleType,version:im.version,rendererPackageName:im.rendererPackageName,rendererConfig:im.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kP(e),e===null?null:e.stateNode},findFiberByHostInstance:im.findFiberByHostInstance||hW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O1.isDisabled&&O1.supportsFiber)try{db=O1.inject(mW),tl=O1}catch{}}xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pW;xa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e8(t))throw Error(gt(200));return dW(e,t,null,r)};xa.createRoot=function(e,t){if(!e8(e))throw Error(gt(299));var r=!1,n="",i=nI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Y6(e,1,!1,null,null,r,!1,n,i),e[tc]=t.current,v0(e.nodeType===8?e.parentNode:e),new Q6(t)};xa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(gt(188)):(e=Object.keys(e).join(","),Error(gt(268,e)));return e=kP(t),e=e===null?null:e.stateNode,e};xa.flushSync=function(e){return Yd(e)};xa.hydrate=function(e,t,r){if(!Eb(t))throw Error(gt(200));return kb(null,e,t,!0,r)};xa.hydrateRoot=function(e,t,r){if(!e8(e))throw Error(gt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=nI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rI(t,null,e,1,r??null,i,!1,s,o),e[tc]=t.current,v0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Sb(t)};xa.render=function(e,t,r){if(!Eb(t))throw Error(gt(200));return kb(null,e,t,!1,r)};xa.unmountComponentAtNode=function(e){if(!Eb(e))throw Error(gt(40));return e._reactRootContainer?(Yd(function(){kb(null,null,e,!1,function(){e._reactRootContainer=null,e[tc]=null})}),!0):!1};xa.unstable_batchedUpdates=G6;xa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Eb(r))throw Error(gt(200));if(e==null||e._reactInternals===void 0)throw Error(gt(38));return kb(e,t,r,!1,n)};xa.version="18.3.1-next-f1338f8080-20240426";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(e){console.error(e)}}iI(),iP.exports=xa;var sI=iP.exports,aI,SN=sI;aI=SN.createRoot,SN.hydrateRoot;const gW="modulepreload",vW=function(e){return"/"+e},EN={},Zl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=vW(l),l in EN)return;EN[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":gW,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},yW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zl(async()=>{const{default:n}=await Promise.resolve().then(()=>op);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class t8 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class bW extends t8{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kN extends t8{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NN extends t8{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var B3;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(B3||(B3={}));var wW=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class xW{constructor(t,{headers:r={},customFetch:n,region:i=B3.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=yW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return wW(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(g=>{throw new bW(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new kN(h);if(!h.ok)throw new NN(h);let d=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield h.json():d==="application/octet-stream"?p=yield h.blob():d==="text/event-stream"?p=h:d==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof NN||i instanceof kN?i.context:void 0}}})}}var Ws={},r8={},Nb={},ng={},Ab={},Cb={},_W=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lf=_W();const SW=Lf.fetch,oI=Lf.fetch.bind(Lf),lI=Lf.Headers,EW=Lf.Request,kW=Lf.Response,op=Object.freeze(Object.defineProperty({__proto__:null,Headers:lI,Request:EW,Response:kW,default:oI,fetch:SW},Symbol.toStringTag,{value:"Module"})),NW=WU(op);var jb={};Object.defineProperty(jb,"__esModule",{value:!0});let AW=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jb.default=AW;var cI=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cb,"__esModule",{value:!0});const CW=cI(NW),jW=cI(jb);let TW=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=CW.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,c;let u=null,h=null,f=null,d=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,d=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(h=[],u=null,d=200,p="OK")}catch{s.status===404&&m===""?(d=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,p="OK"),u&&this.shouldThrowOnError)throw new jW.default(u)}return{error:u,data:h,count:f,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Cb.default=TW;var RW=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ab,"__esModule",{value:!0});const PW=RW(Cb);let OW=class extends PW.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ab.default=OW;var IW=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ng,"__esModule",{value:!0});const MW=IW(Ab);let LW=class extends MW.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ng.default=LW;var DW=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const sm=DW(ng);let BW=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new sm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new sm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new sm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new sm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new sm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Nb.default=BW;var uI=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r8,"__esModule",{value:!0});const FW=uI(Nb),zW=uI(ng);let UW=class dI{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new FW.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=r);const u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new zW.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};r8.default=UW;var lp=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.PostgrestError=Ws.PostgrestBuilder=Ws.PostgrestTransformBuilder=Ws.PostgrestFilterBuilder=Ws.PostgrestQueryBuilder=Ws.PostgrestClient=void 0;const hI=lp(r8);Ws.PostgrestClient=hI.default;const fI=lp(Nb);Ws.PostgrestQueryBuilder=fI.default;const pI=lp(ng);Ws.PostgrestFilterBuilder=pI.default;const mI=lp(Ab);Ws.PostgrestTransformBuilder=mI.default;const gI=lp(Cb);Ws.PostgrestBuilder=gI.default;const vI=lp(jb);Ws.PostgrestError=vI.default;var $W=Ws.default={PostgrestClient:hI.default,PostgrestQueryBuilder:fI.default,PostgrestFilterBuilder:pI.default,PostgrestTransformBuilder:mI.default,PostgrestBuilder:gI.default,PostgrestError:vI.default};const{PostgrestClient:HW,PostgrestQueryBuilder:hge,PostgrestFilterBuilder:fge,PostgrestTransformBuilder:pge,PostgrestBuilder:mge,PostgrestError:gge}=$W;class WW{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qW="2.15.5",VW=`realtime-js/${qW}`,GW="1.0.0",F3=1e4,KW=1e3,XW=100;var Wm;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wm||(Wm={}));var Ai;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ai||(Ai={}));var po;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(po||(po={}));var z3;(function(e){e.websocket="websocket"})(z3||(z3={}));var Nd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nd||(Nd={}));class ZW{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class yI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bn||(bn={}));const AN=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=YW(o,e,t,i),s),{})},YW=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?bI(s,o):U3(o)},bI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return tq(t,r)}switch(e){case bn.bool:return JW(t);case bn.float4:case bn.float8:case bn.int2:case bn.int4:case bn.int8:case bn.numeric:case bn.oid:return QW(t);case bn.json:case bn.jsonb:return eq(t);case bn.timestamp:return rq(t);case bn.abstime:case bn.date:case bn.daterange:case bn.int4range:case bn.int8range:case bn.money:case bn.reltime:case bn.text:case bn.time:case bn.timestamptz:case bn.timetz:case bn.tsrange:case bn.tstzrange:return U3(t);default:return U3(t)}},U3=e=>e,JW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},QW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tq=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>bI(t,a))}return e},rq=e=>typeof e=="string"?e.replace(" ","T"):e,wI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ww{constructor(t,r,n={},i=F3){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var CN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(CN||(CN={}));class qm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qm.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=qm.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qm.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const f=u.map(m=>m.presence_ref),d=h.map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0),g=h.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jN||(jN={}));var Vm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vm||(Vm={}));var Dl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dl||(Dl={}));class n8{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ai.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ww(this,po.join,this.params,this.timeout),this.rejoinTimer=new yI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ai.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ai.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this._on(po.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new qm(this),this.broadcastEndpointURL=wI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ai.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Vm.PRESENCE]&&this.bindings[Vm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(Dl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dl.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(Dl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let y=0;y<m;y++){const b=g[y],{filter:{event:x,schema:_,table:M,filter:U}}=b,L=d&&d[y];if(L&&L.event===x&&L.schema===_&&L.table===M&&L.filter===U)v.push(Object.assign(Object.assign({},b),{id:L.id}));else{this.unsubscribe(),this.state=Ai.errored,t==null||t(Dl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Dl.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ai.errored,t==null||t(Dl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ai.joined&&t===Vm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ai.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(po.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ww(this,po.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ai.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ww(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=po;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var p,g,m;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=d.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(d=>d.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var p,g,m,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const x=d.id,_=(p=d.filter)===null||p===void 0?void 0:p.event;return x&&((g=r.ids)===null||g===void 0?void 0:g.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:v,type:y,errors:b}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}d.callback(f,n)})}_isClosed(){return this.state===Ai.closed}_isJoined(){return this.state===Ai.joined}_isJoining(){return this.state===Ai.joining}_isLeaving(){return this.state===Ai.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&n8.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(po.close,{},t)}_onError(t){this._on(po.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ai.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=AN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=AN(t.columns,t.old_record)),r}}const qw=()=>{},I1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nq=[1e3,2e3,5e3,1e4],iq=1e4,sq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F3,this.transport=null,this.heartbeatIntervalMs=I1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qw,this.ref=0,this.reconnectTimer=null,this.logger=qw,this.conn=null,this.sendBuffer=[],this.serializer=new ZW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Zl(async()=>{const{default:a}=await Promise.resolve().then(()=>op);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${z3.websocket}`,this.httpEndpoint=wI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GW}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wm.connecting:return Nd.Connecting;case Wm.open:return Nd.Open;case Wm.closing:return Nd.Closing;default:return Nd.Closed}}isConnected(){return this.connectionState()===Nd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new n8(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(KW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},I1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(po.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:VW};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(po.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},I1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,a,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:F3,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:I1.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:qw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>nq[h-1]||iq,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class i8 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ci(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oq extends i8{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $3 extends i8{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const xI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zl(async()=>{const{default:n}=await Promise.resolve().then(()=>op);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cq=()=>lq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zl(()=>Promise.resolve().then(()=>op),void 0)).Response:Response}),H3=e=>{if(Array.isArray(e))return e.map(r=>H3(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=H3(n)}),t},uq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var oh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Vw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dq=(e,t,r)=>oh(void 0,void 0,void 0,function*(){const n=yield cq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new oq(Vw(i),s,o))}).catch(i=>{t(new $3(Vw(i),i))}):t(new $3(Vw(e),e))}),hq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(uq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ig(e,t,r,n,i,s){return oh(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,hq(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dq(l,a,n))})})}function Iy(e,t,r,n){return oh(this,void 0,void 0,function*(){return ig(e,"GET",t,r,n)})}function Ho(e,t,r,n,i){return oh(this,void 0,void 0,function*(){return ig(e,"POST",t,n,i,r)})}function W3(e,t,r,n,i){return oh(this,void 0,void 0,function*(){return ig(e,"PUT",t,n,i,r)})}function fq(e,t,r,n){return oh(this,void 0,void 0,function*(){return ig(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _I(e,t,r,n,i){return oh(this,void 0,void 0,function*(){return ig(e,"DELETE",t,n,i,r)})}var Ss=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const pq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mq{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=xI(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ss(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},TN),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(t=="PUT"?W3:Ho)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ci(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ss(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:TN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield W3(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ci(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ss(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ho(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new i8("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ss(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ss(this,void 0,void 0,function*(){try{return{data:{path:(yield Ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ss(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ho(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ss(this,void 0,void 0,function*(){try{const i=yield Ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}download(t,r){return Ss(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Iy(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ci(a))return{data:null,error:a};throw a}})}info(t){return Ss(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Iy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:H3(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}exists(t){return Ss(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n)&&n instanceof $3){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Ss(this,void 0,void 0,function*(){try{return{data:yield _I(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ss(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pq),r),{prefix:t||""});return{data:yield Ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ss(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ho(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gq="2.12.1",vq={"X-Client-Info":`storage-js/${gq}`};var Ih=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class yq{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},vq),r),this.fetch=xI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ih(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ci(t))return{data:null,error:t};throw t}})}getBucket(t){return Ih(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ih(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ih(this,void 0,void 0,function*(){try{return{data:yield W3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ih(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ih(this,void 0,void 0,function*(){try{return{data:yield _I(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}}class bq extends yq{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new mq(this.url,this.headers,t,this.fetch)}}const wq="2.57.4";let Rm="";typeof Deno<"u"?Rm="deno":typeof document<"u"?Rm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rm="react-native":Rm="node";const xq={"X-Client-Info":`supabase-js-${Rm}/${wq}`},_q={headers:xq},Sq={schema:"public"},Eq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kq={};var Nq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Aq=e=>{let t;return e?t=e:typeof fetch>"u"?t=oI:t=fetch,(...r)=>t(...r)},Cq=()=>typeof Headers>"u"?lI:Headers,jq=(e,t,r)=>{const n=Aq(r),i=Cq();return(s,o)=>Nq(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var Tq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Rq(e){return e.endsWith("/")?e:e+"/"}function Pq(e,t){var r,n;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Tq(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Oq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SI="2.71.1",Qh=30*1e3,q3=3,Gw=q3*Qh,Iq="http://localhost:9999",Mq="supabase.auth.token",Lq={"X-Client-Info":`gotrue-js/${SI}`},V3="X-Supabase-Api-Version",EI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bq=10*60*1e3;class s8 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _r(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fq extends s8{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zq(e){return _r(e)&&e.name==="AuthApiError"}class kI extends s8{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Cu extends s8{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Wc extends Cu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uq(e){return _r(e)&&e.name==="AuthSessionMissingError"}class M1 extends Cu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class L1 extends Cu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class D1 extends Cu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $q(e){return _r(e)&&e.name==="AuthImplicitGrantRedirectError"}class RN extends Cu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G3 extends Cu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Kw(e){return _r(e)&&e.name==="AuthRetryableFetchError"}class PN extends Cu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class K3 extends Cu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const My="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ON=` 	
\r=`.split(""),Hq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ON.length;t+=1)e[ON[t].charCodeAt(0)]=-2;for(let t=0;t<My.length;t+=1)e[My[t].charCodeAt(0)]=t;return e})();function IN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(My[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(My[n]),t.queuedBits-=6}}function NI(e,t,r){const n=Hq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Vq(o,n,r)};for(let o=0;o<e.length;o+=1)NI(e.charCodeAt(o),i,s);return t.join("")}function Wq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Wq(n,t)}}function Vq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Gq(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)NI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Kq(e){const t=[];return qq(e,r=>t.push(r)),new Uint8Array(t)}function Xq(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>IN(i,r,n)),IN(null,r,n),t.join("")}function Zq(e){return Math.round(Date.now()/1e3)+e}function Yq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const uo=()=>typeof window<"u"&&typeof document<"u",hd={tested:!1,writable:!1},AI=()=>{if(!uo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hd.tested)return hd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hd.tested=!0,hd.writable=!0}catch{hd.tested=!0,hd.writable=!1}return hd.writable};function Jq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zl(async()=>{const{default:n}=await Promise.resolve().then(()=>op);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ef=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mc=async(e,t)=>{await e.removeItem(t)};class Tb{constructor(){this.promise=new Tb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tb.promiseConstructor=Promise;function Xw(e){const t=e.split(".");if(t.length!==3)throw new K3("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Dq.test(t[n]))throw new K3("JWT not in base64url format");return{header:JSON.parse(MN(t[0])),payload:JSON.parse(MN(t[1])),signature:Gq(t[2]),raw:{header:t[0],payload:t[1]}}}async function eV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tV(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function rV(e){return("0"+e.toString(16)).substr(-2)}function nV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,rV).join("")}async function iV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function sV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await iV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mh(e,t,r=!1){const n=nV();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ef(e,`${t}-code-verifier`,i);const s=await sV(n);return[s,n===s?"plain":"s256"]}const aV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oV(e){const t=e.headers.get(V3);if(!t||!t.match(aV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lh(e){if(!uV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LN(e){return JSON.parse(JSON.stringify(e))}var dV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const _d=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hV=[502,503,504];async function DN(e){var t;if(!Qq(e))throw new G3(_d(e),0);if(hV.includes(e.status))throw new G3(_d(e),e.status);let r;try{r=await e.json()}catch(s){throw new kI(_d(s),s)}let n;const i=oV(e);if(i&&i.getTime()>=EI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new PN(_d(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new PN(_d(r),e.status,r.weak_password.reasons);throw new Fq(_d(r),e.status||500,n)}const fV=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Br(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[V3]||(s[V3]=EI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pV(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function pV(e,t,r,n,i,s){const o=fV(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new G3(_d(l),0)}if(a.ok||await DN(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await DN(l)}}function Il(e){var t;let r=null;yV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Zq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BN(e){const t=Il(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mV(e){return{data:e,error:null}}function gV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=dV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vV(e){return e}function yV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yw=["global","local","others"];var bV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class wV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=CI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Yw[0]){if(Yw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yw.join(", ")}`);try{return await Br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Br(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zc})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bV(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gV,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_r(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Br(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zc})}catch(r){if(_r(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vV});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(_r(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Lh(t);try{return await Br(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zc})}catch(r){if(_r(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lh(t);try{return await Br(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zc})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lh(t);try{return await Br(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zc})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lh(t.userId);try{const{data:r,error:n}=await Br(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lh(t.userId),Lh(t.id);try{return{data:await Br(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}}}function FN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function xV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dh={debug:!!(globalThis&&AI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _V extends jI{}async function SV(e,t,r){Dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _V(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xV();const EV={url:Iq,storageKey:Mq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zN(e,t,r){return await r()}const Bh={};class N0{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=N0.nextInstanceID,N0.nextInstanceID+=1,this.instanceID>0&&uo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},EV),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wV({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CI(i.fetch),this.lock=i.lock||zN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:uo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=SV:this.lock=zN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=FN(this.memoryStorage)),uo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Bh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bh[this.storageKey]=Object.assign(Object.assign({},Bh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bh[this.storageKey]=Object.assign(Object.assign({},Bh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Jq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),uo()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$q(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _r(r)?{error:r}:{error:new kI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Il}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(_r(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:u,password:h,options:f}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Mh(this.storage,this.storageKey)),s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},xform:Il})}else if("phone"in t){const{phone:u,password:h,options:f}=t;s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Il})}else throw new L1("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(_r(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await Br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:BN})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await Br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:BN})}else throw new L1("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new M1}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,a,l,c,u,h,f,d;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:b}=t;let x;if(uo())if(typeof v=="object")x=v;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))x=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const M=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let U;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")U=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)U=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)p=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),g=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const M=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=M}}try{const{data:m,error:v}=await Br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Xq(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Il});if(v)throw v;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new M1}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:v})}catch(m){if(_r(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const r=await fd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Il});if(await Mc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new M1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(_r(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await Br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Il}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new M1}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Mh(this.storage,this.storageKey));const{error:h}=await Br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new L1("You must provide either an email or phone number.")}catch(a){if(_r(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Il});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(_r(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Mh(this.storage,this.storageKey)),await Br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:mV})}catch(s){if(_r(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wc;const{error:i}=await Br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(_r(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await Br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new L1("You must provide either an email or phone number and a type")}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Gw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await fd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Zw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wc}:await Br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Zc})})}catch(r){if(_r(r))return Uq(r)&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Wc;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Mh(this.storage,this.storageKey));const{data:c,error:u}=await Br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zc});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Xw(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_r(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!uo())throw new D1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new D1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new RN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new D1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new RN("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new D1("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=Qh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:m}=await this._getUser(s);if(m)throw m;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(_r(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(zq(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Mh(this.storage,this.storageKey,!0));try{return await Br(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_r(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:f}=s;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Br(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return uo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_r(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Br(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tV(async i=>(i>0&&await eV(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Il})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Kw(s)&&Date.now()+o-n<Qh})}catch(n){if(this._debug(r,"error",n),_r(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),uo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await fd(this.storage,this.storageKey);if(i&&this.userStorage){let o=await fd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ef(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Zw()}else if(i&&!i.user&&!i.user){const o=await fd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Mc(this.storage,this.storageKey+"-user"),await ef(this.storage,this.storageKey,i)):i.user=Zw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gw;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Gw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Kw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tb;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Wc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),_r(s)){const o={session:null,error:s};return Kw(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ef(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=LN(i);await ef(this.storage,this.storageKey,s)}else{const i=LN(r);await ef(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Mc(this.storage,this.storageKey),await Mc(this.storage,this.storageKey+"-code-verifier"),await Mc(this.storage,this.storageKey+"-user"),this.userStorage&&await Mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&uo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Qh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qh}ms, refresh threshold is ${q3} ticks`),i<=q3&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!uo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Mh(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Br(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Br(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await Br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(_r(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_r(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xw(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Bq>i)return n;const{data:s,error:o}=await Br(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:d,error:p}=await this.getSession();if(p||!d.session)return{data:null,error:p};n=d.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Xw(n);r!=null&&r.allowExpired||lV(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:s,header:i,signature:o},error:null}}const u=cV(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Kq(`${a}.${l}`)))throw new K3("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}}}N0.nextInstanceID=0;const kV=N0;class NV extends kV{constructor(t){super(t)}}var AV=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class CV{constructor(t,r,n){var i,s,o;this.supabaseUrl=t,this.supabaseKey=r;const a=Oq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Sq,realtime:kq,auth:Object.assign(Object.assign({},Eq),{storageKey:l}),global:_q},u=Pq(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=jq(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new HW(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new bq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new xW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return AV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NV({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jV=(e,t,r)=>new CV(e,t,r);function TV(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}TV()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TI="https://herzmxhksfkphpwjnakf.supabase.co",RV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhlcnpteGhrc2ZrcGhwd2puYWtmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MDMzOTMsImV4cCI6MjA3NTQ3OTM5M30.SRucW3so06OKQtw39CSlH8rckTmgn0m7WEOo7gMwCKk";console.log("✅ Supabase initialized successfully from environment variables");console.log("🔗 Connected to:",TI);const Ve=jV(TI,RV),RI=Be.createContext(void 0),Za=()=>{const e=Be.useContext(RI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},PV=({children:e})=>{const[t,r]=Be.useState(null),[n,i]=Be.useState(null),[s,o]=Be.useState(!0);Be.useEffect(()=>{Ve.auth.getSession().then(({data:{session:h}})=>{i(h),r((h==null?void 0:h.user)??null),o(!1)});const{data:{subscription:u}}=Ve.auth.onAuthStateChange((h,f)=>{(async()=>(i(f),r((f==null?void 0:f.user)??null),o(!1)))()});return()=>u.unsubscribe()},[]);const a=async(u,h)=>{const{error:f}=await Ve.auth.signInWithPassword({email:u,password:h});if(f)throw f},l=async(u,h,f)=>{const{data:d,error:p}=await Ve.auth.signUp({email:u,password:h});if(p)throw p;if(d.user){const{error:g}=await Ve.from("users_profile").insert({id:d.user.id,full_name:f,role:"user"});if(g)throw g}},c=async()=>{try{console.log("Attempting to sign out...");const{error:u}=await Ve.auth.signOut();if(u)throw console.error("Supabase signOut error:",u),u;console.log("Supabase signOut successful, clearing state..."),r(null),i(null)}catch(u){console.error("Sign out error:",u),r(null),i(null)}};return w.jsx(RI.Provider,{value:{user:t,session:n,loading:s,signIn:a,signUp:l,signOut:c},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ct=(e,t)=>{const r=Be.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>Be.createElement("svg",{ref:u,...OV,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${IV(e)}`,a].join(" "),...c},[...t.map(([h,f])=>Be.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Ct("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Ct("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Ct("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Ct("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ct("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Ct("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Ct("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Ct("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Ct("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ct("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ct("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Ct("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Ct("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Ct("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Ct("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ct("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Ct("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Ct("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ct("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Ct("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Ct("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ct("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Ct("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Ct("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Ct("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Ct("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ct("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ct("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Ct("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Ct("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ct("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ct("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Ct("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Ct("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Ct("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ct("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ct("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ct("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Ct("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Ct("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),rG=()=>{const[e,t]=Be.useState("checking"),[r,n]=Be.useState("");return Be.useEffect(()=>{t("connected"),n(`Connected to ${"https://herzmxhksfkphpwjnakf.supabase.co".replace("https://","").split(".")[0]}...supabase.co`)},[]),e==="checking"?w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[w.jsx(cp,{size:14}),w.jsx("span",{children:"Checking connection..."})]}):e==="disconnected"?w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[w.jsx(Bf,{size:14}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold",children:"Not Connected"}),w.jsx("p",{children:r})]})]}):w.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[w.jsx(Ar,{size:14}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold",children:"Connected"}),w.jsx("p",{children:r})]})]})},nG=()=>{const[e,t]=Be.useState(!1),[r,n]=Be.useState(""),[i,s]=Be.useState(""),[o,a]=Be.useState(""),[l,c]=Be.useState(""),[u,h]=Be.useState(!1),[f,d]=Be.useState(!1),{signIn:p,signUp:g}=Za(),m=async v=>{var y,b,x;v.preventDefault(),c(""),h(!0);try{e?await g(r,i,o):await p(r,i)}catch(_){console.error("Authentication error:",_);let M="An error occurred";(y=_.message)!=null&&y.includes("fetch")?M="Unable to connect to the server. Please check your connection and try again.":(b=_.message)!=null&&b.includes("Invalid login credentials")?M="Invalid email or password. Please try again.":(x=_.message)!=null&&x.includes("Email not confirmed")?M="Please check your email and confirm your account.":_.message&&(M=_.message),c(M)}finally{h(!1)}};return w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-cyan-100 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md",children:[w.jsx("div",{className:"flex items-center justify-center mb-6",children:w.jsx("img",{src:"/3 cats with blue and company name.png",alt:"OllieShip Consulting OÜ",className:"h-24 w-auto object-contain"})}),w.jsx("h2",{className:"text-3xl font-bold text-center text-slate-800 mb-2",children:"OllieProcess"}),w.jsx("p",{className:"text-center text-slate-600 mb-4",children:e?"Create your account":"Sign in to continue"}),w.jsx("div",{className:"mb-6",children:w.jsx(rG,{})}),w.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e&&w.jsxs("div",{children:[w.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),w.jsx("input",{id:"fullName",type:"text",value:o,onChange:v=>a(v.target.value),required:e,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),w.jsx("input",{id:"email",type:"email",value:r,onChange:v=>n(v.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),w.jsx("input",{id:"password",type:"password",value:i,onChange:v=>s(v.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),l&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("span",{children:l}),l.includes("Unable to connect")&&w.jsx("button",{type:"button",onClick:()=>d(!f),className:"text-red-600 hover:text-red-800 text-xs underline ml-2",children:f?"Hide Help":"Help?"})]}),f&&l.includes("Unable to connect")&&w.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 text-xs",children:[w.jsx("p",{className:"font-semibold mb-2",children:"Troubleshooting Connection Issues:"}),w.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[w.jsx("li",{children:"The development server may need to be restarted"}),w.jsx("li",{children:"Check if Supabase environment variables are loaded"}),w.jsx("li",{children:"Verify your internet connection is stable"}),w.jsx("li",{children:"Check browser console (F12) for detailed errors"})]}),w.jsxs("p",{className:"mt-2 text-red-600",children:[w.jsx("strong",{children:"Quick Fix:"})," Restart the dev server to reload environment variables"]})]})]}),w.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Please wait...":e?"Create Account":"Sign In"})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{type:"button",onClick:()=>{t(!e),c("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})},iG=({searchTerm:e,onSearchChange:t,filters:r,activeFilters:n,onFilterChange:i,onClearFilters:s})=>{const o=Object.values(n).some(a=>a!==""&&a!==null);return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 space-y-4",children:[w.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[w.jsxs("div",{className:"flex-1 relative",children:[w.jsx(o8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),w.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:a=>t(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.length>0&&w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx(II,{size:20,className:"text-slate-400"}),w.jsx("span",{className:"text-sm text-slate-600",children:"Filters"})]})]}),r.length>0&&w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.map(a=>{var l;return w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:a.label}),a.type==="select"?w.jsxs("select",{value:n[a.name]||"",onChange:c=>i(a.name,c.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"All"}),(l=a.options)==null?void 0:l.map(c=>w.jsx("option",{value:c.value,children:c.label},c.value))]}):a.type==="date"?w.jsx("input",{type:"date",value:n[a.name]||"",onChange:c=>i(a.name,c.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):null]},a.name)}),o&&w.jsx("div",{className:"flex items-end",children:w.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[w.jsx(ic,{size:16}),"Clear"]})})]})]})},sG=({selectedIds:e,totalCount:t,onSelectAll:r,onDeselectAll:n,onBulkDelete:i,onBulkStatusChange:s,statusOptions:o})=>{const a=e.length,l=a===t&&t>0;return a===0?null:w.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("button",{onClick:l?n:r,className:"flex items-center gap-2 text-blue-700 hover:text-blue-800 transition-colors",children:[l?w.jsx(PI,{size:20}):w.jsx(l8,{size:20}),w.jsxs("span",{className:"font-medium",children:[a," selected"]})]}),!l&&t>a&&w.jsxs("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-700 underline",children:["Select all ",t]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[s&&o&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(a8,{size:16,className:"text-slate-600"}),w.jsxs("select",{onChange:c=>s(c.target.value),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[w.jsx("option",{value:"",disabled:!0,children:"Change status..."}),o.map(c=>w.jsx("option",{value:c.value,children:c.label},c.value))]})]}),w.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[w.jsx(Ob,{size:16}),"Delete"]})]})]})},aG=({data:e,filename:t,columns:r})=>{const[n,i]=Be.useState(!1),s=()=>{const a=r.map(f=>f.label).join(","),l=e.map(f=>r.map(d=>{const p=f[d.key];return p==null?"":`"${String(p).replace(/"/g,'""')}"`}).join(",")),c=[a,...l].join(`
`),u=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download=`${t}.csv`,h.click(),i(!1)},o=()=>{const a=JSON.stringify(e,null,2),l=new Blob([a],{type:"application/json"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`${t}.json`,c.click(),i(!1)};return w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[w.jsx(R0,{size:20}),"Export"]}),n&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),w.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-20",children:[w.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-slate-700 hover:bg-slate-50 transition-colors",children:[w.jsx(HV,{size:18,className:"text-green-600"}),w.jsx("span",{children:"Export as CSV"})]}),w.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-slate-700 hover:bg-slate-50 transition-colors",children:[w.jsx(Ii,{size:18,className:"text-blue-600"}),w.jsx("span",{children:"Export as JSON"})]})]})]})]})},oG=async e=>{try{const{data:{session:t}}=await Ve.auth.getSession();if(!t)return console.error("No active session for email sending"),!1;const n=await fetch("https://herzmxhksfkphpwjnakf.supabase.co/functions/v1/send-email",{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();return console.error("Email send failed:",s),!1}const i=await n.json();return console.log("Email sent:",i),!0}catch(t){return console.error("Error sending email:",t),!1}},lG={notification:(e,t,r)=>({subject:e,html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .button { display: inline-block; background: #3b82f6; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">${e}</h1>
            </div>
            <div class="content">
              <p>${t}</p>
              ${r?`<a href="${r}" class="button">View Details</a>`:""}
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
              <p>This is an automated notification. Please do not reply to this email.</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`${e}

${t}${r?`

View details: ${r}`:""}`}),approval:(e,t,r,n)=>({subject:`Approval Required: ${e}`,html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .info-box { background: white; padding: 15px; border-left: 4px solid #f59e0b; margin: 20px 0; }
            .button { display: inline-block; background: #f59e0b; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">⚠️ Approval Required</h1>
            </div>
            <div class="content">
              <p>A new ${e} requires your approval.</p>
              <div class="info-box">
                <strong>${e}:</strong> ${t}<br>
                <strong>Requested by:</strong> ${r}
              </div>
              <p>Please review and take action on this approval request.</p>
              ${n?`<a href="${n}" class="button">Review & Approve</a>`:""}
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`Approval Required: ${e}

${e}: ${t}
Requested by: ${r}

Please review and take action.${n?`

Review: ${n}`:""}`}),welcome:e=>({subject:"Welcome to BPO Management Platform",html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .features { list-style: none; padding: 0; }
            .features li { padding: 10px 0; border-bottom: 1px solid #e5e7eb; }
            .button { display: inline-block; background: #10b981; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">🎉 Welcome to BPO Platform</h1>
            </div>
            <div class="content">
              <p>Hi ${e},</p>
              <p>Welcome to the BPO Management Platform! Your account has been successfully created.</p>
              <p>Here's what you can do:</p>
              <ul class="features">
                <li>📊 Manage processes and workflows</li>
                <li>📈 Track KPIs and performance metrics</li>
                <li>👥 Collaborate with your team</li>
                <li>📝 Create and manage SOPs</li>
                <li>🔄 Handle change initiatives</li>
              </ul>
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`Welcome to BPO Management Platform!

Hi ${e},

Your account has been successfully created. You can now manage processes, track KPIs, collaborate with your team, and more.`})},cG=async(e,t,r,n)=>{const i=lG.notification(t,r,n);return oG({to:e,...i})},B1=async e=>{const{userId:t,title:r,message:n,type:i="info",link:s,sendEmail:o=!1}=e,{error:a}=await Ve.from("notifications").insert({user_id:t,title:r,message:n,type:i,link:s});if(a){console.error("Failed to create notification:",a);return}if(o)try{const{data:l}=await Ve.from("users_profile").select("email").eq("id",t).maybeSingle();l!=null&&l.email&&await cG(l.email,r,n,s)}catch(l){console.error("Failed to send email notification:",l)}},am={success:(e,t,r,n)=>B1({userId:e,title:t,message:r,type:"success",link:n}),error:(e,t,r,n)=>B1({userId:e,title:t,message:r,type:"error",link:n}),warning:(e,t,r,n)=>B1({userId:e,title:t,message:r,type:"warning",link:n}),info:(e,t,r,n)=>B1({userId:e,title:t,message:r,type:"info",link:n})},uG=({module:e})=>{const{user:t}=Za(),[r,n]=Be.useState([]),[i,s]=Be.useState(null);return Be.useEffect(()=>{if(!t)return;let o,a;const l=async()=>{const{data:h}=await Ve.from("users_profile").select("full_name").eq("id",t.id).maybeSingle(),f=(h==null?void 0:h.full_name)||t.email||"Anonymous",{data:d,error:p}=await Ve.from("active_users").insert({user_id:t.id,user_name:f,module:e,last_seen:new Date().toISOString()}).select().single();if(p){console.error("Error creating presence:",p);return}d&&s(d.id),c(),a=setInterval(async()=>{d!=null&&d.id&&await Ve.from("active_users").update({last_seen:new Date().toISOString()}).eq("id",d.id),u()},1e4),o=Ve.channel(`presence:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"active_users",filter:`module=eq.${e}`},()=>{c()}).subscribe()},c=async()=>{const{data:h}=await Ve.from("active_users").select("*").eq("module",e).neq("user_id",t.id).gte("last_seen",new Date(Date.now()-3e4).toISOString());h&&n(h)},u=async()=>{await Ve.from("active_users").delete().lt("last_seen",new Date(Date.now()-3e4).toISOString()),c()};return l(),()=>{i&&Ve.from("active_users").delete().eq("id",i),a&&clearInterval(a),o&&Ve.removeChannel(o)}},[t,e]),r.length===0?null:w.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[w.jsx(fu,{className:"w-4 h-4 text-green-600"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-sm text-green-800 font-medium",children:[r.length," ",r.length===1?"person":"people"," active"]}),w.jsxs("div",{className:"flex -space-x-2",children:[r.slice(0,3).map(o=>w.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-xs font-semibold border-2 border-white",title:o.user_name,children:o.user_name.charAt(0).toUpperCase()},o.id)),r.length>3&&w.jsxs("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-xs font-semibold border-2 border-white",children:["+",r.length-3]})]})]})]})},dG=e=>()=>{var C;const{user:t}=Za(),[r,n]=Be.useState([]),[i,s]=Be.useState(!0),[o,a]=Be.useState(!1),[l,c]=Be.useState(null),[u,h]=Be.useState(""),[f,d]=Be.useState({}),[p,g]=Be.useState([]),[m,v]=Be.useState(null),[y,b]=Be.useState(()=>{const D={};return e.fields.forEach(z=>{D[z.name]=z.defaultValue||""}),D});Be.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:D,error:z}=await Ve.from(e.tableName).select("*").order("created_at",{ascending:!1});if(z)throw z;D&&n(D)}catch(D){console.error("Error loading data:",D)}finally{s(!1)}},_=Be.useMemo(()=>{let D=[...r];if(u){const z=u.toLowerCase();D=D.filter(P=>e.fields.filter(K=>K.searchable!==!1).some(K=>{const Z=P[K.name];return Z&&String(Z).toLowerCase().includes(z)}))}return Object.entries(f).forEach(([z,P])=>{P&&(D=D.filter(K=>K[z]===P))}),m&&D.sort((z,P)=>{const K=z[m.field],Z=P[m.field];if(K===Z)return 0;const te=K<Z?-1:1;return m.direction==="asc"?te:-te}),D},[r,u,f,m]),M=(D,z)=>{d(P=>({...P,[D]:z}))},U=()=>{d({}),h("")},L=D=>{g(z=>z.includes(D)?z.filter(P=>P!==D):[...z,D])},O=()=>{g(_.map(D=>D.id))},H=()=>{g([])},G=async()=>{if(confirm(`Delete ${p.length} items?`))try{await Ve.from(e.tableName).delete().in("id",p),t!=null&&t.id&&await am.info(t.id,"Bulk Delete Completed",`Successfully deleted ${p.length} ${e.title.toLowerCase()} item(s)`),g([]),x()}catch(D){console.error("Error deleting:",D),t!=null&&t.id&&await am.error(t.id,"Bulk Delete Failed","Failed to delete items")}},I=async D=>{if(e.statusField)try{await Ve.from(e.tableName).update({[e.statusField]:D}).in("id",p),g([]),x()}catch(z){console.error("Error updating status:",z)}},R=async D=>{D.preventDefault();try{const z={...y};if(e.ownerField&&!l&&(z[e.ownerField]=t==null?void 0:t.id),l){const{error:P}=await Ve.from(e.tableName).update(z).eq("id",l);if(P)throw P;t!=null&&t.id&&await am.success(t.id,`${e.title} Updated`,`Successfully updated ${e.title.toLowerCase()}`)}else{const{error:P}=await Ve.from(e.tableName).insert(z);if(P)throw P;t!=null&&t.id&&await am.success(t.id,`${e.title} Created`,`Successfully created new ${e.title.toLowerCase()}`)}E(),x()}catch(z){console.error("Error saving:",z),alert(z.message),t!=null&&t.id&&await am.error(t.id,`Error Saving ${e.title}`,z.message)}},S=D=>{c(D.id);const z={};e.fields.forEach(P=>{z[P.name]=D[P.name]||P.defaultValue||""}),b(z),a(!0)},j=async D=>{if(confirm("Delete this item?"))try{await Ve.from(e.tableName).delete().eq("id",D),x()}catch(z){console.error("Error deleting:",z)}},E=()=>{const D={};e.fields.forEach(z=>{D[z.name]=z.defaultValue||""}),b(D),a(!1),c(null)};if(i)return w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const k=e.displayFields.map(D=>{var z;return{key:D,label:((z=e.fields.find(P=>P.name===D))==null?void 0:z.label)||D}}),A=e.statusField?(C=e.fields.find(D=>D.name===e.statusField))==null?void 0:C.options:void 0;return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:e.title}),w.jsx("p",{className:"text-slate-600 mt-1",children:e.description})]}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx(aG,{data:_,filename:e.tableName,columns:k}),w.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[w.jsx(P0,{size:20}),"New"]})]}),w.jsx(uG,{module:e.tableName})]})]}),w.jsx(iG,{searchTerm:u,onSearchChange:h,filters:e.filters||[],activeFilters:f,onFilterChange:M,onClearFilters:U}),p.length>0&&w.jsx(sG,{selectedIds:p,totalCount:_.length,onSelectAll:O,onDeselectAll:H,onBulkDelete:G,onBulkStatusChange:e.statusField?I:void 0,statusOptions:A}),o&&w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[l?"Edit":"Create"," ",e.title]}),w.jsx("button",{onClick:E,className:"text-slate-400 hover:text-slate-600 transition-colors",children:w.jsx(ic,{size:20})})]}),w.jsxs("form",{onSubmit:R,className:"space-y-4",children:[w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.fields.map(D=>{var z;return w.jsxs("div",{className:D.type==="textarea"?"md:col-span-2":"",children:[w.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[D.label,D.required&&w.jsx("span",{className:"text-red-500",children:"*"})]}),D.type==="select"?w.jsxs("select",{value:y[D.name],onChange:P=>b({...y,[D.name]:P.target.value}),required:D.required,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"Select..."}),(z=D.options)==null?void 0:z.map(P=>w.jsx("option",{value:P.value,children:P.label},P.value))]}):D.type==="textarea"?w.jsx("textarea",{value:y[D.name],onChange:P=>b({...y,[D.name]:P.target.value}),required:D.required,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):w.jsx("input",{type:D.type,value:y[D.name],onChange:P=>b({...y,[D.name]:P.target.value}),required:D.required,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},D.name)})}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[w.jsx(Rb,{size:20}),l?"Update":"Create"]}),w.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(D=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[w.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[w.jsx("button",{onClick:()=>L(D.id),className:"mt-1 text-slate-400 hover:text-blue-600 transition-colors",children:p.includes(D.id)?w.jsx(PI,{size:20,className:"text-blue-600"}):w.jsx(l8,{size:20})}),w.jsxs("div",{className:"flex-1 space-y-3",children:[e.displayFields.map(z=>{const P=e.fields.find(K=>K.name===z);return w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:(P==null?void 0:P.label)||z}),w.jsx("p",{className:"text-slate-800 font-medium",children:D[z]||"N/A"})]},z)}),e.statusField&&D[e.statusField]&&w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Status"}),w.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:D[e.statusField]})]})]})]}),w.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[w.jsxs("button",{onClick:()=>S(D),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:[w.jsx(a8,{size:16}),"Edit"]}),w.jsx("button",{onClick:()=>j(D.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm",children:w.jsx(Ob,{size:16})})]})]},D.id))}),_.length===0&&!o&&w.jsx("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-slate-300",children:w.jsx("p",{className:"text-slate-600",children:r.length===0?"No items yet. Create your first one!":"No items match your search criteria."})})]})},hG=()=>{const[e,t]=Be.useState({processes:0,activeProcesses:0,completedTasks:0,pendingApprovals:0,bottlenecks:0,improvements:0}),[r,n]=Be.useState([]),[i,s]=Be.useState(!0);Be.useEffect(()=>{o()},[]);const o=async()=>{var h,f;try{const[d,p,g,m,v]=await Promise.all([Ve.from("processes").select("id",{count:"exact",head:!0}),Ve.from("processes").select("id",{count:"exact",head:!0}).eq("status","active"),Ve.from("tasks").select("id",{count:"exact",head:!0}).eq("status","completed"),Ve.from("approvals").select("id",{count:"exact",head:!0}).eq("status","pending"),Ve.from("improvements").select("id",{count:"exact",head:!0})]);t({processes:d.count||0,activeProcesses:p.count||0,completedTasks:g.count||0,pendingApprovals:m.count||0,bottlenecks:0,improvements:v.count||0});const[y,b]=await Promise.all([Ve.from("processes").select("id, name, created_at").order("created_at",{ascending:!1}).limit(3),Ve.from("improvements").select("id, title, created_at").order("created_at",{ascending:!1}).limit(3)]),x=[];(h=y.data)==null||h.forEach(_=>{x.push({id:_.id,title:_.name,type:"Process Created",time:a(_.created_at),icon:w.jsx(Ib,{size:18}),color:"bg-blue-100 text-blue-600"})}),(f=b.data)==null||f.forEach(_=>{x.push({id:_.id,title:_.title,type:"Improvement Proposed",time:a(_.created_at),icon:w.jsx(js,{size:18}),color:"bg-green-100 text-green-600"})}),x.sort((_,M)=>M.time.localeCompare(_.time)),n(x.slice(0,5))}catch(d){console.error("Error loading dashboard data:",d)}finally{s(!1)}},a=h=>{const f=new Date(h),p=new Date().getTime()-f.getTime(),g=Math.floor(p/6e4),m=Math.floor(g/60),v=Math.floor(m/24);return v>0?`${v}d ago`:m>0?`${m}h ago`:g>0?`${g}m ago`:"Just now"},l=[{label:"Total Processes",value:e.processes,change:"+12%",trend:"up",icon:w.jsx(Ud,{size:24}),gradient:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-600"},{label:"Active Processes",value:e.activeProcesses,change:"+8%",trend:"up",icon:w.jsx(BI,{size:24}),gradient:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-600"},{label:"Completed Tasks",value:e.completedTasks,change:"+23%",trend:"up",icon:w.jsx(Ar,{size:24}),gradient:"from-teal-500 to-teal-600",bgColor:"bg-teal-50",textColor:"text-teal-600"},{label:"Pending Approvals",value:e.pendingApprovals,change:"+5%",trend:"up",icon:w.jsx(vs,{size:24}),gradient:"from-amber-500 to-amber-600",bgColor:"bg-amber-50",textColor:"text-amber-600"},{label:"Process Improvements",value:e.improvements,change:"+15%",trend:"up",icon:w.jsx(js,{size:24}),gradient:"from-cyan-500 to-cyan-600",bgColor:"bg-cyan-50",textColor:"text-cyan-600"},{label:"Bottlenecks Detected",value:e.bottlenecks,change:"-3%",trend:"down",icon:w.jsx(il,{size:24}),gradient:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-600"}],c=[{title:"Process Automation Opportunity",description:"AI identified 3 manual processes that can be fully automated to save 40% execution time",icon:w.jsx(Ts,{className:"text-yellow-600",size:20}),action:"Review Now",priority:"high"},{title:"Bottleneck Detection",description:'Approval step in "Order Processing" is causing 2-day delays. Consider parallel routing',icon:w.jsx(nl,{className:"text-red-600",size:20}),action:"Optimize",priority:"high"},{title:"Process Efficiency Insight",description:"Customer Onboarding process efficiency improved by 35% after recent optimization",icon:w.jsx(js,{className:"text-green-600",size:20}),action:"View Details",priority:"medium"},{title:"Compliance Alert",description:"2 processes need documentation updates to meet new compliance requirements",icon:w.jsx(il,{className:"text-amber-600",size:20}),action:"Update",priority:"medium"}],u=[{title:"Process Performance Review",date:"Tomorrow",type:"Meeting"},{title:"Quarterly Process Audit",date:"In 3 days",type:"Audit"},{title:"Process Mapping Workshop",date:"Next Week",type:"Training"},{title:"Optimization Sprint Planning",date:"Next Week",type:"Planning"}];return i?w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Process Management Dashboard"}),w.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor, analyze, and optimize your business processes."})]}),w.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[w.jsx($a,{size:18}),w.jsx("span",{className:"font-medium",children:"AI Insights"})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((h,f)=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:[w.jsxs("div",{className:"flex items-start justify-between mb-4",children:[w.jsx("div",{className:`${h.bgColor} p-3 rounded-xl`,children:w.jsx("div",{className:h.textColor,children:h.icon})}),w.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${h.trend==="up"?"text-green-600":"text-red-600"}`,children:[h.trend==="up"?w.jsx(LV,{size:16}):w.jsx(MV,{size:16}),h.change]})]}),w.jsx("p",{className:"text-slate-600 text-sm font-medium mb-1",children:h.label}),w.jsx("p",{className:"text-3xl font-bold text-slate-800",children:h.value}),w.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full bg-gradient-to-r ${h.gradient} rounded-full`,style:{width:"70%"}})})]},f))}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx($a,{className:"text-slate-600",size:24}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"AI-Powered Insights"})]}),w.jsx("span",{className:"text-xs font-medium px-3 py-1 bg-slate-100 text-slate-700 rounded-full",children:"Powered by AI"})]}),w.jsx("div",{className:"space-y-4",children:c.map((h,f)=>w.jsx("div",{className:`p-4 rounded-lg border-l-4 ${h.priority==="high"?"bg-amber-50 border-amber-600":"bg-slate-50 border-slate-500"} hover:shadow-md transition-shadow`,children:w.jsxs("div",{className:"flex items-start justify-between gap-4",children:[w.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[w.jsx("div",{className:"mt-1",children:h.icon}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:h.title}),w.jsx("p",{className:"text-sm text-slate-600",children:h.description})]})]}),w.jsx("button",{className:"px-4 py-2 bg-white hover:bg-slate-100 text-slate-800 font-medium text-sm rounded-lg border border-slate-300 transition-colors whitespace-nowrap shadow-sm",children:h.action})]})},f))})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx(vs,{className:"text-slate-600",size:20}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activity"})]}),w.jsx("div",{className:"space-y-3",children:r.length>0?r.map((h,f)=>w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors cursor-pointer",children:[w.jsx("div",{className:`${h.color} p-2 rounded-lg`,children:h.icon}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:h.title}),w.jsx("p",{className:"text-xs text-slate-500",children:h.type})]}),w.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:h.time})]},f)):w.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No recent activity"})})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx(FV,{className:"text-slate-600",size:20}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Upcoming"})]}),w.jsx("div",{className:"space-y-3",children:u.map((h,f)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors cursor-pointer",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-sm font-medium text-slate-800",children:h.title}),w.jsx("p",{className:"text-xs text-slate-500",children:h.type})]}),w.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-blue-100 text-blue-700 rounded",children:h.date})]},f))})]})]})]}),w.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-8 text-white",children:w.jsx("div",{className:"flex items-start justify-between",children:w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx(A0,{size:24}),w.jsx("h3",{className:"text-xl font-bold",children:"Process Performance Summary"})]}),w.jsx("p",{className:"text-blue-100 mb-4",children:"Your processes are performing excellently with 92% efficiency and 87% automation rate. Continue optimizing with AI-powered recommendations."}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[w.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Process Efficiency"}),w.jsx("p",{className:"text-2xl font-bold",children:"92%"})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[w.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Automation Rate"}),w.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[w.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Compliance Score"}),w.jsx("p",{className:"text-2xl font-bold",children:"95%"})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[w.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"On-Time Completion"}),w.jsx("p",{className:"text-2xl font-bold",children:"89%"})]})]})]})})})]})},fG=dG({title:"Process Mapping",description:"Document and manage business processes",tableName:"process_mapping",ownerField:"owner_id",statusField:"status",fields:[{name:"process_name",label:"Process Name",type:"text",required:!0,searchable:!0},{name:"description",label:"Description",type:"textarea",searchable:!0},{name:"department",label:"Department",type:"text",required:!0,searchable:!0},{name:"category",label:"Category",type:"select",required:!0,options:[{value:"core",label:"Core"},{value:"support",label:"Support"},{value:"management",label:"Management"}]},{name:"complexity",label:"Complexity",type:"select",required:!0,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]},{name:"status",label:"Status",type:"select",defaultValue:"draft",options:[{value:"draft",label:"Draft"},{value:"review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}]},{name:"cycle_time",label:"Cycle Time (hours)",type:"number"},{name:"last_review_date",label:"Last Review Date",type:"date"}],displayFields:["process_name","department","category"],filters:[{name:"status",label:"Status",type:"select",options:[{value:"draft",label:"Draft"},{value:"review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}]},{name:"category",label:"Category",type:"select",options:[{value:"core",label:"Core"},{value:"support",label:"Support"},{value:"management",label:"Management"}]},{name:"complexity",label:"Complexity",type:"select",options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]}]}),pG="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",mG="https://api.openai.com/v1/chat/completions";async function sg(e,t=.7,r=4e3){var n;try{const i=await fetch(mG,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pG}`},body:JSON.stringify({model:"gpt-4o-mini",messages:e,temperature:t,max_tokens:r})});if(!i.ok){const o=await i.json().catch(()=>({error:{message:i.statusText}}));throw console.error("OpenAI API error:",o),new Error(`OpenAI API error: ${((n=o.error)==null?void 0:n.message)||"Unknown error"}`)}return(await i.json()).choices[0].message.content}catch(i){throw console.error("OpenAI call failed:",i),i}}async function gG(e){const t=[{role:"system",content:"You are an expert business process analyst. Analyze the provided process document and extract structured information about the business process. Return your analysis as valid JSON only, no additional text."},{role:"user",content:`Analyze this process document and extract:
1. Process name
2. Process description (2-3 sentences)
3. All process steps in order with descriptions
4. All roles/actors involved
5. All inputs required
6. All outputs produced
7. Any decision points with options

Document text:
${e}

Return valid JSON in this exact format:
{
  "processName": "string",
  "processDescription": "string",
  "steps": [{"name": "string", "description": "string", "order": number}],
  "roles": ["string"],
  "inputs": ["string"],
  "outputs": ["string"],
  "decisions": [{"question": "string", "options": ["string"]}]
}`}],r=await sg(t,.3);return JSON.parse(r)}async function vG(e){const t=[{role:"system",content:"You are an expert in BPMN 2.0 (Business Process Model and Notation). Generate valid BPMN XML from process descriptions. Include proper swimlanes for different roles, sequence flows, gateways for decisions, and follow BPMN best practices."},{role:"user",content:`Generate a complete BPMN 2.0 XML diagram from this process analysis:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps)}
Roles: ${JSON.stringify(e.roles)}
Decisions: ${JSON.stringify(e.decisions)}

Requirements:
1. Create swimlanes (lanes) for each role
2. Use proper BPMN elements: startEvent, task, exclusiveGateway, endEvent
3. Connect elements with sequenceFlow
4. Place tasks in appropriate swimlanes
5. Use gateways for decision points
6. Include proper IDs and names
7. Return ONLY valid BPMN 2.0 XML, no markdown or explanations

Return the complete BPMN XML starting with <?xml version="1.0"?>`}];return await sg(t,.2,6e3)}async function yG(e,t){const r=[{role:"system",content:"You are an expert technical writer specializing in Standard Operating Procedures (SOPs). Create comprehensive, clear, and actionable SOPs that follow industry best practices."},{role:"user",content:`Create a detailed Standard Operating Procedure (SOP) for this process:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}
Inputs: ${JSON.stringify(e.inputs)}
Outputs: ${JSON.stringify(e.outputs)}

Create a comprehensive SOP with these sections:

1. PURPOSE
   - Clear objective statement
   - Why this SOP exists

2. SCOPE
   - What is covered
   - What is not covered
   - Who this applies to

3. DEFINITIONS
   - Key terms and acronyms

4. RESPONSIBILITIES
   - Role-specific responsibilities
   - Who does what

5. PROCEDURE
   - Detailed step-by-step instructions
   - Include decision points
   - Specify inputs/outputs for each step
   - Include quality checkpoints

6. REFERENCES
   - Related documents
   - System references

7. REVISION HISTORY
   - Version 1.0 - Initial creation

Format the SOP professionally with clear headings and numbered steps.`}];return await sg(r,.4)}async function bG(e){const t=[{role:"system",content:"You are an expert in organizational structure and RACI matrices. Create clear, actionable RACI (Responsible, Accountable, Consulted, Informed) matrices that define roles and responsibilities."},{role:"user",content:`Generate a comprehensive RACI matrix for this process:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}

Create a RACI matrix that:
1. Lists each process step/activity
2. For each step, assign RACI codes to each role:
   - R (Responsible): Does the work
   - A (Accountable): Final authority, only ONE per activity
   - C (Consulted): Provides input
   - I (Informed): Kept updated

3. Include sub-processes where applicable
4. Ensure each activity has exactly ONE Accountable role
5. Format as a clear table

RACI MATRIX FORMAT:
Activity | ${e.roles.join(" | ")}
---
[For each step, show the RACI assignment]

Add explanatory notes at the end explaining key decision points and handoffs.`}];return await sg(t,.3)}async function wG(e){const t=[{role:"system",content:"You are an expert risk management consultant specializing in operational risk assessment and control design. Identify realistic risks and design effective controls."},{role:"user",content:`Analyze this business process and create a comprehensive Risk and Control Matrix:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}

For this process, identify:

1. KEY RISKS (at least 5-8 realistic risks):
   - Operational risks
   - Compliance risks
   - Quality risks
   - Security risks
   - Timing/SLA risks

2. For EACH risk, provide:
   - Risk Name
   - Risk Description
   - Risk Category (Operational/Compliance/Quality/Security/Financial)
   - Likelihood (High/Medium/Low)
   - Impact (High/Medium/Low)
   - Risk Score (High/Medium/Low)

3. For EACH risk, design CONTROLS:
   - Control Description (specific, actionable)
   - Control Type (Preventive/Detective/Corrective)
   - Control Owner (role responsible)
   - Implementation Method
   - Testing Frequency

4. MITIGATION STRATEGIES:
   - Additional risk mitigation steps
   - Contingency plans
   - Escalation procedures

Format as a professional Risk and Control Matrix with clear sections and tables.`}];return await sg(t,.4)}async function xG(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=async i=>{var o;const s=(o=i.target)==null?void 0:o.result;e.type==="text/plain"||e.name.endsWith(".txt")?t(s):e.type==="application/pdf"||e.name.endsWith(".pdf")?t(`[PDF Content from ${e.name}]

This is a placeholder for PDF text extraction. In production, this would use a PDF parsing library to extract the actual text content from the PDF file.

For now, please describe your process, and I'll analyze it.`):t(`[Document from ${e.name}]

Document type: ${e.type}
Size: ${(e.size/1024).toFixed(2)} KB

This document has been uploaded. Please provide a description of the process it contains, and I'll help analyze it.`)},n.onerror=()=>r(new Error("Failed to read file")),e.type.startsWith("text/")?n.readAsText(e):n.readAsDataURL(e)})}async function _G(e,t){if(e.size>26214400)throw new Error("File size must be less than 25MB");if(!["application/pdf","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.visio","application/vnd.ms-visio.drawing"].includes(e.type))throw new Error("File type must be PDF, PPTX, DOCX, or VSDX");const i=(await Ve.auth.getUser()).data.user;if(!i)throw new Error("User not authenticated");const s=e.name.split(".").pop(),o=`process-docs/${Date.now()}_${e.name}`,{error:a}=await Ve.storage.from("documents").upload(o,e);if(a)throw a.message.includes("tenant config")?new Error("Storage service is not fully configured. Please contact your administrator to enable Supabase Storage for this project."):a;const{data:{publicUrl:l}}=Ve.storage.from("documents").getPublicUrl(o),{data:c,error:u}=await Ve.from("process_documents").insert({process_id:t,document_name:e.name,document_type:(s==null?void 0:s.toUpperCase())||"UNKNOWN",file_size_mb:e.size/(1024*1024),storage_path:o,storage_url:l,uploaded_by:i.id}).select().single();if(u)throw u;return c.id}async function SG(e){let t=Ve.from("process_documents").select(`
      *,
      uploader:uploaded_by (
        email
      )
    `).order("uploaded_at",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return(r||[]).map(i=>{var s;return{...i,uploader_email:((s=i.uploader)==null?void 0:s.email)||"Unknown"}})}async function EG(e,t){try{await Ve.from("process_documents").update({parsing_status:"parsing"}).eq("id",e);let r="";if(t)r=await xG(t);else{const{data:i}=await Ve.from("process_documents").select("storage_url").eq("id",e).single();r=`Document stored at: ${i==null?void 0:i.storage_url}. Please analyze based on document type and content.`}const n=await gG(r);return await Ve.from("process_documents").update({parsing_status:"completed",parsed_at:new Date().toISOString(),parsed_data:n}).eq("id",e),n}catch(r){throw await Ve.from("process_documents").update({parsing_status:"failed"}).eq("id",e),r}}async function kG(e){try{const{data:t}=await Ve.from("process_documents").select("parsed_data, document_name").eq("id",e).single();if(!(t!=null&&t.parsed_data))throw new Error("Document must be parsed before converting to BPMN");const r=t.parsed_data,n=await vG(r);return await Ve.from("process_documents").update({bpmn_generated:!0,bpmn_xml:n}).eq("id",e),await Ve.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"bpmn",artifact_name:`BPMN Diagram: ${r.processName||t.document_name}`,artifact_data:{content:n,format:"xml"},generation_method:"openai",confidence_score:95}),n}catch(t){throw console.error("Error converting to BPMN:",t),t}}async function UI(e,t,r){const n=(await Ve.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{data:i,error:s}=await Ve.from("document_approvals").insert({document_type:e,document_id:t,version_id:r,requested_by:n.id,current_status:"pending"}).select().single();if(s)throw s;return i.id}async function NG(e,t){const r=(await Ve.auth.getUser()).data.user;if(!r)throw new Error("User not authenticated");const{error:n}=await Ve.from("document_approvals").update({current_status:"approved",approved_by:r.id,approved_at:new Date().toISOString(),comments:t}).eq("id",e);if(n)throw n}async function AG(e,t,r){const n=(await Ve.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{error:i}=await Ve.from("document_approvals").update({current_status:"rejected",rejected_by:n.id,rejected_at:new Date().toISOString(),rejection_reason:t,comments:r}).eq("id",e);if(i)throw i}async function CG(e,t,r){try{const{data:n}=await Ve.from("process_documents").select("parsed_data").eq("id",e).single(),i=(n==null?void 0:n.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[],inputs:[],outputs:[]},s=await yG(i,r),{data:o,error:a}=await Ve.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"sop",artifact_name:`SOP: ${t}`,artifact_data:{content:s},generation_method:"openai",confidence_score:92}).select().single();if(a)throw a;return o.id}catch(n){throw console.error("Error generating SOP:",n),n}}async function jG(e,t){try{const{data:r}=await Ve.from("process_documents").select("parsed_data").eq("id",e).single(),n=(r==null?void 0:r.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[]},i=await bG(n),{data:s,error:o}=await Ve.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"raci",artifact_name:`RACI Matrix: ${t}`,artifact_data:{content:i},generation_method:"openai",confidence_score:90}).select().single();if(o)throw o;return s.id}catch(r){throw console.error("Error generating RACI matrix:",r),r}}async function TG(e,t){try{const{data:r}=await Ve.from("process_documents").select("parsed_data").eq("id",e).single(),n=(r==null?void 0:r.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[]},i=await wG(n),{data:s,error:o}=await Ve.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"risk_control",artifact_name:`Risk & Control Matrix: ${t}`,artifact_data:{content:i},generation_method:"openai",confidence_score:88}).select().single();if(o)throw o;return s.id}catch(r){throw console.error("Error generating risk controls:",r),r}}async function RG(e,t){let r=Ve.from("generated_artifacts").select("*").eq("source_id",e).order("created_at",{ascending:!1});const{data:n,error:i}=await r;if(i)throw i;return n||[]}async function Z3(e,t,r,n,i){const s=(await Ve.auth.getUser()).data.user;if(!s)throw new Error("User not authenticated");const{data:o,error:a}=await Ve.from("sop_versions").insert({sop_id:e,version_number:t,title:r,content:n,change_summary:i,created_by:s.id}).select().single();if(a)throw a;return o.id}async function PG(e){let t=Ve.from("document_approvals").select("*").eq("current_status","pending").order("requested_at",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return r||[]}function an(e){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}var So=Uint8Array,va=Uint16Array,u8=Int32Array,d8=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h8=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VN=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$I=function(e,t){for(var r=new va(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new u8(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},HI=$I(d8,2),OG=HI.b,Y3=HI.r;OG[28]=258,Y3[258]=28;var IG=$I(h8,0),GN=IG.r,J3=new va(32768);for(var kn=0;kn<32768;++kn){var Lc=(kn&43690)>>1|(kn&21845)<<1;Lc=(Lc&52428)>>2|(Lc&13107)<<2,Lc=(Lc&61680)>>4|(Lc&3855)<<4,J3[kn]=((Lc&65280)>>8|(Lc&255)<<8)>>1}var Gm=function(e,t,r){for(var n=e.length,i=0,s=new va(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new va(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new va(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],h=o[e[i]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)a[J3[h]>>l]=c}else for(a=new va(n),i=0;i<n;++i)e[i]&&(a[i]=J3[o[e[i]-1]++]>>15-e[i]);return a},Jd=new So(288);for(var kn=0;kn<144;++kn)Jd[kn]=8;for(var kn=144;kn<256;++kn)Jd[kn]=9;for(var kn=256;kn<280;++kn)Jd[kn]=7;for(var kn=280;kn<288;++kn)Jd[kn]=8;var By=new So(32);for(var kn=0;kn<32;++kn)By[kn]=5;var MG=Gm(Jd,9,0),LG=Gm(By,5,0),WI=function(e){return(e+7)/8|0},DG=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new So(e.subarray(t,r))},Tl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},om=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},tx=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:VI,l:0};if(i==1){var o=new So(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,M){return _.f-M.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var d=new va(f+1),p=Q3(r[u-1],d,0);if(p>t){var n=0,g=0,m=p-t,v=1<<m;for(s.sort(function(M,U){return d[U.s]-d[M.s]||M.f-U.f});n<i;++n){var y=s[n].s;if(d[y]>t)g+=v-(1<<p-d[y]),d[y]=t;else break}for(g>>=m;g>0;){var b=s[n].s;d[b]<t?g-=1<<t-d[b]++-1:++n}for(;n>=0&&g;--n){var x=s[n].s;d[x]==t&&(--d[x],++g)}p=t}return{t:new So(d),l:p}},Q3=function(e,t,r){return e.s==-1?Math.max(Q3(e.l,t,r+1),Q3(e.r,t,r+1)):t[e.s]=r},KN=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new va(++t),n=0,i=e[0],s=1,o=function(l){r[n++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:r.subarray(0,n),n:t}},lm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},qI=function(e,t,r){var n=r.length,i=WI(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},XN=function(e,t,r,n,i,s,o,a,l,c,u){Tl(t,u++,r),++i[256];for(var h=tx(i,15),f=h.t,d=h.l,p=tx(s,15),g=p.t,m=p.l,v=KN(f),y=v.c,b=v.n,x=KN(g),_=x.c,M=x.n,U=new va(19),L=0;L<y.length;++L)++U[y[L]&31];for(var L=0;L<_.length;++L)++U[_[L]&31];for(var O=tx(U,7),H=O.t,G=O.l,I=19;I>4&&!H[VN[I-1]];--I);var R=c+5<<3,S=lm(i,Jd)+lm(s,By)+o,j=lm(i,f)+lm(s,g)+o+14+3*I+lm(U,H)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&R<=S&&R<=j)return qI(t,u,e.subarray(l,l+c));var E,k,A,C;if(Tl(t,u,1+(j<S)),u+=2,j<S){E=Gm(f,d,0),k=f,A=Gm(g,m,0),C=g;var D=Gm(H,G,0);Tl(t,u,b-257),Tl(t,u+5,M-1),Tl(t,u+10,I-4),u+=14;for(var L=0;L<I;++L)Tl(t,u+3*L,H[VN[L]]);u+=3*I;for(var z=[y,_],P=0;P<2;++P)for(var K=z[P],L=0;L<K.length;++L){var Z=K[L]&31;Tl(t,u,D[Z]),u+=H[Z],Z>15&&(Tl(t,u,K[L]>>5&127),u+=K[L]>>12)}}else E=MG,k=Jd,A=LG,C=By;for(var L=0;L<a;++L){var te=n[L];if(te>255){var Z=te>>18&31;om(t,u,E[Z+257]),u+=k[Z+257],Z>7&&(Tl(t,u,te>>23&31),u+=d8[Z]);var q=te&31;om(t,u,A[q]),u+=C[q],q>3&&(om(t,u,te>>5&8191),u+=h8[q])}else om(t,u,E[te]),u+=k[te]}return om(t,u,E[256]),u+k[256]},BG=new u8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VI=new So(0),FG=function(e,t,r,n,i,s){var o=s.z||e.length,a=new So(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var h=BG[t-1],f=h>>13,d=h&8191,p=(1<<r)-1,g=s.p||new va(32768),m=s.h||new va(p+1),v=Math.ceil(r/3),y=2*v,b=function(B){return(e[B]^e[B+1]<<v^e[B+2]<<y)&p},x=new u8(25e3),_=new va(288),M=new va(32),U=0,L=0,O=s.i||0,H=0,G=s.w||0,I=0;O+2<o;++O){var R=b(O),S=O&32767,j=m[R];if(g[S]=j,m[R]=S,G<=O){var E=o-O;if((U>7e3||H>24576)&&(E>423||!c)){u=XN(e,l,0,x,_,M,L,H,I,O-I,u),H=U=L=0,I=O;for(var k=0;k<286;++k)_[k]=0;for(var k=0;k<30;++k)M[k]=0}var A=2,C=0,D=d,z=S-j&32767;if(E>2&&R==b(O-z))for(var P=Math.min(f,E)-1,K=Math.min(32767,O),Z=Math.min(258,E);z<=K&&--D&&S!=j;){if(e[O+A]==e[O+A-z]){for(var te=0;te<Z&&e[O+te]==e[O+te-z];++te);if(te>A){if(A=te,C=z,te>P)break;for(var q=Math.min(z,te-2),$=0,k=0;k<q;++k){var N=O-z+k&32767,T=g[N],V=N-T&32767;V>$&&($=V,j=N)}}}S=j,j=g[S],z+=S-j&32767}if(C){x[H++]=268435456|Y3[A]<<18|GN[C];var J=Y3[A]&31,re=GN[C]&31;L+=d8[J]+h8[re],++_[257+J],++M[re],G=O+A,++U}else x[H++]=e[O],++_[e[O]]}}for(O=Math.max(O,G);O<o;++O)x[H++]=e[O],++_[e[O]];u=XN(e,l,c,x,_,M,L,H,I,O-I,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=O,s.w=G)}else{for(var O=s.w||0;O<o+c;O+=65535){var se=O+65535;se>=o&&(l[u/8|0]=c,se=o),u=qI(l,u+1,e.subarray(O,se))}s.i=o}return DG(a,0,n+WI(u)+i)},GI=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zG=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new So(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return FG(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},KI=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},UG=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=GI();i.p(t.dictionary),KI(e,2,i.d())}};function e4(e,t){t||(t={});var r=GI();r.p(e);var n=zG(e,t,t.dictionary?6:2,4);return UG(n,t),KI(n,n.length-4,r.d()),n}var $G=typeof TextDecoder<"u"&&new TextDecoder,HG=0;try{$G.decode(VI,{stream:!0}),HG=1}catch{}function WG(e){if(Array.isArray(e))return e}function qG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function VG(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZN(e,t):void 0}}function GG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YN(e,t){return WG(e)||qG(e,t)||VG(e,t)||GG()}function JN(e,t="utf8"){return new TextDecoder(t).decode(e)}const KG=new TextEncoder;function XG(e){return KG.encode(e)}const ZG=1024*8,YG=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),rx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class f8{constructor(t=ZG,r={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof f8)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=rx[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===YG&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new rx[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new rx[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return JN(this.readBytes(t))}decodeText(t=1,r="utf8"){return JN(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(XG(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const JG=4,QN=0,e7=1,QG=2;function up(e){let t=e.length;for(;--t>=0;)e[t]=0}const eK=0,XI=1,tK=2,rK=3,nK=258,p8=29,ag=256,O0=ag+1+p8,Sf=30,m8=19,ZI=2*O0+1,Rd=15,nx=16,iK=7,g8=256,YI=16,JI=17,QI=18,t4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sK=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aK=512,Fl=new Array((O0+2)*2);up(Fl);const Km=new Array(Sf*2);up(Km);const I0=new Array(aK);up(I0);const M0=new Array(nK-rK+1);up(M0);const v8=new Array(p8);up(v8);const Fy=new Array(Sf);up(Fy);function ix(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let tM,rM,nM;function sx(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const iM=e=>e<256?I0[e]:I0[256+(e>>>7)],L0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Vs=(e,t,r)=>{e.bi_valid>nx-r?(e.bi_buf|=t<<e.bi_valid&65535,L0(e,e.bi_buf),e.bi_buf=t>>nx-e.bi_valid,e.bi_valid+=r-nx):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Zo=(e,t,r)=>{Vs(e,r[t*2],r[t*2+1])},sM=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},oK=e=>{e.bi_valid===16?(L0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},lK=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,f,d,p,g=0;for(f=0;f<=Rd;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<ZI;c++)u=e.heap[c],f=r[r[u*2+1]*2+1]+1,f>l&&(f=l,g++),r[u*2+1]=f,!(u>n)&&(e.bl_count[f]++,d=0,u>=a&&(d=o[u-a]),p=r[u*2],e.opt_len+=p*(f+d),s&&(e.static_len+=p*(i[u*2+1]+d)));if(g!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(f=l;f!==0;f--)for(u=e.bl_count[f];u!==0;)h=e.heap[--c],!(h>n)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),u--)}},aM=(e,t,r)=>{const n=new Array(Rd+1);let i=0,s,o;for(s=1;s<=Rd;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=sM(n[a]++,a))}},cK=()=>{let e,t,r,n,i;const s=new Array(Rd+1);for(r=0,n=0;n<p8-1;n++)for(v8[n]=r,e=0;e<1<<t4[n];e++)M0[r++]=n;for(M0[r-1]=n,i=0,n=0;n<16;n++)for(Fy[n]=i,e=0;e<1<<qv[n];e++)I0[i++]=n;for(i>>=7;n<Sf;n++)for(Fy[n]=i<<7,e=0;e<1<<qv[n]-7;e++)I0[256+i++]=n;for(t=0;t<=Rd;t++)s[t]=0;for(e=0;e<=143;)Fl[e*2+1]=8,e++,s[8]++;for(;e<=255;)Fl[e*2+1]=9,e++,s[9]++;for(;e<=279;)Fl[e*2+1]=7,e++,s[7]++;for(;e<=287;)Fl[e*2+1]=8,e++,s[8]++;for(aM(Fl,O0+1,s),e=0;e<Sf;e++)Km[e*2+1]=5,Km[e*2]=sM(e,5);tM=new ix(Fl,t4,ag+1,O0,Rd),rM=new ix(Km,qv,0,Sf,Rd),nM=new ix(new Array(0),sK,0,m8,iK)},oM=e=>{let t;for(t=0;t<O0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Sf;t++)e.dyn_dtree[t*2]=0;for(t=0;t<m8;t++)e.bl_tree[t*2]=0;e.dyn_ltree[g8*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},lM=e=>{e.bi_valid>8?L0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},t7=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},ax=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&t7(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!t7(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},r7=(e,t,r)=>{let n,i,s=0,o,a;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?Zo(e,i,t):(o=M0[i],Zo(e,o+ag+1,t),a=t4[o],a!==0&&(i-=v8[o],Vs(e,i,a)),n--,o=iM(n),Zo(e,o,r),a=qv[o],a!==0&&(n-=Fy[o],Vs(e,n,a)));while(s<e.sym_next);Zo(e,g8,t)},r4=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=ZI,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)ax(e,r,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ax(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[c*2]=r[o*2]+r[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=c,e.heap[1]=c++,ax(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],lK(e,t),aM(r,l,e.bl_count)},n7=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[YI*2]++):a<=10?e.bl_tree[JI*2]++:e.bl_tree[QI*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},i7=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<l&&s===o)){if(a<c)do Zo(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Zo(e,s,e.bl_tree),a--),Zo(e,YI,e.bl_tree),Vs(e,a-3,2)):a<=10?(Zo(e,JI,e.bl_tree),Vs(e,a-3,3)):(Zo(e,QI,e.bl_tree),Vs(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},uK=e=>{let t;for(n7(e,e.dyn_ltree,e.l_desc.max_code),n7(e,e.dyn_dtree,e.d_desc.max_code),r4(e,e.bl_desc),t=m8-1;t>=3&&e.bl_tree[eM[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},dK=(e,t,r,n)=>{let i;for(Vs(e,t-257,5),Vs(e,r-1,5),Vs(e,n-4,4),i=0;i<n;i++)Vs(e,e.bl_tree[eM[i]*2+1],3);i7(e,e.dyn_ltree,t-1),i7(e,e.dyn_dtree,r-1)},hK=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return QN;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return e7;for(r=32;r<ag;r++)if(e.dyn_ltree[r*2]!==0)return e7;return QN};let s7=!1;const fK=e=>{s7||(cK(),s7=!0),e.l_desc=new sx(e.dyn_ltree,tM),e.d_desc=new sx(e.dyn_dtree,rM),e.bl_desc=new sx(e.bl_tree,nM),e.bi_buf=0,e.bi_valid=0,oM(e)},cM=(e,t,r,n)=>{Vs(e,(eK<<1)+(n?1:0),3),lM(e),L0(e,r),L0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},pK=e=>{Vs(e,XI<<1,3),Zo(e,g8,Fl),oK(e)},mK=(e,t,r,n)=>{let i,s,o=0;e.level>0?(e.strm.data_type===QG&&(e.strm.data_type=hK(e)),r4(e,e.l_desc),r4(e,e.d_desc),o=uK(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?cM(e,t,r,n):e.strategy===JG||s===i?(Vs(e,(XI<<1)+(n?1:0),3),r7(e,Fl,Km)):(Vs(e,(tK<<1)+(n?1:0),3),dK(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),r7(e,e.dyn_ltree,e.dyn_dtree)),oM(e),n&&lM(e)},gK=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(M0[r]+ag+1)*2]++,e.dyn_dtree[iM(t)*2]++),e.sym_next===e.sym_end);var vK=fK,yK=cM,bK=mK,wK=gK,xK=pK,_K={_tr_init:vK,_tr_stored_block:yK,_tr_flush_block:bK,_tr_tally:wK,_tr_align:xK};const SK=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var D0=SK;const EK=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},kK=new Uint32Array(EK()),NK=(e,t,r,n)=>{const i=kK,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var zi=NK,Ff={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},og={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:AK,_tr_stored_block:n4,_tr_flush_block:CK,_tr_tally:pu,_tr_align:jK}=_K,{Z_NO_FLUSH:mu,Z_PARTIAL_FLUSH:TK,Z_FULL_FLUSH:RK,Z_FINISH:za,Z_BLOCK:a7,Z_OK:Zi,Z_STREAM_END:o7,Z_STREAM_ERROR:sl,Z_DATA_ERROR:PK,Z_BUF_ERROR:ox,Z_DEFAULT_COMPRESSION:OK,Z_FILTERED:IK,Z_HUFFMAN_ONLY:F1,Z_RLE:MK,Z_FIXED:LK,Z_DEFAULT_STRATEGY:DK,Z_UNKNOWN:BK,Z_DEFLATED:Mb}=og,FK=9,zK=15,UK=8,$K=29,HK=256,i4=HK+1+$K,WK=30,qK=19,VK=2*i4+1,GK=15,$r=3,tu=258,al=tu+$r+1,KK=32,zf=42,y8=57,s4=69,a4=73,o4=91,l4=103,Pd=113,Pm=666,Ns=1,dp=2,Qd=3,hp=4,XK=3,Od=(e,t)=>(e.msg=Ff[t],t),l7=e=>e*2-(e>4?9:0),Yc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ZK=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let YK=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,gu=YK;const fa=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ya=(e,t)=>{CK(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fa(e.strm)},Yr=(e,t)=>{e.pending_buf[e.pending++]=t},cm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},c4=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=D0(e.adler,t,i,r):e.state.wrap===2&&(e.adler=zi(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},uM=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-al?e.strstart-(e.w_size-al):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+tu;let d=c[n+o-1],p=c[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==p||c[i+o-1]!==d||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<f);if(s=tu-(f-n),n=f-tu,s>o){if(e.match_start=t,o=s,s>=a)break;d=c[n+o-1],p=c[n+o]}}while((t=h[t&u])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead},Uf=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-al)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),ZK(e),n+=t),e.strm.avail_in===0)break;if(r=c4(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=$r)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=gu(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=gu(e,e.ins_h,e.window[i+$r-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<$r)););}while(e.lookahead<al&&e.strm.avail_in!==0)},dM=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,o=0,a=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==za||t===mu||n!==i+e.strm.avail_in)))break;o=t===za&&n===i+e.strm.avail_in?1:0,n4(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,fa(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(c4(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?hp:t!==mu&&t!==za&&e.strm.avail_in===0&&e.strstart===e.block_start?dp:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(c4(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===za)&&t!==mu&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=t===za&&e.strm.avail_in===0&&n===i?1:0,n4(e,e.block_start,n,o),e.block_start+=n,fa(e.strm)),o?Qd:Ns)},lx=(e,t)=>{let r,n;for(;;){if(e.lookahead<al){if(Uf(e),e.lookahead<al&&t===mu)return Ns;if(e.lookahead===0)break}if(r=0,e.lookahead>=$r&&(e.ins_h=gu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-al&&(e.match_length=uM(e,r)),e.match_length>=$r)if(n=pu(e,e.strstart-e.match_start,e.match_length-$r),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$r){e.match_length--;do e.strstart++,e.ins_h=gu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=gu(e,e.ins_h,e.window[e.strstart+1]);else n=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ya(e,!1),e.strm.avail_out===0))return Ns}return e.insert=e.strstart<$r-1?e.strstart:$r-1,t===za?(ya(e,!0),e.strm.avail_out===0?Qd:hp):e.sym_next&&(ya(e,!1),e.strm.avail_out===0)?Ns:dp},Fh=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<al){if(Uf(e),e.lookahead<al&&t===mu)return Ns;if(e.lookahead===0)break}if(r=0,e.lookahead>=$r&&(e.ins_h=gu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$r-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-al&&(e.match_length=uM(e,r),e.match_length<=5&&(e.strategy===IK||e.match_length===$r&&e.strstart-e.match_start>4096)&&(e.match_length=$r-1)),e.prev_length>=$r&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-$r,n=pu(e,e.strstart-1-e.prev_match,e.prev_length-$r),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=gu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$r-1,e.strstart++,n&&(ya(e,!1),e.strm.avail_out===0))return Ns}else if(e.match_available){if(n=pu(e,0,e.window[e.strstart-1]),n&&ya(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ns}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=pu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$r-1?e.strstart:$r-1,t===za?(ya(e,!0),e.strm.avail_out===0?Qd:hp):e.sym_next&&(ya(e,!1),e.strm.avail_out===0)?Ns:dp},JK=(e,t)=>{let r,n,i,s;const o=e.window;for(;;){if(e.lookahead<=tu){if(Uf(e),e.lookahead<=tu&&t===mu)return Ns;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$r&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+tu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=tu-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$r?(r=pu(e,1,e.match_length-$r),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ya(e,!1),e.strm.avail_out===0))return Ns}return e.insert=0,t===za?(ya(e,!0),e.strm.avail_out===0?Qd:hp):e.sym_next&&(ya(e,!1),e.strm.avail_out===0)?Ns:dp},QK=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Uf(e),e.lookahead===0)){if(t===mu)return Ns;break}if(e.match_length=0,r=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ya(e,!1),e.strm.avail_out===0))return Ns}return e.insert=0,t===za?(ya(e,!0),e.strm.avail_out===0?Qd:hp):e.sym_next&&(ya(e,!1),e.strm.avail_out===0)?Ns:dp};function Bo(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Om=[new Bo(0,0,0,0,dM),new Bo(4,4,8,4,lx),new Bo(4,5,16,8,lx),new Bo(4,6,32,32,lx),new Bo(4,4,16,16,Fh),new Bo(8,16,32,32,Fh),new Bo(8,16,128,128,Fh),new Bo(8,32,128,256,Fh),new Bo(32,128,258,1024,Fh),new Bo(32,258,258,4096,Fh)],eX=e=>{e.window_size=2*e.w_size,Yc(e.head),e.max_lazy_match=Om[e.level].max_lazy,e.good_match=Om[e.level].good_length,e.nice_match=Om[e.level].nice_length,e.max_chain_length=Om[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$r-1,e.match_available=0,e.ins_h=0};function tX(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Mb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(VK*2),this.dyn_dtree=new Uint16Array((2*WK+1)*2),this.bl_tree=new Uint16Array((2*qK+1)*2),Yc(this.dyn_ltree),Yc(this.dyn_dtree),Yc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(GK+1),this.heap=new Uint16Array(2*i4+1),Yc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*i4+1),Yc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const lg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==zf&&t.status!==y8&&t.status!==s4&&t.status!==a4&&t.status!==o4&&t.status!==l4&&t.status!==Pd&&t.status!==Pm?1:0},hM=e=>{if(lg(e))return Od(e,sl);e.total_in=e.total_out=0,e.data_type=BK;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?y8:t.wrap?zf:Pd,e.adler=t.wrap===2?0:1,t.last_flush=-2,AK(t),Zi},fM=e=>{const t=hM(e);return t===Zi&&eX(e.state),t},rX=(e,t)=>lg(e)||e.state.wrap!==2?sl:(e.state.gzhead=t,Zi),pM=(e,t,r,n,i,s)=>{if(!e)return sl;let o=1;if(t===OK&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>FK||r!==Mb||n<8||n>15||t<0||t>9||s<0||s>LK||n===8&&o!==1)return Od(e,sl);n===8&&(n=9);const a=new tX;return e.state=a,a.strm=e,a.status=zf,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+$r-1)/$r),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=r,fM(e)},nX=(e,t)=>pM(e,t,Mb,zK,UK,DK),iX=(e,t)=>{if(lg(e)||t>a7||t<0)return e?Od(e,sl):sl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Pm&&t!==za)return Od(e,e.avail_out===0?ox:sl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(fa(e),e.avail_out===0)return r.last_flush=-1,Zi}else if(e.avail_in===0&&l7(t)<=l7(n)&&t!==za)return Od(e,ox);if(r.status===Pm&&e.avail_in!==0)return Od(e,ox);if(r.status===zf&&r.wrap===0&&(r.status=Pd),r.status===zf){let i=Mb+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=F1||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=KK),i+=31-i%31,cm(r,i),r.strstart!==0&&(cm(r,e.adler>>>16),cm(r,e.adler&65535)),e.adler=1,r.status=Pd,fa(e),r.pending!==0)return r.last_flush=-1,Zi}if(r.status===y8){if(e.adler=0,Yr(r,31),Yr(r,139),Yr(r,8),r.gzhead)Yr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Yr(r,r.gzhead.time&255),Yr(r,r.gzhead.time>>8&255),Yr(r,r.gzhead.time>>16&255),Yr(r,r.gzhead.time>>24&255),Yr(r,r.level===9?2:r.strategy>=F1||r.level<2?4:0),Yr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Yr(r,r.gzhead.extra.length&255),Yr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=zi(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=s4;else if(Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,r.level===9?2:r.strategy>=F1||r.level<2?4:0),Yr(r,XK),r.status=Pd,fa(e),r.pending!==0)return r.last_flush=-1,Zi}if(r.status===s4){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=a,fa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0,s-=a}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=a4}if(r.status===a4){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),fa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Yr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=o4}if(r.status===o4){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),fa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Yr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i))}r.status=l4}if(r.status===l4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(fa(e),r.pending!==0))return r.last_flush=-1,Zi;Yr(r,e.adler&255),Yr(r,e.adler>>8&255),e.adler=0}if(r.status=Pd,fa(e),r.pending!==0)return r.last_flush=-1,Zi}if(e.avail_in!==0||r.lookahead!==0||t!==mu&&r.status!==Pm){let i=r.level===0?dM(r,t):r.strategy===F1?QK(r,t):r.strategy===MK?JK(r,t):Om[r.level].func(r,t);if((i===Qd||i===hp)&&(r.status=Pm),i===Ns||i===Qd)return e.avail_out===0&&(r.last_flush=-1),Zi;if(i===dp&&(t===TK?jK(r):t!==a7&&(n4(r,0,0,!1),t===RK&&(Yc(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),fa(e),e.avail_out===0))return r.last_flush=-1,Zi}return t!==za?Zi:r.wrap<=0?o7:(r.wrap===2?(Yr(r,e.adler&255),Yr(r,e.adler>>8&255),Yr(r,e.adler>>16&255),Yr(r,e.adler>>24&255),Yr(r,e.total_in&255),Yr(r,e.total_in>>8&255),Yr(r,e.total_in>>16&255),Yr(r,e.total_in>>24&255)):(cm(r,e.adler>>>16),cm(r,e.adler&65535)),fa(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Zi:o7)},sX=e=>{if(lg(e))return sl;const t=e.state.status;return e.state=null,t===Pd?Od(e,PK):Zi},aX=(e,t)=>{let r=t.length;if(lg(e))return sl;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==zf||n.lookahead)return sl;if(i===1&&(e.adler=D0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Yc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Uf(n);n.lookahead>=$r;){let l=n.strstart,c=n.lookahead-($r-1);do n.ins_h=gu(n,n.ins_h,n.window[l+$r-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=$r-1,Uf(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=$r-1,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,Zi};var oX=nX,lX=pM,cX=fM,uX=hM,dX=rX,hX=iX,fX=sX,pX=aX,mX="pako deflate (from Nodeca project)",Xm={deflateInit:oX,deflateInit2:lX,deflateReset:cX,deflateResetKeep:uX,deflateSetHeader:dX,deflate:hX,deflateEnd:fX,deflateSetDictionary:pX,deflateInfo:mX};const gX=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var vX=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)gX(r,n)&&(e[n]=r[n])}}return e},yX=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},Lb={assign:vX,flattenChunks:yX};let mM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mM=!1}const B0=new Uint8Array(256);for(let e=0;e<256;e++)B0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;B0[254]=B0[254]=1;var bX=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const wX=(e,t)=>{if(t<65534&&e.subarray&&mM)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var xX=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let a=B0[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|e[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return wX(s,i)},_X=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+B0[e[r]]>t?r:t},F0={string2buf:bX,buf2string:xX,utf8border:_X};function SX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gM=SX;const vM=Object.prototype.toString,{Z_NO_FLUSH:EX,Z_SYNC_FLUSH:kX,Z_FULL_FLUSH:NX,Z_FINISH:AX,Z_OK:zy,Z_STREAM_END:CX,Z_DEFAULT_COMPRESSION:jX,Z_DEFAULT_STRATEGY:TX,Z_DEFLATED:RX}=og;function b8(e){this.options=Lb.assign({level:jX,method:RX,chunkSize:16384,windowBits:15,memLevel:8,strategy:TX},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gM,this.strm.avail_out=0;let r=Xm.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==zy)throw new Error(Ff[r]);if(t.header&&Xm.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=F0.string2buf(t.dictionary):vM.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Xm.deflateSetDictionary(this.strm,n),r!==zy)throw new Error(Ff[r]);this._dict_set=!0}}b8.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?AX:EX,typeof e=="string"?r.input=F0.string2buf(e):vM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===kX||s===NX)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Xm.deflate(r,s),i===CX)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Xm.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===zy;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};b8.prototype.onData=function(e){this.chunks.push(e)};b8.prototype.onEnd=function(e){e===zy&&(this.result=Lb.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const z1=16209,PX=16191;var OX=function(t,r){let n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,b,x,_,M,U,L,O,H;const G=t.state;n=t.next_in,O=t.input,i=n+(t.avail_in-5),s=t.next_out,H=t.output,o=s-(r-t.avail_out),a=s+(t.avail_out-257),l=G.dmax,c=G.wsize,u=G.whave,h=G.wnext,f=G.window,d=G.hold,p=G.bits,g=G.lencode,m=G.distcode,v=(1<<G.lenbits)-1,y=(1<<G.distbits)-1;e:do{p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),b=g[d&v];t:for(;;){if(x=b>>>24,d>>>=x,p-=x,x=b>>>16&255,x===0)H[s++]=b&65535;else if(x&16){_=b&65535,x&=15,x&&(p<x&&(d+=O[n++]<<p,p+=8),_+=d&(1<<x)-1,d>>>=x,p-=x),p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),b=m[d&y];r:for(;;){if(x=b>>>24,d>>>=x,p-=x,x=b>>>16&255,x&16){if(M=b&65535,x&=15,p<x&&(d+=O[n++]<<p,p+=8,p<x&&(d+=O[n++]<<p,p+=8)),M+=d&(1<<x)-1,M>l){t.msg="invalid distance too far back",G.mode=z1;break e}if(d>>>=x,p-=x,x=s-o,M>x){if(x=M-x,x>u&&G.sane){t.msg="invalid distance too far back",G.mode=z1;break e}if(U=0,L=f,h===0){if(U+=c-x,x<_){_-=x;do H[s++]=f[U++];while(--x);U=s-M,L=H}}else if(h<x){if(U+=c+h-x,x-=h,x<_){_-=x;do H[s++]=f[U++];while(--x);if(U=0,h<_){x=h,_-=x;do H[s++]=f[U++];while(--x);U=s-M,L=H}}}else if(U+=h-x,x<_){_-=x;do H[s++]=f[U++];while(--x);U=s-M,L=H}for(;_>2;)H[s++]=L[U++],H[s++]=L[U++],H[s++]=L[U++],_-=3;_&&(H[s++]=L[U++],_>1&&(H[s++]=L[U++]))}else{U=s-M;do H[s++]=H[U++],H[s++]=H[U++],H[s++]=H[U++],_-=3;while(_>2);_&&(H[s++]=H[U++],_>1&&(H[s++]=H[U++]))}}else if(x&64){t.msg="invalid distance code",G.mode=z1;break e}else{b=m[(b&65535)+(d&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){G.mode=PX;break e}else{t.msg="invalid literal/length code",G.mode=z1;break e}else{b=g[(b&65535)+(d&(1<<x)-1)];continue t}break}}while(n<i&&s<a);_=p>>3,n-=_,p-=_<<3,d&=(1<<p)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<a?257+(a-s):257-(s-a),G.hold=d,G.bits=p};const zh=15,c7=852,u7=592,d7=0,cx=1,h7=2,IX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BX=(e,t,r,n,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,f=0,d=0,p=0,g=0,m=0,v=0,y=0,b,x,_,M,U,L=null,O;const H=new Uint16Array(zh+1),G=new Uint16Array(zh+1);let I=null,R,S,j;for(c=0;c<=zh;c++)H[c]=0;for(u=0;u<n;u++)H[t[r+u]]++;for(d=l,f=zh;f>=1&&H[f]===0;f--);if(d>f&&(d=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<f&&H[h]===0;h++);for(d<h&&(d=h),m=1,c=1;c<=zh;c++)if(m<<=1,m-=H[c],m<0)return-1;if(m>0&&(e===d7||f!==1))return-1;for(G[1]=0,c=1;c<zh;c++)G[c+1]=G[c]+H[c];for(u=0;u<n;u++)t[r+u]!==0&&(o[G[t[r+u]]++]=u);if(e===d7?(L=I=o,O=20):e===cx?(L=IX,I=MX,O=257):(L=LX,I=DX,O=0),y=0,u=0,c=h,U=s,p=d,g=0,_=-1,v=1<<d,M=v-1,e===cx&&v>c7||e===h7&&v>u7)return 1;for(;;){R=c-g,o[u]+1<O?(S=0,j=o[u]):o[u]>=O?(S=I[o[u]-O],j=L[o[u]-O]):(S=96,j=0),b=1<<c-g,x=1<<p,h=x;do x-=b,i[U+(y>>g)+x]=R<<24|S<<16|j|0;while(x!==0);for(b=1<<c-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,u++,--H[c]===0){if(c===f)break;c=t[r+o[u]]}if(c>d&&(y&M)!==_){for(g===0&&(g=d),U+=h,p=c-g,m=1<<p;p+g<f&&(m-=H[p+g],!(m<=0));)p++,m<<=1;if(v+=1<<p,e===cx&&v>c7||e===h7&&v>u7)return 1;_=y&M,i[_]=d<<24|p<<16|U-s|0}}return y!==0&&(i[U+y]=c-g<<24|64<<16|0),a.bits=d,0};var Zm=BX;const FX=0,yM=1,bM=2,{Z_FINISH:f7,Z_BLOCK:zX,Z_TREES:U1,Z_OK:eh,Z_STREAM_END:UX,Z_NEED_DICT:$X,Z_STREAM_ERROR:Ka,Z_DATA_ERROR:wM,Z_MEM_ERROR:xM,Z_BUF_ERROR:HX,Z_DEFLATED:p7}=og,Db=16180,m7=16181,g7=16182,v7=16183,y7=16184,b7=16185,w7=16186,x7=16187,_7=16188,S7=16189,Uy=16190,Rl=16191,ux=16192,E7=16193,dx=16194,k7=16195,N7=16196,A7=16197,C7=16198,$1=16199,H1=16200,j7=16201,T7=16202,R7=16203,P7=16204,O7=16205,hx=16206,I7=16207,M7=16208,Rn=16209,_M=16210,SM=16211,WX=852,qX=592,VX=15,GX=VX,L7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function KX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Db||t.mode>SM?1:0},EM=e=>{if(lh(e))return Ka;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Db,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(WX),t.distcode=t.distdyn=new Int32Array(qX),t.sane=1,t.back=-1,eh},kM=e=>{if(lh(e))return Ka;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,EM(e)},NM=(e,t)=>{let r;if(lh(e))return Ka;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ka:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,kM(e))},AM=(e,t)=>{if(!e)return Ka;const r=new KX;e.state=r,r.strm=e,r.window=null,r.mode=Db;const n=NM(e,t);return n!==eh&&(e.state=null),n},XX=e=>AM(e,GX);let D7=!0,fx,px;const ZX=e=>{if(D7){fx=new Int32Array(512),px=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zm(yM,e.lens,0,288,fx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zm(bM,e.lens,0,32,px,0,e.work,{bits:5}),D7=!1}e.lencode=fx,e.lenbits=9,e.distcode=px,e.distbits=5},CM=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},YX=(e,t)=>{let r,n,i,s,o,a,l,c,u,h,f,d,p,g,m=0,v,y,b,x,_,M,U,L;const O=new Uint8Array(4);let H,G;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lh(e)||!e.output||!e.input&&e.avail_in!==0)return Ka;r=e.state,r.mode===Rl&&(r.mode=ux),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,h=a,f=l,L=eh;e:for(;;)switch(r.mode){case Db:if(r.wrap===0){r.mode=ux;break}for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0),c=0,u=0,r.mode=m7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Rn;break}if((c&15)!==p7){e.msg="unknown compression method",r.mode=Rn;break}if(c>>>=4,u-=4,U=(c&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){e.msg="invalid window size",r.mode=Rn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?S7:Rl,c=0,u=0;break;case m7:for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==p7){e.msg="unknown compression method",r.mode=Rn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Rn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0,r.mode=g7;case g7:for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,r.check=zi(r.check,O,4,0)),c=0,u=0,r.mode=v7;case v7:for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0,r.mode=y7;case y7:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=b7;case b7:if(r.flags&1024&&(d=r.length,d>a&&(d=a),d&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),U)),r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=w7;case w7:if(r.flags&2048){if(a===0)break e;d=0;do U=n[s+d++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=x7;case x7:if(r.flags&4096){if(a===0)break e;d=0;do U=n[s+d++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,U)break e}else r.head&&(r.head.comment=null);r.mode=_7;case _7:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Rn;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Rl;break;case S7:for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}e.adler=r.check=L7(c),c=0,u=0,r.mode=Uy;case Uy:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,$X;e.adler=r.check=1,r.mode=Rl;case Rl:if(t===zX||t===U1)break e;case ux:if(r.last){c>>>=u&7,u-=u&7,r.mode=hx;break}for(;u<3;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=E7;break;case 1:if(ZX(r),r.mode=$1,t===U1){c>>>=2,u-=2;break e}break;case 2:r.mode=N7;break;case 3:e.msg="invalid block type",r.mode=Rn}c>>>=2,u-=2;break;case E7:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Rn;break}if(r.length=c&65535,c=0,u=0,r.mode=dx,t===U1)break e;case dx:r.mode=k7;case k7:if(d=r.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;i.set(n.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,r.length-=d;break}r.mode=Rl;break;case N7:for(;u<14;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Rn;break}r.have=0,r.mode=A7;case A7:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.lens[I[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},L=Zm(FX,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid code lengths set",r.mode=Rn;break}r.have=0,r.mode=C7;case C7:for(;r.have<r.nlen+r.ndist;){for(;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(b<16)c>>>=v,u-=v,r.lens[r.have++]=b;else{if(b===16){for(G=v+2;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(c>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Rn;break}U=r.lens[r.have-1],d=3+(c&3),c>>>=2,u-=2}else if(b===17){for(G=v+3;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,U=0,d=3+(c&7),c>>>=3,u-=3}else{for(G=v+7;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,U=0,d=11+(c&127),c>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Rn;break}for(;d--;)r.lens[r.have++]=U}}if(r.mode===Rn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Rn;break}if(r.lenbits=9,H={bits:r.lenbits},L=Zm(yM,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid literal/lengths set",r.mode=Rn;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},L=Zm(bM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,L){e.msg="invalid distances set",r.mode=Rn;break}if(r.mode=$1,t===U1)break e;case $1:r.mode=H1;case H1:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,OX(e,f),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,r.mode===Rl&&(r.back=-1);break}for(r.back=0;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(y&&!(y&240)){for(x=v,_=y,M=b;m=r.lencode[M+((c&(1<<x+_)-1)>>x)],v=m>>>24,y=m>>>16&255,b=m&65535,!(x+v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=x,u-=x,r.back+=x}if(c>>>=v,u-=v,r.back+=v,r.length=b,y===0){r.mode=O7;break}if(y&32){r.back=-1,r.mode=Rl;break}if(y&64){e.msg="invalid literal/length code",r.mode=Rn;break}r.extra=y&15,r.mode=j7;case j7:if(r.extra){for(G=r.extra;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=T7;case T7:for(;m=r.distcode[c&(1<<r.distbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(!(y&240)){for(x=v,_=y,M=b;m=r.distcode[M+((c&(1<<x+_)-1)>>x)],v=m>>>24,y=m>>>16&255,b=m&65535,!(x+v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=x,u-=x,r.back+=x}if(c>>>=v,u-=v,r.back+=v,y&64){e.msg="invalid distance code",r.mode=Rn;break}r.offset=b,r.extra=y&15,r.mode=R7;case R7:if(r.extra){for(G=r.extra;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Rn;break}r.mode=P7;case P7:if(l===0)break e;if(d=f-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Rn;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[o++]=g[p++];while(--d);r.length===0&&(r.mode=H1);break;case O7:if(l===0)break e;i[o++]=r.length,l--,r.mode=H1;break;case hx:if(r.wrap){for(;u<32;){if(a===0)break e;a--,c|=n[s++]<<u,u+=8}if(f-=l,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?zi(r.check,i,f,o-f):D0(r.check,i,f,o-f)),f=l,r.wrap&4&&(r.flags?c:L7(c))!==r.check){e.msg="incorrect data check",r.mode=Rn;break}c=0,u=0}r.mode=I7;case I7:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Rn;break}c=0,u=0}r.mode=M7;case M7:L=UX;break e;case Rn:L=wM;break e;case _M:return xM;case SM:default:return Ka}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<Rn&&(r.mode<hx||t!==f7))&&CM(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?zi(r.check,i,f,e.next_out-f):D0(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Rl?128:0)+(r.mode===$1||r.mode===dx?256:0),(h===0&&f===0||t===f7)&&L===eh&&(L=HX),L},JX=e=>{if(lh(e))return Ka;let t=e.state;return t.window&&(t.window=null),e.state=null,eh},QX=(e,t)=>{if(lh(e))return Ka;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,eh):Ka},eZ=(e,t)=>{const r=t.length;let n,i,s;return lh(e)||(n=e.state,n.wrap!==0&&n.mode!==Uy)?Ka:n.mode===Uy&&(i=1,i=D0(i,t,r,0),i!==n.check)?wM:(s=CM(e,t,r,r),s?(n.mode=_M,xM):(n.havedict=1,eh))};var tZ=kM,rZ=NM,nZ=EM,iZ=XX,sZ=AM,aZ=YX,oZ=JX,lZ=QX,cZ=eZ,uZ="pako inflate (from Nodeca project)",zl={inflateReset:tZ,inflateReset2:rZ,inflateResetKeep:nZ,inflateInit:iZ,inflateInit2:sZ,inflate:aZ,inflateEnd:oZ,inflateGetHeader:lZ,inflateSetDictionary:cZ,inflateInfo:uZ};function dZ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hZ=dZ;const jM=Object.prototype.toString,{Z_NO_FLUSH:fZ,Z_FINISH:pZ,Z_OK:z0,Z_STREAM_END:mx,Z_NEED_DICT:gx,Z_STREAM_ERROR:mZ,Z_DATA_ERROR:B7,Z_MEM_ERROR:gZ}=og;function cg(e){this.options=Lb.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gM,this.strm.avail_out=0;let r=zl.inflateInit2(this.strm,t.windowBits);if(r!==z0)throw new Error(Ff[r]);if(this.header=new hZ,zl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=F0.string2buf(t.dictionary):jM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zl.inflateSetDictionary(this.strm,t.dictionary),r!==z0)))throw new Error(Ff[r])}cg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?pZ:fZ,jM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=zl.inflate(r,o),s===gx&&i&&(s=zl.inflateSetDictionary(r,i),s===z0?s=zl.inflate(r,o):s===B7&&(s=gx));r.avail_in>0&&s===mx&&r.state.wrap>0&&e[r.next_in]!==0;)zl.inflateReset(r),s=zl.inflate(r,o);switch(s){case mZ:case B7:case gx:case gZ:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===mx))if(this.options.to==="string"){let l=F0.utf8border(r.output,r.next_out),c=r.next_out-l,u=F0.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===z0&&a===0)){if(s===mx)return s=zl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};cg.prototype.onData=function(e){this.chunks.push(e)};cg.prototype.onEnd=function(e){e===z0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lb.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function w8(e,t){const r=new cg(t);if(r.push(e),r.err)throw r.msg||Ff[r.err];return r.result}function vZ(e,t){return t=t||{},t.raw=!0,w8(e,t)}var yZ=cg,bZ=w8,wZ=vZ,xZ=w8,_Z=og,SZ={Inflate:yZ,inflate:bZ,inflateRaw:wZ,ungzip:xZ,constants:_Z};const{Inflate:EZ,inflate:kZ,inflateRaw:vge,ungzip:yge}=SZ;var F7=EZ,NZ=kZ;const TM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;TM[e]=t}const z7=4294967295;function AZ(e,t,r){let n=e;for(let i=0;i<r;i++)n=TM[(n^t[i])&255]^n>>>8;return n}function CZ(e,t){return(AZ(z7,e,t)^z7)>>>0}function U7(e,t,r){const n=e.readUint32(),i=CZ(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function RM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function PM(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function OM(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function IM(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function MM(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+jZ(t[s-i],r[s],r[s-i])&255}}function jZ(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return i<=s&&i<=o?e:s<=o?t:r}function TZ(e,t,r,n,i,s){switch(e){case 0:RM(t,r,i);break;case 1:PM(t,r,i,s);break;case 2:OM(t,r,n,i);break;case 3:IM(t,r,n,i,s);break;case 4:MM(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const RZ=new Uint16Array([255]),PZ=new Uint8Array(RZ.buffer),OZ=PZ[0]===255;function IZ(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(n*r*a);let c=0;for(let u=0;u<7;u++){const h=o[u],f=Math.ceil((r-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(f<=0||d<=0)continue;const p=f*a,g=new Uint8Array(p);for(let m=0;m<d;m++){const v=t[c++],y=t.subarray(c,c+p);c+=p;const b=new Uint8Array(p);TZ(v,y,b,g,p,a),g.set(b);for(let x=0;x<f;x++){const _=h.x+x*h.xStep,M=h.y+m*h.yStep;if(!(_>=r||M>=n))for(let U=0;U<a;U++)l[(M*r+_)*a+U]=b[x*a+U]}}}if(s===16){const u=new Uint16Array(l.buffer);if(OZ)for(let h=0;h<u.length;h++)u[h]=MZ(u[h]);return u}else return l}function MZ(e){return(e&255)<<8|e>>8&255}const LZ=new Uint16Array([255]),DZ=new Uint8Array(LZ.buffer),BZ=DZ[0]===255,FZ=new Uint8Array(0);function $7(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),l=new Uint8Array(n*a);let c=FZ,u=0,h,f;for(let d=0;d<n;d++){switch(h=t.subarray(u+1,u+1+a),f=l.subarray(d*a,(d+1)*a),t[u]){case 0:RM(h,f,a);break;case 1:PM(h,f,a,o);break;case 2:OM(h,f,c,a);break;case 3:IM(h,f,c,a,o);break;case 4:MM(h,f,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=f,u+=a+1}if(s===16){const d=new Uint16Array(l.buffer);if(BZ)for(let p=0;p<d.length;p++)d[p]=zZ(d[p]);return d}else return l}function zZ(e){return(e&255)<<8|e>>8&255}const Vv=Uint8Array.of(137,80,78,71,13,10,26,10);function H7(e){if(!UZ(e.readBytes(Vv.length)))throw new Error("wrong PNG signature")}function UZ(e){if(e.length<Vv.length)return!1;for(let t=0;t<Vv.length;t++)if(e[t]!==Vv[t])return!1;return!0}const $Z="tEXt",HZ=0,LM=new TextDecoder("latin1");function WZ(e){if(VZ(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const qZ=/^[\u0000-\u00FF]*$/;function VZ(e){if(!qZ.test(e))throw new Error("invalid latin1 text")}function GZ(e,t,r){const n=DM(t);e[n]=KZ(t,r-n.length-1)}function DM(e){for(e.mark();e.readByte()!==HZ;);const t=e.offset;e.reset();const r=LM.decode(e.readBytes(t-e.offset-1));return e.skip(1),WZ(r),r}function KZ(e,t){return LM.decode(e.readBytes(t))}const ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},vx={UNKNOWN:-1,DEFLATE:0},W7={UNKNOWN:-1,ADAPTIVE:0},yx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},W1={NONE:0,BACKGROUND:1,PREVIOUS:2},bx={SOURCE:0,OVER:1};class XZ extends f8{constructor(r,n={}){super(r);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new F7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=vx.UNKNOWN,this._filterMethod=W7.UNKNOWN,this._interlaceMethod=yx.UNKNOWN,this._colorType=ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(H7(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(H7(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case $Z:GZ(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?U7(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?U7(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=ZZ(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ha.GREYSCALE:i=1;break;case ha.TRUECOLOUR:i=3;break;case ha.INDEXED_COLOUR:i=1;break;case ha.GREYSCALE_ALPHA:i=2;break;case ha.TRUECOLOUR_ALPHA:i=4;break;case ha.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==vx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ha.GREYSCALE:case ha.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ha.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ha.UNKNOWN:case ha.GREYSCALE_ALPHA:case ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=DM(this),i=this.readUint8();if(i!==vx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:NZ(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=$7({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case W1.NONE:break;case W1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case W1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case bx.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case bx.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:n.data[c+u],d=Math.floor(h*f+(1-h)*r.data[l+u]);r.data[l+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==W7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yx.NO_INTERLACE)this._png.data=$7({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yx.ADAM7)this._png.data=IZ({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:W1.NONE,blendOp:bx.SOURCE,data:r}),this._inflator=new F7,this._writingDataChunks=!1}}function ZZ(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var q7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(q7||(q7={}));function YZ(e,t){return new XZ(e,t).decode()}var cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wx(){cr.console&&typeof cr.console.log=="function"&&cr.console.log.apply(cr.console,arguments)}var pn={log:wx,warn:function(e){cr.console&&(typeof cr.console.warn=="function"?cr.console.warn.apply(cr.console,arguments):wx.call(null,arguments))},error:function(e){cr.console&&(typeof cr.console.error=="function"?cr.console.error.apply(cr.console,arguments):wx(e))}};function xx(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){pn.error("could not download file")},n.send()}function V7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function q1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Sd=cr.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=cr.URL||cr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?V7(i.href)?xx(e,t,r):q1(i,i.target="_blank"):q1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){q1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(V7(e))xx(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){q1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:an(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return xx(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(cr.HTMLElement)||cr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(e)}else{var l=cr.URL||cr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Gv=cr.atob.bind(cr),G7=cr.btoa.bind(cr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _x(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=ds(r,n,i,s,t[0],7,-680876936),s=ds(s,r,n,i,t[1],12,-389564586),i=ds(i,s,r,n,t[2],17,606105819),n=ds(n,i,s,r,t[3],22,-1044525330),r=ds(r,n,i,s,t[4],7,-176418897),s=ds(s,r,n,i,t[5],12,1200080426),i=ds(i,s,r,n,t[6],17,-1473231341),n=ds(n,i,s,r,t[7],22,-45705983),r=ds(r,n,i,s,t[8],7,1770035416),s=ds(s,r,n,i,t[9],12,-1958414417),i=ds(i,s,r,n,t[10],17,-42063),n=ds(n,i,s,r,t[11],22,-1990404162),r=ds(r,n,i,s,t[12],7,1804603682),s=ds(s,r,n,i,t[13],12,-40341101),i=ds(i,s,r,n,t[14],17,-1502002290),r=hs(r,n=ds(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=hs(s,r,n,i,t[6],9,-1069501632),i=hs(i,s,r,n,t[11],14,643717713),n=hs(n,i,s,r,t[0],20,-373897302),r=hs(r,n,i,s,t[5],5,-701558691),s=hs(s,r,n,i,t[10],9,38016083),i=hs(i,s,r,n,t[15],14,-660478335),n=hs(n,i,s,r,t[4],20,-405537848),r=hs(r,n,i,s,t[9],5,568446438),s=hs(s,r,n,i,t[14],9,-1019803690),i=hs(i,s,r,n,t[3],14,-187363961),n=hs(n,i,s,r,t[8],20,1163531501),r=hs(r,n,i,s,t[13],5,-1444681467),s=hs(s,r,n,i,t[2],9,-51403784),i=hs(i,s,r,n,t[7],14,1735328473),r=fs(r,n=hs(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=fs(s,r,n,i,t[8],11,-2022574463),i=fs(i,s,r,n,t[11],16,1839030562),n=fs(n,i,s,r,t[14],23,-35309556),r=fs(r,n,i,s,t[1],4,-1530992060),s=fs(s,r,n,i,t[4],11,1272893353),i=fs(i,s,r,n,t[7],16,-155497632),n=fs(n,i,s,r,t[10],23,-1094730640),r=fs(r,n,i,s,t[13],4,681279174),s=fs(s,r,n,i,t[0],11,-358537222),i=fs(i,s,r,n,t[3],16,-722521979),n=fs(n,i,s,r,t[6],23,76029189),r=fs(r,n,i,s,t[9],4,-640364487),s=fs(s,r,n,i,t[12],11,-421815835),i=fs(i,s,r,n,t[15],16,530742520),r=ps(r,n=fs(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ps(s,r,n,i,t[7],10,1126891415),i=ps(i,s,r,n,t[14],15,-1416354905),n=ps(n,i,s,r,t[5],21,-57434055),r=ps(r,n,i,s,t[12],6,1700485571),s=ps(s,r,n,i,t[3],10,-1894986606),i=ps(i,s,r,n,t[10],15,-1051523),n=ps(n,i,s,r,t[1],21,-2054922799),r=ps(r,n,i,s,t[8],6,1873313359),s=ps(s,r,n,i,t[15],10,-30611744),i=ps(i,s,r,n,t[6],15,-1560198380),n=ps(n,i,s,r,t[13],21,1309151649),r=ps(r,n,i,s,t[4],6,-145523070),s=ps(s,r,n,i,t[11],10,-1120210379),i=ps(i,s,r,n,t[2],15,718787259),n=ps(n,i,s,r,t[9],21,-343485551),e[0]=ru(r,e[0]),e[1]=ru(n,e[1]),e[2]=ru(i,e[2]),e[3]=ru(s,e[3])}function Bb(e,t,r,n,i,s){return t=ru(ru(t,e),ru(n,s)),ru(t<<i|t>>>32-i,r)}function ds(e,t,r,n,i,s,o){return Bb(t&r|~t&n,e,t,i,s,o)}function hs(e,t,r,n,i,s,o){return Bb(t&n|r&~n,e,t,i,s,o)}function fs(e,t,r,n,i,s,o){return Bb(t^r^n,e,t,i,s,o)}function ps(e,t,r,n,i,s,o){return Bb(r^(t|~n),e,t,i,s,o)}function FM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_x(n,JZ(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(_x(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,_x(n,i),n}function JZ(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var K7="0123456789abcdef".split("");function QZ(e){for(var t="",r=0;r<4;r++)t+=K7[e>>8*r+4&15]+K7[e>>8*r&15];return t}function eY(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function u4(e){return FM(e).map(eY).join("")}var tY=function(e){for(var t=0;t<e.length;t++)e[t]=QZ(e[t]);return e.join("")}(FM("hello"))!="5d41402abc4b2a76b9719d911017c592";function ru(e,t){if(tY){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d4(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}r=e,n=a}else a=n;var h=t.length,f=0,d=0,p="";for(l=0;l<h;l++)d=(d+(u=a[f=(f+1)%256]))%256,a[f]=a[d],a[d]=u,o=a[(a[f]+a[d])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var X7={print:4,modify:8,copy:16,"annot-forms":32};function tf(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(X7.perm!==void 0)throw new Error("Invalid permission: "+a);i+=X7[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=u4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=d4(this.encryptionKey,this.padding)}function rf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Z7(e){if(an(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(a){cr.console&&pn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function U0(e){if(!(this instanceof U0))return new U0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function zM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Jc(e,t,r,n,i){if(!(this instanceof Jc))return new Jc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,zM.call(this,n,i)}function Id(e,t,r,n,i){if(!(this instanceof Id))return new Id(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,zM.call(this,n,i)}function Dt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;an(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},d={internal:{},__private__:{}};d.__private__.PubSub=Z7;var p="1.3",g=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(ie){p=ie};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return m};var v=d.__private__.getPageFormat=function(ie){return m[ie]};i=i||"a4";var y="compat",b="advanced",x=y;function _(){this.saveGraphicsState(),ne(new dt(Je,0,0,-Je,0,ed()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),c="n",x=b}function M(){this.restoreGraphicsState(),c="S",x=y}var U=d.__private__.combineFontStyleAndFontWeight=function(ie,fe){if(ie=="bold"&&fe=="normal"||ie=="bold"&&fe==400||ie=="normal"&&fe=="italic"||ie=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(ie=fe==400||fe==="normal"?ie==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||ie!=="normal"?(fe==700?"bold":fe)+""+ie:"bold"),ie};d.advancedAPI=function(ie){var fe=x===y;return fe&&_.call(this),typeof ie!="function"||(ie(this),fe&&M.call(this)),this},d.compatAPI=function(ie){var fe=x===b;return fe&&M.call(this),typeof ie!="function"||(ie(this),fe&&_.call(this)),this},d.isAdvancedAPI=function(){return x===b};var L,O=function(ie){if(x!==b)throw new Error(ie+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=d.roundToPrecision=d.__private__.roundToPrecision=function(ie,fe){var Ee=t||fe;if(isNaN(ie)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ie.toFixed(Ee).replace(/0+$/,"")};L=d.hpf=d.__private__.hpf=typeof l=="number"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,l)}:l==="smart"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,ie>-1&&ie<1?16:5)}:function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,16)};var G=d.f2=d.__private__.f2=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f2");return H(ie,2)},I=d.__private__.f3=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f3");return H(ie,3)},R=d.scale=d.__private__.scale=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.scale");return x===y?ie*Je:x===b?ie:void 0},S=function(ie){return R(function(fe){return x===y?ed()-fe:x===b?fe:void 0}(ie))};d.__private__.setPrecision=d.setPrecision=function(ie){typeof parseInt(ie,10)=="number"&&(t=parseInt(ie,10))};var j,E="00000000000000000000000000000000",k=d.__private__.getFileId=function(){return E},A=d.__private__.setFileId=function(ie){return E=ie!==void 0&&/^[a-fA-F0-9]{32}$/.test(ie)?ie.toUpperCase():E.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(cn=new tf(u.userPermissions,u.userPassword,u.ownerPassword,E)),E};d.setFileId=function(ie){return A(ie),this},d.getFileId=function(){return k()};var C=d.__private__.convertDateToPDFDate=function(ie){var fe=ie.getTimezoneOffset(),Ee=fe<0?"+":"-",Ae=Math.floor(Math.abs(fe/60)),Me=Math.abs(fe%60),Ye=[Ee,Z(Ae),"'",Z(Me),"'"].join("");return["D:",ie.getFullYear(),Z(ie.getMonth()+1),Z(ie.getDate()),Z(ie.getHours()),Z(ie.getMinutes()),Z(ie.getSeconds()),Ye].join("")},D=d.__private__.convertPDFDateToDate=function(ie){var fe=parseInt(ie.substr(2,4),10),Ee=parseInt(ie.substr(6,2),10)-1,Ae=parseInt(ie.substr(8,2),10),Me=parseInt(ie.substr(10,2),10),Ye=parseInt(ie.substr(12,2),10),st=parseInt(ie.substr(14,2),10);return new Date(fe,Ee,Ae,Me,Ye,st,0)},z=d.__private__.setCreationDate=function(ie){var fe;if(ie===void 0&&(ie=new Date),ie instanceof Date)fe=C(ie);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ie))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=ie}return j=fe},P=d.__private__.getCreationDate=function(ie){var fe=j;return ie==="jsDate"&&(fe=D(j)),fe};d.setCreationDate=function(ie){return z(ie),this},d.getCreationDate=function(ie){return P(ie)};var K,Z=d.__private__.padd2=function(ie){return("0"+parseInt(ie)).slice(-2)},te=d.__private__.padd2Hex=function(ie){return("00"+(ie=ie.toString())).substr(ie.length)},q=0,$=[],N=[],T=0,V=[],J=[],re=!1,se=N;d.__private__.setCustomOutputDestination=function(ie){re=!0,se=ie};var B=function(ie){re||(se=ie)};d.__private__.resetCustomOutputDestination=function(){re=!1,se=N};var ne=d.__private__.out=function(ie){return ie=ie.toString(),T+=ie.length+1,se.push(ie),se},ee=d.__private__.write=function(ie){return ne(arguments.length===1?ie.toString():Array.prototype.join.call(arguments," "))},F=d.__private__.getArrayBuffer=function(ie){for(var fe=ie.length,Ee=new ArrayBuffer(fe),Ae=new Uint8Array(Ee);fe--;)Ae[fe]=ie.charCodeAt(fe);return Ee},W=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return W};var Y=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(ie){return Y=x===b?ie/Je:ie,this};var ae,ce=d.__private__.getFontSize=d.getFontSize=function(){return x===y?Y:Y*Je},le=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(ie){return le=ie,this},d.__private__.getR2L=d.getR2L=function(){return le};var de,me=d.__private__.setZoomMode=function(ie){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ie))ae=ie;else if(isNaN(ie)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ie)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ie+'" is not recognized.');ae=ie}else ae=parseInt(ie,10)};d.__private__.getZoomMode=function(){return ae};var ge,ke=d.__private__.setPageMode=function(ie){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ie)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ie+'" is not recognized.');de=ie};d.__private__.getPageMode=function(){return de};var Re=d.__private__.setLayoutMode=function(ie){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ie)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ie+'" is not recognized.');ge=ie};d.__private__.getLayoutMode=function(){return ge},d.__private__.setDisplayMode=d.setDisplayMode=function(ie,fe,Ee){return me(ie),Re(fe),ke(Ee),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(ie){if(Object.keys(je).indexOf(ie)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[ie]},d.__private__.getDocumentProperties=function(){return je},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(ie){for(var fe in je)je.hasOwnProperty(fe)&&ie[fe]&&(je[fe]=ie[fe]);return this},d.__private__.setDocumentProperty=function(ie,fe){if(Object.keys(je).indexOf(ie)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[ie]=fe};var We,Je,qe,pt,$e,Ue={},Ke={},rt=[],Ze={},Et={},wt={},bt={},Wt=null,_t=0,ot=[],qt=new Z7(d),Er=e.hotfixes||[],jt={},hr={},Cr=[],dt=function ie(fe,Ee,Ae,Me,Ye,st){if(!(this instanceof ie))return new ie(fe,Ee,Ae,Me,Ye,st);isNaN(fe)&&(fe=1),isNaN(Ee)&&(Ee=0),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=1),isNaN(Ye)&&(Ye=0),isNaN(st)&&(st=0),this._matrix=[fe,Ee,Ae,Me,Ye,st]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(ie){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(ie)},dt.prototype.multiply=function(ie){var fe=ie.sx*this.sx+ie.shy*this.shx,Ee=ie.sx*this.shy+ie.shy*this.sy,Ae=ie.shx*this.sx+ie.sy*this.shx,Me=ie.shx*this.shy+ie.sy*this.sy,Ye=ie.tx*this.sx+ie.ty*this.shx+this.tx,st=ie.tx*this.shy+ie.ty*this.sy+this.ty;return new dt(fe,Ee,Ae,Me,Ye,st)},dt.prototype.decompose=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Me=this.tx,Ye=this.ty,st=Math.sqrt(ie*ie+fe*fe),Lt=(ie/=st)*Ee+(fe/=st)*Ae;Ee-=ie*Lt,Ae-=fe*Lt;var Vt=Math.sqrt(Ee*Ee+Ae*Ae);return Lt/=Vt,ie*(Ae/=Vt)<fe*(Ee/=Vt)&&(ie=-ie,fe=-fe,Lt=-Lt,st=-st),{scale:new dt(st,0,0,Vt,0,0),translate:new dt(1,0,0,1,Me,Ye),rotate:new dt(ie,fe,-fe,ie,0,0),skew:new dt(1,0,Lt,1,0,0)}},dt.prototype.toString=function(ie){return this.join(" ")},dt.prototype.inversed=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Me=this.tx,Ye=this.ty,st=1/(ie*Ae-fe*Ee),Lt=Ae*st,Vt=-fe*st,dr=-Ee*st,vr=ie*st;return new dt(Lt,Vt,dr,vr,-Lt*Me-dr*Ye,-Vt*Me-vr*Ye)},dt.prototype.applyToPoint=function(ie){var fe=ie.x*this.sx+ie.y*this.shx+this.tx,Ee=ie.x*this.shy+ie.y*this.sy+this.ty;return new Ju(fe,Ee)},dt.prototype.applyToRectangle=function(ie){var fe=this.applyToPoint(ie),Ee=this.applyToPoint(new Ju(ie.x+ie.w,ie.y+ie.h));return new Op(fe.x,fe.y,Ee.x-fe.x,Ee.y-fe.y)},dt.prototype.clone=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Me=this.tx,Ye=this.ty;return new dt(ie,fe,Ee,Ae,Me,Ye)},d.Matrix=dt;var wr=d.matrixMult=function(ie,fe){return fe.multiply(ie)},jr=new dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=jr;var Gt=function(ie,fe){if(!Et[ie]){var Ee=(fe instanceof Jc?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);fe.id=Ee,Et[ie]=Ee,Ze[Ee]=fe,qt.publish("addPattern",fe)}};d.ShadingPattern=Jc,d.TilingPattern=Id,d.addShadingPattern=function(ie,fe){return O("addShadingPattern()"),Gt(ie,fe),this},d.beginTilingPattern=function(ie){O("beginTilingPattern()"),Ip(ie.boundingBox[0],ie.boundingBox[1],ie.boundingBox[2]-ie.boundingBox[0],ie.boundingBox[3]-ie.boundingBox[1],ie.matrix)},d.endTilingPattern=function(ie,fe){O("endTilingPattern()"),fe.stream=J[K].join(`
`),Gt(ie,fe),qt.publish("endTilingPattern",fe),Cr.pop().restore()};var Ne,Pe=d.__private__.newObject=function(){var ie=He();return ct(ie,!0),ie},He=d.__private__.newObjectDeferred=function(){return q++,$[q]=function(){return T},q},ct=function(ie,fe){return fe=typeof fe=="boolean"&&fe,$[ie]=T,fe&&ne(ie+" 0 obj"),ie},Bt=d.__private__.newAdditionalObject=function(){var ie={objId:He(),content:""};return V.push(ie),ie},vt=He(),Ft=He(),It=d.__private__.decodeColorString=function(ie){var fe=ie.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Ee=parseFloat(fe[0]);fe=[Ee,Ee,Ee,"r"]}for(var Ae="#",Me=0;Me<3;Me++)Ae+=("0"+Math.floor(255*parseFloat(fe[Me])).toString(16)).slice(-2);return Ae},Tt=d.__private__.encodeColorString=function(ie){var fe;typeof ie=="string"&&(ie={ch1:ie});var Ee=ie.ch1,Ae=ie.ch2,Me=ie.ch3,Ye=ie.ch4,st=ie.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Lt=new BM(Ee);if(Lt.ok)Ee=Lt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Vt=parseInt(Ee.substr(1),16);Ee=Vt>>16&255,Ae=Vt>>8&255,Me=255&Vt}if(Ae===void 0||Ye===void 0&&Ee===Ae&&Ae===Me)fe=typeof Ee=="string"?Ee+" "+st[0]:ie.precision===2?G(Ee/255)+" "+st[0]:I(Ee/255)+" "+st[0];else if(Ye===void 0||an(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",st[1]].join(" ");fe=typeof Ee=="string"?[Ee,Ae,Me,st[1]].join(" "):ie.precision===2?[G(Ee/255),G(Ae/255),G(Me/255),st[1]].join(" "):[I(Ee/255),I(Ae/255),I(Me/255),st[1]].join(" ")}else fe=typeof Ee=="string"?[Ee,Ae,Me,Ye,st[2]].join(" "):ie.precision===2?[G(Ee),G(Ae),G(Me),G(Ye),st[2]].join(" "):[I(Ee),I(Ae),I(Me),I(Ye),st[2]].join(" ");return fe},Kt=d.__private__.getFilters=function(){return o},zt=d.__private__.putStream=function(ie){var fe=(ie=ie||{}).data||"",Ee=ie.filters||Kt(),Ae=ie.alreadyAppliedFilters||[],Me=ie.addLength1||!1,Ye=fe.length,st=ie.objectId,Lt=function(_i){return _i};if(u!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Lt=cn.encryptor(st,0));var Vt={};Ee===!0&&(Ee=["FlateEncode"]);var dr=ie.additionalKeyValues||[],vr=(Vt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(fe,Ee):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Vt.data.length!==0&&(dr.push({key:"Length",value:Vt.data.length}),Me===!0&&dr.push({key:"Length1",value:Ye})),vr.length!=0)if(vr.split("/").length-1==1)dr.push({key:"Filter",value:vr});else{dr.push({key:"Filter",value:"["+vr+"]"});for(var Zr=0;Zr<dr.length;Zr+=1)if(dr[Zr].key==="DecodeParms"){for(var Mn=[],mi=0;mi<Vt.reverseChain.split("/").length-1;mi+=1)Mn.push("null");Mn.push(dr[Zr].value),dr[Zr].value="["+Mn.join(" ")+"]"}}ne("<<");for(var vn=0;vn<dr.length;vn++)ne("/"+dr[vn].key+" "+dr[vn].value);ne(">>"),Vt.data.length!==0&&(ne("stream"),ne(Lt(Vt.data)),ne("endstream"))},ar=d.__private__.putPage=function(ie){var fe=ie.number,Ee=ie.data,Ae=ie.objId,Me=ie.contentsObjId;ct(Ae,!0),ne("<</Type /Page"),ne("/Parent "+ie.rootDictionaryObjId+" 0 R"),ne("/Resources "+ie.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(L(ie.mediaBox.bottomLeftX))+" "+parseFloat(L(ie.mediaBox.bottomLeftY))+" "+L(ie.mediaBox.topRightX)+" "+L(ie.mediaBox.topRightY)+"]"),ie.cropBox!==null&&ne("/CropBox ["+L(ie.cropBox.bottomLeftX)+" "+L(ie.cropBox.bottomLeftY)+" "+L(ie.cropBox.topRightX)+" "+L(ie.cropBox.topRightY)+"]"),ie.bleedBox!==null&&ne("/BleedBox ["+L(ie.bleedBox.bottomLeftX)+" "+L(ie.bleedBox.bottomLeftY)+" "+L(ie.bleedBox.topRightX)+" "+L(ie.bleedBox.topRightY)+"]"),ie.trimBox!==null&&ne("/TrimBox ["+L(ie.trimBox.bottomLeftX)+" "+L(ie.trimBox.bottomLeftY)+" "+L(ie.trimBox.topRightX)+" "+L(ie.trimBox.topRightY)+"]"),ie.artBox!==null&&ne("/ArtBox ["+L(ie.artBox.bottomLeftX)+" "+L(ie.artBox.bottomLeftY)+" "+L(ie.artBox.topRightX)+" "+L(ie.artBox.topRightY)+"]"),typeof ie.userUnit=="number"&&ie.userUnit!==1&&ne("/UserUnit "+ie.userUnit),qt.publish("putPage",{objId:Ae,pageContext:ot[fe],pageNumber:fe,page:Ee}),ne("/Contents "+Me+" 0 R"),ne(">>"),ne("endobj");var Ye=Ee.join(`
`);return x===b&&(Ye+=`
Q`),ct(Me,!0),zt({data:Ye,filters:Kt(),objectId:Me}),ne("endobj"),Ae},Gr=d.__private__.putPages=function(){var ie,fe,Ee=[];for(ie=1;ie<=_t;ie++)ot[ie].objId=He(),ot[ie].contentsObjId=He();for(ie=1;ie<=_t;ie++)Ee.push(ar({number:ie,data:J[ie],objId:ot[ie].objId,contentsObjId:ot[ie].contentsObjId,mediaBox:ot[ie].mediaBox,cropBox:ot[ie].cropBox,bleedBox:ot[ie].bleedBox,trimBox:ot[ie].trimBox,artBox:ot[ie].artBox,userUnit:ot[ie].userUnit,rootDictionaryObjId:vt,resourceDictionaryObjId:Ft}));ct(vt,!0),ne("<</Type /Pages");var Ae="/Kids [";for(fe=0;fe<_t;fe++)Ae+=Ee[fe]+" 0 R ";ne(Ae+"]"),ne("/Count "+_t),ne(">>"),ne("endobj"),qt.publish("postPutPages")},zr=function(ie){qt.publish("putFont",{font:ie,out:ne,newObject:Pe,putStream:zt}),ie.isAlreadyPutted!==!0&&(ie.objectNumber=Pe(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+rf(ie.postScriptName)),ne("/Subtype /Type1"),typeof ie.encoding=="string"&&ne("/Encoding /"+ie.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},mn=function(ie){ie.objectNumber=Pe();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[L(ie.x),L(ie.y),L(ie.x+ie.width),L(ie.y+ie.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"});var Ee=ie.pages[1].join(`
`);zt({data:Ee,additionalKeyValues:fe,objectId:ie.objectNumber}),ne("endobj")},gn=function(ie,fe){fe||(fe=21);var Ee=Pe(),Ae=function(st,Lt){var Vt,dr=[],vr=1/(Lt-1);for(Vt=0;Vt<1;Vt+=vr)dr.push(Vt);if(dr.push(1),st[0].offset!=0){var Zr={offset:0,color:st[0].color};st.unshift(Zr)}if(st[st.length-1].offset!=1){var Mn={offset:1,color:st[st.length-1].color};st.push(Mn)}for(var mi="",vn=0,_i=0;_i<dr.length;_i++){for(Vt=dr[_i];Vt>st[vn+1].offset;)vn++;var gi=st[vn].offset,qi=(Vt-gi)/(st[vn+1].offset-gi),ja=st[vn].color,Bs=st[vn+1].color;mi+=te(Math.round((1-qi)*ja[0]+qi*Bs[0]).toString(16))+te(Math.round((1-qi)*ja[1]+qi*Bs[1]).toString(16))+te(Math.round((1-qi)*ja[2]+qi*Bs[2]).toString(16))}return mi.trim()}(ie.colors,fe),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+fe+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zt({data:Ae,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ne("endobj"),ie.objectNumber=Pe(),ne("<< /ShadingType "+ie.type),ne("/ColorSpace /DeviceRGB");var Ye="/Coords ["+L(parseFloat(ie.coords[0]))+" "+L(parseFloat(ie.coords[1]))+" ";ie.type===2?Ye+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3])):Ye+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3]))+" "+L(parseFloat(ie.coords[4]))+" "+L(parseFloat(ie.coords[5])),ne(Ye+="]"),ie.matrix&&ne("/Matrix ["+ie.matrix.toString()+"]"),ne("/Function "+Ee+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Qn=function(ie,fe){var Ee=He(),Ae=Pe();fe.push({resourcesOid:Ee,objectOid:Ae}),ie.objectNumber=Ae;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+ie.boundingBox.map(L).join(" ")+"]"}),Me.push({key:"XStep",value:L(ie.xStep)}),Me.push({key:"YStep",value:L(ie.yStep)}),Me.push({key:"Resources",value:Ee+" 0 R"}),ie.matrix&&Me.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"}),zt({data:ie.stream,additionalKeyValues:Me,objectId:ie.objectNumber}),ne("endobj")},xe=function(ie){for(var fe in ie.objectNumber=Pe(),ne("<<"),ie)switch(fe){case"opacity":ne("/ca "+G(ie[fe]));break;case"stroke-opacity":ne("/CA "+G(ie[fe]))}ne(">>"),ne("endobj")},Le=function(ie){ct(ie.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var fe in ne("/Font <<"),Ue)Ue.hasOwnProperty(fe)&&(h===!1||h===!0&&f.hasOwnProperty(fe))&&ne("/"+fe+" "+Ue[fe].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(Ze).length>0){for(var fe in ne("/Shading <<"),Ze)Ze.hasOwnProperty(fe)&&Ze[fe]instanceof Jc&&Ze[fe].objectNumber>=0&&ne("/"+fe+" "+Ze[fe].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),ne(">>")}}(),function(fe){if(Object.keys(Ze).length>0){for(var Ee in ne("/Pattern <<"),Ze)Ze.hasOwnProperty(Ee)&&Ze[Ee]instanceof d.TilingPattern&&Ze[Ee].objectNumber>=0&&Ze[Ee].objectNumber<fe&&ne("/"+Ee+" "+Ze[Ee].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),ne(">>")}}(ie.objectOid),function(){if(Object.keys(wt).length>0){var fe;for(fe in ne("/ExtGState <<"),wt)wt.hasOwnProperty(fe)&&wt[fe].objectNumber>=0&&ne("/"+fe+" "+wt[fe].objectNumber+" 0 R");qt.publish("putGStateDict"),ne(">>")}}(),function(){for(var fe in ne("/XObject <<"),jt)jt.hasOwnProperty(fe)&&jt[fe].objectNumber>=0&&ne("/"+fe+" "+jt[fe].objectNumber+" 0 R");qt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},et=function(ie){Ke[ie.fontName]=Ke[ie.fontName]||{},Ke[ie.fontName][ie.fontStyle]=ie.id},it=function(ie,fe,Ee,Ae,Me){var Ye={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:ie,fontName:fe,fontStyle:Ee,encoding:Ae,isStandardFont:Me||!1,metadata:{}};return qt.publish("addFont",{font:Ye,instance:this}),Ue[Ye.id]=Ye,et(Ye),Ye.id},Nt=d.__private__.pdfEscape=d.pdfEscape=function(ie,fe){return function(Ee,Ae){var Me,Ye,st,Lt,Vt,dr,vr,Zr,Mn;if(st=(Ae=Ae||{}).sourceEncoding||"Unicode",Vt=Ae.outputEncoding,(Ae.autoencode||Vt)&&Ue[We].metadata&&Ue[We].metadata[st]&&Ue[We].metadata[st].encoding&&(Lt=Ue[We].metadata[st].encoding,!Vt&&Ue[We].encoding&&(Vt=Ue[We].encoding),!Vt&&Lt.codePages&&(Vt=Lt.codePages[0]),typeof Vt=="string"&&(Vt=Lt[Vt]),Vt)){for(vr=!1,dr=[],Me=0,Ye=Ee.length;Me<Ye;Me++)(Zr=Vt[Ee.charCodeAt(Me)])?dr.push(String.fromCharCode(Zr)):dr.push(Ee[Me]),dr[Me].charCodeAt(0)>>8&&(vr=!0);Ee=dr.join("")}for(Me=Ee.length;vr===void 0&&Me!==0;)Ee.charCodeAt(Me-1)>>8&&(vr=!0),Me--;if(!vr)return Ee;for(dr=Ae.noBOM?[]:[254,255],Me=0,Ye=Ee.length;Me<Ye;Me++){if((Mn=(Zr=Ee.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(Mn),dr.push(Zr-(Mn<<8))}return String.fromCharCode.apply(void 0,dr)}(ie,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mt=d.__private__.beginPage=function(ie){J[++_t]=[],ot[_t]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ie[0]),topRightY:Number(ie[1])}},lr(_t),B(J[K])},yt=function(ie,fe){var Ee,Ae,Me;switch(r=fe||r,typeof ie=="string"&&(Ee=v(ie.toLowerCase()),Array.isArray(Ee)&&(Ae=Ee[0],Me=Ee[1])),Array.isArray(ie)&&(Ae=ie[0]*Je,Me=ie[1]*Je),isNaN(Ae)&&(Ae=i[0],Me=i[1]),(Ae>14400||Me>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Me=Math.min(14400,Me)),i=[Ae,Me],r.substr(0,1)){case"l":Me>Ae&&(i=[Me,Ae]);break;case"p":Ae>Me&&(i=[Me,Ae])}mt(i),yc(Oo),ne(Eh),Rp!==0&&ne(Rp+" J"),Pp!==0&&ne(Pp+" j"),qt.publish("addPage",{pageNumber:_t})},xr=function(ie){ie>0&&ie<=_t&&(J.splice(ie,1),ot.splice(ie,1),_t--,K>_t&&(K=_t),this.setPage(K))},lr=function(ie){ie>0&&ie<=_t&&(K=ie)},fr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return J.length-1},Xt=function(ie,fe,Ee){var Ae,Me=void 0;return Ee=Ee||{},ie=ie!==void 0?ie:Ue[We].fontName,fe=fe!==void 0?fe:Ue[We].fontStyle,Ae=ie.toLowerCase(),Ke[Ae]!==void 0&&Ke[Ae][fe]!==void 0?Me=Ke[Ae][fe]:Ke[ie]!==void 0&&Ke[ie][fe]!==void 0?Me=Ke[ie][fe]:Ee.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+ie+"', '"+fe+"'. Refer to getFontList() for available fonts."),Me||Ee.noFallback||(Me=Ke.times[fe])==null&&(Me=Ke.times.normal),Me},Dr=d.__private__.putInfo=function(){var ie=Pe(),fe=function(Ae){return Ae};for(var Ee in u!==null&&(fe=cn.encryptor(ie,0)),ne("<<"),ne("/Producer ("+Nt(fe("jsPDF "+Dt.version))+")"),je)je.hasOwnProperty(Ee)&&je[Ee]&&ne("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Nt(fe(je[Ee]))+")");ne("/CreationDate ("+Nt(fe(j))+")"),ne(">>"),ne("endobj")},Hr=d.__private__.putCatalog=function(ie){var fe=(ie=ie||{}).rootDictionaryObjId||vt;switch(Pe(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+fe+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ae;Ee.substr(Ee.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+G(ae)+"]")}switch(ge||(ge="continuous"),ge){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}de&&ne("/PageMode /"+de),qt.publish("putCatalog"),ne(">>"),ne("endobj")},ir=d.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(q+1)),ne("/Root "+q+" 0 R"),ne("/Info "+(q-1)+" 0 R"),u!==null&&ne("/Encrypt "+cn.oid+" 0 R"),ne("/ID [ <"+E+"> <"+E+"> ]"),ne(">>")},ln=d.__private__.putHeader=function(){ne("%PDF-"+p),ne("%ºß¬à")},In=d.__private__.putXRef=function(){var ie="0000000000";ne("xref"),ne("0 "+(q+1)),ne("0000000000 65535 f ");for(var fe=1;fe<=q;fe++)typeof $[fe]=="function"?ne((ie+$[fe]()).slice(-10)+" 00000 n "):$[fe]!==void 0?ne((ie+$[fe]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},_n=d.__private__.buildDocument=function(){var ie;q=0,T=0,N=[],$=[],V=[],vt=He(),Ft=He(),B(N),qt.publish("buildDocument"),ln(),Gr(),function(){qt.publish("putAdditionalObjects");for(var Ee=0;Ee<V.length;Ee++){var Ae=V[Ee];ct(Ae.objId,!0),ne(Ae.content),ne("endobj")}qt.publish("postPutAdditionalObjects")}(),ie=[],function(){for(var Ee in Ue)Ue.hasOwnProperty(Ee)&&(h===!1||h===!0&&f.hasOwnProperty(Ee))&&zr(Ue[Ee])}(),function(){var Ee;for(Ee in wt)wt.hasOwnProperty(Ee)&&xe(wt[Ee])}(),function(){for(var Ee in jt)jt.hasOwnProperty(Ee)&&mn(jt[Ee])}(),function(Ee){var Ae;for(Ae in Ze)Ze.hasOwnProperty(Ae)&&(Ze[Ae]instanceof Jc?gn(Ze[Ae]):Ze[Ae]instanceof Id&&Qn(Ze[Ae],Ee))}(ie),qt.publish("putResources"),ie.forEach(Le),Le({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),u!==null&&(cn.oid=Pe(),ne("<<"),ne("/Filter /Standard"),ne("/V "+cn.v),ne("/R "+cn.r),ne("/U <"+cn.toHexString(cn.U)+">"),ne("/O <"+cn.toHexString(cn.O)+">"),ne("/P "+cn.P),ne(">>"),ne("endobj")),Dr(),Hr();var fe=T;return In(),ir(),ne("startxref"),ne(""+fe),ne("%%EOF"),B(J[K]),N.join(`
`)},wi=d.__private__.getBlob=function(ie){return new Blob([F(ie)],{type:"application/pdf"})},xi=d.output=d.__private__.output=(Ne=function(ie,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",ie){case void 0:return _n();case"save":d.save(fe.filename);break;case"arraybuffer":return F(_n());case"blob":return wi(_n());case"bloburi":case"bloburl":if(cr.URL!==void 0&&typeof cr.URL.createObjectURL=="function")return cr.URL&&cr.URL.createObjectURL(wi(_n()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ae=_n();try{Ee=G7(Ae)}catch{Ee=G7(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(Me=fe.pdfObjectUrl,Ye="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Lt=cr.open();return Lt!==null&&Lt.document.write(st),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',dr=cr.open();if(dr!==null){dr.document.write(Vt);var vr=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=fe.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vr.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Zr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Mn=cr.open();if(Mn!==null&&(Mn.document.write(Zr),Mn.document.title=fe.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return cr.document.location.href=this.output("datauristring",fe);default:return null}},Ne.foo=function(){try{return Ne.apply(this,arguments)}catch(Ee){var ie=Ee.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var fe="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!cr.console)throw new Error(fe);cr.console.error(fe,Ee),cr.alert&&alert(fe)}},Ne.foo.bar=Ne,Ne.foo),Ms=function(ie){return Array.isArray(Er)===!0&&Er.indexOf(ie)>-1};switch(n){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Je=n}var cn=null;z(),A();var Na=d.__private__.getPageInfo=d.getPageInfo=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[ie].objId,pageNumber:ie,pageContext:ot[ie]}},Wr=d.__private__.getPageInfoByObjId=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in ot)if(ot[fe].objId===ie)break;return Na(fe)},Mr=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ot[K].objId,pageNumber:K,pageContext:ot[K]}};d.addPage=function(){return yt.apply(this,arguments),this},d.setPage=function(){return lr.apply(this,arguments),B.call(this,J[K]),this},d.insertPage=function(ie){return this.addPage(),this.movePage(K,ie),this},d.movePage=function(ie,fe){var Ee,Ae;if(ie>fe){Ee=J[ie],Ae=ot[ie];for(var Me=ie;Me>fe;Me--)J[Me]=J[Me-1],ot[Me]=ot[Me-1];J[fe]=Ee,ot[fe]=Ae,this.setPage(fe)}else if(ie<fe){Ee=J[ie],Ae=ot[ie];for(var Ye=ie;Ye<fe;Ye++)J[Ye]=J[Ye+1],ot[Ye]=ot[Ye+1];J[fe]=Ee,ot[fe]=Ae,this.setPage(fe)}return this},d.deletePage=function(){return xr.apply(this,arguments),this},d.__private__.text=d.text=function(ie,fe,Ee,Ae,Me){var Ye,st,Lt,Vt,dr,vr,Zr,Mn,mi,vn=(Ae=Ae||{}).scope||this;if(typeof ie=="number"&&typeof fe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var _i=Ee;Ee=fe,fe=ie,ie=_i}if(arguments[3]instanceof dt==0?(Lt=arguments[4],Vt=arguments[5],an(Zr=arguments[3])==="object"&&Zr!==null||(typeof Lt=="string"&&(Vt=Lt,Lt=null),typeof Zr=="string"&&(Vt=Zr,Zr=null),typeof Zr=="number"&&(Lt=Zr,Zr=null),Ae={flags:Zr,angle:Lt,align:Vt})):(O("The transform parameter of text() with a Matrix value"),mi=Me),isNaN(fe)||isNaN(Ee)||ie==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ie.length===0)return vn;var gi,qi="",ja=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:Ca,Bs=vn.internal.scaleFactor;function Yg(tn){return tn=tn.split("	").join(Array(Ae.TabLen||9).join(" ")),Nt(tn,Zr)}function Ch(tn){for(var hn,ti=tn.concat(),Si=[],Nl=ti.length;Nl--;)typeof(hn=ti.shift())=="string"?Si.push(hn):Array.isArray(tn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?Si.push(hn[0]):Si.push([hn[0],hn[1],hn[2]]);return Si}function td(tn,hn){var ti;if(typeof tn=="string")ti=hn(tn)[0];else if(Array.isArray(tn)){for(var Si,Nl,Wp=tn.concat(),Rh=[],e1=Wp.length;e1--;)typeof(Si=Wp.shift())=="string"?Rh.push(hn(Si)[0]):Array.isArray(Si)&&typeof Si[0]=="string"&&(Nl=hn(Si[0],Si[1],Si[2]),Rh.push([Nl[0],Nl[1],Nl[2]]));ti=Rh}return ti}var wc=!1,rd=!0;if(typeof ie=="string")wc=!0;else if(Array.isArray(ie)){var nd=ie.concat();st=[];for(var id,os=nd.length;os--;)(typeof(id=nd.shift())!="string"||Array.isArray(id)&&typeof id[0]!="string")&&(rd=!1);wc=rd}if(wc===!1)throw new Error('Type of text must be string or Array. "'+ie+'" is not recognized.');typeof ie=="string"&&(ie=ie.match(/[\r?\n]/)?ie.split(/\r\n|\r|\n/g):[ie]);var sd=Y/vn.internal.scaleFactor,ad=sd*(ja-1);switch(Ae.baseline){case"bottom":Ee-=ad;break;case"top":Ee+=sd-ad;break;case"hanging":Ee+=sd-2*ad;break;case"middle":Ee+=sd/2-ad}if((vr=Ae.maxWidth||0)>0&&(typeof ie=="string"?ie=vn.splitTextToSize(ie,vr):Object.prototype.toString.call(ie)==="[object Array]"&&(ie=ie.reduce(function(tn,hn){return tn.concat(vn.splitTextToSize(hn,vr))},[]))),Ye={text:ie,x:fe,y:Ee,options:Ae,mutex:{pdfEscape:Nt,activeFontKey:We,fonts:Ue,activeFontSize:Y}},qt.publish("preProcessText",Ye),ie=Ye.text,Lt=(Ae=Ye.options).angle,mi instanceof dt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Ae.rotationDirection===0&&(Lt=-Lt),x===b&&(Lt=-Lt);var Mp=Math.cos(Lt),Lp=Math.sin(Lt);mi=new dt(Mp,Lp,-Lp,Mp,0,0)}else Lt&&Lt instanceof dt&&(mi=Lt);x!==b||mi||(mi=jr),(dr=Ae.charSpace||Nh)!==void 0&&(qi+=L(R(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=Ae.horizontalScale)!==void 0&&(qi+=L(100*Mn)+` Tz
`),Ae.lang;var zn=-1,El=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,jh=vn.internal.getCurrentPageInfo().pageContext;switch(El){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var Jg=jh.usedRenderingMode!==void 0?jh.usedRenderingMode:-1;zn!==-1?qi+=zn+` Tr
`:Jg!==-1&&(qi+=`0 Tr
`),zn!==-1&&(jh.usedRenderingMode=zn),Vt=Ae.align||"left";var Ta,od=Y*ja,Dp=vn.internal.pageSize.getWidth(),Bp=Ue[We];dr=Ae.charSpace||Nh,vr=Ae.maxWidth||0,Zr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var xc=[],ld=function(tn){return vn.getStringUnitWidth(tn,{font:Bp,charSpace:dr,fontSize:Y,doKerning:!1})*Y/Bs};if(Object.prototype.toString.call(ie)==="[object Array]"){var ia;st=Ch(ie),Vt!=="left"&&(Ta=st.map(ld));var sa,_c=0;if(Vt==="right"){fe-=Ta[0],ie=[],os=st.length;for(var kl=0;kl<os;kl++)kl===0?(sa=wl(fe),ia=xl(Ee)):(sa=R(_c-Ta[kl]),ia=-od),ie.push([st[kl],sa,ia]),_c=Ta[kl]}else if(Vt==="center"){fe-=Ta[0]/2,ie=[],os=st.length;for(var Sc=0;Sc<os;Sc++)Sc===0?(sa=wl(fe),ia=xl(Ee)):(sa=R((_c-Ta[Sc])/2),ia=-od),ie.push([st[Sc],sa,ia]),_c=Ta[Sc]}else if(Vt==="left"){ie=[],os=st.length;for(var Fp=0;Fp<os;Fp++)ie.push(st[Fp])}else if(Vt==="justify"&&Bp.encoding==="Identity-H"){ie=[],os=st.length,vr=vr!==0?vr:Dp;for(var Th=0,ei=0;ei<os;ei++)if(ia=ei===0?xl(Ee):-od,sa=ei===0?wl(fe):Th,ei<os-1){var Qg=R((vr-Ta[ei])/(st[ei].split(" ").length-1)),Io=st[ei].split(" ");ie.push([Io[0]+" ",sa,ia]),Th=0;for(var Mo=1;Mo<Io.length;Mo++){var zp=(ld(Io[Mo-1]+" "+Io[Mo])-ld(Io[Mo]))*Bs+Qg;Mo==Io.length-1?ie.push([Io[Mo],zp,0]):ie.push([Io[Mo]+" ",zp,0]),Th-=zp}}else ie.push([st[ei],sa,ia]);ie.push(["",Th,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ie=[],os=st.length,vr=vr!==0?vr:Dp,ei=0;ei<os;ei++){ia=ei===0?xl(Ee):-od,sa=ei===0?wl(fe):0;var Up=st[ei].split(" ").length-1,$p=Up>0?(vr-Ta[ei])/Up:0;ei<os-1?xc.push(L(R($p))):xc.push(0),ie.push([st[ei],sa,ia])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:le)===!0&&(ie=td(ie,function(tn,hn,ti){return[tn.split("").reverse().join(""),hn,ti]})),Ye={text:ie,x:fe,y:Ee,options:Ae,mutex:{pdfEscape:Nt,activeFontKey:We,fonts:Ue,activeFontSize:Y}},qt.publish("postProcessText",Ye),ie=Ye.text,gi=Ye.mutex.isHex||!1;var Hp=Ue[We].encoding;Hp!=="WinAnsiEncoding"&&Hp!=="StandardEncoding"||(ie=td(ie,function(tn,hn,ti){return[Yg(tn),hn,ti]})),st=Ch(ie),ie=[];for(var Ec,kc,Nc,cd=Array.isArray(st[0])?1:0,Ac="",ud=function(tn,hn,ti){var Si="";return ti instanceof dt?(ti=typeof Ae.angle=="number"?wr(ti,new dt(1,0,0,1,tn,hn)):wr(new dt(1,0,0,1,tn,hn),ti),x===b&&(ti=wr(new dt(1,0,0,-1,0,0),ti)),Si=ti.join(" ")+` Tm
`):Si=L(tn)+" "+L(hn)+` Td
`,Si},Ra=0;Ra<st.length;Ra++){switch(Ac="",cd){case 1:Nc=(gi?"<":"(")+st[Ra][0]+(gi?">":")"),Ec=parseFloat(st[Ra][1]),kc=parseFloat(st[Ra][2]);break;case 0:Nc=(gi?"<":"(")+st[Ra]+(gi?">":")"),Ec=wl(fe),kc=xl(Ee)}xc!==void 0&&xc[Ra]!==void 0&&(Ac=xc[Ra]+` Tw
`),Ra===0?ie.push(Ac+ud(Ec,kc,mi)+Nc):cd===0?ie.push(Ac+Nc):cd===1&&ie.push(Ac+ud(Ec,kc,mi)+Nc)}ie=cd===0?ie.join(` Tj
T* `):ie.join(` Tj
`),ie+=` Tj
`;var Lo=`BT
/`;return Lo+=We+" "+Y+` Tf
`,Lo+=L(Y*ja)+` TL
`,Lo+=Zu+`
`,Lo+=qi,Lo+=ie,ne(Lo+="ET"),f[We]=!0,vn};var Aa=d.__private__.clip=d.clip=function(ie){return ne(ie==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Aa("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ne("n"),this};var Di=d.__private__.isValidStyle=function(ie){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ie)!==-1&&(fe=!0),fe};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(ie){return Di(ie)&&(c=ie),this};var yl=d.__private__.getStyle=d.getStyle=function(ie){var fe=c;switch(ie){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=ie}return fe},Bi=d.close=function(){return ne("h"),this};d.stroke=function(){return ne("S"),this},d.fill=function(ie){return Fi("f",ie),this},d.fillEvenOdd=function(ie){return Fi("f*",ie),this},d.fillStroke=function(ie){return Fi("B",ie),this},d.fillStrokeEvenOdd=function(ie){return Fi("B*",ie),this};var Fi=function(ie,fe){an(fe)==="object"?vc(fe,ie):ne(ie)},Ls=function(ie){ie===null||x===b&&ie===void 0||(ie=yl(ie),ne(ie))};function bl(ie,fe,Ee,Ae,Me){var Ye=new Id(fe||this.boundingBox,Ee||this.xStep,Ae||this.yStep,this.gState,Me||this.matrix);Ye.stream=this.stream;var st=ie+"$$"+this.cloneIndex+++"$$";return Gt(st,Ye),Ye}var vc=function(ie,fe){var Ee=Et[ie.key],Ae=Ze[Ee];if(Ae instanceof Jc)ne("q"),ne(Ro(fe)),Ae.gState&&d.setGState(Ae.gState),ne(ie.matrix.toString()+" cm"),ne("/"+Ee+" sh"),ne("Q");else if(Ae instanceof Id){var Me=new dt(1,0,0,-1,0,ed());ie.matrix&&(Me=Me.multiply(ie.matrix||jr),Ee=bl.call(Ae,ie.key,ie.boundingBox,ie.xStep,ie.yStep,Me).id),ne("q"),ne("/Pattern cs"),ne("/"+Ee+" scn"),Ae.gState&&d.setGState(Ae.gState),ne(fe),ne("Q")}},Ro=function(ie){switch(ie){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ds=d.moveTo=function(ie,fe){return ne(L(R(ie))+" "+L(S(fe))+" m"),this},Po=d.lineTo=function(ie,fe){return ne(L(R(ie))+" "+L(S(fe))+" l"),this},na=d.curveTo=function(ie,fe,Ee,Ae,Me,Ye){return ne([L(R(ie)),L(S(fe)),L(R(Ee)),L(S(Ae)),L(R(Me)),L(S(Ye)),"c"].join(" ")),this};d.__private__.line=d.line=function(ie,fe,Ee,Ae,Me){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Me))throw new Error("Invalid arguments passed to jsPDF.line");return x===y?this.lines([[Ee-ie,Ae-fe]],ie,fe,[1,1],Me||"S"):this.lines([[Ee-ie,Ae-fe]],ie,fe,[1,1]).stroke()},d.__private__.lines=d.lines=function(ie,fe,Ee,Ae,Me,Ye){var st,Lt,Vt,dr,vr,Zr,Mn,mi,vn,_i,gi,qi;if(typeof ie=="number"&&(qi=Ee,Ee=fe,fe=ie,ie=qi),Ae=Ae||[1,1],Ye=Ye||!1,isNaN(fe)||isNaN(Ee)||!Array.isArray(ie)||!Array.isArray(Ae)||!Di(Me)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ds(fe,Ee),st=Ae[0],Lt=Ae[1],dr=ie.length,_i=fe,gi=Ee,Vt=0;Vt<dr;Vt++)(vr=ie[Vt]).length===2?(_i=vr[0]*st+_i,gi=vr[1]*Lt+gi,Po(_i,gi)):(Zr=vr[0]*st+_i,Mn=vr[1]*Lt+gi,mi=vr[2]*st+_i,vn=vr[3]*Lt+gi,_i=vr[4]*st+_i,gi=vr[5]*Lt+gi,na(Zr,Mn,mi,vn,_i,gi));return Ye&&Bi(),Ls(Me),this},d.path=function(ie){for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe],Ae=Ee.c;switch(Ee.op){case"m":Ds(Ae[0],Ae[1]);break;case"l":Po(Ae[0],Ae[1]);break;case"c":na.apply(this,Ae);break;case"h":Bi()}}return this},d.__private__.rect=d.rect=function(ie,fe,Ee,Ae,Me){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y&&(Ae=-Ae),ne([L(R(ie)),L(S(fe)),L(R(Ee)),L(R(Ae)),"re"].join(" ")),Ls(Me),this},d.__private__.triangle=d.triangle=function(ie,fe,Ee,Ae,Me,Ye,st){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||isNaN(Me)||isNaN(Ye)||!Di(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-ie,Ae-fe],[Me-Ee,Ye-Ae],[ie-Me,fe-Ye]],ie,fe,[1,1],st,!0),this},d.__private__.roundedRect=d.roundedRect=function(ie,fe,Ee,Ae,Me,Ye,st){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||isNaN(Me)||isNaN(Ye)||!Di(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*Ee),Ye=Math.min(Ye,.5*Ae),this.lines([[Ee-2*Me,0],[Me*Lt,0,Me,Ye-Ye*Lt,Me,Ye],[0,Ae-2*Ye],[0,Ye*Lt,-Me*Lt,Ye,-Me,Ye],[2*Me-Ee,0],[-Me*Lt,0,-Me,-Ye*Lt,-Me,-Ye],[0,2*Ye-Ae],[0,-Ye*Lt,Me*Lt,-Ye,Me,-Ye]],ie+Me,fe,[1,1],st,!0),this},d.__private__.ellipse=d.ellipse=function(ie,fe,Ee,Ae,Me){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*Ee,st=4/3*(Math.SQRT2-1)*Ae;return Ds(ie+Ee,fe),na(ie+Ee,fe-st,ie+Ye,fe-Ae,ie,fe-Ae),na(ie-Ye,fe-Ae,ie-Ee,fe-st,ie-Ee,fe),na(ie-Ee,fe+st,ie-Ye,fe+Ae,ie,fe+Ae),na(ie+Ye,fe+Ae,ie+Ee,fe+st,ie+Ee,fe),Ls(Me),this},d.__private__.circle=d.circle=function(ie,fe,Ee,Ae){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||!Di(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ie,fe,Ee,Ee,Ae)},d.setFont=function(ie,fe,Ee){return Ee&&(fe=U(fe,Ee)),We=Xt(ie,fe,{disableWarning:!1}),this};var Xu=d.__private__.getFont=d.getFont=function(){return Ue[Xt.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var ie,fe,Ee={};for(ie in Ke)if(Ke.hasOwnProperty(ie))for(fe in Ee[ie]=[],Ke[ie])Ke[ie].hasOwnProperty(fe)&&Ee[ie].push(fe);return Ee},d.addFont=function(ie,fe,Ee,Ae,Me){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(Ee=U(Ee,Ae)),it.call(this,ie,fe,Ee,Me=Me||"Identity-H")};var Ca,Oo=e.lineWidth||.200025,or=d.__private__.getLineWidth=d.getLineWidth=function(){return Oo},yc=d.__private__.setLineWidth=d.setLineWidth=function(ie){return Oo=ie,ne(L(R(ie))+" w"),this};d.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(ie,fe){if(ie=ie||[],fe=fe||0,isNaN(fe)||!Array.isArray(ie))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ie=ie.map(function(Ee){return L(R(Ee))}).join(" "),fe=L(R(fe)),ne("["+ie+"] "+fe+" d"),this};var bc=d.__private__.getLineHeight=d.getLineHeight=function(){return Y*Ca};d.__private__.getLineHeight=d.getLineHeight=function(){return Y*Ca};var Y2=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(ie){return typeof(ie=ie||1.15)=="number"&&(Ca=ie),this},J2=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ca};Y2(e.lineHeight);var wl=d.__private__.getHorizontalCoordinate=function(ie){return R(ie)},xl=d.__private__.getVerticalCoordinate=function(ie){return x===b?ie:ot[K].mediaBox.topRightY-ot[K].mediaBox.bottomLeftY-R(ie)},Q2=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(ie){return L(wl(ie))},ew=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(ie){return L(xl(ie))},Eh=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return It(Eh)},d.__private__.setStrokeColor=d.setDrawColor=function(ie,fe,Ee,Ae){return Eh=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"draw",precision:2}),ne(Eh),this};var Tp=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return It(Tp)},d.__private__.setFillColor=d.setFillColor=function(ie,fe,Ee,Ae){return Tp=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"fill",precision:2}),ne(Tp),this};var Zu=e.textColor||"0 g",kh=d.__private__.getTextColor=d.getTextColor=function(){return It(Zu)};d.__private__.setTextColor=d.setTextColor=function(ie,fe,Ee,Ae){return Zu=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"text",precision:3}),this};var Nh=e.charSpace,tw=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Nh||0)};d.__private__.setCharSpace=d.setCharSpace=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nh=ie,this};var Rp=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(ie){var fe=d.CapJoinStyles[ie];if(fe===void 0)throw new Error("Line cap style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rp=fe,ne(fe+" J"),this};var Pp=0;d.__private__.setLineJoin=d.setLineJoin=function(ie){var fe=d.CapJoinStyles[ie];if(fe===void 0)throw new Error("Line join style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pp=fe,ne(fe+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(ie){if(ie=ie||0,isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(L(R(ie))+" M"),this},d.GState=U0,d.setGState=function(ie){(ie=typeof ie=="string"?wt[bt[ie]]:Yu(null,ie)).equals(Wt)||(ne("/"+ie.id+" gs"),Wt=ie)};var Yu=function(ie,fe){if(!ie||!bt[ie]){var Ee=!1;for(var Ae in wt)if(wt.hasOwnProperty(Ae)&&wt[Ae].equals(fe)){Ee=!0;break}if(Ee)fe=wt[Ae];else{var Me="GS"+(Object.keys(wt).length+1).toString(10);wt[Me]=fe,fe.id=Me}return ie&&(bt[ie]=fe.id),qt.publish("addGState",fe),fe}};d.addGState=function(ie,fe){return Yu(ie,fe),this},d.saveGraphicsState=function(){return ne("q"),rt.push({key:We,size:Y,color:Zu}),this},d.restoreGraphicsState=function(){ne("Q");var ie=rt.pop();return We=ie.key,Y=ie.size,Zu=ie.color,Wt=null,this},d.setCurrentTransformationMatrix=function(ie){return ne(ie.toString()+" cm"),this},d.comment=function(ie){return ne("#"+ie),this};var Ju=function(ie,fe){var Ee=ie||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(Ye){isNaN(Ye)||(Ee=parseFloat(Ye))}});var Ae=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ye){isNaN(Ye)||(Ae=parseFloat(Ye))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Ye){Me=Ye.toString()}}),this},Op=function(ie,fe,Ee,Ae){Ju.call(this,ie,fe),this.type="rect";var Me=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(st){isNaN(st)||(Me=parseFloat(st))}});var Ye=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(st){isNaN(st)||(Ye=parseFloat(st))}}),this},Ah=function(){this.page=_t,this.currentPage=K,this.pages=J.slice(0),this.pagesContext=ot.slice(0),this.x=qe,this.y=pt,this.matrix=$e,this.width=Vg(K),this.height=_l(K),this.outputDestination=se,this.id="",this.objectNumber=-1};Ah.prototype.restore=function(){_t=this.page,K=this.currentPage,ot=this.pagesContext,J=this.pages,qe=this.x,pt=this.y,$e=this.matrix,Gg(K,this.width),Sl(K,this.height),se=this.outputDestination};var Ip=function(ie,fe,Ee,Ae,Me){Cr.push(new Ah),_t=K=0,J=[],qe=ie,pt=fe,$e=Me,mt([Ee,Ae])};for(var Qu in d.beginFormObject=function(ie,fe,Ee,Ae,Me){return Ip(ie,fe,Ee,Ae,Me),this},d.endFormObject=function(ie){return function(fe){if(hr[fe])Cr.pop().restore();else{var Ee=new Ah,Ae="Xo"+(Object.keys(jt).length+1).toString(10);Ee.id=Ae,hr[fe]=Ae,jt[Ae]=Ee,qt.publish("addFormObject",Ee),Cr.pop().restore()}}(ie),this},d.doFormObject=function(ie,fe){var Ee=jt[hr[ie]];return ne("q"),ne(fe.toString()+" cm"),ne("/"+Ee.id+" Do"),ne("Q"),this},d.getFormObject=function(ie){var fe=jt[hr[ie]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},d.save=function(ie,fe){return ie=ie||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Sd(wi(_n()),ie),typeof Sd.unload=="function"&&cr.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(Ee,Ae){try{var Me=Sd(wi(_n()),ie);typeof Sd.unload=="function"&&cr.setTimeout&&setTimeout(Sd.unload,911),Ee(Me)}catch(Ye){Ae(Ye.message)}})},Dt.API)Dt.API.hasOwnProperty(Qu)&&(Qu==="events"&&Dt.API.events.length?function(ie,fe){var Ee,Ae,Me;for(Me=fe.length-1;Me!==-1;Me--)Ee=fe[Me][0],Ae=fe[Me][1],ie.subscribe.apply(ie,[Ee].concat(typeof Ae=="function"?[Ae]:Ae))}(qt,Dt.API.events):d[Qu]=Dt.API[Qu]);function Vg(ie){return ot[ie].mediaBox.topRightX-ot[ie].mediaBox.bottomLeftX}function Gg(ie,fe){ot[ie].mediaBox.topRightX=fe+ot[ie].mediaBox.bottomLeftX}function _l(ie){return ot[ie].mediaBox.topRightY-ot[ie].mediaBox.bottomLeftY}function Sl(ie,fe){ot[ie].mediaBox.topRightY=fe+ot[ie].mediaBox.bottomLeftY}var Kg=d.getPageWidth=function(ie){return Vg(ie=ie||K)/Je},Xg=d.setPageWidth=function(ie,fe){Gg(ie,fe*Je)},ed=d.getPageHeight=function(ie){return _l(ie=ie||K)/Je},Zg=d.setPageHeight=function(ie,fe){Sl(ie,fe*Je)};return d.internal={pdfEscape:Nt,getStyle:yl,getFont:Xu,getFontSize:ce,getCharSpace:tw,getTextColor:kh,getLineHeight:bc,getLineHeightFactor:J2,getLineWidth:or,write:ee,getHorizontalCoordinate:wl,getVerticalCoordinate:xl,getCoordinateString:Q2,getVerticalCoordinateString:ew,collections:{},newObject:Pe,newAdditionalObject:Bt,newObjectDeferred:He,newObjectDeferredBegin:ct,getFilters:Kt,putStream:zt,events:qt,scaleFactor:Je,pageSize:{getWidth:function(){return Kg(K)},setWidth:function(ie){Xg(K,ie)},getHeight:function(){return ed(K)},setHeight:function(ie){Zg(K,ie)}},encryptionOptions:u,encryption:cn,getEncryptor:function(ie){return u!==null?cn.encryptor(ie,0):function(fe){return fe}},output:xi,getNumberOfPages:fr,pages:J,out:ne,f2:G,f3:I,getPageInfo:Na,getPageInfoByObjId:Wr,getCurrentPageInfo:Mr,getPDFVersion:g,Point:Ju,Rectangle:Op,Matrix:dt,hasHotfix:Ms},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Kg(K)},set:function(ie){Xg(K,ie)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ed(K)},set:function(ie){Zg(K,ie)},enumerable:!0,configurable:!0}),(function(ie){for(var fe=0,Ee=W.length;fe<Ee;fe++){var Ae=it.call(this,ie[fe][0],ie[fe][1],ie[fe][2],W[fe][3],!0);h===!1&&(f[Ae]=!0);var Me=ie[fe][0].split("-");et({id:Ae,fontName:Me[0],fontStyle:Me[1]||""})}qt.publish("addFonts",{fonts:Ue,dictionary:Ke})}).call(d,W),We="F1",yt(i,r),qt.publish("initialized"),d}tf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},tf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},tf.prototype.processOwnerPassword=function(e,t){return d4(u4(t).substr(0,5),e)},tf.prototype.encryptor=function(e,t){var r=u4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return d4(r,n)}},U0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||an(e)!==an(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Dt.API={events:[]},Dt.version="3.0.3";var qn=Dt.API,x8=1,ch=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},Dc=function(e){return e.toFixed(5)};qn.__acroform__={};var ea=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Y7=function(e){return e*x8},Uo=function(e){var t=new $M,r=Ot.internal.getHeight(e)||0,n=Ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},rY=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},nY=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},iY=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},oi=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iY(e,t-1)},li=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rY(e,t-1)},ci=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nY(e,t-1)},sY=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(yr(l.lowerLeft_X)),Number(yr(l.lowerLeft_Y)),Number(yr(l.upperRight_X)),Number(yr(l.upperRight_Y))]},aY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=h4(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Uo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},h4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(G){return G.split(`
`)}):i.map(function(G){return[G]});var s=r,o=Ot.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ot.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(G,I,R){if(G+1<i.length){var S=I+" "+i[G+1][0];return V1(S,e,R).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,h=V1("3",e,s).height,f=e.multiline?o-s:(o-h)/2,d=f+=2,p=0,g=0,m=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+V1(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var x=!1;if(i[b].length!==1&&m!==i[b].length-1){if((h+2)*(y+2)+2>o)continue e;v+=i[b][m],x=!0,g=b,b--}else{v=(v+=i[b][m]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var _=parseInt(b),M=l(_,v,s),U=b>=i.length-1;if(M&&!U){v+=" ",m=0;continue}if(M||U){if(U)g=_;else if(e.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(y+2)+2>o)continue e;g=_}}for(var L="",O=p;O<=g;O++){var H=i[O];if(e.multiline){if(O===g){L+=H[m]+" ",m=(m+1)%H.length;continue}if(O===p){L+=H[H.length-1]+" ";continue}}L+=H[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=V1(L,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=yr(c)+" "+yr(d)+` Td
`,t+="("+ch(L)+`) Tj
`,t+=-yr(c)+` 0 Td
`,d=-(s+2),u=0,p=x?g:g+1,y++,v=""}break}return n.text=t,n.fontSize=s,n},V1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},oY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lY=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},cY=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(No.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(oY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");x8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new HM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&lY(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=sY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ot.createDefaultAppearanceStream(a),an(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=aY(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var d=a.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var p=d[o];typeof p=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=d)=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(g,m){for(var v in g)if(g.hasOwnProperty(v)){var y=v,b=g[v];m.internal.newObjectDeferredBegin(b.objId,!0),an(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete g[y]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},UM=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),an(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+ch(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Sx=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ch(n(e))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:UM(i,this.objId,this.scope)}):i instanceof Jo?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var $M=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ea($M,Jo);var HM=function(){Jo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ch(r(e))+")"}},set:function(r){e=r}})};ea(HM,Jo);var No=function e(){Jo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oi(t,3)},set:function(v){v?this.F=li(t,3):this.F=ci(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof $y)return;s="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+ch(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/x8:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof $y||this instanceof vu))return Sx(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ti==0?Sx(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Ti==0?v.substr(0,1)==="("?Uh(v.substr(1,v.length-2)):Uh(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?Uh(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Ti==1?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ti==0?Sx(d,this.objId,this.scope):d},set:function(v){v=v.toString(),d=this instanceof Ti==0?v.substr(0,1)==="("?Uh(v.substr(1,v.length-2)):Uh(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?Uh(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Ti==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,1)},set:function(v){v?this.Ff=li(this.Ff,1):this.Ff=ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,2)},set:function(v){v?this.Ff=li(this.Ff,2):this.Ff=ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,3)},set:function(v){v?this.Ff=li(this.Ff,3):this.Ff=ci(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');m=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(m){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};ea(No,Jo);var $d=function(){No.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UM(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,18)},set:function(r){r?this.Ff=li(this.Ff,18):this.Ff=ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=li(this.Ff,19):this.Ff=ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,20)},set:function(r){r?(this.Ff=li(this.Ff,20),t.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,22)},set:function(r){r?this.Ff=li(this.Ff,22):this.Ff=ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(r){r?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,27)},set:function(r){r?this.Ff=li(this.Ff,27):this.Ff=ci(this.Ff,27)}}),this.hasAppearanceStream=!1};ea($d,No);var Hd=function(){$d.call(this),this.fontName="helvetica",this.combo=!1};ea(Hd,$d);var Wd=function(){Hd.call(this),this.combo=!0};ea(Wd,Hd);var Ym=function(){Wd.call(this),this.edit=!0};ea(Ym,Wd);var Ti=function(){No.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,15)},set:function(r){r?this.Ff=li(this.Ff,15):this.Ff=ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,16)},set:function(r){r?this.Ff=li(this.Ff,16):this.Ff=ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,17)},set:function(r){r?this.Ff=li(this.Ff,17):this.Ff=ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(r){r?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+ch(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){an(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ea(Ti,No);var Jm=function(){Ti.call(this),this.pushButton=!0};ea(Jm,Ti);var qd=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ea(qd,Ti);var $y=function(){var e,t;No.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+ch(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ea($y,No),qd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},qd.prototype.createOption=function(e){var t=new $y;return t.Parent=this,t.optionName=e,this.Kids.push(t),uY.call(this.scope,t),t};var Qm=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};ea(Qm,Ti);var vu=function(){No.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,13)},set:function(t){t?this.Ff=li(this.Ff,13):this.Ff=ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,21)},set:function(t){t?this.Ff=li(this.Ff,21):this.Ff=ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(t){t?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,24)},set:function(t){t?this.Ff=li(this.Ff,24):this.Ff=ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,25)},set:function(t){t?this.Ff=li(this.Ff,25):this.Ff=ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(t){t?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ea(vu,No);var e0=function(){vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,14)},set:function(e){e?this.Ff=li(this.Ff,14):this.Ff=ci(this.Ff,14)}}),this.password=!0};ea(e0,vu);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=h4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Uo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Ot.internal.getHeight(e),o=Ot.internal.getWidth(e),a=h4(e,e.caption);return i.push("1 g"),i.push("0 0 "+yr(o)+" "+yr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(o-1)+" "+yr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+yr(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ot.RadioButton.Circle.YesNormal,t.D[e]=Ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Uo(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Ot.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Dc(Ot.internal.getWidth(e)/2)+" "+Dc(Ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ot.internal.Bezier_C).toFixed(5)),o=Number((n*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Dc(Ot.internal.getWidth(e)/2)+" "+Dc(Ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Dc(Ot.internal.getWidth(e)/2)+" "+Dc(Ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Dc(Ot.internal.getWidth(e)/2)+" "+Dc(Ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ot.RadioButton.Cross.YesNormal,t.D[e]=Ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Uo(e);t.scope=e.scope;var r=[],n=Ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(Ot.internal.getWidth(e)-2)+" "+yr(Ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=Ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(Ot.internal.getWidth(e)-2)+" "+yr(Ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Uo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ot.internal.getWidth(e),r=Ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ot.internal.getWidth=function(e){var t=0;return an(e)==="object"&&(t=Y7(e.Rect[2])),t},Ot.internal.getHeight=function(e){var t=0;return an(e)==="object"&&(t=Y7(e.Rect[3])),t};var uY=qn.addField=function(e){if(cY(this,e),!(e instanceof No))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=$d,qn.AcroFormListBox=Hd,qn.AcroFormComboBox=Wd,qn.AcroFormEditBox=Ym,qn.AcroFormButton=Ti,qn.AcroFormPushButton=Jm,qn.AcroFormRadioButton=qd,qn.AcroFormCheckBox=Qm,qn.AcroFormTextField=vu,qn.AcroFormPasswordField=e0,qn.AcroFormAppearance=Ot,qn.AcroForm={ChoiceField:$d,ListBox:Hd,ComboBox:Wd,EditBox:Ym,Button:Ti,PushButton:Jm,RadioButton:qd,CheckBox:Qm,TextField:vu,PasswordField:e0,Appearance:Ot},Dt.AcroForm={ChoiceField:$d,ListBox:Hd,ComboBox:Wd,EditBox:Ym,Button:Ti,PushButton:Jm,RadioButton:qd,CheckBox:Qm,TextField:vu,PasswordField:e0,Appearance:Ot};Dt.AcroForm;function WM(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(G,I){var R,S,j,E,k,A=r;if((I=I||r)==="RGBA"||G.data!==void 0&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(M(G))for(k in n)for(j=n[k],R=0;R<j.length;R+=1){for(E=!0,S=0;S<j[R].length;S+=1)if(j[R][S]!==void 0&&j[R][S]!==G[S]){E=!1;break}if(E===!0){A=k;break}}else for(k in n)for(j=n[k],R=0;R<j.length;R+=1){for(E=!0,S=0;S<j[R].length;S+=1)if(j[R][S]!==void 0&&j[R][S]!==G.charCodeAt(S)){E=!1;break}if(E===!0){A=k;break}}return A===r&&I!==r&&(A=I),A},s=function G(I){for(var R=this.internal.write,S=this.internal.putStream,j=(0,this.internal.getFilters)();j.indexOf("FlateEncode")!==-1;)j.splice(j.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var E=[];if(E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Image"}),E.push({key:"Width",value:I.width}),E.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?E.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(E.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&E.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),E.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&E.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var k="",A=0,C=I.transparency.length;A<C;A++)k+=I.transparency[A]+" "+I.transparency[A]+" ";E.push({key:"Mask",value:"["+k+"]"})}I.sMask!==void 0&&E.push({key:"SMask",value:I.objectId+1+" 0 R"});var D=I.filter!==void 0?["/"+I.filter]:void 0;if(S({data:I.data,additionalKeyValues:E,alreadyAppliedFilters:D,objectId:I.objectId}),R("endobj"),"sMask"in I&&I.sMask!==void 0){var z,P=(z=I.sMaskBitsPerComponent)!==null&&z!==void 0?z:I.bitsPerComponent,K={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:I.sMask};"filter"in I&&(K.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(I.width),K.filter=I.filter),G.call(this,K)}if(I.colorSpace===v.INDEXED){var Z=this.internal.newObject();S({data:L(new Uint8Array(I.palette)),objectId:Z}),R("endobj")}},o=function(){var G=this.internal.collections[t+"images"];for(var I in G)s.call(this,G[I])},a=function(){var G,I=this.internal.collections[t+"images"],R=this.internal.write;for(var S in I)R("/I"+(G=I[S]).index,G.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var G=this.internal.collections[t+"images"];return l.call(this),G},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(G){return typeof e["process"+G.toUpperCase()]=="function"},f=function(G){return an(G)==="object"&&G.nodeType===1},d=function(G,I){if(G.nodeName==="IMG"&&G.hasAttribute("src")){var R=""+G.getAttribute("src");if(R.indexOf("data:image/")===0)return Gv(unescape(R).split("base64,").pop());var S=e.loadFile(R,!0);if(S!==void 0)return S}if(G.nodeName==="CANVAS"){if(G.width===0||G.height===0)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var j;switch(I){case"PNG":j="image/png";break;case"WEBP":j="image/webp";break;default:j="image/jpeg"}return Gv(G.toDataURL(j,1).split("base64,").pop())}},p=function(G){var I=this.internal.collections[t+"images"];if(I){for(var R in I)if(G===I[R].alias)return I[R]}},g=function(G,I,R){return G||I||(G=-96,I=-96),G<0&&(G=-1*R.width*72/G/this.internal.scaleFactor),I<0&&(I=-1*R.height*72/I/this.internal.scaleFactor),G===0&&(G=I*R.width/R.height),I===0&&(I=G*R.height/R.width),[G,I]},m=function(G,I,R,S,j,E){var k=g.call(this,R,S,j),A=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,D=c.call(this);if(R=k[0],S=k[1],D[j.index]=j,E){E*=Math.PI/180;var z=Math.cos(E),P=Math.sin(E),K=function(te){return te.toFixed(4)},Z=[K(z),K(P),K(-1*P),K(z),0,0,"cm"]}this.internal.write("q"),E?(this.internal.write([1,"0","0",1,A(G),C(I+S),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([A(R),"0","0",A(S),"0","0","cm"].join(" "))):this.internal.write([A(R),"0","0",A(S),A(G),C(I+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+j.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(G){var I,R,S=0;if(typeof G=="string")for(R=G.length,I=0;I<R;I++)S=(S<<5)-S+G.charCodeAt(I),S|=0;else if(M(G))for(R=G.byteLength/2,I=0;I<R;I++)S=(S<<5)-S+G[I],S|=0;return S},x=e.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var I=!0;return G.length===0&&(I=!1),G.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))===!1&&(I=!1),I},_=e.__addimage__.extractImageFromDataUrl=function(G){if(G==null||!(G=G.trim()).startsWith("data:"))return null;var I=G.indexOf(",");return I<0?null:G.substring(0,I).trim().endsWith("base64")?G.substring(I+1):null};e.__addimage__.isArrayBuffer=function(G){return G instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(G){return G instanceof Int8Array||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(G){for(var I=G.length,R=new Uint8Array(I),S=0;S<I;S++)R[S]=G.charCodeAt(S);return R},L=e.__addimage__.arrayBufferToBinaryString=function(G){for(var I="",R=M(G)?G:new Uint8Array(G),S=0;S<R.length;S+=8192)I+=String.fromCharCode.apply(null,R.subarray(S,S+8192));return I};e.addImage=function(){var G,I,R,S,j,E,k,A,C;if(typeof arguments[1]=="number"?(I=r,R=arguments[1],S=arguments[2],j=arguments[3],E=arguments[4],k=arguments[5],A=arguments[6],C=arguments[7]):(I=arguments[1],R=arguments[2],S=arguments[3],j=arguments[4],E=arguments[5],k=arguments[6],A=arguments[7],C=arguments[8]),an(G=arguments[0])==="object"&&!f(G)&&"imageData"in G){var D=G;G=D.imageData,I=D.format||I||r,R=D.x||R||0,S=D.y||S||0,j=D.w||D.width||j,E=D.h||D.height||E,k=D.alias||k,A=D.compression||A,C=D.rotation||D.angle||C}var z=this.internal.getFilters();if(A===void 0&&z.indexOf("FlateEncode")!==-1&&(A="SLOW"),isNaN(R)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=O.call(this,G,I,k,A);return m.call(this,R,S,j,E,P,C),this};var O=function(G,I,R,S){var j,E,k;if(typeof G=="string"&&i(G)===r){G=unescape(G);var A=H(G,!1);(A!==""||(A=e.loadFile(G,!0))!==void 0)&&(G=A)}if(f(G)&&(G=d(G,I)),I=i(G,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((k=R)==null||k.length===0)&&(R=function(C){return typeof C=="string"||M(C)?b(C):M(C.data)?b(C.data):null}(G)),(j=p.call(this,R))||(G instanceof Uint8Array||I==="RGBA"||(E=G,G=U(G)),j=this["process"+I.toUpperCase()](G,u.call(this),R,function(C){return C&&typeof C=="string"&&(C=C.toUpperCase()),C in e.image_compression?C:y.NONE}(S),E)),!j)throw new Error("An unknown error occurred whilst processing the image.");return j},H=e.__addimage__.convertBase64ToBinaryString=function(G,I){I=typeof I!="boolean"||I;var R,S="";if(typeof G=="string"){var j;R=(j=_(G))!==null&&j!==void 0?j:G;try{S=Gv(R)}catch(E){if(I)throw x(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+E.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};e.getImageProperties=function(G){var I,R,S="";if(f(G)&&(G=d(G)),typeof G=="string"&&i(G)===r&&((S=H(G,!1))===""&&(S=e.loadFile(G)||""),G=S),R=i(G),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(G instanceof Uint8Array||(G=U(G)),!(I=this["process"+R.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=R,I}})(Dt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(v(y))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(g.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var M=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(r,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,a,o,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Dt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var m=0,v=r,y="",b=0;for(m=0;m<g.length;m+=1)v[g.charCodeAt(m)]!==void 0?(b++,typeof(v=v[g.charCodeAt(m)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),m===g.length-1&&(v=r,y+=g.charAt(m-(b-1)),m-=b-1,b=0)):(v=r,y+=g.charAt(m-b),m-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(g,m,v){return o(g)?s(g)===!1?-1:!c(g)||!o(m)&&!o(v)||!o(v)&&a(m)||a(g)&&!o(m)||a(g)&&l(m)||a(g)&&a(m)?0:u(g)&&o(m)&&!a(m)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},d=function(g){var m=0,v=0,y=0,b="",x="",_="",M=(g=g||"").split("\\s+"),U=[];for(m=0;m<M.length;m+=1){for(U.push(""),v=0;v<M[m].length;v+=1)b=M[m][v],x=M[m][v-1],_=M[m][v+1],o(b)?(y=f(b,x,_),U[m]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):U[m]+=b;U[m]=h(U[m])}return U.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(m)){var y=0;for(v=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?v.push([d(m[y][0]),m[y][1],m[y][2]]):v.push([d(m[y])]);g=v}else g=d(m);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Dt.API),Dt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Dt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,d=0,p=0,g=0,m=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,x){return b.concat(m.splitTextToSize(x,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(g=this.getStringUnitWidth(l[y],{font:h})*u)&&(d=g);return d!==0&&(p=l.length),{w:d/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,p,g,m,v=[],y=[],b=[],x={},_={},M=[],U=[],L=(f=f||{}).autoSize||!1,O=f.printHeaders!==!1,H=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,G=f.margins||Object.assign({width:this.getPageWidth()},t),I=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",S=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=S,this.setFontSize(H),h==null)y=v=Object.keys(u[0]),b=v.map(function(){return"left"});else if(Array.isArray(h)&&an(h[0])==="object")for(v=h.map(function(D){return D.name}),y=h.map(function(D){return D.prompt||D.name||""}),b=h.map(function(D){return D.align||"left"}),d=0;d<h.length;d+=1)_[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=v=h,b=v.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<v.length;d+=1){for(x[m=v[d]]=u.map(function(D){return D[m]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=x[m],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)M.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[m]=Math.max.apply(null,M)+I+I,M=[]}if(O){var j={};for(d=0;d<v.length;d+=1)j[v[d]]={},j[v[d]].text=y[d],j[v[d]].align=b[d];var E=a.call(this,j,_);U=v.map(function(D){return new s(l,c,_[D],E,j[D].text,void 0,j[D].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var k=h.reduce(function(D,z){return D[z.name]=z.align,D},{});for(d=0;d<u.length;d+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:d,data:u[d]},this);var A=a.call(this,u[d],_);for(g=0;g<v.length;g+=1){var C=u[d][v[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:d,col:g,data:C},this),o.call(this,new s(l,c,_[v[g]],A,C,d+2,k[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(d){var p=l[d];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/f+u+u},this).reduce(function(d,p){return Math.max(d,p)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Dt.API);var qM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f4=WM(VM),GM=[100,200,300,400,500,600,700,800,900],dY=WM(GM);function Ex(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return qM[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof f4[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function J7(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var hY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function tA(e){return e.trimLeft()}function fY(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function pY(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var G1,rA,nA,$h,K1,iA,sA,aA,kx=["times"];function oA(e,t,r,n,i){var s=4,o=cA;switch(i){case Dt.API.image_compression.FAST:s=1,o=lA;break;case Dt.API.image_compression.MEDIUM:s=6,o=uA;break;case Dt.API.image_compression.SLOW:s=9,o=dA}e=function(l,c,u,h){for(var f,d=l.length/c,p=new Uint8Array(l.length+d),g=[mY,lA,cA,uA,dA],m=0;m<d;m+=1){var v=m*c,y=l.subarray(v,v+c);if(h)p.set(h(y,u,f),v+m);else{for(var b=g.length,x=[],_=0;_<b;_+=1)x[_]=g[_](y,u,f);var M=vY(x.concat());p.set(x[M],v+m)}f=y}return p}(e,t,Math.ceil(r*n/8),o);var a=e4(e,{level:s});return Dt.API.__addimage__.arrayBufferToBinaryString(a)}function mY(e){var t=Array.apply([],e);return t.unshift(0),t}function lA(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function cA(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=e[s]-o+256&255}return i}function uA(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,a=r&&r[s]||0;i[s+1]=e[s]+256-(o+a>>>1)&255}return i}function dA(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=gY(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function gY(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function vY(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Nx(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return KM(e,i)>>s&o}function hA(e,t,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,l=(t&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var f=h>>8&255;c.setUint8(u,f)}})(e,s,KM(e,s)&~(a<<o)&65535|l)}function KM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function yY(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],h=0,f=null,d=0,p=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],1&g||(f=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],_=x>>6&1,M=1<<1+(7&x),U=a,L=l,O=!1;x>>7&&(O=!0,U=t,L=M,t+=3*M);var H=t;for(t++;;){var G;if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}u.push({x:m,y:v,width:y,height:b,has_local_palette:O,palette_offset:U,palette_size:L,data_offset:H,data_length:t-H,transparent_index:f,interlaced:!!_,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,R){var S=this.frameInfo(I),j=S.width*S.height,E=new Uint8Array(j);fA(e,S.data_offset,E,j);var k=S.palette_offset,A=S.transparent_index;A===null&&(A=256);var C=S.width,D=r-C,z=C,P=4*(S.y*r+S.x),K=4*((S.y+S.height)*r+S.x),Z=P,te=4*D;S.interlaced===!0&&(te+=4*r*7);for(var q=8,$=0,N=E.length;$<N;++$){var T=E[$];if(z===0&&(z=C,(Z+=te)>=K&&(te=4*D+4*r*(q-1),Z=P+(C+D)*(q<<1),q>>=1)),T===A)Z+=4;else{var V=e[k+3*T],J=e[k+3*T+1],re=e[k+3*T+2];R[Z++]=re,R[Z++]=J,R[Z++]=V,R[Z++]=255}--z}},this.decodeAndBlitFrameRGBA=function(I,R){var S=this.frameInfo(I),j=S.width*S.height,E=new Uint8Array(j);fA(e,S.data_offset,E,j);var k=S.palette_offset,A=S.transparent_index;A===null&&(A=256);var C=S.width,D=r-C,z=C,P=4*(S.y*r+S.x),K=4*((S.y+S.height)*r+S.x),Z=P,te=4*D;S.interlaced===!0&&(te+=4*r*7);for(var q=8,$=0,N=E.length;$<N;++$){var T=E[$];if(z===0&&(z=C,(Z+=te)>=K&&(te=4*D+4*r*(q-1),Z=P+(C+D)*(q<<1),q>>=1)),T===A)Z+=4;else{var V=e[k+3*T],J=e[k+3*T+1],re=e[k+3*T+2];R[Z++]=V,R[Z++]=J,R[Z++]=re,R[Z++]=255}--z}}}function fA(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,f=0,d=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&d!==0;)h|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var v=m<a?m:g,y=0,b=v;b>s;)b=p[b]>>8,++y;var x=b;if(f+y+(v!==m?1:0)>n)return void pn.log("Warning, gif stream longer than expected.");r[f++]=x;var _=f+=y;for(v!==m&&(r[f++]=x),b=v;y--;)b=p[b],r[--_]=255&b,b>>=8;g!==null&&a<4096&&(p[a++]=g<<8|x,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else a=o+1,c=(1<<(l=i+1))-1,g=null}return f!==n&&pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ax(e){var t,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),x=new Array(64),_=new Array(256),M=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function E(P,K){for(var Z=0,te=0,q=new Array,$=1;$<=16;$++){for(var N=1;N<=P[$];N++)q[K[te]]=[],q[K[te]][0]=Z,q[K[te]][1]=$,te++,Z++;Z*=2}return q}function k(P){for(var K=P[0],Z=P[1]-1;Z>=0;)K&1<<Z&&(m|=1<<v),Z--,--v<0&&(m==255?(A(255),A(0)):A(m),v=7,m=0)}function A(P){g.push(P)}function C(P){A(P>>8&255),A(255&P)}function D(P,K,Z,te,q){for(var $,N=q[0],T=q[240],V=function(Y,ae){var ce,le,de,me,ge,ke,Re,je,We,Je,qe=0;for(We=0;We<8;++We){ce=Y[qe],le=Y[qe+1],de=Y[qe+2],me=Y[qe+3],ge=Y[qe+4],ke=Y[qe+5],Re=Y[qe+6];var pt=ce+(je=Y[qe+7]),$e=ce-je,Ue=le+Re,Ke=le-Re,rt=de+ke,Ze=de-ke,Et=me+ge,wt=me-ge,bt=pt+Et,Wt=pt-Et,_t=Ue+rt,ot=Ue-rt;Y[qe]=bt+_t,Y[qe+4]=bt-_t;var qt=.707106781*(ot+Wt);Y[qe+2]=Wt+qt,Y[qe+6]=Wt-qt;var Er=.382683433*((bt=wt+Ze)-(ot=Ke+$e)),jt=.5411961*bt+Er,hr=1.306562965*ot+Er,Cr=.707106781*(_t=Ze+Ke),dt=$e+Cr,wr=$e-Cr;Y[qe+5]=wr+jt,Y[qe+3]=wr-jt,Y[qe+1]=dt+hr,Y[qe+7]=dt-hr,qe+=8}for(qe=0,We=0;We<8;++We){ce=Y[qe],le=Y[qe+8],de=Y[qe+16],me=Y[qe+24],ge=Y[qe+32],ke=Y[qe+40],Re=Y[qe+48];var jr=ce+(je=Y[qe+56]),Gt=ce-je,Ne=le+Re,Pe=le-Re,He=de+ke,ct=de-ke,Bt=me+ge,vt=me-ge,Ft=jr+Bt,It=jr-Bt,Tt=Ne+He,Kt=Ne-He;Y[qe]=Ft+Tt,Y[qe+32]=Ft-Tt;var zt=.707106781*(Kt+It);Y[qe+16]=It+zt,Y[qe+48]=It-zt;var ar=.382683433*((Ft=vt+ct)-(Kt=Pe+Gt)),Gr=.5411961*Ft+ar,zr=1.306562965*Kt+ar,mn=.707106781*(Tt=ct+Pe),gn=Gt+mn,Qn=Gt-mn;Y[qe+40]=Qn+Gr,Y[qe+24]=Qn-Gr,Y[qe+8]=gn+zr,Y[qe+56]=gn-zr,qe++}for(We=0;We<64;++We)Je=Y[We]*ae[We],d[We]=Je>0?Je+.5|0:Je-.5|0;return d}(P,K),J=0;J<64;++J)p[U[J]]=V[J];var re=p[0]-Z;Z=p[0],re==0?k(te[0]):(k(te[f[$=32767+re]]),k(h[$]));for(var se=63;se>0&&p[se]==0;)se--;if(se==0)return k(N),Z;for(var B,ne=1;ne<=se;){for(var ee=ne;p[ne]==0&&ne<=se;)++ne;var F=ne-ee;if(F>=16){B=F>>4;for(var W=1;W<=B;++W)k(T);F&=15}$=32767+p[ne],k(q[(F<<4)+f[$]]),k(h[$]),ne++}return se!=63&&k(N),Z}function z(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var q=o((Z[te]*K+50)/100);q=Math.min(Math.max(q,1),255),a[U[te]]=q}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],N=0;N<64;N++){var T=o(($[N]*K+50)/100);T=Math.min(Math.max(T,1),255),l[U[N]]=T}for(var V=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,re=0;re<8;re++)for(var se=0;se<8;se++)c[J]=1/(a[U[J]]*V[re]*V[se]*8),u[J]=1/(l[U[J]]*V[re]*V[se]*8),J++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,K){K&&z(K),g=new Array,m=0,v=7,C(65496),C(65504),C(16),A(74),A(70),A(73),A(70),A(0),A(1),A(1),A(0),C(1),C(1),A(0),A(0),function(){C(65499),C(132),A(0);for(var le=0;le<64;le++)A(a[le]);A(1);for(var de=0;de<64;de++)A(l[de])}(),function(le,de){C(65472),C(17),A(8),C(de),C(le),A(3),A(1),A(17),A(0),A(2),A(17),A(1),A(3),A(17),A(1)}(P.width,P.height),function(){C(65476),C(418),A(0);for(var le=0;le<16;le++)A(L[le+1]);for(var de=0;de<=11;de++)A(O[de]);A(16);for(var me=0;me<16;me++)A(H[me+1]);for(var ge=0;ge<=161;ge++)A(G[ge]);A(1);for(var ke=0;ke<16;ke++)A(I[ke+1]);for(var Re=0;Re<=11;Re++)A(R[Re]);A(17);for(var je=0;je<16;je++)A(S[je+1]);for(var We=0;We<=161;We++)A(j[We])}(),C(65498),C(12),A(3),A(1),A(0),A(2),A(17),A(3),A(17),A(0),A(63),A(0);var Z=0,te=0,q=0;m=0,v=7,this.encode.displayName="_encode_";for(var $,N,T,V,J,re,se,B,ne,ee=P.data,F=P.width,W=P.height,Y=4*F,ae=0;ae<W;){for($=0;$<Y;){for(J=Y*ae+$,se=-1,B=0,ne=0;ne<64;ne++)re=J+(B=ne>>3)*Y+(se=4*(7&ne)),ae+B>=W&&(re-=Y*(ae+1+B-W)),$+se>=Y&&(re-=$+se-Y+4),N=ee[re++],T=ee[re++],V=ee[re++],y[ne]=(M[N]+M[T+256|0]+M[V+512|0]>>16)-128,b[ne]=(M[N+768|0]+M[T+1024|0]+M[V+1280|0]>>16)-128,x[ne]=(M[N+1280|0]+M[T+1536|0]+M[V+1792|0]>>16)-128;Z=D(y,c,Z,t,n),te=D(b,u,te,r,i),q=D(x,u,q,r,i),$+=32}ae+=8}if(v>=0){var ce=[];ce[1]=v+1,ce[0]=(1<<v+1)-1,k(ce)}return C(65497),new Uint8Array(g)},e=e||50,function(){for(var P=String.fromCharCode,K=0;K<256;K++)_[K]=P(K)}(),t=E(L,O),r=E(I,R),n=E(H,G),i=E(S,j),function(){for(var P=1,K=2,Z=1;Z<=15;Z++){for(var te=P;te<K;te++)f[32767+te]=Z,h[32767+te]=[],h[32767+te][1]=Z,h[32767+te][0]=te;for(var q=-(K-1);q<=-P;q++)f[32767+q]=Z,h[32767+q]=[],h[32767+q][1]=Z,h[32767+q][0]=K-1+q;P<<=1,K<<=1}}(),function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P}(),z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pA(e){function t(O){if(!O)throw Error("assert :P")}function r(O,H,G){for(var I=0;4>I;I++)if(O[H+I]!=G.charCodeAt(I))return!0;return!1}function n(O,H,G,I,R){for(var S=0;S<R;S++)O[H+S]=G[I+S]}function i(O,H,G,I){for(var R=0;R<I;R++)O[H+R]=G}function s(O){return new Int32Array(O)}function o(O,H){for(var G=[],I=0;I<O;I++)G.push(new H);return G}function a(O,H){var G=[];return function I(R,S,j){for(var E=j[S],k=0;k<E&&(R.push(j.length>S+1?[]:new H),!(j.length<S+1));k++)I(R[k],S+1,j)}(G,0,O),G}var l=function(){var O=this;function H(X,Q){for(var oe=1<<Q-1>>>0;X&oe;)oe>>>=1;return oe?(X&oe-1)+oe:X}function G(X,Q,oe,ue,pe){t(!(ue%oe));do X[Q+(ue-=oe)]=pe;while(0<ue)}function I(X,Q,oe,ue,pe){if(t(2328>=pe),512>=pe)var ve=s(512);else if((ve=s(pe))==null)return 0;return function(ye,be,we,_e,Te,ze){var Se,Oe,De=be,Ge=1<<we,Fe=s(16),Xe=s(16);for(t(Te!=0),t(_e!=null),t(ye!=null),t(0<we),Oe=0;Oe<Te;++Oe){if(15<_e[Oe])return 0;++Fe[_e[Oe]]}if(Fe[0]==Te)return 0;for(Xe[1]=0,Se=1;15>Se;++Se){if(Fe[Se]>1<<Se)return 0;Xe[Se+1]=Xe[Se]+Fe[Se]}for(Oe=0;Oe<Te;++Oe)Se=_e[Oe],0<_e[Oe]&&(ze[Xe[Se]++]=Oe);if(Xe[15]==1)return(_e=new R).g=0,_e.value=ze[0],G(ye,De,1,Ge,_e),Ge;var Qe,ft=-1,nt=Ge-1,Zt=0,Pt=1,kr=1,Ut=1<<we;for(Oe=0,Se=1,Te=2;Se<=we;++Se,Te<<=1){if(Pt+=kr<<=1,0>(kr-=Fe[Se]))return 0;for(;0<Fe[Se];--Fe[Se])(_e=new R).g=Se,_e.value=ze[Oe++],G(ye,De+Zt,Te,Ut,_e),Zt=H(Zt,Se)}for(Se=we+1,Te=2;15>=Se;++Se,Te<<=1){if(Pt+=kr<<=1,0>(kr-=Fe[Se]))return 0;for(;0<Fe[Se];--Fe[Se]){if(_e=new R,(Zt&nt)!=ft){for(De+=Ut,Qe=1<<(ft=Se)-we;15>ft&&!(0>=(Qe-=Fe[ft]));)++ft,Qe<<=1;Ge+=Ut=1<<(Qe=ft-we),ye[be+(ft=Zt&nt)].g=Qe+we,ye[be+ft].value=De-be-ft}_e.g=Se-we,_e.value=ze[Oe++],G(ye,De+(Zt>>we),Te,Ut,_e),Zt=H(Zt,Se)}}return Pt!=2*Xe[15]-1?0:Ge}(X,Q,oe,ue,pe,ve)}function R(){this.value=this.g=0}function S(){this.value=this.g=0}function j(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ld,S)}function E(X,Q,oe,ue){t(X!=null),t(Q!=null),t(2147483648>ue),X.Ca=254,X.I=0,X.b=-8,X.Ka=0,X.oa=Q,X.pa=oe,X.Jd=Q,X.Yc=oe+ue,X.Zc=4<=ue?oe+ue-4+1:oe,N(X)}function k(X,Q){for(var oe=0;0<Q--;)oe|=V(X,128)<<Q;return oe}function A(X,Q){var oe=k(X,Q);return T(X)?-oe:oe}function C(X,Q,oe,ue){var pe,ve=0;for(t(X!=null),t(Q!=null),t(4294967288>ue),X.Sb=ue,X.Ra=0,X.u=0,X.h=0,4<ue&&(ue=4),pe=0;pe<ue;++pe)ve+=Q[oe+pe]<<8*pe;X.Ra=ve,X.bb=ue,X.oa=Q,X.pa=oe}function D(X){for(;8<=X.u&&X.bb<X.Sb;)X.Ra>>>=8,X.Ra+=X.oa[X.pa+X.bb]<<_c-8>>>0,++X.bb,X.u-=8;te(X)&&(X.h=1,X.u=0)}function z(X,Q){if(t(0<=Q),!X.h&&Q<=sa){var oe=Z(X)&ia[Q];return X.u+=Q,D(X),oe}return X.h=1,X.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(X){return X.Ra>>>(X.u&_c-1)>>>0}function te(X){return t(X.bb<=X.Sb),X.h||X.bb==X.Sb&&X.u>_c}function q(X,Q){X.u=Q,X.h=te(X)}function $(X){X.u>=kl&&(t(X.u>=kl),D(X))}function N(X){t(X!=null&&X.oa!=null),X.pa<X.Zc?(X.I=(X.oa[X.pa++]|X.I<<8)>>>0,X.b+=8):(t(X!=null&&X.oa!=null),X.pa<X.Yc?(X.b+=8,X.I=X.oa[X.pa++]|X.I<<8):X.Ka?X.b=0:(X.I<<=8,X.b+=8,X.Ka=1))}function T(X){return k(X,1)}function V(X,Q){var oe=X.Ca;0>X.b&&N(X);var ue=X.b,pe=oe*Q>>>8,ve=(X.I>>>ue>pe)+0;for(ve?(oe-=pe,X.I-=pe+1<<ue>>>0):oe=pe+1,ue=oe,pe=0;256<=ue;)pe+=8,ue>>=8;return ue=7^pe+Sc[ue],X.b-=ue,X.Ca=(oe<<ue)-1,ve}function J(X,Q,oe){X[Q+0]=oe>>24&255,X[Q+1]=oe>>16&255,X[Q+2]=oe>>8&255,X[Q+3]=255&oe}function re(X,Q){return X[Q+0]|X[Q+1]<<8}function se(X,Q){return re(X,Q)|X[Q+2]<<16}function B(X,Q){return re(X,Q)|re(X,Q+2)<<16}function ne(X,Q){var oe=1<<Q;return t(X!=null),t(0<Q),X.X=s(oe),X.X==null?0:(X.Mb=32-Q,X.Xa=Q,1)}function ee(X,Q){t(X!=null),t(Q!=null),t(X.Xa==Q.Xa),n(Q.X,0,X.X,0,1<<Q.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function W(X,Q,oe,ue){t(oe!=null),t(ue!=null);var pe=oe[0],ve=ue[0];return pe==0&&(pe=(X*ve+Q/2)/Q),ve==0&&(ve=(Q*pe+X/2)/X),0>=pe||0>=ve?0:(oe[0]=pe,ue[0]=ve,1)}function Y(X,Q){return X+(1<<Q)-1>>>Q}function ae(X,Q){return((4278255360&X)+(4278255360&Q)>>>0&4278255360)+((16711935&X)+(16711935&Q)>>>0&16711935)>>>0}function ce(X,Q){O[Q]=function(oe,ue,pe,ve,ye,be,we){var _e;for(_e=0;_e<ye;++_e){var Te=O[X](be[we+_e-1],pe,ve+_e);be[we+_e]=ae(oe[ue+_e],Te)}}}function le(){this.ud=this.hd=this.jd=0}function de(X,Q){return((4278124286&(X^Q))>>>1)+(X&Q)>>>0}function me(X){return 0<=X&&256>X?X:0>X?0:255<X?255:void 0}function ge(X,Q){return me(X+(X-Q+.5>>1))}function ke(X,Q,oe){return Math.abs(Q-oe)-Math.abs(X-oe)}function Re(X,Q,oe,ue,pe,ve,ye){for(ue=ve[ye-1],oe=0;oe<pe;++oe)ve[ye+oe]=ue=ae(X[Q+oe],ue)}function je(X,Q,oe,ue,pe){var ve;for(ve=0;ve<oe;++ve){var ye=X[Q+ve],be=ye>>8&255,we=16711935&(we=(we=16711935&ye)+((be<<16)+be));ue[pe+ve]=(4278255360&ye)+we>>>0}}function We(X,Q){Q.jd=255&X,Q.hd=X>>8&255,Q.ud=X>>16&255}function Je(X,Q,oe,ue,pe,ve){var ye;for(ye=0;ye<ue;++ye){var be=Q[oe+ye],we=be>>>8,_e=be,Te=255&(Te=(Te=be>>>16)+((X.jd<<24>>24)*(we<<24>>24)>>>5));_e=255&(_e=(_e+=(X.hd<<24>>24)*(we<<24>>24)>>>5)+((X.ud<<24>>24)*(Te<<24>>24)>>>5)),pe[ve+ye]=(4278255360&be)+(Te<<16)+_e}}function qe(X,Q,oe,ue,pe){O[Q]=function(ve,ye,be,we,_e,Te,ze,Se,Oe){for(we=ze;we<Se;++we)for(ze=0;ze<Oe;++ze)_e[Te++]=pe(be[ue(ve[ye++])])},O[X]=function(ve,ye,be,we,_e,Te,ze){var Se=8>>ve.b,Oe=ve.Ea,De=ve.K[0],Ge=ve.w;if(8>Se)for(ve=(1<<ve.b)-1,Ge=(1<<Se)-1;ye<be;++ye){var Fe,Xe=0;for(Fe=0;Fe<Oe;++Fe)Fe&ve||(Xe=ue(we[_e++])),Te[ze++]=pe(De[Xe&Ge]),Xe>>=Se}else O["VP8LMapColor"+oe](we,_e,De,Ge,Te,ze,ye,be,Oe)}}function pt(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=ve>>16&255,ue[pe++]=ve>>8&255,ue[pe++]=255&ve}}function $e(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=ve>>16&255,ue[pe++]=ve>>8&255,ue[pe++]=255&ve,ue[pe++]=ve>>24&255}}function Ue(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=(ye=X[Q++])>>16&240|ye>>12&15,ye=240&ye|ye>>28&15;ue[pe++]=ve,ue[pe++]=ye}}function Ke(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=(ye=X[Q++])>>16&248|ye>>13&7,ye=ye>>5&224|ye>>3&31;ue[pe++]=ve,ue[pe++]=ye}}function rt(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=255&ve,ue[pe++]=ve>>8&255,ue[pe++]=ve>>16&255}}function Ze(X,Q,oe,ue,pe,ve){if(ve==0)for(oe=Q+oe;Q<oe;)J(ue,((ve=X[Q++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),pe+=32;else n(ue,pe,X,Q,oe)}function Et(X,Q){O[Q][0]=O[X+"0"],O[Q][1]=O[X+"1"],O[Q][2]=O[X+"2"],O[Q][3]=O[X+"3"],O[Q][4]=O[X+"4"],O[Q][5]=O[X+"5"],O[Q][6]=O[X+"6"],O[Q][7]=O[X+"7"],O[Q][8]=O[X+"8"],O[Q][9]=O[X+"9"],O[Q][10]=O[X+"10"],O[Q][11]=O[X+"11"],O[Q][12]=O[X+"12"],O[Q][13]=O[X+"13"],O[Q][14]=O[X+"0"],O[Q][15]=O[X+"0"]}function wt(X){return X==iw||X==sw||X==a1||X==aw}function bt(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new Wt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Er(X){return alert("todo:WebPSamplerProcessPlane"),X.T}function jt(X,Q){var oe=X.T,ue=Q.ba.f.RGBA,pe=ue.eb,ve=ue.fb+X.ka*ue.A,ye=Oa[Q.ba.S],be=X.y,we=X.O,_e=X.f,Te=X.N,ze=X.ea,Se=X.W,Oe=Q.cc,De=Q.dc,Ge=Q.Mc,Fe=Q.Nc,Xe=X.ka,Qe=X.ka+X.T,ft=X.U,nt=ft+1>>1;for(Xe==0?ye(be,we,null,null,_e,Te,ze,Se,_e,Te,ze,Se,pe,ve,null,null,ft):(ye(Q.ec,Q.fc,be,we,Oe,De,Ge,Fe,_e,Te,ze,Se,pe,ve-ue.A,pe,ve,ft),++oe);Xe+2<Qe;Xe+=2)Oe=_e,De=Te,Ge=ze,Fe=Se,Te+=X.Rc,Se+=X.Rc,ve+=2*ue.A,ye(be,(we+=2*X.fa)-X.fa,be,we,Oe,De,Ge,Fe,_e,Te,ze,Se,pe,ve-ue.A,pe,ve,ft);return we+=X.fa,X.j+Qe<X.o?(n(Q.ec,Q.fc,be,we,ft),n(Q.cc,Q.dc,_e,Te,nt),n(Q.Mc,Q.Nc,ze,Se,nt),oe--):1&Qe||ye(be,we,null,null,_e,Te,ze,Se,_e,Te,ze,Se,pe,ve+ue.A,null,null,ft),oe}function hr(X,Q,oe){var ue=X.F,pe=[X.J];if(ue!=null){var ve=X.U,ye=Q.ba.S,be=ye==s1||ye==a1;Q=Q.ba.f.RGBA;var we=[0],_e=X.ka;we[0]=X.T,X.Kb&&(_e==0?--we[0]:(--_e,pe[0]-=X.width),X.j+X.ka+X.T==X.o&&(we[0]=X.o-X.j-_e));var Te=Q.eb;_e=Q.fb+_e*Q.A,X=BE(ue,pe[0],X.width,ve,we,Te,_e+(be?0:3),Q.A),t(oe==we),X&&wt(ye)&&qp(Te,_e,be,ve,we,Q.A)}return 0}function Cr(X){var Q=X.ma,oe=Q.ba.S,ue=11>oe,pe=oe==n1||oe==i1||oe==s1||oe==nw||oe==12||wt(oe);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!Dp(Q.Oa,X,pe?11:12))return 0;if(pe&&wt(oe)&&Yg(),X.da)alert("todo:use_scaling");else{if(ue){if(Q.Ib=Er,X.Kb){if(oe=X.U+1>>1,Q.memory=s(X.U+2*oe),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+X.U,Q.Mc=Q.cc,Q.Nc=Q.dc+oe,Q.Ib=jt,Yg()}}else alert("todo:EmitYUV");pe&&(Q.Jb=hr,ue&&ja())}if(ue&&!tk){for(X=0;256>X;++X)SU[X]=89858*(X-128)+l1>>o1,NU[X]=-22014*(X-128)+l1,kU[X]=-45773*(X-128),EU[X]=113618*(X-128)+l1>>o1;for(X=Gp;X<cw;++X)Q=76283*(X-16)+l1>>o1,AU[X-Gp]=zn(Q,255),CU[X-Gp]=zn(Q+8>>4,15);tk=1}return 1}function dt(X){var Q=X.ma,oe=X.U,ue=X.T;return t(!(1&X.ka)),0>=oe||0>=ue?0:(oe=Q.Ib(X,Q),Q.Jb!=null&&Q.Jb(X,Q,oe),Q.Dc+=oe,1)}function wr(X){X.ma.memory=null}function jr(X,Q,oe,ue){return z(X,8)!=47?0:(Q[0]=z(X,14)+1,oe[0]=z(X,14)+1,ue[0]=z(X,1),z(X,3)!=0?0:!X.h)}function Gt(X,Q){if(4>X)return X+1;var oe=X-2>>1;return(2+(1&X)<<oe)+z(Q,oe)+1}function Ne(X,Q){return 120<Q?Q-120:1<=(oe=((oe=cU[Q-1])>>4)*X+(8-(15&oe)))?oe:1;var oe}function Pe(X,Q,oe){var ue=Z(oe),pe=X[Q+=255&ue].g-8;return 0<pe&&(q(oe,oe.u+8),ue=Z(oe),Q+=X[Q].value,Q+=ue&(1<<pe)-1),q(oe,oe.u+X[Q].g),X[Q].value}function He(X,Q,oe){return oe.g+=X.g,oe.value+=X.value<<Q>>>0,t(8>=oe.g),X.g}function ct(X,Q,oe){var ue=X.xc;return t((Q=ue==0?0:X.vc[X.md*(oe>>ue)+(Q>>ue)])<X.Wb),X.Ya[Q]}function Bt(X,Q,oe,ue){var pe=X.ab,ve=X.c*Q,ye=X.C;Q=ye+Q;var be=oe,we=ue;for(ue=X.Ta,oe=X.Ua;0<pe--;){var _e=X.gc[pe],Te=ye,ze=Q,Se=be,Oe=we,De=(we=ue,be=oe,_e.Ea);switch(t(Te<ze),t(ze<=_e.nc),_e.hc){case 2:ei(Se,Oe,(ze-Te)*De,we,be);break;case 0:var Ge=Te,Fe=ze,Xe=we,Qe=be,ft=(Ut=_e).Ea;Ge==0&&(Fp(Se,Oe,null,null,1,Xe,Qe),Re(Se,Oe+1,0,0,ft-1,Xe,Qe+1),Oe+=ft,Qe+=ft,++Ge);for(var nt=1<<Ut.b,Zt=nt-1,Pt=Y(ft,Ut.b),kr=Ut.K,Ut=Ut.w+(Ge>>Ut.b)*Pt;Ge<Fe;){var Ur=kr,Ei=Ut,Nr=1;for(Th(Se,Oe,Xe,Qe-ft,1,Xe,Qe);Nr<ft;){var $t=(Nr&~Zt)+nt;$t>ft&&($t=ft),(0,Up[Ur[Ei++]>>8&15])(Se,Oe+ +Nr,Xe,Qe+Nr-ft,$t-Nr,Xe,Qe+Nr),Nr=$t}Oe+=ft,Qe+=ft,++Ge&Zt||(Ut+=Pt)}ze!=_e.nc&&n(we,be-De,we,be+(ze-Te-1)*De,De);break;case 1:for(De=Se,Fe=Oe,ft=(Se=_e.Ea)-(Qe=Se&~(Xe=(Oe=1<<_e.b)-1)),Ge=Y(Se,_e.b),nt=_e.K,_e=_e.w+(Te>>_e.b)*Ge;Te<ze;){for(Zt=nt,Pt=_e,kr=new le,Ut=Fe+Qe,Ur=Fe+Se;Fe<Ut;)We(Zt[Pt++],kr),$p(kr,De,Fe,Oe,we,be),Fe+=Oe,be+=Oe;Fe<Ur&&(We(Zt[Pt++],kr),$p(kr,De,Fe,ft,we,be),Fe+=ft,be+=ft),++Te&Xe||(_e+=Ge)}break;case 3:if(Se==we&&Oe==be&&0<_e.b){for(Fe=we,Se=De=be+(ze-Te)*De-(Qe=(ze-Te)*Y(_e.Ea,_e.b)),Oe=we,Xe=be,Ge=[],Qe=(ft=Qe)-1;0<=Qe;--Qe)Ge[Qe]=Oe[Xe+Qe];for(Qe=ft-1;0<=Qe;--Qe)Fe[Se+Qe]=Ge[Qe];Qg(_e,Te,ze,we,De,we,be)}else Qg(_e,Te,ze,Se,Oe,we,be)}be=ue,we=oe}we!=oe&&n(ue,oe,be,we,ve)}function vt(X,Q){var oe=X.V,ue=X.Ba+X.c*X.C,pe=Q-X.C;if(t(Q<=X.l.o),t(16>=pe),0<pe){var ve=X.l,ye=X.Ta,be=X.Ua,we=ve.width;if(Bt(X,pe,oe,ue),pe=be=[be],t((oe=X.C)<(ue=Q)),t(ve.v<ve.va),ue>ve.o&&(ue=ve.o),oe<ve.j){var _e=ve.j-oe;oe=ve.j,pe[0]+=_e*we}if(oe>=ue?oe=0:(pe[0]+=4*ve.v,ve.ka=oe-ve.j,ve.U=ve.va-ve.v,ve.T=ue-oe,oe=1),oe){if(be=be[0],11>(oe=X.ca).S){var Te=oe.f.RGBA,ze=(ue=oe.S,pe=ve.U,ve=ve.T,_e=Te.eb,Te.A),Se=ve;for(Te=Te.fb+X.Ma*Te.A;0<Se--;){var Oe=ye,De=be,Ge=pe,Fe=_e,Xe=Te;switch(ue){case r1:Hp(Oe,De,Ge,Fe,Xe);break;case n1:Ec(Oe,De,Ge,Fe,Xe);break;case iw:Ec(Oe,De,Ge,Fe,Xe),qp(Fe,Xe,0,Ge,1,0);break;case qE:cd(Oe,De,Ge,Fe,Xe);break;case i1:Ze(Oe,De,Ge,Fe,Xe,1);break;case sw:Ze(Oe,De,Ge,Fe,Xe,1),qp(Fe,Xe,0,Ge,1,0);break;case s1:Ze(Oe,De,Ge,Fe,Xe,0);break;case a1:Ze(Oe,De,Ge,Fe,Xe,0),qp(Fe,Xe,1,Ge,1,0);break;case nw:kc(Oe,De,Ge,Fe,Xe);break;case aw:kc(Oe,De,Ge,Fe,Xe),DE(Fe,Xe,Ge,1,0);break;case VE:Nc(Oe,De,Ge,Fe,Xe);break;default:t(0)}be+=we,Te+=ze}X.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");t(X.Ma<=oe.height)}}X.C=Q,t(X.C<=X.i)}function Ft(X){var Q;if(0<X.ua)return 0;for(Q=0;Q<X.Wb;++Q){var oe=X.Ya[Q].G,ue=X.Ya[Q].H;if(0<oe[1][ue[1]+0].g||0<oe[2][ue[2]+0].g||0<oe[3][ue[3]+0].g)return 0}return 1}function It(X,Q,oe,ue,pe,ve){if(X.Z!=0){var ye=X.qd,be=X.rd;for(t(jc[X.Z]!=null);Q<oe;++Q)jc[X.Z](ye,be,ue,pe,ue,pe,ve),ye=ue,be=pe,pe+=ve;X.qd=ye,X.rd=be}}function Tt(X,Q){var oe=X.l.ma,ue=oe.Z==0||oe.Z==1?X.l.j:X.C;if(ue=X.C<ue?ue:X.C,t(Q<=X.l.o),Q>ue){var pe=X.l.width,ve=oe.ca,ye=oe.tb+pe*ue,be=X.V,we=X.Ba+X.c*ue,_e=X.gc;t(X.ab==1),t(_e[0].hc==3),Mo(_e[0],ue,Q,be,we,ve,ye),It(oe,ue,Q,ve,ye,pe)}X.C=X.Ma=Q}function Kt(X,Q,oe,ue,pe,ve,ye){var be=X.$/ue,we=X.$%ue,_e=X.m,Te=X.s,ze=oe+X.$,Se=ze;pe=oe+ue*pe;var Oe=oe+ue*ve,De=280+Te.ua,Ge=X.Pb?be:16777216,Fe=0<Te.ua?Te.Wa:null,Xe=Te.wc,Qe=ze<Oe?ct(Te,we,be):null;t(X.C<ve),t(Oe<=pe);var ft=!1;e:for(;;){for(;ft||ze<Oe;){var nt=0;if(be>=Ge){var Zt=ze-oe;t((Ge=X).Pb),Ge.wd=Ge.m,Ge.xd=Zt,0<Ge.s.ua&&ee(Ge.s.Wa,Ge.s.vb),Ge=be+dU}if(we&Xe||(Qe=ct(Te,we,be)),t(Qe!=null),Qe.Qb&&(Q[ze]=Qe.qb,ft=!0),!ft)if($(_e),Qe.jc){nt=_e,Zt=Q;var Pt=ze,kr=Qe.pd[Z(nt)&ld-1];t(Qe.jc),256>kr.g?(q(nt,nt.u+kr.g),Zt[Pt]=kr.value,nt=0):(q(nt,nt.u+kr.g-256),t(256<=kr.value),nt=kr.value),nt==0&&(ft=!0)}else nt=Pe(Qe.G[0],Qe.H[0],_e);if(_e.h)break;if(ft||256>nt){if(!ft)if(Qe.nd)Q[ze]=(Qe.qb|nt<<8)>>>0;else{if($(_e),ft=Pe(Qe.G[1],Qe.H[1],_e),$(_e),Zt=Pe(Qe.G[2],Qe.H[2],_e),Pt=Pe(Qe.G[3],Qe.H[3],_e),_e.h)break;Q[ze]=(Pt<<24|ft<<16|nt<<8|Zt)>>>0}if(ft=!1,++ze,++we>=ue&&(we=0,++be,ye!=null&&be<=ve&&!(be%16)&&ye(X,be),Fe!=null))for(;Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt}else if(280>nt){if(nt=Gt(nt-256,_e),Zt=Pe(Qe.G[4],Qe.H[4],_e),$(_e),Zt=Ne(ue,Zt=Gt(Zt,_e)),_e.h)break;if(ze-oe<Zt||pe-ze<nt)break e;for(Pt=0;Pt<nt;++Pt)Q[ze+Pt]=Q[ze+Pt-Zt];for(ze+=nt,we+=nt;we>=ue;)we-=ue,++be,ye!=null&&be<=ve&&!(be%16)&&ye(X,be);if(t(ze<=pe),we&Xe&&(Qe=ct(Te,we,be)),Fe!=null)for(;Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt}else{if(!(nt<De))break e;for(ft=nt-280,t(Fe!=null);Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt;nt=ze,t(!(ft>>>(Zt=Fe).Xa)),Q[nt]=Zt.X[ft],ft=!0}ft||t(_e.h==te(_e))}if(X.Pb&&_e.h&&ze<pe)t(X.m.h),X.a=5,X.m=X.wd,X.$=X.xd,0<X.s.ua&&ee(X.s.vb,X.s.Wa);else{if(_e.h)break e;ye!=null&&ye(X,be>ve?ve:be),X.a=0,X.$=ze-oe}return 1}return X.a=3,0}function zt(X){t(X!=null),X.vc=null,X.yc=null,X.Ya=null;var Q=X.Wa;Q!=null&&(Q.X=null),X.vb=null,t(X!=null)}function ar(){var X=new Vt;return X==null?null:(X.a=0,X.xb=XE,Et("Predictor","VP8LPredictors"),Et("Predictor","VP8LPredictors_C"),Et("PredictorAdd","VP8LPredictorsAdd"),Et("PredictorAdd","VP8LPredictorsAdd_C"),ei=je,$p=Je,Hp=pt,Ec=$e,kc=Ue,Nc=Ke,cd=rt,O.VP8LMapColor32b=Io,O.VP8LMapColor8b=zp,X)}function Gr(X,Q,oe,ue,pe){var ve=1,ye=[X],be=[Q],we=ue.m,_e=ue.s,Te=null,ze=0;e:for(;;){if(oe)for(;ve&&z(we,1);){var Se=ye,Oe=be,De=ue,Ge=1,Fe=De.m,Xe=De.gc[De.ab],Qe=z(Fe,2);if(De.Oc&1<<Qe)ve=0;else{switch(De.Oc|=1<<Qe,Xe.hc=Qe,Xe.Ea=Se[0],Xe.nc=Oe[0],Xe.K=[null],++De.ab,t(4>=De.ab),Qe){case 0:case 1:Xe.b=z(Fe,3)+2,Ge=Gr(Y(Xe.Ea,Xe.b),Y(Xe.nc,Xe.b),0,De,Xe.K),Xe.K=Xe.K[0];break;case 3:var ft,nt=z(Fe,8)+1,Zt=16<nt?0:4<nt?1:2<nt?2:3;if(Se[0]=Y(Xe.Ea,Zt),Xe.b=Zt,ft=Ge=Gr(nt,1,0,De,Xe.K)){var Pt,kr=nt,Ut=Xe,Ur=1<<(8>>Ut.b),Ei=s(Ur);if(Ei==null)ft=0;else{var Nr=Ut.K[0],$t=Ut.w;for(Ei[0]=Ut.K[0][0],Pt=1;Pt<1*kr;++Pt)Ei[Pt]=ae(Nr[$t+Pt],Ei[Pt-1]);for(;Pt<4*Ur;++Pt)Ei[Pt]=0;Ut.K[0]=null,Ut.K[0]=Ei,ft=1}}Ge=ft;break;case 2:break;default:t(0)}ve=Ge}}if(ye=ye[0],be=be[0],ve&&z(we,1)&&!(ve=1<=(ze=z(we,4))&&11>=ze)){ue.a=3;break e}var xt;if(xt=ve)t:{var ri,br,qr,Sn=ue,Vi=ye,ws=be,Un=ze,ls=oe,xs=Sn.m,ki=Sn.s,Kr=[null],rn=1,$n=0,nn=uU[Un];r:for(;;){if(ls&&z(xs,1)){var Gi=z(xs,3)+2,so=Y(Vi,Gi),ni=Y(ws,Gi),Fs=so*ni;if(!Gr(so,ni,0,Sn,Kr))break r;for(Kr=Kr[0],ki.xc=Gi,ri=0;ri<Fs;++ri){var fn=Kr[ri]>>8&65535;Kr[ri]=fn,fn>=rn&&(rn=fn+1)}}if(xs.h)break r;for(br=0;5>br;++br){var Ni=GE[br];!br&&0<Un&&(Ni+=1<<Un),$n<Ni&&($n=Ni)}var oa=o(rn*nn,R),_s=rn,la=o(_s,j);if(la==null)var ca=null;else t(65536>=_s),ca=la;var zs=s($n);if(ca==null||zs==null||oa==null){Sn.a=1;break r}var ua=oa;for(ri=qr=0;ri<rn;++ri){var yn=ca[ri],da=yn.G,ao=yn.H,dd=0,Cl=1,Ki=0;for(br=0;5>br;++br){Ni=GE[br],da[br]=ua,ao[br]=qr,!br&&0<Un&&(Ni+=1<<Un);i:{var u1,uw=Ni,d1=Sn,Kp=zs,RU=ua,PU=qr,dw=0,Tc=d1.m,OU=z(Tc,1);if(i(Kp,0,0,uw),OU){var IU=z(Tc,1)+1,MU=z(Tc,1),ik=z(Tc,MU==0?1:8);Kp[ik]=1,IU==2&&(Kp[ik=z(Tc,8)]=1);var h1=1}else{var sk=s(19),ak=z(Tc,4)+4;if(19<ak){d1.a=3;var f1=0;break i}for(u1=0;u1<ak;++u1)sk[lU[u1]]=z(Tc,3);var hw=void 0,Xp=void 0,ok=d1,LU=sk,p1=uw,lk=Kp,fw=0,Rc=ok.m,ck=8,uk=o(128,R);n:for(;I(uk,0,7,LU,19);){if(z(Rc,1)){var DU=2+2*z(Rc,3);if((hw=2+z(Rc,DU))>p1)break n}else hw=p1;for(Xp=0;Xp<p1&&hw--;){$(Rc);var dk=uk[0+(127&Z(Rc))];q(Rc,Rc.u+dk.g);var Ph=dk.value;if(16>Ph)lk[Xp++]=Ph,Ph!=0&&(ck=Ph);else{var BU=Ph==16,hk=Ph-16,FU=aU[hk],fk=z(Rc,sU[hk])+FU;if(Xp+fk>p1)break n;for(var zU=BU?ck:0;0<fk--;)lk[Xp++]=zU}}fw=1;break n}fw||(ok.a=3),h1=fw}(h1=h1&&!Tc.h)&&(dw=I(RU,PU,8,Kp,uw)),h1&&dw!=0?f1=dw:(d1.a=3,f1=0)}if(f1==0)break r;if(Cl&&oU[br]==1&&(Cl=ua[qr].g==0),dd+=ua[qr].g,qr+=f1,3>=br){var Zp,pw=zs[0];for(Zp=1;Zp<Ni;++Zp)zs[Zp]>pw&&(pw=zs[Zp]);Ki+=pw}}if(yn.nd=Cl,yn.Qb=0,Cl&&(yn.qb=(da[3][ao[3]+0].value<<24|da[1][ao[1]+0].value<<16|da[2][ao[2]+0].value)>>>0,dd==0&&256>da[0][ao[0]+0].value&&(yn.Qb=1,yn.qb+=da[0][ao[0]+0].value<<8)),yn.jc=!yn.Qb&&6>Ki,yn.jc){var m1,jl=yn;for(m1=0;m1<ld;++m1){var Pc=m1,Oc=jl.pd[Pc],g1=jl.G[0][jl.H[0]+Pc];256<=g1.value?(Oc.g=g1.g+256,Oc.value=g1.value):(Oc.g=0,Oc.value=0,Pc>>=He(g1,8,Oc),Pc>>=He(jl.G[1][jl.H[1]+Pc],16,Oc),Pc>>=He(jl.G[2][jl.H[2]+Pc],0,Oc),He(jl.G[3][jl.H[3]+Pc],24,Oc))}}}ki.vc=Kr,ki.Wb=rn,ki.Ya=ca,ki.yc=oa,xt=1;break t}xt=0}if(!(ve=xt)){ue.a=3;break e}if(0<ze){if(_e.ua=1<<ze,!ne(_e.Wa,ze)){ue.a=1,ve=0;break e}}else _e.ua=0;var mw=ue,pk=ye,UU=be,gw=mw.s,vw=gw.xc;if(mw.c=pk,mw.i=UU,gw.md=Y(pk,vw),gw.wc=vw==0?-1:(1<<vw)-1,oe){ue.xb=yU;break e}if((Te=s(ye*be))==null){ue.a=1,ve=0;break e}ve=(ve=Kt(ue,Te,0,ye,be,be,null))&&!we.h;break e}return ve?(pe!=null?pe[0]=Te:(t(Te==null),t(oe)),ue.$=0,oe||zt(_e)):zt(_e),ve}function zr(X,Q){var oe=X.c*X.i,ue=oe+Q+16*Q;return t(X.c<=Q),X.V=s(ue),X.V==null?(X.Ta=null,X.Ua=0,X.a=1,0):(X.Ta=X.V,X.Ua=X.Ba+oe+Q,1)}function mn(X,Q){var oe=X.C,ue=Q-oe,pe=X.V,ve=X.Ba+X.c*oe;for(t(Q<=X.l.o);0<ue;){var ye=16<ue?16:ue,be=X.l.ma,we=X.l.width,_e=we*ye,Te=be.ca,ze=be.tb+we*oe,Se=X.Ta,Oe=X.Ua;Bt(X,ye,pe,ve),FE(Se,Oe,Te,ze,_e),It(be,oe,oe+ye,Te,ze,we),ue-=ye,pe+=ye*X.c,oe+=ye}t(oe==Q),X.C=X.Ma=Q}function gn(){this.ub=this.yd=this.td=this.Rb=0}function Qn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xe(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Le(){this.Yb=function(){var X=[];return function Q(oe,ue,pe){for(var ve=pe[ue],ye=0;ye<ve&&(oe.push(pe.length>ue+1?[]:0),!(pe.length<ue+1));ye++)Q(oe[ye],ue+1,pe)}(X,0,[3,11]),X}()}function et(){this.jb=s(3),this.Wc=a([4,8],Le),this.Xc=a([4,17],Le)}function it(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Nt(){this.ld=this.La=this.dd=this.tc=0}function mt(){this.Na=this.la=0}function yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nt),this.Y=0,this.ya=Array(new xr),this.aa=0,this.l=new Dr}function fr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xt(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new gn,this.Kc=new Qn,this.ed=new it,this.Qa=new xe,this.Ic=this.$c=this.Aa=0,this.D=new lr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,P),this.ia=0,this.pb=o(4,yt),this.Pa=new et,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fr),this.Hd=0,this.rb=Array(new mt),this.sb=0,this.wa=Array(new Nt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xr),this.L=this.aa=0,this.gd=a([4,2],Nt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hr(){var X=new Xt;return X!=null&&(X.a=0,X.sc="OK",X.cb=0,X.Xb=0,Vp||(Vp=_n)),X}function ir(X,Q,oe){return X.a==0&&(X.a=Q,X.sc=oe,X.cb=0),0}function ln(X,Q,oe){return 3<=oe&&X[Q+0]==157&&X[Q+1]==1&&X[Q+2]==42}function In(X,Q){if(X==null)return 0;if(X.a=0,X.sc="OK",Q==null)return ir(X,2,"null VP8Io passed to VP8GetHeaders()");var oe=Q.data,ue=Q.w,pe=Q.ha;if(4>pe)return ir(X,7,"Truncated header.");var ve=oe[ue+0]|oe[ue+1]<<8|oe[ue+2]<<16,ye=X.Od;if(ye.Rb=!(1&ve),ye.td=ve>>1&7,ye.yd=ve>>4&1,ye.ub=ve>>5,3<ye.td)return ir(X,3,"Incorrect keyframe parameters.");if(!ye.yd)return ir(X,4,"Frame not displayable.");ue+=3,pe-=3;var be=X.Kc;if(ye.Rb){if(7>pe)return ir(X,7,"cannot parse picture header");if(!ln(oe,ue,pe))return ir(X,3,"Bad code word");be.c=16383&(oe[ue+4]<<8|oe[ue+3]),be.Td=oe[ue+4]>>6,be.i=16383&(oe[ue+6]<<8|oe[ue+5]),be.Ud=oe[ue+6]>>6,ue+=7,pe-=7,X.za=be.c+15>>4,X.Ub=be.i+15>>4,Q.width=be.c,Q.height=be.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,i((ve=X.Pa).jb,0,255,ve.jb.length),t((ve=X.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,i(ve.Zb,0,0,ve.Zb.length),i(ve.Lb,0,0,ve.Lb)}if(ye.ub>pe)return ir(X,7,"bad partition length");E(ve=X.m,oe,ue,ye.ub),ue+=ye.ub,pe-=ye.ub,ye.Rb&&(be.Ld=T(ve),be.Kd=T(ve)),be=X.Qa;var we,_e=X.Pa;if(t(ve!=null),t(be!=null),be.Cb=T(ve),be.Cb){if(be.Bb=T(ve),T(ve)){for(be.Fb=T(ve),we=0;4>we;++we)be.Zb[we]=T(ve)?A(ve,7):0;for(we=0;4>we;++we)be.Lb[we]=T(ve)?A(ve,6):0}if(be.Bb)for(we=0;3>we;++we)_e.jb[we]=T(ve)?k(ve,8):255}else be.Bb=0;if(ve.Ka)return ir(X,3,"cannot parse segment header");if((be=X.ed).zd=T(ve),be.Tb=k(ve,6),be.wb=k(ve,3),be.Pc=T(ve),be.Pc&&T(ve)){for(_e=0;4>_e;++_e)T(ve)&&(be.vd[_e]=A(ve,6));for(_e=0;4>_e;++_e)T(ve)&&(be.od[_e]=A(ve,6))}if(X.L=be.Tb==0?0:be.zd?1:2,ve.Ka)return ir(X,3,"cannot parse filter header");var Te=pe;if(pe=we=ue,ue=we+Te,be=Te,X.Xb=(1<<k(X.m,2))-1,Te<3*(_e=X.Xb))oe=7;else{for(we+=3*_e,be-=3*_e,Te=0;Te<_e;++Te){var ze=oe[pe+0]|oe[pe+1]<<8|oe[pe+2]<<16;ze>be&&(ze=be),E(X.Jc[+Te],oe,we,ze),we+=ze,be-=ze,pe+=3}E(X.Jc[+_e],oe,we,be),oe=we<ue?0:5}if(oe!=0)return ir(X,oe,"cannot parse partitions");for(oe=k(we=X.m,7),pe=T(we)?A(we,4):0,ue=T(we)?A(we,4):0,be=T(we)?A(we,4):0,_e=T(we)?A(we,4):0,we=T(we)?A(we,4):0,Te=X.Qa,ze=0;4>ze;++ze){if(Te.Cb){var Se=Te.Zb[ze];Te.Fb||(Se+=oe)}else{if(0<ze){X.pb[ze]=X.pb[0];continue}Se=oe}var Oe=X.pb[ze];Oe.Sc[0]=ow[zn(Se+pe,127)],Oe.Sc[1]=lw[zn(Se+0,127)],Oe.Eb[0]=2*ow[zn(Se+ue,127)],Oe.Eb[1]=101581*lw[zn(Se+be,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=ow[zn(Se+_e,117)],Oe.Qc[1]=lw[zn(Se+we,127)],Oe.lc=Se+we}if(!ye.Rb)return ir(X,4,"Not a key frame.");for(T(ve),ye=X.Pa,oe=0;4>oe;++oe){for(pe=0;8>pe;++pe)for(ue=0;3>ue;++ue)for(be=0;11>be;++be)_e=V(ve,gU[oe][pe][ue][be])?k(ve,8):pU[oe][pe][ue][be],ye.Wc[oe][pe].Yb[ue][be]=_e;for(pe=0;17>pe;++pe)ye.Xc[oe][pe]=ye.Wc[oe][vU[pe]]}return X.kc=T(ve),X.kc&&(X.Bd=k(ve,8)),X.cb=1}function _n(X,Q,oe,ue,pe,ve,ye){var be=Q[pe].Yb[oe];for(oe=0;16>pe;++pe){if(!V(X,be[oe+0]))return pe;for(;!V(X,be[oe+1]);)if(be=Q[++pe].Yb[0],oe=0,pe==16)return 16;var we=Q[pe+1].Yb;if(V(X,be[oe+2])){var _e=X,Te=0;if(V(_e,(Se=be)[(ze=oe)+3]))if(V(_e,Se[ze+6])){for(be=0,ze=2*(Te=V(_e,Se[ze+8]))+(Se=V(_e,Se[ze+9+Te])),Te=0,Se=hU[ze];Se[be];++be)Te+=Te+V(_e,Se[be]);Te+=3+(8<<ze)}else V(_e,Se[ze+7])?(Te=7+2*V(_e,165),Te+=V(_e,145)):Te=5+V(_e,159);else Te=V(_e,Se[ze+4])?3+V(_e,Se[ze+5]):2;be=we[2]}else Te=1,be=we[1];we=ye+fU[pe],0>(_e=X).b&&N(_e);var ze,Se=_e.b,Oe=(ze=_e.Ca>>1)-(_e.I>>Se)>>31;--_e.b,_e.Ca+=Oe,_e.Ca|=1,_e.I-=(ze+1&Oe)<<Se,ve[we]=((Te^Oe)-Oe)*ue[(0<pe)+0]}return 16}function wi(X){var Q=X.rb[X.sb-1];Q.la=0,Q.Na=0,i(X.zc,0,0,X.zc.length),X.ja=0}function xi(X,Q,oe,ue,pe){pe=X[Q+oe+32*ue]+(pe>>3),X[Q+oe+32*ue]=-256&pe?0>pe?0:255:pe}function Ms(X,Q,oe,ue,pe,ve){xi(X,Q,0,oe,ue+pe),xi(X,Q,1,oe,ue+ve),xi(X,Q,2,oe,ue-ve),xi(X,Q,3,oe,ue-pe)}function cn(X){return(20091*X>>16)+X}function Na(X,Q,oe,ue){var pe,ve=0,ye=s(16);for(pe=0;4>pe;++pe){var be=X[Q+0]+X[Q+8],we=X[Q+0]-X[Q+8],_e=(35468*X[Q+4]>>16)-cn(X[Q+12]),Te=cn(X[Q+4])+(35468*X[Q+12]>>16);ye[ve+0]=be+Te,ye[ve+1]=we+_e,ye[ve+2]=we-_e,ye[ve+3]=be-Te,ve+=4,Q++}for(pe=ve=0;4>pe;++pe)be=(X=ye[ve+0]+4)+ye[ve+8],we=X-ye[ve+8],_e=(35468*ye[ve+4]>>16)-cn(ye[ve+12]),xi(oe,ue,0,0,be+(Te=cn(ye[ve+4])+(35468*ye[ve+12]>>16))),xi(oe,ue,1,0,we+_e),xi(oe,ue,2,0,we-_e),xi(oe,ue,3,0,be-Te),ve++,ue+=32}function Wr(X,Q,oe,ue){var pe=X[Q+0]+4,ve=35468*X[Q+4]>>16,ye=cn(X[Q+4]),be=35468*X[Q+1]>>16;Ms(oe,ue,0,pe+ye,X=cn(X[Q+1]),be),Ms(oe,ue,1,pe+ve,X,be),Ms(oe,ue,2,pe-ve,X,be),Ms(oe,ue,3,pe-ye,X,be)}function Mr(X,Q,oe,ue,pe){Na(X,Q,oe,ue),pe&&Na(X,Q+16,oe,ue+4)}function Aa(X,Q,oe,ue){ud(X,Q+0,oe,ue,1),ud(X,Q+32,oe,ue+128,1)}function Di(X,Q,oe,ue){var pe;for(X=X[Q+0]+4,pe=0;4>pe;++pe)for(Q=0;4>Q;++Q)xi(oe,ue,Q,pe,X)}function yl(X,Q,oe,ue){X[Q+0]&&tn(X,Q+0,oe,ue),X[Q+16]&&tn(X,Q+16,oe,ue+4),X[Q+32]&&tn(X,Q+32,oe,ue+128),X[Q+48]&&tn(X,Q+48,oe,ue+128+4)}function Bi(X,Q,oe,ue){var pe,ve=s(16);for(pe=0;4>pe;++pe){var ye=X[Q+0+pe]+X[Q+12+pe],be=X[Q+4+pe]+X[Q+8+pe],we=X[Q+4+pe]-X[Q+8+pe],_e=X[Q+0+pe]-X[Q+12+pe];ve[0+pe]=ye+be,ve[8+pe]=ye-be,ve[4+pe]=_e+we,ve[12+pe]=_e-we}for(pe=0;4>pe;++pe)ye=(X=ve[0+4*pe]+3)+ve[3+4*pe],be=ve[1+4*pe]+ve[2+4*pe],we=ve[1+4*pe]-ve[2+4*pe],_e=X-ve[3+4*pe],oe[ue+0]=ye+be>>3,oe[ue+16]=_e+we>>3,oe[ue+32]=ye-be>>3,oe[ue+48]=_e-we>>3,ue+=64}function Fi(X,Q,oe){var ue,pe=Q-32,ve=aa,ye=255-X[pe-1];for(ue=0;ue<oe;++ue){var be,we=ve,_e=ye+X[Q-1];for(be=0;be<oe;++be)X[Q+be]=we[_e+X[pe+be]];Q+=32}}function Ls(X,Q){Fi(X,Q,4)}function bl(X,Q){Fi(X,Q,8)}function vc(X,Q){Fi(X,Q,16)}function Ro(X,Q){var oe;for(oe=0;16>oe;++oe)n(X,Q+32*oe,X,Q-32,16)}function Ds(X,Q){var oe;for(oe=16;0<oe;--oe)i(X,Q,X[Q-1],16),Q+=32}function Po(X,Q,oe){var ue;for(ue=0;16>ue;++ue)i(Q,oe+32*ue,X,16)}function na(X,Q){var oe,ue=16;for(oe=0;16>oe;++oe)ue+=X[Q-1+32*oe]+X[Q+oe-32];Po(ue>>5,X,Q)}function Xu(X,Q){var oe,ue=8;for(oe=0;16>oe;++oe)ue+=X[Q-1+32*oe];Po(ue>>4,X,Q)}function Ca(X,Q){var oe,ue=8;for(oe=0;16>oe;++oe)ue+=X[Q+oe-32];Po(ue>>4,X,Q)}function Oo(X,Q){Po(128,X,Q)}function or(X,Q,oe){return X+2*Q+oe+2>>2}function yc(X,Q){var oe,ue=Q-32;for(ue=new Uint8Array([or(X[ue-1],X[ue+0],X[ue+1]),or(X[ue+0],X[ue+1],X[ue+2]),or(X[ue+1],X[ue+2],X[ue+3]),or(X[ue+2],X[ue+3],X[ue+4])]),oe=0;4>oe;++oe)n(X,Q+32*oe,ue,0,ue.length)}function bc(X,Q){var oe=X[Q-1],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96];J(X,Q+0,16843009*or(X[Q-1-32],oe,ue)),J(X,Q+32,16843009*or(oe,ue,pe)),J(X,Q+64,16843009*or(ue,pe,ve)),J(X,Q+96,16843009*or(pe,ve,ve))}function Y2(X,Q){var oe,ue=4;for(oe=0;4>oe;++oe)ue+=X[Q+oe-32]+X[Q-1+32*oe];for(ue>>=3,oe=0;4>oe;++oe)i(X,Q+32*oe,ue,4)}function J2(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1-32],ye=X[Q+0-32],be=X[Q+1-32],we=X[Q+2-32],_e=X[Q+3-32];X[Q+0+96]=or(ue,pe,X[Q-1+96]),X[Q+1+96]=X[Q+0+64]=or(oe,ue,pe),X[Q+2+96]=X[Q+1+64]=X[Q+0+32]=or(ve,oe,ue),X[Q+3+96]=X[Q+2+64]=X[Q+1+32]=X[Q+0+0]=or(ye,ve,oe),X[Q+3+64]=X[Q+2+32]=X[Q+1+0]=or(be,ye,ve),X[Q+3+32]=X[Q+2+0]=or(we,be,ye),X[Q+3+0]=or(_e,we,be)}function wl(X,Q){var oe=X[Q+1-32],ue=X[Q+2-32],pe=X[Q+3-32],ve=X[Q+4-32],ye=X[Q+5-32],be=X[Q+6-32],we=X[Q+7-32];X[Q+0+0]=or(X[Q+0-32],oe,ue),X[Q+1+0]=X[Q+0+32]=or(oe,ue,pe),X[Q+2+0]=X[Q+1+32]=X[Q+0+64]=or(ue,pe,ve),X[Q+3+0]=X[Q+2+32]=X[Q+1+64]=X[Q+0+96]=or(pe,ve,ye),X[Q+3+32]=X[Q+2+64]=X[Q+1+96]=or(ve,ye,be),X[Q+3+64]=X[Q+2+96]=or(ye,be,we),X[Q+3+96]=or(be,we,we)}function xl(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1-32],ye=X[Q+0-32],be=X[Q+1-32],we=X[Q+2-32],_e=X[Q+3-32];X[Q+0+0]=X[Q+1+64]=ve+ye+1>>1,X[Q+1+0]=X[Q+2+64]=ye+be+1>>1,X[Q+2+0]=X[Q+3+64]=be+we+1>>1,X[Q+3+0]=we+_e+1>>1,X[Q+0+96]=or(pe,ue,oe),X[Q+0+64]=or(ue,oe,ve),X[Q+0+32]=X[Q+1+96]=or(oe,ve,ye),X[Q+1+32]=X[Q+2+96]=or(ve,ye,be),X[Q+2+32]=X[Q+3+96]=or(ye,be,we),X[Q+3+32]=or(be,we,_e)}function Q2(X,Q){var oe=X[Q+0-32],ue=X[Q+1-32],pe=X[Q+2-32],ve=X[Q+3-32],ye=X[Q+4-32],be=X[Q+5-32],we=X[Q+6-32],_e=X[Q+7-32];X[Q+0+0]=oe+ue+1>>1,X[Q+1+0]=X[Q+0+64]=ue+pe+1>>1,X[Q+2+0]=X[Q+1+64]=pe+ve+1>>1,X[Q+3+0]=X[Q+2+64]=ve+ye+1>>1,X[Q+0+32]=or(oe,ue,pe),X[Q+1+32]=X[Q+0+96]=or(ue,pe,ve),X[Q+2+32]=X[Q+1+96]=or(pe,ve,ye),X[Q+3+32]=X[Q+2+96]=or(ve,ye,be),X[Q+3+64]=or(ye,be,we),X[Q+3+96]=or(be,we,_e)}function ew(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96];X[Q+0+0]=oe+ue+1>>1,X[Q+2+0]=X[Q+0+32]=ue+pe+1>>1,X[Q+2+32]=X[Q+0+64]=pe+ve+1>>1,X[Q+1+0]=or(oe,ue,pe),X[Q+3+0]=X[Q+1+32]=or(ue,pe,ve),X[Q+3+32]=X[Q+1+64]=or(pe,ve,ve),X[Q+3+64]=X[Q+2+64]=X[Q+0+96]=X[Q+1+96]=X[Q+2+96]=X[Q+3+96]=ve}function Eh(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96],ye=X[Q-1-32],be=X[Q+0-32],we=X[Q+1-32],_e=X[Q+2-32];X[Q+0+0]=X[Q+2+32]=oe+ye+1>>1,X[Q+0+32]=X[Q+2+64]=ue+oe+1>>1,X[Q+0+64]=X[Q+2+96]=pe+ue+1>>1,X[Q+0+96]=ve+pe+1>>1,X[Q+3+0]=or(be,we,_e),X[Q+2+0]=or(ye,be,we),X[Q+1+0]=X[Q+3+32]=or(oe,ye,be),X[Q+1+32]=X[Q+3+64]=or(ue,oe,ye),X[Q+1+64]=X[Q+3+96]=or(pe,ue,oe),X[Q+1+96]=or(ve,pe,ue)}function Tp(X,Q){var oe;for(oe=0;8>oe;++oe)n(X,Q+32*oe,X,Q-32,8)}function Zu(X,Q){var oe;for(oe=0;8>oe;++oe)i(X,Q,X[Q-1],8),Q+=32}function kh(X,Q,oe){var ue;for(ue=0;8>ue;++ue)i(Q,oe+32*ue,X,8)}function Nh(X,Q){var oe,ue=8;for(oe=0;8>oe;++oe)ue+=X[Q+oe-32]+X[Q-1+32*oe];kh(ue>>4,X,Q)}function tw(X,Q){var oe,ue=4;for(oe=0;8>oe;++oe)ue+=X[Q+oe-32];kh(ue>>3,X,Q)}function Rp(X,Q){var oe,ue=4;for(oe=0;8>oe;++oe)ue+=X[Q-1+32*oe];kh(ue>>3,X,Q)}function Pp(X,Q){kh(128,X,Q)}function Yu(X,Q,oe){var ue=X[Q-oe],pe=X[Q+0],ve=3*(pe-ue)+rw[1020+X[Q-2*oe]-X[Q+oe]],ye=t1[112+(ve+4>>3)];X[Q-oe]=aa[255+ue+t1[112+(ve+3>>3)]],X[Q+0]=aa[255+pe-ye]}function Ju(X,Q,oe,ue){var pe=X[Q+0],ve=X[Q+oe];return Pa[255+X[Q-2*oe]-X[Q-oe]]>ue||Pa[255+ve-pe]>ue}function Op(X,Q,oe,ue){return 4*Pa[255+X[Q-oe]-X[Q+0]]+Pa[255+X[Q-2*oe]-X[Q+oe]]<=ue}function Ah(X,Q,oe,ue,pe){var ve=X[Q-3*oe],ye=X[Q-2*oe],be=X[Q-oe],we=X[Q+0],_e=X[Q+oe],Te=X[Q+2*oe],ze=X[Q+3*oe];return 4*Pa[255+be-we]+Pa[255+ye-_e]>ue?0:Pa[255+X[Q-4*oe]-ve]<=pe&&Pa[255+ve-ye]<=pe&&Pa[255+ye-be]<=pe&&Pa[255+ze-Te]<=pe&&Pa[255+Te-_e]<=pe&&Pa[255+_e-we]<=pe}function Ip(X,Q,oe,ue){var pe=2*ue+1;for(ue=0;16>ue;++ue)Op(X,Q+ue,oe,pe)&&Yu(X,Q+ue,oe)}function Qu(X,Q,oe,ue){var pe=2*ue+1;for(ue=0;16>ue;++ue)Op(X,Q+ue*oe,1,pe)&&Yu(X,Q+ue*oe,1)}function Vg(X,Q,oe,ue){var pe;for(pe=3;0<pe;--pe)Ip(X,Q+=4*oe,oe,ue)}function Gg(X,Q,oe,ue){var pe;for(pe=3;0<pe;--pe)Qu(X,Q+=4,oe,ue)}function _l(X,Q,oe,ue,pe,ve,ye,be){for(ve=2*ve+1;0<pe--;){if(Ah(X,Q,oe,ve,ye))if(Ju(X,Q,oe,be))Yu(X,Q,oe);else{var we=X,_e=Q,Te=oe,ze=we[_e-2*Te],Se=we[_e-Te],Oe=we[_e+0],De=we[_e+Te],Ge=we[_e+2*Te],Fe=27*(Qe=rw[1020+3*(Oe-Se)+rw[1020+ze-De]])+63>>7,Xe=18*Qe+63>>7,Qe=9*Qe+63>>7;we[_e-3*Te]=aa[255+we[_e-3*Te]+Qe],we[_e-2*Te]=aa[255+ze+Xe],we[_e-Te]=aa[255+Se+Fe],we[_e+0]=aa[255+Oe-Fe],we[_e+Te]=aa[255+De-Xe],we[_e+2*Te]=aa[255+Ge-Qe]}Q+=ue}}function Sl(X,Q,oe,ue,pe,ve,ye,be){for(ve=2*ve+1;0<pe--;){if(Ah(X,Q,oe,ve,ye))if(Ju(X,Q,oe,be))Yu(X,Q,oe);else{var we=X,_e=Q,Te=oe,ze=we[_e-Te],Se=we[_e+0],Oe=we[_e+Te],De=t1[112+(4+(Ge=3*(Se-ze))>>3)],Ge=t1[112+(Ge+3>>3)],Fe=De+1>>1;we[_e-2*Te]=aa[255+we[_e-2*Te]+Fe],we[_e-Te]=aa[255+ze+Ge],we[_e+0]=aa[255+Se-De],we[_e+Te]=aa[255+Oe-Fe]}Q+=ue}}function Kg(X,Q,oe,ue,pe,ve){_l(X,Q,oe,1,16,ue,pe,ve)}function Xg(X,Q,oe,ue,pe,ve){_l(X,Q,1,oe,16,ue,pe,ve)}function ed(X,Q,oe,ue,pe,ve){var ye;for(ye=3;0<ye;--ye)Sl(X,Q+=4*oe,oe,1,16,ue,pe,ve)}function Zg(X,Q,oe,ue,pe,ve){var ye;for(ye=3;0<ye;--ye)Sl(X,Q+=4,1,oe,16,ue,pe,ve)}function ie(X,Q,oe,ue,pe,ve,ye,be){_l(X,Q,pe,1,8,ve,ye,be),_l(oe,ue,pe,1,8,ve,ye,be)}function fe(X,Q,oe,ue,pe,ve,ye,be){_l(X,Q,1,pe,8,ve,ye,be),_l(oe,ue,1,pe,8,ve,ye,be)}function Ee(X,Q,oe,ue,pe,ve,ye,be){Sl(X,Q+4*pe,pe,1,8,ve,ye,be),Sl(oe,ue+4*pe,pe,1,8,ve,ye,be)}function Ae(X,Q,oe,ue,pe,ve,ye,be){Sl(X,Q+4,1,pe,8,ve,ye,be),Sl(oe,ue+4,1,pe,8,ve,ye,be)}function Me(){this.ba=new _t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new R}function Vt(){this.xb=this.a=0,this.l=new Dr,this.ca=new _t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=o(4,st),this.Oc=0}function dr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vr(X,Q,oe,ue,pe,ve,ye){for(X=X==null?0:X[Q+0],Q=0;Q<ye;++Q)pe[ve+Q]=X+oe[ue+Q]&255,X=pe[ve+Q]}function Zr(X,Q,oe,ue,pe,ve,ye){var be;if(X==null)vr(null,null,oe,ue,pe,ve,ye);else for(be=0;be<ye;++be)pe[ve+be]=X[Q+be]+oe[ue+be]&255}function Mn(X,Q,oe,ue,pe,ve,ye){if(X==null)vr(null,null,oe,ue,pe,ve,ye);else{var be,we=X[Q+0],_e=we,Te=we;for(be=0;be<ye;++be)_e=Te+(we=X[Q+be])-_e,Te=oe[ue+be]+(-256&_e?0>_e?0:255:_e)&255,_e=we,pe[ve+be]=Te}}function mi(X,Q,oe,ue){var pe=Q.width,ve=Q.o;if(t(X!=null&&Q!=null),0>oe||0>=ue||oe+ue>ve)return null;if(!X.Cc){if(X.ga==null){var ye;if(X.ga=new dr,(ye=X.ga==null)||(ye=Q.width*Q.o,t(X.Gb.length==0),X.Gb=s(ye),X.Uc=0,X.Gb==null?ye=0:(X.mb=X.Gb,X.nb=X.Uc,X.rc=null,ye=1),ye=!ye),!ye){ye=X.ga;var be=X.Fa,we=X.P,_e=X.qc,Te=X.mb,ze=X.nb,Se=we+1,Oe=_e-1,De=ye.l;if(t(be!=null&&Te!=null&&Q!=null),jc[0]=null,jc[1]=vr,jc[2]=Zr,jc[3]=Mn,ye.ca=Te,ye.tb=ze,ye.c=Q.width,ye.i=Q.height,t(0<ye.c&&0<ye.i),1>=_e)Q=0;else if(ye.$a=3&be[we+0],ye.Z=be[we+0]>>2&3,ye.Lc=be[we+0]>>4&3,we=be[we+0]>>6&3,0>ye.$a||1<ye.$a||4<=ye.Z||1<ye.Lc||we)Q=0;else if(De.put=dt,De.ac=Cr,De.bc=wr,De.ma=ye,De.width=Q.width,De.height=Q.height,De.Da=Q.Da,De.v=Q.v,De.va=Q.va,De.j=Q.j,De.o=Q.o,ye.$a)e:{t(ye.$a==1),Q=ar();t:for(;;){if(Q==null){Q=0;break e}if(t(ye!=null),ye.mc=Q,Q.c=ye.c,Q.i=ye.i,Q.l=ye.l,Q.l.ma=ye,Q.l.width=ye.c,Q.l.height=ye.i,Q.a=0,C(Q.m,be,Se,Oe),!Gr(ye.c,ye.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&Ft(Q.s)?(ye.ic=1,be=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=s(be),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(ye.ic=0,Q=zr(Q,ye.c)),!Q))break t;Q=1;break e}ye.mc=null,Q=0}else Q=Oe>=ye.c*ye.i;ye=!Q}if(ye)return null;X.ga.Lc!=1?X.Ga=0:ue=ve-oe}t(X.ga!=null),t(oe+ue<=ve);e:{if(Q=(be=X.ga).c,ve=be.l.o,be.$a==0){if(Se=X.rc,Oe=X.Vc,De=X.Fa,we=X.P+1+oe*Q,_e=X.mb,Te=X.nb+oe*Q,t(we<=X.P+X.qc),be.Z!=0)for(t(jc[be.Z]!=null),ye=0;ye<ue;++ye)jc[be.Z](Se,Oe,De,we,_e,Te,Q),Se=_e,Oe=Te,Te+=Q,we+=Q;else for(ye=0;ye<ue;++ye)n(_e,Te,De,we,Q),Se=_e,Oe=Te,Te+=Q,we+=Q;X.rc=Se,X.Vc=Oe}else{if(t(be.mc!=null),Q=oe+ue,t((ye=be.mc)!=null),t(Q<=ye.i),ye.C>=Q)Q=1;else if(be.ic||ja(),be.ic){be=ye.V,Se=ye.Ba,Oe=ye.c;var Ge=ye.i,Fe=(De=1,we=ye.$/Oe,_e=ye.$%Oe,Te=ye.m,ze=ye.s,ye.$),Xe=Oe*Ge,Qe=Oe*Q,ft=ze.wc,nt=Fe<Qe?ct(ze,_e,we):null;t(Fe<=Xe),t(Q<=Ge),t(Ft(ze));t:for(;;){for(;!Te.h&&Fe<Qe;){if(_e&ft||(nt=ct(ze,_e,we)),t(nt!=null),$(Te),256>(Ge=Pe(nt.G[0],nt.H[0],Te)))be[Se+Fe]=Ge,++Fe,++_e>=Oe&&(_e=0,++we<=Q&&!(we%16)&&Tt(ye,we));else{if(!(280>Ge)){De=0;break t}Ge=Gt(Ge-256,Te);var Zt,Pt=Pe(nt.G[4],nt.H[4],Te);if($(Te),!(Fe>=(Pt=Ne(Oe,Pt=Gt(Pt,Te)))&&Xe-Fe>=Ge)){De=0;break t}for(Zt=0;Zt<Ge;++Zt)be[Se+Fe+Zt]=be[Se+Fe+Zt-Pt];for(Fe+=Ge,_e+=Ge;_e>=Oe;)_e-=Oe,++we<=Q&&!(we%16)&&Tt(ye,we);Fe<Qe&&_e&ft&&(nt=ct(ze,_e,we))}t(Te.h==te(Te))}Tt(ye,we>Q?Q:we);break t}!De||Te.h&&Fe<Xe?(De=0,ye.a=Te.h?5:3):ye.$=Fe,Q=De}else Q=Kt(ye,ye.V,ye.Ba,ye.c,ye.i,Q,mn);if(!Q){ue=0;break e}}oe+ue>=ve&&(X.Cc=1),ue=1}if(!ue)return null;if(X.Cc&&((ue=X.ga)!=null&&(ue.mc=null),X.ga=null,0<X.Ga))return alert("todo:WebPDequantizeLevels"),null}return X.nb+oe*pe}function vn(X,Q,oe,ue,pe,ve){for(;0<pe--;){var ye,be=X,we=Q+(oe?1:0),_e=X,Te=Q+(oe?0:3);for(ye=0;ye<ue;++ye){var ze=_e[Te+4*ye];ze!=255&&(ze*=32897,be[we+4*ye+0]=be[we+4*ye+0]*ze>>23,be[we+4*ye+1]=be[we+4*ye+1]*ze>>23,be[we+4*ye+2]=be[we+4*ye+2]*ze>>23)}Q+=ve}}function _i(X,Q,oe,ue,pe){for(;0<ue--;){var ve;for(ve=0;ve<oe;++ve){var ye=X[Q+2*ve+0],be=15&(_e=X[Q+2*ve+1]),we=4369*be,_e=(240&_e|_e>>4)*we>>16;X[Q+2*ve+0]=(240&ye|ye>>4)*we>>16&240|(15&ye|ye<<4)*we>>16>>4&15,X[Q+2*ve+1]=240&_e|be}Q+=pe}}function gi(X,Q,oe,ue,pe,ve,ye,be){var we,_e,Te=255;for(_e=0;_e<pe;++_e){for(we=0;we<ue;++we){var ze=X[Q+we];ve[ye+4*we]=ze,Te&=ze}Q+=oe,ye+=be}return Te!=255}function qi(X,Q,oe,ue,pe){var ve;for(ve=0;ve<pe;++ve)oe[ue+ve]=X[Q+ve]>>8}function ja(){qp=vn,DE=_i,BE=gi,FE=qi}function Bs(X,Q,oe){O[X]=function(ue,pe,ve,ye,be,we,_e,Te,ze,Se,Oe,De,Ge,Fe,Xe,Qe,ft){var nt,Zt=ft-1>>1,Pt=be[we+0]|_e[Te+0]<<16,kr=ze[Se+0]|Oe[De+0]<<16;t(ue!=null);var Ut=3*Pt+kr+131074>>2;for(Q(ue[pe+0],255&Ut,Ut>>16,Ge,Fe),ve!=null&&(Ut=3*kr+Pt+131074>>2,Q(ve[ye+0],255&Ut,Ut>>16,Xe,Qe)),nt=1;nt<=Zt;++nt){var Ur=be[we+nt]|_e[Te+nt]<<16,Ei=ze[Se+nt]|Oe[De+nt]<<16,Nr=Pt+Ur+kr+Ei+524296,$t=Nr+2*(Ur+kr)>>3;Ut=$t+Pt>>1,Pt=(Nr=Nr+2*(Pt+Ei)>>3)+Ur>>1,Q(ue[pe+2*nt-1],255&Ut,Ut>>16,Ge,Fe+(2*nt-1)*oe),Q(ue[pe+2*nt-0],255&Pt,Pt>>16,Ge,Fe+(2*nt-0)*oe),ve!=null&&(Ut=Nr+kr>>1,Pt=$t+Ei>>1,Q(ve[ye+2*nt-1],255&Ut,Ut>>16,Xe,Qe+(2*nt-1)*oe),Q(ve[ye+2*nt+0],255&Pt,Pt>>16,Xe,Qe+(2*nt+0)*oe)),Pt=Ur,kr=Ei}1&ft||(Ut=3*Pt+kr+131074>>2,Q(ue[pe+ft-1],255&Ut,Ut>>16,Ge,Fe+(ft-1)*oe),ve!=null&&(Ut=3*kr+Pt+131074>>2,Q(ve[ye+ft-1],255&Ut,Ut>>16,Xe,Qe+(ft-1)*oe)))}}function Yg(){Oa[r1]=bU,Oa[n1]=ZE,Oa[qE]=wU,Oa[i1]=YE,Oa[s1]=JE,Oa[nw]=QE,Oa[VE]=xU,Oa[iw]=ZE,Oa[sw]=YE,Oa[a1]=JE,Oa[aw]=QE}function Ch(X){return X&~_U?0>X?0:255:X>>ek}function td(X,Q){return Ch((19077*X>>8)+(26149*Q>>8)-14234)}function wc(X,Q,oe){return Ch((19077*X>>8)-(6419*Q>>8)-(13320*oe>>8)+8708)}function rd(X,Q){return Ch((19077*X>>8)+(33050*Q>>8)-17685)}function nd(X,Q,oe,ue,pe){ue[pe+0]=td(X,oe),ue[pe+1]=wc(X,Q,oe),ue[pe+2]=rd(X,Q)}function id(X,Q,oe,ue,pe){ue[pe+0]=rd(X,Q),ue[pe+1]=wc(X,Q,oe),ue[pe+2]=td(X,oe)}function os(X,Q,oe,ue,pe){var ve=wc(X,Q,oe);Q=ve<<3&224|rd(X,Q)>>3,ue[pe+0]=248&td(X,oe)|ve>>5,ue[pe+1]=Q}function sd(X,Q,oe,ue,pe){var ve=240&rd(X,Q)|15;ue[pe+0]=240&td(X,oe)|wc(X,Q,oe)>>4,ue[pe+1]=ve}function ad(X,Q,oe,ue,pe){ue[pe+0]=255,nd(X,Q,oe,ue,pe+1)}function Mp(X,Q,oe,ue,pe){id(X,Q,oe,ue,pe),ue[pe+3]=255}function Lp(X,Q,oe,ue,pe){nd(X,Q,oe,ue,pe),ue[pe+3]=255}function zn(X,Q){return 0>X?0:X>Q?Q:X}function El(X,Q,oe){O[X]=function(ue,pe,ve,ye,be,we,_e,Te,ze){for(var Se=Te+(-2&ze)*oe;Te!=Se;)Q(ue[pe+0],ve[ye+0],be[we+0],_e,Te),Q(ue[pe+1],ve[ye+0],be[we+0],_e,Te+oe),pe+=2,++ye,++we,Te+=2*oe;1&ze&&Q(ue[pe+0],ve[ye+0],be[we+0],_e,Te)}}function jh(X,Q,oe){return oe==0?X==0?Q==0?6:5:Q==0?4:0:oe}function Jg(X,Q,oe,ue,pe){switch(X>>>30){case 3:ud(Q,oe,ue,pe,0);break;case 2:Ra(Q,oe,ue,pe);break;case 1:tn(Q,oe,ue,pe)}}function Ta(X,Q){var oe,ue,pe=Q.M,ve=Q.Nb,ye=X.oc,be=X.pc+40,we=X.oc,_e=X.pc+584,Te=X.oc,ze=X.pc+600;for(oe=0;16>oe;++oe)ye[be+32*oe-1]=129;for(oe=0;8>oe;++oe)we[_e+32*oe-1]=129,Te[ze+32*oe-1]=129;for(0<pe?ye[be-1-32]=we[_e-1-32]=Te[ze-1-32]=129:(i(ye,be-32-1,127,21),i(we,_e-32-1,127,9),i(Te,ze-32-1,127,9)),ue=0;ue<X.za;++ue){var Se=Q.ya[Q.aa+ue];if(0<ue){for(oe=-1;16>oe;++oe)n(ye,be+32*oe-4,ye,be+32*oe+12,4);for(oe=-1;8>oe;++oe)n(we,_e+32*oe-4,we,_e+32*oe+4,4),n(Te,ze+32*oe-4,Te,ze+32*oe+4,4)}var Oe=X.Gd,De=X.Hd+ue,Ge=Se.ad,Fe=Se.Hc;if(0<pe&&(n(ye,be-32,Oe[De].y,0,16),n(we,_e-32,Oe[De].f,0,8),n(Te,ze-32,Oe[De].ea,0,8)),Se.Za){var Xe=ye,Qe=be-32+16;for(0<pe&&(ue>=X.za-1?i(Xe,Qe,Oe[De].y[15],4):n(Xe,Qe,Oe[De+1].y,0,4)),oe=0;4>oe;oe++)Xe[Qe+128+oe]=Xe[Qe+256+oe]=Xe[Qe+384+oe]=Xe[Qe+0+oe];for(oe=0;16>oe;++oe,Fe<<=2)Xe=ye,Qe=be+rk[oe],io[Se.Ob[oe]](Xe,Qe),Jg(Fe,Ge,16*+oe,Xe,Qe)}else if(Xe=jh(ue,pe,Se.Ob[0]),Cc[Xe](ye,be),Fe!=0)for(oe=0;16>oe;++oe,Fe<<=2)Jg(Fe,Ge,16*+oe,ye,be+rk[oe]);for(oe=Se.Gc,Xe=jh(ue,pe,Se.Dd),Al[Xe](we,_e),Al[Xe](Te,ze),Fe=Ge,Xe=we,Qe=_e,255&(Se=0|oe)&&(170&Se?Lo(Fe,256,Xe,Qe):hn(Fe,256,Xe,Qe)),Se=Te,Fe=ze,255&(oe>>=8)&&(170&oe?Lo(Ge,320,Se,Fe):hn(Ge,320,Se,Fe)),pe<X.Ub-1&&(n(Oe[De].y,0,ye,be+480,16),n(Oe[De].f,0,we,_e+224,8),n(Oe[De].ea,0,Te,ze+224,8)),oe=8*ve*X.B,Oe=X.sa,De=X.ta+16*ue+16*ve*X.R,Ge=X.qa,Se=X.ra+8*ue+oe,Fe=X.Ha,Xe=X.Ia+8*ue+oe,oe=0;16>oe;++oe)n(Oe,De+oe*X.R,ye,be+32*oe,16);for(oe=0;8>oe;++oe)n(Ge,Se+oe*X.B,we,_e+32*oe,8),n(Fe,Xe+oe*X.B,Te,ze+32*oe,8)}}function od(X,Q,oe,ue,pe,ve,ye,be,we){var _e=[0],Te=[0],ze=0,Se=we!=null?we.kd:0,Oe=we??new Ye;if(X==null||12>oe)return 7;Oe.data=X,Oe.w=Q,Oe.ha=oe,Q=[Q],oe=[oe],Oe.gb=[Oe.gb];e:{var De=Q,Ge=oe,Fe=Oe.gb;if(t(X!=null),t(Ge!=null),t(Fe!=null),Fe[0]=0,12<=Ge[0]&&!r(X,De[0],"RIFF")){if(r(X,De[0]+8,"WEBP")){Fe=3;break e}var Xe=B(X,De[0]+4);if(12>Xe||4294967286<Xe){Fe=3;break e}if(Se&&Xe>Ge[0]-8){Fe=7;break e}Fe[0]=Xe,De[0]+=12,Ge[0]-=12}Fe=0}if(Fe!=0)return Fe;for(Xe=0<Oe.gb[0],oe=oe[0];;){e:{var Qe=X;Ge=Q,Fe=oe;var ft=_e,nt=Te,Zt=De=[0];if((Ut=ze=[ze])[0]=0,8>Fe[0])Fe=7;else{if(!r(Qe,Ge[0],"VP8X")){if(B(Qe,Ge[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var Pt=B(Qe,Ge[0]+8),kr=1+se(Qe,Ge[0]+12);if(2147483648<=kr*(Qe=1+se(Qe,Ge[0]+15))){Fe=3;break e}Zt!=null&&(Zt[0]=Pt),ft!=null&&(ft[0]=kr),nt!=null&&(nt[0]=Qe),Ge[0]+=18,Fe[0]-=18,Ut[0]=1}Fe=0}}if(ze=ze[0],De=De[0],Fe!=0)return Fe;if(Ge=!!(2&De),!Xe&&ze)return 3;if(ve!=null&&(ve[0]=!!(16&De)),ye!=null&&(ye[0]=Ge),be!=null&&(be[0]=0),ye=_e[0],De=Te[0],ze&&Ge&&we==null){Fe=0;break}if(4>oe){Fe=7;break}if(Xe&&ze||!Xe&&!ze&&!r(X,Q[0],"ALPH")){oe=[oe],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Pt=X,Fe=Q,Xe=oe;var Ut=Oe.gb;ft=Oe.na,nt=Oe.P,Zt=Oe.Sa,kr=22,t(Pt!=null),t(Xe!=null),Qe=Fe[0];var Ur=Xe[0];for(t(ft!=null),t(Zt!=null),ft[0]=null,nt[0]=null,Zt[0]=0;;){if(Fe[0]=Qe,Xe[0]=Ur,8>Ur){Fe=7;break e}var Ei=B(Pt,Qe+4);if(4294967286<Ei){Fe=3;break e}var Nr=8+Ei+1&-2;if(kr+=Nr,0<Ut&&kr>Ut){Fe=3;break e}if(!r(Pt,Qe,"VP8 ")||!r(Pt,Qe,"VP8L")){Fe=0;break e}if(Ur[0]<Nr){Fe=7;break e}r(Pt,Qe,"ALPH")||(ft[0]=Pt,nt[0]=Qe+8,Zt[0]=Ei),Qe+=Nr,Ur-=Nr}}if(oe=oe[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Fe!=0)break}oe=[oe],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Ut=X,Fe=Q,Xe=oe,ft=Oe.gb[0],nt=Oe.Ja,Zt=Oe.xa,Pt=Fe[0],Qe=!r(Ut,Pt,"VP8 "),kr=!r(Ut,Pt,"VP8L"),t(Ut!=null),t(Xe!=null),t(nt!=null),t(Zt!=null),8>Xe[0])Fe=7;else{if(Qe||kr){if(Ut=B(Ut,Pt+4),12<=ft&&Ut>ft-12){Fe=3;break e}if(Se&&Ut>Xe[0]-8){Fe=7;break e}nt[0]=Ut,Fe[0]+=8,Xe[0]-=8,Zt[0]=kr}else Zt[0]=5<=Xe[0]&&Ut[Pt+0]==47&&!(Ut[Pt+4]>>5),nt[0]=Xe[0];Fe=0}if(oe=oe[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],Q=Q[0],Fe!=0)break;if(4294967286<Oe.Ja)return 3;if(be==null||Ge||(be[0]=Oe.xa?2:1),ye=[ye],De=[De],Oe.xa){if(5>oe){Fe=7;break}be=ye,Se=De,Ge=ve,X==null||5>oe?X=0:5<=oe&&X[Q+0]==47&&!(X[Q+4]>>5)?(Xe=[0],Ut=[0],ft=[0],C(nt=new K,X,Q,oe),jr(nt,Xe,Ut,ft)?(be!=null&&(be[0]=Xe[0]),Se!=null&&(Se[0]=Ut[0]),Ge!=null&&(Ge[0]=ft[0]),X=1):X=0):X=0}else{if(10>oe){Fe=7;break}be=De,X==null||10>oe||!ln(X,Q+3,oe-3)?X=0:(Se=X[Q+0]|X[Q+1]<<8|X[Q+2]<<16,Ge=16383&(X[Q+7]<<8|X[Q+6]),X=16383&(X[Q+9]<<8|X[Q+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Oe.Ja||!Ge||!X?X=0:(ye&&(ye[0]=Ge),be&&(be[0]=X),X=1))}if(!X||(ye=ye[0],De=De[0],ze&&(_e[0]!=ye||Te[0]!=De)))return 3;we!=null&&(we[0]=Oe,we.offset=Q-we.w,t(4294967286>Q-we.w),t(we.offset==we.ha-oe));break}return Fe==0||Fe==7&&ze&&we==null?(ve!=null&&(ve[0]|=Oe.na!=null&&0<Oe.na.length),ue!=null&&(ue[0]=ye),pe!=null&&(pe[0]=De),0):Fe}function Dp(X,Q,oe){var ue=Q.width,pe=Q.height,ve=0,ye=0,be=ue,we=pe;if(Q.Da=X!=null&&0<X.Da,Q.Da&&(be=X.cd,we=X.bd,ve=X.v,ye=X.j,11>oe||(ve&=-2,ye&=-2),0>ve||0>ye||0>=be||0>=we||ve+be>ue||ye+we>pe))return 0;if(Q.v=ve,Q.j=ye,Q.va=ve+be,Q.o=ye+we,Q.U=be,Q.T=we,Q.da=X!=null&&0<X.da,Q.da){if(!W(be,we,oe=[X.ib],ve=[X.hb]))return 0;Q.ib=oe[0],Q.hb=ve[0]}return Q.ob=X!=null&&X.ob,Q.Kb=X==null||!X.Sd,Q.da&&(Q.ob=Q.ib<3*ue/4&&Q.hb<3*pe/4,Q.Kb=0),1}function Bp(X){if(X==null)return 2;if(11>X.S){var Q=X.f.RGBA;Q.fb+=(X.height-1)*Q.A,Q.A=-Q.A}else Q=X.f.kb,X=X.height,Q.O+=(X-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(X-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(X-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(X-1)*Q.lb,Q.lb=-Q.lb);return 0}function xc(X,Q,oe,ue){if(ue==null||0>=X||0>=Q)return 2;if(oe!=null){if(oe.Da){var pe=oe.cd,ve=oe.bd,ye=-2&oe.v,be=-2&oe.j;if(0>ye||0>be||0>=pe||0>=ve||ye+pe>X||be+ve>Q)return 2;X=pe,Q=ve}if(oe.da){if(!W(X,Q,pe=[oe.ib],ve=[oe.hb]))return 2;X=pe[0],Q=ve[0]}}ue.width=X,ue.height=Q;e:{var we=ue.width,_e=ue.height;if(X=ue.S,0>=we||0>=_e||!(X>=r1&&13>X))X=2;else{if(0>=ue.Rd&&ue.sd==null){ye=ve=pe=Q=0;var Te=(be=we*nk[X])*_e;if(11>X||(ve=(_e+1)/2*(Q=(we+1)/2),X==12&&(ye=(pe=we)*_e)),(_e=s(Te+2*ve+ye))==null){X=1;break e}ue.sd=_e,11>X?((we=ue.f.RGBA).eb=_e,we.fb=0,we.A=be,we.size=Te):((we=ue.f.kb).y=_e,we.O=0,we.fa=be,we.Fd=Te,we.f=_e,we.N=0+Te,we.Ab=Q,we.Cd=ve,we.ea=_e,we.W=0+Te+ve,we.Db=Q,we.Ed=ve,X==12&&(we.F=_e,we.J=0+Te+2*ve),we.Tc=ye,we.lb=pe)}if(Q=1,pe=ue.S,ve=ue.width,ye=ue.height,pe>=r1&&13>pe)if(11>pe)X=ue.f.RGBA,Q&=(be=Math.abs(X.A))*(ye-1)+ve<=X.size,Q&=be>=ve*nk[pe],Q&=X.eb!=null;else{X=ue.f.kb,be=(ve+1)/2,Te=(ye+1)/2,we=Math.abs(X.fa),_e=Math.abs(X.Ab);var ze=Math.abs(X.Db),Se=Math.abs(X.lb),Oe=Se*(ye-1)+ve;Q&=we*(ye-1)+ve<=X.Fd,Q&=_e*(Te-1)+be<=X.Cd,Q=(Q&=ze*(Te-1)+be<=X.Ed)&we>=ve&_e>=be&ze>=be,Q&=X.y!=null,Q&=X.f!=null,Q&=X.ea!=null,pe==12&&(Q&=Se>=ve,Q&=Oe<=X.Tc,Q&=X.F!=null)}else Q=0;X=Q?0:2}}return X!=0||oe!=null&&oe.fd&&(X=Bp(ue)),X}var ld=64,ia=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sa=24,_c=32,kl=8,Sc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(X){return X},O.Predictor2=function(X,Q,oe){return Q[oe+0]},O.Predictor3=function(X,Q,oe){return Q[oe+1]},O.Predictor4=function(X,Q,oe){return Q[oe-1]},O.Predictor5=function(X,Q,oe){return de(de(X,Q[oe+1]),Q[oe+0])},O.Predictor6=function(X,Q,oe){return de(X,Q[oe-1])},O.Predictor7=function(X,Q,oe){return de(X,Q[oe+0])},O.Predictor8=function(X,Q,oe){return de(Q[oe-1],Q[oe+0])},O.Predictor9=function(X,Q,oe){return de(Q[oe+0],Q[oe+1])},O.Predictor10=function(X,Q,oe){return de(de(X,Q[oe-1]),de(Q[oe+0],Q[oe+1]))},O.Predictor11=function(X,Q,oe){var ue=Q[oe+0];return 0>=ke(ue>>24&255,X>>24&255,(Q=Q[oe-1])>>24&255)+ke(ue>>16&255,X>>16&255,Q>>16&255)+ke(ue>>8&255,X>>8&255,Q>>8&255)+ke(255&ue,255&X,255&Q)?ue:X},O.Predictor12=function(X,Q,oe){var ue=Q[oe+0];return(me((X>>24&255)+(ue>>24&255)-((Q=Q[oe-1])>>24&255))<<24|me((X>>16&255)+(ue>>16&255)-(Q>>16&255))<<16|me((X>>8&255)+(ue>>8&255)-(Q>>8&255))<<8|me((255&X)+(255&ue)-(255&Q)))>>>0},O.Predictor13=function(X,Q,oe){var ue=Q[oe-1];return(ge((X=de(X,Q[oe+0]))>>24&255,ue>>24&255)<<24|ge(X>>16&255,ue>>16&255)<<16|ge(X>>8&255,ue>>8&255)<<8|ge(255&X,255&ue))>>>0};var Fp=O.PredictorAdd0;O.PredictorAdd1=Re,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Th=O.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(X){return X>>8&255},function(X){return X}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(X){return X},function(X){return X>>8&255});var ei,Qg=O.ColorIndexInverseTransform,Io=O.MapARGB,Mo=O.VP8LColorIndexInverseTransformAlpha,zp=O.MapAlpha,Up=O.VP8LPredictorsAdd=[];Up.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var $p,Hp,Ec,kc,Nc,cd,Ac,ud,Ra,Lo,tn,hn,ti,Si,Nl,Wp,Rh,e1,RE,PE,OE,IE,ME,LE,qp,DE,BE,FE,zE=s(511),UE=s(2041),$E=s(225),HE=s(767),WE=0,rw=UE,t1=$E,aa=HE,Pa=zE,r1=0,n1=1,qE=2,i1=3,s1=4,nw=5,VE=6,iw=7,sw=8,a1=9,aw=10,sU=[2,3,7],aU=[3,3,11],GE=[280,256,256,256,40],oU=[0,1,1,1,0],lU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cU=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uU=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],dU=8,ow=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vp=null,hU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fU=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],KE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cc=[],io=[],Al=[],yU=1,XE=2,jc=[],Oa=[];Bs("UpsampleRgbLinePair",nd,3),Bs("UpsampleBgrLinePair",id,3),Bs("UpsampleRgbaLinePair",Lp,4),Bs("UpsampleBgraLinePair",Mp,4),Bs("UpsampleArgbLinePair",ad,4),Bs("UpsampleRgba4444LinePair",sd,2),Bs("UpsampleRgb565LinePair",os,2);var bU=O.UpsampleRgbLinePair,wU=O.UpsampleBgrLinePair,ZE=O.UpsampleRgbaLinePair,YE=O.UpsampleBgraLinePair,JE=O.UpsampleArgbLinePair,QE=O.UpsampleRgba4444LinePair,xU=O.UpsampleRgb565LinePair,o1=16,l1=1<<o1-1,Gp=-227,cw=482,ek=6,_U=(256<<ek)-1,tk=0,SU=s(256),EU=s(256),kU=s(256),NU=s(256),AU=s(cw-Gp),CU=s(cw-Gp);El("YuvToRgbRow",nd,3),El("YuvToBgrRow",id,3),El("YuvToRgbaRow",Lp,4),El("YuvToBgraRow",Mp,4),El("YuvToArgbRow",ad,4),El("YuvToRgba4444Row",sd,2),El("YuvToRgb565Row",os,2);var rk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],c1=[0,2,8],jU=[8,7,6,4,4,2,2,2,1,1,1,1],TU=1;this.WebPDecodeRGBA=function(X,Q,oe,ue,pe){var ve=n1,ye=new Me,be=new _t;ye.ba=be,be.S=ve,be.width=[be.width],be.height=[be.height];var we=be.width,_e=be.height,Te=new ot;if(Te==null||X==null)var ze=2;else t(Te!=null),ze=od(X,Q,oe,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(ze!=0?we=0:(we!=null&&(we[0]=Te.width[0]),_e!=null&&(_e[0]=Te.height[0]),we=1),we){be.width=be.width[0],be.height=be.height[0],ue!=null&&(ue[0]=be.width),pe!=null&&(pe[0]=be.height);e:{if(ue=new Dr,(pe=new Ye).data=X,pe.w=Q,pe.ha=oe,pe.kd=1,Q=[0],t(pe!=null),((X=od(pe.data,pe.w,pe.ha,null,null,null,Q,null,pe))==0||X==7)&&Q[0]&&(X=4),(Q=X)==0){if(t(ye!=null),ue.data=pe.data,ue.w=pe.w+pe.offset,ue.ha=pe.ha-pe.offset,ue.put=dt,ue.ac=Cr,ue.bc=wr,ue.ma=ye,pe.xa){if((X=ar())==null){ye=1;break e}if(function(Se,Oe){var De=[0],Ge=[0],Fe=[0];t:for(;;){if(Se==null)return 0;if(Oe==null)return Se.a=2,0;if(Se.l=Oe,Se.a=0,C(Se.m,Oe.data,Oe.w,Oe.ha),!jr(Se.m,De,Ge,Fe)){Se.a=3;break t}if(Se.xb=XE,Oe.width=De[0],Oe.height=Ge[0],!Gr(De[0],Ge[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(X,ue)){if(ue=(Q=xc(ue.width,ue.height,ye.Oa,ye.ba))==0){t:{ue=X;r:for(;;){if(ue==null){ue=0;break t}if(t(ue.s.yc!=null),t(ue.s.Ya!=null),t(0<ue.s.Wb),t((oe=ue.l)!=null),t((pe=oe.ma)!=null),ue.xb!=0){if(ue.ca=pe.ba,ue.tb=pe.tb,t(ue.ca!=null),!Dp(pe.Oa,oe,i1)){ue.a=2;break r}if(!zr(ue,oe.width)||oe.da)break r;if((oe.da||wt(ue.ca.S))&&ja(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&ja()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!ne(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!Kt(ue,ue.V,ue.Ba,ue.c,ue.i,oe.o,vt))break r;pe.Dc=ue.Ma,ue=1;break t}t(ue.a!=0),ue=0}ue=!ue}ue&&(Q=X.a)}else Q=X.a}else{if((X=new Hr)==null){ye=1;break e}if(X.Fa=pe.na,X.P=pe.P,X.qc=pe.Sa,In(X,ue)){if((Q=xc(ue.width,ue.height,ye.Oa,ye.ba))==0){if(X.Aa=0,oe=ye.Oa,t((pe=X)!=null),oe!=null){if(0<(we=0>(we=oe.Md)?0:100<we?255:255*we/100)){for(_e=Te=0;4>_e;++_e)12>(ze=pe.pb[_e]).lc&&(ze.ia=we*jU[0>ze.lc?0:ze.lc]>>3),Te|=ze.ia;Te&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=oe.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}(function(Se,Oe){if(Se==null)return 0;if(Oe==null)return ir(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!In(Se,Oe))return 0;if(t(Se.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(Se.L=0);var De=c1[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Oe.v-De>>4,Se.zb=Oe.j-De>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Oe.o+15+De>>4,Se.Hb=Oe.va+15+De>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var Ge=Se.ed;for(De=0;4>De;++De){var Fe;if(Se.Qa.Cb){var Xe=Se.Qa.Lb[De];Se.Qa.Fb||(Xe+=Ge.Tb)}else Xe=Ge.Tb;for(Fe=0;1>=Fe;++Fe){var Qe=Se.gd[De][Fe],ft=Xe;if(Ge.Pc&&(ft+=Ge.vd[0],Fe&&(ft+=Ge.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var nt=ft;0<Ge.wb&&(nt=4<Ge.wb?nt>>2:nt>>1)>9-Ge.wb&&(nt=9-Ge.wb),1>nt&&(nt=1),Qe.dd=nt,Qe.tc=2*ft+nt,Qe.ld=40<=ft?2:15<=ft?1:0}else Qe.tc=0;Qe.La=Fe}}}De=0}else ir(Se,6,"Frame setup failed"),De=Se.a;if(De=De==0){if(De){Se.$c=0,0<Se.Aa||(Se.Ic=TU);t:{De=Se.Ic,Ge=4*(nt=Se.za);var Zt=32*nt,Pt=nt+1,kr=0<Se.L?nt*(0<Se.Aa?2:1):0,Ut=(Se.Aa==2?2:1)*nt;if((Qe=Ge+832+(Fe=3*(16*De+c1[Se.L])/2*Zt)+(Xe=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=Qe)De=0;else{if(Qe>Se.Vb){if(Se.Vb=0,Se.Ec=s(Qe),Se.Fc=0,Se.Ec==null){De=ir(Se,1,"no memory during frame initialization.");break t}Se.Vb=Qe}Qe=Se.Ec,ft=Se.Fc,Se.Ac=Qe,Se.Bc=ft,ft+=Ge,Se.Gd=o(Zt,fr),Se.Hd=0,Se.rb=o(Pt+1,mt),Se.sb=1,Se.wa=kr?o(kr,Nt):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=nt),t(!0),Se.oc=Qe,Se.pc=ft,ft+=832,Se.ya=o(Ut,xr),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=nt),Se.R=16*nt,Se.B=8*nt,nt=(Zt=c1[Se.L])*Se.R,Zt=Zt/2*Se.B,Se.sa=Qe,Se.ta=ft+nt,Se.qa=Se.sa,Se.ra=Se.ta+16*De*Se.R+Zt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*De*Se.B+Zt,Se.$c=0,ft+=Fe,Se.mb=Xe?Qe:null,Se.nb=Xe?ft:null,t(ft+Xe<=Se.Fc+Se.Vb),wi(Se),i(Se.Ac,Se.Bc,0,Ge),De=1}}if(De){if(Oe.ka=0,Oe.y=Se.sa,Oe.O=Se.ta,Oe.f=Se.qa,Oe.N=Se.ra,Oe.ea=Se.Ha,Oe.Vd=Se.Ia,Oe.fa=Se.R,Oe.Rc=Se.B,Oe.F=null,Oe.J=0,!WE){for(De=-255;255>=De;++De)zE[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)UE[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)$E[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)HE[255+De]=0>De?0:255<De?255:De;WE=1}Ac=Bi,ud=Mr,Lo=Aa,tn=Di,hn=yl,Ra=Wr,ti=Kg,Si=Xg,Nl=ie,Wp=fe,Rh=ed,e1=Zg,RE=Ee,PE=Ae,OE=Ip,IE=Qu,ME=Vg,LE=Gg,io[0]=Y2,io[1]=Ls,io[2]=yc,io[3]=bc,io[4]=J2,io[5]=xl,io[6]=wl,io[7]=Q2,io[8]=Eh,io[9]=ew,Cc[0]=na,Cc[1]=vc,Cc[2]=Ro,Cc[3]=Ds,Cc[4]=Xu,Cc[5]=Ca,Cc[6]=Oo,Al[0]=Nh,Al[1]=bl,Al[2]=Tp,Al[3]=Zu,Al[4]=Rp,Al[5]=tw,Al[6]=Pp,De=1}else De=0}De&&(De=function(Ur,Ei){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var Nr,$t=Ur.Jc[Ur.M&Ur.Xb],xt=Ur.m,ri=Ur;for(Nr=0;Nr<ri.za;++Nr){var br=xt,qr=ri,Sn=qr.Ac,Vi=qr.Bc+4*Nr,ws=qr.zc,Un=qr.ya[qr.aa+Nr];if(qr.Qa.Bb?Un.$b=V(br,qr.Pa.jb[0])?2+V(br,qr.Pa.jb[2]):V(br,qr.Pa.jb[1]):Un.$b=0,qr.kc&&(Un.Ad=V(br,qr.Bd)),Un.Za=!V(br,145)+0,Un.Za){var ls=Un.Ob,xs=0;for(qr=0;4>qr;++qr){var ki,Kr=ws[0+qr];for(ki=0;4>ki;++ki){Kr=mU[Sn[Vi+ki]][Kr];for(var rn=KE[V(br,Kr[0])];0<rn;)rn=KE[2*rn+V(br,Kr[rn])];Kr=-rn,Sn[Vi+ki]=Kr}n(ls,xs,Sn,Vi,4),xs+=4,ws[0+qr]=Kr}}else Kr=V(br,156)?V(br,128)?1:3:V(br,163)?2:0,Un.Ob[0]=Kr,i(Sn,Vi,Kr,4),i(ws,0,Kr,4);Un.Dd=V(br,142)?V(br,114)?V(br,183)?1:3:2:0}if(ri.m.Ka)return ir(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(ri=$t,br=(xt=Ur).rb[xt.sb-1],Sn=xt.rb[xt.sb+xt.ja],Nr=xt.ya[xt.aa+xt.ja],Vi=xt.kc?Nr.Ad:0)br.la=Sn.la=0,Nr.Za||(br.Na=Sn.Na=0),Nr.Hc=0,Nr.Gc=0,Nr.ia=0;else{var $n,nn;if(br=Sn,Sn=ri,Vi=xt.Pa.Xc,ws=xt.ya[xt.aa+xt.ja],Un=xt.pb[ws.$b],qr=ws.ad,ls=0,xs=xt.rb[xt.sb-1],Kr=ki=0,i(qr,ls,0,384),ws.Za)var Gi=0,so=Vi[3];else{rn=s(16);var ni=br.Na+xs.Na;if(ni=Vp(Sn,Vi[1],ni,Un.Eb,0,rn,0),br.Na=xs.Na=(0<ni)+0,1<ni)Ac(rn,0,qr,ls);else{var Fs=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)qr[ls+rn]=Fs}Gi=1,so=Vi[0]}var fn=15&br.la,Ni=15&xs.la;for(rn=0;4>rn;++rn){var oa=1&Ni;for(Fs=nn=0;4>Fs;++Fs)fn=fn>>1|(oa=(ni=Vp(Sn,so,ni=oa+(1&fn),Un.Sc,Gi,qr,ls))>Gi)<<7,nn=nn<<2|(3<ni?3:1<ni?2:qr[ls+0]!=0),ls+=16;fn>>=4,Ni=Ni>>1|oa<<7,ki=(ki<<8|nn)>>>0}for(so=fn,Gi=Ni>>4,$n=0;4>$n;$n+=2){for(nn=0,fn=br.la>>4+$n,Ni=xs.la>>4+$n,rn=0;2>rn;++rn){for(oa=1&Ni,Fs=0;2>Fs;++Fs)ni=oa+(1&fn),fn=fn>>1|(oa=0<(ni=Vp(Sn,Vi[2],ni,Un.Qc,0,qr,ls)))<<3,nn=nn<<2|(3<ni?3:1<ni?2:qr[ls+0]!=0),ls+=16;fn>>=2,Ni=Ni>>1|oa<<5}Kr|=nn<<4*$n,so|=fn<<4<<$n,Gi|=(240&Ni)<<$n}br.la=so,xs.la=Gi,ws.Hc=ki,ws.Gc=Kr,ws.ia=43690&Kr?0:Un.ia,Vi=!(ki|Kr)}if(0<xt.L&&(xt.wa[xt.Y+xt.ja]=xt.gd[Nr.$b][Nr.Za],xt.wa[xt.Y+xt.ja].La|=!Vi),ri.Ka)return ir(Ur,7,"Premature end-of-file encountered.")}if(wi(Ur),xt=Ei,ri=1,Nr=($t=Ur).D,br=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(Nr.M=$t.M,Nr.uc=br,Ta($t,Nr),ri=1,Nr=(nn=$t.D).Nb,br=(Kr=c1[$t.L])*$t.R,Sn=Kr/2*$t.B,rn=16*Nr*$t.R,Fs=8*Nr*$t.B,Vi=$t.sa,ws=$t.ta-br+rn,Un=$t.qa,qr=$t.ra-Sn+Fs,ls=$t.Ha,xs=$t.Ia-Sn+Fs,Ni=(fn=nn.M)==0,ki=fn>=$t.Va-1,$t.Aa==2&&Ta($t,nn),nn.uc)for(oa=(ni=$t).D.M,t(ni.D.uc),nn=ni.yb;nn<ni.Hb;++nn){Gi=nn,so=oa;var _s=(la=(Ki=ni).D).Nb;$n=Ki.R;var la=la.wa[la.Y+Gi],ca=Ki.sa,zs=Ki.ta+16*_s*$n+16*Gi,ua=la.dd,yn=la.tc;if(yn!=0)if(t(3<=yn),Ki.L==1)0<Gi&&IE(ca,zs,$n,yn+4),la.La&&LE(ca,zs,$n,yn),0<so&&OE(ca,zs,$n,yn+4),la.La&&ME(ca,zs,$n,yn);else{var da=Ki.B,ao=Ki.qa,dd=Ki.ra+8*_s*da+8*Gi,Cl=Ki.Ha,Ki=Ki.Ia+8*_s*da+8*Gi;_s=la.ld,0<Gi&&(Si(ca,zs,$n,yn+4,ua,_s),Wp(ao,dd,Cl,Ki,da,yn+4,ua,_s)),la.La&&(e1(ca,zs,$n,yn,ua,_s),PE(ao,dd,Cl,Ki,da,yn,ua,_s)),0<so&&(ti(ca,zs,$n,yn+4,ua,_s),Nl(ao,dd,Cl,Ki,da,yn+4,ua,_s)),la.La&&(Rh(ca,zs,$n,yn,ua,_s),RE(ao,dd,Cl,Ki,da,yn,ua,_s))}}if($t.ia&&alert("todo:DitherRow"),xt.put!=null){if(nn=16*fn,fn=16*(fn+1),Ni?(xt.y=$t.sa,xt.O=$t.ta+rn,xt.f=$t.qa,xt.N=$t.ra+Fs,xt.ea=$t.Ha,xt.W=$t.Ia+Fs):(nn-=Kr,xt.y=Vi,xt.O=ws,xt.f=Un,xt.N=qr,xt.ea=ls,xt.W=xs),ki||(fn-=Kr),fn>xt.o&&(fn=xt.o),xt.F=null,xt.J=null,$t.Fa!=null&&0<$t.Fa.length&&nn<fn&&(xt.J=mi($t,xt,nn,fn-nn),xt.F=$t.mb,xt.F==null&&xt.F.length==0)){ri=ir($t,3,"Could not decode alpha data.");break t}nn<xt.j&&(Kr=xt.j-nn,nn=xt.j,t(!(1&Kr)),xt.O+=$t.R*Kr,xt.N+=$t.B*(Kr>>1),xt.W+=$t.B*(Kr>>1),xt.F!=null&&(xt.J+=xt.width*Kr)),nn<fn&&(xt.O+=xt.v,xt.N+=xt.v>>1,xt.W+=xt.v>>1,xt.F!=null&&(xt.J+=xt.v),xt.ka=nn-xt.j,xt.U=xt.va-xt.v,xt.T=fn-nn,ri=xt.put(xt))}Nr+1!=$t.Ic||ki||(n($t.sa,$t.ta-br,Vi,ws+16*$t.R,br),n($t.qa,$t.ra-Sn,Un,qr+8*$t.B,Sn),n($t.Ha,$t.Ia-Sn,ls,xs+8*$t.B,Sn))}if(!ri)return ir(Ur,6,"Output aborted.")}return 1}(Se,Oe)),Oe.bc!=null&&Oe.bc(Oe),De&=1}return De?(Se.cb=0,De):0})(X,ue)||(Q=X.a)}}else Q=X.a}Q==0&&ye.Oa!=null&&ye.Oa.fd&&(Q=Bp(ye.ba))}ye=Q}ve=ye!=0?null:11>ve?be.f.RGBA.eb:be.f.kb.y}else ve=null;return ve};var nk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,H){for(var G="",I=0;I<4;I++)G+=String.fromCharCode(O[H++]);return G}function u(O,H){return O[H+0]|O[H+1]<<8}function h(O,H){return(O[H+0]|O[H+1]<<8|O[H+2]<<16)>>>0}function f(O,H){return(O[H+0]|O[H+1]<<8|O[H+2]<<16|O[H+3]<<24)>>>0}new l;var d=[0],p=[0],g=[],m=new l,v=e,y=function(O,H){var G={},I=0,R=!1,S=0,j=0;if(G.frames=[],!function(P,K){for(var Z=0;Z<4;Z++)if(P[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(O,H)){for(f(O,H+=4),H+=8;H<O.length;){var E=c(O,H),k=f(O,H+=4);H+=4;var A=k+(1&k);switch(E){case"VP8 ":case"VP8L":G.frames[I]===void 0&&(G.frames[I]={}),(z=G.frames[I]).src_off=R?j:H-8,z.src_size=S+k+8,I++,R&&(R=!1,S=0,j=0);break;case"VP8X":(z=G.header={}).feature_flags=O[H];var C=H+4;z.canvas_width=1+h(O,C),C+=3,z.canvas_height=1+h(O,C),C+=3;break;case"ALPH":R=!0,S=A+8,j=H-8;break;case"ANIM":(z=G.header).bgcolor=f(O,H),C=H+4,z.loop_count=u(O,C),C+=2;break;case"ANMF":var D,z;(z=G.frames[I]={}).offset_x=2*h(O,H),H+=3,z.offset_y=2*h(O,H),H+=3,z.width=1+h(O,H),H+=3,z.height=1+h(O,H),H+=3,z.duration=h(O,H),H+=3,D=O[H++],z.dispose=1&D,z.blend=D>>1&1}E!="ANMF"&&(H+=A)}return G}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,x=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],p=[b.canvas_width];for(var _=0;_<x.length&&x[_].blend!=0;_++);}var M=x[0],U=m.WebPDecodeRGBA(v,M.src_off,M.src_size,p,d);M.rgba=U,M.imgwidth=p[0],M.imgheight=d[0];for(var L=0;L<p[0]*d[0]*4;L++)g[L]=U[L];return this.width=p,this.height=d,this.data=g,this}(function(e){var t,r,n,i,s,o,a,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=P;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(B){Z=!!B}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(B){te=!!B}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(B){isNaN(B)||(q=B)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(B){isNaN(B)||($=B)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(B){var ne;typeof B=="number"?ne=[B,B,B,B]:((ne=new Array(4))[0]=B[0],ne[1]=B.length>=2?B[1]:ne[0],ne[2]=B.length>=3?B[2]:ne[0],ne[3]=B.length>=4?B[3]:ne[1]),c.margin=ne}});var N=!1;Object.defineProperty(this,"autoPaging",{get:function(){return N},set:function(B){N=B}});var T=0;Object.defineProperty(this,"lastBreak",{get:function(){return T},set:function(B){T=B}});var V=[];Object.defineProperty(this,"pageBreaks",{get:function(){return V},set:function(B){V=B}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(B){B instanceof u&&(c=B)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(B){c.path=B}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(B){J=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var ne;ne=f(B),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var ne=f(B);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var re=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(B){re=null,se=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var ne;if(this.ctx.font=B,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(B))!==null){var ee=ne[1];ne[2];var F=ne[3],W=ne[4];ne[5];var Y=ne[6],ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(W)[2];W=Math.floor(ae==="px"?parseFloat(W)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat(W)*this.pdf.getFontSize():parseFloat(W)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(W);var ce=function(Je){var qe,pt,$e=[],Ue=Je.trim();if(Ue==="")return kx;if(Ue in Q7)return[Q7[Ue]];for(;Ue!=="";){switch(pt=null,qe=(Ue=tA(Ue)).charAt(0)){case'"':case"'":pt=fY(Ue.substring(1),qe);break;default:pt=pY(Ue)}if(pt===null||($e.push(pt[0]),(Ue=tA(pt[1]))!==""&&Ue.charAt(0)!==","))return kx;Ue=Ue.replace(/^,/,"")}return $e}(Y);if(this.fontFaces){var le=function(Je,qe){if(re===null){var pt=function($e){var Ue=[];return Object.keys($e).forEach(function(Ke){$e[Ke].forEach(function(rt){var Ze=null;switch(rt){case"bold":Ze={family:Ke,weight:"bold"};break;case"italic":Ze={family:Ke,style:"italic"};break;case"bolditalic":Ze={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Ke}}Ze!==null&&(Ze.ref={name:Ke,style:rt},Ue.push(Ze))})}),Ue}(Je.getFontList());re=function($e){for(var Ue={},Ke=0;Ke<$e.length;++Ke){var rt=Ex($e[Ke]),Ze=rt.family,Et=rt.stretch,wt=rt.style,bt=rt.weight;Ue[Ze]=Ue[Ze]||{},Ue[Ze][Et]=Ue[Ze][Et]||{},Ue[Ze][Et][wt]=Ue[Ze][Et][wt]||{},Ue[Ze][Et][wt][bt]=rt}return Ue}(pt.concat(qe))}return re}(this.pdf,this.fontFaces),de=ce.map(function(Je){return{family:Je,stretch:"normal",weight:F,style:ee}}),me=function(Je,qe,pt){for(var $e=(pt=pt||{}).defaultFontFamily||"times",Ue=Object.assign({},hY,pt.genericFontFamilies||{}),Ke=null,rt=null,Ze=0;Ze<qe.length;++Ze)if(Ue[(Ke=Ex(qe[Ze])).family]&&(Ke.family=Ue[Ke.family]),Je.hasOwnProperty(Ke.family)){rt=Je[Ke.family];break}if(!(rt=rt||Je[$e]))throw new Error("Could not find a font-family for the rule '"+eA(Ke)+"' and default family '"+$e+"'.");if(rt=function(Et,wt){if(wt[Et])return wt[Et];var bt=f4[Et],Wt=bt<=f4.normal?-1:1,_t=J7(wt,VM,bt,Wt);if(!_t)throw new Error("Could not find a matching font-stretch value for "+Et);return _t}(Ke.stretch,rt),rt=function(Et,wt){if(wt[Et])return wt[Et];for(var bt=qM[Et],Wt=0;Wt<bt.length;++Wt)if(wt[bt[Wt]])return wt[bt[Wt]];throw new Error("Could not find a matching font-style for "+Et)}(Ke.style,rt),!(rt=function(Et,wt){if(wt[Et])return wt[Et];if(Et===400&&wt[500])return wt[500];if(Et===500&&wt[400])return wt[400];var bt=dY[Et],Wt=J7(wt,GM,bt,Et<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+Et);return Wt}(Ke.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+eA(Ke)+"'.");return rt}(le,de);this.pdf.setFont(me.ref.name,me.ref.style)}else{var ge="";(F==="bold"||parseInt(F,10)>=700||ee==="bold")&&(ge="bold"),ee==="italic"&&(ge+="italic"),ge.length===0&&(ge="normal");for(var ke="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},je=0;je<ce.length;je++){if(this.pdf.internal.getFont(ce[je],ge,{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[je];break}if(ge==="bolditalic"&&this.pdf.internal.getFont(ce[je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=ce[je],ge="bold";else if(this.pdf.internal.getFont(ce[je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[je],ge="normal";break}}if(ke===""){for(var We=0;We<ce.length;We++)if(Re[ce[We]]){ke=Re[ce[We]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};h.prototype.setLineDash=function(P){this.lineDash=P},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){x.call(this,"fill",!1)},h.prototype.stroke=function(){x.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(P,K)},h.prototype.closePath=function(){var P=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&an(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){P=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},h.prototype.lineTo=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},h.prototype.quadraticCurveTo=function(P,K,Z,te){if(isNaN(Z)||isNaN(te)||isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(Z,te)),$=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"qct",x1:$.x,y1:$.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.bezierCurveTo=function(P,K,Z,te,q,$){if(isNaN(q)||isNaN($)||isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var N=this.ctx.transform.applyToPoint(new o(q,$)),T=this.ctx.transform.applyToPoint(new o(P,K)),V=this.ctx.transform.applyToPoint(new o(Z,te));this.path.push({type:"bct",x1:T.x,y1:T.y,x2:V.x,y2:V.y,x:N.x,y:N.y}),this.ctx.lastPoint=new o(N.x,N.y)},h.prototype.arc=function(P,K,Z,te,q,$){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te)||isNaN(q))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var N=this.ctx.transform.applyToPoint(new o(P,K));P=N.x,K=N.y;var T=this.ctx.transform.applyToPoint(new o(0,Z)),V=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(T.x-V.x,2)+Math.pow(T.y-V.y,2))}Math.abs(q-te)>=2*Math.PI&&(te=0,q=2*Math.PI),this.path.push({type:"arc",x:P,y:K,radius:Z,startAngle:te,endAngle:q,counterclockwise:$})},h.prototype.arcTo=function(P,K,Z,te,q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,K),this.lineTo(P+Z,K),this.lineTo(P+Z,K+te),this.lineTo(P,K+te),this.lineTo(P,K),this.lineTo(P+Z,K),this.lineTo(P,K)},h.prototype.fillRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,K,Z,te),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},h.prototype.strokeRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(P,K,Z,te),this.stroke())},h.prototype.clearRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,K,Z,te))},h.prototype.save=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},h.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(P){var K,Z,te,q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))K=0,Z=0,te=0,q=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if($!==null)K=parseInt($[1]),Z=parseInt($[2]),te=parseInt($[3]),q=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)K=parseInt($[1]),Z=parseInt($[2]),te=parseInt($[3]),q=parseFloat($[4]);else{if(q=1,typeof P=="string"&&P.charAt(0)!=="#"){var N=new BM(P);P=N.ok?N.toHex():"#000000"}P.length===4?(K=P.substring(1,2),K+=K,Z=P.substring(2,3),Z+=Z,te=P.substring(3,4),te+=te):(K=P.substring(1,3),Z=P.substring(3,5),te=P.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),te=parseInt(te,16)}}return{r:K,g:Z,b:te,a:q,style:P}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(P,K,Z,te){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!d.call(this)){var q=A(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;I.call(this,{text:P,x:K,y:Z,scale:$,angle:q,align:this.textAlign,maxWidth:te})}},h.prototype.strokeText=function(P,K,Z,te){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){te=isNaN(te)?void 0:te;var q=A(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;I.call(this,{text:P,x:K,y:Z,scale:$,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:te})}},h.prototype.measureText=function(P){if(typeof P!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,te=K.internal.getFontSize(),q=K.getStringUnitWidth(P)*te/K.internal.scaleFactor;return new function($){var N=($=$||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return N}}),this}({width:q*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(P,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(P){if(isNaN(P))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.translate=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,P,K);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(P,K,Z,te,q,$){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te)||isNaN(q)||isNaN($))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var N=new l(P,K,Z,te,q,$);this.ctx.transform=this.ctx.transform.multiply(N)},h.prototype.setTransform=function(P,K,Z,te,q,$){P=isNaN(P)?1:P,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,te=isNaN(te)?1:te,q=isNaN(q)?0:q,$=isNaN($)?0:$,this.ctx.transform=new l(P,K,Z,te,q,$)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(P,K,Z,te,q,$,N,T,V){var J=this.pdf.getImageProperties(P),re=1,se=1,B=1,ne=1;te!==void 0&&T!==void 0&&(B=T/te,ne=V/q,re=J.width/te*T/te,se=J.height/q*V/q),$===void 0&&($=K,N=Z,K=0,Z=0),te!==void 0&&T===void 0&&(T=te,V=q),te===void 0&&T===void 0&&(T=J.width,V=J.height);for(var ee,F=this.ctx.transform.decompose(),W=A(F.rotate.shx),Y=new l,ae=(Y=(Y=(Y=Y.multiply(F.translate)).multiply(F.skew)).multiply(F.scale)).applyToRectangle(new a($-K*B,N-Z*ne,te*re,q*se)),ce=m.call(this,ae),le=[],de=0;de<ce.length;de+=1)le.indexOf(ce[de])===-1&&le.push(ce[de]);if(b(le),this.autoPaging)for(var me=le[0],ge=le[le.length-1],ke=me;ke<ge+1;ke++){this.pdf.setPage(ke);var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=ke===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=ke===1?0:We+(ke-2)*Je;if(this.ctx.clip_path.length!==0){var pt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ee,this.posX+this.margin[3],-qe+je+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=pt}var $e=JSON.parse(JSON.stringify(ae));$e=y([$e],this.posX+this.margin[3],-qe+je+this.ctx.prevPageLastElemOffset)[0];var Ue=(ke>me||ke<ge)&&g.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Je,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,W),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,W)};var m=function(P,K,Z){var te=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":te.push(Math.floor((P.y+q)/Z)+1);break;case"arc":te.push(Math.floor((P.y+q-P.radius)/Z)+1),te.push(Math.floor((P.y+q+P.radius)/Z)+1);break;case"qct":var $=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);te.push(Math.floor(($.y+q)/Z)+1),te.push(Math.floor(($.y+$.h+q)/Z)+1);break;case"bct":var N=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);te.push(Math.floor((N.y+q)/Z)+1),te.push(Math.floor((N.y+N.h+q)/Z)+1);break;case"rect":te.push(Math.floor((P.y+q)/Z)+1),te.push(Math.floor((P.y+P.h+q)/Z)+1)}for(var T=0;T<te.length;T+=1)for(;this.pdf.internal.getNumberOfPages()<te[T];)v.call(this);return te},v=function(){var P=this.fillStyle,K=this.strokeStyle,Z=this.font,te=this.lineCap,q=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=K,this.font=Z,this.lineCap=te,this.lineWidth=q,this.lineJoin=$},y=function(P,K,Z){for(var te=0;te<P.length;te++)switch(P[te].type){case"bct":P[te].x2+=K,P[te].y2+=Z;case"qct":P[te].x1+=K,P[te].y1+=Z;default:P[te].x+=K,P[te].y+=Z}return P},b=function(P){return P.sort(function(K,Z){return K-Z})},x=function(P,K){for(var Z,te,q=this.fillStyle,$=this.strokeStyle,N=this.lineCap,T=this.lineWidth,V=Math.abs(T*this.ctx.transform.scaleX),J=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),se=JSON.parse(JSON.stringify(this.path)),B=[],ne=0;ne<se.length;ne++)if(se[ne].x!==void 0)for(var ee=m.call(this,se[ne]),F=0;F<ee.length;F+=1)B.indexOf(ee[F])===-1&&B.push(ee[F]);for(var W=0;W<B.length;W++)for(;this.pdf.internal.getNumberOfPages()<B[W];)v.call(this);if(b(B),this.autoPaging)for(var Y=B[0],ae=B[B.length-1],ce=Y;ce<ae+1;ce++){this.pdf.setPage(ce),this.fillStyle=q,this.strokeStyle=$,this.lineCap=N,this.lineWidth=V,this.lineJoin=J;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=ce===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=ce===1?0:me+(ce-2)*ge;if(this.ctx.clip_path.length!==0){var Re=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-ke+de+this.ctx.prevPageLastElemOffset),_.call(this,P,!0),this.path=Re}if(te=JSON.parse(JSON.stringify(re)),this.path=y(te,this.posX+this.margin[3],-ke+de+this.ctx.prevPageLastElemOffset),K===!1||ce===0){var je=(ce>Y||ce<ae)&&g.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,ge,null).clip().discardPath()),_.call(this,P,K),je&&this.pdf.restoreGraphicsState()}this.lineWidth=T}else this.lineWidth=V,_.call(this,P,K),this.lineWidth=T;this.path=re},_=function(P,K){if((P!=="stroke"||K||!p.call(this))&&(P==="stroke"||K||!d.call(this))){for(var Z,te,q=[],$=this.path,N=0;N<$.length;N++){var T=$[N];switch(T.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:T,deltas:[],abs:[]});break;case"lt":var V=q.length;if($[N-1]&&!isNaN($[N-1].x)&&(Z=[T.x-$[N-1].x,T.y-$[N-1].y],V>0)){for(;V>=0;V--)if(q[V-1].close!==!0&&q[V-1].begin!==!0){q[V-1].deltas.push(Z),q[V-1].abs.push(T);break}}break;case"bct":Z=[T.x1-$[N-1].x,T.y1-$[N-1].y,T.x2-$[N-1].x,T.y2-$[N-1].y,T.x-$[N-1].x,T.y-$[N-1].y],q[q.length-1].deltas.push(Z);break;case"qct":var J=$[N-1].x+2/3*(T.x1-$[N-1].x),re=$[N-1].y+2/3*(T.y1-$[N-1].y),se=T.x+2/3*(T.x1-T.x),B=T.y+2/3*(T.y1-T.y),ne=T.x,ee=T.y;Z=[J-$[N-1].x,re-$[N-1].y,se-$[N-1].x,B-$[N-1].y,ne-$[N-1].x,ee-$[N-1].y],q[q.length-1].deltas.push(Z);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(T)}}te=K?null:P==="stroke"?"stroke":"fill";for(var F=!1,W=0;W<q.length;W++)if(q[W].arc)for(var Y=q[W].abs,ae=0;ae<Y.length;ae++){var ce=Y[ae];ce.type==="arc"?L.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,K,!F):R.call(this,ce.x,ce.y),F=!0}else if(q[W].close===!0)this.pdf.internal.out("h"),F=!1;else if(q[W].begin!==!0){var le=q[W].start.x,de=q[W].start.y;S.call(this,q[W].deltas,le,de),F=!0}te&&O.call(this,te),K&&H.call(this)}},M=function(P){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Z;case"top":return P+K-Z;case"hanging":return P+K-2*Z;case"middle":return P+K/2-Z;default:return P}},U=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(K,Z){this.colorStops.push([K,Z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(P,K,Z,te,q,$,N,T,V){for(var J=E.call(this,Z,te,q,$),re=0;re<J.length;re++){var se=J[re];re===0&&(V?G.call(this,se.x1+P,se.y1+K):R.call(this,se.x1+P,se.y1+K)),j.call(this,P,K,se.x2,se.y2,se.x3,se.y3,se.x4,se.y4)}T?H.call(this):O.call(this,N)},O=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(P,K){this.pdf.internal.out(r(P)+" "+n(K)+" m")},I=function(P){var K;switch(P.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(P.text),te=M.call(this,P.y),q=U.call(this,te)-Z.h,$=this.ctx.transform.applyToPoint(new o(P.x,te)),N=this.ctx.transform.decompose(),T=new l;T=(T=(T=T.multiply(N.translate)).multiply(N.skew)).multiply(N.scale);for(var V,J,re,se=this.ctx.transform.applyToRectangle(new a(P.x,te,Z.w,Z.h)),B=T.applyToRectangle(new a(P.x,q,Z.w,Z.h)),ne=m.call(this,B),ee=[],F=0;F<ne.length;F+=1)ee.indexOf(ne[F])===-1&&ee.push(ne[F]);if(b(ee),this.autoPaging)for(var W=ee[0],Y=ee[ee.length-1],ae=W;ae<Y+1;ae++){this.pdf.setPage(ae);var ce=ae===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[2],me=de-this.margin[0],ge=this.pdf.internal.pageSize.width-this.margin[1],ke=ge-this.margin[3],Re=ae===1?0:le+(ae-2)*me;if(this.ctx.clip_path.length!==0){var je=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-1*Re+ce),_.call(this,"fill",!0),this.path=je}var We=y([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-Re+ce+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale);var Je=this.autoPaging!=="text";if(Je||We.y+We.h<=de){if(Je||We.y>=ce&&We.x<=ge){var qe=Je?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ge-We.x)[0],pt=y([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Re+ce+this.ctx.prevPageLastElemOffset)[0],$e=Je&&(ae>W||ae<Y)&&g.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,me,null).clip().discardPath()),this.pdf.text(qe,pt.x,pt.y,{angle:P.angle,align:K,renderingMode:P.renderingMode}),$e&&this.pdf.restoreGraphicsState()}}else We.y<de&&(this.ctx.prevPageLastElemOffset+=de-We.y);P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=re)}else P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale),this.pdf.text(P.text,$.x+this.posX,$.y+this.posY,{angle:P.angle,align:K,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=re)},R=function(P,K,Z,te){Z=Z||0,te=te||0,this.pdf.internal.out(r(P+Z)+" "+n(K+te)+" l")},S=function(P,K,Z){return this.pdf.lines(P,K,Z,null,null)},j=function(P,K,Z,te,q,$,N,T){this.pdf.internal.out([t(i(Z+P)),t(s(te+K)),t(i(q+P)),t(s($+K)),t(i(N+P)),t(s(T+K)),"c"].join(" "))},E=function(P,K,Z,te){for(var q=2*Math.PI,$=Math.PI/2;K>Z;)K-=q;var N=Math.abs(Z-K);N<q&&te&&(N=q-N);for(var T=[],V=te?-1:1,J=K;N>1e-5;){var re=J+V*Math.min(N,$);T.push(k.call(this,P,J,re)),N-=Math.abs(re-J),J=re}return T},k=function(P,K,Z){var te=(Z-K)/2,q=P*Math.cos(te),$=P*Math.sin(te),N=q,T=-$,V=N*N+T*T,J=V+N*q+T*$,re=4/3*(Math.sqrt(2*V*J)-J)/(N*$-T*q),se=N-re*T,B=T+re*N,ne=se,ee=-B,F=te+K,W=Math.cos(F),Y=Math.sin(F);return{x1:P*Math.cos(K),y1:P*Math.sin(K),x2:se*W-B*Y,y2:se*Y+B*W,x3:ne*W-ee*Y,y3:ne*Y+ee*W,x4:P*Math.cos(Z),y4:P*Math.sin(Z)}},A=function(P){return 180*P/Math.PI},C=function(P,K,Z,te,q,$){var N=P+.5*(Z-P),T=K+.5*(te-K),V=q+.5*(Z-q),J=$+.5*(te-$),re=Math.min(P,q,N,V),se=Math.max(P,q,N,V),B=Math.min(K,$,T,J),ne=Math.max(K,$,T,J);return new a(re,B,se-re,ne-B)},D=function(P,K,Z,te,q,$,N,T){var V,J,re,se,B,ne,ee,F,W,Y,ae,ce,le,de,me=Z-P,ge=te-K,ke=q-Z,Re=$-te,je=N-q,We=T-$;for(J=0;J<41;J++)W=(ee=(re=P+(V=J/40)*me)+V*((B=Z+V*ke)-re))+V*(B+V*(q+V*je-B)-ee),Y=(F=(se=K+V*ge)+V*((ne=te+V*Re)-se))+V*(ne+V*($+V*We-ne)-F),J==0?(ae=W,ce=Y,le=W,de=Y):(ae=Math.min(ae,W),ce=Math.min(ce,Y),le=Math.max(le,W),de=Math.max(de,Y));return new a(Math.round(ae),Math.round(ce),Math.round(le-ae),Math.round(de-ce))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,K,Z=(P=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Dt.API),function(e){var t=function(o){var a,l,c,u,h,f,d,p,g,m;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(f=(h=((h=((h=((h=(h-(m=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)-(d=h%85))/85)%85,l.push(f+33,d+33,p+33,g+33,m+33)):l.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,c,u,h,f=String,d="length",p=255,g="charCodeAt",m="slice",v="replace";for(o[m](-2),o=o[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[m](o[d]%5||5))[d];h>u;u+=5)l=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,b){for(var x=b;x>0;x--)y.pop()}(c,a[d]),f.fromCharCode.apply(f,c)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=e4(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Dt.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,f=0,d=function(p){var g=p.length,m=[],v=String.fromCharCode;for(f=0;f<g;f+=1)m.push(v(255&p.charCodeAt(f)));return m.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(i,s,o)}catch{}return a}(t,r,n)},e.loadImageFile=e.loadFile}(Dt.API),function(e){function t(){return(cr.html2canvas?Promise.resolve(cr.html2canvas):Zl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(cr.DOMPurify?Promise.resolve(cr.DOMPurify):Zl(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=an(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var p=u[d],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,h).then(function(f){return c.updateProgress(1),f})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=c.call(h,a,l);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Dt.getPageSize=function(a,l,c){if(an(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,f=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var p,g=0,m=0;if(d.hasOwnProperty(f))g=d[f][1]/h,m=d[f][0]/h;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",m>g&&(p=m,m=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Ex):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Dt.API),Dt.API.addJS=function(e){return nA=e,this.internal.events.subscribe("postPutResources",function(){G1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(G1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){G1!==void 0&&rA!==void 0&&this.internal.out("/Names <</JavaScript "+G1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=r.internal.newObject();u.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Dt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var f,d=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,g={width:0,height:0,numcomponents:1},m=4;m<p;m+=2){if(m+=d,t.indexOf(h.charCodeAt(m+1))!==-1){f=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),g={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:f,numcomponents:h.charCodeAt(m+9)};break}d=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(Dt.API),Dt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=YZ(e,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(L){for(var O=L.width,H=L.height,G=L.data,I=L.palette,R=L.depth,S=!1,j=[],E=[],k=void 0,A=!1,C=0,D=0;D<I.length;D++){var z=YN(I[D],4),P=z[0],K=z[1],Z=z[2],te=z[3];j.push(P,K,Z),te!=null&&(te===0?(C++,E.length<1&&E.push(D)):te<255&&(A=!0))}if(A||C>1){S=!0,E=void 0;var q=O*H;k=new Uint8Array(q);for(var $=new DataView(G.buffer),N=0;N<q;N++){var T=Nx($,N,R),V=YN(I[T],4)[3];k[N]=V}}else C===0&&(E=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:S?8:void 0,colorBytes:G,alphaBytes:k,needSMask:S,palette:j,mask:E}}(s):l===2||l===4?function(L){for(var O=L.data,H=L.width,G=L.height,I=L.channels,R=L.depth,S=I===2?"DeviceGray":"DeviceRGB",j=I-1,E=H*G,k=j,A=E*k,C=1*E,D=Math.ceil(A*R/8),z=Math.ceil(C*R/8),P=new Uint8Array(D),K=new Uint8Array(z),Z=new DataView(O.buffer),te=new DataView(P.buffer),q=new DataView(K.buffer),$=!1,N=0;N<E;N++){for(var T=N*I,V=0;V<k;V++)hA(te,Nx(Z,T+V,R),N*k+V,R);var J=Nx(Z,T+k,R);J<(1<<R)-1&&($=!0),hA(q,J,1*N,R)}return{colorSpace:S,colorsPerPixel:j,sMaskBitsPerComponent:$?R:void 0,colorBytes:P,alphaBytes:K,needSMask:$}}(s):function(L){var O=L.data,H=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(G){for(var I=G.length,R=new Uint8Array(2*I),S=new DataView(R.buffer,R.byteOffset,R.byteLength),j=0;j<I;j++)S.setUint16(2*j,G[j],!1);return R}(O):O,needSMask:!1}}(s);var h,f,d,p=i,g=p.colorSpace,m=p.colorsPerPixel,v=p.sMaskBitsPerComponent,y=p.colorBytes,b=p.alphaBytes,x=p.needSMask,_=p.palette,M=p.mask,U=null;return n!==Dt.API.image_compression.NONE&&typeof e4=="function"?(U=function(L){var O;switch(L){case Dt.API.image_compression.FAST:O=11;break;case Dt.API.image_compression.MEDIUM:O=13;break;case Dt.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(U," /Colors ").concat(m," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=oA(y,Math.ceil(o*m*u/8),m,u,n),x&&(d=oA(b,Math.ceil(o*v/8),1,v,n))):(h=void 0,f=void 0,e=y,x&&(d=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:e,index:t,filter:h,decodeParameters:f,transparency:M,palette:_,sMask:d,predictor:U,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new yY(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Ax(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Dt.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){pn.log("bit decode error:"+r)}},lo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},lo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},lo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},lo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},lo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new lo(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Ax(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Dt.API),pA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new pA(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Ax(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Dt.API),Dt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=n[c],h=n[c+1],f=n[c+2],d=n[c+3];s[a++]=u,s[a++]=h,s[a++]=f,o[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Dt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$h=Dt.API,K1=$h.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,f=0,d=e.length,p=0,g=a[0]||l,m=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=h&&an(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,m.push((a[n]||g)/l+f)),p=n;return m},iA=$h.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return $h.processArabic&&(e=$h.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:K1.apply(this,arguments).reduce(function(s,o){return s+o},0)},sA=function(e,t,r,n){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<r;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>n&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},aA=function(e,t,r){r||(r={});var n,i,s,o,a,l,c,u=[],h=[u],f=r.textIndent||0,d=0,p=0,g=e.split(" "),m=K1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(x){(x=x.split(/\s*\n/)).length>1?y=y.concat(x.map(function(_,M){return(M&&_.length?`
`:"")+_})):y.push(x[0])}),g=y,l=iA.apply(this,[v,r])}for(s=0,o=g.length;s<o;s++){var b=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),b=1),f+d+(p=(i=K1.apply(this,[n,r])).reduce(function(x,_){return x+_},0))>t||b){if(p>t){for(a=sA.apply(this,[n,i,t-(f+d),t]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);p=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(x,_){return x+_},0)}else u=[n];h.push(u),f=p+l,d=m}else u.push(n),f+=d+p,d=m}return c=l?function(x,_){return(_?v:"")+x.join(" ")}:function(x){return x.join(" ")},h.map(c)},$h.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(aA.apply(this,[n[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=e.__fontmetrics__.compress=function(f){var d,p,g,m,v=["{"];for(var y in f){if(d=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=o(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof d=="number")d<0?(g=o(d).slice(3),m="-"):(g=o(d).slice(2),m=""),g=m+g.slice(0,-1)+i[g.slice(-1)];else{if(an(d)!=="object")throw new Error("Don't know what to do with value type "+an(d)+".");g=a(d)}v.push(p+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,p,g,m,v={},y=1,b=v,x=[],_="",M="",U=f.length-1,L=1;L<U;L+=1)(m=f[L])=="'"?d?(g=d.join(""),d=void 0):d=[]:d?d.push(m):m=="{"?(x.push([b,g]),b={},g=void 0):m=="}"?((p=x.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?n.hasOwnProperty(m)?(_+=n[m],g=parseInt(_,16)*y,y=1,_=""):_+=m:n.hasOwnProperty(m)?(M+=n[m],b[g]=parseInt(M,16)*y,y=1,g=void 0,M=""):M+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var d=f.font,p=h.Unicode[d.postScriptName];p&&(d.metadata.Unicode={},d.metadata.Unicode.widths=p.widths,d.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[d.postScriptName];g&&(d.metadata.Unicode.encoding=g,d.encoding=g.codePages[0])}])}(Dt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Gv(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Dt),Dt.API.addSvgAsImage=function(e,t,r,n,i,s,o,a){if(isNaN(t)||isNaN(r))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(cr.canvg?Promise.resolve(cr.canvg):Zl(()=>import("./index.es-Cm6FI5AR.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,o,a)})},Dt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Dt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function f(p,g){var m,v=!1;for(m=0;m<p.length;m+=1)p[m]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=a.length;for(h=0;h<d;h+=1)r[a[h]].value=r[a[h]].defaultValue,r[a[h]].explicitSet=!1}if(an(e)==="object"){for(i in e)if(s=e[i],f(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Dt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,f=s.length;h<f;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(s){var o,a,l,c,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,f=(a=Object.keys(s).sort(function(d,p){return d-p})).length;h<f;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+rf(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+rf(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+rf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,f="",d=0;d<h.length;d++)f+=String.fromCharCode(h[d]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+rf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+rf(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},f=h.pdfEscape,d=h.activeFontKey,p=h.fonts,g=d,m="",v=0,y="",b=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(y=a,g=d,Array.isArray(a)&&(y=a[0]),v=0;v<y.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?m+=y[v]:m+="";var x="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?x=f(m,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(x=r(m,p[g])),h.isHex=!0,{text:x,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Dt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Dt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,a,l,c,u,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var x=function(G){var I=G.charCodeAt(),R=I>>8,S=g[R];return S!==void 0?h[256*S+(255&I)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},_=function(G){for(var I,R=0;R<G.length;R++){if((I=x(G.charAt(R)))==="L")return!1;if(I==="R")return!0}return!1},M=function(G,I,R,S){var j,E,k,A,C=I[S];switch(C){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(C="AN");break;case"AL":y=!0,C="R";break;case"WS":case"BN":C="N";break;case"CS":S<1||S+1>=I.length||(j=R[S-1])!=="EN"&&j!=="AN"||(E=I[S+1])!=="EN"&&E!=="AN"?C="N":y&&(E="AN"),C=E===j?E:"N";break;case"ES":C=(j=S>0?R[S-1]:"B")==="EN"&&S+1<I.length&&I[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&R[S-1]==="EN"){C="EN";break}if(y){C="N";break}for(k=S+1,A=I.length;k<A&&I[k]==="ET";)k++;C=k<A&&I[k]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(A=I.length,k=S+1;k<A&&I[k]==="NSM";)k++;if(k<A){var D=G[S],z=D>=1425&&D<=2303||D===64286;if(j=I[k],z&&(j==="R"||j==="AL")){C="R";break}}}C=S<1||(j=I[S-1])==="B"?"N":R[S-1];break;case"B":y=!1,i=!0,C=b;break;case"S":s=!0,C="N"}return C},U=function(G,I,R){var S=G.split("");return R&&L(S,R,{hiLevel:b}),S.reverse(),I&&I.reverse(),S.join("")},L=function(G,I,R){var S,j,E,k,A,C=-1,D=G.length,z=0,P=[],K=b?d:f,Z=[];for(y=!1,i=!1,s=!1,j=0;j<D;j++)Z[j]=x(G[j]);for(E=0;E<D;E++){if(A=z,P[E]=M(G,Z,P,E),S=240&(z=K[A][p[P[E]]]),z&=15,I[E]=k=K[z][5],S>0)if(S===16){for(j=C;j<E;j++)I[j]=1;C=-1}else C=-1;if(K[z][6])C===-1&&(C=E);else if(C>-1){for(j=C;j<E;j++)I[j]=k;C=-1}Z[E]==="B"&&(I[E]=0),R.hiLevel|=k}s&&function(te,q,$){for(var N=0;N<$;N++)if(te[N]==="S"){q[N]=b;for(var T=N-1;T>=0&&te[T]==="WS";T--)q[T]=b}}(Z,I,D)},O=function(G,I,R,S,j){if(!(j.hiLevel<G)){if(G===1&&b===1&&!i)return I.reverse(),void(R&&R.reverse());for(var E,k,A,C,D=I.length,z=0;z<D;){if(S[z]>=G){for(A=z+1;A<D&&S[A]>=G;)A++;for(C=z,k=A-1;C<k;C++,k--)E=I[C],I[C]=I[k],I[k]=E,R&&(E=R[C],R[C]=R[k],R[k]=E);z=A}z++}}},H=function(G,I,R){var S=G.split(""),j={hiLevel:b};return R||(R=[]),L(S,R,j),function(E,k,A){if(A.hiLevel!==0&&u)for(var C,D=0;D<E.length;D++)k[D]===1&&(C=m.indexOf(E[D]))>=0&&(E[D]=m[C+1])}(S,R,j),O(2,S,I,R,j),O(1,S,I,R,j),S.join("")};return this.__bidiEngine__.doBidiReorder=function(G,I,R){if(function(j,E){if(E)for(var k=0;k<j.length;k++)E[k]=k;a===void 0&&(a=_(j)),c===void 0&&(c=_(j))}(G,I),o||!l||c)if(o&&l&&a^c)b=a?1:0,G=U(G,I,R);else if(!o&&l&&c)b=a?1:0,G=H(G,I,R),G=U(G,I);else if(!o||a||l||c){if(o&&!l&&a^c)G=U(G,I),a?(b=0,G=H(G,I,R)):(b=1,G=H(G,I,R),G=U(G,I));else if(o&&a&&!l&&c)b=1,G=H(G,I,R),G=U(G,I);else if(!o&&!l&&a^c){var S=u;a?(b=1,G=H(G,I,R),b=0,u=!1,G=H(G,I,R),u=S):(b=0,G=H(G,I,R),G=U(G,I),b=1,u=!1,G=H(G,I,R),u=S,G=U(G,I))}}else b=0,G=H(G,I,R);else b=a?1:0,G=H(G,I,R);return G},this.__bidiEngine__.setOptions=function(G){G&&(o=G.isInputVisual,l=G.isOutputVisual,a=G.isInputRtl,c=G.isOutputRtl,u=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new xu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new OY(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new bY(this.contents),this.head=new xY(this),this.name=new NY(this),this.cmap=new XM(this),this.toUnicode={},this.hhea=new _Y(this),this.maxp=new AY(this),this.hmtx=new CY(this),this.post=new EY(this),this.os2=new SY(this),this.loca=new PY(this),this.glyf=new jY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ao,xu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,a,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),bY=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,a,l,c,u,h,f,d,p,g;for(g in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),o=Math.floor(h/l),u=16*d-h,(i=new xu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*d,c=i.pos+s,a=null,p=[],r)for(f=r[g],i.writeString(g),i.writeInt(e(f)),i.writeInt(c),i.writeInt(f.length),p=p.concat(f),g==="head"&&(a=c),c+=f.length;c%4;)p.push(0),c++;return i.write(p),n=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=ZM.call(r);r.length%4;)r.push(0);for(s=new xu(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),wY={}.hasOwnProperty,dl=function(e,t){for(var r in t)wY.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ao=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new xu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),mA=function(){function e(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),f=d/2,t.pos+=6,s=function(){var x,_;for(_=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)_.push(t.readUInt16());return _}(),t.pos+=2,g=function(){var x,_;for(_=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)_.push(t.readUInt16());return _}(),c=function(){var x,_;for(_=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)_.push(t.readUInt16());return _}(),u=function(){var x,_;for(_=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,a=function(){var x,_;for(_=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)_.push(t.readUInt16());return _}(),l=v=0,b=s.length;v<b;l=++v)for(m=s[l],n=y=p=g[l];p<=m?y<=m:y>=m;n=p<=m?++y:--y)u[l]===0?o=n+c[l]:(o=a[u[l]/2+(n-p)-(f-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,b,x,_,M,U,L,O,H,G,I,R,S,j,E,k,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re;switch(S=new xu,o=Object.keys(t).sort(function(se,B){return se-B}),r){case"macroman":for(g=0,m=function(){var se=[];for(p=0;p<256;++p)se.push(0);return se}(),y={0:0},s={},j=0,C=o.length;j<C;j++)y[T=t[i=o[j]]]==null&&(y[T]=++g),s[i]={old:t[i],new:y[t[i]]},m[i]=y[t[i]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(m),{charMap:s,subtable:S.data,maxGlyphID:g+1};case"unicode":for(I=[],h=[],b=0,y={},n={},v=c=null,E=0,D=o.length;E<D;E++)y[_=t[i=o[E]]]==null&&(y[_]=++b),n[i]={old:_,new:y[_]},a=y[_]-i,v!=null&&a===c||(v&&h.push(v),I.push(i),c=a),v=i;for(v&&h.push(v),h.push(65535),I.push(65535),H=2*(O=I.length),L=2*Math.pow(Math.log(O)/Math.LN2,2),f=Math.log(L/2)/Math.LN2,U=2*O-L,l=[],M=[],d=[],p=k=0,z=I.length;k<z;p=++k){if(G=I[p],u=h[p],G===65535){l.push(0),M.push(0);break}if(G-(R=n[G].new)>=32768)for(l.push(0),M.push(2*(d.length+O-p)),i=A=G;G<=u?A<=u:A>=u;i=G<=u?++A:--A)d.push(n[i].new);else l.push(R-G),M.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*O+2*d.length),S.writeUInt16(0),S.writeUInt16(H),S.writeUInt16(L),S.writeUInt16(f),S.writeUInt16(U),$=0,P=h.length;$<P;$++)i=h[$],S.writeUInt16(i);for(S.writeUInt16(0),N=0,K=I.length;N<K;N++)i=I[N],S.writeUInt16(i);for(V=0,Z=l.length;V<Z;V++)a=l[V],S.writeUInt16(a);for(J=0,te=M.length;J<te;J++)x=M[J],S.writeUInt16(x);for(re=0,q=d.length;re<q;re++)g=d[re],S.writeUInt16(g);return{charMap:n,subtable:S.data,maxGlyphID:b+1}}},e}(),XM=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new mA(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=mA.encode(t,r),(i=new xu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),_Y=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),SY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),EY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),kY=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},NY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,o,a,l,c,u,h,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),a=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=u=0,h=n.length;u<h;s=++u)i=n[s],t.pos=i.offset,c=t.readString(i.length),o=new kY(c,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),AY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),CY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,o,a,l;for(t.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,h,f;for(f=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ZM=[].slice,jY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,o,a,l,c,u,h;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(a=new xu(r.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=o===-1?new RY(a,c,h,l,u):new TY(a,o,c,h,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,o,a,l;for(o=[],s=[],a=0,l=r.length;a<l;a++)i=t[r[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),TY=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),RY=function(){function e(t,r,n,i,s){var o,a;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new xu(ZM.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),PY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Ao),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),OY=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v;for(i in n=XM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},v=n.charMap)d[(l=v[i]).old]=l.new;for(p in f=n.maxGlyphID,o)p in d||(d[p]=f++);return u=function(y){var b,x;for(b in x={},y)x[y[b]]=b;return x}(d),h=Object.keys(u).sort(function(y,b){return y-b}),g=function(){var y,b,x;for(x=[],y=0,b=h.length;y<b;y++)a=h[y],x.push(u[a]);return x}(),s=this.font.glyf.encode(o,g,d),c=this.font.loca.encode(s.offsets,g),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Dt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const IY=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:Ot,AcroFormButton:Ti,AcroFormCheckBox:Qm,AcroFormChoiceField:$d,AcroFormComboBox:Wd,AcroFormEditBox:Ym,AcroFormListBox:Hd,AcroFormPasswordField:e0,AcroFormPushButton:Jm,AcroFormRadioButton:qd,AcroFormTextField:vu,GState:U0,ShadingPattern:Jc,TilingPattern:Id,default:Dt,jsPDF:Dt},Symbol.toStringTag,{value:"Module"}));function YM(e,t,r,n,i){n=n||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,h="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(u):e,f=h.length||1),r+=a*(2-s),n.valign==="middle"?r-=f/2*c:n.valign==="bottom"&&(r-=f*c),n.halign==="center"||n.halign==="right"){var d=a;if(n.halign==="center"&&(d*=.5),h&&f>=1){for(var p=0;p<h.length;p++)i.text(h[p],t-i.getStringUnitWidth(h[p])*d,r),r+=c;return i}t-=i.getStringUnitWidth(e)*d}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var gA={},Ef=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:gA=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,s){return this.jsPDFDocument.rect(t,r,n,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return gA||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),p4=function(e,t){return p4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},p4(e,t)};function JM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var QM=function(e){JM(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function MY(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function LY(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Hy(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function eL(e,t,r,n){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=tL(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function tL(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Fb(e,t){var r,n,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function rL(e,t){var r=Fb(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function DY(e,t,r,n,i){var s={},o=1.3333333333333333,a=Cx(t,function(b){return i.getComputedStyle(b).backgroundColor});a!=null&&(s.fillColor=a);var l=Cx(t,function(b){return i.getComputedStyle(b).color});l!=null&&(s.textColor=l);var c=FY(n,r);c&&(s.cellPadding=c);var u="borderTopColor",h=o*r,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var d=(parseFloat(f)||0)/h;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=Cx(t,function(b){return i.getComputedStyle(b)[u]});p!=null&&(s.lineColor=p);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(s.fontSize=m/o);var v=BY(n);v&&(s.fontStyle=v);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(s.font=y),s}function BY(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Cx(e,t){var r=nL(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function nL(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:nL(e.parentElement,t):r}function FY(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(a){return parseInt(a||"0")/n}),o=Fb(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function iL(e,t,r,n,i){var s,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var a;typeof t=="string"?a=r.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],h=[],f=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:f};for(var d=0;d<a.rows.length;d++){var p=a.rows[d],g=(o=(s=p==null?void 0:p.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),m=zY(l,c,r,p,n,i);m&&(g==="thead"?u.push(m):g==="tfoot"?f.push(m):h.push(m))}return{head:u,body:h,foot:f}}function zY(e,t,r,n,i,s){for(var o=new QM(n),a=0;a<n.cells.length;a++){var l=n.cells[a],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=DY(e,l,t,c,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:UY(l)})}}var h=r.getComputedStyle(n);if(o.length>0&&(i||h.display!=="none"))return o}function UY(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function $Y(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ql(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function sL(e,t){var r=new Ef(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();$Y(i,n,t);var s=ql({},i,n,t),o;typeof window<"u"&&(o=window);var a=HY(i,n,t),l=WY(i,n,t),c=qY(r,s),u=GY(r,s,o);return{id:t.tableId,content:u,hooks:l,styles:a,settings:c}}function HY(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],h=r[l];n.columnStyles=ql({},c,u,h)}else{var f=[e,t,r],d=f.map(function(p){return p[l]||{}});n[l]=ql({},d[0],d[1],d[2])}},s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];i(a)}return n}function WY(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function qY(e,t){var r,n,i,s,o,a,l,c,u,h,f,d,p=Fb(t.margin,40/e.scaleFactor()),g=(r=VY(e,t.startY))!==null&&r!==void 0?r:p.top,m;t.showFoot===!0?m="everyPage":t.showFoot===!1?m="never":m=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var y=(s=t.useCss)!==null&&s!==void 0?s:!1,b=t.theme||(y?"plain":"striped"),x=!!t.horizontalPageBreak,_=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:y,theme:b,startY:g,margin:p,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:m,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=t.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:x,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function VY(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function GY(e,t,r){var n=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var a=iL(e,t.html,r,o,t.useCss)||{};n=a.head||n,i=a.body||n,s=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||KY(n,i,s);return{columns:l,head:n,body:i,foot:s}}function KY(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(n)?a=n[parseInt(s)]:a=n[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var m4=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),XY=function(e){JM(t,e);function t(r,n,i,s,o,a){var l=e.call(this,r,n,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return t}(m4),ZY=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,s,o){for(var a=0,l=r;a<l.length;a++){var c=l[a],u=new XY(t,this,n,i,s,o),h=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new m4(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new m4(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),aL=function(){function e(t,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof QM&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,s){var o=n.cells[s.index];if(!o)return 0;var a=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},e}(),oL=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Fb(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),YY=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var s=i[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function JY(e,t){QY(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=g4(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=g4(r,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),tJ(t),rJ(t,e),eJ(t)}function QY(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=rL(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,s,l,null);var h=c.padding("horizontal");c.contentWidth=Hy(c.text,c.styles,e)+h;var f=Hy(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=f+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function g4(e,t,r){for(var n=t,i=e.reduce(function(d,p){return d+p.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/i,l=n*a,c=o.width+l,u=r(o),h=c<u?u:c;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var f=e.filter(function(d){return t<0?d.width>r(d):!0});f.length&&(t=g4(f,t,r))}return t}function eJ(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var s=n[i],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=t[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=n.length-i,f=u.rowSpan>h?h:u.rowSpan;t[l.index]={cell:u,left:f,row:s}}}}}function tJ(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,s=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function rJ(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var s=i[n],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=vA(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=vA(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,u);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<f*c.rowSpan?r={height:f,count:c.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>s.height&&(s.height=f)}}r.count--}}function vA(e,t,r,n,i){return e.map(function(s){return nJ(s,t,r,n,i)})}function nJ(e,t,r,n,i){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Hy(e,r,n))return e;for(;t<Hy(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function lL(e,t){var r=new Ef(e),n=iJ(t,r.scaleFactor()),i=new ZY(t,n);return JY(r,i),r.applyStyles(r.userStyles),i}function iJ(e,t){var r=e.content,n=aJ(r.columns);if(r.head.length===0){var i=yA(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=yA(n,"foot");i&&r.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:n,head:jx("head",r.head,n,o,s,t),body:jx("body",r.body,n,o,s,t),foot:jx("foot",r.foot,n,o,s,t)}}function jx(e,t,r,n,i,s){var o={},a=t.map(function(l,c){for(var u=0,h={},f=0,d=0,p=0,g=r;p<g.length;p++){var m=g[p];if(o[m.index]==null||o[m.index].left===0)if(d===0){var v=void 0;Array.isArray(l)?v=l[m.index-f-u]:v=l[m.dataKey];var y={};typeof v=="object"&&!Array.isArray(v)&&(y=(v==null?void 0:v.styles)||{});var b=oJ(e,m,c,i,n,s,y),x=new oL(v,b,e);h[m.dataKey]=x,h[m.index]=x,d=x.colSpan-1,o[m.index]={left:x.rowSpan-1,times:d}}else d--,f++;else o[m.index].left--,d=o[m.index].times,u++}return new aL(l,c,e,h)});return a}function yA(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=sJ(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function sJ(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function aJ(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new YY(i,t,r)})}function oJ(e,t,r,n,i,s,o){var a=LY(n),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var c=ql({},a.table,a[e],i.styles,l),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},h=e==="body"?u:{},f=e==="body"&&r%2===0?ql({},a.alternateRow,i.alternateRowStyles):{},d=MY(s),p=ql({},d,c,f,h);return ql(p,o)}function lJ(e,t,r){var n;r===void 0&&(r={});var i=rL(e,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var d=t.columns.find(function(p){return p.dataKey===f||p.index===f});d&&!s.has(d.index)&&(s.set(d.index,!0),o.push(d.index),a.push(t.columns[d.index]),i-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(s.has(u)){u++;continue}var h=t.columns[u].wrappedWidth;if(c||i>=h)c=!1,o.push(u),a.push(t.columns[u]),i-=h;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function cJ(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=lJ(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function cL(e,t){var r=t.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=n+i.bottom+o;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(f,d){return f+d.height},0);a+=c}var u=new Ef(e);(r.pageBreak==="always"||r.startY!=null&&a>u.pageSize().height)&&(dL(u),s.y=i.top),t.callWillDrawPageHooks(u,s);var h=ql({},s);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?uJ(u,t,h,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(f){return sc(u,t,f,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(f,d){var p=d===t.body.length-1;Wy(u,t,f,p,h,s,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(f){return sc(u,t,f,s,t.columns)})),eL(u,t,h,s),t.callEndPageHooks(u,s),t.finalY=s.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function uJ(e,t,r,n){var i=cJ(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?t0(e,t,r,n,c.columns,!0):bA(e,t,n,c.columns),dJ(e,t,r,n,c.columns),Tx(e,t,n,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){e.applyStyles(e.userStyles);var u=a.columns;o>=0?t0(e,t,r,n,u,!0):bA(e,t,n,u),c=wA(e,t,o+1,n,u),Tx(e,t,n,u)}var h=c-o;i.slice(1).forEach(function(f){e.applyStyles(e.userStyles),t0(e,t,r,n,f.columns,!0),wA(e,t,o+1,n,f.columns,h),Tx(e,t,n,f.columns)}),o=c};o<t.body.length-1;)l()}function bA(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return sc(e,t,s,r,n)})}function dJ(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;Wy(e,t,s,a,r,n,i)})}function wA(e,t,r,n,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),a=-1;return t.body.slice(r,o).forEach(function(l,c){var u=r+c===t.body.length-1,h=uL(e,t,u,n);l.canEntireRowFit(h,i)&&(sc(e,t,l,n,i),a=r+c)}),a}function Tx(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return sc(e,t,s,r,n)})}function hJ(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/n);return Math.max(0,s)}function fJ(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=r.columns;o<a.length;o++){var l=a[o],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new oL(c.raw,c.styles,c.section);u=ql(u,c),u.text=[];var h=hJ(c,t,n);c.text.length>h&&(u.text=c.text.splice(h,c.text.length));var f=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(f,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(f,d),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var p=new aL(e.raw,-1,e.section,i,!0);p.height=s;for(var g=0,m=r.columns;g<m.length;g++){var l=m[g],u=p.cells[l.index];u&&(u.height=p.height);var c=e.cells[l.index];c&&(c.height=e.height)}return p}function pJ(e,t,r,n){var i=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,a=i-o;t.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>a;return h?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Wy(e,t,r,n,i,s,o){var a=uL(e,t,n,s);if(r.canEntireRowFit(a,o))sc(e,t,r,s,o);else if(pJ(e,r,a,t)){var l=fJ(r,a,t,e);sc(e,t,r,s,o),t0(e,t,i,s,o),Wy(e,t,l,n,i,s,o)}else t0(e,t,i,s,o),Wy(e,t,r,n,i,s,o)}function sc(e,t,r,n,i){n.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=r.cells[a.index];if(!l){n.x+=a.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,a,n);if(c===!1){n.x+=a.width;continue}mJ(e,l,n);var u=l.getTextPos();YM(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,a,n),n.x+=a.width}n.y+=r.height}function mJ(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=tL(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),gJ(e,t,r,n.lineWidth))}function gJ(e,t,r,n){var i,s,o,a;n.top&&(i=r.x,s=r.y,o=r.x+t.width,a=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,o,a)),n.bottom&&(i=r.x,s=r.y+t.height,o=r.x+t.width,a=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,o,a)),n.left&&(i=r.x,s=r.y,o=r.x,a=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,i,s,o,a)),n.right&&(i=r.x+t.width,s=r.y,o=r.x+t.width,a=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,i,s,o,a));function l(c,u,h,f,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,h,f,d,"S")}}function uL(e,t,r,n){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function t0(e,t,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return sc(e,t,a,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;eL(e,t,r,n),dL(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return sc(e,t,a,n,i)}),e.applyStyles(e.userStyles))}function dL(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function vJ(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=sL(this,n),s=lL(this,i);return cL(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){YM(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Ef.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Ef.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ef(this),s=iL(i,t,window,r,!1),o=s.head,a=s.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var Rx;function hL(e,t){var r=sL(e,t),n=lL(e,r);cL(e,n)}try{if(typeof window<"u"&&window){var xA=window,_A=xA.jsPDF||((Rx=xA.jspdf)===null||Rx===void 0?void 0:Rx.jsPDF);_A&&vJ(_A)}}catch(e){console.error("Could not apply autoTable plugin",e)}function _8(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return{content:e}}return e}async function yJ(e,t){const r=new Dt,n=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight(),s=20,o=_8(e);if(bJ(r,t),o.sections&&Array.isArray(o.sections)){r.addPage();let a=20;for(const l of o.sections){a>i-40&&(r.addPage(),a=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.setTextColor(31,73,125),r.text(l.section||"Section",s,a),a+=10,r.setFontSize(11),r.setFont("helvetica","normal"),r.setTextColor(0,0,0);const c=l.content||"",u=r.splitTextToSize(c,n-2*s);for(const h of u)a>i-30&&(r.addPage(),a=20),r.text(h,s,a),a+=7;a+=5}}return S8(r),E8(r,t),r.output("blob")}function bJ(e,t){const r=e.internal.pageSize.getWidth();e.internal.pageSize.getHeight(),e.setFillColor(31,73,125),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("STANDARD OPERATING PROCEDURES",r/2,25,{align:"center"}),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFillColor(220,230,241),e.roundedRect(30,110,r-60,80,3,3,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(31,73,125);let n=125;t.processCode&&(e.text("Process Code:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.processCode,90,n),n+=15),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Version:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.version||"1.0",90,n),n+=15,e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Effective Date:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text((t.date||new Date).toLocaleDateString(),90,n),n+=15,e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Approved By:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.author||"Operations Management",90,n)}function S8(e){const t=e.internal.pages.length-1;for(let r=1;r<=t;r++)e.setPage(r),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Page ${r} of ${t}`,e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"})}function E8(e,t){const r=e.internal.pages.length-1;for(let n=1;n<=r;n++)e.setPage(n),e.setFontSize(8),e.setFont("helvetica","italic"),e.setTextColor(150,150,150),e.text("Generated by OllieProcess",20,e.internal.pageSize.getHeight()-10),e.text(`Version ${t.version||"1.0"}`,e.internal.pageSize.getWidth()-20,e.internal.pageSize.getHeight()-10,{align:"right"})}async function wJ(e,t){const r=new Dt,n=_8(e);if(xJ(r,t),n.matrix&&Array.isArray(n.matrix)){r.addPage();const i=n.matrix.map(s=>[s.task||"",s.responsible||"",s.accountable||"",s.consulted||"",s.informed||""]);hL(r,{startY:30,head:[["Task/Activity","Responsible","Accountable","Consulted","Informed"]],body:i,theme:"grid",headStyles:{fillColor:[31,73,125],textColor:[255,255,255],fontStyle:"bold",fontSize:11},styles:{fontSize:10,cellPadding:5,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:50},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}},alternateRowStyles:{fillColor:[245,245,245]}})}return S8(r),E8(r,t),r.output("blob")}function xJ(e,t){const r=e.internal.pageSize.getWidth();e.setFillColor(31,73,125),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("RACI MATRIX",r/2,25,{align:"center"}),e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Generated: ${(t.date||new Date).toLocaleDateString()}`,r/2,100,{align:"center"})}async function _J(e,t){const r=new Dt("landscape"),n=_8(e);if(SJ(r,t),n.risks&&Array.isArray(n.risks)){r.addPage();const i=n.risks.map(s=>[s.risk||"",s.likelihood||"",s.impact||"",s.control||"",s.mitigation||""]);hL(r,{startY:30,head:[["Risk","Likelihood","Impact","Control","Mitigation"]],body:i,theme:"grid",headStyles:{fillColor:[231,76,60],textColor:[255,255,255],fontStyle:"bold",fontSize:11},styles:{fontSize:9,cellPadding:5,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:50},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:60},4:{cellWidth:60}},alternateRowStyles:{fillColor:[252,245,245]}})}return S8(r),E8(r,t),r.output("blob")}function SJ(e,t){const r=e.internal.pageSize.getWidth();e.setFillColor(231,76,60),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("RISK & CONTROL MATRIX",r/2,25,{align:"center"}),e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(231,76,60),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Generated: ${(t.date||new Date).toLocaleDateString()}`,r/2,100,{align:"center"})}async function EJ(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function At(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}function kJ(e,t){return t={exports:{}},e(t,t.exports),t.exports}var NJ=kJ(function(e){var t=e.exports=function(r,n){if(n||(n=16),r===void 0&&(r=128),r<=0)return"0";for(var i=Math.log(Math.pow(2,r))/Math.log(n),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,r/s))/Math.log(n)*s;for(var o=i-Math.floor(i),a="",s=0;s<Math.floor(i);s++){var l=Math.floor(Math.random()*n).toString(n);a=l+a}if(o){var c=Math.pow(n,o),l=Math.floor(Math.random()*c).toString(n);a=l+a}var u=parseInt(a,n);return u!==1/0&&u>=Math.pow(2,r)?t(r,n):a};t.rack=function(r,n,i){var s=function(a){var l=0;do{if(l++>10)if(i)r+=i;else throw new Error("too many ID collisions, use more bits");var c=t(r,n)}while(Object.hasOwnProperty.call(o,c));return o[c]=a,c},o=s.hats={};return s.get=function(a){return s.hats[a]},s.set=function(a,l){return s.hats[a]=l,s},s.bits=r||128,s.base=n||16,s}});function ol(e){if(!(this instanceof ol))return new ol(e);e=e||[128,36,1],this._seed=e.length?NJ.rack(e[0],e[1],e[2]):e}ol.prototype.next=function(e){return this._seed(e||!0)};ol.prototype.nextPrefixed=function(e,t){var r;do r=e+this.next(!0);while(this.assigned(r));return this.claim(r,t),r};ol.prototype.claim=function(e,t){this._seed.set(e,t||!0)};ol.prototype.assigned=function(e){return this._seed.get(e)||!1};ol.prototype.unclaim=function(e){delete this._seed.hats[e]};ol.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};function k8(e){return Array.prototype.concat.apply([],e)}const ug=Object.prototype.toString,AJ=Object.prototype.hasOwnProperty;function th(e){return e===void 0}function Pi(e){return e!==void 0}function $0(e){return e==null}function Qt(e){return ug.call(e)==="[object Array]"}function Mi(e){return ug.call(e)==="[object Object]"}function Yt(e){return ug.call(e)==="[object Number]"}function yi(e){const t=ug.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function Ys(e){return ug.call(e)==="[object String]"}function CJ(e){if(!Qt(e))throw new Error("must supply array")}function As(e,t){return!$0(e)&&AJ.call(e,t)}function Lr(e,t){const r=Ub(t);let n;return Ce(e,function(i,s){if(r(i,s))return n=i,!1}),n}function fL(e,t){const r=Ub(t);let n=Qt(e)?-1:void 0;return Ce(e,function(i,s){if(r(i,s))return n=s,!1}),n}function mr(e,t){const r=Ub(t);let n=[];return Ce(e,function(i,s){r(i,s)&&n.push(i)}),n}function Ce(e,t){let r,n;if(th(e))return;const i=Qt(e)?OJ:PJ;for(let s in e)if(As(e,s)&&(r=e[s],n=t(r,i(s)),n===!1))return r}function jJ(e,t){if(th(e))return[];CJ(e);const r=Ub(t);return e.filter(function(n,i){return!r(n,i)})}function Js(e,t,r){return Ce(e,function(n,i){r=t(r,n,i)}),r}function uh(e,t){return!!Js(e,function(r,n,i){return r&&t(n,i)},!0)}function ju(e,t){return!!Lr(e,t)}function ns(e,t){let r=[];return Ce(e,function(n,i){r.push(t(n,i))}),r}function qy(e){return e&&Object.keys(e)||[]}function TJ(e){return qy(e).length}function zb(e){return ns(e,t=>t)}function fp(e,t,r={}){return t=N8(t),Ce(e,function(n){let i=t(n)||"_",s=r[i];s||(s=r[i]=[]),s.push(n)}),r}function pL(e,...t){e=N8(e);let r={};return Ce(t,i=>fp(i,e,r)),ns(r,function(i,s){return i[0]})}const RJ=pL;function ll(e,t){t=N8(t);let r=[];return Ce(e,function(n,i){let s=t(n,i),o={d:s,v:n};for(var a=0;a<r.length;a++){let{d:l}=r[a];if(s<l){r.splice(a,0,o);return}}r.push(o)}),ns(r,n=>n.v)}function bo(e){return function(t){return uh(e,function(r,n){return t[n]===r})}}function N8(e){return yi(e)?e:t=>t[e]}function Ub(e){return yi(e)?e:t=>t===e}function PJ(e){return e}function OJ(e){return Number(e)}function mL(e,t){let r,n,i,s;function o(h){let f=Date.now(),d=h?0:s+t-f;if(d>0)return a(d);e.apply(i,n),l()}function a(h){r=setTimeout(o,h)}function l(){r&&clearTimeout(r),r=s=n=i=void 0}function c(){r&&o(!0),l()}function u(...h){s=Date.now(),n=h,i=this,r||a(t)}return u.flush=c,u.cancel=l,u}function Rs(e,t){return e.bind(t)}function Ie(e,...t){return Object.assign(e,...t)}function IJ(e,t,r){let n=e;return Ce(t,function(i,s){if(typeof i!="number"&&typeof i!="string")throw new Error("illegal key type: "+typeof i+". Key should be of type number or string.");if(i==="constructor")throw new Error("illegal key: constructor");if(i==="__proto__")throw new Error("illegal key: __proto__");let o=t[s+1],a=n[i];Pi(o)&&$0(a)&&(a=n[i]=isNaN(+o)?{}:[]),th(o)?th(r)?delete n[i]:n[i]=r:n=a}),e}function Eo(e,t){let r={},n=Object(e);return Ce(t,function(i){i in n&&(r[i]=e[i])}),r}function hl(e,t){let r={},n=Object(e);return Ce(n,function(i,s){t.indexOf(s)===-1&&(r[s]=i)}),r}function MJ(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}const LJ=Object.prototype.toString,DJ=Object.prototype.hasOwnProperty;function BJ(e){return e===void 0}function FJ(e){return LJ.call(e)==="[object Array]"}function zJ(e,t){return DJ.call(e,t)}function SA(e,t){let r,n;if(BJ(e))return;const i=FJ(e)?$J:UJ;for(let s in e)if(zJ(e,s)&&(r=e[s],n=t(r,i(s)),n===!1))return r}function UJ(e){return e}function $J(e){return Number(e)}function Ji(e,...t){const r=e.style;return SA(t,function(n){n&&SA(n,function(i,s){r[s]=i})}),e}function Qi(e,t,r){return arguments.length==2?e.getAttribute(t):r===null?e.removeAttribute(t):(e.setAttribute(t,r),e)}const HJ=Object.prototype.toString;function On(e){return new _u(e)}function _u(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}_u.prototype.add=function(e){return this.list.add(e),this};_u.prototype.remove=function(e){return HJ.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};_u.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};_u.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};_u.prototype.array=function(){return Array.from(this.list)};_u.prototype.has=_u.prototype.contains=function(e){return this.list.contains(e)};function $b(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function pp(e,t,r){var n=r?e:e.parentNode;return n&&typeof n.closest=="function"&&n.closest(t)||null}var Vy={},Gy,v4,A8;function gL(){Gy=window.addEventListener?"addEventListener":"attachEvent",v4=window.removeEventListener?"removeEventListener":"detachEvent",A8=Gy!=="addEventListener"?"on":""}var WJ=Vy.bind=function(e,t,r,n){return Gy||gL(),e[Gy](A8+t,r,n||!1),r},qJ=Vy.unbind=function(e,t,r,n){return v4||gL(),e[v4](A8+t,r,n||!1),r},sr=MJ({__proto__:null,bind:WJ,unbind:qJ,default:Vy},[Vy]),vL=["focus","blur"];function VJ(e,t,r,n,i){return vL.indexOf(r)!==-1&&(i=!0),sr.bind(e,r,function(s){var o=s.target||s.srcElement;s.delegateTarget=pp(o,t,!0),s.delegateTarget&&n.call(e,s)},i)}function GJ(e,t,r,n){return vL.indexOf(t)!==-1&&(n=!0),sr.unbind(e,t,r,n)}var Gs={bind:VJ,unbind:GJ},KJ=XJ,yL=!1,X1;typeof document<"u"&&(X1=document.createElement("div"),X1.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',yL=!X1.getElementsByTagName("link").length,X1=void 0);var si={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:yL?[1,"X<div>","</div>"]:[0,"",""]};si.td=si.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];si.option=si.optgroup=[1,'<select multiple="multiple">',"</select>"];si.thead=si.tbody=si.colgroup=si.caption=si.tfoot=[1,"<table>","</table>"];si.polyline=si.ellipse=si.polygon=si.circle=si.text=si.line=si.path=si.rect=si.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function XJ(e,t){if(typeof e!="string")throw new TypeError("String expected");t||(t=document);var r=/<([\w:]+)/.exec(e);if(!r)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=r[1];if(n=="body"){var l=t.createElement("html");return l.innerHTML=e,l.removeChild(l.lastChild)}var i=Object.prototype.hasOwnProperty.call(si,n)?si[n]:si._default,s=i[0],o=i[1],a=i[2],l=t.createElement("div");for(l.innerHTML=o+e+a;s--;)l=l.lastChild;if(l.firstChild==l.lastChild)return l.removeChild(l.firstChild);for(var c=t.createDocumentFragment();l.firstChild;)c.appendChild(l.removeChild(l.firstChild));return c}var dn=KJ;function bL(e,t){return e&&typeof e.matches=="function"&&e.matches(t)||!1}function Jr(e,t){return t=t||document,t.querySelector(e)}function y4(e,t){return t=t||document,t.querySelectorAll(e)}function cl(e){e.parentNode&&e.parentNode.removeChild(e)}function ZJ(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch{}return e}function YJ(e,t){return t.appendChild(ZJ(e,t))}function rr(e,t){return YJ(t,e),e}var b4=2,wL={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":b4,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":b4,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function JJ(e,t){return wL[t]?e.style[t]:e.getAttributeNS(null,t)}function xL(e,t,r){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=wL[n];i?(i===b4&&typeof r=="number"&&(r=String(r)+"px"),e.style[n]=r):e.setAttributeNS(null,t,r)}function QJ(e,t){var r=Object.keys(t),n,i;for(n=0,i;i=r[n];n++)xL(e,i,t[i])}function kt(e,t,r){if(typeof t=="string")if(r!==void 0)xL(e,t,r);else return JJ(e,t);else QJ(e,t);return e}const eQ=Object.prototype.toString;function Pr(e){return new Su(e)}function Su(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}Su.prototype.add=function(e){return this.list.add(e),this};Su.prototype.remove=function(e){return eQ.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};Su.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};Su.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};Su.prototype.array=function(){return Array.from(this.list)};Su.prototype.has=Su.prototype.contains=function(e){return this.list.contains(e)};function Hb(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function _L(e){return e.cloneNode(!0)}var C8={svg:"http://www.w3.org/2000/svg"},EA='<svg xmlns="'+C8.svg+'"';function tQ(e){var t=!1;e.substring(0,4)==="<svg"?e.indexOf(C8.svg)===-1&&(e=EA+e.substring(4)):(e=EA+">"+e+"</svg>",t=!0);var r=rQ(e);if(!t)return r;for(var n=document.createDocumentFragment(),i=r.firstChild;i.firstChild;)n.appendChild(i.firstChild);return n}function rQ(e){var t;return t=new DOMParser,t.async=!1,t.parseFromString(e,"text/xml")}function Mt(e,t){var r;return e=e.trim(),e.charAt(0)==="<"?(r=tQ(e).firstChild,r=document.importNode(r,!0)):r=document.createElementNS(C8.svg,e),t&&kt(r,t),r}var Px=null;function SL(){return Px===null&&(Px=Mt("svg")),Px}function kA(e,t){var r,n,i=Object.keys(t);for(r=0;n=i[r];r++)e[n]=t[n];return e}function nQ(e,t,r,n,i,s){var o=SL().createSVGMatrix();switch(arguments.length){case 0:return o;case 1:return kA(o,e);case 6:return kA(o,{a:e,b:t,c:r,d:n,e:i,f:s})}}function r0(e){return SL().createSVGTransform()}var NA=/([&<>]{1})/g,iQ=/([&<>\n\r"]{1})/g,sQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Ox(e,t){function r(n,i){return sQ[i]||i}return e.replace(t,r)}function EL(e,t){var r,n,i,s,o;switch(e.nodeType){case 3:t.push(Ox(e.textContent,NA));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(i=e.attributes,r=0,n=i.length;r<n;++r)s=i.item(r),t.push(" ",s.name,'="',Ox(s.value,iQ),'"');if(e.hasChildNodes()){for(t.push(">"),o=e.childNodes,r=0,n=o.length;r<n;++r)EL(o.item(r),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("<!--",Ox(e.nodeValue,NA),"-->");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function aQ(e){for(var t=e.firstChild,r=[];t;)EL(t,r),t=t.nextSibling;return r.join("")}function AA(e,t){return aQ(e)}function ui(e){var t=e.parentNode;return t&&t.removeChild(e),e}function oQ(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function lQ(e,t){var r,n;for(e.clear(),r=0;n=t[r];r++)e.appendItem(oQ(e,n))}function H0(e,t){var r=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),lQ(r,t)),r.consolidate()}const cQ=/^class[ {]/;function uQ(e){return cQ.test(e.toString())}function j8(e){return Array.isArray(e)}function Ix(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kv(...e){e.length===1&&j8(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const dQ=/constructor\s*[^(]*\(\s*([^)]*)\)/m,hQ=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,fQ=/\/\*([^*]*)\*\//m;function pQ(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(uQ(e)?dQ:hQ);if(!t)return[];const r=t[1]||t[2];return r&&r.split(",").map(n=>{const i=n.match(fQ);return(i&&i[1]||n).trim()})||[]}function kL(e,t){const r=t||{get:function(b,x){if(n.push(b),x===!1)return null;throw a(`No provider for "${b}"!`)}},n=[],i=this._providers=Object.create(r._providers||null),s=this._instances=Object.create(null),o=s.injector=this,a=function(b){const x=n.join(" -> ");return n.length=0,new Error(x?`${b} (Resolving: ${x})`:b)};function l(b,x){if(!i[b]&&b.includes(".")){const _=b.split(".");let M=l(_.shift());for(;_.length;)M=M[_.shift()];return M}if(Ix(s,b))return s[b];if(Ix(i,b)){if(n.indexOf(b)!==-1)throw n.push(b),a("Cannot resolve circular dependency!");return n.push(b),s[b]=i[b][0](i[b][1]),n.pop(),s[b]}return r.get(b,x)}function c(b,x){if(typeof x>"u"&&(x={}),typeof b!="function")if(j8(b))b=Kv(b.slice());else throw a(`Cannot invoke "${b}". Expected a function!`);const M=(b.$inject||pQ(b)).map(U=>Ix(x,U)?x[U]:l(U));return{fn:b,dependencies:M}}function u(b){const{fn:x,dependencies:_}=c(b),M=Function.prototype.bind.call(x,null,..._);return new M}function h(b,x,_){const{fn:M,dependencies:U}=c(b,_);return M.apply(x,U)}function f(b){return Kv(x=>b.get(x))}function d(b,x){if(x&&x.length){const _=Object.create(null),M=Object.create(null),U=[],L=[],O=[];let H,G,I,R;for(let S in i)H=i[S],x.indexOf(S)!==-1&&(H[2]==="private"?(G=U.indexOf(H[3]),G===-1?(I=H[3].createChild([],x),R=f(I),U.push(H[3]),L.push(I),O.push(R),_[S]=[R,S,"private",I]):_[S]=[O[G],S,"private",L[G]]):_[S]=[H[2],H[1]],M[S]=!0),(H[2]==="factory"||H[2]==="type")&&H[1].$scope&&x.forEach(j=>{H[1].$scope.indexOf(j)!==-1&&(_[S]=[H[2],H[1]],M[j]=!0)});x.forEach(S=>{if(!M[S])throw new Error('No provider for "'+S+'". Cannot use provider from the parent!')}),b.unshift(_)}return new kL(b,o)}const p={factory:h,type:u,value:function(b){return b}};function g(b,x){const _=b.__init__||[];return function(){_.forEach(M=>{typeof M=="string"?x.get(M):x.invoke(M)})}}function m(b){const x=b.__exports__;if(x){const _=b.__modules__,M=Object.keys(b).reduce((G,I)=>(I!=="__exports__"&&I!=="__modules__"&&I!=="__init__"&&I!=="__depends__"&&(G[I]=b[I]),G),Object.create(null)),U=(_||[]).concat(M),L=d(U),O=Kv(function(G){return L.get(G)});x.forEach(function(G){i[G]=[O,G,"private",L]});const H=(b.__init__||[]).slice();return H.unshift(function(){L.init()}),b=Object.assign({},b,{__init__:H}),g(b,L)}return Object.keys(b).forEach(function(_){if(_==="__init__"||_==="__depends__")return;const M=b[_];if(M[2]==="private"){i[_]=M;return}const U=M[0],L=M[1];i[_]=[p[U],mQ(U,L),U]}),g(b,o)}function v(b,x){return b.indexOf(x)!==-1||(b=(x.__depends__||[]).reduce(v,b),b.indexOf(x)!==-1)?b:b.concat(x)}function y(b){const x=b.reduce(v,[]).map(m);let _=!1;return function(){_||(_=!0,x.forEach(M=>M()))}}this.get=l,this.invoke=h,this.instantiate=u,this.createChild=d,this.init=y(e)}function mQ(e,t){return e!=="value"&&j8(t)&&(t=Kv(t.slice())),t}var gQ=1e3;function oc(e,t){var r=this;t=t||gQ,e.on(["render.shape","render.connection"],t,function(n,i){var s=n.type,o=i.element,a=i.gfx,l=i.attrs;if(r.canRender(o))return s==="render.shape"?r.drawShape(a,o,l):r.drawConnection(a,o,l)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(n,i){if(r.canRender(i))return n.type==="render.getShapePath"?r.getShapePath(i):r.getConnectionPath(i)})}oc.prototype.canRender=function(e){};oc.prototype.drawShape=function(e,t){};oc.prototype.drawConnection=function(e,t){};oc.prototype.getShapePath=function(e){};oc.prototype.getConnectionPath=function(e){};function dh(e){return e.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function vQ(e){return["M",e.x,e.y]}function Mx(e){return["L",e.x,e.y]}function yQ(e,t,r){return["C",e.x,e.y,t.x,t.y,r.x,r.y]}function bQ(e,t){const r=e.length,n=[vQ(e[0])];for(let i=1;i<r;i++){const s=e[i-1],o=e[i],a=e[i+1];if(!a||!t){n.push(Mx(o));continue}const l=Math.min(t,w4(o.x-s.x,o.y-s.y),w4(a.x-o.x,a.y-o.y));if(!l){n.push(Mx(o));continue}const c=Z1(o,s,l),u=Z1(o,s,l*.5),h=Z1(o,a,l),f=Z1(o,a,l*.5);n.push(Mx(c)),n.push(yQ(u,f,h))}return n}function Z1(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=w4(n,i),o=r/s;return{x:e.x+n*o,y:e.y+i*o}}function w4(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function Wb(e,t,r){Yt(t)&&(r=t,t=null),t||(t={});const n=Mt("path",t);return Yt(r)&&(n.dataset.cornerRadius=String(r)),NL(n,e)}function NL(e,t){const r=parseInt(e.dataset.cornerRadius,10)||0;return kt(e,{d:dh(bQ(t,r))}),e}function qb(e){return mr(e,function(t){return!Lr(e,function(r){return r!==t&&AL(t,r)})})}function AL(e,t){if(t){if(e===t)return t;if(e.parent)return AL(e.parent,t)}}function CA(e,t,r){var n=!r||e.indexOf(t)===-1;return n&&e.push(t),n}function hh(e,t,r){r=r||0,Qt(e)||(e=[e]),Ce(e,function(n,i){var s=t(n,i,r);Qt(s)&&s.length&&hh(s,t,r+1)})}function wQ(e,t,r){var n=[],i=[];return hh(e,function(s,o,a){CA(n,s,t);var l=s.children;if(l&&CA(i,l,t))return l}),n}function dg(e,t){return wQ(e,!t)}function xQ(e,t,r){th(t)&&(t=!0),Mi(t)&&(r=t,t=!0),r=r||{};var n=um(r.allShapes),i=um(r.allConnections),s=um(r.enclosedElements),o=um(r.enclosedConnections),a=um(r.topLevel,t&&fp(e,function(u){return u.id}));function l(u){a[u.source.id]&&a[u.target.id]&&(a[u.id]=[u]),n[u.source.id]&&n[u.target.id]&&(o[u.id]=s[u.id]=u),i[u.id]=u}function c(u){if(s[u.id]=u,u.waypoints)o[u.id]=i[u.id]=u;else return n[u.id]=u,Ce(u.incoming,l),Ce(u.outgoing,l),u.children}return hh(e,c),{allShapes:n,allConnections:i,topLevel:a,enclosedConnections:o,enclosedElements:s}}function di(e,t){t=!!t,Qt(e)||(e=[e]);var r,n,i,s;return Ce(e,function(o){var a=o;o.waypoints&&!t&&(a=di(o.waypoints,!0));var l=a.x,c=a.y,u=a.height||0,h=a.width||0;(l<r||r===void 0)&&(r=l),(c<n||n===void 0)&&(n=c),(l+h>i||i===void 0)&&(i=l+h),(c+u>s||s===void 0)&&(s=c+u)}),{x:r,y:n,height:s-n,width:i-r}}function CL(e,t){var r={};return Ce(e,function(n){var i=n;i.waypoints&&(i=di(i)),!Yt(t.y)&&i.x>t.x&&(r[n.id]=n),!Yt(t.x)&&i.y>t.y&&(r[n.id]=n),i.x>t.x&&i.y>t.y&&(Yt(t.width)&&Yt(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y||!Yt(t.width)||!Yt(t.height))&&(r[n.id]=n)}),r}function jL(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function TL(e){return!!(e&&e.isFrame)}function um(e,t){return Ie({},e||{},t||{})}var _Q=1;function Tu(e,t){oc.call(this,e,_Q),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}At(Tu,oc);Tu.prototype.canRender=function(){return!0};Tu.prototype.drawShape=function(t,r,n){var i=Mt("rect");return kt(i,{x:0,y:0,width:r.width||0,height:r.height||0}),TL(r)?kt(i,Ie({},this.FRAME_STYLE,n||{})):kt(i,Ie({},this.SHAPE_STYLE,n||{})),rr(t,i),i};Tu.prototype.drawConnection=function(t,r,n){var i=Wb(r.waypoints,Ie({},this.CONNECTION_STYLE,n||{}));return rr(t,i),i};Tu.prototype.getShapePath=function(t){var r=t.x,n=t.y,i=t.width,s=t.height,o=[["M",r,n],["l",i,0],["l",0,s],["l",-i,0],["z"]];return dh(o)};Tu.prototype.getConnectionPath=function(t){var r=t.waypoints,n,i,s=[];for(n=0;i=r[n];n++)i=i.original||i,s.push([n===0?"M":"L",i.x,i.y]);return dh(s)};Tu.$inject=["eventBus","styles"];function SQ(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(r,n,i){var s=this.style(n,i);return Ie(s,{class:r})},this.style=function(r,n){!Qt(r)&&!n&&(n=r,r=[]);var i=Js(r,function(s,o){return Ie(s,e[o]||{})},{});return n?Ie(i,n):i},this.computeStyle=function(r,n,i){return Qt(n)||(i=n,n=[]),t.style(n||[],Ie({},i,r||{}))}}const EQ={__init__:["defaultRenderer"],defaultRenderer:["type",Tu],styles:["type",SQ]};function Zn(e,t){if(!e||!t)return-1;var r=e.indexOf(t);return r!==-1&&e.splice(r,1),r}function hi(e,t,r){if(!(!e||!t)){typeof r!="number"&&(r=-1);var n=e.indexOf(t);if(n!==-1){if(n===r)return;if(r!==-1)e.splice(n,1);else return}r!==-1?e.splice(r,0,t):e.push(t)}}function T8(e,t){return!e||!t?-1:e.indexOf(t)}function hg(e,t){return!e||!t?-1:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function R8(e,t,r,n){if(typeof n>"u"&&(n=5),!e||!t||!r)return!1;var i=(t.x-e.x)*(r.y-e.y)-(t.y-e.y)*(r.x-e.x),s=hg(e,t);return Math.abs(i/s)<=n}var kQ=2;function Vl(e,t){var r=Array.from(arguments).flat();const n={x:"v",y:"h"};for(const[i,s]of Object.entries(n))if(NQ(i,r))return s;return!1}function NQ(e,t){const r=t[0];return uh(t,function(n){return Math.abs(r[e]-n[e])<=kQ})}function jA(e,t,r){return r=r||0,e.x>t.x-r&&e.y>t.y-r&&e.x<t.x+t.width+r&&e.y<t.y+t.height+r}function x4(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var AQ=/,?([a-z]),?/gi,TA=parseFloat,Wn=Math,Bc=Wn.PI,Wo=Wn.min,qo=Wn.max,RA=Wn.pow,nu=Wn.abs,CQ=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,jQ=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,Ky=Array.isArray||function(e){return e instanceof Array};function P8(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n0(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var r in e)P8(e,r)&&(t[r]=n0(e[r]));return t}function TQ(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}function RQ(e){function t(){var r=Array.prototype.slice.call(arguments,0),n=r.join("␀"),i=t.cache=t.cache||{},s=t.count=t.count||[];return P8(i,n)?(TQ(s,n),i[n]):(s.length>=1e3&&delete i[s.shift()],s.push(n),i[n]=e(...arguments),i[n])}return t}function PQ(e){if(!e)return null;var t=$f(e);if(t.arr)return n0(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];return Ky(e)&&Ky(e[0])&&(n=n0(e)),n.length||String(e).replace(CQ,function(i,s,o){var a=[],l=s.toLowerCase();for(o.replace(jQ,function(c,u){u&&a.push(+u)}),l=="m"&&a.length>2&&(n.push([s,...a.splice(0,2)]),l="l",s=s=="m"?"l":"L");a.length>=r[l]&&(n.push([s,...a.splice(0,r[l])]),!!r[l]););}),n.toString=$f.toString,t.arr=n0(n),n}function $f(e){var t=$f.ps=$f.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var r in t)P8(t,r)&&r!=e&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[e]}function _4(e,t,r,n){return arguments.length===1&&(t=e.y,r=e.width,n=e.height,e=e.x),{x:e,y:t,width:r,height:n,x2:e+r,y2:t+n}}function RL(){return this.join(",").replace(AQ,"$1")}function Xy(e){var t=n0(e);return t.toString=RL,t}function PA(e,t,r,n,i,s,o,a,l){var c=1-l,u=RA(c,3),h=RA(c,2),f=l*l,d=f*l,p=u*e+h*3*l*r+c*3*l*l*i+d*o,g=u*t+h*3*l*n+c*3*l*l*s+d*a;return{x:Zy(p),y:Zy(g)}}function OA(e){var t=DQ(...e);return _4(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function Fc(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function OQ(e,t){return e=_4(e),t=_4(t),Fc(t,e.x,e.y)||Fc(t,e.x2,e.y)||Fc(t,e.x,e.y2)||Fc(t,e.x2,e.y2)||Fc(e,t.x,t.y)||Fc(e,t.x2,t.y)||Fc(e,t.x,t.y2)||Fc(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function IA(e,t,r,n,i){var s=-3*t+9*r-9*n+3*i,o=e*s+6*t-12*r+6*n;return e*o-3*t+3*r}function MA(e,t,r,n,i,s,o,a,l){l==null&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<u;p++){var g=c*h[p]+c,m=IA(g,e,r,i,o),v=IA(g,t,n,s,a),y=m*m+v*v;d+=f[p]*Wn.sqrt(y)}return c*d}function IQ(e,t,r,n,i,s,o,a){if(!(qo(e,r)<Wo(i,o)||Wo(e,r)>qo(i,o)||qo(t,n)<Wo(s,a)||Wo(t,n)>qo(s,a))){var l=(e*n-t*r)*(i-o)-(e-r)*(i*a-s*o),c=(e*n-t*r)*(s-a)-(t-n)*(i*a-s*o),u=(e-r)*(s-a)-(t-n)*(i-o);if(u){var h=Zy(l/u),f=Zy(c/u),d=+h.toFixed(2),p=+f.toFixed(2);if(!(d<+Wo(e,r).toFixed(2)||d>+qo(e,r).toFixed(2)||d<+Wo(i,o).toFixed(2)||d>+qo(i,o).toFixed(2)||p<+Wo(t,n).toFixed(2)||p>+qo(t,n).toFixed(2)||p<+Wo(s,a).toFixed(2)||p>+qo(s,a).toFixed(2)))return{x:h,y:f}}}}function Zy(e){return Math.round(e*1e11)/1e11}function MQ(e,t,r){var n=OA(e),i=OA(t);if(!OQ(n,i))return r?0:[];for(var s=MA(...e),o=MA(...t),a=LA(e)?1:~~(s/5)||1,l=LA(t)?1:~~(o/5)||1,c=[],u=[],h={},f=r?0:[],d=0;d<a+1;d++){var p=PA(...e,d/a);c.push({x:p.x,y:p.y,t:d/a})}for(d=0;d<l+1;d++)p=PA(...t,d/l),u.push({x:p.x,y:p.y,t:d/l});for(d=0;d<a;d++)for(var g=0;g<l;g++){var m=c[d],v=c[d+1],y=u[g],b=u[g+1],x=nu(v.x-m.x)<.01?"y":"x",_=nu(b.x-y.x)<.01?"y":"x",M=IQ(m.x,m.y,v.x,v.y,y.x,y.y,b.x,b.y),U;if(M){if(U=M.x.toFixed(9)+"#"+M.y.toFixed(9),h[U])continue;h[U]=!0;var L=m.t+nu((M[x]-m[x])/(v[x]-m[x]))*(v.t-m.t),O=y.t+nu((M[_]-y[_])/(b[_]-y[_]))*(b.t-y.t);L>=0&&L<=1&&O>=0&&O<=1&&(r?f++:f.push({x:M.x,y:M.y,t1:L,t2:O}))}}return f}function PL(e,t,r){e=BA(e),t=BA(t);for(var n,i,s,o,a,l,c,u,h,f,d=r?0:[],p=0,g=e.length;p<g;p++){var m=e[p];if(m[0]=="M")n=a=m[1],i=l=m[2];else{m[0]=="C"?(h=[n,i,...m.slice(1)],n=h[6],i=h[7]):(h=[n,i,n,i,a,l,a,l],n=a,i=l);for(var v=0,y=t.length;v<y;v++){var b=t[v];if(b[0]=="M")s=c=b[1],o=u=b[2];else{b[0]=="C"?(f=[s,o,...b.slice(1)],s=f[6],o=f[7]):(f=[s,o,s,o,c,u,c,u],s=c,o=u);var x=MQ(h,f,r);if(r)d+=x;else{for(var _=0,M=x.length;_<M;_++)x[_].segment1=p,x[_].segment2=v,x[_].bez1=h,x[_].bez2=f;d=d.concat(x)}}}}}return d}function LQ(e){var t=$f(e);if(t.abs)return Xy(t.abs);if((!Ky(e)||!Ky(e&&e[0]))&&(e=PQ(e)),!e||!e.length)return[["M",0,0]];var r=[],n=0,i=0,s=0,o=0,a=0,l;e[0][0]=="M"&&(n=+e[0][1],i=+e[0][2],s=n,o=i,a++,r[0]=["M",n,i]);for(var c,u,h=a,f=e.length;h<f;h++){if(r.push(c=[]),u=e[h],l=u[0],l!=l.toUpperCase())switch(c[0]=l.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+n,c[7]=+u[7]+i;break;case"V":c[1]=+u[1]+i;break;case"H":c[1]=+u[1]+n;break;case"M":s=+u[1]+n,o=+u[2]+i;default:for(var d=1,p=u.length;d<p;d++)c[d]=+u[d]+(d%2?n:i)}else for(var g=0,m=u.length;g<m;g++)c[g]=u[g];switch(l=l.toUpperCase(),c[0]){case"Z":n=+s,i=+o;break;case"H":n=c[1];break;case"V":i=c[1];break;case"M":s=c[c.length-2],o=c[c.length-1];default:n=c[c.length-2],i=c[c.length-1]}}return r.toString=RL,t.abs=Xy(r),r}function LA(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function Y1(e,t,r,n){return[e,t,r,n,r,n]}function DA(e,t,r,n,i,s){var o=.3333333333333333,a=2/3;return[o*e+a*r,o*t+a*n,o*i+a*r,o*s+a*n,i,s]}function OL(e,t,r,n,i,s,o,a,l,c){var u=Bc*120/180,h=Bc/180*(+i||0),f=[],d,p=RQ(function($,N,T){var V=$*Wn.cos(T)-N*Wn.sin(T),J=$*Wn.sin(T)+N*Wn.cos(T);return{x:V,y:J}});if(c)U=c[0],L=c[1],_=c[2],M=c[3];else{d=p(e,t,-h),e=d.x,t=d.y,d=p(a,l,-h),a=d.x,l=d.y;var g=(e-a)/2,m=(t-l)/2,v=g*g/(r*r)+m*m/(n*n);v>1&&(v=Wn.sqrt(v),r=v*r,n=v*n);var y=r*r,b=n*n,x=(s==o?-1:1)*Wn.sqrt(nu((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g))),_=x*r*m/n+(e+a)/2,M=x*-n*g/r+(t+l)/2,U=Wn.asin(((t-M)/n).toFixed(9)),L=Wn.asin(((l-M)/n).toFixed(9));U=e<_?Bc-U:U,L=a<_?Bc-L:L,U<0&&(U=Bc*2+U),L<0&&(L=Bc*2+L),o&&U>L&&(U=U-Bc*2),!o&&L>U&&(L=L-Bc*2)}var O=L-U;if(nu(O)>u){var H=L,G=a,I=l;L=U+u*(o&&L>U?1:-1),a=_+r*Wn.cos(L),l=M+n*Wn.sin(L),f=OL(a,l,r,n,i,0,o,G,I,[L,H,_,M])}O=L-U;var R=Wn.cos(U),S=Wn.sin(U),j=Wn.cos(L),E=Wn.sin(L),k=Wn.tan(O/4),A=4/3*r*k,C=4/3*n*k,D=[e,t],z=[e+A*S,t-C*R],P=[a+A*E,l-C*j],K=[a,l];if(z[0]=2*D[0]-z[0],z[1]=2*D[1]-z[1],c)return[z,P,K].concat(f);f=[z,P,K].concat(f).join().split(",");for(var Z=[],te=0,q=f.length;te<q;te++)Z[te]=te%2?p(f[te-1],f[te],h).y:p(f[te],f[te+1],h).x;return Z}function DQ(e,t,r,n,i,s,o,a){for(var l=[],c=[[],[]],u,h,f,d,p,g,m,v,y=0;y<2;++y){if(y==0?(h=6*e-12*r+6*i,u=-3*e+9*r-9*i+3*o,f=3*r-3*e):(h=6*t-12*n+6*s,u=-3*t+9*n-9*s+3*a,f=3*n-3*t),nu(u)<1e-12){if(nu(h)<1e-12)continue;d=-f/h,0<d&&d<1&&l.push(d);continue}m=h*h-4*f*u,v=Wn.sqrt(m),!(m<0)&&(p=(-h+v)/(2*u),0<p&&p<1&&l.push(p),g=(-h-v)/(2*u),0<g&&g<1&&l.push(g))}for(var b=l.length,x=b,_;b--;)d=l[b],_=1-d,c[0][b]=_*_*_*e+3*_*_*d*r+3*_*d*d*i+d*d*d*o,c[1][b]=_*_*_*t+3*_*_*d*n+3*_*d*d*s+d*d*d*a;return c[0][x]=e,c[1][x]=t,c[0][x+1]=o,c[1][x+1]=a,c[0].length=c[1].length=x+2,{x0:Wo(...c[0]),y0:Wo(...c[1]),x1:qo(...c[0]),y1:qo(...c[1])}}function BA(e){var t=$f(e);if(t.curve)return Xy(t.curve);for(var r=LQ(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(d,p,g){var m,v;if(!d)return["C",p.x,p.y,p.x,p.y,p.x,p.y];switch(!(d[0]in{T:1,Q:1})&&(p.qx=p.qy=null),d[0]){case"M":p.X=d[1],p.Y=d[2];break;case"A":d=["C",...OL(p.x,p.y,...d.slice(1))];break;case"S":g=="C"||g=="S"?(m=p.x*2-p.bx,v=p.y*2-p.by):(m=p.x,v=p.y),d=["C",m,v,...d.slice(1)];break;case"T":g=="Q"||g=="T"?(p.qx=p.x*2-p.qx,p.qy=p.y*2-p.qy):(p.qx=p.x,p.qy=p.y),d=["C",...DA(p.x,p.y,p.qx,p.qy,d[1],d[2])];break;case"Q":p.qx=d[1],p.qy=d[2],d=["C",...DA(p.x,p.y,d[1],d[2],d[3],d[4])];break;case"L":d=["C",...Y1(p.x,p.y,d[1],d[2])];break;case"H":d=["C",...Y1(p.x,p.y,d[1],p.y)];break;case"V":d=["C",...Y1(p.x,p.y,p.x,d[1])];break;case"Z":d=["C",...Y1(p.x,p.y,p.X,p.Y)];break}return d},s=function(d,p){if(d[p].length>7){d[p].shift();for(var g=d[p];g.length;)o[p]="A",d.splice(p++,0,["C",...g.splice(0,6)]);d.splice(p,1),u=r.length}},o=[],a="",l="",c=0,u=r.length;c<u;c++){r[c]&&(a=r[c][0]),a!="C"&&(o[c]=a,c&&(l=o[c-1])),r[c]=i(r[c],n,l),o[c]!="A"&&a=="C"&&(o[c]="C"),s(r,c);var h=r[c],f=h.length;n.x=h[f-2],n.y=h[f-1],n.bx=TA(h[f-4])||n.x,n.by=TA(h[f-3])||n.y}return t.curve=Xy(r),r}function Qr(e){return Mi(e)&&As(e,"waypoints")}function Ir(e){return Mi(e)&&As(e,"labelTarget")}function IL(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function Yl(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function Ht(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Vb(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function BQ(e){return Yl({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function FQ(e){for(var t=e.waypoints,r=t.reduce(function(c,u,h){var f=t[h-1];if(f){var d=c[c.length-1],p=d&&d.endLength||0,g=$Q(f,u);c.push({start:f,end:u,startLength:p,endLength:p+g,length:g})}return c},[]),n=r.reduce(function(c,u){return c+u.length},0),i=n/2,s=0,o=r[s];o.endLength<i;)o=r[++s];var a=(i-o.startLength)/o.length,l={x:o.start.x+(o.end.x-o.start.x)*a,y:o.start.y+(o.end.y-o.start.y)*a};return l}function Jt(e){return Qr(e)?FQ(e):BQ(e)}function ss(e,t,r){r=r||0,Mi(r)||(r={x:r,y:r});var n=Ht(e),i=Ht(t),s=n.bottom+r.y<=i.top,o=n.left-r.x>=i.right,a=n.top-r.y>=i.bottom,l=n.right+r.x<=i.left,c=s?"top":a?"bottom":null,u=l?"left":o?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function S4(e,t,r){var n=zQ(e,t);return n.length===1||n.length===2&&hg(n[0],n[1])<1?Yl(n[0]):n.length>1?(n=ll(n,function(i){var s=Math.floor(i.t2*100)||1;return s=100-s,s=(s<10?"0":"")+s,i.segment2+"#"+s}),Yl(n[r?0:n.length-1])):null}function zQ(e,t){return PL(e,t)}function UQ(e){e=e.slice();for(var t=0,r,n,i;e[t];)r=e[t],n=e[t-1],i=e[t+1],hg(r,i)===0||R8(n,i,r)?e.splice(t,1):t++;return e}function $Q(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Xv(e,t){return Math.round(e*t)/t}function FA(e){return Yt(e)?e+"px":e}function HQ(e){for(;e.parent;)e=e.parent;return e}function WQ(e){e=Ie({},{width:"100%",height:"100%"},e);const t=e.container||document.body,r=document.createElement("div");return r.setAttribute("class","djs-container djs-parent"),Ji(r,{position:"relative",overflow:"hidden",width:FA(e.width),height:FA(e.height)}),t.appendChild(r),r}function ML(e,t,r){const n=Mt("g");Pr(n).add(t);const i=r!==void 0?r:e.childNodes.length-1;return e.insertBefore(n,e.childNodes[i]||null),n}const qQ="base",LL=0,VQ=1,GQ={shape:["x","y","width","height"],connection:["waypoints"]};function er(e,t,r,n){this._eventBus=t,this._elementRegistry=n,this._graphicsFactory=r,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(e||{})}er.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];er.prototype._init=function(e){const t=this._eventBus,r=this._container=WQ(e),n=this._svg=Mt("svg");kt(n,{width:"100%",height:"100%"}),Qi(n,"tabindex",0),e.autoFocus&&t.on("element.hover",()=>{this.restoreFocus()}),t.on("element.mousedown",500,s=>{this.focus()}),n.addEventListener("focusin",()=>{this._setFocused(!0)}),n.addEventListener("focusout",()=>{this._setFocused(!1)}),rr(r,n);const i=this._viewport=ML(n,"viewport");e.deferUpdate&&(this._viewboxChanged=mL(Rs(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:n,viewport:i})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)};er.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};er.prototype._setFocused=function(e){e!=this._focused&&(this._focused=e,this._eventBus.fire("canvas.focus.changed",{focused:e}))};er.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const r=jL(t);r==="root"?this.removeRootElement(t):this._removeElement(t,r)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};er.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)};er.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()};er.prototype.isFocused=function(){return this._focused};er.prototype.getDefaultLayer=function(){return this.getLayer(qQ,LL)};er.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let r=this._layers[e];if(r||(r=this._layers[e]=this._createLayer(e,t)),typeof t<"u"&&r.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return r.group};er.prototype._getChildIndex=function(e){return Js(this._layers,function(t,r){return r.visible&&e>=r.index&&t++,t},0)};er.prototype._createLayer=function(e,t){typeof t>"u"&&(t=VQ);const r=this._getChildIndex(t);return{group:ML(this._viewport,"layer-"+e,r),index:t,visible:!0}};er.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=this._viewport,n=t.group,i=t.index;if(t.visible)return n;const s=this._getChildIndex(i);return r.insertBefore(n,r.childNodes[s]||null),t.visible=!0,n};er.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=t.group;return t.visible&&(ui(r),t.visible=!1),r};er.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],ui(t.group))};er.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null};er.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(HQ(e))||{}).rootElement:void 0};er.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})};er.prototype._findPlaneForRoot=function(e){return Lr(this._planes,function(t){return t.rootElement===e})};er.prototype.getContainer=function(){return this._container};er.prototype._updateMarker=function(e,t,r){let n;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,n=this._elementRegistry._elements[e.id],n&&(Ce([n.gfx,n.secondaryGfx],function(i){i&&(r?(e.markers.add(t),Pr(i).add(t)):(e.markers.delete(t),Pr(i).remove(t)))}),this._eventBus.fire("element.marker.update",{element:e,gfx:n.gfx,marker:t,add:!!r}))};er.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)};er.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)};er.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),e.markers?e.markers.has(t):!1};er.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)};er.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))};er.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const r=e.layer="root-"+t;this._ensureValid("root",e);const n=this.getLayer(r,LL);return this.hideLayer(r),this._addRoot(e,n),this._planes.push({rootElement:e,layer:n}),e};er.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(r){return r.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e};er.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e};er.prototype._removeRoot=function(e){const t=this._elementRegistry,r=this._eventBus;r.fire("root.remove",{element:e}),r.fire("root.removed",{element:e}),t.remove(e)};er.prototype._addRoot=function(e,t){const r=this._elementRegistry,n=this._eventBus;n.fire("root.add",{element:e}),r.add(e,t),n.fire("root.added",{element:e,gfx:t})};er.prototype._setRoot=function(e,t){const r=this._rootElement;r&&(this._elementRegistry.updateGraphics(r,null,!0),this.hideLayer(r.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})};er.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const r=GQ[e];if(!uh(r,function(i){return typeof t[i]<"u"}))throw new Error("must supply { "+r.join(", ")+" } with "+e)};er.prototype._setParent=function(e,t,r){hi(t.children,e,r),e.parent=t};er.prototype._addElement=function(e,t,r,n){r=r||this.getRootElement();const i=this._eventBus,s=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:r}),this._setParent(t,r,n);const o=s.create(e,t,n);return this._elementRegistry.add(t,o),s.update(e,t,o),i.fire(e+".added",{element:t,gfx:o}),t};er.prototype.addShape=function(e,t,r){return this._addElement("shape",e,t,r)};er.prototype.addConnection=function(e,t,r){return this._addElement("connection",e,t,r)};er.prototype._removeElement=function(e,t){const r=this._elementRegistry,n=this._graphicsFactory,i=this._eventBus;if(e=r.get(e.id||e),!!e)return i.fire(t+".remove",{element:e}),n.remove(e),Zn(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),r.remove(e),e};er.prototype.removeShape=function(e){return this._removeElement(e,"shape")};er.prototype.removeConnection=function(e){return this._removeElement(e,"connection")};er.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)};er.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()};er.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};er.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const t=this._viewport,r=this.getSize();let n,i,s,o,a,l,c;if(e)this._changeViewbox(function(){a=Math.min(r.width/e.width,r.height/e.height);const u=this._svg.createSVGMatrix().scale(a).translate(-e.x,-e.y);H0(t,u)});else return s=this._rootElement?this.getActiveLayer():null,n=s&&s.getBBox()||{},o=H0(t),i=o?o.matrix:nQ(),a=Xv(i.a,1e3),l=Xv(-i.e||0,1e3),c=Xv(-i.f||0,1e3),e=this._cachedViewbox={x:l?l/a:0,y:c?c/a:0,width:r.width/a,height:r.height/a,scale:a,inner:{width:n.width||0,height:n.height||0,x:n.x||0,y:n.y||0},outer:r},e;return e};er.prototype.scroll=function(e){const t=this._viewport;let r=t.getCTM();return e&&this._changeViewbox(function(){e=Ie({dx:0,dy:0},e||{}),r=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(r),DL(t,r)}),{x:r.e,y:r.f}};er.prototype.scrollToElement=function(e,t){let r=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const n=this.findRoot(e);if(n!==this.getRootElement()&&this.setRootElement(n),n===e)return;t||(t={}),typeof t=="number"&&(r=t),t={top:t.top||r,right:t.right||r,bottom:t.bottom||r,left:t.left||r};const i=di(e),s=Ht(i),o=this.viewbox(),a=this.zoom();let l,c;o.y+=t.top/a,o.x+=t.left/a,o.width-=(t.right+t.left)/a,o.height-=(t.bottom+t.top)/a;const u=Ht(o);if(!(i.width<o.width&&i.height<o.height))l=i.x-o.x,c=i.y-o.y;else{const f=Math.max(0,s.right-u.right),d=Math.min(0,s.left-u.left),p=Math.max(0,s.bottom-u.bottom),g=Math.min(0,s.top-u.top);l=f||d,c=p||g}this.scroll({dx:-l*a,dy:-c*a})};er.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let r,n;return this._changeViewbox(function(){typeof t!="object"&&(r=this.viewbox().outer,t={x:r.width/2,y:r.height/2}),n=this._setZoom(e,t)}),Xv(n.a,1e3)};function DL(e,t){const r="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",r)}er.prototype._fitViewport=function(e){const t=this.viewbox(),r=t.outer,n=t.inner;let i,s;return n.x>=0&&n.y>=0&&n.x+n.width<=r.width&&n.y+n.height<=r.height&&!e?s={x:0,y:0,width:Math.max(n.width+n.x,r.width),height:Math.max(n.height+n.y,r.height)}:(i=Math.min(1,r.width/n.width,r.height/n.height),s={x:n.x+(e?n.width/2-r.width/i/2:0),y:n.y+(e?n.height/2-r.height/i/2:0),width:r.width/i,height:r.height/i}),this.viewbox(s),this.viewbox(!1).scale};er.prototype._setZoom=function(e,t){const r=this._svg,n=this._viewport,i=r.createSVGMatrix(),s=r.createSVGPoint();let o,a,l,c,u;l=n.getCTM();const h=l.a;return t?(o=Ie(s,t),a=o.matrixTransform(l.inverse()),c=i.translate(a.x,a.y).scale(1/h*e).translate(-a.x,-a.y),u=l.multiply(c)):u=i.scale(e),DL(this._viewport,u),u};er.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};er.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let r;e.waypoints?r=this.getGraphics(e).getBBox():r=e;const n=r.x*t.scale-t.x*t.scale,i=r.y*t.scale-t.y*t.scale,s=r.width*t.scale,o=r.height*t.scale;return{x:n,y:i,width:s,height:o}};er.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Hf="data-element-id";function Sa(e){this._elements={},this._eventBus=e}Sa.$inject=["eventBus"];Sa.prototype.add=function(e,t,r){var n=e.id;this._validateId(n),kt(t,Hf,n),r&&kt(r,Hf,n),this._elements[n]={element:e,gfx:t,secondaryGfx:r}};Sa.prototype.remove=function(e){var t=this._elements,r=e.id||e,n=r&&t[r];n&&(kt(n.gfx,Hf,""),n.secondaryGfx&&kt(n.secondaryGfx,Hf,""),delete t[r])};Sa.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var r=this.getGraphics(e),n=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,r,n)};Sa.prototype.updateGraphics=function(e,t,r){var n=e.id||e,i=this._elements[n];return r?i.secondaryGfx=t:i.gfx=t,t&&kt(t,Hf,n),t};Sa.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&kt(e,Hf);var r=this._elements[t];return r&&r.element};Sa.prototype.filter=function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(r)}),t};Sa.prototype.find=function(e){for(var t=this._elements,r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],s=t[i],o=s.element,a=s.gfx;if(e(o,a))return o}};Sa.prototype.getAll=function(){return this.filter(function(e){return e})};Sa.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(r){var n=t[r],i=n.element,s=n.gfx;return e(i,s)})};Sa.prototype.getGraphics=function(e,t){var r=e.id||e,n=this._elements[r];return n&&(t?n.secondaryGfx:n.gfx)};Sa.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function KQ(e,t,r,n){var i=r.inverse;return Object.defineProperty(e,"remove",{value:function(s){var o=this.indexOf(s);return o!==-1&&(this.splice(o,1),t.unset(s,i,n)),s}}),Object.defineProperty(e,"contains",{value:function(s){return this.indexOf(s)!==-1}}),Object.defineProperty(e,"add",{value:function(s,o){var a=this.indexOf(s);if(typeof o>"u"){if(a!==-1)return;o=this.length}a!==-1&&this.splice(a,1),this.splice(o,0,s),a===-1&&t.set(s,i,n)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function XQ(e){return e.__refs_collection===!0}function ZQ(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function BL(e,t,r){var n=KQ(r[t.name]||[],e,t,r);Object.defineProperty(r,t.name,{enumerable:t.enumerable,value:n}),n.length&&n.forEach(function(i){e.set(i,t.inverse,r)})}function YQ(e,t,r){var n=t.inverse,i=r[t.name];Object.defineProperty(r,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return i},set:function(s){if(s!==i){var o=i;i=null,o&&e.unset(o,n,r),i=s,e.set(i,n,r)}}})}function Xa(e,t){if(!(this instanceof Xa))return new Xa(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Xa.prototype.bind=function(e,t){if(typeof t=="string"){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?BL(this,t,e):YQ(this,t,e)};Xa.prototype.ensureRefsCollection=function(e,t){var r=e[t.name];return XQ(r)||BL(this,t,e),r};Xa.prototype.ensureBound=function(e,t){ZQ(e,t)||this.bind(e,t)};Xa.prototype.unset=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(r):e[t.name]=void 0)};Xa.prototype.set=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(r):e[t.name]=r)};var O8=new Xa({name:"children",enumerable:!0,collection:!0},{name:"parent"}),FL=new Xa({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),zA=new Xa({name:"attachers",collection:!0},{name:"host"}),zL=new Xa({name:"outgoing",collection:!0},{name:"source"}),UL=new Xa({name:"incoming",collection:!0},{name:"target"});function mp(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,r=this.labels;!e&&t?r.remove(t):r.add(e,0)}}),O8.bind(this,"parent"),FL.bind(this,"labels"),zL.bind(this,"outgoing"),UL.bind(this,"incoming")}function fg(){mp.call(this),O8.bind(this,"children"),zA.bind(this,"host"),zA.bind(this,"attachers")}At(fg,mp);function $L(){mp.call(this),O8.bind(this,"children")}At($L,fg);function HL(){fg.call(this),FL.bind(this,"labelTarget")}At(HL,fg);function WL(){mp.call(this),zL.bind(this,"source"),UL.bind(this,"target")}At(WL,mp);var JQ={connection:WL,shape:fg,label:HL,root:$L};function QQ(e,t){var r=JQ[e];if(!r)throw new Error("unknown type: <"+e+">");return Ie(new r,t)}function eee(e){return e instanceof mp}function lc(){this._uid=12}lc.prototype.createRoot=function(e){return this.create("root",e)};lc.prototype.createLabel=function(e){return this.create("label",e)};lc.prototype.createShape=function(e){return this.create("shape",e)};lc.prototype.createConnection=function(e){return this.create("connection",e)};lc.prototype.create=function(e,t){return t=Ie({},t||{}),t.id||(t.id=e+"_"+this._uid++),QQ(e,t)};var Yy="__fn",qL=1e3,tee=Array.prototype.slice;function ta(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}ta.prototype.on=function(e,t,r,n){if(e=Qt(e)?e:[e],yi(t)&&(n=r,r=t,t=qL),!Yt(t))throw new Error("priority must be a number");var i=r;n&&(i=Rs(r,n),i[Yy]=r[Yy]||r);var s=this;e.forEach(function(o){s._addListener(o,{priority:t,callback:i,next:null})})};ta.prototype.once=function(e,t,r,n){var i=this;if(yi(t)&&(n=r,r=t,t=qL),!Yt(t))throw new Error("priority must be a number");function s(){s.__isTomb=!0;var o=r.apply(n,arguments);return i.off(e,s),o}s[Yy]=r,this.on(e,t,s)};ta.prototype.off=function(e,t){e=Qt(e)?e:[e];var r=this;e.forEach(function(n){r._removeListener(n,t)})};ta.prototype.createEvent=function(e){var t=new pg;return t.init(e),t};ta.prototype.fire=function(e,t){var r,n,i,s;if(s=tee.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(n=this._listeners[e],!!n){t instanceof pg?r=t:r=this.createEvent(t),s[0]=r;var o=r.type;e!==o&&(r.type=e);try{i=this._invokeListeners(r,s,n)}finally{e!==o&&(r.type=o)}return i===void 0&&r.defaultPrevented&&(i=!1),i}};ta.prototype.handleError=function(e){return this.fire("error",{error:e})===!1};ta.prototype._destroy=function(){this._listeners={}};ta.prototype._invokeListeners=function(e,t,r){for(var n;r&&!e.cancelBubble;)n=this._invokeListener(e,t,r),r=r.next;return n};ta.prototype._invokeListener=function(e,t,r){var n;if(r.callback.__isTomb)return n;try{n=ree(r.callback,t),n!==void 0&&(e.returnValue=n,e.stopPropagation()),n===!1&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return n};ta.prototype._addListener=function(e,t){var r=this._getListeners(e),n;if(!r){this._setListeners(e,t);return}for(;r;){if(r.priority<t.priority){t.next=r,n?n.next=t:this._setListeners(e,t);return}n=r,r=r.next}n.next=t};ta.prototype._getListeners=function(e){return this._listeners[e]};ta.prototype._setListeners=function(e,t){this._listeners[e]=t};ta.prototype._removeListener=function(e,t){var r=this._getListeners(e),n,i,s;if(!t){this._setListeners(e,null);return}for(;r;)n=r.next,s=r.callback,(s===t||s[Yy]===t)&&(i?i.next=n:this._setListeners(e,n)),i=r,r=n};function pg(){}pg.prototype.stopPropagation=function(){this.cancelBubble=!0};pg.prototype.preventDefault=function(){this.defaultPrevented=!0};pg.prototype.init=function(e){Ie(this,e||{})};function ree(e,t){return e.apply(null,t)}function Vd(e){return e.childNodes[0]}function nee(e){return e.parentNode.childNodes[1]}function Zv(e,t,r,n,i){var s=r0();s.setTranslate(t,r);var o=r0();o.setRotate(n||0,0,0);var a=r0();a.setScale(1,1),H0(e,[s,o,a])}function $i(e,t,r){var n=r0();n.setTranslate(t,r),H0(e,n)}function VL(e,t){var r=r0();r.setRotate(t,0,0),H0(e,r)}function Ea(e,t){this._eventBus=e,this._elementRegistry=t}Ea.$inject=["eventBus","elementRegistry"];Ea.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),r;return e.parent?(r=nee(t),r||(r=Mt("g"),Pr(r).add("djs-children"),rr(t.parentNode,r))):r=t,r};Ea.prototype._clear=function(e){var t=Vd(e);return $b(t),t};Ea.prototype._createContainer=function(e,t,r,n){var i=Mt("g");Pr(i).add("djs-group"),typeof r<"u"?GL(i,t,t.childNodes[r]):rr(t,i);var s=Mt("g");Pr(s).add("djs-element"),Pr(s).add("djs-"+e),n&&Pr(s).add("djs-frame"),rr(i,s);var o=Mt("g");return Pr(o).add("djs-visual"),rr(s,o),s};Ea.prototype.create=function(e,t,r){var n=this._getChildrenContainer(t.parent);return this._createContainer(e,n,r,TL(t))};Ea.prototype.updateContainments=function(e){var t=this,r=this._elementRegistry,n;n=Js(e,function(i,s){return s.parent&&(i[s.parent.id]=s.parent),i},{}),Ce(n,function(i){var s=i.children;if(s){var o=t._getChildrenContainer(i);Ce(s.slice().reverse(),function(a){var l=r.getGraphics(a);GL(l.parentNode,o)})}})};Ea.prototype.drawShape=function(e,t,r={}){var n=this._eventBus;return n.fire("render.shape",{gfx:e,element:t,attrs:r})};Ea.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)};Ea.prototype.drawConnection=function(e,t,r={}){var n=this._eventBus;return n.fire("render.connection",{gfx:e,element:t,attrs:r})};Ea.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)};Ea.prototype.update=function(e,t,r){if(t.parent){var n=this._clear(r);if(e==="shape")this.drawShape(n,t),$i(r,t.x,t.y);else if(e==="connection")this.drawConnection(n,t);else throw new Error("unknown type: "+e);t.hidden?kt(r,"display","none"):kt(r,"display","block")}};Ea.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);ui(t.parentNode)};function GL(e,t,r){var n=r||t.firstChild;e!==n&&t.insertBefore(e,n)}const iee={__depends__:[EQ],__init__:["canvas"],canvas:["type",er],elementRegistry:["type",Sa],elementFactory:["type",lc],eventBus:["type",ta],graphicsFactory:["type",Ea]};function see(e){var t=new kL(e);return t.init(),t}function aee(e){e=e||{};var t={config:["value",e]},r=[t,iee].concat(e.modules||[]);return see(r)}function Ru(e,t){this._injector=t||aee(e),this.get("eventBus").fire("diagram.init")}Ru.prototype.get=function(e,t){return this._injector.get(e,t)};Ru.prototype.invoke=function(e,t,r){return this._injector.invoke(e,t,r)};Ru.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};Ru.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function I8(){}I8.prototype.get=function(e){return this.$model.properties.get(this,e)};I8.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function KL(e,t){this.model=e,this.properties=t}KL.prototype.createType=function(e){var t=this.model,r=this.properties,n=Object.create(I8.prototype);Ce(e.properties,function(o){!o.isMany&&o.default!==void 0&&(n[o.name]=o.default)}),r.defineModel(n,t),r.defineDescriptor(n,e);var i=e.ns.name;function s(o){r.define(this,"$type",{value:i,enumerable:!0}),r.define(this,"$attrs",{value:{}}),r.define(this,"$parent",{writable:!0}),Ce(o,Rs(function(a,l){this.set(l,a)},this))}return s.prototype=n,s.hasType=n.$instanceOf=this.model.hasType,r.defineModel(s,t),r.defineDescriptor(s,e),s};var oee={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},XL={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function M8(e,t){var r=XL[e];return r?r(t):t}function E4(e){return!!oee[e]}function ZL(e){return!!XL[e]}function es(e,t){var r=e.split(/:/),n,i;if(r.length===1)n=e,i=t;else if(r.length===2)n=r[1],i=r[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(i?i+":":"")+n,{name:e,prefix:i,localName:n}}function ka(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}ka.prototype.build=function(){return Eo(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};ka.prototype.addProperty=function(e,t,r){typeof t=="boolean"&&(r=t,t=void 0),this.addNamedProperty(e,r!==!1);var n=this.properties;t!==void 0?n.splice(t,0,e):n.push(e)};ka.prototype.replaceProperty=function(e,t,r){var n=e.ns,i=this.properties,s=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var a=i.indexOf(e);if(a===-1)throw new Error("property <"+n.name+"> not found in property list");i.splice(a,1),this.addProperty(t,r?void 0:a,o),s[n.name]=s[n.localName]=t};ka.prototype.redefineProperty=function(e,t,r){var n=e.ns.prefix,i=t.split("#"),s=es(i[0],n),o=es(i[1],s.prefix).name,a=this.propertiesByName[o];if(a)this.replaceProperty(a,e,r);else throw new Error("refined property <"+o+"> not found");delete e.redefines};ka.prototype.addNamedProperty=function(e,t){var r=e.ns,n=this.propertiesByName;t&&(this.assertNotDefined(e,r.name),this.assertNotDefined(e,r.localName)),n[r.name]=n[r.localName]=e};ka.prototype.removeNamedProperty=function(e){var t=e.ns,r=this.propertiesByName;delete r[t.name],delete r[t.localName]};ka.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e};ka.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e};ka.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)};ka.prototype.assertNotDefined=function(e,t){var r=e.name,n=this.propertiesByName[r];if(n)throw new Error("property <"+r+"> already defined; override of <"+n.definedBy.ns.name+"#"+n.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")};ka.prototype.hasProperty=function(e){return this.propertiesByName[e]};ka.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var r=this.allTypesByName,n=this.allTypes,i=e.name;i in r||(Ce(e.properties,Rs(function(s){s=Ie({},s,{name:s.ns.localName,inherited:t}),Object.defineProperty(s,"definedBy",{value:e});var o=s.replaces,a=s.redefines;o||a?this.redefineProperty(s,o||a,o):(s.isBody&&this.setBodyProperty(s),s.isId&&this.setIdProperty(s),this.addProperty(s))},this)),n.push(e),r[i]=e)};function Pu(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Ce(e,Rs(this.registerPackage,this))}Pu.prototype.getPackage=function(e){return this.packageMap[e]};Pu.prototype.getPackages=function(){return this.packages};Pu.prototype.registerPackage=function(e){e=Ie({},e);var t=this.packageMap;UA(t,e,"prefix"),UA(t,e,"uri"),Ce(e.types,Rs(function(r){this.registerType(r,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)};Pu.prototype.registerType=function(e,t){e=Ie({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Ie(e.meta||{})});var r=es(e.name,t.prefix),n=r.name,i={};Ce(e.properties,Rs(function(s){var o=es(s.name,r.prefix),a=o.name;E4(s.type)||(s.type=es(s.type,o.prefix).name),Ie(s,{ns:o,name:a}),i[a]=s},this)),Ie(e,{ns:r,name:n,propertiesByName:i}),Ce(e.extends,Rs(function(s){var o=es(s,r.prefix),a=this.typeMap[o.name];a.traits=a.traits||[],a.traits.push(n)},this)),this.definePackage(e,t),this.typeMap[n]=e};Pu.prototype.mapTypes=function(e,t,r){var n=E4(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function s(l,c){var u=es(l,E4(l)?"":e.prefix);i.mapTypes(u,t,c)}function o(l){return s(l,!0)}function a(l){return s(l,!1)}if(!n)throw new Error("unknown type <"+e.name+">");Ce(n.superClass,r?o:a),t(n,!r),Ce(n.traits,o)};Pu.prototype.getEffectiveDescriptor=function(e){var t=es(e),r=new ka(t);this.mapTypes(t,function(i,s){r.addTrait(i,s)});var n=r.build();return this.definePackage(n,n.allTypes[n.allTypes.length-1].$pkg),n};Pu.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function UA(e,t,r){var n=t[r];if(n in e)throw new Error("package with "+r+" <"+n+"> already defined")}function fh(e){this.model=e}fh.prototype.set=function(e,t,r){if(!Ys(t)||!t.length)throw new TypeError("property name must be a non-empty string");var n=this.getProperty(e,t),i=n&&n.name;lee(r)?n?delete e[i]:delete e.$attrs[k4(t)]:n?i in e?e[i]=r:YL(e,n,r):e.$attrs[k4(t)]=r};fh.prototype.get=function(e,t){var r=this.getProperty(e,t);if(!r)return e.$attrs[k4(t)];var n=r.name;return!e[n]&&r.isMany&&YL(e,r,[]),e[n]};fh.prototype.define=function(e,t,r){if(!r.writable){var n=r.value;r=Ie({},r,{get:function(){return n}}),delete r.value}Object.defineProperty(e,t,r)};fh.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})};fh.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};fh.prototype.getProperty=function(e,t){var r=this.model,n=r.getPropertyDescriptor(e,t);if(n)return n;if(t.includes(":"))return null;const i=r.config.strict;if(typeof i<"u"){const s=new TypeError(`unknown property <${t}> on <${e.$type}>`);if(i)throw s;typeof console<"u"&&console.warn(s)}return null};function lee(e){return typeof e>"u"}function YL(e,t,r){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:r,configurable:!0})}function k4(e){return e.replace(/^:/,"")}function Ya(e,t={}){this.properties=new fh(this),this.factory=new KL(this,this.properties),this.registry=new Pu(e,this.properties),this.typeCache={},this.config=t}Ya.prototype.create=function(e,t){var r=this.getType(e);if(!r)throw new Error("unknown type <"+e+">");return new r(t)};Ya.prototype.getType=function(e){var t=this.typeCache,r=Ys(e)?e:e.ns.name,n=t[r];return n||(e=this.registry.getEffectiveDescriptor(r),n=t[r]=this.factory.createType(e)),n};Ya.prototype.createAny=function(e,t,r){var n=es(e),i={$type:e,$instanceOf:function(o){return o===this.$type},get:function(o){return this[o]},set:function(o,a){IJ(this,[o],a)}},s={name:e,isGeneric:!0,ns:{prefix:n.prefix,localName:n.localName,uri:t}};return this.properties.defineDescriptor(i,s),this.properties.defineModel(i,this),this.properties.define(i,"get",{enumerable:!1,writable:!0}),this.properties.define(i,"set",{enumerable:!1,writable:!0}),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),Ce(r,function(o,a){Mi(o)&&o.value!==void 0?i[o.name]=o.value:i[a]=o}),i};Ya.prototype.getPackage=function(e){return this.registry.getPackage(e)};Ya.prototype.getPackages=function(){return this.registry.getPackages()};Ya.prototype.getElementDescriptor=function(e){return e.$descriptor};Ya.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var r=e.$model.getElementDescriptor(e);return t in r.allTypesByName};Ya.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]};Ya.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var $A=String.fromCharCode,cee=Object.prototype.hasOwnProperty,uee=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,i0={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(i0).forEach(function(e){i0[e.toUpperCase()]=i0[e]});function dee(e,t,r,n){return n?cee.call(i0,n)?i0[n]:"&"+n+";":$A(t||parseInt(r,16))}function pd(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(uee,dee):e}var HA="non-whitespace outside of root node";function Hh(e){return new Error(e)}function WA(e){return"missing namespace for prefix <"+e+">"}function J1(e){return{get:e,enumerable:!0}}function hee(e){var t={},r;for(r in e)t[r]=e[r];return t}function N4(e){return e+"$uri"}function fee(e){var t={},r,n;for(r in e)n=e[r],t[n]=n,t[N4(n)]=r;return t}function qA(){return{line:0,column:0}}function pee(e){throw e}function JL(e){if(!this)return new JL(e);var t=e&&e.proxy,r,n,i,s,o=pee,a,l,c,u,h=qA,f=!1,d=!1,p=null,g=!1,m;function v(x){x instanceof Error||(x=Hh(x)),p=x,o(x,h)}function y(x){a&&(x instanceof Error||(x=Hh(x)),a(x,h))}this.on=function(x,_){if(typeof _!="function")throw Hh("required args <name, cb>");switch(x){case"openTag":n=_;break;case"text":r=_;break;case"closeTag":i=_;break;case"error":o=_;break;case"warn":a=_;break;case"cdata":s=_;break;case"attention":u=_;break;case"question":c=_;break;case"comment":l=_;break;default:throw Hh("unsupported event: "+x)}return this},this.ns=function(x){if(typeof x>"u"&&(x={}),typeof x!="object")throw Hh("required args <nsMap={}>");var _={},M;for(M in x)_[M]=x[M];return d=!0,m=_,this},this.parse=function(x){if(typeof x!="string")throw Hh("required args <xml=string>");return p=null,b(x),h=qA,g=!1,p},this.stop=function(){g=!0};function b(x){var _=d?[]:null,M=d?fee(m):null,U,L=[],O=0,H=!1,G=!1,I=0,R=0,S,j,E,k,A,C,D,z,P,K="",Z=0,te;function q(){if(te!==null)return te;var N,T,V,J=d&&M.xmlns,re=d&&f?[]:null,se=Z,B=K,ne=B.length,ee,F,W,Y,ae,ce={},le={},de,me,ge;e:for(;se<ne;se++)if(de=!1,me=B.charCodeAt(se),!(me===32||me<14&&me>8)){for((me<65||me>122||me>90&&me<97)&&me!==95&&me!==58&&(y("illegal first char attribute name"),de=!0),ge=se+1;ge<ne;ge++)if(me=B.charCodeAt(ge),!(me>96&&me<123||me>64&&me<91||me>47&&me<59||me===46||me===45||me===95)){if(me===32||me<14&&me>8){y("missing attribute value"),se=ge;continue e}if(me===61)break;y("illegal attribute name char"),de=!0}if(ae=B.substring(se,ge),ae==="xmlns:xmlns"&&(y("illegal declaration of xmlns"),de=!0),me=B.charCodeAt(ge+1),me===34)ge=B.indexOf('"',se=ge+2),ge===-1&&(ge=B.indexOf("'",se),ge!==-1&&(y("attribute value quote missmatch"),de=!0));else if(me===39)ge=B.indexOf("'",se=ge+2),ge===-1&&(ge=B.indexOf('"',se),ge!==-1&&(y("attribute value quote missmatch"),de=!0));else for(y("missing attribute value quotes"),de=!0,ge=ge+1;ge<ne&&(me=B.charCodeAt(ge+1),!(me===32||me<14&&me>8));ge++);for(ge===-1&&(y("missing closing quotes"),ge=ne,de=!0),de||(W=B.substring(se,ge)),se=ge;ge+1<ne&&(me=B.charCodeAt(ge+1),!(me===32||me<14&&me>8));ge++)se===ge&&(y("illegal character after attribute end"),de=!0);if(se=ge+1,de)continue e;if(ae in le){y("attribute <"+ae+"> already defined");continue}if(le[ae]=!0,!d){ce[ae]=W;continue}if(f){if(F=ae==="xmlns"?"xmlns":ae.charCodeAt(0)===120&&ae.substr(0,6)==="xmlns:"?ae.substr(6):null,F!==null){if(N=pd(W),T=N4(F),Y=m[N],!Y){if(F==="xmlns"||T in M&&M[T]!==N)do Y="ns"+O++;while(typeof M[Y]<"u");else Y=F;m[N]=Y}M[F]!==Y&&(ee||(M=hee(M),ee=!0),M[F]=Y,F==="xmlns"&&(M[N4(Y)]=N,J=Y),M[T]=N),ce[ae]=W;continue}re.push(ae,W);continue}if(me=ae.indexOf(":"),me===-1){ce[ae]=W;continue}if(!(V=M[ae.substring(0,me)])){y(WA(ae.substring(0,me)));continue}ae=J===V?ae.substr(me+1):V+ae.substr(me),ce[ae]=W}if(f)for(se=0,ne=re.length;se<ne;se++){if(ae=re[se++],W=re[se],me=ae.indexOf(":"),me!==-1){if(!(V=M[ae.substring(0,me)])){y(WA(ae.substring(0,me)));continue}ae=J===V?ae.substr(me+1):V+ae.substr(me)}ce[ae]=W}return te=ce}function $(){for(var N=/(\r\n|\r|\n)/g,T=0,V=0,J=0,re=R,se,B;I>=J&&(se=N.exec(x),!(!se||(re=se[0].length+se.index,re>I)));)T+=1,J=re;return I==-1?(V=re,B=x.substring(R)):R===0?B=x.substring(R,I):(V=I-J,B=R==-1?x.substring(I):x.substring(I,R+1)),{data:B,line:T,column:V}}for(h=$,t&&(P=Object.create({},{name:J1(function(){return D}),originalName:J1(function(){return z}),attrs:J1(q),ns:J1(function(){return M})}));R!==-1;){if(x.charCodeAt(R)===60?I=R:I=x.indexOf("<",R),I===-1){if(L.length)return v("unexpected end of file");if(R===0)return v("missing start tag");R<x.length&&x.substring(R).trim()&&y(HA);return}if(R!==I){if(L.length){if(r&&(r(x.substring(R,I),pd,h),g))return}else if(x.substring(R,I).trim()&&(y(HA),g))return}if(k=x.charCodeAt(I+1),k===33){if(E=x.charCodeAt(I+2),E===91&&x.substr(I+3,6)==="CDATA["){if(R=x.indexOf("]]>",I),R===-1)return v("unclosed cdata");if(s&&(s(x.substring(I+9,R),h),g))return;R+=3;continue}if(E===45&&x.charCodeAt(I+3)===45){if(R=x.indexOf("-->",I),R===-1)return v("unclosed comment");if(l&&(l(x.substring(I+4,R),pd,h),g))return;R+=3;continue}}if(k===63){if(R=x.indexOf("?>",I),R===-1)return v("unclosed question");if(c&&(c(x.substring(I,R+2),h),g))return;R+=2;continue}for(S=I+1;;S++){if(A=x.charCodeAt(S),isNaN(A))return R=-1,v("unclosed tag");if(A===34)E=x.indexOf('"',S+1),S=E!==-1?E:S;else if(A===39)E=x.indexOf("'",S+1),S=E!==-1?E:S;else if(A===62){R=S;break}}if(k===33){if(u&&(u(x.substring(I,R+1),pd,h),g))return;R+=1;continue}if(te={},k===47){if(H=!1,G=!0,!L.length)return v("missing open tag");if(S=D=L.pop(),E=I+2+S.length,x.substring(I+2,E)!==S)return v("closing tag mismatch");for(;E<R;E++)if(k=x.charCodeAt(E),!(k===32||k>8&&k<14))return v("close tag")}else{if(x.charCodeAt(R-1)===47?(S=D=x.substring(I+1,R-1),H=!0,G=!0):(S=D=x.substring(I+1,R),H=!0,G=!1),!(k>96&&k<123||k>64&&k<91||k===95||k===58))return v("illegal first char nodeName");for(E=1,j=S.length;E<j;E++)if(k=S.charCodeAt(E),!(k>96&&k<123||k>64&&k<91||k>47&&k<59||k===45||k===95||k==46)){if(k===32||k<14&&k>8){D=S.substring(0,E),te=null;break}return v("invalid nodeName")}G||L.push(D)}if(d){if(U=M,H&&(G||_.push(U),te===null&&(f=S.indexOf("xmlns",E)!==-1)&&(Z=E,K=S,q(),f=!1)),z=D,k=D.indexOf(":"),k!==-1){if(C=M[D.substring(0,k)],!C)return v("missing namespace on <"+z+">");D=D.substr(k+1)}else C=M.xmlns;C&&(D=C+":"+D)}if(H&&(Z=E,K=S,n&&(t?n(P,pd,G,h):n(D,q,pd,G,h),g)))return;if(G){if(i&&(i(t?P:D,pd,H,h),g))return;d&&(H?M=U:M=_.pop())}R+=1}}}function QL(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var A4={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},eD="property";function tD(e){return e.xml&&e.xml.serialize}function mee(e){const t=tD(e);return t!==eD&&(t||null)}function gee(e){return e.charAt(0).toUpperCase()+e.slice(1)}function rD(e,t){return QL(t)?e.prefix+":"+gee(e.localName):e.name}function vee(e,t){var r=e.name,n=e.localName,i=t&&t.xml&&t.xml.typePrefix;return i&&n.indexOf(i)===0?e.prefix+":"+n.slice(i.length):r}function yee(e,t,r){const n=es(e,t.xmlns),i=`${t[n.prefix]||n.prefix}:${n.localName}`,s=es(i);var o=r.getPackage(s.prefix);return vee(s,o)}function Eu(e){return new Error(e)}function Jl(e){return e.$descriptor}function bee(e){Ie(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw Eu("expected element");var r=this.elementsById,n=Jl(t),i=n.idProperty,s;if(i&&(s=t.get(i.name),s)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(s))throw new Error("illegal ID <"+s+">");if(r[s])throw Eu("duplicate ID <"+s+">");r[s]=t}},this.addWarning=function(t){this.warnings.push(t)}}function mg(){}mg.prototype.handleEnd=function(){};mg.prototype.handleText=function(){};mg.prototype.handleNode=function(){};function L8(){}L8.prototype=Object.create(mg.prototype);L8.prototype.handleNode=function(){return this};function gp(){}gp.prototype=Object.create(mg.prototype);gp.prototype.handleText=function(e){this.body=(this.body||"")+e};function gg(e,t){this.property=e,this.context=t}gg.prototype=Object.create(gp.prototype);gg.prototype.handleNode=function(e){if(this.element)throw Eu("expected no sub nodes");return this.element=this.createReference(e),this};gg.prototype.handleEnd=function(){this.element.id=this.body};gg.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function D8(e,t){this.element=t,this.propertyDesc=e}D8.prototype=Object.create(gp.prototype);D8.prototype.handleEnd=function(){var e=this.body||"",t=this.element,r=this.propertyDesc;e=M8(r.type,e),r.isMany?t.get(r.name).push(e):t.set(r.name,e)};function Gb(){}Gb.prototype=Object.create(gp.prototype);Gb.prototype.handleNode=function(e){var t=this,r=this.element;return r?t=this.handleChild(e):(r=this.element=this.createElement(e),this.context.addElement(r)),t};function ys(e,t,r){this.model=e,this.type=e.getType(t),this.context=r}ys.prototype=Object.create(Gb.prototype);ys.prototype.addReference=function(e){this.context.addReference(e)};ys.prototype.handleText=function(e){var t=this.element,r=Jl(t),n=r.bodyProperty;if(!n)throw Eu("unexpected body text <"+e+">");gp.prototype.handleText.call(this,e)};ys.prototype.handleEnd=function(){var e=this.body,t=this.element,r=Jl(t),n=r.bodyProperty;n&&e!==void 0&&(e=M8(n.type,e),t.set(n.name,e))};ys.prototype.createElement=function(e){var t=e.attributes,r=this.type,n=Jl(r),i=this.context,s=new r({}),o=this.model,a;return Ce(t,function(l,c){var u=n.propertiesByName[c],h;u&&u.isReference?u.isMany?(h=l.split(" "),Ce(h,function(f){i.addReference({element:s,property:u.ns.name,id:f})})):i.addReference({element:s,property:u.ns.name,id:l}):(u?l=M8(u.type,l):c==="xmlns"?c=":"+c:(a=es(c,n.ns.prefix),o.getPackage(a.prefix)&&i.addWarning({message:"unknown attribute <"+c+">",element:s,property:c,value:l})),s.set(c,l))}),s};ys.prototype.getPropertyForNode=function(e){var t=e.name,r=es(t),n=this.type,i=this.model,s=Jl(n),o=r.name,a=s.propertiesByName[o];if(a&&!a.isAttr){const c=mee(a);if(c){const u=e.attributes[c];if(u){const h=yee(u,e.ns,i),f=i.getType(h);return Ie({},a,{effectiveType:Jl(f).name})}}return a}var l=i.getPackage(r.prefix);if(l){const c=rD(r,l),u=i.getType(c);if(a=Lr(s.properties,function(h){return!h.isVirtual&&!h.isReference&&!h.isAttribute&&u.hasType(h.type)}),a)return Ie({},a,{effectiveType:Jl(u).name})}else if(a=Lr(s.properties,function(c){return!c.isReference&&!c.isAttribute&&c.type==="Element"}),a)return a;throw Eu("unrecognized element <"+r.name+">")};ys.prototype.toString=function(){return"ElementDescriptor["+Jl(this.type).name+"]"};ys.prototype.valueHandler=function(e,t){return new D8(e,t)};ys.prototype.referenceHandler=function(e){return new gg(e,this.context)};ys.prototype.handler=function(e){return e==="Element"?new Wf(this.model,e,this.context):new ys(this.model,e,this.context)};ys.prototype.handleChild=function(e){var t,r,n,i;if(t=this.getPropertyForNode(e),n=this.element,r=t.effectiveType||t.type,ZL(r))return this.valueHandler(t,n);t.isReference?i=this.referenceHandler(t).handleNode(e):i=this.handler(r).handleNode(e);var s=i.element;return s!==void 0&&(t.isMany?n.get(t.name).push(s):n.set(t.name,s),t.isReference?(Ie(s,{element:n}),this.context.addReference(s)):s.$parent=n),i};function B8(e,t,r){ys.call(this,e,t,r)}B8.prototype=Object.create(ys.prototype);B8.prototype.createElement=function(e){var t=e.name,r=es(t),n=this.model,i=this.type,s=n.getPackage(r.prefix),o=s&&rD(r,s)||t;if(!i.hasType(o))throw Eu("unexpected element <"+e.originalName+">");return ys.prototype.createElement.call(this,e)};function Wf(e,t,r){this.model=e,this.context=r}Wf.prototype=Object.create(Gb.prototype);Wf.prototype.createElement=function(e){var t=e.name,r=es(t),n=r.prefix,i=e.ns[n+"$uri"],s=e.attributes;return this.model.createAny(t,i,s)};Wf.prototype.handleChild=function(e){var t=new Wf(this.model,"Element",this.context).handleNode(e),r=this.element,n=t.element,i;return n!==void 0&&(i=r.$children=r.$children||[],i.push(n),n.$parent=r),t};Wf.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function F8(e){e instanceof Ya&&(e={model:e}),Ie(this,{lax:!1},e)}F8.prototype.fromXML=function(e,t,r){var n=t.rootHandler;t instanceof ys?(n=t,t={}):typeof t=="string"?(n=this.handler(t),t={}):typeof n=="string"&&(n=this.handler(n));var i=this.model,s=this.lax,o=new bee(Ie({},t,{rootHandler:n})),a=new JL({proxy:!0}),l=wee();n.context=o,l.push(n);function c(_,M,U){var L=M(),O=L.line,H=L.column,G=L.data;G.charAt(0)==="<"&&G.indexOf(" ")!==-1&&(G=G.slice(0,G.indexOf(" "))+">");var I="unparsable content "+(G?G+" ":"")+`detected
	line: `+O+`
	column: `+H+`
	nested error: `+_.message;if(U)return o.addWarning({message:I,error:_}),!0;throw Eu(I)}function u(_,M){return c(_,M,!0)}function h(){var _=o.elementsById,M=o.references,U,L;for(U=0;L=M[U];U++){var O=L.element,H=_[L.id],G=Jl(O).propertiesByName[L.property];if(H||o.addWarning({message:"unresolved reference <"+L.id+">",element:L.element,property:L.property,value:L.id}),G.isMany){var I=O.get(G.name),R=I.indexOf(L);R===-1&&(R=I.length),H?I[R]=H:I.splice(R,1)}else O.set(G.name,H)}}function f(){l.pop().handleEnd()}var d=/^<\?xml /i,p=/ encoding="([^"]+)"/i,g=/^utf-8$/i;function m(_){if(d.test(_)){var M=p.exec(_),U=M&&M[1];!U||g.test(U)||o.addWarning({message:"unsupported document encoding <"+U+">, falling back to UTF-8"})}}function v(_,M){var U=l.peek();try{l.push(U.handleNode(_))}catch(L){c(L,M,s)&&l.push(new L8)}}function y(_,M){try{l.peek().handleText(_)}catch(U){u(U,M)}}function b(_,M){_.trim()&&y(_,M)}var x=i.getPackages().reduce(function(_,M){return _[M.uri]=M.prefix,_},Object.entries(A4).reduce(function(_,[M,U]){return _[U]=M,_},i.config&&i.config.nsMap||{}));return a.ns(x).on("openTag",function(_,M,U,L){var O=_.attrs||{},H=Object.keys(O).reduce(function(I,R){var S=M(O[R]);return I[R]=S,I},{}),G={name:_.name,originalName:_.originalName,attributes:H,ns:_.ns};v(G,L)}).on("question",m).on("closeTag",f).on("cdata",y).on("text",function(_,M,U){b(M(_),U)}).on("error",c).on("warn",u),new Promise(function(_,M){var U;try{a.parse(e),h()}catch(I){U=I}var L=n.element;!U&&!L&&(U=Eu("failed to parse document as <"+n.type.$descriptor.name+">"));var O=o.warnings,H=o.references,G=o.elementsById;return U?(U.warnings=O,M(U)):_({rootElement:L,elementsById:G,references:H,warnings:O})})};F8.prototype.handler=function(e){return new B8(this.model,e)};function wee(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var xee=`<?xml version="1.0" encoding="UTF-8"?>
`,_ee=/<|>|'|"|&|\n\r|\n/g,nD=/<|>|&/g;function fl(e){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=e,this.defaultPrefixMap=e&&e.defaultPrefixMap||{}}fl.prototype.mapDefaultPrefixes=function(e){this.defaultPrefixMap=e};fl.prototype.defaultUriByPrefix=function(e){return this.defaultPrefixMap[e]};fl.prototype.byUri=function(e){return this.uriMap[e]||this.parent&&this.parent.byUri(e)};fl.prototype.add=function(e,t){this.uriMap[e.uri]=e,t?this.wellknown.push(e):this.custom.push(e),this.mapPrefix(e.prefix,e.uri)};fl.prototype.uriByPrefix=function(e){return this.prefixMap[e||"xmlns"]||this.parent&&this.parent.uriByPrefix(e)};fl.prototype.mapPrefix=function(e,t){this.prefixMap[e||"xmlns"]=t};fl.prototype.getNSKey=function(e){return e.prefix!==void 0?e.uri+"|"+e.prefix:e.uri};fl.prototype.logUsed=function(e){var t=e.uri,r=this.getNSKey(e);this.used[r]=this.byUri(t),this.parent&&this.parent.logUsed(e)};fl.prototype.getUsed=function(e){var t=[].concat(this.wellknown,this.custom);return t.filter(r=>{var n=this.getNSKey(r);return this.used[n]})};function See(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Eee(e,t){return QL(t)?See(e):e}function iD(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function sD(e){return Ys(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function kee(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var r="xmlns"+(t.prefix?":"+t.prefix:"");return{name:r,value:t.uri}})}function Nee(e,t){return t.isGeneric?Ie({localName:t.ns.localName},e):Ie({localName:Eee(t.ns.localName,t.$pkg)},e)}function Aee(e,t){return Ie({localName:t.ns.localName},e)}function Cee(e){var t=e.$descriptor;return mr(t.properties,function(r){var n=r.name;if(r.isVirtual||!As(e,n))return!1;var i=e[n];return i===r.default||i===null?!1:r.isMany?i.length:!0})}var jee={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Tee={"<":"lt",">":"gt","&":"amp"};function aD(e,t,r){return e=Ys(e)?e:""+e,e.replace(t,function(n){return"&"+r[n]+";"})}function Ree(e){return aD(e,_ee,jee)}function Pee(e){return aD(e,nD,Tee)}function Oee(e){return mr(e,function(t){return t.isAttr})}function Iee(e){return mr(e,function(t){return!t.isAttr})}function z8(e){this.tagName=e}z8.prototype.build=function(e){return this.element=e,this};z8.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function rh(){}rh.prototype.serializeValue=rh.prototype.serializeTo=function(e){e.append(this.escape?Pee(this.value):this.value)};rh.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(nD)!==-1&&(this.escape=!0),this};function U8(e){this.tagName=e}iD(U8,rh);U8.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function xn(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}xn.prototype.build=function(e){this.element=e;var t=e.$descriptor,r=this.propertyDescriptor,n,i,s=t.isGeneric;return s?n=this.parseGenericNsAttributes(e):n=this.parseNsAttributes(e),r?this.ns=this.nsPropertyTagName(r):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),s?this.parseGenericContainments(e):(i=Cee(e),this.parseAttributes(Oee(i)),this.parseContainments(Iee(i))),this.parseGenericAttributes(e,n),this};xn.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Nee(t,e)};xn.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Aee(t,e)};xn.prototype.isLocalNs=function(e){return e.uri===this.ns.uri};xn.prototype.nsAttributeName=function(e){var t;if(Ys(e)?t=es(e):t=e.ns,e.inherited)return{localName:t.localName};var r=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(r),this.isLocalNs(r)?{localName:t.localName}:Ie({localName:t.localName},r)};xn.prototype.parseGenericNsAttributes=function(e){return Object.entries(e).filter(([t,r])=>!t.startsWith("$")&&this.parseNsAttribute(e,t,r)).map(([t,r])=>({name:t,value:r}))};xn.prototype.parseGenericContainments=function(e){var t=e.$body;t&&this.body.push(new rh().build({type:"String"},t));var r=e.$children;r&&Ce(r,n=>{this.body.push(new xn(this).build(n))})};xn.prototype.parseNsAttribute=function(e,t,r){var n=e.$model,i=es(t),s;if(i.prefix==="xmlns"&&(s={prefix:i.localName,uri:r}),!i.prefix&&i.localName==="xmlns"&&(s={uri:r}),!s)return{name:t,value:r};if(n&&n.getPackage(r))this.logNamespace(s,!0,!0);else{var o=this.logNamespaceUsed(s,!0);this.getNamespaces().logUsed(o)}};xn.prototype.parseNsAttributes=function(e){var t=this,r=e.$attrs,n=[];return Ce(r,function(i,s){var o=t.parseNsAttribute(e,s,i);o&&n.push(o)}),n};xn.prototype.parseGenericAttributes=function(e,t){var r=this;Ce(t,function(n){try{r.addAttribute(r.nsAttributeName(n.name),n.value)}catch(i){typeof console<"u"&&console.warn(`missing namespace information for <${n.name}=${n.value}> on`,e,i)}})};xn.prototype.parseContainments=function(e){var t=this,r=this.body,n=this.element;Ce(e,function(i){var s=n.get(i.name),o=i.isReference,a=i.isMany;if(a||(s=[s]),i.isBody)r.push(new rh().build(i,s[0]));else if(ZL(i.type))Ce(s,function(c){r.push(new U8(t.addTagName(t.nsPropertyTagName(i))).build(i,c))});else if(o)Ce(s,function(c){r.push(new z8(t.addTagName(t.nsPropertyTagName(i))).build(c))});else{var l=tD(i);Ce(s,function(c){var u;l?l===eD?u=new xn(t,i):u=new Kb(t,i,l):u=new xn(t),r.push(u.build(c))})}})};xn.prototype.getNamespaces=function(e){var t=this.namespaces,r=this.parent,n;return t||(n=r&&r.getNamespaces(),e||!n?this.namespaces=t=new fl(n):t=n),t};xn.prototype.logNamespace=function(e,t,r){var n=this.getNamespaces(r),i=e.uri,s=e.prefix,o=n.byUri(i);return(!o||r)&&n.add(e,t),n.mapPrefix(s,i),e};xn.prototype.logNamespaceUsed=function(e,t){var r=this.getNamespaces(t),n=e.prefix,i=e.uri,s,o,a;if(!n&&!i)return{localName:e.localName};if(a=r.defaultUriByPrefix(n),i=i||a||r.uriByPrefix(n),!i)throw new Error("no namespace uri given for prefix <"+n+">");if(e=r.byUri(i),!e&&!n&&(e=this.logNamespace({uri:i},a===i,!0)),!e){for(s=n,o=1;r.uriByPrefix(s);)s=n+"_"+o++;e=this.logNamespace({prefix:s,uri:i},a===i)}return n&&r.mapPrefix(n,i),e};xn.prototype.parseAttributes=function(e){var t=this,r=this.element;Ce(e,function(n){var i=r.get(n.name);if(n.isReference)if(!n.isMany)i=i.id;else{var s=[];Ce(i,function(o){s.push(o.id)}),i=s.join(" ")}t.addAttribute(t.nsAttributeName(n),i)})};xn.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),sD(e)};xn.prototype.addAttribute=function(e,t){var r=this.attrs;Ys(t)&&(t=Ree(t));var n=fL(r,function(s){return s.name.localName===e.localName&&s.name.uri===e.uri&&s.name.prefix===e.prefix}),i={name:e,value:t};n!==-1?r.splice(n,1,i):r.push(i)};xn.prototype.serializeAttributes=function(e){var t=this.attrs,r=this.namespaces;r&&(t=kee(r).concat(t)),Ce(t,function(n){e.append(" ").append(sD(n.name)).append('="').append(n.value).append('"')})};xn.prototype.serializeTo=function(e){var t=this.body[0],r=t&&t.constructor!==rh;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(r&&e.appendNewLine().indent(),Ce(this.body,function(n){n.serializeTo(e)}),r&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function Kb(e,t,r){xn.call(this,e,t),this.serialization=r}iD(Kb,xn);Kb.prototype.parseNsAttributes=function(e){var t=xn.prototype.parseNsAttributes.call(this,e).filter(o=>o.name!==this.serialization),r=e.$descriptor;if(r.name===this.propertyDescriptor.type)return t;var n=this.typeNs=this.nsTagName(r);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(n.uri),s=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(n.prefix?n.prefix+":":"")+s+r.ns.localName),t};Kb.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function Mee(){this.value="",this.write=function(e){this.value+=e}}function Lee(e,t){var r=[""];this.append=function(n){return e.write(n),this},this.appendNewLine=function(){return t&&e.write(`
`),this},this.appendIndent=function(){return t&&e.write(r.join("  ")),this},this.indent=function(){return r.push(""),this},this.unindent=function(){return r.pop(),this}}function Dee(e){e=Ie({format:!1,preamble:!0},e||{});function t(r,n){var i=n||new Mee,s=new Lee(i,e.format);e.preamble&&s.append(xee);var o=new xn,a=r.$model;if(o.getNamespaces().mapDefaultPrefixes(Bee(a)),o.build(r).serializeTo(s),!n)return i.value}return{toXML:t}}function Bee(e){const t=e.config&&e.config.nsMap||{},r={};for(const n in A4)r[n]=A4[n];for(const n in t){const i=t[n];r[i]=n}for(const n of e.getPackages())r[n.prefix]=n.uri;return r}function Xb(e,t){Ya.call(this,e,t)}Xb.prototype=Object.create(Ya.prototype);Xb.prototype.fromXML=function(e,t,r){Ys(t)||(r=t,t="bpmn:Definitions");var n=new F8(Ie({model:this,lax:!0},r)),i=n.handler(t);return n.fromXML(e,i)};Xb.prototype.toXML=function(e,t){var r=new Dee(t);return new Promise(function(n,i){try{var s=r.toXML(e);return n({xml:s})}catch(o){return i(o)}})};var Fee="BPMN20",zee="http://www.omg.org/spec/BPMN/20100524/MODEL",Uee="bpmn",$ee=[],Hee=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],Wee=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],qee={tagAlias:"lowerCase",typePrefix:"t"},Vee={name:Fee,uri:zee,prefix:Uee,associations:$ee,types:Hee,enumerations:Wee,xml:qee},Gee="BPMNDI",Kee="http://www.omg.org/spec/BPMN/20100524/DI",Xee="bpmndi",Zee=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],Yee=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],Jee=[],Qee={name:Gee,uri:Kee,prefix:Xee,types:Zee,enumerations:Yee,associations:Jee},ete="DC",tte="http://www.omg.org/spec/DD/20100524/DC",rte="dc",nte=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],ite=[],ste={name:ete,uri:tte,prefix:rte,types:nte,associations:ite},ate="DI",ote="http://www.omg.org/spec/DD/20100524/DI",lte="di",cte=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],ute=[],dte={tagAlias:"lowerCase"},hte={name:ate,uri:ote,prefix:lte,types:cte,associations:ute,xml:dte},fte="bpmn.io colors for BPMN",pte="http://bpmn.io/schema/bpmn/biocolor/1.0",mte="bioc",gte=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],vte=[],yte=[],bte={name:fte,uri:pte,prefix:mte,types:gte,enumerations:vte,associations:yte},wte="BPMN in Color",xte="http://www.omg.org/spec/BPMN/non-normative/color/1.0",_te="color",Ste=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],Ete=[],kte=[],Nte={name:wte,uri:xte,prefix:_te,types:Ste,enumerations:Ete,associations:kte};const Ate={bpmn:Vee,bpmndi:Qee,dc:ste,di:hte,bioc:bte,color:Nte};function Cte(e,t){const r=Ie({},Ate,e);return new Xb(r,t)}function Yi(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var jte="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function oD(e){As(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error(jte)}})}function Es(e,t){return e.$instanceOf(t)}function Tte(e){return Lr(e.rootElements,function(t){return Es(t,"bpmn:Process")||Es(t,"bpmn:Collaboration")})}function Rte(e){var t={},r=[],n={};function i(P,K){return function(Z){P(Z,K)}}function s(P){t[P.id]=P}function o(P){return t[P.id]}function a(P,K){var Z=P.gfx;if(Z)throw new Error(`already rendered ${Yi(P)}`);return e.element(P,n[P.id],K)}function l(P,K){return e.root(P,n[P.id],K)}function c(P,K){try{var Z=n[P.id]&&a(P,K);return s(P),Z}catch(te){u(te.message,{element:P,error:te}),console.error(`failed to import ${Yi(P)}`,te)}}function u(P,K){e.error(P,K)}var h=this.registerDi=function(K){var Z=K.bpmnElement;Z?n[Z.id]?u(`multiple DI elements defined for ${Yi(Z)}`,{element:Z}):(n[Z.id]=K,oD(Z)):u(`no bpmnElement referenced in ${Yi(K)}`,{element:K})};function f(P){d(P.plane)}function d(P){h(P),Ce(P.planeElement,p)}function p(P){h(P)}this.handleDefinitions=function(K,Z){var te=K.diagrams;if(Z&&te.indexOf(Z)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!Z&&te&&te.length&&(Z=te[0]),!Z)throw new Error("no diagram to display");n={},f(Z);var q=Z.plane;if(!q)throw new Error(`no plane for ${Yi(Z)}`);var $=q.bpmnElement;if(!$)if($=Tte(K),$)u(`correcting missing bpmnElement on ${Yi(q)} to ${Yi($)}`),q.bpmnElement=$,h(q);else throw new Error("no process or collaboration to display");var N=l($,q);if(Es($,"bpmn:Process")||Es($,"bpmn:SubProcess"))m($,N);else if(Es($,"bpmn:Collaboration"))D($,N),v(K.rootElements,N);else throw new Error(`unsupported bpmnElement for ${Yi(q)}: ${Yi($)}`);g(r)};var g=this.handleDeferred=function(){for(var K;r.length;)K=r.shift(),K()};function m(P,K){k(P,K),O(P.ioSpecification,K),L(P.artifacts,K),s(P)}function v(P,K){var Z=mr(P,function(te){return!o(te)&&Es(te,"bpmn:Process")&&te.laneSets});Z.forEach(i(m,K))}function y(P,K){c(P,K)}function b(P,K){Ce(P,i(y,K))}function x(P,K){c(P,K)}function _(P,K){c(P,K)}function M(P,K){c(P,K)}function U(P,K){c(P,K)}function L(P,K){Ce(P,function(Z){Es(Z,"bpmn:Association")?r.push(function(){U(Z,K)}):U(Z,K)})}function O(P,K){P&&(Ce(P.dataInputs,i(_,K)),Ce(P.dataOutputs,i(M,K)))}var H=this.handleSubProcess=function(K,Z){k(K,Z),L(K.artifacts,Z)};function G(P,K){var Z=c(P,K);Es(P,"bpmn:SubProcess")&&H(P,Z||K),Es(P,"bpmn:Activity")&&O(P.ioSpecification,K),r.push(function(){Ce(P.dataInputAssociations,i(x,K)),Ce(P.dataOutputAssociations,i(x,K))})}function I(P,K){c(P,K)}function R(P,K){c(P,K)}function S(P,K){r.push(function(){var Z=c(P,K);P.childLaneSet&&j(P.childLaneSet,Z||K),z(P)})}function j(P,K){Ce(P.lanes,i(S,K))}function E(P,K){Ce(P,i(j,K))}function k(P,K){A(P.flowElements,K),P.laneSets&&E(P.laneSets,K)}function A(P,K){Ce(P,function(Z){Es(Z,"bpmn:SequenceFlow")?r.push(function(){I(Z,K)}):Es(Z,"bpmn:BoundaryEvent")?r.unshift(function(){G(Z,K)}):Es(Z,"bpmn:FlowNode")?G(Z,K):Es(Z,"bpmn:DataObject")||(Es(Z,"bpmn:DataStoreReference")||Es(Z,"bpmn:DataObjectReference")?R(Z,K):u(`unrecognized flowElement ${Yi(Z)} in context ${Yi(K&&K.businessObject)}`,{element:Z,context:K}))})}function C(P,K){var Z=c(P,K),te=P.processRef;te&&m(te,Z||K)}function D(P,K){Ce(P.participants,i(C,K)),r.push(function(){b(P.messageFlows,K)}),L(P.artifacts,K)}function z(P){Ce(P.flowNodeRef,function(K){var Z=K.get("lanes");Z&&Z.push(P)})}}function he(e,t){var r=ht(e);return r&&typeof r.$instanceOf=="function"&&r.$instanceOf(t)}function gr(e,t){return ju(t,function(r){return he(e,r)})}function ht(e){return e&&e.businessObject||e}function Or(e){return e&&e.di}function Pte(e,t,r){var n,i,s,o,a=[];function l(c,u){var h={root:function(g,m){return n.add(g,m)},element:function(g,m,v){return n.add(g,m,v)},error:function(g,m){a.push({message:g,context:m})}},f=new Rte(h);u=u||c.diagrams&&c.diagrams[0];var d=Ote(c,u);if(!d)throw new Error("no diagram to display");Ce(d,function(g){f.handleDefinitions(c,g)});var p=u.plane.bpmnElement.id;s.setRootElement(s.findRoot(p+"_plane")||s.findRoot(p))}return new Promise(function(c,u){try{return n=e.get("bpmnImporter"),i=e.get("eventBus"),s=e.get("canvas"),i.fire("import.render.start",{definitions:t}),l(t,r),i.fire("import.render.complete",{error:o,warnings:a}),c({warnings:a})}catch(h){return h.warnings=a,u(h)}})}function Ote(e,t){if(!(!t||!t.plane)){var r=t.plane.bpmnElement,n=r;!he(r,"bpmn:Process")&&!he(r,"bpmn:Collaboration")&&(n=Ite(r));var i;he(n,"bpmn:Collaboration")?i=n:i=Lr(e.rootElements,function(c){if(he(c,"bpmn:Collaboration"))return Lr(c.participants,function(u){return u.processRef===n})});var s=[n];i&&(s=ns(i.participants,function(c){return c.processRef}),s.push(i));var o=lD(s),a=[t],l=[r];return Ce(e.diagrams,function(c){if(c.plane){var u=c.plane.bpmnElement;o.indexOf(u)!==-1&&l.indexOf(u)===-1&&(a.push(c),l.push(u))}}),a}}function lD(e){var t=[];return Ce(e,function(r){r&&(t.push(r),t=t.concat(lD(r.flowElements)))}),t}function Ite(e){for(var t=e;t;){if(he(t,"bpmn:Process"))return t;t=t.$parent}}var Mte='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',cD=Mte,uD={verticalAlign:"middle"},dD={color:"#404040"},Lte={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Dte={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Bte={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},Fte='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+cD+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Ko;function zte(){Ko=dn(Fte),Ji(Ko,Lte),Ji(Jr("svg",Ko),uD),Ji(Jr(".backdrop",Ko),Dte),Ji(Jr(".notice",Ko),Bte),Ji(Jr(".link",Ko),dD,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function Ute(){Ko||(zte(),Gs.bind(Ko,".backdrop","click",function(e){document.body.removeChild(Ko)})),document.body.appendChild(Ko)}function Cn(e){e=Ie({},Hte,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e),qte(this._container)}At(Cn,Ru);Cn.prototype.importXML=async function(t,r){const n=this;function i(o){return n.get("eventBus").createEvent(o)}let s=[];try{t=this._emit("import.parse.start",{xml:t})||t;let o;try{o=await this._moddle.fromXML(t,"bpmn:Definitions")}catch(f){throw this._emit("import.parse.complete",{error:f}),f}let a=o.rootElement;const l=o.references,c=o.warnings,u=o.elementsById;s=s.concat(c),a=this._emit("import.parse.complete",i({error:null,definitions:a,elementsById:u,references:l,warnings:s}))||a;const h=await this.importDefinitions(a,r);return s=s.concat(h.warnings),this._emit("import.done",{error:null,warnings:s}),{warnings:s}}catch(o){let a=o;throw s=s.concat(a.warnings||[]),Yv(a,s),a=$te(a),this._emit("import.done",{error:a,warnings:a.warnings}),a}};Cn.prototype.importDefinitions=async function(t,r){return this._setDefinitions(t),{warnings:(await this.open(r)).warnings}};Cn.prototype.open=async function(t){const r=this._definitions;let n=t;if(!r){const s=new Error("no XML imported");throw Yv(s,[]),s}if(typeof t=="string"&&(n=Wte(r,t),!n)){const s=new Error("BPMNDiagram <"+t+"> not found");throw Yv(s,[]),s}try{this.clear()}catch(s){throw Yv(s,[]),s}const{warnings:i}=await Pte(this,r,n);return{warnings:i}};Cn.prototype.saveXML=async function(t){t=t||{};let r=this._definitions,n,i;try{if(!r)throw new Error("no definitions loaded");r=this._emit("saveXML.start",{definitions:r})||r,i=(await this._moddle.toXML(r,t)).xml,i=this._emit("saveXML.serialized",{xml:i})||i}catch(o){n=o}const s=n?{error:n}:{xml:i};if(this._emit("saveXML.done",s),n)throw n;return s};Cn.prototype.saveSVG=async function(){this._emit("saveSVG.start");let t,r;try{const n=this.get("canvas"),i=n.getActiveLayer(),s=Jr(":scope > defs",n._svg),o=AA(i),a=s?"<defs>"+AA(s)+"</defs>":"",l=i.getBBox();t=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+a+o+"</svg>"}catch(n){r=n}if(this._emit("saveSVG.done",{error:r,svg:t}),r)throw r;return{svg:t}};Cn.prototype._setDefinitions=function(e){this._definitions=e};Cn.prototype.getModules=function(){return this._modules};Cn.prototype.clear=function(){this.getDefinitions()&&Ru.prototype.clear.call(this)};Cn.prototype.destroy=function(){Ru.prototype.destroy.call(this),cl(this._container)};Cn.prototype.on=function(e,t,r,n){return this.get("eventBus").on(e,t,r,n)};Cn.prototype.off=function(e,t){this.get("eventBus").off(e,t)};Cn.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Jr(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};Cn.prototype.getDefinitions=function(){return this._definitions};Cn.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))};Cn.prototype._init=function(e,t,r){const n=r.modules||this.getModules(r),i=r.additionalModules||[],s=[{bpmnjs:["value",this],moddle:["value",t]}],o=[].concat(s,n,i),a=Ie(hl(r,["additionalModules"]),{canvas:Ie({},r.canvas,{container:e}),modules:o});Ru.call(this,a),r&&r.container&&this.attachTo(r.container)};Cn.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)};Cn.prototype._createContainer=function(e){const t=dn('<div class="bjs-container"></div>');return Ji(t,{width:VA(e.width),height:VA(e.height),position:e.position}),t};Cn.prototype._createModdle=function(e){const t=Ie({},this._moddleExtensions,e.moddleExtensions);return new Cte(t)};Cn.prototype._modules=[];function Yv(e,t){return e.warnings=t,e}function $te(e){const r=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return r&&(e.message="unparsable content <"+r[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+r[2]),e}const Hte={width:"100%",height:"100%",position:"relative"};function VA(e){return e+(Yt(e)?"px":"")}function Wte(e,t){return t&&Lr(e.diagrams,function(r){return r.id===t})||null}function qte(e){const r='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+cD+"</a>",n=dn(r);Ji(Jr("svg",n),uD),Ji(n,dD,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(n),sr.bind(n,"click",function(i){Ute(),i.preventDefault()})}function vg(e){Cn.call(this,e),this.on("import.parse.complete",function(t){t.error||this._collectIds(t.definitions,t.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}At(vg,Cn);vg.prototype._createModdle=function(e){var t=Cn.prototype._createModdle.call(this,e);return t.ids=new ol([32,36,1]),t};vg.prototype._collectIds=function(e,t){var r=e.$model,n=r.ids,i;n.clear();for(i in t)n.claim(i,t[i])};function Sr(e,t){return he(e,"bpmn:CallActivity")?!1:he(e,"bpmn:SubProcess")?(t=t||Or(e),t&&he(t,"bpmndi:BPMNPlane")?!0:t&&!!t.isExpanded):he(e,"bpmn:Participant")?!!ht(e).processRef:!0}function bi(e){if(!(!he(e,"bpmn:Participant")&&!he(e,"bpmn:Lane"))){var t=Or(e).isHorizontal;return t===void 0?!0:t}}function Vte(e){return e&&ht(e).isInterrupting!==!1}function ts(e){return e&&!!ht(e).triggeredByEvent}function vp(e,t){var r=ht(e).eventDefinitions;return ju(r,function(n){return he(n,t)})}function Gte(e){return vp(e,"bpmn:ErrorEventDefinition")}function Kte(e){return vp(e,"bpmn:EscalationEventDefinition")}function Xte(e){return vp(e,"bpmn:CompensateEventDefinition")}var W0={width:90,height:20},GA=15;function nh(e){return he(e,"bpmn:Event")||he(e,"bpmn:Gateway")||he(e,"bpmn:DataStoreReference")||he(e,"bpmn:DataObjectReference")||he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput")||he(e,"bpmn:SequenceFlow")||he(e,"bpmn:MessageFlow")||he(e,"bpmn:Group")}function Zb(e){return Ir(e.label)}function Zte(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)],i=Yte(e),s=Math.atan((n.y-r.y)/(n.x-r.x)),o=i.x,a=i.y;return Math.abs(s)<Math.PI/2?a-=GA:o+=GA,{x:o,y:a}}function Yte(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)];return{x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2}}function $8(e){return e.waypoints?Zte(e.waypoints):he(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+W0.height/2}:{x:e.x+e.width/2,y:e.y+e.height+W0.height/2}}function Jte(e,t){var r,n,i,s=e.label;return s&&s.bounds?(i=s.bounds,n={width:Math.max(W0.width,i.width),height:i.height},r={x:i.x+i.width/2,y:i.y+i.height/2}):(r=$8(t),n=W0),Ie({x:r.x-n.width/2,y:r.y-n.height/2},n)}function hD(e){if(he(e,"bpmn:FlowElement")||he(e,"bpmn:Participant")||he(e,"bpmn:Lane")||he(e,"bpmn:SequenceFlow")||he(e,"bpmn:MessageFlow")||he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput"))return"name";if(he(e,"bpmn:TextAnnotation"))return"text";if(he(e,"bpmn:Group"))return"categoryValueRef"}function Qte(e){var t=e.categoryValueRef;return t&&t.value||""}function ko(e){var t=e.businessObject,r=hD(t);if(r)return r==="categoryValueRef"?Qte(t):t[r]||""}function ere(e,t){var r=e.businessObject,n=hD(r);if(n)if(n==="categoryValueRef"){if(!r[n])return e;r[n].value=t}else r[n]=t;return e}var C4="hsl(225, 10%, 15%)",tre="white";function Fo(e,t){return ju(e.eventDefinitions,function(r){return r.$type===t})}function rre(e){return e.$type==="bpmn:IntermediateThrowEvent"||e.$type==="bpmn:EndEvent"}function nre(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}function pr(e,t,r){var n=Or(e);return r||n.get("color:background-color")||n.get("bioc:fill")||t||tre}function St(e,t,r){var n=Or(e);return r||n.get("color:border-color")||n.get("bioc:stroke")||t||C4}function dm(e,t,r,n){var i=Or(e),s=i.get("label");return n||s&&s.get("color:color")||t||St(e,r)}function ire(e){var t=e.x+e.width/2,r=e.y+e.height/2,n=e.width/2,i=[["M",t,r],["m",0,-n],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]];return dh(i)}function sre(e,t){var r=e.x,n=e.y,i=e.width,s=e.height,o=[["M",r+t,n],["l",i-t*2,0],["a",t,t,0,0,1,t,t],["l",0,s-t*2],["a",t,t,0,0,1,-t,t],["l",t*2-i,0],["a",t,t,0,0,1,-t,-t],["l",0,t*2-s],["a",t,t,0,0,1,t,-t],["z"]];return dh(o)}function are(e){var t=e.width,r=e.height,n=e.x,i=e.y,s=t/2,o=r/2,a=[["M",n+s,i],["l",s,o],["l",-s,o],["l",-s,-o],["z"]];return dh(a)}function ore(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=[["M",t,r],["l",n,0],["l",0,i],["l",-n,0],["z"]];return dh(s)}function hm(e,t={}){return{width:Ma(e,t),height:$s(e,t)}}function Ma(e,t={}){return As(t,"width")?t.width:e.width}function $s(e,t={}){return As(t,"height")?t.height:e.height}var lre=new ol,cre=10,Q1=3,ure=1.5,Jv=10,Wh=.95,dre=1,hre=.25;function ph(e,t,r,n,i,s,o){oc.call(this,t,o);var a=e&&e.defaultFillColor,l=e&&e.defaultStrokeColor,c=e&&e.defaultLabelColor;function u($){return r.computeStyle($,{strokeLinecap:"round",strokeLinejoin:"round",stroke:C4,strokeWidth:2,fill:"white"})}function h($){return r.computeStyle($,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:C4,strokeWidth:2})}function f($,N){var{ref:T={x:0,y:0},scale:V=1,element:J,parentGfx:re=i._svg}=N,se=Mt("marker",{id:$,viewBox:"0 0 20 20",refX:T.x,refY:T.y,markerWidth:20*V,markerHeight:20*V,orient:"auto"});rr(se,J);var B=Jr(":scope > defs",re);B||(B=Mt("defs"),rr(re,B)),rr(B,se)}function d($,N,T,V){var J=lre.nextPrefixed("marker-");return p($,J,N,T,V),"url(#"+J+")"}function p($,N,T,V,J){if(T==="sequenceflow-end"){var re=Mt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...u({fill:J,stroke:J,strokeWidth:1})});f(N,{element:re,ref:{x:11,y:10},scale:.5,parentGfx:$})}if(T==="messageflow-start"){var se=Mt("circle",{cx:6,cy:6,r:3.5,...u({fill:V,stroke:J,strokeWidth:1,strokeDasharray:[1e4,1]})});f(N,{element:se,ref:{x:6,y:6},parentGfx:$})}if(T==="messageflow-end"){var B=Mt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...u({fill:V,stroke:J,strokeWidth:1,strokeDasharray:[1e4,1]})});f(N,{element:B,ref:{x:8.5,y:5},parentGfx:$})}if(T==="association-start"){var ne=Mt("path",{d:"M 11 5 L 1 10 L 11 15",...h({fill:"none",stroke:J,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(N,{element:ne,ref:{x:1,y:10},scale:.5,parentGfx:$})}if(T==="association-end"){var ee=Mt("path",{d:"M 1 5 L 11 10 L 1 15",...h({fill:"none",stroke:J,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(N,{element:ee,ref:{x:11,y:10},scale:.5,parentGfx:$})}if(T==="conditional-flow-marker"){var F=Mt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...u({fill:V,stroke:J})});f(N,{element:F,ref:{x:-1,y:10},scale:.5,parentGfx:$})}if(T==="conditional-default-flow-marker"){var W=Mt("path",{d:"M 6 4 L 10 16",...u({stroke:J,fill:"none"})});f(N,{element:W,ref:{x:0,y:10},scale:.5,parentGfx:$})}}function g($,N,T,V,J={}){Mi(V)&&(J=V,V=0),V=V||0,J=u(J);var re=N/2,se=T/2,B=Mt("circle",{cx:re,cy:se,r:Math.round((N+T)/4-V),...J});return rr($,B),B}function m($,N,T,V,J,re){Mi(J)&&(re=J,J=0),J=J||0,re=u(re);var se=Mt("rect",{x:J,y:J,width:N-J*2,height:T-J*2,rx:V,ry:V,...re});return rr($,se),se}function v($,N,T,V){var J=N/2,re=T/2,se=[{x:J,y:0},{x:N,y:re},{x:J,y:T},{x:0,y:re}],B=se.map(function(ee){return ee.x+","+ee.y}).join(" ");V=u(V);var ne=Mt("polygon",{...V,points:B});return rr($,ne),ne}function y($,N,T,V){T=h(T);var J=Wb(N,T,V);return rr($,J),J}function b($,N,T){return y($,N,T,5)}function x($,N,T){T=h(T);var V=Mt("path",{...T,d:N});return rr($,V),V}function _($,N,T,V){return x(N,T,Ie({"data-marker":$},V))}function M($){return q[$]}function U($){return function(N,T,V){return M($)(N,T,V)}}var L={"bpmn:MessageEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.235,my:.315}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill),se=V?pr(N,a,T.fill):St(N,l,T.stroke),B=x($,J,{fill:re,stroke:se,strokeWidth:1});return B},"bpmn:TimerEventDefinition":function($,N,T={}){var V=T.width||N.width,J=T.height||N.height,re=T.width?1:2,se=g($,V,J,.2*J,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:re}),B=n.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:V,containerHeight:J,position:{mx:.5,my:.5}});x($,B,{stroke:St(N,l,T.stroke),strokeWidth:re});for(var ne=0;ne<12;ne++){var ee=n.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:V,containerHeight:J,position:{mx:.5,my:.5}}),F=V/2,W=J/2;x($,ee,{strokeWidth:1,stroke:St(N,l,T.stroke),transform:"rotate("+ne*30+","+W+","+F+")"})}return se},"bpmn:EscalationEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.2}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function($,N,T={}){var V=n.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.222}});return x($,V,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.57,my:.263}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.2,my:.722}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.638,my:-.055}}),re=V?St(N,l,T.stroke):"none",se=x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1});return VL(se,45),se},"bpmn:CompensateEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.22,my:.5}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.2}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{strokeWidth:1,fill:re,stroke:St(N,l,T.stroke)})},"bpmn:MultipleEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.211,my:.36}}),re=V?St(N,l,T.stroke):pr(N,a,T.fill);return x($,J,{fill:re,stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function($,N,T={}){var V=n.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.458,my:.194}});return x($,V,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function($,N,T={}){var V=g($,N.width,N.height,8,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:4});return V}};function O($,N,T={},V){var J=ht($),re=rre(J),se=V||$;return J.get("eventDefinitions")&&J.get("eventDefinitions").length>1?J.get("parallelMultiple")?L["bpmn:ParallelMultipleEventDefinition"](N,se,T,re):L["bpmn:MultipleEventDefinition"](N,se,T,re):Fo(J,"bpmn:MessageEventDefinition")?L["bpmn:MessageEventDefinition"](N,se,T,re):Fo(J,"bpmn:TimerEventDefinition")?L["bpmn:TimerEventDefinition"](N,se,T,re):Fo(J,"bpmn:ConditionalEventDefinition")?L["bpmn:ConditionalEventDefinition"](N,se,T,re):Fo(J,"bpmn:SignalEventDefinition")?L["bpmn:SignalEventDefinition"](N,se,T,re):Fo(J,"bpmn:EscalationEventDefinition")?L["bpmn:EscalationEventDefinition"](N,se,T,re):Fo(J,"bpmn:LinkEventDefinition")?L["bpmn:LinkEventDefinition"](N,se,T,re):Fo(J,"bpmn:ErrorEventDefinition")?L["bpmn:ErrorEventDefinition"](N,se,T,re):Fo(J,"bpmn:CancelEventDefinition")?L["bpmn:CancelEventDefinition"](N,se,T,re):Fo(J,"bpmn:CompensateEventDefinition")?L["bpmn:CompensateEventDefinition"](N,se,T,re):Fo(J,"bpmn:TerminateEventDefinition")?L["bpmn:TerminateEventDefinition"](N,se,T,re):null}var H={ParticipantMultiplicityMarker:function($,N,T={}){var V=Ma(N,T),J=$s(N,T),re=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2-6)/V,my:(J-15)/J}});_("participant-multiplicity",$,re,{strokeWidth:2,fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})},SubProcessMarker:function($,N,T={}){var V=m($,14,14,0,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)});$i(V,N.width/2-7.5,N.height-20);var J=n.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2-7.5)/N.width,my:(N.height-20)/N.height}});_("sub-process",$,J,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})},ParallelMarker:function($,N,T){var V=Ma(N,T),J=$s(N,T),re=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.parallel)/V,my:(J-20)/J}});_("parallel",$,re,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})},SequentialMarker:function($,N,T){var V=n.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2+T.seq)/N.width,my:(N.height-19)/N.height}});_("sequential",$,V,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})},CompensationMarker:function($,N,T){var V=n.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2+T.compensation)/N.width,my:(N.height-13)/N.height}});_("compensation",$,V,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})},LoopMarker:function($,N,T){var V=Ma(N,T),J=$s(N,T),re=n.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.loop)/V,my:(J-7)/J}});_("loop",$,re,{strokeWidth:1.5,fill:"none",stroke:St(N,l,T.stroke),strokeMiterlimit:.5})},AdhocMarker:function($,N,T){var V=Ma(N,T),J=$s(N,T),re=n.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.adhoc)/V,my:(J-15)/J}});_("adhoc",$,re,{strokeWidth:1,fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke)})}};function G($,N,T,V){H[$](N,T,V)}function I($,N,T=[],V={}){V={fill:V.fill,stroke:V.stroke,width:Ma(N,V),height:$s(N,V)};var J=ht(N),re=T.includes("SubProcessMarker");re?V={...V,seq:-21,parallel:-22,compensation:-25,loop:-18,adhoc:10}:V={...V,seq:-5,parallel:-6,compensation:-7,loop:0,adhoc:-8},J.get("isForCompensation")&&T.push("CompensationMarker"),he(J,"bpmn:AdHocSubProcess")&&(T.push("AdhocMarker"),re||Ie(V,{compensation:V.compensation-18}));var se=J.get("loopCharacteristics"),B=se&&se.get("isSequential");se&&(Ie(V,{compensation:V.compensation-18}),T.includes("AdhocMarker")&&Ie(V,{seq:-23,loop:-18,parallel:-24}),B===void 0&&T.push("LoopMarker"),B===!1&&T.push("ParallelMarker"),B===!0&&T.push("SequentialMarker")),T.includes("CompensationMarker")&&T.length===1&&Ie(V,{compensation:-8}),Ce(T,function(ne){G(ne,$,N,V)})}function R($,N,T={}){T=Ie({size:{width:100}},T);var V=s.createText(N||"",T);return Pr(V).add("djs-label"),rr($,V),V}function S($,N,T,V={}){var J=ht(N),re=hm({x:N.x,y:N.y,width:N.width,height:N.height},V);return R($,J.name,{align:T,box:re,padding:7,style:{fill:dm(N,c,l,V.stroke)}})}function j($,N,T={}){var V={width:90,height:30,x:N.width/2+N.x,y:N.height/2+N.y};return R($,ko(N),{box:V,fitBox:!0,style:Ie({},s.getExternalStyle(),{fill:dm(N,c,l,T.stroke)})})}function E($,N,T,V={}){var J=bi(T),re=R($,N,{box:{height:30,width:J?$s(T,V):Ma(T,V)},align:"center-middle",style:{fill:dm(T,c,l,V.stroke)}});if(J){var se=-1*$s(T,V);Zv(re,0,-se,270)}}function k($,N,T={}){var{width:V,height:J}=hm(N,T);return m($,V,J,Jv,{...T,fill:pr(N,a,T.fill),fillOpacity:Wh,stroke:St(N,l,T.stroke)})}function A($,N,T={}){var V=ht(N),J=pr(N,a,T.fill),re=St(N,l,T.stroke);return(V.get("associationDirection")==="One"||V.get("associationDirection")==="Both")&&(T.markerEnd=d($,"association-end",J,re)),V.get("associationDirection")==="Both"&&(T.markerStart=d($,"association-start",J,re)),T=Tr(T,["markerStart","markerEnd"]),b($,N.waypoints,{...T,stroke:re,strokeDasharray:"0, 5"})}function C($,N,T={}){var V=pr(N,a,T.fill),J=St(N,l,T.stroke),re=n.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.474,my:.296}}),se=x($,re,{fill:V,fillOpacity:Wh,stroke:J}),B=ht(N);if(nre(B)){var ne=n.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.33,my:(N.height-18)/N.height}});x($,ne,{strokeWidth:2,fill:V,stroke:J})}return se}function D($,N,T={}){return g($,N.width,N.height,{fillOpacity:Wh,...T,fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)})}function z($,N,T={}){return v($,N.width,N.height,{fill:pr(N,a,T.fill),fillOpacity:Wh,stroke:St(N,l,T.stroke)})}function P($,N,T={}){var V=m($,Ma(N,T),$s(N,T),0,{fill:pr(N,a,T.fill),fillOpacity:T.fillOpacity||Wh,stroke:St(N,l,T.stroke),strokeWidth:1.5}),J=ht(N);if(he(J,"bpmn:Lane")){var re=J.get("name");E($,re,N,T)}return V}function K($,N,T={}){var V=k($,N,T),J=Sr(N);if(ts(N)&&(kt(V,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!J)){var re=ht(N).flowElements||[],se=re.filter(B=>he(B,"bpmn:StartEvent"));se.length===1&&Z(se[0],$,T,N)}return S($,N,J?"center-top":"center-middle",T),J?I($,N,void 0,T):I($,N,["SubProcessMarker"],T),V}function Z($,N,T,V){var J=22,re={fill:pr(V,a,T.fill),stroke:St(V,l,T.stroke),width:J,height:J},se=ht($).isInterrupting,B=se?0:3,ne=se?1:1.2,ee=20,F=(J-ee)/2,W="translate("+F+","+F+")";g(N,ee,ee,{fill:re.fill,stroke:re.stroke,strokeWidth:ne,strokeDasharray:B,transform:W}),O($,N,re,V)}function te($,N,T={}){var V=k($,N,T);return S($,N,"center-middle",T),I($,N,void 0,T),V}var q=this.handlers={"bpmn:AdHocSubProcess":function($,N,T={}){return Sr(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]),K($,N,T)},"bpmn:Association":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,T)},"bpmn:BoundaryEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=ht(N),re=J.get("cancelActivity");T={strokeWidth:1.5,fill:pr(N,a,T.fill),fillOpacity:dre,stroke:St(N,l,T.stroke)},re||(T.strokeDasharray="6");var se=D($,N,T);return g($,N.width,N.height,Q1,{...T,fill:"none"}),V&&O(N,$,T),se},"bpmn:BusinessRuleTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),re=x($,J);kt(re,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1});var se=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),B=x($,se);return kt(B,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:CallActivity":function($,N,T={}){return T=Tr(T,["fill","stroke"]),K($,N,{strokeWidth:5,...T})},"bpmn:ComplexGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:N.width,containerHeight:N.height,position:{mx:.46,my:.26}});return x($,J,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:DataInput":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getRawPath("DATA_ARROW"),J=C($,N,T);return x($,V,{fill:"none",stroke:St(N,l,T.stroke),strokeWidth:1}),J},"bpmn:DataInputAssociation":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,{...T,markerEnd:d($,"association-end",pr(N,a,T.fill),St(N,l,T.stroke))})},"bpmn:DataObject":function($,N,T={}){return T=Tr(T,["fill","stroke"]),C($,N,T)},"bpmn:DataObjectReference":U("bpmn:DataObject"),"bpmn:DataOutput":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getRawPath("DATA_ARROW"),J=C($,N,T);return x($,V,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke)}),J},"bpmn:DataOutputAssociation":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,{...T,markerEnd:d($,"association-end",pr(N,a,T.fill),St(N,l,T.stroke))})},"bpmn:DataStoreReference":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:0,my:.133}});return x($,V,{fill:pr(N,a,T.fill),fillOpacity:Wh,stroke:St(N,l,T.stroke),strokeWidth:2})},"bpmn:EndEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=D($,N,{...T,strokeWidth:4});return V&&O(N,$,T),J},"bpmn:EventBasedGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=z($,N,T);g($,N.width,N.height,N.height*.2,{fill:pr(N,"none",T.fill),stroke:St(N,l,T.stroke),strokeWidth:1});var re=V.get("eventGatewayType"),se=!!V.get("instantiate");function B(){var ee=n.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:N.width,containerHeight:N.height,position:{mx:.36,my:.44}});x($,ee,{fill:"none",stroke:St(N,l,T.stroke),strokeWidth:2})}if(re==="Parallel"){var ne=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:N.width,containerHeight:N.height,position:{mx:.474,my:.296}});x($,ne,{fill:"none",stroke:St(N,l,T.stroke),strokeWidth:1})}else re==="Exclusive"&&(se||g($,N.width,N.height,N.height*.26,{fill:"none",stroke:St(N,l,T.stroke),strokeWidth:1}),B());return J},"bpmn:ExclusiveGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:N.width,containerHeight:N.height,position:{mx:.32,my:.3}}),re=Or(N);return re.get("isMarkerVisible")&&x($,J,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:Gateway":function($,N,T={}){return T=Tr(T,["fill","stroke"]),z($,N,T)},"bpmn:Group":function($,N,T={}){return T=Tr(T,["fill","stroke","width","height"]),m($,N.width,N.height,Jv,{stroke:St(N,l,T.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:Ma(N,T),height:$s(N,T)})},"bpmn:InclusiveGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T);return g($,N.width,N.height,N.height*.24,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:2.5}),V},"bpmn:IntermediateEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=D($,N,{...T,strokeWidth:1.5});return g($,N.width,N.height,Q1,{fill:"none",stroke:St(N,l,T.stroke),strokeWidth:1.5}),V&&O(N,$,T),J},"bpmn:IntermediateCatchEvent":U("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":U("bpmn:IntermediateEvent"),"bpmn:Lane":function($,N,T={}){return T=Tr(T,["fill","stroke","width","height"]),P($,N,{...T,fillOpacity:hre})},"bpmn:ManualTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return x($,J,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:.5}),V},"bpmn:MessageFlow":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=Or(N),re=pr(N,a,T.fill),se=St(N,l,T.stroke),B=b($,N.waypoints,{markerEnd:d($,"messageflow-end",re,se),markerStart:d($,"messageflow-start",re,se),stroke:se,strokeDasharray:"10, 11",strokeWidth:1.5});if(V.get("messageRef")){var ne=B.getPointAtLength(B.getTotalLength()/2),ee=n.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:ne.x,y:ne.y}}),F={strokeWidth:1};J.get("messageVisibleKind")==="initiating"?(F.fill=re,F.stroke=se):(F.fill=se,F.stroke=re);var W=x($,ee,F),Y=V.get("messageRef"),ae=Y.get("name"),ce=R($,ae,{align:"center-top",fitBox:!0,style:{fill:se}}),le=W.getBBox(),de=ce.getBBox(),me=ne.x-de.width/2,ge=ne.y+le.height/2+cre;Zv(ce,me,ge,0)}return B},"bpmn:ParallelGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:N.width,containerHeight:N.height,position:{mx:.46,my:.2}});return x($,J,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:Participant":function($,N,T={}){T=Tr(T,["fill","stroke","width","height"]);var V=P($,N,T),J=Sr(N),re=bi(N),se=ht(N),B=se.get("name");if(J){var ne=re?[{x:30,y:0},{x:30,y:$s(N,T)}]:[{x:0,y:30},{x:Ma(N,T),y:30}];y($,ne,{stroke:St(N,l,T.stroke),strokeWidth:ure}),E($,B,N,T)}else{var ee=hm(N,T);re||(ee.height=Ma(N,T),ee.width=$s(N,T));var F=R($,B,{box:ee,align:"center-middle",style:{fill:dm(N,c,l,T.stroke)}});if(!re){var W=-1*$s(N,T);Zv(F,0,-W,270)}}return se.get("participantMultiplicity")&&G("ParticipantMultiplicityMarker",$,N,T),V},"bpmn:ReceiveTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=te($,N,T),re;return V.get("instantiate")?(g($,28,28,20*.22,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1}),re=n.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):re=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),x($,re,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1}),J},"bpmn:ScriptTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return x($,J,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:SendTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return x($,J,{fill:St(N,l,T.stroke),stroke:pr(N,a,T.fill),strokeWidth:1}),V},"bpmn:SequenceFlow":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=pr(N,a,T.fill),J=St(N,l,T.stroke),re=b($,N.waypoints,{markerEnd:d($,"sequenceflow-end",V,J),stroke:J}),se=ht(N),{source:B}=N;if(B){var ne=ht(B);se.get("conditionExpression")&&he(ne,"bpmn:Activity")&&kt(re,{markerStart:d($,"conditional-flow-marker",V,J)}),ne.get("default")&&(he(ne,"bpmn:Gateway")||he(ne,"bpmn:Activity"))&&ne.get("default")===se&&kt(re,{markerStart:d($,"conditional-default-flow-marker",V,J)})}return re},"bpmn:ServiceTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T);g($,10,10,{fill:pr(N,a,T.fill),stroke:"none",transform:"translate(6, 6)"});var J=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});x($,J,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1}),g($,10,10,{fill:pr(N,a,T.fill),stroke:"none",transform:"translate(11, 10)"});var re=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return x($,re,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:1}),V},"bpmn:StartEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=ht(N);J.get("isInterrupting")||(T={...T,strokeDasharray:"6"});var re=D($,N,T);return V&&O(N,$,T),re},"bpmn:SubProcess":function($,N,T={}){return Sr(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]),K($,N,T)},"bpmn:Task":function($,N,T={}){return T=Tr(T,["fill","stroke"]),te($,N,T)},"bpmn:TextAnnotation":function($,N,T={}){T=Tr(T,["fill","stroke","width","height"]);var{width:V,height:J}=hm(N,T),re=m($,V,J,0,0,{fill:"none",stroke:"none"}),se=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:0,my:0}});x($,se,{stroke:St(N,l,T.stroke)});var B=ht(N),ne=B.get("text")||"";return R($,ne,{align:"left-top",box:hm(N,T),padding:7,style:{fill:dm(N,c,l,T.stroke)}}),re},"bpmn:Transaction":function($,N,T={}){Sr(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]);var V=K($,N,{strokeWidth:1.5,...T}),J=r.style(["no-fill","no-events"],{stroke:St(N,l,T.stroke),strokeWidth:1.5}),re=Sr(N);return re||(T={}),m($,Ma(N,T),$s(N,T),Jv-Q1,Q1,J),V},"bpmn:UserTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=15,re=12,se=n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:J,y:re}});x($,se,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:.5});var B=n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:J,y:re}});x($,B,{fill:pr(N,a,T.fill),stroke:St(N,l,T.stroke),strokeWidth:.5});var ne=n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:J,y:re}});return x($,ne,{fill:St(N,l,T.stroke),stroke:St(N,l,T.stroke),strokeWidth:.5}),V},label:function($,N,T={}){return j($,N,T)}};this._drawPath=x,this._renderer=M}At(ph,oc);ph.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];ph.prototype.canRender=function(e){return he(e,"bpmn:BaseElement")};ph.prototype.drawShape=function(e,t,r={}){var{type:n}=t,i=this._renderer(n);return i(e,t,r)};ph.prototype.drawConnection=function(e,t,r={}){var{type:n}=t,i=this._renderer(n);return i(e,t,r)};ph.prototype.getShapePath=function(e){return he(e,"bpmn:Event")?ire(e):he(e,"bpmn:Activity")?sre(e,Jv):he(e,"bpmn:Gateway")?are(e):ore(e)};function Tr(e,t=[]){return t.reduce((r,n)=>(e[n]&&(r[n]=e[n]),r),{})}var fre=0,pre={width:150,height:50};function mre(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function gre(e){return Mi(e)?Ie({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function vre(e,t){t.textContent=e;var r;try{var n,i=e==="";return t.textContent=i?"dummy":e,r=t.getBBox(),n={width:r.width+r.x*2,height:r.height},i&&(n.width=0),n}catch(s){return console.log(s),{width:0,height:0}}}function yre(e,t,r){for(var n=e.shift(),i=n,s;;){if(s=vre(i,r),s.width=i?s.width:0,i===" "||i===""||s.width<Math.round(t)||i.length<2)return bre(e,i,n,s);i=xre(i,s.width,t)}}function bre(e,t,r,n){if(t.length<r.length){var i=r.slice(t.length).trim();e.unshift(i)}return{width:n.width,height:n.height,text:t}}var KA="­";function wre(e,t){var r=e.split(/(\s|-|\u00AD)/g),n,i=[],s=0;if(r.length>1)for(;n=r.shift();)if(n.length+s<t)i.push(n),s+=n.length;else{(n==="-"||n===KA)&&i.pop();break}var o=i[i.length-1];return o&&o===KA&&(i[i.length-1]="-"),i.join("")}function xre(e,t,r){var n=Math.max(e.length*(r/t),1),i=wre(e,n);return i||(i=e.slice(0,Math.max(Math.round(n-1),1))),i}function _re(){var e=document.getElementById("helper-svg");return e||(e=Mt("svg"),kt(e,{id:"helper-svg"}),Ji(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}function Yb(e){this._config=Ie({},{size:pre,padding:fre,style:{},align:"center-top"},e||{})}Yb.prototype.createText=function(e,t){return this.layoutText(e,t).element};Yb.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions};Yb.prototype.layoutText=function(e,t){var r=Ie({},this._config.size,t.box),n=Ie({},this._config.style,t.style),i=mre(t.align||this._config.align),s=gre(t.padding!==void 0?t.padding:this._config.padding),o=t.fitBox||!1,a=Sre(n),l=e.split(/\u00AD?\r?\n/),c=[],u=r.width-s.left-s.right,h=Mt("text");kt(h,{x:0,y:0}),kt(h,n);var f=_re();for(rr(f,h);l.length;)c.push(yre(l,u,h));i.vertical==="middle"&&(s.top=s.bottom=0);var d=Js(c,function(y,b,x){return y+(a||b.height)},0)+s.top+s.bottom,p=Js(c,function(y,b,x){return b.width>y?b.width:y},0),g=s.top;i.vertical==="middle"&&(g+=(r.height-d)/2),g-=(a||c[0].height)/4;var m=Mt("text");kt(m,n),Ce(c,function(y){var b;switch(g+=a||y.height,i.horizontal){case"left":b=s.left;break;case"right":b=(o?p:u)-s.right-y.width;break;default:b=Math.max(((o?p:u)-y.width)/2+s.left,0)}var x=Mt("tspan");kt(x,{x:b,y:g}),x.textContent=y.text,rr(m,x)}),ui(h);var v={width:p,height:d};return{dimensions:v,element:m}};function Sre(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}var Ere=12,kre=1.2,Nre=30;function fD(e){var t=Ie({fontFamily:"Arial, sans-serif",fontSize:Ere,fontWeight:"normal",lineHeight:kre},e&&e.defaultStyle||{}),r=parseInt(t.fontSize,10)-1,n=Ie({},t,{fontSize:r},e&&e.externalStyle||{}),i=new Yb({style:t});this.getExternalLabelBounds=function(s,o){var a=i.getDimensions(o,{box:{width:90,height:30},style:n});return{x:Math.round(s.x+s.width/2-a.width/2),y:Math.round(s.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(s,o){var a=i.getDimensions(o,{box:s,style:t,align:"left-top",padding:5});return{x:s.x,y:s.y,width:s.width,height:Math.max(Nre,Math.round(a.height))}},this.createText=function(s,o){return i.createText(s,o||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return n}}fD.$inject=["config.textRenderer"];function Are(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,r){var n=this.pathMap[t],i,s;r.abspos?(i=r.abspos.x,s=r.abspos.y):(i=r.containerWidth*r.position.mx,s=r.containerHeight*r.position.my);var o={};if(r.position){for(var a=r.containerHeight/n.height*r.yScaleFactor,l=r.containerWidth/n.width*r.xScaleFactor,c=0;c<n.heightElements.length;c++)o["y"+c]=n.heightElements[c]*a;for(var u=0;u<n.widthElements.length;u++)o["x"+u]=n.widthElements[u]*l}var h=Rre(n.d,{mx:i,my:s,e:o});return h}}var Cre=/\{([^{}]+)\}/g,jre=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function Tre(e,t,r){var n=r;return t.replace(jre,function(i,s,o,a,l){s=s||a,n&&(s in n&&(n=n[s]),typeof n=="function"&&l&&(n=n()))}),n=(n==null||n==r?e:n)+"",n}function Rre(e,t){return String(e).replace(Cre,function(r,n){return Tre(r,n,t)})}const Pre={__init__:["bpmnRenderer"],bpmnRenderer:["type",ph],textRenderer:["type",fD],pathMap:["type",Are]};function Ore(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(r,n){return t[n]||"{"+n+"}"})}const Jb={translate:["value",Ore]};function Qv(e,t,r){return Ie({id:e.id,type:e.$type,businessObject:e,di:t},r)}function Ire(e,t,r){var n=e.waypoint;return!n||n.length<2?[Jt(t),Jt(r)]:n.map(function(i){return{x:i.x,y:i.y}})}function pD(e,t,r){return new Error(`element ${Yi(t)} referenced by ${Yi(e)}#${r} not yet drawn`)}function cc(e,t,r,n,i){this._eventBus=e,this._canvas=t,this._elementFactory=r,this._elementRegistry=n,this._textRenderer=i}cc.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];cc.prototype.add=function(e,t,r){var n,i,s;if(he(t,"bpmndi:BPMNPlane")){var o=he(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};n=this._elementFactory.createRoot(Qv(e,t,o)),this._canvas.addRootElement(n)}else if(he(t,"bpmndi:BPMNShape")){var a=!Sr(e,t),l=Lre(e);i=r&&(r.hidden||r.collapsed);var c=t.bounds;n=this._elementFactory.createShape(Qv(e,t,{collapsed:a,hidden:i,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height),isFrame:l})),he(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),he(e,"bpmn:Lane")&&(s=0),he(e,"bpmn:DataStoreReference")&&(Mre(r,Jt(c))||(r=this._canvas.findRoot(r))),this._canvas.addShape(n,r,s)}else if(he(t,"bpmndi:BPMNEdge")){var u=this._getSource(e),h=this._getTarget(e);i=r&&(r.hidden||r.collapsed),n=this._elementFactory.createConnection(Qv(e,t,{hidden:i,source:u,target:h,waypoints:Ire(t,u,h)})),he(e,"bpmn:DataAssociation")&&(r=this._canvas.findRoot(r)),this._canvas.addConnection(n,r,s)}else throw new Error(`unknown di ${Yi(t)} for element ${Yi(e)}`);return nh(e)&&ko(n)&&this.addLabel(e,t,n),this._eventBus.fire("bpmnElement.added",{element:n}),n};cc.prototype._attachBoundary=function(e,t){var r=e.attachedToRef;if(!r)throw new Error(`missing ${Yi(e)}#attachedToRef`);var n=this._elementRegistry.get(r.id),i=n&&n.attachers;if(!n)throw pD(e,r,"attachedToRef");t.host=n,i||(n.attachers=i=[]),i.indexOf(t)===-1&&i.push(t)};cc.prototype.addLabel=function(e,t,r){var n,i,s;return n=Jte(t,r),i=ko(r),i&&(n=this._textRenderer.getExternalLabelBounds(n,i)),s=this._elementFactory.createLabel(Qv(e,t,{id:e.id+"_label",labelTarget:r,type:"label",hidden:r.hidden||!ko(r),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(s,r.parent)};cc.prototype._getConnectedElement=function(e,t){var r,n,i=e.$type;if(n=e[t+"Ref"],t==="source"&&i==="bpmn:DataInputAssociation"&&(n=n&&n[0]),(t==="source"&&i==="bpmn:DataOutputAssociation"||t==="target"&&i==="bpmn:DataInputAssociation")&&(n=e.$parent),r=n&&this._getElement(n),r)return r;throw n?pD(e,n,t+"Ref"):new Error(`${Yi(e)}#${t} Ref not specified`)};cc.prototype._getSource=function(e){return this._getConnectedElement(e,"source")};cc.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")};cc.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};function Mre(e,t){var r=t.x,n=t.y;return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function Lre(e){return he(e,"bpmn:Group")}const Dre={__depends__:[Jb],bpmnImporter:["type",cc]},Bre={__depends__:[Pre,Dre]};function yg(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(Math.random()*1e9)+"-"}yg.prototype.next=function(){return this._prefix+ ++this._counter};var Fre=new yg("ov"),zre=500;function Li(e,t,r,n){this._eventBus=t,this._canvas=r,this._elementRegistry=n,this._ids=Fre,this._overlayDefaults=Ie({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=Ure(r.getContainer()),this._init()}Li.$inject=["config.overlays","eventBus","canvas","elementRegistry"];Li.prototype.get=function(e){if(Ys(e)&&(e={id:e}),Ys(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?mr(t.overlays,bo({type:e.type})):t.overlays.slice():[]}else return e.type?mr(this._overlays,bo({type:e.type})):e.id?this._overlays[e.id]:null};Li.prototype.add=function(e,t,r){if(Mi(t)&&(r=t,t=null),e.id||(e=this._elementRegistry.get(e)),!r.position)throw new Error("must specifiy overlay position");if(!r.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var n=this._ids.next();return r=Ie({},this._overlayDefaults,r,{id:n,type:t,element:e,html:r.html}),this._addOverlay(r),n};Li.prototype.remove=function(e){var t=this.get(e)||[];Qt(t)||(t=[t]);var r=this;Ce(t,function(n){var i=r._getOverlayContainer(n.element,!0);if(n&&(cl(n.html),cl(n.htmlContainer),delete n.htmlContainer,delete n.element,delete r._overlays[n.id]),i){var s=i.overlays.indexOf(n);s!==-1&&i.overlays.splice(s,1)}})};Li.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};Li.prototype.show=function(){Qb(this._overlayRoot)};Li.prototype.hide=function(){Qb(this._overlayRoot,!1)};Li.prototype.clear=function(){this._overlays={},this._overlayContainers=[],$b(this._overlayRoot)};Li.prototype._updateOverlayContainer=function(e){var t=e.element,r=e.html,n=t.x,i=t.y;if(t.waypoints){var s=di(t);n=s.x,i=s.y}mD(r,n,i),Qi(e.html,"data-container-id",t.id)};Li.prototype._updateOverlay=function(e){var t=e.position,r=e.htmlContainer,n=e.element,i=t.left,s=t.top;if(t.right!==void 0){var o;n.waypoints?o=di(n).width:o=n.width,i=t.right*-1+o}if(t.bottom!==void 0){var a;n.waypoints?a=di(n).height:a=n.height,s=t.bottom*-1+a}mD(r,i||0,s||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())};Li.prototype._createOverlayContainer=function(e){var t=dn('<div class="djs-overlays" />');Ji(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var r={html:t,element:e,overlays:[]};return this._updateOverlayContainer(r),this._overlayContainers.push(r),r};Li.prototype._updateRoot=function(e){var t=e.scale||1,r="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";gD(this._overlayRoot,r)};Li.prototype._getOverlayContainer=function(e,t){var r=Lr(this._overlayContainers,function(n){return n.element===e});return!r&&!t?this._createOverlayContainer(e):r};Li.prototype._addOverlay=function(e){var t=e.id,r=e.element,n=e.html,i,s;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),Ys(n)&&(n=dn(n)),s=this._getOverlayContainer(r),i=dn('<div class="djs-overlay" data-overlay-id="'+t+'">'),Ji(i,{position:"absolute"}),i.appendChild(n),e.type&&On(i).add("djs-overlay-"+e.type);var o=this._canvas.findRoot(r),a=this._canvas.getRootElement();Qb(i,o===a),e.htmlContainer=i,s.overlays.push(e),s.html.appendChild(i),this._overlays[t]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())};Li.prototype._updateOverlayVisibilty=function(e,t){var r=e.show,n=this._canvas.findRoot(e.element),i=r&&r.minZoom,s=r&&r.maxZoom,o=e.htmlContainer,a=this._canvas.getRootElement(),l=!0;(n!==a||r&&(Pi(i)&&i>t.scale||Pi(s)&&s<t.scale))&&(l=!1),Qb(o,l),this._updateOverlayScale(e,t)};Li.prototype._updateOverlayScale=function(e,t){var r=e.scale,n,i,s=e.htmlContainer,o,a="";r!==!0&&(r===!1?(n=1,i=1):(n=r.min,i=r.max),Pi(n)&&t.scale<n&&(o=(1/t.scale||1)*n),Pi(i)&&t.scale>i&&(o=(1/t.scale||1)*i)),Pi(o)&&(a="scale("+o+","+o+")"),gD(s,a)};Li.prototype._updateOverlaysVisibilty=function(e){var t=this;Ce(this._overlays,function(r){t._updateOverlayVisibilty(r,e)})};Li.prototype._init=function(){var e=this._eventBus,t=this;function r(n){t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()}e.on("canvas.viewbox.changing",function(n){t.hide()}),e.on("canvas.viewbox.changed",function(n){r(n.viewbox)}),e.on(["shape.remove","connection.remove"],function(n){var i=n.element,s=t.get({element:i});Ce(s,function(l){t.remove(l.id)});var o=t._getOverlayContainer(i);if(o){cl(o.html);var a=t._overlayContainers.indexOf(o);a!==-1&&t._overlayContainers.splice(a,1)}}),e.on("element.changed",zre,function(n){var i=n.element,s=t._getOverlayContainer(i,!0);s&&(Ce(s.overlays,function(o){t._updateOverlay(o)}),t._updateOverlayContainer(s))}),e.on("element.marker.update",function(n){var i=t._getOverlayContainer(n.element,!0);i&&On(i.html)[n.add?"add":"remove"](n.marker)}),e.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),e.on("diagram.clear",this.clear,this)};function Ure(e){var t=dn('<div class="djs-overlay-container" />');return Ji(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}function mD(e,t,r){Ji(e,{left:t+"px",top:r+"px"})}function Qb(e,t){e.style.display=t===!1?"none":""}function gD(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(r){e.style[r+"transform"]=t})}const e2={__init__:["overlays"],overlays:["type",Li]};function vD(e,t,r,n){e.on("element.changed",function(i){var s=i.element;(s.parent||s===t.getRootElement())&&(i.gfx=r.getGraphics(s)),i.gfx&&e.fire(jL(s)+".changed",i)}),e.on("elements.changed",function(i){var s=i.elements;s.forEach(function(o){e.fire("element.changed",{element:o})}),n.updateContainments(s)}),e.on("shape.changed",function(i){n.update("shape",i.element,i.gfx)}),e.on("connection.changed",function(i){n.update("connection",i.element,i.gfx)})}vD.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const H8={__init__:["changeSupport"],changeSupport:["type",vD]};var $re=1e3;function at(e){this._eventBus=e}at.$inject=["eventBus"];function Hre(e,t){return function(r){return e.call(t||null,r.context,r.command,r)}}at.prototype.on=function(e,t,r,n,i,s){if((yi(t)||Yt(t))&&(s=i,i=n,n=r,r=t,t=null),yi(r)&&(s=i,i=n,n=r,r=$re),Mi(i)&&(s=i,i=!1),!yi(n))throw new Error("handlerFn must be a function");Qt(e)||(e=[e]);var o=this._eventBus;Ce(e,function(a){var l=["commandStack",a,t].filter(function(c){return c}).join(".");o.on(l,r,i?Hre(n,s):n,s)})};at.prototype.canExecute=uc("canExecute");at.prototype.preExecute=uc("preExecute");at.prototype.preExecuted=uc("preExecuted");at.prototype.execute=uc("execute");at.prototype.executed=uc("executed");at.prototype.postExecute=uc("postExecute");at.prototype.postExecuted=uc("postExecuted");at.prototype.revert=uc("revert");at.prototype.reverted=uc("reverted");function uc(e){return function(r,n,i,s,o){(yi(r)||Yt(r))&&(o=s,s=i,i=n,n=r,r=null),this.on(r,e,n,i,s,o)}}function W8(e,t){t.invoke(at,this),this.executed(function(r){var n=r.context;n.rootElement?e.setRootElement(n.rootElement):n.rootElement=e.getRootElement()}),this.revert(function(r){var n=r.context;n.rootElement&&e.setRootElement(n.rootElement)})}At(W8,at);W8.$inject=["canvas","injector"];const Wre={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",W8]};function q0(e){return CSS.escape(e)}var qre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yD(e){return e=""+e,e&&e.replace(/[&<>"']/g,function(t){return qre[t]})}var bD="_plane";function XA(e){var t=e.id;return Vre(t)}function $l(e){var t=e.id;return he(e,"bpmn:SubProcess")?wD(t):t}function md(e){return wD(e)}function ey(e){var t=Or(e);return he(t,"bpmndi:BPMNPlane")}function wD(e){return e+bD}function Vre(e){return e.replace(new RegExp(bD+"$"),"")}var Gre="bjs-breadcrumbs-shown";function xD(e,t,r){var n=dn('<ul class="bjs-breadcrumbs"></ul>'),i=r.getContainer(),s=On(i);i.appendChild(n);var o=[];e.on("element.changed",function(l){var c=l.element,u=ht(c),h=Lr(o,function(f){return f===u});h&&a()});function a(l){l&&(o=Kre(l));var c=o.flatMap(function(h){var f=r.findRoot($l(h))||r.findRoot(h.id);if(!f&&he(h,"bpmn:Process")){var d=t.find(function(m){var v=ht(m);return v&&v.get("processRef")===h});f=d&&r.findRoot(d.id)}if(!f)return[];var p=yD(h.name||h.id),g=dn('<li><span class="bjs-crumb"><a title="'+p+'">'+p+"</a></span></li>");return g.addEventListener("click",function(){r.setRootElement(f)}),g});n.innerHTML="";var u=c.length>1;s.toggle(Gre,u),c.forEach(function(h){n.appendChild(h)})}e.on("root.set",function(l){a(l.element)})}xD.$inject=["eventBus","elementRegistry","canvas"];function Kre(e){for(var t=ht(e),r=[],n=t;n;n=n.$parent)(he(n,"bpmn:SubProcess")||he(n,"bpmn:Process"))&&r.push(n);return r.reverse()}function _D(e,t){var r=null,n=new Xre;e.on("root.set",function(i){var s=i.element,o=t.viewbox(),a=n.get(s);if(n.set(r,{x:o.x,y:o.y,zoom:o.scale}),r=s,!(!he(s,"bpmn:SubProcess")&&!a)){a=a||{x:0,y:0,zoom:1};var l=(o.x-a.x)*o.scale,c=(o.y-a.y)*o.scale;(l!==0||c!==0)&&t.scroll({dx:l,dy:c}),a.zoom!==o.scale&&t.zoom(a.zoom,{x:0,y:0})}}),e.on("diagram.clear",function(){n.clear(),r=null})}_D.$inject=["eventBus","canvas"];function Xre(){this._entries=[],this.set=function(e,t){var r=!1;for(var n in this._entries)if(this._entries[n][0]===e){this._entries[n][1]=t,r=!0;break}r||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var r in this._entries)if(this._entries[r][0]===e){t=r;break}t!==-1&&this._entries.splice(t,1)}}var ZA={x:180,y:160};function mh(e,t){this._eventBus=e,this._moddle=t;var r=this;e.on("import.render.start",1500,function(n,i){r._handleImport(i.definitions)})}mh.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach(function(n){!n.plane||!n.plane.bpmnElement||(t._processToDiagramMap[n.plane.bpmnElement.id]=n)});var r=e.diagrams.filter(n=>n.plane).flatMap(n=>t._createNewDiagrams(n.plane));r.forEach(function(n){t._movePlaneElementsToOrigin(n.plane)})}};mh.prototype._createNewDiagrams=function(e){var t=this,r=[],n=[];e.get("planeElement").forEach(function(s){var o=s.bpmnElement;if(o){var a=o.$parent;he(o,"bpmn:SubProcess")&&!s.isExpanded&&r.push(o),Yre(o,e)&&n.push({diElement:s,parent:a})}});var i=[];return r.forEach(function(s){if(!t._processToDiagramMap[s.id]){var o=t._createDiagram(s);t._processToDiagramMap[s.id]=o,i.push(o)}}),n.forEach(function(s){for(var o=s.diElement,a=s.parent;a&&r.indexOf(a)===-1;)a=a.$parent;if(a){var l=t._processToDiagramMap[a.id];t._moveToDiPlane(o,l.plane)}}),i};mh.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),r=Zre(e),n={x:r.x-ZA.x,y:r.y-ZA.y};t.forEach(function(i){i.waypoint?i.waypoint.forEach(function(s){s.x=s.x-n.x,s.y=s.y-n.y}):i.bounds&&(i.bounds.x=i.bounds.x-n.x,i.bounds.y=i.bounds.y-n.y)})};mh.prototype._moveToDiPlane=function(e,t){var r=SD(e),n=r.plane.get("planeElement");n.splice(n.indexOf(e),1),t.get("planeElement").push(e)};mh.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),r=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=r,t.bpmnElement=e,r.$parent=this._definitions,this._definitions.diagrams.push(r),r};mh.$inject=["eventBus","moddle"];function SD(e){return he(e,"bpmndi:BPMNDiagram")?e:SD(e.$parent)}function Zre(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach(function(r){if(r.bounds){var n=Ht(r.bounds);t.top=Math.min(n.top,t.top),t.left=Math.min(n.left,t.left)}}),Vb(t)}function Yre(e,t){var r=e.$parent;return!(!he(r,"bpmn:SubProcess")||r===t.bpmnElement||gr(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var ev=250,Jre='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',Qre="bjs-drilldown-empty";function Ou(e,t,r,n,i){at.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=r,this._overlays=n,this._translate=i;var s=this;this.executed("shape.toggleCollapse",ev,function(o){var a=o.shape;s._canDrillDown(a)?s._addOverlay(a):s._removeOverlay(a)},!0),this.reverted("shape.toggleCollapse",ev,function(o){var a=o.shape;s._canDrillDown(a)?s._addOverlay(a):s._removeOverlay(a)},!0),this.executed(["shape.create","shape.move","shape.delete"],ev,function(o){var a=o.oldParent,l=o.newParent||o.parent,c=o.shape;s._canDrillDown(c)&&s._addOverlay(c),s._updateDrilldownOverlay(a),s._updateDrilldownOverlay(l),s._updateDrilldownOverlay(c)},!0),this.reverted(["shape.create","shape.move","shape.delete"],ev,function(o){var a=o.oldParent,l=o.newParent||o.parent,c=o.shape;s._canDrillDown(c)&&s._addOverlay(c),s._updateDrilldownOverlay(a),s._updateDrilldownOverlay(l),s._updateDrilldownOverlay(c)},!0),t.on("import.render.complete",function(){r.filter(function(o){return s._canDrillDown(o)}).map(function(o){s._addOverlay(o)})})}At(Ou,at);Ou.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var r=t.findRoot(e);r&&this._updateOverlayVisibility(r)}};Ou.prototype._canDrillDown=function(e){var t=this._canvas;return he(e,"bpmn:SubProcess")&&t.findRoot($l(e))};Ou.prototype._updateOverlayVisibility=function(e){var t=this._overlays,r=ht(e),n=t.get({element:r.id,type:"drilldown"})[0];if(n){var i=r&&r.get("flowElements")&&r.get("flowElements").length;On(n.html).toggle(Qre,!i)}};Ou.prototype._addOverlay=function(e){var t=this._canvas,r=this._overlays,n=ht(e),i=r.get({element:e,type:"drilldown"});i.length&&this._removeOverlay(e);var s=dn('<button type="button" class="bjs-drilldown">'+Jre+"</button>"),o=n.get("name")||n.get("id"),a=this._translate("Open {element}",{element:o});s.setAttribute("title",a),s.addEventListener("click",function(){t.setRootElement(t.findRoot($l(e)))}),r.add(e,"drilldown",{position:{bottom:-7,right:-8},html:s}),this._updateOverlayVisibility(e)};Ou.prototype._removeOverlay=function(e){var t=this._overlays;t.remove({element:e,type:"drilldown"})};Ou.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const ene={__depends__:[e2,H8,Wre],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",xD],drilldownCentering:["type",_D],drilldownOverlayBehavior:["type",Ou],subprocessCompatibility:["type",mh]};function YA(e){!e||typeof e.stopPropagation!="function"||e.stopPropagation()}function yp(e){return e.originalEvent||e.srcEvent}function Lx(e){YA(e),YA(yp(e))}function ih(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function ED(){return/mac/i.test(navigator.platform)}function kD(e,t){return(yp(e)||e).button===t}function Iu(e){return kD(e,0)}function tne(e){return kD(e,1)}function V0(e){var t=yp(e)||e;return Iu(e)?ED()?t.metaKey:t.ctrlKey:!1}function Jy(e){var t=yp(e)||e;return Iu(e)&&t.shiftKey}function rne(e){return!0}function tv(e){return Iu(e)||tne(e)}var JA=500;function ND(e,t,r){var n=this;function i(L,O,H){if(!a(L,O)){var G,I,R;H?I=t.getGraphics(H):(G=O.delegateTarget||O.target,G&&(I=G,H=t.get(I))),!(!I||!H)&&(R=e.fire(L,{element:H,gfx:I,originalEvent:O}),R===!1&&(O.stopPropagation(),O.preventDefault()))}}var s={};function o(L){return s[L]}function a(L,O){var H=c[L]||Iu;return!H(O)}var l={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":rne,"element.mousedown":tv,"element.mouseup":tv,"element.click":tv,"element.dblclick":tv};function u(L,O,H){var G=l[L];if(!G)throw new Error("unmapped DOM event name <"+L+">");return i(G,O,H)}var h="svg, .djs-element";function f(L,O,H,G){var I=s[H]=function(R){i(H,R)};G&&(c[H]=G),I.$delegate=Gs.bind(L,h,O,I)}function d(L,O,H){var G=o(H);G&&Gs.unbind(L,O,G.$delegate)}function p(L){Ce(l,function(O,H){f(L,H,O)})}function g(L){Ce(l,function(O,H){d(L,H,O)})}e.on("canvas.destroy",function(L){g(L.svg)}),e.on("canvas.init",function(L){p(L.svg)}),e.on(["shape.added","connection.added"],function(L){var O=L.element,H=L.gfx;e.fire("interactionEvents.createHit",{element:O,gfx:H})}),e.on(["shape.changed","connection.changed"],JA,function(L){var O=L.element,H=L.gfx;e.fire("interactionEvents.updateHit",{element:O,gfx:H})}),e.on("interactionEvents.createHit",JA,function(L){var O=L.element,H=L.gfx;n.createDefaultHit(O,H)}),e.on("interactionEvents.updateHit",function(L){var O=L.element,H=L.gfx;n.updateDefaultHit(O,H)});var m=_("djs-hit djs-hit-stroke"),v=_("djs-hit djs-hit-click-stroke"),y=_("djs-hit djs-hit-all"),b=_("djs-hit djs-hit-no-move"),x={all:y,"click-stroke":v,stroke:m,"no-move":b};function _(L,O){return O=Ie({stroke:"white",strokeWidth:15},O||{}),r.cls(L,["no-fill","no-border"],O)}function M(L,O){var H=x[O];if(!H)throw new Error("invalid hit type <"+O+">");return kt(L,H),L}function U(L,O){rr(L,O)}this.removeHits=function(L){var O=y4(".djs-hit",L);Ce(O,ui)},this.createDefaultHit=function(L,O){var H=L.waypoints,G=L.isFrame,I;return H?this.createWaypointsHit(O,H):(I=G?"stroke":"all",this.createBoxHit(O,I,{width:L.width,height:L.height}))},this.createWaypointsHit=function(L,O){var H=Wb(O);return M(H,"stroke"),U(L,H),H},this.createBoxHit=function(L,O,H){H=Ie({x:0,y:0},H);var G=Mt("rect");return M(G,O),kt(G,H),U(L,G),G},this.updateDefaultHit=function(L,O){var H=Jr(".djs-hit",O);if(H)return L.waypoints?NL(H,L.waypoints):kt(H,{width:L.width,height:L.height}),H},this.fire=i,this.triggerMouseEvent=u,this.mouseHandler=o,this.registerEvent=f,this.unregisterEvent=d}ND.$inject=["eventBus","elementRegistry","styles"];const t2={__init__:["interactionEvents"],interactionEvents:["type",ND]};function bp(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var r=this;e.on(["shape.remove","connection.remove"],function(n){var i=n.element;r.deselect(i)}),e.on(["diagram.clear","root.set"],function(n){r.select(null)})}bp.$inject=["eventBus","canvas"];bp.prototype.deselect=function(e){var t=this._selectedElements,r=t.indexOf(e);if(r!==-1){var n=t.slice();t.splice(r,1),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:t})}};bp.prototype.get=function(){return this._selectedElements};bp.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1};bp.prototype.select=function(e,t){var r=this._selectedElements,n=r.slice();Qt(e)||(e=e?[e]:[]);var i=this._canvas,s=i.getRootElement();e=e.filter(function(o){var a=i.findRoot(o);return s===a}),t?Ce(e,function(o){r.indexOf(o)===-1&&r.push(o)}):this._selectedElements=r=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:r})};var QA="hover",eC="selected";function AD(e,t){this._canvas=e;function r(i,s){e.addMarker(i,s)}function n(i,s){e.removeMarker(i,s)}t.on("element.hover",function(i){r(i.element,QA)}),t.on("element.out",function(i){n(i.element,QA)}),t.on("selection.changed",function(i){function s(c){n(c,eC)}function o(c){r(c,eC)}var a=i.oldSelection,l=i.newSelection;Ce(a,function(c){l.indexOf(c)===-1&&s(c)}),Ce(l,function(c){a.indexOf(c)===-1&&o(c)})})}AD.$inject=["canvas","eventBus"];function CD(e,t,r,n){e.on("create.end",500,function(i){var s=i.context,o=s.canExecute,a=s.elements,l=s.hints||{},c=l.autoSelect;if(o){if(c===!1)return;Qt(c)?t.select(c):t.select(a.filter(nne))}}),e.on("connect.end",500,function(i){var s=i.context,o=s.connection;o&&t.select(o)}),e.on("shape.move.end",500,function(i){var s=i.previousSelection||[],o=n.get(i.context.shape.id),a=Lr(s,function(l){return o.id===l.id});a||t.select(o)}),e.on("element.click",function(i){if(Iu(i)){var s=i.element;s===r.getRootElement()&&(s=null);var o=t.isSelected(s),a=t.get().length>1,l=Jy(i);if(o&&a)return l?t.deselect(s):t.select(s);o?t.deselect(s):t.select(s,l)}})}CD.$inject=["eventBus","selection","canvas","elementRegistry"];function nne(e){return!e.hidden}const Co={__init__:["selectionVisuals","selectionBehavior"],__depends__:[t2],selection:["type",bp],selectionVisuals:["type",AD],selectionBehavior:["type",CD]};function Mu(e){Cn.call(this,e)}At(Mu,Cn);Mu.prototype._modules=[Bre,ene,e2,Co,Jb];Mu.prototype._moddleExtensions={};var ine=["c","C"],sne=["v","V"],ane=["y","Y"],jD=["z","Z"];function one(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function qa(e){return e.altKey?!1:e.ctrlKey||e.metaKey}function Ri(e,t){return e=Qt(e)?e:[e],e.indexOf(t.key)!==-1||e.indexOf(t.code)!==-1}function q8(e){return e.shiftKey}function lne(e){return qa(e)&&Ri(ine,e)}function cne(e){return qa(e)&&Ri(sne,e)}function une(e){return qa(e)&&!q8(e)&&Ri(jD,e)}function dne(e){return qa(e)&&(Ri(ane,e)||Ri(jD,e)&&q8(e))}var r2="keyboard.keydown",hne="keyboard.keyup",fne=1e3,TD="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function bs(e,t){var r=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){r._fire("destroy"),r.unbind()}),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(TD));var n=e&&e.bind!==!1;t.on("canvas.init",function(i){r._target=i.svg,n&&r.bind(),r._fire("init")})}bs.$inject=["config.keyboard","eventBus"];bs.prototype._keydownHandler=function(e){this._keyHandler(e,r2)};bs.prototype._keyupHandler=function(e){this._keyHandler(e,hne)};bs.prototype._keyHandler=function(e,t){var r;if(!this._isEventIgnored(e)){var n={keyEvent:e};r=this._eventBus.fire(t||r2,n),r&&e.preventDefault()}};bs.prototype._isEventIgnored=function(e){return!1};bs.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(TD)),this.unbind(),e=this._node=this._target,sr.bind(e,"keydown",this._keydownHandler),sr.bind(e,"keyup",this._keyupHandler),this._fire("bind")};bs.prototype.getBinding=function(){return this._node};bs.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),sr.unbind(e,"keydown",this._keydownHandler),sr.unbind(e,"keyup",this._keyupHandler)),this._node=null};bs.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})};bs.prototype.addListener=function(e,t,r){yi(e)&&(r=t,t=e,e=fne),this._eventBus.on(r||r2,e,t)};bs.prototype.removeListener=function(e,t){this._eventBus.off(t||r2,e)};bs.prototype.hasModifier=one;bs.prototype.isCmd=qa;bs.prototype.isShift=q8;bs.prototype.isKey=Ri;var pne=500;function wp(e,t){var r=this;e.on("editorActions.init",pne,function(n){var i=n.editorActions;r.registerBindings(t,i)})}wp.$inject=["eventBus","keyboard"];wp.prototype.registerBindings=function(e,t){function r(n,i){t.isRegistered(n)&&e.addListener(i)}r("undo",function(n){var i=n.keyEvent;if(une(i))return t.trigger("undo"),!0}),r("redo",function(n){var i=n.keyEvent;if(dne(i))return t.trigger("redo"),!0}),r("copy",function(n){var i=n.keyEvent;if(lne(i))return t.trigger("copy"),!0}),r("paste",function(n){var i=n.keyEvent;if(cne(i))return t.trigger("paste"),!0}),r("stepZoom",function(n){var i=n.keyEvent;if(Ri(["+","Add","="],i)&&qa(i))return t.trigger("stepZoom",{value:1}),!0}),r("stepZoom",function(n){var i=n.keyEvent;if(Ri(["-","Subtract"],i)&&qa(i))return t.trigger("stepZoom",{value:-1}),!0}),r("zoom",function(n){var i=n.keyEvent;if(Ri("0",i)&&qa(i))return t.trigger("zoom",{value:1}),!0}),r("removeSelection",function(n){var i=n.keyEvent;if(Ri(["Backspace","Delete","Del"],i))return t.trigger("removeSelection"),!0})};const V8={__init__:["keyboard","keyboardBindings"],keyboard:["type",bs],keyboardBindings:["type",wp]};var mne={moveSpeed:50,moveSpeedAccelerated:200};function RD(e,t,r){var n=this;this._config=Ie({},mne,e||{}),t.addListener(i);function i(s){var o=s.keyEvent,a=n._config;if(t.isCmd(o)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],o)){var l=t.isShift(o)?a.moveSpeedAccelerated:a.moveSpeed,c;switch(o.key){case"ArrowLeft":case"Left":c="left";break;case"ArrowUp":case"Up":c="up";break;case"ArrowRight":case"Right":c="right";break;case"ArrowDown":case"Down":c="down";break}return n.moveCanvas({speed:l,direction:c}),!0}}this.moveCanvas=function(s){var o=0,a=0,l=s.speed,c=l/Math.min(Math.sqrt(r.viewbox().scale),1);switch(s.direction){case"left":o=c;break;case"up":a=c;break;case"right":o=-c;break;case"down":a=-c;break}r.scroll({dx:o,dy:a})}}RD.$inject=["config.keyboardMove","keyboard","canvas"];const PD={__depends__:[V8],__init__:["keyboardMove"],keyboardMove:["type",RD]};var gne=/^djs-cursor-.*$/;function n2(e){var t=On(document.body);t.removeMatching(gne),e&&t.add("djs-cursor-"+e)}function OD(){n2(null)}var vne=5e3;function ID(e,t){t=t||"element.click";function r(){return!1}return e.once(t,vne,r),function(){e.off(t,r)}}function s0(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function wo(e,t){return{x:e.x-t.x,y:e.y-t.y}}var yne=15;function MD(e,t){var r;function n(a){return o(a.originalEvent)}e.on("canvas.focus.changed",function(a){a.focused?e.on("element.mousedown",500,n):e.off("element.mousedown",n)});function i(a){var l=r.start,c=r.button,u=ih(a),h=wo(u,l);if(!r.dragging&&bne(h)>yne&&(r.dragging=!0,c===0&&ID(e),n2("grab")),r.dragging){var f=r.last||r.start;h=wo(u,f),t.scroll({dx:h.x,dy:h.y}),r.last=u}a.preventDefault()}function s(a){sr.unbind(document,"mousemove",i),sr.unbind(document,"mouseup",s),r=null,OD()}function o(a){if(!pp(a.target,".djs-draggable")){var l=a.button;if(!(l>=2||a.ctrlKey||a.shiftKey||a.altKey))return r={button:l,start:ih(a)},sr.bind(document,"mousemove",i),sr.bind(document,"mouseup",s),!0}}this.isActive=function(){return!!r}}MD.$inject=["eventBus","canvas"];function bne(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}const LD={__init__:["moveCanvas"],moveCanvas:["type",MD]};function j4(e){return Math.log(e)/Math.log(10)}function DD(e,t){var r=j4(e.min),n=j4(e.max),i=Math.abs(r)+Math.abs(n);return i/t}function wne(e,t){return Math.max(e.min,Math.min(e.max,t))}var xne=Math.sign||function(e){return e>=0?1:-1},G8={min:.2,max:4},BD=10,_ne=.1,Sne=.75;function pl(e,t,r){e=e||{},this._enabled=!1,this._canvas=r,this._container=r._container,this._handleWheel=Rs(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||Sne;var n=this;t.on("canvas.focus.changed",function(i){n._init(i.focused&&e.enabled!==!1)})}pl.$inject=["config.zoomScroll","eventBus","canvas"];pl.prototype.scroll=function(t){this._canvas.scroll(t)};pl.prototype.reset=function(){this._canvas.zoom("fit-viewport")};pl.prototype.zoom=function(t,r){var n=DD(G8,BD*2);this._totalDelta+=t,Math.abs(this._totalDelta)>_ne&&(this._zoom(t,r,n),this._totalDelta=0)};pl.prototype._handleWheel=function(t){if(this._canvas.isFocused()){var r=this._container;t.preventDefault();var n=t.ctrlKey||ED()&&t.metaKey,i=t.shiftKey,s=-1*this._scale,o;if(n?s*=t.deltaMode===0?.02:.32:s*=t.deltaMode===0?1:16,n){var a=r.getBoundingClientRect(),l={x:t.clientX-a.left,y:t.clientY-a.top};o=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*xne(t.deltaY)*s,this.zoom(o,l)}else i?o={dx:s*t.deltaY,dy:0}:o={dx:s*t.deltaX,dy:s*t.deltaY},this.scroll(o)}};pl.prototype.stepZoom=function(t,r){var n=DD(G8,BD);this._zoom(t,r,n)};pl.prototype._zoom=function(e,t,r){var n=this._canvas,i=e>0?1:-1,s=j4(n.zoom()),o=Math.round(s/r)*r;o+=r*i;var a=Math.pow(10,o);n.zoom(wne(G8,a),t)};pl.prototype.toggle=function(t){var r=this._container,n=this._handleWheel,i=this._enabled;return typeof t>"u"&&(t=!i),i!==t&&sr[t?"bind":"unbind"](r,"wheel",n,!1),this._enabled=t,t};pl.prototype._init=function(e){this.toggle(e)};const FD={__init__:["zoomScroll"],zoomScroll:["type",pl]};function G0(e){Mu.call(this,e)}At(G0,Mu);G0.prototype._navigationModules=[PD,LD,FD];G0.prototype._modules=[].concat(Mu.prototype._modules,G0.prototype._navigationModules);function Dx(e){return e&&e[e.length-1]}function tC(e){return e.y}function rC(e){return e.x}var Ene={left:rC,center:rC,right:function(e){return e.x+e.width},top:tC,middle:tC,bottom:function(e){return e.y+e.height}};function xp(e,t){this._modeling=e,this._rules=t}xp.$inject=["modeling","rules"];xp.prototype._getOrientationDetails=function(e){var t=["top","bottom","middle"],r="x",n="width";return t.indexOf(e)!==-1&&(r="y",n="height"),{axis:r,dimension:n}};xp.prototype._isType=function(e,t){return t.indexOf(e)!==-1};xp.prototype._alignmentPosition=function(e,t){var r=this._getOrientationDetails(e),n=r.axis,i=r.dimension,s={},o={},a=!1,l,c,u;function h(f,d){return Math.round((f[n]+d[n]+d[i])/2)}if(this._isType(e,["left","top"]))s[e]=t[0][n];else if(this._isType(e,["right","bottom"]))u=Dx(t),s[e]=u[n]+u[i];else if(this._isType(e,["center","middle"])){if(Ce(t,function(f){var d=f[n]+Math.round(f[i]/2);o[d]?o[d].elements.push(f):o[d]={elements:[f],center:d}}),l=ll(o,function(f){return f.elements.length>1&&(a=!0),f.elements.length}),a)return s[e]=Dx(l).center,s;c=t[0],t=ll(t,function(f){return f[n]+f[i]}),u=Dx(t),s[e]=h(c,u)}return s};xp.prototype.trigger=function(e,t){var r=this._modeling,n,i=mr(e,function(l){return!(l.waypoints||l.host||l.labelTarget)});if(n=this._rules.allowed("elements.align",{elements:i}),Qt(n)&&(i=n),!(i.length<2||!n)){var s=Ene[t],o=ll(i,s),a=this._alignmentPosition(t,o);r.alignElements(o,a)}};const kne={__init__:["alignElements"],alignElements:["type",xp]},Nne=new yg;function _p(e){this._scheduled={},e.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(t=>{this.cancel(t)})})}_p.$inject=["eventBus"];_p.prototype.schedule=function(e,t=Nne.next()){this.cancel(t);const r=this._schedule(e,t);return this._scheduled[t]=r,r.promise};_p.prototype._schedule=function(e,t){const r=Ane();return{executionId:setTimeout(()=>{try{this._scheduled[t]=null;try{r.resolve(e())}catch(i){r.reject(i)}}catch(i){console.error("Scheduler#_schedule execution failed",i)}}),promise:r.promise}};_p.prototype.cancel=function(e){const t=this._scheduled[e];t&&(this._cancel(t),this._scheduled[e]=null)};_p.prototype._cancel=function(e){clearTimeout(e.executionId)};function Ane(){const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}const Cne={scheduler:["type",_p]};var jne="djs-element-hidden",rv=".entry",Tne=1e3,nC=8,Rne=300;function Jn(e,t,r,n){this._canvas=e,this._elementRegistry=t,this._eventBus=r,this._scheduler=n,this._current=null,this._init()}Jn.$inject=["canvas","elementRegistry","eventBus","scheduler"];Jn.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",function(t){var r=t.newSelection,n=r.length?r.length===1?r[0]:r:null;n?e.open(n,!0):e.close()}),this._eventBus.on("elements.changed",function(t){var r=t.elements,n=e._current;if(n){var i=n.target,s=Qt(i)?i:[i],o=s.filter(function(l){return r.includes(l)});if(o.length){e.close();var a=s.filter(function(l){return e._elementRegistry.get(l.id)});a.length&&e._updateAndOpen(a.length>1?a:a[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){e._updatePosition()}),this._eventBus.on("element.marker.update",function(t){if(e.isOpen()){var r=t.element,n=e._current,i=Qt(n.target)?n.target:[n.target];i.includes(r)&&e._updateVisibility()}}),this._container=this._createContainer()};Jn.prototype._createContainer=function(){var e=dn('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(e),e};Jn.prototype.registerProvider=function(e,t){t||(t=e,e=Tne),this._eventBus.on("contextPad.getProviders",e,function(r){r.providers.push(t)})};Jn.prototype.getEntries=function(e){var t=this._getProviders(),r=Qt(e)?"getMultiElementContextPadEntries":"getContextPadEntries",n={};return Ce(t,function(i){if(yi(i[r])){var s=i[r](e);yi(s)?n=s(n):Ce(s,function(o,a){n[a]=o})}}),n};Jn.prototype.trigger=function(e,t,r){var n=this,i,s,o=t.delegateTarget||t.target;if(!o)return t.preventDefault();if(i=Qi(o,"data-action"),s=t.originalEvent||t,e==="mouseover"){this._timeout=setTimeout(function(){n._mouseout=n.triggerEntry(i,"hover",s,r)},Rne);return}else if(e==="mouseout"){clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null);return}return this.triggerEntry(i,e,s,r)};Jn.prototype.triggerEntry=function(e,t,r,n){if(this.isShown()){var i=this._current.target,s=this._current.entries,o=s[e];if(o){var a=o.action;if(this._eventBus.fire("contextPad.trigger",{entry:o,event:r})!==!1){if(yi(a)){if(t==="click")return a(r,i,n)}else if(a[t])return a[t](r,i,n);r.preventDefault()}}}};Jn.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))};Jn.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Jn.prototype._updateAndOpen=function(e){var t=this.getEntries(e),r=this._createHtml(e),n;Ce(t,function(i,s){var o=i.group||"default",a=dn(i.html||'<div class="entry" draggable="true"></div>'),l;Qi(a,"data-action",s),l=Jr("[data-group="+q0(o)+"]",r),l||(l=dn('<div class="group"></div>'),Qi(l,"data-group",o),r.appendChild(l)),l.appendChild(a),i.className&&Pne(a,i.className),i.title&&Qi(a,"title",i.title),i.imageUrl&&(n=dn("<img>"),Qi(n,"src",i.imageUrl),n.style.width="100%",n.style.height="100%",a.appendChild(n))}),On(r).add("open"),this._current={entries:t,html:r,target:e},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})};Jn.prototype._createHtml=function(e){var t=this,r=dn('<div class="djs-context-pad"></div>');return Gs.bind(r,rv,"click",function(n){t.trigger("click",n)}),Gs.bind(r,rv,"dragstart",function(n){t.trigger("dragstart",n)}),Gs.bind(r,rv,"mouseover",function(n){t.trigger("mouseover",n)}),Gs.bind(r,rv,"mouseout",function(n){t.trigger("mouseout",n)}),sr.bind(r,"mousedown",function(n){n.stopPropagation()}),this._container.appendChild(r),this._eventBus.fire("contextPad.create",{target:e,pad:r}),r};Jn.prototype.getPad=function(e){console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888"));let t;return this.isOpen()&&Ine(this._current.target,e)?t=this._current.html:t=this._createHtml(e),{html:t}};Jn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};Jn.prototype.isOpen=function(e){var t=this._current;if(!t)return!1;if(!e)return!0;var r=t.target;return Qt(e)!==Qt(r)?!1:Qt(e)?e.length===r.length&&uh(e,function(n){return r.includes(n)}):r===e};Jn.prototype.isShown=function(){return this.isOpen()&&On(this._current.html).has("open")};Jn.prototype.show=function(){this.isOpen()&&(On(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))};Jn.prototype.hide=function(){this.isOpen()&&(On(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))};Jn.prototype._getPosition=function(e){if(!Qt(e)&&Qr(e)){var t=this._canvas.viewbox(),r=One(e),n=r.x*t.scale-t.x*t.scale,i=r.y*t.scale-t.y*t.scale;return{left:n+nC*this._canvas.zoom(),top:i}}var s=this._canvas.getContainer(),o=s.getBoundingClientRect(),a=this._getTargetBounds(e);return{left:a.right-o.left+nC*this._canvas.zoom(),top:a.top-o.top}};Jn.prototype._updatePosition=function(){const e=()=>{if(this.isOpen()){var t=this._current.html,r=this._getPosition(this._current.target);"x"in r&&"y"in r?(t.style.left=r.x+"px",t.style.top=r.y+"px"):["top","right","bottom","left"].forEach(function(n){n in r&&(t.style[n]=r[n]+"px")})}};this._scheduler.schedule(e,"ContextPad#_updatePosition")};Jn.prototype._updateVisibility=function(){const e=()=>{if(this.isOpen()){var t=this,r=this._current.target,n=Qt(r)?r:[r],i=n.some(function(s){return t._canvas.hasMarker(s,jne)});i?t.hide():t.show()}};this._scheduler.schedule(e,"ContextPad#_updateVisibility")};Jn.prototype._getTargetBounds=function(e){var t=this,r=Qt(e)?e:[e],n=r.map(function(i){return t._canvas.getGraphics(i)});return n.reduce(function(i,s){const o=s.getBoundingClientRect();return i.top=Math.min(i.top,o.top),i.right=Math.max(i.right,o.right),i.bottom=Math.max(i.bottom,o.bottom),i.left=Math.min(i.left,o.left),i.x=i.left,i.y=i.top,i.width=i.right-i.left,i.height=i.bottom-i.top,i},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};function Pne(e,t){var r=On(e);t=Qt(t)?t:t.split(/\s+/g),t.forEach(function(n){r.add(n)})}function One(e){return e.waypoints[e.waypoints.length-1]}function Ine(e,t){return e=Qt(e)?e:[e],t=Qt(t)?t:[t],e.length===t.length&&uh(e,function(r){return t.includes(r)})}const zD={__depends__:[t2,Cne,e2],contextPad:["type",Jn]};var i2,An,UD,Ad,iC,$D,HD,WD,K8,T4,R4,K0={},qD=[],Mne=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,s2=Array.isArray;function Gl(e,t){for(var r in t)e[r]=t[r];return e}function X8(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function VD(e,t,r){var n,i,s,o={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?i2.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return ty(e,o,n,i,null)}function ty(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++UD,__i:-1,__u:0};return i==null&&An.vnode!=null&&An.vnode(s),s}function a2(e){return e.children}function ry(e,t){this.props=e,this.context=t}function qf(e,t){if(t==null)return e.__?qf(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?qf(e):null}function GD(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return GD(e)}}function sC(e){(!e.__d&&(e.__d=!0)&&Ad.push(e)&&!Qy.__r++||iC!=An.debounceRendering)&&((iC=An.debounceRendering)||$D)(Qy)}function Qy(){for(var e,t,r,n,i,s,o,a=1;Ad.length;)Ad.length>a&&Ad.sort(HD),e=Ad.shift(),a=Ad.length,e.__d&&(r=void 0,n=void 0,i=(n=(t=e).__v).__e,s=[],o=[],t.__P&&((r=Gl({},n)).__v=n.__v+1,An.vnode&&An.vnode(r),Z8(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,s,i??qf(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,ZD(s,r,o),n.__e=n.__=null,r.__e!=i&&GD(r)));Qy.__r=0}function KD(e,t,r,n,i,s,o,a,l,c,u){var h,f,d,p,g,m,v,y=n&&n.__k||qD,b=t.length;for(l=Lne(r,t,y,l,b),h=0;h<b;h++)(d=r.__k[h])!=null&&(f=d.__i==-1?K0:y[d.__i]||K0,d.__i=h,m=Z8(e,d,f,i,s,o,a,l,c,u),p=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y8(f.ref,null,d),u.push(d.ref,d.__c||p,d)),g==null&&p!=null&&(g=p),(v=!!(4&d.__u))||f.__k===d.__k?l=XD(d,l,e,v):typeof d.type=="function"&&m!==void 0?l=m:p&&(l=p.nextSibling),d.__u&=-7);return r.__e=g,l}function Lne(e,t,r,n,i){var s,o,a,l,c,u=r.length,h=u,f=0;for(e.__k=new Array(i),s=0;s<i;s++)(o=t[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+f,(o=e.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ty(null,o,null,null,null):s2(o)?ty(a2,{children:o},null,null,null):o.constructor==null&&o.__b>0?ty(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,a=null,(c=o.__i=Dne(o,r,l,h))!=-1&&(h--,(a=r[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof o.type!="function"&&(o.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,o.__u|=4))):e.__k[s]=null;if(h)for(s=0;s<u;s++)(a=r[s])!=null&&!(2&a.__u)&&(a.__e==n&&(n=qf(a)),JD(a,a));return n}function XD(e,t,r,n){var i,s;if(typeof e.type=="function"){for(i=e.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=e,t=XD(i[s],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=qf(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Dne(e,t,r,n){var i,s,o,a=e.key,l=e.type,c=t[r],u=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||u&&a==c.key&&l==c.type)return r;if(n>(u?1:0)){for(i=r-1,s=r+1;i>=0||s<t.length;)if((c=t[o=i>=0?i--:s++])!=null&&!(2&c.__u)&&a==c.key&&l==c.type)return o}return-1}function aC(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Mne.test(t)?r:r+"px"}function nv(e,t,r,n,i){var s,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||aC(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||aC(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(WD,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=K8,e.addEventListener(t,s?R4:T4,s)):e.removeEventListener(t,s?R4:T4,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function oC(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=K8++;else if(t.t<r.u)return;return r(An.event?An.event(t):t)}}}function Z8(e,t,r,n,i,s,o,a,l,c){var u,h,f,d,p,g,m,v,y,b,x,_,M,U,L,O,H,G=t.type;if(t.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=t.__e=r.__e]),(u=An.__b)&&u(t);e:if(typeof G=="function")try{if(v=t.props,y="prototype"in G&&G.prototype.render,b=(u=G.contextType)&&n[u.__c],x=u?b?b.props.value:u.__:n,r.__c?m=(h=t.__c=r.__c).__=h.__E:(y?t.__c=h=new G(v,x):(t.__c=h=new ry(v,x),h.constructor=G,h.render=Fne),b&&b.sub(h),h.props=v,h.state||(h.state={}),h.context=x,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&G.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Gl({},h.__s)),Gl(h.__s,G.getDerivedStateFromProps(v,h.__s))),d=h.props,p=h.state,h.__v=t,f)y&&G.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&G.getDerivedStateFromProps==null&&v!==d&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,x),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,x)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(I){I&&(I.__=t)}),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,x),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(d,p,g)})}if(h.context=x,h.props=v,h.__P=e,h.__e=!1,M=An.__r,U=0,y){for(h.state=h.__s,h.__d=!1,M&&M(t),u=h.render(h.props,h.state,h.context),L=0;L<h._sb.length;L++)h.__h.push(h._sb[L]);h._sb=[]}else do h.__d=!1,M&&M(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++U<25);h.state=h.__s,h.getChildContext!=null&&(n=Gl(Gl({},n),h.getChildContext())),y&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(d,p)),O=u,u!=null&&u.type===a2&&u.key==null&&(O=YD(u.props.children)),a=KD(e,s2(O)?O:[O],t,r,n,i,s,o,a,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),m&&(h.__E=h.__=null)}catch(I){if(t.__v=null,l||s!=null)if(I.then){for(t.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,t.__e=a}else{for(H=s.length;H--;)X8(s[H]);P4(t)}else t.__e=r.__e,t.__k=r.__k,I.then||P4(t);An.__e(I,t,r)}else s==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):a=t.__e=Bne(r.__e,t,r,n,i,s,o,l,c);return(u=An.diffed)&&u(t),128&t.__u?void 0:a}function P4(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(P4)}function ZD(e,t,r){for(var n=0;n<r.length;n++)Y8(r[n],r[++n],r[++n]);An.__c&&An.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){An.__e(s,i.__v)}})}function YD(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:s2(e)?e.map(YD):Gl({},e)}function Bne(e,t,r,n,i,s,o,a,l){var c,u,h,f,d,p,g,m=r.props,v=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((d=s[c])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,s[c]=null;break}}if(e==null){if(y==null)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),a&&(An.__m&&An.__m(t,s),a=!1),s=null}if(y==null)m===v||a&&e.data==v||(e.data=v);else{if(s=s&&i2.call(e.childNodes),m=r.props||K0,!a&&s!=null)for(m={},c=0;c<e.attributes.length;c++)m[(d=e.attributes[c]).name]=d.value;for(c in m)if(d=m[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=d;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;nv(e,c,null,d,i)}}for(c in v)d=v[c],c=="children"?f=d:c=="dangerouslySetInnerHTML"?u=d:c=="value"?p=d:c=="checked"?g=d:a&&typeof d!="function"||m[c]===d||nv(e,c,d,m[c],i);if(u)a||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),KD(t.type=="template"?e.content:e,s2(f)?f:[f],t,r,n,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&qf(r,0),a,l),s!=null)for(c=s.length;c--;)X8(s[c]);a||(c="value",y=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[c]||y=="progress"&&!p||y=="option"&&p!=m[c])&&nv(e,c,p,m[c],i),c="checked",g!=null&&g!=e[c]&&nv(e,c,g,m[c],i))}return e}function Y8(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){An.__e(i,r)}}function JD(e,t,r){var n,i;if(An.unmount&&An.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||Y8(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){An.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&JD(n[i],t,r||typeof e.type!="function");r||X8(e.__e),e.__c=e.__=e.__e=void 0}function Fne(e,t,r){return this.constructor(e,r)}function QD(e,t,r){var n,i,s,o;t==document&&(t=document.documentElement),An.__&&An.__(e,t),i=(n=typeof r=="function")?null:t.__k,s=[],o=[],Z8(t,e=(!n&&r||t).__k=VD(a2,null,[e]),i||K0,K0,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?i2.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,o),ZD(s,e,o)}i2=qD.slice,An={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},UD=0,ry.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Gl({},this.state),typeof e=="function"&&(e=e(Gl({},r),this.props)),e&&Gl(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),sC(this))},ry.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sC(this))},ry.prototype.render=a2,Ad=[],$D=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,HD=function(e,t){return e.__v.__b-t.__v.__b},Qy.__r=0,WD=/(PointerCapture)$|Capture$/i,K8=0,T4=oC(!1),R4=oC(!0);var eB=function(e,t,r,n){var i;t[0]=0;for(var s=1;s<t.length;s++){var o=t[s++],a=t[s]?(t[0]|=o?1:2,r[t[s++]]):t[++s];o===3?n[0]=a:o===4?n[1]=Object.assign(n[1]||{},a):o===5?(n[1]=n[1]||{})[t[++s]]=a:o===6?n[1][t[++s]]+=a+"":o?(i=e.apply(a,eB(e,a,r,["",null])),n.push(i),a[0]?t[0]|=2:(t[s-2]=0,t[s]=i)):n.push(a)}return n},lC=new Map;function zne(e){var t=lC.get(this);return t||(t=new Map,lC.set(this,t)),(t=eB(this,t.get(e)||(t.set(e,t=function(r){for(var n,i,s=1,o="",a="",l=[0],c=function(f){s===1&&(f||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,f,o):s===3&&(f||o)?(l.push(3,f,o),s=2):s===2&&o==="..."&&f?l.push(4,f,0):s===2&&o&&!f?l.push(5,0,!0,o):s>=5&&((o||!f&&s===5)&&(l.push(s,0,o,i),s=6),f&&(l.push(s,f,0,i),s=6)),o=""},u=0;u<r.length;u++){u&&(s===1&&c(),c(u));for(var h=0;h<r[u].length;h++)n=r[u][h],s===1?n==="<"?(c(),l=[l],s=3):o+=n:s===4?o==="--"&&n===">"?(s=1,o=""):o=n+o[0]:a?n===a?a="":o+=n:n==='"'||n==="'"?a=n:n===">"?(c(),s=1):s&&(n==="="?(s=5,i=o,o=""):n==="/"&&(s<5||r[u][h+1]===">")?(c(),s===3&&(l=l[0]),s=l,(l=l[0]).push(2,0,s),s=0):n===" "||n==="	"||n===`
`||n==="\r"?(c(),s=2):o+=n),s===3&&o==="!--"&&(s=4,l=l[0])}return c(),l}(e)),t),arguments,[])).length>1?t:t[0]}var Dn=zne.bind(VD),Vf,Kn,Bx,cC,X0=0,tB=[],ii=An,uC=ii.__b,dC=ii.__r,hC=ii.diffed,fC=ii.__c,pC=ii.unmount,mC=ii.__;function o2(e,t){ii.__h&&ii.__h(Kn,e,X0||t),X0=0;var r=Kn.__H||(Kn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Fx(e){return X0=1,Une(nB,e)}function Une(e,t,r){var n=o2(Vf++,2);if(n.t=e,!n.__c&&(n.__=[nB(void 0,t),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=Kn,!Kn.__f)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=n.__c.props!==a;return u.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(h=!0)}}),s&&s.call(this,a,l,c)||h};Kn.__f=!0;var s=Kn.shouldComponentUpdate,o=Kn.componentWillUpdate;Kn.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},Kn.shouldComponentUpdate=i}return n.__N||n.__}function O4(e,t){var r=o2(Vf++,3);!ii.__s&&J8(r.__H,t)&&(r.__=e,r.u=t,Kn.__H.__h.push(r))}function I4(e,t){var r=o2(Vf++,4);!ii.__s&&J8(r.__H,t)&&(r.__=e,r.u=t,Kn.__h.push(r))}function rB(e){return X0=5,kf(function(){return{current:e}},[])}function kf(e,t){var r=o2(Vf++,7);return J8(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function fm(e,t){return X0=8,kf(function(){return e},t)}function $ne(){for(var e;e=tB.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ny),e.__H.__h.forEach(M4),e.__H.__h=[]}catch(t){e.__H.__h=[],ii.__e(t,e.__v)}}ii.__b=function(e){Kn=null,uC&&uC(e)},ii.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),mC&&mC(e,t)},ii.__r=function(e){dC&&dC(e),Vf=0;var t=(Kn=e.__c).__H;t&&(Bx===Kn?(t.__h=[],Kn.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(ny),t.__h.forEach(M4),t.__h=[],Vf=0)),Bx=Kn},ii.diffed=function(e){hC&&hC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(tB.push(t)!==1&&cC===ii.requestAnimationFrame||((cC=ii.requestAnimationFrame)||Hne)($ne)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Bx=Kn=null},ii.__c=function(e,t){t.some(function(r){try{r.__h.forEach(ny),r.__h=r.__h.filter(function(n){return!n.__||M4(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],ii.__e(n,r.__v)}}),fC&&fC(e,t)},ii.unmount=function(e){pC&&pC(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ny(n)}catch(i){t=i}}),r.__H=void 0,t&&ii.__e(t,r.__v))};var gC=typeof requestAnimationFrame=="function";function Hne(e){var t,r=function(){clearTimeout(n),gC&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);gC&&(t=requestAnimationFrame(r))}function ny(e){var t=Kn,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Kn=t}function M4(e){var t=Kn;e.__c=e.__(),Kn=t}function J8(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function nB(e,t){return typeof t=="function"?t(e):t}function iB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=iB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function eb(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=iB(e))&&(n&&(n+=" "),n+=t);return n}function Wne(e){const{headerEntries:t,onSelect:r,selectedEntry:n,setSelectedEntry:i,title:s}=e,o=kf(()=>qne(t),[t]),a=c=>c.action&&!c.disabled,l=(c,u)=>{if(a(u))return r(c,u)};return Dn`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${s}>${s}</h3>
      ${o.map(c=>Dn`
        <ul key=${c.id} class="djs-popup-header-group" data-header-group=${c.id}>

          ${c.entries.map(u=>Dn`
            <li key=${u.id}>
              <${a(u)?"button":"span"}
                class=${Vne(u,u===n)}
                onClick=${h=>l(h,u)}
                title=${u.title||u.label}
                data-id=${u.id}
                aria-disabled=${u.disabled||void 0}
                onMouseEnter=${()=>a(u)&&i(u)}
                onMouseLeave=${()=>a(u)&&i(null)}
                onFocus=${()=>a(u)&&i(u)}
                onBlur=${()=>a(u)&&i(null)}
              >
                ${u.imageUrl&&Dn`<img class="djs-popup-entry-icon" src=${u.imageUrl} alt="" />`||u.imageHtml&&Dn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:u.imageHtml}} />`}
                ${u.label?Dn`
                  <span class="djs-popup-label">${u.label}</span>
                `:null}
              </${u.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function qne(e){return e.reduce((t,r)=>{const n=r.group||"default",i=t.find(s=>s.id===n);return i?i.entries.push(r):t.push({id:n,entries:[r]}),t},[])}function Vne(e,t){return eb("entry",e.className,e.active?"active":"",e.disabled?"disabled":"",t?"selected":"")}function Gne(e){const{entry:t,selected:r,onMouseEnter:n,onMouseLeave:i,onAction:s}=e,o=(a,l)=>{if(!t.disabled)return s(a,t,l)};return Dn`
    <li
      class=${eb("entry",{selected:r,disabled:t.disabled})}
      data-id=${t.id}
      title=${t.title||t.label}
      aria-disabled=${t.disabled||void 0}
      tabIndex="0"
      onClick=${o}
      onFocus=${n}
      onBlur=${i}
      onMouseEnter=${n}
      onMouseLeave=${i}
      onDragStart=${a=>o(a,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${eb("djs-popup-entry-name",t.className)}
        >
          ${t.imageUrl&&Dn`<img class="djs-popup-entry-icon" src=${t.imageUrl} alt="" />`||t.imageHtml&&Dn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:t.imageHtml}} />`}

          ${t.label?Dn`
            <span class="djs-popup-label">
              ${t.label}
            </span>
          `:null}
        </span>
        ${t.description&&Dn`
          <span
            class="djs-popup-entry-description"
            title=${t.description}
          >
            ${t.description}
          </span>
        `}
      </div>
      ${t.documentationRef&&Dn`
        <div class="djs-popup-entry-docs">
          <a
            href="${t.documentationRef}"
            onClick=${a=>a.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Kne(e){const{selectedEntry:t,setSelectedEntry:r,groupedEntries:n,...i}=e,s=rB();return I4(()=>{const o=s.current;if(!o)return;const a=o.querySelector(".selected");a&&Xne(a)},[t]),Dn`
    <div class="djs-popup-results" ref=${s}>
      ${n.map(o=>Dn`
        ${o.name&&Dn`
          <div key=${o.id} class="entry-header" title=${o.name}>
            ${o.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${o.id}>
          ${o.entries.map(a=>Dn`
            <${Gne}
              key=${a.id}
              entry=${a}
              selected=${a===t}
              onMouseEnter=${()=>r(a)}
              onMouseLeave=${()=>r(null)}
              ...${i}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Xne(e){typeof e.scrollIntoViewIfNeeded=="function"?e.scrollIntoViewIfNeeded():e.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function Zne(e){const{onClose:t,onSelect:r,className:n,headerEntries:i,position:s,title:o,width:a,scale:l,search:c,emptyPlaceholder:u,searchFn:h,entries:f,onOpened:d,onClosed:p}=e,g=kf(()=>Pi(c)?f.length>5:!1,[c,f]),[m,v]=Fx(""),y=fm((R,S)=>{if(!g)return R;if(!S.trim())return R.filter(({rank:E=0})=>E>=0);const j=R.filter(({searchable:E})=>E!==!1);return h(j,S,{keys:["label","search","description"]}).map(({item:E})=>E)},[g]),[b,x]=Fx(y(f,m)),[_,M]=Fx(b[0]),U=kf(()=>Qne(b),[b]),L=fm(R=>{M(R[0]),x(R)},[x,M]);O4(()=>{L(y(f,m))},[m,f]);const O=fm(R=>{const S=Jne(U);let E=S.indexOf(_)+R;E<0&&(E=S.length-1),E>=S.length&&(E=0),M(S[E])},[U,_,M]),H=fm(R=>{if(R.key==="Enter"&&_)return _.disabled?void 0:r(R,_);if(R.key==="ArrowUp")return O(-1),R.preventDefault();if(R.key==="ArrowDown")return O(1),R.preventDefault()},[r,_,O]),G=fm(R=>{bL(R.target,"input")&&v(()=>R.target.value)},[v]);O4(()=>(d(),()=>{p()}),[]);const I=kf(()=>o||i.length>0,[o,i]);return Dn`
    <${vC}
      onClose=${t}
      onKeyup=${G}
      onKeydown=${H}
      className=${n}
      position=${s}
      width=${a}
      scale=${l}
    >
      ${I&&Dn`
        <${Wne}
          headerEntries=${i}
          onSelect=${r}
          selectedEntry=${_}
          setSelectedEntry=${M}
          title=${o}
        />
      `}
      ${f.length>0&&Dn`
        <div class="djs-popup-body">

          ${g&&Dn`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${o}" />
          </div>
          `}

          <${Kne}
            groupedEntries=${U}
            selectedEntry=${_}
            setSelectedEntry=${M}
            onAction=${r}
          />
        </div>
      `}
    ${u&&b.length===0&&Dn`
      <div class="djs-popup-no-results">${yi(u)?u(m):u}</div>
    `}
    </${vC}>
  `}function vC(e){const{onClose:t,onKeydown:r,onKeyup:n,className:i,children:s,position:o}=e,a=rB();return I4(()=>{if(typeof o!="function")return;const l=a.current,c=o(l);l.style.left=`${c.x}px`,l.style.top=`${c.y}px`},[a.current,o]),I4(()=>{const l=a.current;if(!l)return;(l.querySelector("input")||l).focus()},[]),O4(()=>{const l=u=>{if(u.key==="Escape")return u.preventDefault(),t()},c=u=>{if(!pp(u.target,".djs-popup",!0))return t()};return document.documentElement.addEventListener("keydown",l),document.body.addEventListener("click",c),()=>{document.documentElement.removeEventListener("keydown",l),document.body.removeEventListener("click",c)}},[]),Dn`
    <div
      class=${eb("djs-popup",i)}
      style=${Yne(e)}
      onKeydown=${r}
      onKeyup=${n}
      ref=${a}
      tabIndex="-1"
    >
      ${s}
    </div>
  `}function Yne(e){return{transform:`scale(${e.scale})`,width:`${e.width}px`,"transform-origin":"top left"}}function Jne(e){const t=[];return e.forEach(r=>{r.entries.forEach(n=>{t.push(n)})}),t}function Qne(e){const t=[],r=s=>t.find(o=>s.id===o.id),n=s=>!!r(s),i=s=>typeof s=="string"?{id:s}:s;return e.forEach(s=>{const o=s.group?i(s.group):{id:"default"};n(o)?r(o).entries.push(s):t.push({...o,entries:[s]})}),t}var eie="data-id",sB=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],tie=1e3;function jn(e,t,r,n){this._eventBus=t,this._canvas=r,this._search=n,this._current=null;var i=Pi(e&&e.scale)?e.scale:{min:1,max:1};this._config={scale:i},t.on("diagram.destroy",()=>{this.close()}),t.on("element.changed",s=>{const o=this.isOpen()&&this._current.target;s.element===o&&this.refresh()})}jn.$inject=["config.popupMenu","eventBus","canvas","search"];jn.prototype._render=function(){const{position:e,providerId:t,entries:r,headerEntries:n,emptyPlaceholder:i,options:s}=this._current,o=Object.entries(r).map(([f,d])=>({id:f,...d})),a=Object.entries(n).map(([f,d])=>({id:f,...d})),l=e&&(f=>this._ensureVisible(f,e)),c=this._updateScale(this._current.container);QD(Dn`
      <${Zne}
        onClose=${f=>this.close(f)}
        onSelect=${(f,d,p)=>this.trigger(f,d,p)}
        position=${l}
        className=${t}
        entries=${o}
        headerEntries=${a}
        emptyPlaceholder=${i}
        scale=${c}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...s}}
      />
    `,this._current.container)};jn.prototype.open=function(e,t,r,n){if(!e)throw new Error("target is missing");if(!t)throw new Error("providers for <"+t+"> not found");if(!r)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:i,headerEntries:s,emptyPlaceholder:o}=this._getContext(e,t);this._current={position:r,providerId:t,target:e,entries:i,headerEntries:s,emptyPlaceholder:o,container:this._createContainer({provider:t}),options:n},this._emit("open"),this._bindAutoClose(),this._render()};jn.prototype.refresh=function(){if(!this.isOpen())return;const{target:e,providerId:t}=this._current,{entries:r,headerEntries:n,emptyPlaceholder:i}=this._getContext(e,t);this._current={...this._current,entries:r,headerEntries:n,emptyPlaceholder:i},this._emit("refresh"),this._render()};jn.prototype._getContext=function(e,t){const r=this._getProviders(t);if(!r||!r.length)throw new Error("provider for <"+t+"> not found");const n=this._getEntries(e,r),i=this._getHeaderEntries(e,r),s=this._getEmptyPlaceholder(r);return{entries:n,headerEntries:i,emptyPlaceholder:s,empty:!(Object.keys(n).length||Object.keys(i).length)}};jn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)};jn.prototype.reset=function(){const e=this._current.container;QD(null,e),cl(e)};jn.prototype._emit=function(e,t){this._eventBus.fire(`popupMenu.${e}`,t)};jn.prototype._onOpened=function(){this._emit("opened")};jn.prototype._onClosed=function(){this._emit("closed")};jn.prototype._createContainer=function(e){var t=this._canvas,r=t.getContainer();const n=dn(`<div class="djs-popup-parent djs-scrollable" data-popup=${e.provider}></div>`);return r.appendChild(n),n};jn.prototype._bindAutoClose=function(){this._eventBus.once(sB,this.close,this)};jn.prototype._unbindAutoClose=function(){this._eventBus.off(sB,this.close,this)};jn.prototype._updateScale=function(){var e=this._canvas.zoom(),t=this._config.scale,r,n,i=e;return t!==!0&&(t===!1?(r=1,n=1):(r=t.min,n=t.max),Pi(r)&&e<r&&(i=r),Pi(n)&&e>n&&(i=n)),i};jn.prototype._ensureVisible=function(e,t){var r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect(),i={},s=t.x,o=t.y;return t.x+n.width>r.width&&(i.x=!0),t.y+n.height>r.height&&(i.y=!0),i.x&&i.y?(s=t.x-n.width,o=t.y-n.height):i.x?(s=t.x-n.width,o=t.y):i.y&&t.y<n.height?(s=t.x,o=10):i.y&&(s=t.x,o=t.y-n.height),t.y<r.top&&(o=t.y+n.height),{x:s,y:o}};jn.prototype.isEmpty=function(e,t){if(!e)throw new Error("target is missing");if(!t)throw new Error("provider ID is missing");const r=this._getProviders(t);return!r||!r.length?!0:this._getContext(e,t).empty};jn.prototype.registerProvider=function(e,t,r){r||(r=t,t=tie),this._eventBus.on("popupMenu.getProviders."+e,t,function(n){n.providers.push(r)})};jn.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers};jn.prototype._getEntries=function(e,t){var r={};return Ce(t,function(n){if(!n.getPopupMenuEntries){Ce(n.getEntries(e),function(s){var o=s.id;if(!o)throw new Error("entry ID is missing");r[o]=hl(s,["id"])});return}var i=n.getPopupMenuEntries(e);yi(i)?r=i(r):Ce(i,function(s,o){r[o]=s})}),r};jn.prototype._getHeaderEntries=function(e,t){var r={};return Ce(t,function(n){if(!n.getPopupMenuHeaderEntries){if(!n.getHeaderEntries)return;Ce(n.getHeaderEntries(e),function(s){var o=s.id;if(!o)throw new Error("entry ID is missing");r[o]=hl(s,["id"])});return}var i=n.getPopupMenuHeaderEntries(e);yi(i)?r=i(r):Ce(i,function(s,o){r[o]=s})}),r};jn.prototype._getEmptyPlaceholder=function(e){const t=e.find(r=>yi(r.getEmptyPlaceholder));return t&&t.getEmptyPlaceholder()};jn.prototype.isOpen=function(){return!!this._current};jn.prototype.trigger=function(e,t,r="click"){if(e.preventDefault(),!t){let i=pp(e.delegateTarget||e.target,".entry",!0),s=Qi(i,eie);t={id:s,...this._getEntry(s)}}const n=t.action;if(this._emit("trigger",{entry:t,event:e})!==!1){if(yi(n)){if(r==="click")return n(e,t)}else if(n[r])return n[r](e,t)}};jn.prototype._getEntry=function(e){var t=this._current.entries[e]||this._current.headerEntries[e];if(!t)throw new Error("entry not found");return t};function rie(e,t,r){const{keys:n}=r;if(t=t.trim().toLowerCase(),!t)throw new Error("<pattern> must not be empty");const i=t.trim().toLowerCase().split(/\s+/);return e.flatMap(s=>{const o=nie(s,i,n);return o?{item:s,tokens:o}:[]}).sort(iie(n))}function nie(e,t,r){const{matchedWords:n,tokens:i}=r.reduce((s,o)=>{const a=e[o],{tokens:l,matchedWords:c}=Qt(a)?a.reduce((u,h)=>{const{tokens:f,matchedWords:d}=wC(h,t);return{tokens:[...u.tokens,f],matchedWords:{...u.matchedWords,...d}}},{matchedWords:{},tokens:[]}):wC(a,t);return{tokens:{...s.tokens,[o]:l},matchedWords:{...s.matchedWords,...c}}},{matchedWords:{},tokens:{}});return Object.keys(n).length!==t.length?null:i}function iie(e){return(t,r)=>{let n=0,i=1;for(const s of e){const o=sie(t.tokens[s],r.tokens[s]);if(o!==0){n+=o*i,i*=.9;continue}const a=aie(t.item[s],r.item[s]);if(a!==0){n+=a*i,i*=.9;continue}}return n}}function sie(e,t){return yC(t)-yC(e)}function yC(e){return e.reduce((t,r)=>t+aB(r),0)}function aB(e){if(Qt(e))return Math.max(...e.map(aB));const t=Math.log(e.value.length);return e.match?(e.start?e.end?131.9:7.87:e.wordStart?2.19:1)*t:-.07*t}function bC(e=""){return Qt(e)?e.join(", "):e}function aie(e,t){return bC(e).localeCompare(bC(t))}function wC(e,t){if(!e)return{tokens:[],matchedWords:{}};const r=[],n={},i=t.map(oie),s=[`(?<all>${i.join("\\s+")})`,...i].join("|"),o=new RegExp(s,"ig");let a,l=0;for(;a=o.exec(e);){const[c]=a,u=a.index,h=a.index+c.length,f=u===0,d=h===e.length,p=!!a.groups.all,g=f||/\s/.test(e.charAt(u-1)),m=d||/\s/.test(e.charAt(h));a.index>l&&r.push({value:e.slice(l,a.index),index:l}),r.push({value:c,index:a.index,match:!0,wordStart:g,wordEnd:m,start:f,end:d,all:p});const v=p?t:[c];for(const y of v)n[y.toLowerCase()]=!0;l=a.index+c.length}return l<e.length&&r.push({value:e.slice(l),index:l}),{tokens:r,matchedWords:n}}function oie(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}const oB={search:["value",rie]},Q8={__depends__:[oB],__init__:["popupMenu"],popupMenu:["type",jn]};var lB={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`},lie=900;function Sp(e,t,r,n){e.registerProvider(lie,this),this._contextPad=e,this._popupMenu=t,this._translate=r,this._canvas=n}Sp.$inject=["contextPad","popupMenu","translate","canvas"];Sp.prototype.getMultiElementContextPadEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};Sp.prototype._isAllowed=function(e){return!this._popupMenu.isEmpty(e,"align-elements")};Sp.prototype._getEntries=function(){var e=this;return{"align-elements":{group:"align-elements",title:e._translate("Align elements"),html:`<div class="entry">${lB.align}</div>`,action:{click:function(t,r){var n=e._getMenuPosition(r);Ie(n,{cursor:{x:t.x,y:t.y}}),e._popupMenu.open(r,"align-elements",n)}}}}};Sp.prototype._getMenuPosition=function(e){var t=5,r=this._contextPad.getPad(e).html,n=r.getBoundingClientRect(),i={x:n.left,y:n.bottom+t};return i};var cie=["left","center","right","top","middle","bottom"];function bg(e,t,r,n){this._alignElements=t,this._translate=r,this._popupMenu=e,this._rules=n,e.registerProvider("align-elements",this)}bg.$inject=["popupMenu","alignElements","translate","rules"];bg.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};bg.prototype._isAllowed=function(e){return this._rules.allowed("elements.align",{elements:e})};bg.prototype._getEntries=function(e){var t=this._alignElements,r=this._translate,n=this._popupMenu,i={};return Ce(cie,function(s){i["align-elements-"+s]={group:"align",title:r("Align elements "+s),className:"bjs-align-elements-menu-entry",imageHtml:lB[s],action:function(){t.trigger(e,s),n.close()}}}),i};function Ja(e){at.call(this,e),this.init()}Ja.$inject=["eventBus"];At(Ja,at);Ja.prototype.addRule=function(e,t,r){var n=this;typeof e=="string"&&(e=[e]),e.forEach(function(i){n.canExecute(i,t,function(s,o,a){return r(s)},!0)})};Ja.prototype.init=function(){};function l2(e){Ja.call(this,e)}l2.$inject=["eventBus"];At(l2,Ja);l2.prototype.init=function(){this.addRule("elements.align",function(e){var t=e.elements,r=mr(t,function(n){return!(n.waypoints||n.host||n.labelTarget)});return r=qb(r),r.length<2?!1:r})};const uie={__depends__:[kne,zD,Q8],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Sp],alignElementsMenuProvider:["type",bg],bpmnAlignElements:["type",l2]};var die=10,cB=50,hie=250;function eS(e,t,r,n){for(var i;i=fie(e,r,t);)r=n(t,r,i);return r}function tS(e){return function(t,r,n){var i={x:r.x,y:r.y};return["x","y"].forEach(function(s){var o=e[s];if(o){var a=s==="x"?"width":"height",l=o.margin,c=o.minDistance;l<0?i[s]=Math.min(n[s]+l-t[a]/2,r[s]-c+l):i[s]=Math.max(n[s]+n[a]+l+t[a]/2,r[s]+c+l)}}),i}}function fie(e,t,r){var n={x:t.x-r.width/2,y:t.y-r.height/2,width:r.width,height:r.height},i=mie(e);return Lr(i,function(s){if(s===r)return!1;var o=ss(s,n,die);return o==="intersect"})}function pie(e,t){t||(t={});function r(p){return p.source===e?1:-1}var n=t.defaultDistance||cB,i=t.direction||"e",s=t.filter,o=t.getWeight||r,a=t.maxDistance||hie,l=t.reference||"start";s||(s=yie);function c(p,g){return i==="n"?l==="start"?Ht(p).top-Ht(g).bottom:l==="center"?Ht(p).top-Jt(g).y:Ht(p).top-Ht(g).top:i==="w"?l==="start"?Ht(p).left-Ht(g).right:l==="center"?Ht(p).left-Jt(g).x:Ht(p).left-Ht(g).left:i==="s"?l==="start"?Ht(g).top-Ht(p).bottom:l==="center"?Jt(g).y-Ht(p).bottom:Ht(g).bottom-Ht(p).bottom:l==="start"?Ht(g).left-Ht(p).right:l==="center"?Jt(g).x-Ht(p).right:Ht(g).right-Ht(p).right}var u=e.incoming.filter(s).map(function(p){var g=o(p),m=g<0?c(p.source,e):c(e,p.source);return{id:p.source.id,distance:m,weight:g}}),h=e.outgoing.filter(s).map(function(p){var g=o(p),m=g>0?c(e,p.target):c(p.target,e);return{id:p.target.id,distance:m,weight:g}}),f=u.concat(h).reduce(function(p,g){return p[g.id+"__weight_"+g.weight]=g,p},{}),d=Js(f,function(p,g){var m=g.distance,v=g.weight;return m<0||m>a||(p[String(m)]||(p[String(m)]=0),p[String(m)]+=1*v,(!p.distance||p[p.distance]<p[String(m)])&&(p.distance=m)),p},{});return d.distance||n}function mie(e){var t=zx(e);return e.host&&(t=t.concat(zx(e.host))),e.attachers&&(t=t.concat(e.attachers.reduce(function(r,n){return r.concat(zx(n))},[]))),t}function zx(e){return vie(e).concat(gie(e))}function gie(e){return e.incoming.map(function(t){return t.source})}function vie(e){return e.outgoing.map(function(t){return t.target})}function yie(){return!0}var bie=100;function uB(e,t,r){e.on("autoPlace",bie,function(n){var i=n.shape,s=n.source;return wie(s,i)}),e.on("autoPlace.end",function(n){r.scrollToElement(n.shape)}),this.append=function(n,i,s){e.fire("autoPlace.start",{source:n,shape:i});var o=e.fire("autoPlace",{source:n,shape:i}),a=t.appendShape(n,i,o,n.parent,s);return e.fire("autoPlace.end",{source:n,shape:a}),a}}uB.$inject=["eventBus","modeling","canvas"];function wie(e,t,r){r||(r={});var n=r.defaultDistance||cB,i=Jt(e),s=Ht(e);return{x:s.right+n+t.width/2,y:i.y}}function dB(e,t){e.on("autoPlace.end",500,function(r){t.select(r.shape)})}dB.$inject=["eventBus","selection"];const xie={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",uB],autoPlaceSelectionBehavior:["type",dB]};function Gf(e,t){for(Ys(t)&&(t=[t]);e=e.parent;)if(gr(e,t))return e;return null}function hB(e,t){var r=Gf(e,"bpmn:Process");if(r)return!0;var n=["bpmn:Participant","bpmn:Lane"];if(r=Gf(e,n),r)return bi(r);if(gr(e,n))return bi(e);var i;for(i=ht(e);i&&!he(i,"bpmn:Process");i=i.$parent);if(!t)return!0;var s=t.find(function(o){var a=ht(o);return a&&a.get("processRef")===i});return s?bi(s):!0}function fB(e,t,r){var n=hB(e,r);if(he(t,"bpmn:TextAnnotation"))return Sie(e,t,n);if(gr(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return Eie(e,t,n);if(he(t,"bpmn:FlowNode"))return _ie(e,t,n)}function _ie(e,t,r){var n=Ht(e),i=Jt(e),s=r?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},o=pie(e,{filter:function(d){return he(d,"bpmn:SequenceFlow")},direction:s.directionHint}),a=30,l=s.minDistance,c=s.baseOrientation;he(e,"bpmn:BoundaryEvent")&&(c=ss(e,e.host,-25),c.indexOf(s.boundaryOrientation)!==-1&&(a*=-1));var u=r?{x:n.right+o+t.width/2,y:i.y+xC(c,l,s)}:{x:i.x+xC(c,l,s),y:n.bottom+o+t.height/2},h={margin:a,minDistance:l},f=r?{y:h}:{x:h};return eS(e,t,u,tS(f))}function xC(e,t,r){return e.includes(r.start)?-1*t:e.includes(r.end)?t:0}function Sie(e,t,r){var n=Ht(e),i=r?{x:n.right+t.width/2,y:n.top-50-t.height/2}:{x:n.right+50+t.width/2,y:n.bottom+t.height/2};Qr(e)&&(i=Jt(e),r?(i.x+=100,i.y-=50):(i.x+=100,i.y+=50));var s={margin:r?-30:30,minDistance:20},o=r?{y:s}:{x:s};return eS(e,t,i,tS(o))}function Eie(e,t,r){var n=Ht(e),i=r?{x:n.right-10+t.width/2,y:n.bottom+40+t.width/2}:{x:n.left-40-t.width/2,y:n.bottom-10+t.height/2},s={margin:30,minDistance:30},o=r?{x:s}:{y:s};return eS(e,t,i,tS(o))}function pB(e,t){e.on("autoPlace",function(r){var n=r.shape,i=r.source;return fB(i,n,t)})}pB.$inject=["eventBus","elementRegistry"];const rS={__depends__:[xie],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",pB]};function dc(e,t,r,n){at.call(this,e),this._elementRegistry=t,this._modeling=r,this._rules=n;var i=this;this.postExecuted(["shape.create"],function(s){var o=s.context,a=o.hints||{},l=o.shape,c=o.parent||o.newParent;a.autoResize!==!1&&i._expand([l],c)}),this.postExecuted(["elements.move"],function(s){var o=s.context,a=k8(zb(o.closure.topLevel)),l=o.hints,c=l?l.autoResize:!0;if(c!==!1){var u=fp(a,function(h){return h.parent.id});Ce(u,function(h,f){Qt(c)&&(h=h.filter(function(d){return Lr(c,bo({id:d.id}))})),i._expand(h,f)})}}),this.postExecuted(["shape.toggleCollapse"],function(s){var o=s.context,a=o.hints,l=o.shape;a&&a.autoResize===!1||l.collapsed||i._expand(l.children||[],l)}),this.postExecuted(["shape.resize"],function(s){var o=s.context,a=o.hints,l=o.shape,c=l.parent;a&&a.autoResize===!1||c&&i._expand([l],c)})}dc.$inject=["eventBus","elementRegistry","modeling","rules"];At(dc,at);dc.prototype._getOptimalBounds=function(e,t){var r=this.getOffset(t),n=this.getPadding(t),i=Ht(di(e)),s=Ht(t),o={};return i.top-s.top<n.top&&(o.top=i.top-r.top),i.left-s.left<n.left&&(o.left=i.left-r.left),s.right-i.right<n.right&&(o.right=i.right+r.right),s.bottom-i.bottom<n.bottom&&(o.bottom=i.bottom+r.bottom),Vb(Ie({},s,o))};dc.prototype._expand=function(e,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var r=this._rules.allowed("element.autoResize",{elements:e,target:t});if(r){var n=this._getOptimalBounds(e,t);if(kie(n,t)){var i=Nie(Eo(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:i});var s=t.parent;s&&this._expand([t],s)}}};dc.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}};dc.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}};dc.prototype.resize=function(e,t,r){this._modeling.resizeShape(e,t,null,r)};function kie(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function Nie(e,t){var r="";return e=Ht(e),t=Ht(t),e.top>t.top&&(r=r.concat("n")),e.right<t.right&&(r=r.concat("w")),e.bottom<t.bottom&&(r=r.concat("s")),e.left>t.left&&(r=r.concat("e")),r}function c2(e){e.invoke(dc,this)}c2.$inject=["injector"];At(c2,dc);c2.prototype.resize=function(e,t,r){he(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,r):this._modeling.resizeShape(e,t,null,r)};function wg(e){Ja.call(this,e);var t=this;this.addRule("element.autoResize",function(r){return t.canResize(r.elements,r.target)})}wg.$inject=["eventBus"];At(wg,Ja);wg.prototype.canResize=function(e,t){return!1};function u2(e,t){wg.call(this,e),this._modeling=t}At(u2,wg);u2.$inject=["eventBus","modeling"];u2.prototype.canResize=function(e,t){if(he(t.di,"bpmndi:BPMNPlane")||!he(t,"bpmn:Participant")&&!he(t,"bpmn:Lane")&&!he(t,"bpmn:SubProcess"))return!1;var r=!0;return Ce(e,function(n){if(he(n,"bpmn:Lane")||Ir(n)){r=!1;return}}),r};const Aie={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",c2],bpmnAutoResizeProvider:["type",u2]};var _C=1500;function mB(e,t,r){var n=this,i=r.get("dragging",!1);function s(o){if(!o.hover){var a=o.originalEvent,l=n._findTargetGfx(a),c=l&&e.get(l);l&&c&&(o.stopPropagation(),i.hover({element:c,gfx:l}),i.move(a))}}i&&t.on("drag.start",function(o){t.once("drag.move",_C,function(a){s(a)})}),function(){var o,a;t.on("element.hover",function(l){o=l.gfx,a=l.element}),t.on("element.hover",_C,function(l){a&&t.fire("element.out",{element:a,gfx:o})}),t.on("element.out",function(){o=null,a=null})}(),this._findTargetGfx=function(o){var a,l;if(o instanceof MouseEvent)return a=ih(o),l=document.elementFromPoint(a.x,a.y),Cie(l)}}mB.$inject=["elementRegistry","eventBus","injector"];function Cie(e){return pp(e,"svg, .djs-element",!0)}const jie={__init__:["hoverFix"],hoverFix:["type",mB]};var qh=Math.round,SC="djs-drag-active";function gd(e){e.preventDefault()}function Tie(e){return typeof TouchEvent<"u"&&e instanceof TouchEvent}function Rie(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function gB(e,t,r,n){var i={threshold:5,trapClick:!0},s;function o(b){var x=t.viewbox(),_=t._container.getBoundingClientRect();return{x:x.x+(b.x-_.left)/x.scale,y:x.y+(b.y-_.top)/x.scale}}function a(b,x){x=x||s;var _=e.createEvent(Ie({},x.payload,x.data,{isTouch:x.isTouch}));return e.fire("drag."+b,_)===!1?!1:e.fire(x.prefix+"."+b,_)}function l(b){var x=b.filter(function(_){return n.get(_.id)});x.length&&r.select(x)}function c(b,x){var _=s.payload,M=s.displacement,U=s.globalStart,L=ih(b),O=wo(L,U),H=s.localStart,G=o(L),I=wo(G,H);if(!s.active&&(x||Rie(O)>s.threshold)){if(Ie(_,{x:qh(H.x+M.x),y:qh(H.y+M.y),dx:0,dy:0},{originalEvent:b}),a("start")===!1)return m();s.active=!0,s.keepSelection||(_.previousSelection=r.get(),r.select(null)),s.cursor&&n2(s.cursor),t.addMarker(t.getRootElement(),SC)}Lx(b),s.active&&(Ie(_,{x:qh(G.x+M.x),y:qh(G.y+M.y),dx:qh(I.x),dy:qh(I.y)},{originalEvent:b}),a("move"))}function u(b){var x,_=!0;s.active&&(b&&(s.payload.originalEvent=b,Lx(b)),_=a("end")),_===!1&&a("rejected"),x=v(_!==!0),a("ended",x)}function h(b){Ri("Escape",b)&&(gd(b),m())}function f(b){var x;s.active&&(x=ID(e),setTimeout(x,400),gd(b)),u(b)}function d(b){c(b)}function p(b){var x=s.payload;x.hoverGfx=b.gfx,x.hover=b.element,a("hover")}function g(b){a("out");var x=s.payload;x.hoverGfx=null,x.hover=null}function m(b){var x;if(s){var _=s.active;_&&a("cancel"),x=v(b),_&&a("canceled",x)}}function v(b){var x,_;a("cleanup"),OD(),s.trapClick?_=f:_=u,sr.unbind(document,"mousemove",c),sr.unbind(document,"dragstart",gd),sr.unbind(document,"selectstart",gd),sr.unbind(document,"mousedown",_,!0),sr.unbind(document,"mouseup",_,!0),sr.unbind(document,"keyup",h),sr.unbind(document,"touchstart",d,!0),sr.unbind(document,"touchcancel",m,!0),sr.unbind(document,"touchmove",c,!0),sr.unbind(document,"touchend",u,!0),e.off("element.hover",p),e.off("element.out",g),t.removeMarker(t.getRootElement(),SC);var M=s.payload.previousSelection;return b!==!1&&M&&!r.get().length&&l(M),x=s,s=null,x}function y(b,x,_,M){s&&m(!1),typeof x=="string"&&(M=_,_=x,x=null),M=Ie({},i,M||{});var U=M.data||{},L,O,H,G,I;M.trapClick?G=f:G=u,b?(L=yp(b)||b,O=ih(b),Lx(b),L.type==="dragstart"&&gd(L)):(L=null,O={x:0,y:0}),H=o(O),x||(x=H),I=Tie(L),s=Ie({prefix:_,data:U,payload:{},globalStart:O,displacement:wo(x,H),localStart:H,isTouch:I},M),M.manual||(I?(sr.bind(document,"touchstart",d,!0),sr.bind(document,"touchcancel",m,!0),sr.bind(document,"touchmove",c,!0),sr.bind(document,"touchend",u,!0)):(sr.bind(document,"mousemove",c),sr.bind(document,"dragstart",gd),sr.bind(document,"selectstart",gd),sr.bind(document,"mousedown",G,!0),sr.bind(document,"mouseup",G,!0)),sr.bind(document,"keyup",h),e.on("element.hover",p),e.on("element.out",g)),a("init"),M.autoActivate&&c(b,!0)}e.on("diagram.destroy",m),this.init=y,this.move=c,this.hover=p,this.out=g,this.end=u,this.cancel=m,this.context=function(){return s},this.setOptions=function(b){Ie(i,b)}}gB.$inject=["eventBus","canvas","selection","elementRegistry"];const hc={__depends__:[jie,Co],dragging:["type",gB]};function Ep(e,t,r){this._canvas=r,this._opts=Ie({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var n=this;t.on("drag.move",function(i){var s=n._toBorderPoint(i);n.startScroll(s)}),t.on(["drag.cleanup"],function(){n.stopScroll()})}Ep.$inject=["config.autoScroll","eventBus","canvas"];Ep.prototype.startScroll=function(e){var t=this._canvas,r=this._opts,n=this,i=t.getContainer().getBoundingClientRect(),s=[e.x,e.y,i.width-e.x,i.height-e.y];this.stopScroll();for(var o=0,a=0,l=0;l<4;l++)Pie(s[l],r.scrollThresholdOut[l],r.scrollThresholdIn[l])&&(l===0?o=r.scrollStep:l==1?a=r.scrollStep:l==2?o=-r.scrollStep:l==3&&(a=-r.scrollStep));(o!==0||a!==0)&&(t.scroll({dx:o,dy:a}),this._scrolling=setTimeout(function(){n.startScroll(e)},r.scrollRepeatTimeout))};function Pie(e,t,r){return t<e&&e<r}Ep.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Ep.prototype.setOptions=function(e){this._opts=Ie({},this._opts,e)};Ep.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),r=ih(e.originalEvent);return{x:r.x-t.left,y:r.y-t.top}};const Oie={__depends__:[hc],__init__:["autoScroll"],autoScroll:["type",Ep]};function nS(e){this._commandStack=e.get("commandStack",!1)}nS.$inject=["injector"];nS.prototype.allowed=function(e,t){var r=!0,n=this._commandStack;return n&&(r=n.canExecute(e,t)),r===void 0?!0:r};const ml={__init__:["rules"],rules:["type",nS]};var iv=Math.round,Iie=Math.max;function Mie(e,t){var r=e.x,n=e.y;return[["M",r,n],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}function Lie(e){var t=[];return e.forEach(function(r,n){t.push([n===0?"M":"L",r.x,r.y])}),t}var vB=10;function Die(e,t){var r,n;for(r=0;n=e[r];r++)if(hg(n,t)<=vB)return{point:e[r],bendpoint:!0,index:r};return null}function Bie(e,t){var r=PL(Mie(t,vB),Lie(e)),n=r[0],i=r[r.length-1],s;return n?n!==i?n.segment2!==i.segment2?(s=Iie(n.segment2,i.segment2)-1,{point:e[s],bendpoint:!0,index:s}):{point:{x:iv(n.x+i.x)/2,y:iv(n.y+i.y)/2},index:n.segment2}:{point:{x:iv(n.x),y:iv(n.y)},index:n.segment2}:null}function L4(e,t){return Die(e,t)||Bie(e,t)}function yB(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function EC(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function Fie(e,t){return t?{x:Math.cos(t)*e.x-Math.sin(t)*e.y,y:Math.sin(t)*e.x+Math.cos(t)*e.y}:e}function zie(e,t,r){var n=[{n:e[0]-r[0],lambda:t[0]},{n:e[1]-r[1],lambda:t[1]}],i=n[0].n*t[0]+n[1].n*t[1],s=n[0].lambda*t[0]+n[1].lambda*t[1];return-i/s}function iS(e,t){var r=t[0],n=t[1],i={x:n.x-r.x,y:n.y-r.y},s=zie([r.x,r.y],[i.x,i.y],[e.x,e.y]);return{x:r.x+s*i.x,y:r.y+s*i.y}}function bB(e,t){var r=iS(e,t),n={x:r.x-e.x,y:r.y-e.y};return yB(n)}function tb(e,t){return yB({x:e.x-t.x,y:e.y-t.y})}var wB="djs-bendpoint",xB="djs-segment-dragger";function Uie(e,t){var r=ih(t),n=e._container.getBoundingClientRect(),i;i={x:n.left,y:n.top};var s=e.viewbox();return{x:s.x+(r.x-i.x)/s.scale,y:s.y+(r.y-i.y)/s.scale}}function D4(e,t,r){var n=Uie(e,r),i=L4(t,n);return i}function B4(e,t){var r=Mt("g");Pr(r).add(wB),rr(e,r);var n=Mt("circle");kt(n,{cx:0,cy:0,r:4}),Pr(n).add("djs-visual"),rr(r,n);var i=Mt("circle");return kt(i,{cx:0,cy:0,r:10}),Pr(i).add("djs-hit"),rr(r,i),t&&Pr(r).add(t),r}function $ie(e,t,r,n){var i=Mt("g");rr(e,i);var s=18,o=6,a=11,l=Wie(t,r,n),c=o+a,u=Mt("rect");kt(u,{x:-s/2,y:-o/2,width:s,height:o}),Pr(u).add("djs-visual"),rr(i,u);var h=Mt("rect");return kt(h,{x:-l/2,y:-c/2,width:l,height:c}),Pr(h).add("djs-hit"),rr(i,h),VL(i,n==="v"?90:0),i}function _B(e,t,r){var n=Mt("g"),i=x4(t,r),s=Vl(t,r);return rr(e,n),$ie(n,t,r,s),Pr(n).add(xB),Pr(n).add(s==="h"?"horizontal":"vertical"),$i(n,i.x,i.y),n}function F4(e){return Math.abs(Math.round(e*2/3))}function Hie(e,t){var r=qie(e,t);return iS(e,r)}function Wie(e,t,r){var n=t.x-e.x,i=t.y-e.y;return F4(r==="h"?n:i)}function qie(e,t){for(var r=t.waypoints,n=1/0,i,s=0;s<r.length-1;s++){var o=r[s],a=r[s+1],l=bB(e,[o,a]);l<n&&(n=l,i=s)}return[r[i],r[i+1]]}function SB(e,t,r,n,i){function s(b,x,_){var M=b.index,U=b.point,L,O,H,G,I,R;return M<=0||b.bendpoint?!1:(L=x[M-1],O=x[M],H=x4(L,O),G=Vl(L,O),I=Math.abs(U.x-H.x),R=Math.abs(U.y-H.y),G&&I<=_&&R<=_)}function o(b,x){var _=b.waypoints,M,U,L,O;return x.index<=0||x.bendpoint||(M={start:_[x.index-1],end:_[x.index]},U=Vl(M.start,M.end),!U)?null:(U==="h"?L=M.end.x-M.start.x:L=M.end.y-M.start.y,O=F4(L)/2,O)}function a(b,x){var _=x.waypoints,M=D4(t,_,b),U;if(M)return U=o(x,M),s(M,_,U)?i.start(b,x,M.index):n.start(b,x,M.index,!M.bendpoint),!0}function l(b,x,_){sr.bind(b,x,function(M){r.triggerMouseEvent(x,M,_),M.stopPropagation()})}function c(b,x){var _=t.getLayer("overlays"),M=Jr('.djs-bendpoints[data-element-id="'+q0(b.id)+'"]',_);return!M&&x&&(M=Mt("g"),kt(M,{"data-element-id":b.id}),Pr(M).add("djs-bendpoints"),rr(_,M),l(M,"mousedown",b),l(M,"click",b),l(M,"dblclick",b)),M}function u(b,x){return Jr('.djs-segment-dragger[data-segment-idx="'+b+'"]',x)}function h(b,x){x.waypoints.forEach(function(_,M){var U=B4(b);rr(b,U),$i(U,_.x,_.y)}),B4(b,"floating")}function f(b,x){for(var _=x.waypoints,M,U,L,O=1;O<_.length;O++)M=_[O-1],U=_[O],Vl(M,U)&&(L=_B(b,M,U),kt(L,{"data-segment-idx":O}),l(L,"mousemove",x))}function d(b){Ce(y4("."+wB,b),function(x){ui(x)})}function p(b){Ce(y4("."+xB,b),function(x){ui(x)})}function g(b){var x=c(b);return x||(x=c(b,!0),h(x,b),f(x,b)),x}function m(b){var x=c(b);x&&(p(x),d(x),f(x,b),h(x,b))}function v(b,x){var _=Jr(".floating",b),M=x.point;_&&$i(_,M.x,M.y)}function y(b,x,_){var M=u(x.index,b),U=_[x.index-1],L=_[x.index],O=x.point,H=x4(U,L),G=Vl(U,L),I,R;M&&(I=Vie(M),R={x:O.x-H.x,y:O.y-H.y},G==="v"&&(R={x:R.y,y:R.x}),$i(I,R.x,R.y))}e.on("connection.changed",function(b){m(b.element)}),e.on("connection.remove",function(b){var x=c(b.element);x&&ui(x)}),e.on("element.marker.update",function(b){var x=b.element,_;x.waypoints&&(_=g(x),b.add?Pr(_).add(b.marker):Pr(_).remove(b.marker))}),e.on("element.mousemove",function(b){var x=b.element,_=x.waypoints,M,U;if(_){if(M=c(x,!0),U=D4(t,_,b.originalEvent),!U)return;v(M,U),U.bendpoint||y(M,U,_)}}),e.on("element.mousedown",function(b){if(Iu(b)){var x=b.originalEvent,_=b.element;if(_.waypoints)return a(x,_)}}),e.on("selection.changed",function(b){var x=b.newSelection,_=x[0];_&&_.waypoints&&g(_)}),e.on("element.hover",function(b){var x=b.element;x.waypoints&&(g(x),r.registerEvent(b.gfx,"mousemove","element.mousemove"))}),e.on("element.out",function(b){r.unregisterEvent(b.gfx,"mousemove","element.mousemove")}),e.on("element.updateId",function(b){var x=b.element,_=b.newId;if(x.waypoints){var M=c(x);M&&kt(M,{"data-element-id":_})}}),this.addHandles=g,this.updateHandles=m,this.getBendpointsContainer=c,this.getSegmentDragger=u}SB.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function Vie(e){return Jr(".djs-visual",e)}var kC=Math.round,Ed="reconnectStart",kd="reconnectEnd",pm="updateWaypoints";function sS(e,t,r,n,i,s){this._injector=e,this.start=function(o,a,l,c){var u=r.getGraphics(a),h=a.source,f=a.target,d=a.waypoints,p;!c&&l===0?p=Ed:!c&&l===d.length-1?p=kd:p=pm;var g=p===pm?"connection.updateWaypoints":"connection.reconnect",m=i.allowed(g,{connection:a,source:h,target:f});m===!1&&(m=i.allowed(g,{connection:a,source:f,target:h})),m!==!1&&n.init(o,"bendpoint.move",{data:{connection:a,connectionGfx:u,context:{allowed:m,bendpointIndex:l,connection:a,source:h,target:f,insert:c,type:p}}})},t.on("bendpoint.move.hover",function(o){var a=o.context,l=a.connection,c=l.source,u=l.target,h=o.hover,f=a.type;a.hover=h;var d;if(h){var p=f===pm?"connection.updateWaypoints":"connection.reconnect";if(d=a.allowed=i.allowed(p,{connection:l,source:f===Ed?h:c,target:f===kd?h:u}),d){a.source=f===Ed?h:c,a.target=f===kd?h:u;return}d===!1&&(d=a.allowed=i.allowed(p,{connection:l,source:f===kd?h:u,target:f===Ed?h:c})),d&&(a.source=f===kd?h:u,a.target=f===Ed?h:c)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(o){var a=o.context,l=a.type;a.hover=null,a.source=null,a.target=null,l!==pm&&(a.allowed=!1)}),t.on("bendpoint.move.end",function(o){var a=o.context,l=a.allowed,c=a.bendpointIndex,u=a.connection,h=a.insert,f=u.waypoints.slice(),d=a.source,p=a.target,g=a.type,m=a.hints||{},v={x:kC(o.x),y:kC(o.y)};if(!l)return!1;g===pm?(h?f.splice(c,0,v):f[c]=v,m.bendpointMove={insert:h,bendpointIndex:c},f=this.cropWaypoints(u,f),s.updateWaypoints(u,UQ(f),m)):(g===Ed?(m.docking="source",rb(a)&&(m.docking="target",m.newWaypoints=f.reverse())):g===kd&&(m.docking="target",rb(a)&&(m.docking="source",m.newWaypoints=f.reverse())),s.reconnect(u,d,p,v,m))},this)}sS.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];sS.prototype.cropWaypoints=function(e,t){var r=this._injector.get("connectionDocking",!1);if(!r)return t;var n=e.waypoints;return e.waypoints=t,e.waypoints=r.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=n,t};function rb(e){var t=e.hover,r=e.source,n=e.target,i=e.type;if(i===Ed)return t&&n&&t===n&&r!==n;if(i===kd)return t&&r&&t===r&&r!==n}var Gie="reconnectStart",Kie="reconnectEnd",NC="updateWaypoints",mm="connect-ok",sv="connect-not-ok",AC="connect-hover",CC="djs-updating",jC="djs-dragging",TC=1100;function EB(e,t,r,n){this._injector=t;var i=t.get("connectionPreview",!1);r.on("bendpoint.move.start",function(s){var o=s.context,a=o.bendpointIndex,l=o.connection,c=o.insert,u=l.waypoints,h=u.slice();o.waypoints=u,c&&h.splice(a,0,{x:s.x,y:s.y}),l.waypoints=h;var f=o.draggerGfx=B4(n.getLayer("overlays"));Pr(f).add("djs-dragging"),n.addMarker(l,jC),n.addMarker(l,CC)}),r.on("bendpoint.move.hover",function(s){var o=s.context,a=o.allowed,l=o.hover,c=o.type;if(l){if(n.addMarker(l,AC),c===NC)return;a?(n.removeMarker(l,sv),n.addMarker(l,mm)):a===!1&&(n.removeMarker(l,mm),n.addMarker(l,sv))}}),r.on(["bendpoint.move.out","bendpoint.move.cleanup"],TC,function(s){var o=s.context,a=o.hover,l=o.target;a&&(n.removeMarker(a,AC),n.removeMarker(a,l?mm:sv))}),r.on("bendpoint.move.move",function(s){var o=s.context,a=o.allowed,l=o.bendpointIndex,c=o.draggerGfx,u=o.hover,h=o.type,f=o.connection,d=f.source,p=f.target,g=f.waypoints.slice(),m={x:s.x,y:s.y},v=o.hints||{},y={};i&&(v.connectionStart&&(y.connectionStart=v.connectionStart),v.connectionEnd&&(y.connectionEnd=v.connectionEnd),h===Gie?rb(o)?(y.connectionEnd=y.connectionEnd||m,y.source=p,y.target=u||d,g=g.reverse()):(y.connectionStart=y.connectionStart||m,y.source=u||d,y.target=p):h===Kie?rb(o)?(y.connectionStart=y.connectionStart||m,y.source=u||p,y.target=d,g=g.reverse()):(y.connectionEnd=y.connectionEnd||m,y.source=d,y.target=u||p):(y.noCropping=!0,y.noLayout=!0,g[l]=m),h===NC&&(g=e.cropWaypoints(f,g)),y.waypoints=g,i.drawPreview(o,a,y)),$i(c,s.x,s.y)},this),r.on(["bendpoint.move.end","bendpoint.move.cancel"],TC,function(s){var o=s.context,a=o.connection,l=o.draggerGfx,c=o.hover,u=o.target,h=o.waypoints;a.waypoints=h,ui(l),n.removeMarker(a,CC),n.removeMarker(a,jC),c&&(n.removeMarker(c,mm),n.removeMarker(c,u?mm:sv)),i&&i.cleanUp(o)})}EB.$inject=["bendpointMove","injector","eventBus","canvas"];var RC="connect-hover",PC="djs-updating";function OC(e,t,r){return aS(e,t,e[t]+r)}function aS(e,t,r){return{x:t==="x"?r:e.x,y:t==="y"?r:e.y}}function Xie(e,t,r,n){var i=Math.max(t[n],r[n]),s=Math.min(t[n],r[n]),o=20,a=Math.min(Math.max(s+o,e[n]),i-o);return aS(t,n,a)}function kB(e){return e==="x"?"y":"x"}function IC(e,t,r){var n,i;return e.original?e.original:(n=Jt(t),i=kB(r),aS(e,i,n[i]))}function NB(e,t,r,n,i,s){var o=e.get("connectionDocking",!1);this.start=function(h,f,d){var p,g=r.getGraphics(f),m=d-1,v=d,y=f.waypoints,b=y[m],x=y[v],_=D4(r,y,h),M,U,L;M=Vl(b,x),M&&(U=M==="v"?"x":"y",m===0&&(b=IC(b,f.source,U)),v===y.length-1&&(x=IC(x,f.target,U)),_?L=_.point:L={x:(b.x+x.x)/2,y:(b.y+x.y)/2},p={connection:f,segmentStartIndex:m,segmentEndIndex:v,segmentStart:b,segmentEnd:x,axis:U,dragPosition:L},n.init(h,L,"connectionSegment.move",{cursor:U==="x"?"resize-ew":"resize-ns",data:{connection:f,connectionGfx:g,context:p}}))};function a(h,f){if(!o)return f;var d=h.waypoints,p;return h.waypoints=f,p=o.getCroppedWaypoints(h),h.waypoints=d,p}function l(h){i.update("connection",h.connection,h.connectionGfx)}function c(h,f,d){var p=h.newWaypoints,g=h.segmentStartIndex+f,m=p[g],v=h.segmentEndIndex+f,y=p[v],b=kB(h.axis),x=Xie(d,m,y,b);$i(h.draggerGfx,x.x,x.y)}function u(h,f){var d=0,p=h.filter(function(g,m){return R8(h[m-1],h[m+1],g)?(d=m<=f?d-1:d,!1):!0});return{waypoints:p,segmentOffset:d}}t.on("connectionSegment.move.start",function(h){var f=h.context,d=h.connection,p=r.getLayer("overlays");f.originalWaypoints=d.waypoints.slice(),f.draggerGfx=_B(p,f.segmentStart,f.segmentEnd),Pr(f.draggerGfx).add("djs-dragging"),r.addMarker(d,PC)}),t.on("connectionSegment.move.move",function(h){var f=h.context,d=f.connection,p=f.segmentStartIndex,g=f.segmentEndIndex,m=f.segmentStart,v=f.segmentEnd,y=f.axis,b=f.originalWaypoints.slice(),x=OC(m,y,h["d"+y]),_=OC(v,y,h["d"+y]),M=b.length,U=0;b[p]=x,b[g]=_;var L,O;p<2&&(L=ss(d.source,x),p===1?L==="intersect"&&(b.shift(),b[0]=x,U--):L!=="intersect"&&(b.unshift(m),U++)),g>M-3&&(O=ss(d.target,_),g===M-2?O==="intersect"&&(b.pop(),b[b.length-1]=_):O!=="intersect"&&b.push(v)),f.newWaypoints=d.waypoints=a(d,b),c(f,U,h),f.newSegmentStartIndex=p+U,l(h)}),t.on("connectionSegment.move.hover",function(h){h.context.hover=h.hover,r.addMarker(h.hover,RC)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(h){var f=h.context.hover;f&&r.removeMarker(f,RC)}),t.on("connectionSegment.move.cleanup",function(h){var f=h.context,d=f.connection;f.draggerGfx&&ui(f.draggerGfx),r.removeMarker(d,PC)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(h){var f=h.context,d=f.connection;d.waypoints=f.originalWaypoints,l(h)}),t.on("connectionSegment.move.end",function(h){var f=h.context,d=f.connection,p=f.newWaypoints,g=f.newSegmentStartIndex;p=p.map(function(_){return{original:_.original,x:Math.round(_.x),y:Math.round(_.y)}});var m=u(p,g),v=m.waypoints,y=a(d,v),b=m.segmentOffset,x={segmentMove:{segmentStartIndex:f.segmentStartIndex,newSegmentStartIndex:g+b}};s.updateWaypoints(d,y,x)})}NB.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Zie=Math.abs,MC=Math.round;function Yie(e,t,r){r=r===void 0?10:r;var n,i;for(n=0;n<t.length;n++)if(i=t[n],Zie(i-e)<=r)return i}function AB(e){return{x:e.x,y:e.y}}function CB(e){return{x:e.x+e.width,y:e.y+e.height}}function Ha(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:MC(e.x+e.width/2),y:MC(e.y+e.height/2)}}function Kf(e,t){var r=e.snapped;return r?typeof t=="string"?r[t]:r.x&&r.y:!1}function Xn(e,t,r){if(typeof t!="string")throw new Error("axis must be in [x, y]");if(typeof r!="number"&&r!==!1)throw new Error("value must be Number or false");var n,i=e[t],s=e.snapped=e.snapped||{};return r===!1?s[t]=!1:(s[t]=!0,n=r-i,e[t]+=n,e["d"+t]+=n),i}function jB(e){return e.children||[]}var Jie=Math.abs,LC=Math.round,Ux=10;function TB(e){function t(s,o){if(Qt(s)){for(var a=s.length;a--;)if(Jie(s[a]-o)<=Ux)return s[a]}else{s=+s;var l=o%s;if(l<Ux)return o-l;if(l>s-Ux)return o-l+s}return o}function r(s,o){if(s.waypoints)return Hie(o,s);if(s.width)return{x:LC(s.width/2+s.x),y:LC(s.height/2+s.y)}}function n(s){var o=s.context,a=o.snapPoints,l=o.connection,c=l.waypoints,u=o.segmentStart,h=o.segmentStartIndex,f=o.segmentEnd,d=o.segmentEndIndex,p=o.axis;if(a)return a;var g=[c[h-1],u,f,c[d+1]];return h<2&&g.unshift(r(l.source,s)),d>c.length-3&&g.unshift(r(l.target,s)),o.snapPoints=a={horizontal:[],vertical:[]},Ce(g,function(m){m&&(m=m.original||m,p==="y"&&a.horizontal.push(m.y),p==="x"&&a.vertical.push(m.x))}),a}e.on("connectionSegment.move.move",1500,function(s){var o=n(s),a=s.x,l=s.y,c,u;if(o){c=t(o.vertical,a),u=t(o.horizontal,l);var h=a-c,f=l-u;Ie(s,{dx:s.dx-h,dy:s.dy-f,x:c,y:u}),(h||o.vertical.indexOf(a)!==-1)&&Xn(s,"x",c),(f||o.horizontal.indexOf(l)!==-1)&&Xn(s,"y",u)}});function i(s){var o=s.snapPoints,a=s.connection.waypoints,l=s.bendpointIndex;if(o)return o;var c=[a[l-1],a[l+1]];return s.snapPoints=o={horizontal:[],vertical:[]},Ce(c,function(u){u&&(u=u.original||u,o.horizontal.push(u.y),o.vertical.push(u.x))}),o}e.on(["connect.hover","connect.move","connect.end"],1500,function(s){var o=s.context,a=o.hover,l=a&&r(a,s);!Qr(a)||!l||!l.x||!l.y||(Xn(s,"x",l.x),Xn(s,"y",l.y))}),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(s){var o=s.context,a=i(o),l=o.hover,c=l&&r(l,s),u=s.x,h=s.y,f,d;if(a){f=t(c?a.vertical.concat([c.x]):a.vertical,u),d=t(c?a.horizontal.concat([c.y]):a.horizontal,h);var p=u-f,g=h-d;Ie(s,{dx:s.dx-p,dy:s.dy-g,x:s.x-p,y:s.y-g}),(p||a.vertical.indexOf(u)!==-1)&&Xn(s,"x",f),(g||a.horizontal.indexOf(h)!==-1)&&Xn(s,"y",d)}})}TB.$inject=["eventBus"];const Qie={__depends__:[hc,ml],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",SB],bendpointMove:["type",sS],bendpointMovePreview:["type",EB],connectionSegmentMove:["type",NB],bendpointSnapping:["type",TB]};function RB(e,t,r,n){function i(o,a){return n.allowed("connection.create",{source:o,target:a})}function s(o,a){return i(a,o)}e.on("connect.hover",function(o){var a=o.context,l=a.start,c=o.hover,u;if(a.hover=c,u=a.canExecute=i(l,c),!$0(u)){if(u!==!1){a.source=l,a.target=c;return}u=a.canExecute=s(l,c),!$0(u)&&u!==!1&&(a.source=c,a.target=l)}}),e.on(["connect.out","connect.cleanup"],function(o){var a=o.context;a.hover=null,a.source=null,a.target=null,a.canExecute=!1}),e.on("connect.end",function(o){var a=o.context,l=a.canExecute,c=a.connectionStart,u={x:o.x,y:o.y},h=a.source,f=a.target;if(!l)return!1;var d=null,p={connectionStart:z4(a)?u:c,connectionEnd:z4(a)?c:u};Mi(l)&&(d=l),a.connection=r.connect(h,f,d,p)}),this.start=function(o,a,l,c){Mi(l)||(c=l,l=Jt(a)),t.init(o,"connect",{autoActivate:c,data:{shape:a,context:{start:a,connectionStart:l}}})}}RB.$inject=["eventBus","dragging","modeling","rules"];function z4(e){var t=e.hover,r=e.source,n=e.target;return t&&r&&t===r&&r!==n}var ese=1100,tse=900,DC="connect-ok",BC="connect-not-ok";function PB(e,t,r){var n=e.get("connectionPreview",!1);n&&t.on("connect.move",function(i){var s=i.context,o=s.canExecute,a=s.hover,l=s.source,c=s.start,u=s.startPosition,h=s.target,f=s.connectionStart||u,d=s.connectionEnd||{x:i.x,y:i.y},p=f,g=d;z4(s)&&(p=d,g=f),n.drawPreview(s,o,{source:l||c,target:h||a,connectionStart:p,connectionEnd:g})}),t.on("connect.hover",tse,function(i){var s=i.context,o=i.hover,a=s.canExecute;a!==null&&r.addMarker(o,a?DC:BC)}),t.on(["connect.out","connect.cleanup"],ese,function(i){var s=i.hover;s&&(r.removeMarker(s,DC),r.removeMarker(s,BC))}),n&&t.on("connect.cleanup",function(i){n.cleanUp(i.context)})}PB.$inject=["injector","eventBus","canvas"];const oS={__depends__:[Co,ml,hc],__init__:["connectPreview"],connect:["type",RB],connectPreview:["type",PB]};var rse="djs-dragger";function fc(e,t,r,n){this._canvas=t,this._graphicsFactory=r,this._elementFactory=n,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}fc.$inject=["injector","canvas","graphicsFactory","elementFactory"];fc.prototype.drawPreview=function(e,t,r){r=r||{};var n=e.connectionPreviewGfx,i=e.getConnection,s=r.source,o=r.target,a=r.waypoints,l=r.connectionStart,c=r.connectionEnd,u=r.noLayout,h=r.noCropping,f=r.noNoop,d,p=this;if(n||(n=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),Hb(n),i||(i=e.getConnection=nse(function(g,m,v){return p.getConnection(g,m,v)})),t&&(d=i(t,s,o)),!d){!f&&this.drawNoopPreview(n,r);return}d.waypoints=a||[],this._layouter&&!u&&(d.waypoints=this._layouter.layoutConnection(d,{source:s,target:o,connectionStart:l,connectionEnd:c,waypoints:r.waypoints||d.waypoints})),(!d.waypoints||!d.waypoints.length)&&(d.waypoints=[s?Jt(s):l,o?Jt(o):c]),this._connectionDocking&&(s||o)&&!h&&(d.waypoints=this._connectionDocking.getCroppedWaypoints(d,s,o)),this._graphicsFactory.drawConnection(n,d,{stroke:"var(--element-dragger-color)"})};fc.prototype.drawNoopPreview=function(e,t){var r=t.source,n=t.target,i=t.connectionStart||Jt(r),s=t.connectionEnd||Jt(n),o=this.cropWaypoints(i,s,r,n),a=this.createNoopConnection(o[0],o[1]);rr(e,a)};fc.prototype.cropWaypoints=function(e,t,r,n){var i=this._graphicsFactory,s=r&&i.getShapePath(r),o=n&&i.getShapePath(n),a=i.getConnectionPath({waypoints:[e,t]});return e=r&&S4(s,a,!0)||e,t=n&&S4(o,a,!1)||t,[e,t]};fc.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&ui(e.connectionPreviewGfx)};fc.prototype.getConnection=function(e){var t=ise(e);return this._elementFactory.createConnection(t)};fc.prototype.createConnectionPreviewGfx=function(){var e=Mt("g");return kt(e,{pointerEvents:"none"}),Pr(e).add(rse),rr(this._canvas.getActiveLayer(),e),e};fc.prototype.createNoopConnection=function(e,t){return Wb([e,t],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function nse(e){var t={};return function(r){var n=JSON.stringify(r),i=t[n];return i||(i=t[n]=e.apply(null,arguments)),i}}function ise(e){return Mi(e)?e:{}}const sse={__init__:["connectionPreview"],connectionPreview:["type",fc]},ase=new yg("ps");var ose=["marker-start","marker-mid","marker-end"],lse=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Lu(e,t,r,n){this._elementRegistry=e,this._canvas=r,this._styles=n}Lu.$inject=["elementRegistry","eventBus","canvas","styles"];Lu.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")};Lu.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)};Lu.prototype.addDragger=function(e,t,r,n="djs-dragger"){r=r||this.getGfx(e);var i=_L(r),s=r.getBoundingClientRect();return this._cloneMarkers(Vd(i),n),kt(i,this._styles.cls(n,[],{x:s.top,y:s.left})),rr(t,i),kt(i,"data-preview-support-element-id",e.id),i};Lu.prototype.addFrame=function(e,t){var r=Mt("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return rr(t,r),kt(r,"data-preview-support-element-id",e.id),r};Lu.prototype._cloneMarkers=function(e,t="djs-dragger",r=e){var n=this;e.childNodes&&e.childNodes.forEach(i=>{n._cloneMarkers(i,t,r)}),hse(e)&&ose.forEach(function(i){if(kt(e,i)){var s=cse(e,i,n._canvas.getContainer());s&&n._cloneMarker(r,e,s,i,t)}})};Lu.prototype._cloneMarker=function(e,t,r,n,i="djs-dragger"){var s=[r.id,i,ase.next()].join("-"),o=Jr("marker#"+r.id,e);e=e||this._canvas._svg;var a=o||_L(r);a.id=s,Pr(a).add(i);var l=Jr(":scope > defs",e);l||(l=Mt("defs"),rr(e,l)),rr(l,a);var c=dse(a.id);kt(t,n,c)};function cse(e,t,r){var n=use(kt(e,t));return Jr("marker#"+n,r||document)}function use(e){return e.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function dse(e){return"url(#"+e+")"}function hse(e){return lse.indexOf(e.nodeName)!==-1}const kp={__init__:["previewSupport"],previewSupport:["type",Lu]},av="complex-preview";class OB{constructor(t,r,n){this._canvas=t,this._graphicsFactory=r,this._previewSupport=n,this._markers=[]}create(t){this.cleanUp();const{created:r=[],moved:n=[],removed:i=[],resized:s=[]}=t,o=this._canvas.getLayer(av);r.filter(a=>!fse(a)).forEach(a=>{let l;Qr(a)?(l=this._graphicsFactory._createContainer("connection",Mt("g")),this._graphicsFactory.drawConnection(Vd(l),a)):(l=this._graphicsFactory._createContainer("shape",Mt("g")),this._graphicsFactory.drawShape(Vd(l),a),$i(l,a.x,a.y)),this._previewSupport.addDragger(a,o,l)}),n.forEach(({element:a,delta:l})=>{this._previewSupport.addDragger(a,o,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"]);const c=this._previewSupport.addDragger(a,o);Qr(a)?$i(c,l.x,l.y):$i(c,a.x+l.x,a.y+l.y)}),i.forEach(a=>{this._previewSupport.addDragger(a,o,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"])}),s.forEach(({shape:a,bounds:l})=>{this._canvas.addMarker(a,"djs-hidden"),this._markers.push([a,"djs-hidden"]),this._previewSupport.addDragger(a,o,void 0,"djs-dragging");const c=this._graphicsFactory._createContainer("shape",Mt("g"));this._graphicsFactory.drawShape(Vd(c),a,{width:l.width,height:l.height}),$i(c,l.x,l.y),this._previewSupport.addDragger(a,o,c)})}cleanUp(){Hb(this._canvas.getLayer(av)),this._markers.forEach(([t,r])=>this._canvas.removeMarker(t,r)),this._markers=[]}show(){this._canvas.showLayer(av)}hide(){this._canvas.hideLayer(av)}}OB.$inject=["canvas","graphicsFactory","previewSupport"];function fse(e){return e.hidden}const pse={__depends__:[kp],__init__:["complexPreview"],complexPreview:["type",OB]};var lS=["top","bottom","left","right"],ov=10;function cS(e,t){at.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(i){var s=i.context,o=s.connection,a=o.source,l=o.target,c=s.hints||{};c.createElementsBehavior!==!1&&(r(a),r(l))}),this.postExecuted(["label.create"],function(i){var s=i.context,o=s.shape,a=s.hints||{};a.createElementsBehavior!==!1&&r(o.labelTarget)}),this.postExecuted(["elements.create"],function(i){var s=i.context,o=s.elements,a=s.hints||{};a.createElementsBehavior!==!1&&o.forEach(function(l){r(l)})});function r(i){if(Zb(i)&&!Qr(i)){var s=vse(i);s&&n(i,s)}}function n(i,s){var o=Jt(i),a=i.label,l=Jt(a);if(a.parent){var c=Ht(i),u;switch(s){case"top":u={x:o.x,y:c.top-ov-a.height/2};break;case"left":u={x:c.left-ov-a.width/2,y:o.y};break;case"bottom":u={x:o.x,y:c.bottom+ov+a.height/2};break;case"right":u={x:c.right+ov+a.width/2,y:o.y};break}var h=wo(u,l);t.moveShape(a,h)}}}At(cS,at);cS.$inject=["eventBus","modeling"];function mse(e){var t=e.host,r=Jt(e),n=ss(r,t),i;n.indexOf("-")>=0?i=n.split("-"):i=[n];var s=lS.filter(function(o){return i.indexOf(o)===-1});return s}function gse(e){var t=Jt(e),r=[].concat(e.incoming.map(function(n){return n.waypoints[n.waypoints.length-2]}),e.outgoing.map(function(n){return n.waypoints[1]})).map(function(n){return IB(t,n)});return r}function vse(e){var t=Jt(e.label),r=Jt(e),n=IB(r,t);if(yse(n)){var i=gse(e);if(e.host){var s=mse(e);i=i.concat(s)}var o=lS.filter(function(a){return i.indexOf(a)===-1});if(o.indexOf(n)===-1)return o[0]}}function IB(e,t){return ss(t,e,5)}function yse(e){return lS.indexOf(e)!==-1}function uS(e){at.call(this,e),this.preExecute("shape.append",function(t){var r=t.source,n=t.shape;t.position||(he(n,"bpmn:TextAnnotation")?t.position={x:r.x+r.width/2+75,y:r.y-50-n.height/2}:t.position={x:r.x+r.width+80+n.width/2,y:r.y+r.height/2})},!0)}At(uS,at);uS.$inject=["eventBus"];function dS(e,t){e.invoke(at,this),this.postExecute("shape.move",function(r){var n=r.newParent,i=r.shape,s=mr(i.incoming.concat(i.outgoing),function(o){return he(o,"bpmn:Association")});Ce(s,function(o){t.moveConnection(o,{x:0,y:0},n)})},!0)}At(dS,at);dS.$inject=["injector","modeling"];var FC=500;function d2(e,t){t.invoke(at,this),this._bpmnReplace=e;var r=this;this.postExecuted("elements.create",FC,function(n){var i=n.elements;i=i.filter(function(s){var o=s.host;return zC(s,o)}),i.length===1&&i.map(function(s){return i.indexOf(s)}).forEach(function(s){var o=i[s];n.elements[s]=r._replaceShape(i[s],o)})},!0),this.preExecute("elements.move",FC,function(n){var i=n.shapes,s=n.newHost;if(i.length===1){var o=i[0];zC(o,s)&&(n.shapes=[r._replaceShape(o,s)])}},!0)}d2.$inject=["bpmnReplace","injector"];At(d2,at);d2.prototype._replaceShape=function(e,t){var r=bse(e),n={type:"bpmn:BoundaryEvent",host:t};return r&&(n.eventDefinitionType=r.$type),this._bpmnReplace.replaceElement(e,n,{layoutConnection:!1})};function bse(e){var t=ht(e),r=t.eventDefinitions;return r&&r[0]}function zC(e,t){return!Ir(e)&&gr(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function hS(e,t){at.call(this,e);function r(n){return mr(n.attachers,function(i){return he(i,"bpmn:BoundaryEvent")})}this.postExecute("connection.create",function(n){var i=n.context.source,s=n.context.target,o=r(s);he(i,"bpmn:EventBasedGateway")&&he(s,"bpmn:ReceiveTask")&&o.length>0&&t.removeElements(o)}),this.postExecute("connection.reconnect",function(n){var i=n.context.oldSource,s=n.context.newSource;he(i,"bpmn:Gateway")&&he(s,"bpmn:EventBasedGateway")&&Ce(s.outgoing,function(o){var a=o.target,l=r(a);he(a,"bpmn:ReceiveTask")&&l.length>0&&t.removeElements(l)})})}hS.$inject=["eventBus","modeling"];At(hS,at);function fS(e,t,r){at.call(this,e),this.preExecute("shape.replace",a,!0),this.postExecuted("shape.replace",l,!0),this.preExecute("connection.create",i,!0),this.postExecuted("connection.delete",n,!0),this.postExecuted("connection.reconnect",s,!0),this.postExecuted("element.updateProperties",o,!0);function n(m){const v=m.source,y=m.target;Vh(v)&&gm(y)&&u(y)}function i(m){const v=m.connection,y=m.source,b=m.target;Vh(y)&&lv(b)&&(c(b),f(y,[v]))}function s(m){const v=m.newTarget,y=m.oldSource,b=m.oldTarget;if(b!==v){const x=y;gm(b)&&u(b),Vh(x)&&lv(v)&&c(v)}}function o(m){const{element:v}=m;gm(v)?(h(v),d(v)):lv(v)&&p(v)}function a(m){const{newData:v,oldShape:y}=m;if(Vh(m.oldShape)&&v.eventDefinitionType!=="bpmn:CompensateEventDefinition"||v.type!=="bpmn:BoundaryEvent"){const b=y.outgoing.find(({target:x})=>gm(x));b&&b.target&&(m._connectionTarget=b.target)}else if(!Vh(m.oldShape)&&v.eventDefinitionType==="bpmn:CompensateEventDefinition"&&v.type==="bpmn:BoundaryEvent"){const b=y.outgoing.find(({target:x})=>lv(x));b&&b.target&&(m._connectionTarget=b.target),g(y)}}function l(m){const{_connectionTarget:v,newShape:y}=m;v&&t.connect(y,v)}function c(m){t.updateProperties(m,{isForCompensation:!0})}function u(m){t.updateProperties(m,{isForCompensation:void 0})}function h(m){for(const v of m.incoming)r.canConnect(v.source,m)||t.removeConnection(v);for(const v of m.outgoing)r.canConnect(m,v.target)||t.removeConnection(v)}function f(m,v){m.outgoing.filter(x=>he(x,"bpmn:Association")).filter(x=>gm(x.target)&&!v.includes(x)).forEach(x=>t.removeConnection(x))}function d(m){const v=m.attachers.slice();v.length&&t.removeElements(v)}function p(m){const v=m.incoming.filter(y=>Vh(y.source));t.removeElements(v)}function g(m){const v=m.outgoing.filter(y=>he(y,"bpmn:SequenceFlow"));t.removeElements(v)}}At(fS,at);fS.$inject=["eventBus","modeling","bpmnRules"];function gm(e){const t=ht(e);return t&&t.get("isForCompensation")}function Vh(e){return e&&he(e,"bpmn:BoundaryEvent")&&vp(e,"bpmn:CompensateEventDefinition")}function lv(e){return e&&he(e,"bpmn:Activity")&&!ts(e)}function pS(e){e.invoke(at,this),this.preExecute("shape.create",1500,function(t){var r=t.context,n=r.parent,i=r.shape;he(n,"bpmn:Lane")&&!he(i,"bpmn:Lane")&&(r.parent=Gf(n,"bpmn:Participant"))})}pS.$inject=["injector"];At(pS,at);function mS(e,t){at.call(this,e),this.preExecute("shape.create",function(r){var n=r.context,i=n.shape;if(he(i,"bpmn:DataObjectReference")&&i.type!=="label"){var s=t.create("bpmn:DataObject");i.businessObject.dataObjectRef=s}})}mS.$inject=["eventBus","bpmnFactory"];At(mS,at);var U4=20,$4=20,MB=30,cv=2e3;function gS(e,t,r){at.call(this,t),t.on(["create.start","shape.move.start"],cv,function(i){var s=i.context,o=s.shape,a=e.getRootElement();if(!(!he(o,"bpmn:Participant")||!he(a,"bpmn:Process")||!a.children.length)){var l=a.children.filter(function(h){return!he(h,"bpmn:Group")&&!Ir(h)&&!Qr(h)});if(l.length){var c=di(l),u=wse(o,c);Ie(o,u),s.createConstraints=xse(o,c)}}}),t.on("create.start",cv,function(i){var s=i.context,o=s.shape,a=e.getRootElement(),l=e.getGraphics(a);function c(u){u.element=a,u.gfx=l}he(o,"bpmn:Participant")&&he(a,"bpmn:Process")&&(t.on("element.hover",cv,c),t.once("create.cleanup",function(){t.off("element.hover",c)}))});function n(){var i=e.getRootElement();return he(i,"bpmn:Collaboration")?i:r.makeCollaboration()}this.preExecute("elements.create",cv,function(i){var s=i.elements,o=i.parent,a=_se(s),l;a&&he(o,"bpmn:Process")&&(i.parent=n(),l=i.hints=i.hints||{},l.participant=a,l.process=o,l.processRef=ht(a).get("processRef"))},!0),this.preExecute("shape.create",function(i){var s=i.parent,o=i.shape;he(o,"bpmn:Participant")&&he(s,"bpmn:Process")&&(i.parent=n(),i.process=s,i.processRef=ht(o).get("processRef"))},!0),this.execute("shape.create",function(i){var s=i.hints||{},o=i.process||s.process,a=i.shape,l=s.participant;o&&(!l||a===l)&&ht(a).set("processRef",ht(o))},!0),this.revert("shape.create",function(i){var s=i.hints||{},o=i.process||s.process,a=i.processRef||s.processRef,l=i.shape,c=s.participant;o&&(!c||l===c)&&ht(l).set("processRef",a)},!0),this.postExecute("shape.create",function(i){var s=i.hints||{},o=i.process||i.hints.process,a=i.shape,l=s.participant;if(o){var c=o.children.slice();l?a===l&&r.moveElements(c,{x:0,y:0},l):r.moveElements(c,{x:0,y:0},a)}},!0)}gS.$inject=["canvas","eventBus","modeling"];At(gS,at);function wse(e,t){t={width:t.width+U4*2+MB,height:t.height+$4*2};var r=Math.max(e.width,t.width),n=Math.max(e.height,t.height);return{x:-r/2,y:-n/2,width:r,height:n}}function xse(e,t){return t=Ht(t),{bottom:t.top+e.height/2-$4,left:t.right-e.width/2+U4,top:t.bottom-e.height/2+$4,right:t.left+e.width/2-U4-MB}}function _se(e){return Lr(e,function(t){return he(t,"bpmn:Participant")})}var UC="__targetRef_placeholder";function vS(e,t){at.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],$C(s)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],$C(s));function r(o,a,l){var c=o.get("dataInputAssociations");return Lr(c,function(u){return u!==l&&u.targetRef===a})}function n(o,a){var l=o.get("properties"),c=Lr(l,function(u){return u.name===UC});return!c&&a&&(c=t.create("bpmn:Property",{name:UC}),hi(l,c)),c}function i(o,a){var l=n(o);l&&(r(o,l,a)||Zn(o.get("properties"),l))}function s(o){var a=o.context,l=a.connection,c=l.businessObject,u=l.target,h=u&&u.businessObject,f=a.newTarget,d=f&&f.businessObject,p=a.oldTarget||a.target,g=p&&p.businessObject,m=l.businessObject,v;g&&g!==h&&i(g,c),d&&d!==h&&i(d,c),h?(v=n(h,!0),m.targetRef=v):m.targetRef=null}}vS.$inject=["eventBus","bpmnFactory"];At(vS,at);function $C(e){return function(t){var r=t.context,n=r.connection;if(he(n,"bpmn:DataInputAssociation"))return e(t)}}function h2(e){this._bpmnUpdater=e}h2.$inject=["bpmnUpdater"];h2.prototype.execute=function(e){var t=e.dataStoreBo,r=e.dataStoreDi,n=e.newSemanticParent,i=e.newDiParent;return e.oldSemanticParent=t.$parent,e.oldDiParent=r.$parent,this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(r,i),[]};h2.prototype.revert=function(e){var t=e.dataStoreBo,r=e.dataStoreDi,n=e.oldSemanticParent,i=e.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(r,i),[]};function yS(e,t,r,n){at.call(this,n),t.registerHandler("dataStore.updateContainment",h2);function i(){return r.filter(function(a){return he(a,"bpmn:Participant")&&ht(a).processRef})[0]}function s(a){return a.children.filter(function(l){return he(l,"bpmn:DataStoreReference")&&!l.labelTarget})}function o(a,l){var c=a.businessObject||a;if(l=l||i(),l){var u=l.businessObject||l;t.execute("dataStore.updateContainment",{dataStoreBo:c,dataStoreDi:Or(a),newSemanticParent:u.processRef||u,newDiParent:Or(l)})}}this.preExecute("shape.create",function(a){var l=a.context,c=l.shape;he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&(l.hints||(l.hints={}),l.hints.autoResize=!1)}),this.preExecute("elements.move",function(a){var l=a.context,c=l.shapes,u=c.filter(function(h){return he(h,"bpmn:DataStoreReference")});u.length&&(l.hints||(l.hints={}),l.hints.autoResize=c.filter(function(h){return!he(h,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(a){var l=a.context,c=l.shape,u=c.parent;he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&he(u,"bpmn:Collaboration")&&o(c)}),this.postExecute("shape.move",function(a){var l=a.context,c=l.shape,u=l.oldParent,h=c.parent;if(!he(u,"bpmn:Collaboration")&&he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&he(h,"bpmn:Collaboration")){var f=he(u,"bpmn:Participant")?u:Ese(u,"bpmn:Participant");o(c,f)}}),this.postExecute("shape.delete",function(a){var l=a.context,c=l.shape,u=e.getRootElement();gr(c,["bpmn:Participant","bpmn:SubProcess"])&&he(u,"bpmn:Collaboration")&&s(u).filter(function(h){return Sse(h,c)}).forEach(function(h){o(h)})}),this.postExecute("canvas.updateRoot",function(a){var l=a.context,c=l.oldRoot,u=l.newRoot,h=s(c);h.forEach(function(f){he(u,"bpmn:Process")&&o(f,u)})})}yS.$inject=["canvas","commandStack","elementRegistry","eventBus"];At(yS,at);function Sse(e,t){for(var r=e.businessObject||e,n=t.businessObject||t;r.$parent;){if(r.$parent===n.processRef||n)return!0;r=r.$parent}return!1}function Ese(e,t){for(;e.parent;){if(he(e.parent,t))return e.parent;e=e.parent}}var nb=Math.max,ib=Math.min,kse=20;function LB(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function Nse(e,t,r){var n=r.x,i=r.y,s={x:e.x,y:e.y,width:e.width,height:e.height};return t.indexOf("n")!==-1?(s.y=e.y+i,s.height=e.height-i):t.indexOf("s")!==-1&&(s.height=e.height+i),t.indexOf("e")!==-1?s.width=e.width+n:t.indexOf("w")!==-1&&(s.x=e.x+n,s.width=e.width-n),s}function Ase(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}}function uv(e,t,r){var n=t[e],i=r.min&&r.min[e],s=r.max&&r.max[e];return Yt(i)&&(n=(/top|left/.test(e)?ib:nb)(n,i)),Yt(s)&&(n=(/top|left/.test(e)?nb:ib)(n,s)),n}function Cse(e,t){if(!t)return e;var r=Ht(e);return Vb({top:uv("top",r,t),right:uv("right",r,t),bottom:uv("bottom",r,t),left:uv("left",r,t)})}function jse(e,t,r,n){var i=Ht(t),s={top:/n/.test(e)?i.bottom-r.height:i.top,left:/w/.test(e)?i.right-r.width:i.left,bottom:/s/.test(e)?i.top+r.height:i.bottom,right:/e/.test(e)?i.left+r.width:i.right},o=n?Ht(n):s,a={top:ib(s.top,o.top),left:ib(s.left,o.left),bottom:nb(s.bottom,o.bottom),right:nb(s.right,o.right)};return Vb(a)}function vm(e,t){return typeof e<"u"?e:kse}function Tse(e,t){var r,n,i,s;return typeof t=="object"?(r=vm(t.left),n=vm(t.right),i=vm(t.top),s=vm(t.bottom)):r=n=i=s=vm(t),{x:e.x-r,y:e.y-i,width:e.width+r+n,height:e.height+i+s}}function Rse(e){return!(e.waypoints||e.type==="label")}function DB(e,t){var r;if(e.length===void 0?r=mr(e.children,Rse):r=e,r.length)return Tse(di(r),t)}var zc=Math.abs;function Pse(e,t){return LB(Ht(t),Ht(e))}var Ose=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],La=30;function f2(e,t){return t=t||[],e.children.filter(function(r){he(r,"bpmn:Lane")&&(f2(r,t),t.push(r))}),t}function Du(e){return e.children.filter(function(t){return he(t,"bpmn:Lane")})}function Fa(e){return Gf(e,Ose)||e}function Ise(e,t){var r=Fa(e),n=he(r,"bpmn:Process")?[]:[r],i=f2(r,n),s=Ht(e),o=Ht(t),a=Pse(e,t),l=[],c=bi(e);return i.forEach(function(u){if(u!==e){var h=c?0:a.top,f=c?a.right:0,d=c?0:a.bottom,p=c?a.left:0,g=Ht(u);a.top&&(zc(g.bottom-s.top)<10&&(d=o.top-g.bottom),zc(g.top-s.top)<5&&(h=o.top-g.top)),a.left&&(zc(g.right-s.left)<10&&(f=o.left-g.right),zc(g.left-s.left)<5&&(p=o.left-g.left)),a.bottom&&(zc(g.top-s.bottom)<10&&(h=o.bottom-g.top),zc(g.bottom-s.bottom)<5&&(d=o.bottom-g.bottom)),a.right&&(zc(g.left-s.right)<10&&(p=o.right-g.left),zc(g.right-s.right)<5&&(f=o.right-g.right)),(h||f||d||p)&&l.push({shape:u,newBounds:Ase(u,{top:h,right:f,bottom:d,left:p})})}}),l}var Mse=500;function bS(e,t){at.call(this,e);function r(n,i){var s=bi(n),o=Du(i),a=[],l=[],c=[],u=[];if(hh(o,function(m){return s?m.y>n.y?l.push(m):a.push(m):m.x>n.x?u.push(m):c.push(m),m.children}),!!o.length){var h;s?l.length&&a.length?h=n.height/2:h=n.height:u.length&&c.length?h=n.width/2:h=n.width;var f,d,p,g;a.length&&(f=t.calculateAdjustments(a,"y",h,n.y-10),t.makeSpace(f.movingShapes,f.resizingShapes,{x:0,y:h},"s")),l.length&&(d=t.calculateAdjustments(l,"y",-h,n.y+n.height+10),t.makeSpace(d.movingShapes,d.resizingShapes,{x:0,y:-h},"n")),c.length&&(p=t.calculateAdjustments(c,"x",h,n.x-10),t.makeSpace(p.movingShapes,p.resizingShapes,{x:h,y:0},"e")),u.length&&(g=t.calculateAdjustments(u,"x",-h,n.x+n.width+10),t.makeSpace(g.movingShapes,g.resizingShapes,{x:-h,y:0},"w"))}}this.postExecuted("shape.delete",Mse,function(n){var i=n.context,s=i.hints,o=i.shape,a=i.oldParent;he(o,"bpmn:Lane")&&(s&&s.nested||r(o,a))})}bS.$inject=["eventBus","spaceTool"];At(bS,at);var HC=500;function p2(e,t){t.invoke(at,this),this._bpmnReplace=e;var r=this;this.postExecuted("elements.create",HC,function(n){var i=n.elements;i.filter(function(s){var o=s.host;return WC(s,o)}).map(function(s){return i.indexOf(s)}).forEach(function(s){n.elements[s]=r._replaceShape(i[s])})},!0),this.preExecute("elements.move",HC,function(n){var i=n.shapes,s=n.newHost;i.forEach(function(o,a){var l=o.host;WC(o,Dse(i,l)?l:s)&&(i[a]=r._replaceShape(o))})},!0)}p2.$inject=["bpmnReplace","injector"];At(p2,at);p2.prototype._replaceShape=function(e){var t=Lse(e),r;return t?r={type:"bpmn:IntermediateCatchEvent",eventDefinitionType:t.$type}:r={type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,r,{layoutConnection:!1})};function Lse(e){var t=ht(e),r=t.eventDefinitions;return r&&r[0]}function WC(e,t){return!Ir(e)&&he(e,"bpmn:BoundaryEvent")&&!t}function Dse(e,t){return e.indexOf(t)!==-1}function wS(e,t,r){at.call(this,e);function n(i,s,o){var a=s.waypoints,l,c,u,h,f,d,p,g=i.outgoing.slice(),m=i.incoming.slice(),v;Yt(o.width)?v=Jt(o):v=o;var y=L4(a,v);if(y){if(l=a.slice(0,y.index),c=a.slice(y.index+(y.bendpoint?1:0)),!l.length||!c.length)return;u=y.bendpoint?a[y.index]:v,(l.length===1||!qC(i,l[l.length-1]))&&l.push(VC(u)),(c.length===1||!qC(i,c[0]))&&c.unshift(VC(u))}h=s.source,f=s.target,t.canConnect(h,i,s)&&(r.reconnectEnd(s,i,l||v),d=s),t.canConnect(i,f,s)&&(d?p=r.connect(i,f,{type:s.type,waypoints:c}):(r.reconnectStart(s,i,c||v),p=s));var b=[].concat(d&&mr(m,function(x){return x.source===d.source})||[],p&&mr(g,function(x){return x.target===p.target})||[]);b.length&&r.removeElements(b)}this.preExecute("elements.move",function(i){var s=i.newParent,o=i.shapes,a=i.delta,l=o[0];if(!(!l||!s)){s&&s.waypoints&&(i.newParent=s=s.parent);var c=Jt(l),u={x:c.x+a.x,y:c.y+a.y},h=Lr(s.children,function(f){var d=t.canInsert(o,f);return d&&L4(f.waypoints,u)});h&&(i.targetFlow=h,i.position=u)}},!0),this.postExecuted("elements.move",function(i){var s=i.shapes,o=i.targetFlow,a=i.position;o&&n(s[0],o,a)},!0),this.preExecute("shape.create",function(i){var s=i.parent,o=i.shape;t.canInsert(o,s)&&(i.targetFlow=s,i.parent=s.parent)},!0),this.postExecuted("shape.create",function(i){var s=i.shape,o=i.targetFlow,a=i.position;o&&n(s,o,a)},!0)}At(wS,at);wS.$inject=["eventBus","bpmnRules","modeling"];function qC(e,t){var r=t.x,n=t.y;return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function VC(e){return Ie({},e)}function xS(e,t){at.call(this,e),this.preExecuted("connection.create",function(r){var n=r.context,i=n.connection,s=n.source,o=n.target,a=n.hints;if(!(a&&a.createElementsBehavior===!1)&&Gh(i)){var l=[];he(s,"bpmn:EventBasedGateway")?l=o.incoming.filter(c=>c!==i&&Gh(c)):l=o.incoming.filter(c=>c!==i&&Gh(c)&&he(c.source,"bpmn:EventBasedGateway")),l.forEach(function(c){t.removeConnection(c)})}}),this.preExecuted("shape.replace",function(r){var n=r.context,i=n.newShape;if(he(i,"bpmn:EventBasedGateway")){var s=i.outgoing.filter(Gh).reduce(function(o,a){return o.includes(a.target)?o:o.concat(a.target)},[]);s.forEach(function(o){o.incoming.filter(Gh).forEach(function(a){const l=o.incoming.filter(Gh).filter(function(c){return c.source===i});(a.source!==i||l.length>1)&&t.removeConnection(a)})})}})}xS.$inject=["eventBus","modeling"];At(xS,at);function Gh(e){return he(e,"bpmn:SequenceFlow")}var dv=1500,GC=2e3;function BB(e,t,r){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],dv,function(n){var i=n.context,s=i.shape||n.shape,o=n.hover;he(o,"bpmn:Lane")&&!gr(s,["bpmn:Lane","bpmn:Participant"])&&(n.hover=Fa(o),n.hoverGfx=e.getGraphics(n.hover));var a=r.getRootElement();o!==a&&(s.labelTarget||gr(s,["bpmn:Group","bpmn:TextAnnotation"]))&&(n.hover=a,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],dv,function(n){var i=n.hover;he(i,"bpmn:Lane")&&(n.hover=Fa(i)||i,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["bendpoint.move.hover"],dv,function(n){var i=n.context,s=n.hover,o=i.type;he(s,"bpmn:Lane")&&/reconnect/.test(o)&&(n.hover=Fa(s)||s,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["connect.start"],dv,function(n){var i=n.context,s=i.start;he(s,"bpmn:Lane")&&(i.start=Fa(s)||s)}),t.on("shape.move.start",GC,function(n){var i=n.shape;he(i,"bpmn:Lane")&&(n.shape=Fa(i)||i)}),t.on("spaceTool.move",GC,function(n){var i=n.hover;i&&he(i,"bpmn:Lane")&&(n.hover=Fa(i))})}BB.$inject=["elementRegistry","eventBus","canvas"];function Bse(e){return e.create("bpmn:Category")}function Fse(e){return e.create("bpmn:CategoryValue")}function zse(e,t,r){return hi(t.get("categoryValue"),e),e.$parent=t,hi(r.get("rootElements"),t),t.$parent=r,e}function Use(e){var t=e.$parent;return t&&(Zn(t.get("categoryValue"),e),e.$parent=null),e}function $se(e){var t=e.$parent;return t&&(Zn(t.get("rootElements"),e),e.$parent=null),e}var KC=770;function _S(e,t,r,n,i,s){i.invoke(at,this);function o(){return r.filter(function(p){return he(p,"bpmn:Group")})}function a(p,g){return p.some(function(m){var v=ht(m),y=v.categoryValueRef&&v.categoryValueRef.$parent;return y===g})}function l(p,g){return p.some(function(m){var v=ht(m);return v.categoryValueRef===g})}function c(p,g,m){var v=o().filter(function(y){return y.businessObject!==m});g&&!a(v,g)&&$se(g),p&&!l(v,p)&&Use(p)}function u(p,g){return zse(p,g,t.getDefinitions())}function h(p,g){var m=ht(p),v=m.categoryValueRef;v||(v=m.categoryValueRef=g.categoryValue=g.categoryValue||Fse(e));var y=v.$parent;y||(y=v.$parent=g.category=g.category||Bse(e)),u(v,y,t.getDefinitions())}function f(p,g){var m=g.category,v=g.categoryValue,y=ht(p);v?(y.categoryValueRef=null,c(v,m,y)):c(null,y.categoryValueRef.$parent,y)}this.execute("label.create",function(p){var g=p.context,m=g.labelTarget;he(m,"bpmn:Group")&&h(m,g)}),this.revert("label.create",function(p){var g=p.context,m=g.labelTarget;he(m,"bpmn:Group")&&f(m,g)}),this.execute("shape.delete",function(p){var g=p.context,m=g.shape,v=ht(m);if(!(!he(m,"bpmn:Group")||m.labelTarget)){var y=g.categoryValue=v.categoryValueRef,b;y&&(b=g.category=y.$parent,c(y,b,v),v.categoryValueRef=null)}}),this.reverted("shape.delete",function(p){var g=p.context,m=g.shape;if(!(!he(m,"bpmn:Group")||m.labelTarget)){var v=g.category,y=g.categoryValue,b=ht(m);y&&(b.categoryValueRef=y,u(y,v))}}),this.execute("shape.create",function(p){var g=p.context,m=g.shape;!he(m,"bpmn:Group")||m.labelTarget||ht(m).categoryValueRef&&h(m,g)}),this.reverted("shape.create",function(p){var g=p.context,m=g.shape;!he(m,"bpmn:Group")||m.labelTarget||ht(m).categoryValueRef&&f(m,g)});function d(p,g){var m=e.create(p.$type);return s.copyElement(p,m,null,g)}n.on("copyPaste.copyElement",KC,function(p){var g=p.descriptor,m=p.element;if(!(!he(m,"bpmn:Group")||m.labelTarget)){var v=ht(m);if(v.categoryValueRef){var y=v.categoryValueRef;g.categoryValue=d(y,!0),y.$parent&&(g.category=d(y.$parent,!0))}}}),n.on("copyPaste.pasteElement",KC,function(p){var g=p.descriptor,m=g.businessObject,v=g.categoryValue,y=g.category;v&&(v=m.categoryValueRef=d(v)),y&&(v.$parent=d(y)),delete g.category,delete g.categoryValue})}_S.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"];At(_S,at);function H4(e,t,r,n){var i,s,o,a,l;return i=(n.y-r.y)*(t.x-e.x)-(n.x-r.x)*(t.y-e.y),i==0?null:(s=e.y-r.y,o=e.x-r.x,l=(n.x-r.x)*s-(n.y-r.y)*o,a=l/i,{x:Math.round(e.x+a*(t.x-e.x)),y:Math.round(e.y+a*(t.y-e.y))})}function FB(e){function t(n,i,s){var o={x:s.x,y:s.y-50},a={x:s.x-50,y:s.y},l=H4(n,i,s,o),c=H4(n,i,s,a),u;l&&c?XC(l,s)>XC(c,s)?u=c:u=l:u=l||c,n.original=u}function r(n){var i=n.waypoints;t(i[0],i[1],Jt(n.source)),t(i[i.length-1],i[i.length-2],Jt(n.target))}e.on("bpmnElement.added",function(n){var i=n.element;i.waypoints&&r(i)})}FB.$inject=["eventBus"];function XC(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function SS(e){at.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(r){var n=r.context.shape,i=ht(n),s=Or(n);if(gr(i,t)){var o=s.get("isHorizontal");o===void 0&&(o=!0),s.set("isHorizontal",o)}})}SS.$inject=["eventBus"];At(SS,at);var zB=Math.sqrt,UB=Math.min,Hse=Math.max,ZC=Math.abs;function YC(e){return Math.pow(e,2)}function ym(e,t){return zB(YC(e.x-t.x)+YC(e.y-t.y))}function Wse(e,t){var r=0,n,i,s,o,a,l,c,u,h,f,d;for(r=0;r<t.length-1;r++){if(n=t[r],i=t[r+1],QC(n,i)?c=[n]:(s=ym(e,n),o=ym(e,i),l=UB(s,o),c=qse(n,i,e,l)),c.length<1)throw new Error("expected between [1, 2] circle -> line intersections");c.length===1&&(u={type:"bendpoint",position:c[0],segmentIndex:r,bendpointIndex:QC(n,c[0])?r:r+1}),c.length===2&&(a=Gse(c[0],c[1]),u={type:"segment",position:a,segmentIndex:r,relativeLocation:ym(n,a)/ym(n,i)}),h=ym(u.position,e),(!d||f>h)&&(d=u,f=h)}return d}function qse(e,t,r,n){var i=t.x-e.x,s=t.y-e.y,o=r.x-e.x,a=r.y-e.y,l=i*i+s*s,c=i*o+s*a,u=o*o+a*a-n*n,h=c/l,f=u/l,d=h*h-f;if(d<0&&d>-1e-6&&(d=0),d<0)return[];var p=zB(d),g=-h+p,m=-h-p,v={x:e.x-i*g,y:e.y-s*g};if(d===0)return[v];var y={x:e.x-i*m,y:e.y-s*m};return[v,y].filter(function(b){return Vse(b,e,t)})}function Vse(e,t,r){return JC(e.x,t.x,r.x)&&JC(e.y,t.y,r.y)}function JC(e,t,r){return e>=UB(t,r)-sb&&e<=Hse(t,r)+sb}function Gse(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}var sb=.1;function QC(e,t){return ZC(e.x-t.x)<=sb&&ZC(e.y-t.y)<=sb}function Kse(e,t,r,n){var i=r.segmentIndex,s=t.length-e.length;if(n.segmentMove){var o=n.segmentMove.segmentStartIndex,a=n.segmentMove.newSegmentStartIndex;return i===o?a:i>=a?i+s<a?a:i+s:i}if(n.bendpointMove){var l=n.bendpointMove.insert,c=n.bendpointMove.bendpointIndex,u;if(s===0)return i;if(i>=c&&(u=l?i+1:i-1),i<c&&(u=i,l&&r.type!=="bendpoint"&&c-1===i)){var h=HB(t,c);h<r.relativeLocation&&u++}return u}return s===0?i:n.connectionStart&&i===0?0:n.connectionEnd&&i===e.length-2?t.length-2:Math.floor((t.length-2)/2)}function $B(e,t,r,n){var i=0,s=0,o={point:e,delta:{x:0,y:0}},a=Wse(e,r),l=a.segmentIndex,c=Kse(r,t,a,n);if(c<0||c>t.length-2||c===null)return o;var u=e9(r,l),h=e9(t,c),f=a.position,d=Zse(u,f),p=Xse(u,h);if(a.type==="bendpoint"){var g=t.length-r.length,m=a.bendpointIndex,v=r[m];if(t.indexOf(v)!==-1)return o;if(g===0){var y=t[m];return i=y.x-a.position.x,s=y.y-a.position.y,{delta:{x:i,y:s},point:{x:e.x+i,y:e.y+s}}}g<0&&m!==0&&m<r.length-1&&(d=HB(r,m))}var b={x:(h[1].x-h[0].x)*d+h[0].x,y:(h[1].y-h[0].y)*d+h[0].y},x=Fie({x:e.x-f.x,y:e.y-f.y},p);return i=b.x+x.x-e.x,s=b.y+x.y-e.y,{point:Yl(b),delta:Yl({x:i,y:s})}}function HB(e,t){var r=tb(e[t-1],e[t]),n=tb(e[t],e[t+1]),i=r/(r+n);return i}function Xse(e,t){var r=EC(e),n=EC(t);return n-r}function e9(e,t){return[e[t],e[t+1]]}function Zse(e,t){var r=tb(e[0],e[1]),n=tb(e[0],t);return r===0?0:n/r}function Yse(e,t,r,n){var i=Jt(e);return $B(i,t,r,n).delta}function xg(e,t,r){var n=s0(t),i=s0(r),s=wo(e,n),o={x:s.x*(r.width/t.width),y:s.y*(r.height/t.height)};return Yl({x:i.x+o.x,y:i.y+o.y})}function t9(e,t,r){var n=s0(e),i=s0(t),s=s0(r),o=wo(e,n),a=wo(n,i),l=Jse(n,t,r);if(l)return l;var c={x:a.x*(r.width/t.width),y:a.y*(r.height/t.height)},u={x:s.x+c.x,y:s.y+c.y};return Yl({x:u.x+o.x-e.x,y:u.y+o.y-e.y})}function Jse(e,t,r){var n=Ht(t),i=Ht(r);if(Qse(n,i))return null;var s=ss(t,e),o,a,l;if(s==="top")o={x:0,y:i.bottom-n.bottom};else if(s==="bottom")o={x:0,y:i.top-n.top};else if(s==="right")o={x:i.left-n.left,y:0};else if(s==="left")o={x:i.right-n.right,y:0};else return null;return a={x:e.x+o.x,y:e.y+o.y},l=ss(r,a),l!==s?null:o}function Qse(e,t){return eae(e,t)||tae(e,t)}function eae(e,t){return e.right!==t.right&&e.left!==t.left}function tae(e,t){return e.top!==t.top&&e.bottom!==t.bottom}var r9="name",n9="text";function ES(e,t,r,n){at.call(this,e),this.postExecute("element.updateProperties",i),this.postExecute("element.updateModdleProperties",o=>{ht(o.context.element)===o.context.moddleElement&&i(o)});function i(o){var a=o.context,l=a.element,c=a.properties;if(r9 in c&&t.updateLabel(l,c[r9]),n9 in c&&he(l,"bpmn:TextAnnotation")){var u=n.getTextAnnotationBounds({x:l.x,y:l.y,width:l.width,height:l.height},c[n9]||"");t.updateLabel(l,c.text,u)}}this.postExecute(["shape.create","connection.create"],function(o){var a=o.context,l=a.hints||{};if(l.createElementsBehavior!==!1){var c=a.shape||a.connection;Ir(c)||!nh(c)||ko(c)&&t.updateLabel(c,ko(c))}}),this.postExecute("shape.delete",function(o){var a=o.context,l=a.labelTarget,c=a.hints||{};l&&c.unsetLabel!==!1&&t.updateLabel(l,null,null,{removeShape:!1})});function s(o){var a=o.context,l=a.connection,c=l.label,u=Ie({},a.hints),h=a.newWaypoints||l.waypoints,f=a.oldWaypoints;return typeof u.startChanged>"u"&&(u.startChanged=!!u.connectionStart),typeof u.endChanged>"u"&&(u.endChanged=!!u.connectionEnd),Yse(c,h,f,u)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(o){var a=o.context,l=a.hints||{};if(l.labelBehavior!==!1){var c=a.connection,u=c.label,h;!u||!u.parent||(h=s(o),t.moveShape(u,h))}}),this.postExecute(["shape.replace"],function(o){var a=o.context,l=a.newShape,c=a.oldShape,u=ht(l);u&&nh(u)&&c.label&&l.label&&(l.label.x=c.label.x,l.label.y=c.label.y)}),this.postExecute("shape.resize",function(o){var a=o.context,l=a.shape,c=a.newBounds,u=a.oldBounds;if(Zb(l)){var h=l.label,f=Jt(h),d=iae(u),p=nae(f,d),g=rae(p,u,c);t.moveShape(h,g)}})}At(ES,at);ES.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];function rae(e,t,r){var n=xg(e,t,r);return Yl(wo(n,e))}function nae(e,t){if(t.length){var r=sae(e,t);return iS(e,r)}}function iae(e){return[[{x:e.x,y:e.y},{x:e.x+(e.width||0),y:e.y}],[{x:e.x+(e.width||0),y:e.y},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y+(e.height||0)},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y},{x:e.x,y:e.y+(e.height||0)}]]}function sae(e,t){var r=t.map(function(i){return{line:i,distance:bB(e,i)}}),n=ll(r,"distance");return n[0].line}function aae(e,t,r,n){return $B(e,t,r,n).point}function kS(e,t){at.call(this,e);function r(n,i){var s=n.context,o=s.connection,a=Ie({},s.hints),l=s.newWaypoints||o.waypoints,c=s.oldWaypoints;return typeof a.startChanged>"u"&&(a.startChanged=!!a.connectionStart),typeof a.endChanged>"u"&&(a.endChanged=!!a.connectionEnd),aae(i,l,c,a)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(n){var i=n.context,s=i.connection,o=s.outgoing,a=s.incoming;a.forEach(function(l){var c=l.waypoints[l.waypoints.length-1],u=r(n,c),h=[].concat(l.waypoints.slice(0,-1),[u]);t.updateWaypoints(l,h)}),o.forEach(function(l){var c=l.waypoints[0],u=r(n,c),h=[].concat([u],l.waypoints.slice(1));t.updateWaypoints(l,h)})}),this.postExecute(["connection.move"],function(n){var i=n.context,s=i.connection,o=s.outgoing,a=s.incoming,l=i.delta;a.forEach(function(c){var u=c.waypoints[c.waypoints.length-1],h={x:u.x+l.x,y:u.y+l.y},f=[].concat(c.waypoints.slice(0,-1),[h]);t.updateWaypoints(c,f)}),o.forEach(function(c){var u=c.waypoints[0],h={x:u.x+l.x,y:u.y+l.y},f=[].concat([h],c.waypoints.slice(1));t.updateWaypoints(c,f)})})}At(kS,at);kS.$inject=["eventBus","modeling"];function m2(e,t,r){var n=v2(e),i=qB(n,t),s=n[0];return i.length?i[i.length-1]:xg(s.original||s,r,t)}function g2(e,t,r){var n=v2(e),i=qB(n,t),s=n[n.length-1];return i.length?i[0]:xg(s.original||s,r,t)}function NS(e,t,r){var n=v2(e),i=WB(t,r),s=n[0];return xg(s.original||s,i,t)}function AS(e,t,r){var n=v2(e),i=WB(t,r),s=n[n.length-1];return xg(s.original||s,i,t)}function WB(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function v2(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function qB(e,t){var r=ns(e,lae);return mr(r,function(n){return oae(n,t)})}function oae(e,t){return ss(t,e,1)==="intersect"}function lae(e){return e.original||e}function CS(e,t){at.call(this,e),this.postExecute("shape.replace",function(r){var n=r.oldShape,i=r.newShape;if(cae(n,i)){var s=uae(n);s.incoming.forEach(function(o){var a=g2(o,i,n);t.reconnectEnd(o,i,a)}),s.outgoing.forEach(function(o){var a=m2(o,i,n);t.reconnectStart(o,i,a)})}},!0)}CS.$inject=["eventBus","modeling"];At(CS,at);function cae(e,t){return he(e,"bpmn:Participant")&&Sr(e)&&he(t,"bpmn:Participant")&&!Sr(t)}function uae(e){var t=dg([e],!1),r=[],n=[];return t.forEach(function(i){i!==e&&(i.incoming.forEach(function(s){he(s,"bpmn:MessageFlow")&&r.push(s)}),i.outgoing.forEach(function(s){he(s,"bpmn:MessageFlow")&&n.push(s)}))},[]),{incoming:r,outgoing:n}}const dae=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function VB(e){const t=ht(e);if(!he(t,"bpmn:BoundaryEvent")&&!(he(t,"bpmn:StartEvent")&&ts(t.$parent)))return!1;const r=t.get("eventDefinitions");return!r||!r.length?!1:dae.some(n=>he(r[0],n))}function GB(e){return he(e,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function jS(e,t){e.invoke(at,this),this.postExecuted("shape.replace",function(r){const n=r.context.oldShape,i=r.context.newShape,s=r.context.hints;if(!VB(i))return;const o=GB(i);if(s.targetElement&&s.targetElement[o]!==void 0)return;const l=ht(n).get(o),c=ht(i).get(o);l!==c&&t.updateProperties(i,{[o]:l})})}jS.$inject=["injector","modeling"];At(jS,at);function TS(e,t){at.call(this,e),this.preExecute("shape.resize",function(r){var n=r.shape,i=Or(n),s=i&&i.get("label"),o=s&&s.get("bounds");o&&t.updateModdleProperties(n,s,{bounds:void 0})},!0)}At(TS,at);TS.$inject=["eventBus","modeling"];function RS(e,t,r){at.call(this,e),this.preExecute("shape.delete",function(n){var i=n.context.shape;if(!(i.incoming.length!==1||i.outgoing.length!==1)){var s=i.incoming[0],o=i.outgoing[0];if(!(!he(s,"bpmn:SequenceFlow")||!he(o,"bpmn:SequenceFlow"))&&t.canConnect(s.source,o.target,s)){var a=hae(s.waypoints,o.waypoints);r.reconnectEnd(s,o.target,a)}}})}At(RS,at);RS.$inject=["eventBus","bpmnRules","modeling"];function Kh(e){return e.original||e}function hae(e,t){var r=H4(Kh(e[e.length-2]),Kh(e[e.length-1]),Kh(t[1]),Kh(t[0]));return r?[].concat(e.slice(0,e.length-1),[r],t.slice(1)):[Kh(e[0]),Kh(t[t.length-1])]}function PS(e,t){at.call(this,e),this.preExecute("shape.delete",function(r){var n=r.shape,i=n.parent;he(n,"bpmn:Participant")&&(r.collaborationRoot=i)},!0),this.postExecute("shape.delete",function(r){var n=r.collaborationRoot;if(n&&!n.businessObject.participants.length){var i=t.makeProcess(),s=n.children.slice();t.moveElements(s,{x:0,y:0},i)}},!0)}PS.$inject=["eventBus","modeling"];At(PS,at);function OS(e,t,r,n){at.call(this,e);var i=n.get("dragging",!1);function s(l){var c=l.source,u=l.target,h=l.parent;if(h){var f,d;he(l,"bpmn:SequenceFlow")&&(r.canConnectSequenceFlow(c,u)||(d=!0),r.canConnectMessageFlow(c,u)&&(f="bpmn:MessageFlow")),he(l,"bpmn:MessageFlow")&&(r.canConnectMessageFlow(c,u)||(d=!0),r.canConnectSequenceFlow(c,u)&&(f="bpmn:SequenceFlow")),d&&t.removeConnection(l),f&&t.connect(c,u,{type:f,waypoints:l.waypoints.slice()})}}function o(l){var c=l.context,u=c.connection,h=c.newSource||u.source,f=c.newTarget||u.target,d,p;d=r.canConnect(h,f),!(!d||d.type===u.type)&&(p=t.connect(h,f,{type:d.type,associationDirection:d.associationDirection,waypoints:u.waypoints.slice()}),u.parent&&t.removeConnection(u),c.connection=p,i&&a(u,p))}function a(l,c){var u=i.context(),h=u&&u.payload.previousSelection,f;!h||!h.length||(f=h.indexOf(l),f!==-1&&h.splice(f,1,c))}this.postExecuted("elements.move",function(l){var c=l.closure,u=c.allConnections;Ce(u,s)},!0),this.preExecute("connection.reconnect",o),this.postExecuted("element.updateProperties",function(l){var c=l.context,u=c.properties,h=c.element,f=h.businessObject,d;u.default&&(d=Lr(h.outgoing,bo({id:h.businessObject.default.id})),d&&t.updateProperties(d,{conditionExpression:void 0})),u.conditionExpression&&f.sourceRef.default===f&&t.updateProperties(h.source,{default:void 0})})}At(OS,at);OS.$inject=["eventBus","modeling","bpmnRules","injector"];function y2(e,t,r,n,i,s){n.invoke(at,this),this._bpmnReplace=e,this._elementRegistry=r,this._selection=s,this.postExecuted(["elements.create"],500,function(o){var a=o.context,l=a.parent,c=a.elements,u=Js(c,function(h,f){var d=t.canReplace([f],f.host||f.parent||l);return d?h.concat(d.replacements):h},[]);u.length&&this._replaceElements(c,u)},this),this.postExecuted(["elements.move"],500,function(o){var a=o.context,l=a.newParent,c=a.newHost,u=[];Ce(a.closure.topLevel,function(f){ts(f)?u=u.concat(f.children):u=u.concat(f)}),u.length===1&&c&&(l=c);var h=t.canReplace(u,l);h&&this._replaceElements(u,h.replacements,c)},this),this.postExecute(["shape.replace"],1500,function(o){var a=o.context,l=a.oldShape,c=a.newShape,u=l.attachers,h;u&&u.length&&(h=t.canReplace(u,c),this._replaceElements(u,h.replacements))},this),this.postExecuted(["shape.replace"],1500,function(o){var a=o.context,l=a.oldShape,c=a.newShape;i.unclaimId(l.businessObject.id,l.businessObject),i.updateProperties(c,{id:l.id})})}At(y2,at);y2.prototype._replaceElements=function(e,t){var r=this._elementRegistry,n=this._bpmnReplace,i=this._selection;Ce(t,function(s){var o={type:s.newElementType},a=r.get(s.oldElementId),l=e.indexOf(a);e[l]=n.replaceElement(a,o,{select:!1})}),t&&i.select(e)};y2.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var fae=1500,pae={width:140,height:120},IS={width:300,height:60},MS={width:60,height:300},iy={width:300,height:150},sy={width:150,height:300},KB={width:140,height:120},XB={width:50,height:30};function ZB(e){e.on("resize.start",fae,function(t){var r=t.context,n=r.shape,i=r.direction,s=r.balanced;(he(n,"bpmn:Lane")||he(n,"bpmn:Participant"))&&(r.resizeConstraints=bae(n,i,s)),he(n,"bpmn:SubProcess")&&Sr(n)&&(r.minDimensions=KB),he(n,"bpmn:TextAnnotation")&&(r.minDimensions=XB)})}ZB.$inject=["eventBus"];var Uc=Math.abs,mae=Math.min,gae=Math.max;function YB(e,t,r,n){var i=e[t];e[t]=i===void 0?r:n(r,i)}function Xh(e,t,r){return YB(e,t,r,mae)}function Zh(e,t,r){return YB(e,t,r,gae)}var vae={top:20,left:50,right:20,bottom:20},yae={top:50,left:20,right:20,bottom:20};function bae(e,t,r){var n=Fa(e),i=!0,s=!0,o=f2(n,[n]),a=Ht(e),l={},c={},u=bi(e),h=u?IS:MS;/n/.test(t)?c.top=a.bottom-h.height:/e/.test(t)?c.right=a.left+h.width:/s/.test(t)?c.bottom=a.top+h.height:/w/.test(t)&&(c.left=a.right-h.width),o.forEach(function(p){var g=Ht(p);u?(g.top<a.top-10&&(i=!1),g.bottom>a.bottom+10&&(s=!1)):(g.left<a.left-10&&(i=!1),g.right>a.right+10&&(s=!1)),/n/.test(t)&&(r&&Uc(a.top-g.bottom)<10&&Zh(l,"top",g.top+h.height),Uc(a.top-g.top)<5&&Xh(c,"top",g.bottom-h.height)),/e/.test(t)&&(r&&Uc(a.right-g.left)<10&&Xh(l,"right",g.right-h.width),Uc(a.right-g.right)<5&&Zh(c,"right",g.left+h.width)),/s/.test(t)&&(r&&Uc(a.bottom-g.top)<10&&Xh(l,"bottom",g.bottom-h.height),Uc(a.bottom-g.bottom)<5&&Zh(c,"bottom",g.top+h.height)),/w/.test(t)&&(r&&Uc(a.left-g.right)<10&&Zh(l,"left",g.left+h.width),Uc(a.left-g.left)<5&&Xh(c,"left",g.right-h.width))});var f=n.children.filter(function(p){return!p.hidden&&!p.waypoints&&(he(p,"bpmn:FlowElement")||he(p,"bpmn:Artifact"))}),d=u?vae:yae;return f.forEach(function(p){var g=Ht(p);/n/.test(t)&&(!u||i)&&Xh(c,"top",g.top-d.top),/e/.test(t)&&(u||s)&&Zh(c,"right",g.right+d.right),/s/.test(t)&&(!u||s)&&Zh(c,"bottom",g.bottom+d.bottom),/w/.test(t)&&(u||i)&&Xh(c,"left",g.left-d.left)}),{min:c,max:l}}var i9=1001;function JB(e,t){e.on("resize.start",i9+500,function(r){var n=r.context,i=n.shape;(he(i,"bpmn:Lane")||he(i,"bpmn:Participant"))&&(n.balanced=!V0(r))}),e.on("resize.end",i9,function(r){var n=r.context,i=n.shape,s=n.canExecute,o=n.newBounds;if(he(i,"bpmn:Lane")||he(i,"bpmn:Participant"))return s&&(o=IL(o),t.resizeLane(i,o,n.balanced)),!1})}JB.$inject=["eventBus","modeling"];var wae=500;function LS(e,t,r,n,i){r.invoke(at,this);function s(u){return gr(u,["bpmn:ReceiveTask","bpmn:SendTask"])||xae(u,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function o(u){var h=e.getDefinitions(),f=h.get("rootElements");return!!Lr(f,bo({id:u.id}))}function a(u){if(he(u,"bpmn:ErrorEventDefinition"))return"errorRef";if(he(u,"bpmn:EscalationEventDefinition"))return"escalationRef";if(he(u,"bpmn:MessageEventDefinition"))return"messageRef";if(he(u,"bpmn:SignalEventDefinition"))return"signalRef"}function l(u){if(gr(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.get("messageRef");var h=u.get("eventDefinitions"),f=h[0];return f.get(a(f))}function c(u,h){if(gr(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.set("messageRef",h);var f=u.get("eventDefinitions"),d=f[0];return d.set(a(d),h)}this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var h=u.shape||u.element;if(s(h)){var f=ht(h),d=l(f),p;d&&!o(d)&&(p=e.getDefinitions().get("rootElements"),hi(p,d),u.addedRootElement=d)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var h=u.addedRootElement;if(h){var f=e.getDefinitions().get("rootElements");Zn(f,h)}},!0),t.on("copyPaste.copyElement",function(u){var h=u.descriptor,f=u.element;if(!(f.labelTarget||!s(f))){var d=ht(f),p=l(d);p&&(h.referencedRootElement=p)}}),t.on("copyPaste.pasteElement",wae,function(u){var h=u.descriptor,f=h.businessObject,d=h.referencedRootElement;d&&(o(d)||(d=n.copyElement(d,i.create(d.$type))),c(f,d),delete h.referencedRootElement)})}LS.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"];At(LS,at);function xae(e,t){return Qt(t)||(t=[t]),ju(t,function(r){return vp(e,r)})}var QB=Math.max;function eF(e){e.on("spaceTool.getMinDimensions",function(t){var r=t.shapes,n=t.axis,i=t.start,s={};return Ce(r,function(o){var a=o.id;he(o,"bpmn:Participant")&&(s[a]=Sae(o,n,i)),he(o,"bpmn:Lane")&&(s[a]=bi(o)?IS:MS),he(o,"bpmn:SubProcess")&&Sr(o)&&(s[a]=KB),he(o,"bpmn:TextAnnotation")&&(s[a]=XB),he(o,"bpmn:Group")&&(s[a]=pae)}),s})}eF.$inject=["eventBus"];function _ae(e){return e==="x"}function Sae(e,t,r){var n=bi(e);if(!Nae(e))return n?iy:sy;var i=_ae(t),s={};return i?n?s=iy:s={width:kae(e,r,i),height:sy.height}:n?s={width:iy.width,height:Eae(e,r,i)}:s=sy,s}function Eae(e,t,r){var n;return n=Aae(e,t,r),QB(iy.height,n)}function kae(e,t,r){var n;return n=Cae(e,t,r),QB(sy.width,n)}function Nae(e){return!!Du(e).length}function Aae(e,t,r){var n=Du(e),i;return i=DS(n,t,r),e.height-i.height+IS.height}function Cae(e,t,r){var n=Du(e),i;return i=DS(n,t,r),e.width-i.width+MS.width}function DS(e,t,r){var n,i,s;for(n=0;n<e.length;n++)if(i=e[n],!r&&t>=i.y&&t<=i.y+i.height||r&&t>=i.x&&t<=i.x+i.width)return s=Du(i),s.length?DS(s,t,r):i}var s9=400,jae=600,a9={x:180,y:160};function Bu(e,t,r,n,i,s,o){at.call(this,t),this._canvas=e,this._eventBus=t,this._modeling=r,this._elementFactory=n,this._bpmnFactory=i,this._bpmnjs=s,this._elementRegistry=o;var a=this;function l(h){return he(h,"bpmn:SubProcess")&&!Sr(h)}function c(h){var f=h.shape,d=h.newRootElement,p=ht(f);d=a._addDiagram(d||p),h.newRootElement=e.addRootElement(d)}function u(h){var f=h.shape,d=ht(f);a._removeDiagram(d);var p=h.newRootElement=o.get($l(d));e.removeRootElement(p)}this.executed("shape.create",function(h){var f=h.shape;l(f)&&c(h)},!0),this.postExecuted("shape.create",function(h){var f=h.shape,d=h.newRootElement;!d||!f.children||(a._showRecursively(f.children),a._moveChildrenToShape(f,d))},!0),this.reverted("shape.create",function(h){var f=h.shape;l(f)&&u(h)},!0),this.preExecuted("shape.delete",function(h){var f=h.shape;if(l(f)){var d=o.get($l(f));d&&r.removeElements(d.children.slice())}},!0),this.executed("shape.delete",function(h){var f=h.shape;l(f)&&u(h)},!0),this.reverted("shape.delete",function(h){var f=h.shape;l(f)&&c(h)},!0),this.preExecuted("shape.replace",function(h){var f=h.oldShape,d=h.newShape;!l(f)||!l(d)||(h.oldRoot=e.removeRootElement($l(f)))},!0),this.postExecuted("shape.replace",function(h){var f=h.newShape,d=h.oldRoot,p=e.findRoot($l(f));if(!(!d||!p)){var g=d.children;r.moveElements(g,{x:0,y:0},p)}},!0),this.executed("element.updateProperties",function(h){var f=h.element;if(he(f,"bpmn:SubProcess")){var d=h.properties,p=h.oldProperties,g=p.id,m=d.id;if(g!==m){if(ey(f)){o.updateId(f,md(m)),o.updateId(g,m);return}var v=o.get(md(g));v&&o.updateId(md(g),md(m))}}},!0),this.reverted("element.updateProperties",function(h){var f=h.element;if(he(f,"bpmn:SubProcess")){var d=h.properties,p=h.oldProperties,g=p.id,m=d.id;if(g!==m){if(ey(f)){o.updateId(f,md(g)),o.updateId(m,g);return}var v=o.get(md(m));v&&o.updateId(v,md(g))}}},!0),t.on("element.changed",function(h){var f=h.element;if(ey(f)){var d=f,p=o.get(XA(d));!p||p===d||t.fire("element.changed",{element:p})}}),this.executed("shape.toggleCollapse",s9,function(h){var f=h.shape;he(f,"bpmn:SubProcess")&&(Sr(f)?u(h):(c(h),a._showRecursively(f.children)))},!0),this.reverted("shape.toggleCollapse",s9,function(h){var f=h.shape;he(f,"bpmn:SubProcess")&&(Sr(f)?u(h):(c(h),a._showRecursively(f.children)))},!0),this.postExecuted("shape.toggleCollapse",jae,function(h){var f=h.shape;if(he(f,"bpmn:SubProcess")){var d=h.newRootElement;d&&(Sr(f)?a._moveChildrenToShape(d,f):a._moveChildrenToShape(f,d))}},!0),t.on("copyPaste.createTree",function(h){var f=h.element,d=h.children;if(l(f)){var p=$l(f),g=o.get(p);g&&d.push.apply(d,g.children)}}),t.on("copyPaste.copyElement",function(h){var f=h.descriptor,d=h.element,p=h.elements,g=d.parent,m=he(Or(g),"bpmndi:BPMNPlane");if(m){var v=XA(g),y=Lr(p,function(b){return b.id===v});y&&(f.parent=y.id)}}),t.on("copyPaste.pasteElement",function(h){var f=h.descriptor;f.parent&&(l(f.parent)||f.parent.hidden)&&(f.hidden=!0)})}At(Bu,at);Bu.prototype._moveChildrenToShape=function(e,t){var r=this._modeling,n=e.children,i;if(n){n=n.concat(n.reduce(function(c,u){return u.label&&u.label.parent!==e?c.concat(u.label):c},[]));var s=n.filter(function(c){return!c.hidden});if(!s.length){r.moveElements(n,{x:0,y:0},t,{autoResize:!1});return}var o=di(s);if(!t.x)i={x:a9.x-o.x,y:a9.y-o.y};else{var a=Jt(t),l=Jt(o);i={x:a.x-l.x,y:a.y-l.y}}r.moveElements(n,i,t,{autoResize:!1})}};Bu.prototype._showRecursively=function(e,t){var r=this,n=[];return e.forEach(function(i){i.hidden=!!t,n=n.concat(i),i.children&&(n=n.concat(r._showRecursively(i.children,i.collapsed||t)))}),n};Bu.prototype._addDiagram=function(e){var t=this._bpmnjs,r=t.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),r.push(e.di.$parent),e};Bu.prototype._createNewDiagram=function(e){var t=this._bpmnFactory,r=this._elementFactory,n=t.create("bpmndi:BPMNPlane",{bpmnElement:e}),i=t.create("bpmndi:BPMNDiagram",{plane:n});n.$parent=i;var s=r.createRoot({id:$l(e),type:e.$type,di:n,businessObject:e,collapsed:!0});return s};Bu.prototype._removeDiagram=function(e){var t=this._bpmnjs,r=t.getDefinitions().diagrams,n=Lr(r,function(i){return i.plane.bpmnElement.id===e.id});return r.splice(r.indexOf(n),1),n};Bu.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"];function BS(e,t){e.invoke(at,this),this.postExecuted("shape.replace",function(r){var n=r.context.oldShape,i=r.context.newShape;if(!(!he(i,"bpmn:SubProcess")||he(i,"bpmn:AdHocSubProcess")||!(he(n,"bpmn:Task")||he(n,"bpmn:CallActivity"))||!Sr(i))){var s=Tae(i);t.createShape({type:"bpmn:StartEvent"},s,i)}})}BS.$inject=["injector","modeling"];At(BS,at);function Tae(e){return{x:e.x+e.width/6,y:e.y+e.height/2}}function FS(e){at.call(this,e),this.preExecute("connection.create",function(t){const{target:r}=t;he(r,"bpmn:TextAnnotation")&&(t.parent=r.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(t){const r=t.shapes||[t.shape];r.length===1&&he(r[0],"bpmn:TextAnnotation")&&(t.hints=t.hints||{},t.hints.autoResize=!1)},!0)}At(FS,at);FS.$inject=["eventBus"];function zS(e,t){at.call(this,e),this.postExecuted("shape.toggleCollapse",1500,function(r){var n=r.shape;if(Sr(n))return;var i=dg(n);i.forEach(function(o){var a=o.incoming.slice(),l=o.outgoing.slice();Ce(a,function(c){s(c,!0)}),Ce(l,function(c){s(c,!1)})});function s(o,a){i.indexOf(o.source)!==-1&&i.indexOf(o.target)!==-1||(a?t.reconnectEnd(o,n,Jt(n)):t.reconnectStart(o,n,Jt(n)))}},!0)}At(zS,at);zS.$inject=["eventBus","modeling"];var $x=500;function US(e,t,r){at.call(this,e);function n(o){o.length&&o.forEach(function(a){a.type==="label"&&!a.businessObject.name&&(a.hidden=!0)})}function i(o,a){var l=o.children,c=a,u,h;return u=Rae(l).concat([o]),h=DB(u),h?(c.width=Math.max(h.width,c.width),c.height=Math.max(h.height,c.height),c.x=h.x+(h.width-c.width)/2,c.y=h.y+(h.height-c.height)/2):(c.x=o.x+(o.width-c.width)/2,c.y=o.y+(o.height-c.height)/2),c}function s(o,a){return{x:o.x+(o.width-a.width)/2,y:o.y+(o.height-a.height)/2,width:a.width,height:a.height}}this.executed(["shape.toggleCollapse"],$x,function(o){var a=o.context,l=a.shape;he(l,"bpmn:SubProcess")&&(l.collapsed?Or(l).isExpanded=!1:(n(l.children),Or(l).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],$x,function(o){var a=o.context,l=a.shape;l.collapsed?Or(l).isExpanded=!1:Or(l).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],$x,function(o){var a=o.context.shape,l=t.getDefaultSize(a),c;a.collapsed?c=s(a,l):c=i(a,l),r.resizeShape(a,c,null,{autoResize:a.collapsed?!1:"nwse"})})}At(US,at);US.$inject=["eventBus","elementFactory","modeling"];function Rae(e){return e.filter(function(t){return!t.hidden})}function $S(e,t,r,n){t.invoke(at,this),this.preExecute("shape.delete",function(i){var s=i.context,o=s.shape,a=o.businessObject;Ir(o)||(he(o,"bpmn:Participant")&&Sr(o)&&r.ids.unclaim(a.processRef.id),n.unclaimId(a.id,a))}),this.preExecute("connection.delete",function(i){var s=i.context,o=s.connection,a=o.businessObject;n.unclaimId(a.id,a)}),this.preExecute("canvas.updateRoot",function(){var i=e.getRootElement(),s=i.businessObject;he(i,"bpmn:Collaboration")&&r.ids.unclaim(s.id)})}At($S,at);$S.$inject=["canvas","injector","moddle","modeling"];function HS(e,t){at.call(this,e),this.preExecute("connection.delete",function(r){var n=r.context,i=n.connection,s=i.source;Pae(i,s)&&t.updateProperties(s,{default:null})})}At(HS,at);HS.$inject=["eventBus","modeling"];function Pae(e,t){if(!he(e,"bpmn:SequenceFlow"))return!1;var r=ht(t),n=ht(e);return r.get("default")===n}var Oae=500,Iae=5e3;function WS(e,t){at.call(this,e);var r;function n(){return r=r||new Mae,r.enter(),r}function i(){if(!r)throw new Error("out of bounds release");return r}function s(){if(!r)throw new Error("out of bounds release");var a=r.leave();return a&&(t.updateLaneRefs(r.flowNodes,r.lanes),r=null),a}var o=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(o,Iae,function(a){n()}),this.postExecuted(o,Oae,function(a){s()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(a){var l=a.context,c=l.shape,u=i();c.labelTarget||(he(c,"bpmn:Lane")&&u.addLane(c),he(c,"bpmn:FlowNode")&&u.addFlowNode(c))})}WS.$inject=["eventBus","modeling"];At(WS,at);function Mae(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function qS(e,t){at.call(this,e),this.postExecuted("elements.create",function(r){const n=r.context,i=n.elements;for(const s of i)Lae(s)&&!Bae(s)&&t.updateProperties(s,{isForCompensation:void 0})})}At(qS,at);qS.$inject=["eventBus","modeling"];function Lae(e){const t=ht(e);return t&&t.isForCompensation}function Dae(e){return e&&he(e,"bpmn:BoundaryEvent")&&vp(e,"bpmn:CompensateEventDefinition")}function Bae(e){return e.incoming.filter(r=>Dae(r.source)).length>0}const Fae={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",cS],appendBehavior:["type",uS],associationBehavior:["type",dS],attachEventBehavior:["type",d2],boundaryEventBehavior:["type",hS],compensateBoundaryEventBehaviour:["type",fS],createBehavior:["type",pS],createDataObjectBehavior:["type",mS],createParticipantBehavior:["type",gS],dataInputAssociationBehavior:["type",vS],dataStoreBehavior:["type",yS],deleteLaneBehavior:["type",bS],detachEventBehavior:["type",p2],dropOnFlowBehavior:["type",wS],eventBasedGatewayBehavior:["type",xS],fixHoverBehavior:["type",BB],groupBehavior:["type",_S],importDockingFix:["type",FB],isHorizontalFix:["type",SS],labelBehavior:["type",ES],layoutConnectionBehavior:["type",kS],messageFlowBehavior:["type",CS],nonInterruptingBehavior:["type",jS],removeElementBehavior:["type",RS],removeEmbeddedLabelBoundsBehavior:["type",TS],removeParticipantBehavior:["type",PS],replaceConnectionBehavior:["type",OS],replaceElementBehaviour:["type",y2],resizeBehavior:["type",ZB],resizeLaneBehavior:["type",JB],rootElementReferenceBehavior:["type",LS],spaceToolBehavior:["type",eF],subProcessPlaneBehavior:["type",Bu],subProcessStartEventBehavior:["type",BS],textAnnotationBehavior:["type",FS],toggleCollapseConnectionBehaviour:["type",zS],toggleElementCollapseBehaviour:["type",US],unclaimIdBehavior:["type",$S],unsetDefaultFlowBehavior:["type",HS],updateFlowNodeRefsBehavior:["type",WS],setCompensationActivityAfterPasteBehavior:["type",qS]};function tF(e,t){var r=ss(e,t,-15);return r!=="intersect"?r:null}function Wi(e){Ja.call(this,e)}At(Wi,Ja);Wi.$inject=["eventBus"];Wi.prototype.init=function(){this.addRule("connection.start",function(e){var t=e.source;return zae(t)}),this.addRule("connection.create",function(e){var t=e.source,r=e.target,n=e.hints||{},i=n.targetParent,s=n.targetAttach;if(s)return!1;i&&(r.parent=i);try{return ay(t,r)}finally{i&&(r.parent=null)}}),this.addRule("connection.reconnect",function(e){var t=e.connection,r=e.source,n=e.target;return ay(r,n,t)}),this.addRule("connection.updateWaypoints",function(e){return{type:e.connection.type}}),this.addRule("shape.resize",function(e){var t=e.shape,r=e.newBounds;return uF(t,r)}),this.addRule("elements.create",function(e){var t=e.elements,r=e.position,n=e.target;return Qr(n)&&!ab(t,n)?!1:uh(t,function(i){return Qr(i)?ay(i.source,i.target,i):i.host?a0(i,i.host,null,r):G4(i,n,null)})}),this.addRule("elements.move",function(e){var t=e.target,r=e.shapes,n=e.position;return a0(r,t,null,n)||lF(r,t,n)||cF(r,t)||ab(r,t)}),this.addRule("shape.create",function(e){return G4(e.shape,e.target,e.source,e.position)}),this.addRule("shape.attach",function(e){return a0(e.shape,e.target,null,e.position)}),this.addRule("element.copy",function(e){var t=e.element,r=e.elements;return mF(r,t)})};Wi.prototype.canConnectMessageFlow=fF;Wi.prototype.canConnectSequenceFlow=pF;Wi.prototype.canConnectDataAssociation=GS;Wi.prototype.canConnectAssociation=dF;Wi.prototype.canConnectCompensationAssociation=hF;Wi.prototype.canMove=cF;Wi.prototype.canAttach=a0;Wi.prototype.canReplace=lF;Wi.prototype.canDrop=Xf;Wi.prototype.canInsert=ab;Wi.prototype.canCreate=G4;Wi.prototype.canConnect=ay;Wi.prototype.canResize=uF;Wi.prototype.canCopy=mF;function zae(e){return W4(e)?null:gr(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}function W4(e){return!e||Ir(e)}function Uae(e,t){return e===t}function o9(e){do{if(he(e,"bpmn:Process"))return ht(e);if(he(e,"bpmn:Participant"))return ht(e).processRef||ht(e)}while(e=e.parent)}function q4(e){return he(e,"bpmn:TextAnnotation")}function VS(e){return he(e,"bpmn:Group")&&!e.labelTarget}function rF(e){return he(e,"bpmn:BoundaryEvent")&&Qo(e,"bpmn:CompensateEventDefinition")}function b2(e){return ht(e).isForCompensation}function $ae(e,t){var r=o9(e),n=o9(t);return r===n}function Hae(e){return he(e,"bpmn:InteractionNode")&&!he(e,"bpmn:BoundaryEvent")&&(!he(e,"bpmn:Event")||he(e,"bpmn:ThrowEvent")&&iF(e,"bpmn:MessageEventDefinition"))}function Wae(e){return he(e,"bpmn:InteractionNode")&&!b2(e)&&(!he(e,"bpmn:Event")||he(e,"bpmn:CatchEvent")&&iF(e,"bpmn:MessageEventDefinition"))&&!(he(e,"bpmn:BoundaryEvent")&&!Qo(e,"bpmn:MessageEventDefinition"))}function l9(e){for(var t=e;t=t.parent;){if(he(t,"bpmn:FlowElementsContainer"))return ht(t);if(he(t,"bpmn:Participant"))return ht(t).processRef}return null}function nF(e,t){var r=l9(e),n=l9(t);return r===n}function Qo(e,t){var r=ht(e);return!!Lr(r.eventDefinitions||[],function(n){return he(n,t)})}function iF(e,t){var r=ht(e);return(r.eventDefinitions||[]).every(function(n){return he(n,t)})}function qae(e){return he(e,"bpmn:FlowNode")&&!he(e,"bpmn:EndEvent")&&!ts(e)&&!(he(e,"bpmn:IntermediateThrowEvent")&&Qo(e,"bpmn:LinkEventDefinition"))&&!rF(e)&&!b2(e)}function Vae(e){return he(e,"bpmn:FlowNode")&&!he(e,"bpmn:StartEvent")&&!he(e,"bpmn:BoundaryEvent")&&!ts(e)&&!(he(e,"bpmn:IntermediateCatchEvent")&&Qo(e,"bpmn:LinkEventDefinition"))&&!b2(e)}function Gae(e){return he(e,"bpmn:ReceiveTask")||he(e,"bpmn:IntermediateCatchEvent")&&(Qo(e,"bpmn:MessageEventDefinition")||Qo(e,"bpmn:TimerEventDefinition")||Qo(e,"bpmn:ConditionalEventDefinition")||Qo(e,"bpmn:SignalEventDefinition"))}function Kae(e){for(var t=[];e;)e=e.parent,e&&t.push(e);return t}function V4(e,t){var r=Kae(t);return r.indexOf(e)!==-1}function ay(e,t,r){if(W4(e)||W4(t))return null;if(!he(r,"bpmn:DataAssociation")){if(fF(e,t))return{type:"bpmn:MessageFlow"};if(pF(e,t))return{type:"bpmn:SequenceFlow"}}var n=GS(e,t);return n||(hF(e,t)?{type:"bpmn:Association",associationDirection:"One"}:dF(e,t)?{type:"bpmn:Association",associationDirection:"None"}:!1)}function Xf(e,t){return Ir(e)||VS(e)?!0:he(t,"bpmn:Participant")&&!Sr(t)?!1:he(e,"bpmn:Participant")?he(t,"bpmn:Process")||he(t,"bpmn:Collaboration"):gr(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:he(e,"bpmn:Lane")?he(t,"bpmn:Participant")||he(t,"bpmn:Lane"):he(e,"bpmn:BoundaryEvent")&&!Xae(e)?!1:he(e,"bpmn:FlowElement")&&!he(e,"bpmn:DataStoreReference")?he(t,"bpmn:FlowElementsContainer")?Sr(t):gr(t,["bpmn:Participant","bpmn:Lane"]):he(e,"bpmn:DataStoreReference")&&he(t,"bpmn:Collaboration")?ju(ht(t).get("participants"),function(r){return!!r.get("processRef")}):gr(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?gr(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):he(e,"bpmn:MessageFlow")?he(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t:!1}function Xae(e){return ht(e).cancelActivity&&(sF(e)||aF(e))}function Zae(e){return!Ir(e)&&he(e,"bpmn:BoundaryEvent")}function Yae(e){return he(e,"bpmn:Lane")}function Jae(e){return Zae(e)||he(e,"bpmn:IntermediateThrowEvent")&&sF(e)?!0:he(e,"bpmn:IntermediateCatchEvent")&&aF(e)}function sF(e){var t=ht(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function aF(e){return oF(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function oF(e,t){return t.some(function(r){return Qo(e,r)})}function Qae(e){return he(e,"bpmn:ReceiveTask")&&Lr(e.incoming,function(t){return he(t.source,"bpmn:EventBasedGateway")})}function a0(e,t,r,n){if(Array.isArray(e)||(e=[e]),e.length!==1)return!1;var i=e[0];return Ir(i)||!Jae(i)||ts(t)||!he(t,"bpmn:Activity")||b2(t)||n&&!tF(n,t)||Qae(t)?!1:"attach"}function lF(e,t,r){if(!t)return!1;var n={replacements:[]};return Ce(e,function(i){ts(t)||he(i,"bpmn:StartEvent")&&i.type!=="label"&&Xf(i,t)&&(Vte(i)||n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),(Gte(i)||Kte(i)||Xte(i))&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),oF(i,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&he(t,"bpmn:SubProcess")&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"})),he(t,"bpmn:Transaction")||Qo(i,"bpmn:CancelEventDefinition")&&i.type!=="label"&&(he(i,"bpmn:EndEvent")&&Xf(i,t)&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:EndEvent"}),he(i,"bpmn:BoundaryEvent")&&a0(i,t,null,r)&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:BoundaryEvent"}))}),n.replacements.length?n:!1}function cF(e,t){return ju(e,Yae)?!1:t?e.every(function(r){return Xf(r,t)}):!0}function G4(e,t,r,n){return t?Ir(e)||VS(e)?!0:Uae(r,t)||r&&V4(r,t)?!1:Xf(e,t)||ab(e,t):!1}function uF(e,t){return he(e,"bpmn:SubProcess")?Sr(e)&&(!t||t.width>=100&&t.height>=80):!!(he(e,"bpmn:Lane")||he(e,"bpmn:Participant")||q4(e)||VS(e))}function eoe(e,t){var r=q4(e),n=q4(t);return(r||n)&&r!==n}function dF(e,t){return V4(t,e)||V4(e,t)?!1:eoe(e,t)?!0:!!GS(e,t)}function hF(e,t){return nF(e,t)&&rF(e)&&he(t,"bpmn:Activity")&&!roe(t,e)&&!ts(t)}function fF(e,t){return c9(e)&&!c9(t)?!1:Hae(e)&&Wae(t)&&!$ae(e,t)}function pF(e,t){return qae(e)&&Vae(t)&&nF(e,t)&&!(he(e,"bpmn:EventBasedGateway")&&!Gae(t))}function GS(e,t){return gr(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&gr(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:gr(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&gr(e,["bpmn:Activity","bpmn:CatchEvent"])?{type:"bpmn:DataOutputAssociation"}:!1}function ab(e,t,r){if(!t)return!1;if(Array.isArray(e)){if(e.length!==1)return!1;e=e[0]}return t.source===e||t.target===e?!1:gr(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Ir(t)&&he(e,"bpmn:FlowNode")&&!he(e,"bpmn:BoundaryEvent")&&Xf(e,t.parent)}function toe(e,t){return e&&t&&e.indexOf(t)!==-1}function mF(e,t){return Ir(t)?!0:!(he(t,"bpmn:Lane")&&!toe(e,t.parent))}function c9(e){return Gf(e,"bpmn:Process")||Gf(e,"bpmn:Collaboration")}function roe(e,t){return e.attachers.includes(t)}const noe={__depends__:[ml],__init__:["bpmnRules"],bpmnRules:["type",Wi]};var ioe=2e3;function gF(e,t){e.on("saveXML.start",ioe,r);function r(){var n=t.getRootElements();Ce(n,function(i){var s=Or(i),o,a;o=dg([i],!1),o=mr(o,function(l){return l!==i&&!l.labelTarget}),a=ns(o,Or),s.set("planeElement",a)})}}gF.$inject=["eventBus","canvas"];const soe={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",gF]};function w2(e){at.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],function(r){var n=r.context,i=n.shape||n.connection,s=n.parent,o=t.getOrdering(i,s);o&&(o.parent!==void 0&&(n.parent=o.parent),n.parentIndex=o.index)}),this.preExecute(["shape.move","connection.move"],function(r){var n=r.context,i=n.shape||n.connection,s=n.newParent||i.parent,o=t.getOrdering(i,s);o&&(o.parent!==void 0&&(n.newParent=o.parent),n.newParentIndex=o.index)})}w2.prototype.getOrdering=function(e,t){return null};At(w2,at);function KS(e,t){w2.call(this,e);var r=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function n(o){if(o.labelTarget)return{level:10};var a=Lr(r,function(l){return gr(o,[l.type])});return a&&a.order||{level:1}}function i(o){var a=o.order;if(a||(o.order=a=n(o)),!a)throw new Error(`no order for <${o.id}>`);return a}function s(o,a,l){for(var c=a;c&&!gr(c,l);)c=c.parent;if(!c)throw new Error(`no parent for <${o.id}> in <${a&&a.id}>`);return c}this.getOrdering=function(o,a){if(o.labelTarget||he(o,"bpmn:TextAnnotation"))return{parent:t.findRoot(a)||t.getRootElement(),index:-1};var l=i(o);l.containers&&(a=s(o,a,l.containers));var c=a.children.indexOf(o),u=fL(a.children,function(h){return!o.labelTarget&&h.labelTarget?!1:l.level<i(h).level});return u!==-1&&c!==-1&&c<u&&(u-=1),{index:u,parent:a}}}KS.$inject=["eventBus","canvas"];At(KS,w2);const aoe={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",KS]};function _g(){}_g.prototype.get=function(){return this._data};_g.prototype.set=function(e){this._data=e};_g.prototype.clear=function(){var e=this._data;return delete this._data,e};_g.prototype.isEmpty=function(){return!this._data};const ooe={clipboard:["type",_g]};var loe="drop-ok",u9="drop-not-ok",d9="attach-ok",h9="new-parent",f9="create",coe=2e3;function vF(e,t,r,n,i){function s(l,c,u,h,f){if(!c)return!1;l=mr(l,function(y){var b=y.labelTarget;return!y.parent&&!(Ir(y)&&l.indexOf(b)!==-1)});var d=Lr(l,function(y){return!Qr(y)}),p=!1,g=!1,m=!1;m9(l)&&(p=i.allowed("shape.attach",{position:u,shape:d,target:c})),p||(m9(l)?m=i.allowed("shape.create",{position:u,shape:d,source:h,target:c}):m=i.allowed("elements.create",{elements:l,position:u,target:c}));var v=f.connectionTarget;return m||p?(d&&h&&(g=i.allowed("connection.create",{source:v===h?d:h,target:v===h?h:d,hints:{targetParent:c,targetAttach:p}})),{attach:p,connect:g}):m===null||p===null?null:!1}function o(l,c){[d9,loe,u9,h9].forEach(function(u){u===c?e.addMarker(l,u):e.removeMarker(l,u)})}r.on(["create.move","create.hover"],function(l){var c=l.context,u=c.elements,h=l.hover,f=c.source,d=c.hints||{};if(!h){c.canExecute=!1,c.target=null;return}p9(l);var p={x:l.x,y:l.y},g=c.canExecute=h&&s(u,h,p,f,d);h&&g!==null&&(c.target=h,g&&g.attach?o(h,d9):o(h,g?h9:u9))}),r.on(["create.end","create.out","create.cleanup"],function(l){var c=l.hover;c&&o(c,null)}),r.on("create.end",function(l){var c=l.context,u=c.source,h=c.shape,f=c.elements,d=c.target,p=c.canExecute,g=p&&p.attach,m=p&&p.connect,v=c.hints||{};if(p===!1||!d)return!1;p9(l);var y={x:l.x,y:l.y};m?h=n.appendShape(u,h,y,d,{attach:g,connection:m===!0?{}:m,connectionTarget:v.connectionTarget}):(f=n.createElements(f,y,d,Ie({},v,{attach:g})),h=Lr(f,function(b){return!Qr(b)})),Ie(c,{elements:f,shape:h}),Ie(l,{elements:f,shape:h})});function a(){var l=t.context();l&&l.prefix===f9&&t.cancel()}r.on("create.init",function(){r.on("elements.changed",a),r.once(["create.cancel","create.end"],coe,function(){r.off("elements.changed",a)})}),this.start=function(l,c,u){Qt(c)||(c=[c]);var h=Lr(c,function(p){return!Qr(p)});if(h){u=Ie({elements:c,hints:{},shape:h},u||{}),Ce(c,function(p){Yt(p.x)||(p.x=0),Yt(p.y)||(p.y=0)});var f=mr(c,function(p){return!p.hidden}),d=di(f);Ce(c,function(p){Qr(p)&&(p.waypoints=ns(p.waypoints,function(g){return{x:g.x-d.x-d.width/2,y:g.y-d.y-d.height/2}})),Ie(p,{x:p.x-d.x-d.width/2,y:p.y-d.y-d.height/2})}),t.init(l,f9,{cursor:"grabbing",autoActivate:!0,data:{shape:h,elements:c,context:u}})}}}vF.$inject=["canvas","dragging","eventBus","modeling","rules"];function p9(e){var t=e.context,r=t.createConstraints;r&&(r.left&&(e.x=Math.max(e.x,r.left)),r.right&&(e.x=Math.min(e.x,r.right)),r.top&&(e.y=Math.max(e.y,r.top)),r.bottom&&(e.y=Math.min(e.y,r.bottom)))}function m9(e){return e&&e.length===1&&!Qr(e[0])}var uoe=750;function yF(e,t,r,n,i){function s(o){var a=Mt("g");kt(a,i.cls("djs-drag-group",["no-events"]));var l=Mt("g");return o.forEach(function(c){var u;c.hidden||(c.waypoints?(u=r._createContainer("connection",l),r.drawConnection(Vd(u),c)):(u=r._createContainer("shape",l),r.drawShape(Vd(u),c),$i(u,c.x,c.y)),n.addDragger(c,a,u))}),a}t.on("create.move",uoe,function(o){var a=o.hover,l=o.context,c=l.elements,u=l.dragGroup;u||(u=l.dragGroup=s(c));var h;a?(u.parentNode||(h=e.getActiveLayer(),rr(h,u)),$i(u,o.x,o.y)):ui(u)}),t.on("create.cleanup",function(o){var a=o.context,l=a.dragGroup;l&&ui(l)})}yF.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const x2={__depends__:[hc,kp,ml,Co],__init__:["create","createPreview"],create:["type",vF],createPreview:["type",yF]};function XS(e){var t=this;this._lastMoveEvent=null;function r(n){t._lastMoveEvent=n}e.on("canvas.init",function(n){var i=t._svg=n.svg;i.addEventListener("mousemove",r)}),e.on("canvas.destroy",function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",r)})}XS.$inject=["eventBus"];XS.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||doe(0,0)};function doe(e,t){var r=document.createEvent("MouseEvent"),n=e,i=t,s=e,o=t;return r.initMouseEvent&&r.initMouseEvent("mousemove",!0,!0,window,0,n,i,s,o,!1,!1,!1,!1,0,null),r}const Sg={__init__:["mouse"],mouse:["type",XS]};function jo(e,t,r,n,i,s,o,a){this._canvas=e,this._create=t,this._clipboard=r,this._elementFactory=n,this._eventBus=i,this._modeling=s,this._mouse=o,this._rules=a,i.on("copyPaste.copyElement",function(l){var c=l.descriptor,u=l.element,h=l.elements;c.priority=1,c.id=u.id;var f=Lr(h,function(d){return d===u.parent});f&&(c.parent=u.parent.id),hoe(u)&&(c.priority=2,c.host=u.host.id),Qr(u)&&(c.priority=3,c.source=u.source.id,c.target=u.target.id,c.waypoints=foe(u)),Ir(u)&&(c.priority=4,c.labelTarget=u.labelTarget.id),Ce(["x","y","width","height"],function(d){Yt(u[d])&&(c[d]=u[d])}),c.hidden=u.hidden,c.collapsed=u.collapsed}),i.on("copyPaste.pasteElements",function(l){var c=l.hints;Ie(c,{createElementsBehavior:!1})})}jo.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];jo.prototype.copy=function(e){var t,r;return Qt(e)||(e=e?[e]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),t===!1?r={}:r=this.createTree(Qt(t)?t:e),this._clipboard.set(r),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:r}),r};jo.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var r=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:r});var n=this._createElements(t);if(e&&e.element&&e.point)return this._paste(n,e.element,e.point,r);this._create.start(this._mouse.getLastMoveEvent(),n,{hints:r||{}})}};jo.prototype._paste=function(e,t,r,n){Ce(e,function(s){Yt(s.x)||(s.x=0),Yt(s.y)||(s.y=0)});var i=di(e);return Ce(e,function(s){Qr(s)&&(s.waypoints=ns(s.waypoints,function(o){return{x:o.x-i.x-i.width/2,y:o.y-i.y-i.height/2}})),Ie(s,{x:s.x-i.x-i.width/2,y:s.y-i.y-i.height/2})}),this._modeling.createElements(e,r,t,Ie({},n))};jo.prototype._createElements=function(e){var t=this,r=this._eventBus,n={},i=[];return Ce(e,function(s,o){s=ll(s,"priority"),Ce(s,function(a){var l=Ie({},hl(a,["priority"]));n[a.parent]?l.parent=n[a.parent]:delete l.parent,r.fire("copyPaste.pasteElement",{cache:n,descriptor:l});var c;if(Qr(l)){l.source=n[a.source],l.target=n[a.target],c=n[a.id]=t.createConnection(l),i.push(c);return}if(Ir(l)){l.labelTarget=n[l.labelTarget],c=n[a.id]=t.createLabel(l),i.push(c);return}l.host&&(l.host=n[l.host]),c=n[a.id]=t.createShape(l),i.push(c)})}),i};jo.prototype.createConnection=function(e){var t=this._elementFactory.createConnection(hl(e,["id"]));return t};jo.prototype.createLabel=function(e){var t=this._elementFactory.createLabel(hl(e,["id"]));return t};jo.prototype.createShape=function(e){var t=this._elementFactory.createShape(hl(e,["id"]));return t};jo.prototype.hasRelations=function(e,t){var r,n,i;return!(Qr(e)&&(n=Lr(t,bo({id:e.source.id})),i=Lr(t,bo({id:e.target.id})),!n||!i)||Ir(e)&&(r=Lr(t,bo({id:e.labelTarget.id})),!r))};jo.prototype.createTree=function(e){var t=this._rules,r=this,n={},i=[],s=qb(e);function o(c,u){return t.allowed("element.copy",{element:c,elements:u})}function a(c,u){var h=Lr(i,function(f){return c===f.element});if(!h){i.push({element:c,depth:u});return}h.depth<u&&(i=l(h,i),i.push({element:h.element,depth:u}))}function l(c,u){var h=u.indexOf(c);return h!==-1&&u.splice(h,1),u}return hh(s,function(c,u,h){if(Ir(c))return;Ce(c.labels,function(p){a(p,h)});function f(p){p&&p.length&&Ce(p,function(g){Ce(g.labels,function(m){a(m,h)}),a(g,h)})}Ce([c.attachers,c.incoming,c.outgoing],f),a(c,h);var d=[];return c.children&&(d=c.children.slice()),r._eventBus.fire("copyPaste.createTree",{element:c,children:d}),d}),e=ns(i,function(c){return c.element}),i=ns(i,function(c){return c.descriptor={},r._eventBus.fire("copyPaste.copyElement",{descriptor:c.descriptor,element:c.element,elements:e}),c}),i=ll(i,function(c){return c.descriptor.priority}),e=ns(i,function(c){return c.element}),Ce(i,function(c){var u=c.depth;if(!r.hasRelations(c.element,e)){v9(c.element,e);return}if(!o(c.element,e)){v9(c.element,e);return}n[u]||(n[u]=[]),n[u].push(c.descriptor)}),n};function hoe(e){return!!e.host}function foe(e){return ns(e.waypoints,function(t){return t=g9(t),t.original&&(t.original=g9(t.original)),t})}function g9(e){return Ie({},e)}function v9(e,t){var r=t.indexOf(e);return r===-1?t:t.splice(r,1)}const poe={__depends__:[ooe,x2,Sg,ml],__init__:["copyPaste"],copyPaste:["type",jo]};function Hx(e,t,r){Qt(r)||(r=[r]),Ce(r,function(n){th(e[n])||(t[n]=e[n])})}var Wx=750;function bF(e,t,r){function n(l,c){var u=e.create(l.$type);return r.copyElement(l,u,null,c)}t.on("copyPaste.copyElement",Wx,function(l){var c=l.descriptor,u=l.element,h=ht(u);if(Ir(u))return c;var f=c.businessObject=n(h,!0),d=c.di=n(Or(u),!0);d.bpmnElement=f,Hx(f,c,"name"),Hx(d,c,"isExpanded"),h.default&&(c.default=h.default.id)});var i="-bpmn-js-refs";function s(l){return l[i]=l[i]||{}}function o(l,c){l[i]=c}function a(l,c,u){var h=ht(l);return l.default&&(u[l.default]={element:h,property:"default"}),l.host&&(ht(l).attachedToRef=ht(c[l.host])),hl(u,Js(u,function(f,d,p){var g=d.element,m=d.property;return p===l.id&&(g.set(m,h),f.push(l.id)),f},[]))}t.on("copyPaste.pasteElement",function(l){var c=l.cache,u=l.descriptor,h=u.businessObject,f=u.di;if(Ir(u)){u.businessObject=ht(c[u.labelTarget]),u.di=Or(c[u.labelTarget]);return}h=u.businessObject=n(h),f=u.di=n(f),f.bpmnElement=h,Hx(u,h,["isExpanded","name"]),u.type=h.$type}),t.on("copyPaste.copyElement",Wx,function(l){var c=l.descriptor,u=l.element;if(he(u,"bpmn:Participant")){var h=ht(u);h.processRef&&(c.processRef=n(h.processRef,!0))}}),t.on("copyPaste.pasteElement",function(l){var c=l.descriptor,u=c.processRef;u&&(c.processRef=n(u))}),t.on("copyPaste.pasteElement",Wx,function(l){var c=l.cache,u=l.descriptor;o(c,a(u,c,s(c)))})}bF.$inject=["bpmnFactory","eventBus","moddleCopy"];const moe=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"],goe=["errorRef","escalationRef","messageRef","signalRef"];function Eg(e,t,r){this._bpmnFactory=t,this._eventBus=e,this._moddle=r,e.on("moddleCopy.canCopyProperties",n=>{const{propertyNames:i}=n;if(!(!i||!i.length))return ll(i,s=>s==="extensionElements")}),e.on("moddleCopy.canCopyProperty",n=>{const{parent:i,property:s,propertyName:o}=n,a=Mi(i)&&i.$descriptor;if(o&&goe.includes(o))return s;if(o&&moe.includes(o)||o&&a&&!Lr(a.properties,bo({name:o})))return!1}),e.on("moddleCopy.canSetCopiedProperty",n=>{const{property:i}=n;if(he(i,"bpmn:ExtensionElements")&&(!i.values||!i.values.length))return!1})}Eg.$inject=["eventBus","bpmnFactory","moddle"];Eg.prototype.copyElement=function(e,t,r,n=!1){r&&!Qt(r)&&(r=[r]),r=r||K4(e.$descriptor);const i=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:r,sourceElement:e,targetElement:t,clone:n});return i===!1||(Qt(i)&&(r=i),Ce(r,s=>{let o;As(e,s)&&(o=e.get(s));const a=this.copyProperty(o,t,s,n);!Pi(a)||this._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:a,propertyName:s})===!1||t.set(s,a)})),t};Eg.prototype.copyProperty=function(e,t,r,n=!1){let i=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:r,clone:n});if(i===!1)return;if(i)return Mi(i)&&i.$type&&!i.$parent&&(i.$parent=t),i;const s=this._moddle.getPropertyDescriptor(t,r);if(!s.isReference)return s.isId?e&&this._copyId(e,t,n):Qt(e)?Js(e,(o,a)=>{const l=this.copyProperty(a,t,r,n);return l?o.concat(l):o},[]):Mi(e)&&e.$type?this._moddle.getElementDescriptor(e).isGeneric?void 0:(i=this._bpmnFactory.create(e.$type),i.$parent=t,i=this.copyElement(e,i,null,n),i):e};Eg.prototype._copyId=function(e,t,r=!1){if(r)return e;if(!this._moddle.ids.assigned(e))return this._moddle.ids.claim(e,t),e};function K4(e,t){return Js(e.properties,(r,n)=>t&&n.default?r:r.concat(n.name),[])}const wF={__depends__:[poe],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",bF],moddleCopy:["type",Eg]};var y9=Math.round;function ZS(e,t){this._modeling=e,this._eventBus=t}ZS.$inject=["modeling","eventBus"];ZS.prototype.replaceElement=function(e,t,r){if(e.waypoints)return null;var n=this._modeling,i=this._eventBus;i.fire("replace.start",{element:e,attrs:t,hints:r});var s=t.width||e.width,o=t.height||e.height,a=t.x||e.x,l=t.y||e.y,c=y9(a+s/2),u=y9(l+o/2),h=n.replaceShape(e,Ie({},t,{x:c,y:u,width:s,height:o}),r);return i.fire("replace.end",{element:e,newElement:h,hints:r}),h};function xF(e,t){t.on("replace.end",500,function(r){const{newElement:n,hints:i={}}=r;i.select!==!1&&e.select(n)})}xF.$inject=["selection","eventBus"];const voe={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",xF],replace:["type",ZS]};function yoe(e,t,r){Qt(r)||(r=[r]),Ce(r,function(n){th(e[n])||(t[n]=e[n])})}var boe=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function woe(e,t){var r=e&&As(e,"collapsed")?e.collapsed:!Sr(e),n;return t&&(As(t,"collapsed")||As(t,"isExpanded"))?n=As(t,"collapsed")?t.collapsed:!t.isExpanded:n=r,r!==n}function _F(e,t,r,n,i,s){function o(a,l,c){c=c||{};var u=l.type,h=a.businessObject;if(hv(h)&&(u==="bpmn:SubProcess"||u==="bpmn:AdHocSubProcess")&&woe(a,l))return n.toggleCollapse(a),a;var f=e.create(u),d={type:u,businessObject:f};d.di={},u==="bpmn:ExclusiveGateway"&&(d.di.isMarkerVisible=!0),yoe(a.di,d.di,["fill","stroke","background-color","border-color","color"]);var p=K4(h.$descriptor),g=K4(f.$descriptor,!0),m=xoe(p,g);Ie(f,Eo(l,boe));var v=mr(m,function(x){return x==="eventDefinitions"?b9(a,l.eventDefinitionType):x==="loopCharacteristics"?!ts(f):As(f,x)||x==="processRef"&&l.isExpanded===!1||x==="triggeredByEvent"?!1:x==="isForCompensation"?!ts(f):!0});if(f=r.copyElement(h,f,v),l.eventDefinitionType&&(b9(f,l.eventDefinitionType)||(d.eventDefinitionType=l.eventDefinitionType,d.eventDefinitionAttrs=l.eventDefinitionAttrs)),he(h,"bpmn:Activity")){if(hv(h))d.isExpanded=Sr(a);else if(l&&As(l,"isExpanded")){d.isExpanded=l.isExpanded;var y=t.getDefaultSize(f,{isExpanded:d.isExpanded});d.width=y.width,d.height=y.height,d.x=a.x-(d.width-a.width)/2,d.y=a.y-(d.height-a.height)/2}Sr(a)&&!he(h,"bpmn:Task")&&d.isExpanded&&(d.width=a.width,d.height=a.height)}if(hv(h)&&!hv(f)&&(c.moveChildren=!1),he(h,"bpmn:Participant")){l.isExpanded===!0?f.processRef=e.create("bpmn:Process"):c.moveChildren=!1;var b=bi(a);Or(a).isHorizontal||(Or(d).isHorizontal=b),d.width=b?a.width:t.getDefaultSize(d).width,d.height=b?t.getDefaultSize(d).height:a.height}return s.allowed("shape.resize",{shape:f})||(d.height=t.getDefaultSize(d).height,d.width=t.getDefaultSize(d).width),f.name=h.name,gr(h,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&gr(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(f.default=h.default),l.host&&!he(h,"bpmn:BoundaryEvent")&&he(f,"bpmn:BoundaryEvent")&&(d.host=l.host),(d.type==="bpmn:DataStoreReference"||d.type==="bpmn:DataObjectReference")&&(d.x=a.x+(a.width-d.width)/2),i.replaceElement(a,d,{...c,targetElement:l})}this.replaceElement=o}_F.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];function hv(e){return he(e,"bpmn:SubProcess")}function b9(e,t){var r=ht(e);return t&&r.get("eventDefinitions").some(function(n){return he(n,t)})}function xoe(e,t){return e.filter(function(r){return t.includes(r)})}const SF={__depends__:[wF,voe,Co],bpmnReplace:["type",_F]};var _oe=250;function gh(e){this._eventBus=e,this._tools=[],this._active=null}gh.$inject=["eventBus"];gh.prototype.registerTool=function(e,t){var r=this._tools;if(!t)throw new Error(`A tool has to be registered with it's "events"`);r.push(e),this.bindEvents(e,t)};gh.prototype.isActive=function(e){return e&&this._active===e};gh.prototype.length=function(e){return this._tools.length};gh.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))};gh.prototype.bindEvents=function(e,t){var r=this._eventBus,n=[];r.on(t.tool+".init",function(i){var s=i.context;if(!s.reactivate&&this.isActive(e)){this.setActive(null);return}this.setActive(e)},this),Ce(t,function(i){n.push(i+".ended"),n.push(i+".canceled")}),r.on(n,_oe,function(i){this._active&&(Soe(i)||this.setActive(null))},this)};function Soe(e){var t=e.originalEvent&&e.originalEvent.target;return t&&pp(t,'.group[data-group="tools"]')}const _2={__depends__:[hc],__init__:["toolManager"],toolManager:["type",gh]};function Eoe(e,t){if(e==="x"){if(t>0)return"e";if(t<0)return"w"}if(e==="y"){if(t>0)return"s";if(t<0)return"n"}return null}function koe(e,t){var r=[];return Ce(e.concat(t),function(n){var i=n.incoming,s=n.outgoing;Ce(i.concat(s),function(o){var a=o.source,l=o.target;(bm(e,a)||bm(e,l)||bm(t,a)||bm(t,l))&&(bm(r,o)||r.push(o))})}),r}function bm(e,t){return e.indexOf(t)!==-1}function Noe(e,t,r){var n=e.x,i=e.y,s=e.width,o=e.height,a=r.x,l=r.y;switch(t){case"n":return{x:n,y:i+l,width:s,height:o-l};case"s":return{x:n,y:i,width:s,height:o+l};case"w":return{x:n+a,y:i,width:s-a,height:o};case"e":return{x:n,y:i,width:s+a,height:o};default:throw new Error("unknown direction: "+t)}}var qx=Math.abs,Aoe=Math.round,Ml={x:"width",y:"height"},EF="crosshair",$c={n:"top",w:"left",s:"bottom",e:"right"},Coe=1500,fv={n:"s",w:"e",s:"n",e:"w"},pv=20;function Qa(e,t,r,n,i,s,o){this._canvas=e,this._dragging=t,this._eventBus=r,this._modeling=n,this._rules=i,this._toolManager=s,this._mouse=o;var a=this;s.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),r.on("spaceTool.selection.end",function(l){r.once("spaceTool.selection.ended",function(){a.activateMakeSpace(l.originalEvent)})}),r.on("spaceTool.move",Coe,function(l){var c=l.context,u=c.initialized;u||(u=c.initialized=a.init(l,c)),u&&x9(l)}),r.on("spaceTool.end",function(l){var c=l.context,u=c.axis,h=c.direction,f=c.movingShapes,d=c.resizingShapes,p=c.start;if(c.initialized){x9(l);var g={x:0,y:0};g[u]=Aoe(l["d"+u]),a.makeSpace(f,d,g,h,p),r.once("spaceTool.ended",function(m){a.activateSelection(m.originalEvent,!0,!0)})}})}Qa.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];Qa.prototype.activateSelection=function(e,t,r){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:EF,data:{context:{reactivate:r}},trapClick:!1})};Qa.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:EF,data:{context:{}}})};Qa.prototype.makeSpace=function(e,t,r,n,i){return this._modeling.createSpace(e,t,r,n,i)};Qa.prototype.init=function(e,t){var r=qx(e.dx)>qx(e.dy)?"x":"y",n=e["d"+r],i=e[r]-n;if(qx(n)<5)return!1;n<0&&(n*=-1),V0(e)&&(n*=-1);var s=Eoe(r,n),o=this._canvas.getRootElement();!Jy(e)&&e.hover&&(o=e.hover);var a=[...dg(o,!0),...o.attachers||[]],l=this.calculateAdjustments(a,r,n,i),c=this._eventBus.fire("spaceTool.getMinDimensions",{axis:r,direction:s,shapes:l.resizingShapes,start:i}),u=joe(l,r,s,i,c);return Ie(t,l,{axis:r,direction:s,spaceToolConstraints:u,start:i}),n2("resize-"+(r==="x"?"ew":"ns")),!0};Qa.prototype.calculateAdjustments=function(e,t,r,n){var i=this._rules,s=[],o=[],a=[],l=[];function c(f){s.includes(f)||s.push(f);var d=f.label;d&&!s.includes(d)&&s.push(d)}function u(f){o.includes(f)||o.push(f)}Ce(e,function(f){if(!(!f.parent||Ir(f))){if(Qr(f)){l.push(f);return}var d=f[t],p=d+f[Ml[t]];if(Toe(f)&&(r>0&&Jt(f)[t]>n||r<0&&Jt(f)[t]<n)){a.push(f);return}if(r>0&&d>n||r<0&&p<n){c(f);return}if(d<n&&p>n&&i.allowed("shape.resize",{shape:f})){u(f);return}}}),Ce(s,function(f){var d=f.attachers;d&&Ce(d,function(p){c(p)})});var h=s.concat(o);return Ce(a,function(f){var d=f.host;Md(h,d)&&c(f)}),h=s.concat(o),Ce(l,function(f){var d=f.source,p=f.target,g=f.label;Md(h,d)&&Md(h,p)&&g&&c(g)}),{movingShapes:s,resizingShapes:o}};Qa.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};Qa.prototype.isActive=function(){var e=this._dragging.context();return e?/^spaceTool/.test(e.prefix):!1};function w9(e){return{top:e.top-pv,right:e.right+pv,bottom:e.bottom+pv,left:e.left-pv}}function x9(e){var t=e.context,r=t.spaceToolConstraints;if(r){var n,i;Yt(r.left)&&(n=Math.max(e.x,r.left),e.dx=e.dx+n-e.x,e.x=n),Yt(r.right)&&(n=Math.min(e.x,r.right),e.dx=e.dx+n-e.x,e.x=n),Yt(r.top)&&(i=Math.max(e.y,r.top),e.dy=e.dy+i-e.y,e.y=i),Yt(r.bottom)&&(i=Math.min(e.y,r.bottom),e.dy=e.dy+i-e.y,e.y=i)}}function joe(e,t,r,n,i){var s=e.movingShapes,o=e.resizingShapes;if(o.length){var a={},l,c;return Ce(o,function(u){var h=u.attachers,f=u.children,d=Ht(u),p=mr(f,function(H){return!Qr(H)&&!Ir(H)&&!Md(s,H)&&!Md(o,H)}),g=mr(f,function(H){return!Qr(H)&&!Ir(H)&&Md(s,H)}),m,v,y,b=[],x=[],_,M,U,L;p.length&&(v=w9(Ht(di(p))),m=n-d[$c[r]]+v[$c[r]],r==="n"?a.bottom=c=Yt(c)?Math.min(c,m):m:r==="w"?a.right=c=Yt(c)?Math.min(c,m):m:r==="s"?a.top=l=Yt(l)?Math.max(l,m):m:r==="e"&&(a.left=l=Yt(l)?Math.max(l,m):m)),g.length&&(y=w9(Ht(di(g))),m=n-y[$c[fv[r]]]+d[$c[fv[r]]],r==="n"?a.bottom=c=Yt(c)?Math.min(c,m):m:r==="w"?a.right=c=Yt(c)?Math.min(c,m):m:r==="s"?a.top=l=Yt(l)?Math.max(l,m):m:r==="e"&&(a.left=l=Yt(l)?Math.max(l,m):m)),h&&h.length&&(h.forEach(function(H){Md(s,H)?b.push(H):x.push(H)}),b.length&&(_=Ht(di(b.map(Jt))),M=d[$c[fv[r]]]-(_[$c[fv[r]]]-n)),x.length&&(U=Ht(di(x.map(Jt))),L=U[$c[r]]-(d[$c[r]]-n)),r==="n"?(m=Math.min(M||1/0,L||1/0),a.bottom=c=Yt(c)?Math.min(c,m):m):r==="w"?(m=Math.min(M||1/0,L||1/0),a.right=c=Yt(c)?Math.min(c,m):m):r==="s"?(m=Math.max(M||-1/0,L||-1/0),a.top=l=Yt(l)?Math.max(l,m):m):r==="e"&&(m=Math.max(M||-1/0,L||-1/0),a.left=l=Yt(l)?Math.max(l,m):m));var O=i&&i[u.id];O&&(r==="n"?(m=n+u[Ml[t]]-O[Ml[t]],a.bottom=c=Yt(c)?Math.min(c,m):m):r==="w"?(m=n+u[Ml[t]]-O[Ml[t]],a.right=c=Yt(c)?Math.min(c,m):m):r==="s"?(m=n-u[Ml[t]]+O[Ml[t]],a.top=l=Yt(l)?Math.max(l,m):m):r==="e"&&(m=n-u[Ml[t]]+O[Ml[t]],a.left=l=Yt(l)?Math.max(l,m):m))}),a}}function Md(e,t){return e.indexOf(t)!==-1}function Toe(e){return!!e.host}var Vx="djs-dragging",_9="djs-resizing",Roe=250,mv=Math.max;function kF(e,t,r,n,i){function s(o,a){Ce(o,function(l){i.addDragger(l,a),r.addMarker(l,Vx)})}e.on("spaceTool.selection.start",function(o){var a=r.getLayer("space"),l=o.context,c={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},u=Mt("g");kt(u,n.cls("djs-crosshair-group",["no-events"])),rr(a,u);var h=Mt("path");kt(h,"d",c.x),Pr(h).add("djs-crosshair"),rr(u,h);var f=Mt("path");kt(f,"d",c.y),Pr(f).add("djs-crosshair"),rr(u,f),l.crosshairGroup=u}),e.on("spaceTool.selection.move",function(o){var a=o.context.crosshairGroup;$i(a,o.x,o.y)}),e.on("spaceTool.selection.cleanup",function(o){var a=o.context,l=a.crosshairGroup;l&&ui(l)}),e.on("spaceTool.move",Roe,function(o){var a=o.context,l=a.line,c=a.axis,u=a.movingShapes,h=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var f=r.getLayer("space");l=Mt("path"),kt(l,"d","M0,0 L0,0"),Pr(l).add("djs-crosshair"),rr(f,l),a.line=l;var d=Mt("g");kt(d,n.cls("djs-drag-group",["no-events"])),rr(r.getActiveLayer(),d),s(u,d);var p=a.movingConnections=t.filter(function(x){var _=!1;Ce(u,function(O){Ce(O.outgoing,function(H){x===H&&(_=!0)})});var M=!1;Ce(u,function(O){Ce(O.incoming,function(H){x===H&&(M=!0)})});var U=!1;Ce(h,function(O){Ce(O.outgoing,function(H){x===H&&(U=!0)})});var L=!1;return Ce(h,function(O){Ce(O.incoming,function(H){x===H&&(L=!0)})}),Qr(x)&&(_||U)&&(M||L)});s(p,d),a.dragGroup=d}if(!a.frameGroup){var g=Mt("g");kt(g,n.cls("djs-frame-group",["no-events"])),rr(r.getActiveLayer(),g);var m=[];Ce(h,function(x){var _=i.addFrame(x,g),M=_.getBBox();m.push({element:_,initialBounds:M}),r.addMarker(x,_9)}),a.frameGroup=g,a.frames=m}var v={x:"M"+o.x+", -10000 L"+o.x+", 10000",y:"M -10000, "+o.y+" L 10000, "+o.y};kt(l,{d:v[c]});var y={x:"y",y:"x"},b={x:o.dx,y:o.dy};b[y[a.axis]]=0,$i(a.dragGroup,b.x,b.y),Ce(a.frames,function(x){var _=x.element,M=x.initialBounds,U,L;a.direction==="e"?kt(_,{width:mv(M.width+b.x,5)}):(U=mv(M.width-b.x,5),kt(_,{width:U,x:M.x+M.width-U})),a.direction==="s"?kt(_,{height:mv(M.height+b.y,5)}):(L=mv(M.height-b.y,5),kt(_,{height:L,y:M.y+M.height-L}))})}}),e.on("spaceTool.cleanup",function(o){var a=o.context,l=a.movingShapes,c=a.movingConnections,u=a.resizingShapes,h=a.line,f=a.dragGroup,d=a.frameGroup;Ce(l,function(p){r.removeMarker(p,Vx)}),Ce(c,function(p){r.removeMarker(p,Vx)}),f&&(ui(h),ui(f)),Ce(u,function(p){r.removeMarker(p,_9)}),d&&ui(d)})}kF.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const Poe={__init__:["spaceToolPreview"],__depends__:[hc,ml,_2,kp,Sg],spaceTool:["type",Qa],spaceToolPreview:["type",kF]};function S2(e,t){e.invoke(Qa,this),this._canvas=t}S2.$inject=["injector","canvas"];At(S2,Qa);S2.prototype.calculateAdjustments=function(e,t,r,n){var i=this._canvas.getRootElement(),s=e[0]===i?null:e[0],o=[];s&&(o=zb(CL(i.children.filter(c=>he(c,"bpmn:Artifact")),di(s))));const a=[...e,...o];var l=Qa.prototype.calculateAdjustments.call(this,a,t,r,n);return l.resizingShapes=l.resizingShapes.filter(function(c){return!(he(c,"bpmn:TextAnnotation")||Ooe(c)&&(t==="y"&&bi(c)||t==="x"&&!bi(c)))}),l};function Ooe(e){return he(e,"bpmn:Participant")&&!ht(e).processRef}const NF={__depends__:[Poe],spaceTool:["type",S2]};function Tn(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Tn.$inject=["eventBus","injector"];Tn.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const r={command:e,context:t};this._pushAction(r),this._internalExecute(r),this._popAction()};Tn.prototype.canExecute=function(e,t){const r={command:e,context:t},n=this._getHandler(e);let i=this._fire(e,"canExecute",r);if(i===void 0){if(!n)return!1;n.canExecute&&(i=n.canExecute(t))}return i};Tn.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,e!==!1&&this._fire("changed",{trigger:"clear"})};Tn.prototype.undo=function(){let e=this._getUndoAction(),t;if(e){for(this._currentExecution.trigger="undo",this._pushAction(e);e&&(this._internalUndo(e),t=this._getUndoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};Tn.prototype.redo=function(){let e=this._getRedoAction(),t;if(e){for(this._currentExecution.trigger="redo",this._pushAction(e);e&&(this._internalExecute(e,!0),t=this._getRedoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};Tn.prototype.register=function(e,t){this._setHandler(e,t)};Tn.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const r=this._injector.instantiate(t);this.register(e,r)};Tn.prototype.canUndo=function(){return!!this._getUndoAction()};Tn.prototype.canRedo=function(){return!!this._getRedoAction()};Tn.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Tn.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Tn.prototype._internalUndo=function(e){const t=e.command,r=e.context,n=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),n.revert&&this._markDirty(n.revert(r)),this._revertedAction(e),this._fire(t,"reverted",e)})};Tn.prototype._fire=function(e,t,r){arguments.length<3&&(r=t,t=null);const n=t?[e+"."+t,t]:[e];let i;r=this._eventBus.createEvent(r);for(const s of n)if(i=this._eventBus.fire("commandStack."+s,r),r.cancelBubble)break;return i};Tn.prototype._createId=function(){return this._uid++};Tn.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}};Tn.prototype._internalExecute=function(e,t){const r=e.command,n=e.context,i=this._getHandler(r);if(!i)throw new Error("no command handler registered for <"+r+">");this._pushAction(e),t||(this._fire(r,"preExecute",e),i.preExecute&&i.preExecute(n),this._fire(r,"preExecuted",e)),this._atomicDo(()=>{this._fire(r,"execute",e),i.execute&&this._markDirty(i.execute(n)),this._executedAction(e,t),this._fire(r,"executed",e)}),t||(this._fire(r,"postExecute",e),i.postExecute&&i.postExecute(n),this._fire(r,"postExecuted",e)),this._popAction()};Tn.prototype._pushAction=function(e){const t=this._currentExecution,r=t.actions,n=r[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=n&&n.id||this._createId()),r.push(e)};Tn.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,r=e.actions,n=e.dirty;r.pop(),r.length||(this._eventBus.fire("elements.changed",{elements:pL("id",n.reverse())}),n.length=0,this._fire("changed",{trigger:t}),e.trigger=null)};Tn.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=Qt(e)?e:[e],t.dirty=t.dirty.concat(e))};Tn.prototype._executedAction=function(e,t){const r=++this._stackIdx;t||this._stack.splice(r,this._stack.length,e)};Tn.prototype._revertedAction=function(e){this._stackIdx--};Tn.prototype._getHandler=function(e){return this._handlerMap[e]};Tn.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};const Ioe={commandStack:["type",Tn]};function yu(e,t){if(typeof t!="function")throw new Error("removeFn iterator must be a function");if(e){for(var r;r=e[0];)t(r);return e}}var Moe=250,S9=1400;function YS(e,t,r){at.call(this,t);var n=e.get("movePreview",!1);t.on("shape.move.start",S9,function(i){var s=i.context,o=s.shapes,a=s.validatedShapes;s.shapes=E9(o),s.validatedShapes=E9(a)}),n&&t.on("shape.move.start",Moe,function(i){var s=i.context,o=s.shapes,a=[];Ce(o,function(l){Ce(l.labels,function(c){!c.hidden&&s.shapes.indexOf(c)===-1&&a.push(c),l.labelTarget&&a.push(l)})}),Ce(a,function(l){n.makeDraggable(s,l,!0)})}),this.preExecuted("elements.move",S9,function(i){var s=i.context,o=s.closure,a=o.enclosedElements,l=[];Ce(a,function(c){Ce(c.labels,function(u){a[u.id]||l.push(u)})}),o.addAll(l)}),this.preExecute(["connection.delete","shape.delete"],function(i){var s=i.context,o=s.connection||s.shape;yu(o.labels,function(a){r.removeShape(a,{nested:!0})})}),this.execute("shape.delete",function(i){var s=i.context,o=s.shape,a=o.labelTarget;a&&(s.labelTargetIndex=T8(a.labels,o),s.labelTarget=a,o.labelTarget=null)}),this.revert("shape.delete",function(i){var s=i.context,o=s.shape,a=s.labelTarget,l=s.labelTargetIndex;a&&(hi(a.labels,o,l),o.labelTarget=a)})}At(YS,at);YS.$inject=["injector","eventBus","modeling"];function E9(e){return mr(e,function(t){return e.indexOf(t.labelTarget)===-1})}const Loe={__init__:["labelSupport"],labelSupport:["type",YS]};var Doe=251,k9=1401,N9="attach-ok";function JS(e,t,r,n,i){at.call(this,t);var s=e.get("movePreview",!1);t.on("shape.move.start",k9,function(o){var a=o.context,l=a.shapes,c=a.validatedShapes;a.shapes=Boe(l),a.validatedShapes=Foe(c)}),s&&t.on("shape.move.start",Doe,function(o){var a=o.context,l=a.shapes,c=X4(l);Ce(c,function(u){s.makeDraggable(a,u,!0),Ce(u.labels,function(h){s.makeDraggable(a,h,!0)})})}),s&&t.on("shape.move.start",function(o){var a=o.context,l=a.shapes;if(l.length===1){var c=l[0],u=c.host;u&&(r.addMarker(u,N9),t.once(["shape.move.out","shape.move.cleanup"],function(){r.removeMarker(u,N9)}))}}),this.preExecuted("elements.move",k9,function(o){var a=o.context,l=a.closure,c=a.shapes,u=X4(c);Ce(u,function(h){l.add(h,l.topLevel[h.host.id])})}),this.postExecuted("elements.move",function(o){var a=o.context,l=a.shapes,c=a.newHost,u;c&&l.length!==1||(c?u=l:u=mr(l,function(h){var f=h.host;return zoe(h)&&!Uoe(l,f)}),Ce(u,function(h){i.updateAttachment(h,c)}))}),this.postExecuted("elements.move",function(o){var a=o.context.shapes;Ce(a,function(l){Ce(l.attachers,function(c){Ce(c.outgoing.slice(),function(u){var h=n.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});h||i.removeConnection(u)}),Ce(c.incoming.slice(),function(u){var h=n.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});h||i.removeConnection(u)})})})}),this.postExecute("shape.create",function(o){var a=o.context,l=a.shape,c=a.host;c&&i.updateAttachment(l,c)}),this.postExecute("shape.replace",function(o){var a=o.context,l=a.oldShape,c=a.newShape;yu(l.attachers,function(u){var h=n.allowed("elements.move",{target:c,shapes:[u]});h==="attach"?i.updateAttachment(u,c):i.removeShape(u)}),c.attachers.length&&Ce(c.attachers,function(u){var h=t9(u,l,c);i.moveShape(u,h,u.parent)})}),this.postExecute("shape.resize",function(o){var a=o.context,l=a.shape,c=a.oldBounds,u=a.newBounds,h=l.attachers,f=a.hints||{};f.attachSupport!==!1&&Ce(h,function(d){var p=t9(d,c,u);i.moveShape(d,p,d.parent),Ce(d.labels,function(g){i.moveShape(g,p,g.parent)})})}),this.preExecute("shape.delete",function(o){var a=o.context.shape;yu(a.attachers,function(l){i.removeShape(l)}),a.host&&i.updateAttachment(a,null)})}At(JS,at);JS.$inject=["injector","eventBus","canvas","rules","modeling"];function X4(e){return k8(ns(e,function(t){return t.attachers||[]}))}function Boe(e){var t=X4(e);return RJ("id",e,t)}function Foe(e){var t=fp(e,"id");return mr(e,function(r){for(;r;){if(r.host&&t[r.host.id])return!1;r=r.parent}return!0})}function zoe(e){return!!e.host}function Uoe(e,t){return e.indexOf(t)!==-1}const $oe={__depends__:[ml],__init__:["attachSupport"],attachSupport:["type",JS]};function eo(e){this._model=e}eo.$inject=["moddle"];eo.prototype._needsId=function(e){return gr(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])};eo.prototype._ensureId=function(e){if(e.id){this._model.ids.claim(e.id,e);return}var t;he(e,"bpmn:Activity")?t="Activity":he(e,"bpmn:Event")?t="Event":he(e,"bpmn:Gateway")?t="Gateway":gr(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?t="Flow":t=(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))};eo.prototype.create=function(e,t){var r=this._model.create(e,t||{});return this._ensureId(r),r};eo.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})};eo.prototype.createDiShape=function(e,t){return this.create("bpmndi:BPMNShape",Ie({bpmnElement:e,bounds:this.createDiBounds()},t))};eo.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)};eo.prototype.createDiWaypoints=function(e){var t=this;return ns(e,function(r){return t.createDiWaypoint(r)})};eo.prototype.createDiWaypoint=function(e){return this.create("dc:Point",Eo(e,["x","y"]))};eo.prototype.createDiEdge=function(e,t){return this.create("bpmndi:BPMNEdge",Ie({bpmnElement:e,waypoint:this.createDiWaypoints([])},t))};eo.prototype.createDiPlane=function(e,t){return this.create("bpmndi:BPMNPlane",Ie({bpmnElement:e},t))};function ra(e,t,r){at.call(this,e),this._bpmnFactory=t;var n=this;function i(d){var p=d.context,g=p.hints||{},m;!p.cropped&&g.createElementsBehavior!==!1&&(m=p.connection,m.waypoints=r.getCroppedWaypoints(m),p.cropped=!0)}this.executed(["connection.layout","connection.create"],i),this.reverted(["connection.layout"],function(d){delete d.context.cropped});function s(d){var p=d.context;n.updateParent(p.shape||p.connection,p.oldParent)}function o(d){var p=d.context,g=p.shape||p.connection,m=p.parent||p.newParent;n.updateParent(g,m)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Us(s)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Us(o));function a(d){var p=d.context,g=p.oldRoot,m=g.children;Ce(m,function(v){he(v,"bpmn:BaseElement")&&n.updateParent(v)})}this.executed(["canvas.updateRoot"],a),this.reverted(["canvas.updateRoot"],a);function l(d){var p=d.context.shape;he(p,"bpmn:BaseElement")&&n.updateBounds(p)}this.executed(["shape.move","shape.create","shape.resize"],Us(function(d){d.context.shape.type!=="label"&&l(d)})),this.reverted(["shape.move","shape.create","shape.resize"],Us(function(d){d.context.shape.type!=="label"&&l(d)})),e.on("shape.changed",function(d){d.element.type==="label"&&l({context:{shape:d.element}})});function c(d){n.updateConnection(d.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Us(c)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Us(c));function u(d){n.updateConnectionWaypoints(d.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Us(u)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Us(u)),this.executed("connection.reconnect",Us(function(d){var p=d.context,g=p.connection,m=p.oldSource,v=p.newSource,y=ht(g),b=ht(m),x=ht(v);y.conditionExpression&&!gr(x,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(p.oldConditionExpression=y.conditionExpression,delete y.conditionExpression),m!==v&&b.default===y&&(p.oldDefault=b.default,delete b.default)})),this.reverted("connection.reconnect",Us(function(d){var p=d.context,g=p.connection,m=p.oldSource,v=p.newSource,y=ht(g),b=ht(m),x=ht(v);p.oldConditionExpression&&(y.conditionExpression=p.oldConditionExpression),p.oldDefault&&(b.default=p.oldDefault,delete x.default)}));function h(d){n.updateAttachment(d.context)}this.executed(["element.updateAttachment"],Us(h)),this.reverted(["element.updateAttachment"],Us(h)),this.executed("element.updateLabel",Us(f)),this.reverted("element.updateLabel",Us(f));function f(d){const{element:p}=d.context,g=ko(p),m=Or(p),v=m&&m.get("label");nh(p)||ey(p)||(g&&!v?m.set("label",t.create("bpmndi:BPMNLabel")):!g&&v&&m.set("label",void 0))}}At(ra,at);ra.$inject=["eventBus","bpmnFactory","connectionDocking"];ra.prototype.updateAttachment=function(e){var t=e.shape,r=t.businessObject,n=t.host;r.attachedToRef=n&&n.businessObject};ra.prototype.updateParent=function(e,t){if(!Ir(e)&&!(he(e,"bpmn:DataStoreReference")&&e.parent&&he(e.parent,"bpmn:Collaboration"))){var r=e.parent,n=e.businessObject,i=Or(e),s=r&&r.businessObject,o=Or(r);he(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(n,s,t&&t.businessObject),he(e,"bpmn:DataOutputAssociation")&&(e.source?s=e.source.businessObject:s=null),he(e,"bpmn:DataInputAssociation")&&(e.target?s=e.target.businessObject:s=null),this.updateSemanticParent(n,s),he(e,"bpmn:DataObjectReference")&&n.dataObjectRef&&this.updateSemanticParent(n.dataObjectRef,s),this.updateDiParent(i,o)}};ra.prototype.updateBounds=function(e){var t=Or(e),r=Woe(e);if(r){var n=wo(r,t.get("bounds"));Ie(r,{x:e.x+n.x,y:e.y+n.y})}var i=Ir(e)?this._getLabel(t):t,s=i.bounds;s||(s=this._bpmnFactory.createDiBounds(),i.set("bounds",s)),Ie(s,{x:e.x,y:e.y,width:e.width,height:e.height})};ra.prototype.updateFlowNodeRefs=function(e,t,r){if(r!==t){var n,i;he(r,"bpmn:Lane")&&(n=r.get("flowNodeRef"),Zn(n,e)),he(t,"bpmn:Lane")&&(i=t.get("flowNodeRef"),hi(i,e))}};ra.prototype.updateDiConnection=function(e,t,r){var n=Or(e),i=Or(t),s=Or(r);n.sourceElement&&n.sourceElement.bpmnElement!==ht(t)&&(n.sourceElement=t&&i),n.targetElement&&n.targetElement.bpmnElement!==ht(r)&&(n.targetElement=r&&s)};ra.prototype.updateDiParent=function(e,t){if(t&&!he(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var r=(t||e.$parent).get("planeElement");t?(r.push(e),e.$parent=t):(Zn(r,e),e.$parent=null)}};function Hoe(e){for(;e&&!he(e,"bpmn:Definitions");)e=e.$parent;return e}ra.prototype.getLaneSet=function(e){var t,r;return he(e,"bpmn:Lane")?(t=e.childLaneSet,t||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(he(e,"bpmn:Participant")&&(e=e.processRef),r=e.get("laneSets"),t=r[0],t||(t=this._bpmnFactory.create("bpmn:LaneSet"),t.$parent=e,r.push(t)),t)};ra.prototype.updateSemanticParent=function(e,t,r){var n;if(e.$parent!==t&&!((he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput"))&&(he(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),"ioSpecification"in t&&t.ioSpecification===e.$parent))){if(he(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),n="lanes";else if(he(e,"bpmn:FlowElement")){if(t){if(he(t,"bpmn:Participant"))t=t.processRef;else if(he(t,"bpmn:Lane"))do t=t.$parent.$parent;while(he(t,"bpmn:Lane"))}n="flowElements"}else if(he(e,"bpmn:Artifact")){for(;t&&!he(t,"bpmn:Process")&&!he(t,"bpmn:SubProcess")&&!he(t,"bpmn:Collaboration");)if(he(t,"bpmn:Participant")){t=t.processRef;break}else t=t.$parent;n="artifacts"}else if(he(e,"bpmn:MessageFlow"))n="messageFlows";else if(he(e,"bpmn:Participant")){n="participants";var i=e.processRef,s;i&&(s=Hoe(e.$parent||t),e.$parent&&(Zn(s.get("rootElements"),i),i.$parent=null),t&&(hi(s.get("rootElements"),i),i.$parent=s))}else he(e,"bpmn:DataOutputAssociation")?n="dataOutputAssociations":he(e,"bpmn:DataInputAssociation")&&(n="dataInputAssociations");if(!n)throw new Error(`no parent for <${e.id}> in <${t.id}>`);var o;if(e.$parent&&(o=e.$parent.get(n),Zn(o,e)),t?(o=t.get(n),o.push(e),e.$parent=t):e.$parent=null,r){var a=r.get(n);Zn(o,e),t&&(a||(a=[],t.set(n,a)),a.push(e))}}};ra.prototype.updateConnectionWaypoints=function(e){var t=Or(e);t.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))};ra.prototype.updateConnection=function(e){var t=e.connection,r=ht(t),n=t.source,i=ht(n),s=t.target,o=ht(t.target),a;if(he(r,"bpmn:DataAssociation"))he(r,"bpmn:DataInputAssociation")?(r.get("sourceRef")[0]=i,a=e.parent||e.newParent||o,this.updateSemanticParent(r,o,a)):he(r,"bpmn:DataOutputAssociation")&&(a=e.parent||e.newParent||i,this.updateSemanticParent(r,i,a),r.targetRef=o);else{var l=he(r,"bpmn:SequenceFlow");r.sourceRef!==i&&(l&&(Zn(r.sourceRef&&r.sourceRef.get("outgoing"),r),i&&i.get("outgoing")&&i.get("outgoing").push(r)),r.sourceRef=i),r.targetRef!==o&&(l&&(Zn(r.targetRef&&r.targetRef.get("incoming"),r),o&&o.get("incoming")&&o.get("incoming").push(r)),r.targetRef=o)}this.updateConnectionWaypoints(t),this.updateDiConnection(t,n,s)};ra.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label};function Us(e){return function(t){var r=t.context,n=r.shape||r.connection||r.element;he(n,"bpmn:BaseElement")&&e(t)}}function Woe(e){if(he(e,"bpmn:Activity")){var t=Or(e);if(t){var r=t.get("label");if(r)return r.get("bounds")}}}function Fu(e,t){lc.call(this),this._bpmnFactory=e,this._moddle=t}At(Fu,lc);Fu.$inject=["bpmnFactory","moddle"];Fu.prototype._baseCreate=lc.prototype.create;Fu.prototype.create=function(e,t){if(e==="label"){var r=t.di||this._bpmnFactory.createDiLabel();return this._baseCreate(e,Ie({type:"label",di:r},W0,t))}return this.createElement(e,t)};Fu.prototype.createElement=function(e,t){t=Ie({},t||{});var r,n=t.businessObject,i=t.di;if(!n){if(!t.type)throw new Error("no shape type specified");n=this._bpmnFactory.create(t.type),oD(n)}if(!Voe(i)){var s=Ie({},i||{},{id:n.id+"_di"});e==="root"?i=this._bpmnFactory.createDiPlane(n,s):e==="connection"?i=this._bpmnFactory.createDiEdge(n,s):i=this._bpmnFactory.createDiShape(n,s)}he(n,"bpmn:Group")&&(t=Ie({isFrame:!0},t)),t=qoe(n,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&(t=Z4(i,t,"isExpanded")),gr(n,["bpmn:Lane","bpmn:Participant"])&&(t=Z4(i,t,"isHorizontal")),he(n,"bpmn:SubProcess")&&(t.collapsed=!Sr(n,i)),he(n,"bpmn:ExclusiveGateway")&&(As(i,"isMarkerVisible")?i.isMarkerVisible===void 0&&(i.isMarkerVisible=!1):i.isMarkerVisible=!0),Pi(t.triggeredByEvent)&&(n.triggeredByEvent=t.triggeredByEvent,delete t.triggeredByEvent),Pi(t.cancelActivity)&&(n.cancelActivity=t.cancelActivity,delete t.cancelActivity);var o,a;return t.eventDefinitionType&&(o=n.get("eventDefinitions")||[],a=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),t.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(a.condition=this._bpmnFactory.create("bpmn:FormalExpression")),o.push(a),a.$parent=n,n.eventDefinitions=o,delete t.eventDefinitionType),r=this.getDefaultSize(n,i),t=Ie({id:n.id},r,t,{businessObject:n,di:i}),this._baseCreate(e,t)};Fu.prototype.getDefaultSize=function(e,t){var r=ht(e);if(t=t||Or(e),he(r,"bpmn:SubProcess"))return Sr(r,t)?{width:350,height:200}:{width:100,height:80};if(he(r,"bpmn:Task"))return{width:100,height:80};if(he(r,"bpmn:Gateway"))return{width:50,height:50};if(he(r,"bpmn:Event"))return{width:36,height:36};if(he(r,"bpmn:Participant")){var n=t.isHorizontal===void 0||t.isHorizontal===!0;return Sr(r,t)?n?{width:600,height:250}:{width:250,height:600}:n?{width:400,height:60}:{width:60,height:400}}return he(r,"bpmn:Lane")?{width:400,height:100}:he(r,"bpmn:DataObjectReference")?{width:36,height:50}:he(r,"bpmn:DataStoreReference")?{width:50,height:50}:he(r,"bpmn:TextAnnotation")?{width:100,height:30}:he(r,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}};Fu.prototype.createParticipantShape=function(e){return Mi(e)||(e={isExpanded:e}),e=Ie({type:"bpmn:Participant"},e||{}),e.isExpanded!==!1&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)};function qoe(e,t,r){return Ce(r,function(n){t=Z4(e,t,n)}),t}function Z4(e,t,r){return t[r]===void 0?t:(e[r]=t[r],hl(t,[r]))}function Voe(e){return gr(e,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}function E2(e,t){this._modeling=e,this._canvas=t}E2.$inject=["modeling","canvas"];E2.prototype.preExecute=function(e){var t=this._modeling,r=e.elements,n=e.alignment;Ce(r,function(i){var s={x:0,y:0};Pi(n.left)?s.x=n.left-i.x:Pi(n.right)?s.x=n.right-i.width-i.x:Pi(n.center)?s.x=n.center-Math.round(i.width/2)-i.x:Pi(n.top)?s.y=n.top-i.y:Pi(n.bottom)?s.y=n.bottom-i.height-i.y:Pi(n.middle)&&(s.y=n.middle-Math.round(i.height/2)-i.y),t.moveElements([i],s,i.parent)})};E2.prototype.postExecute=function(e){};function k2(e){this._modeling=e}k2.$inject=["modeling"];k2.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var r=e.target||t.parent,n=e.shape,i=e.hints||{};n=e.shape=this._modeling.createShape(n,e.position,r,{attach:i.attach}),e.shape=n};k2.prototype.postExecute=function(e){var t=e.hints||{};Goe(e.source,e.shape)||(t.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))};function Goe(e,t){return ju(e.outgoing,function(r){return r.target===t})}function N2(e,t){this._canvas=e,this._layouter=t}N2.$inject=["canvas","layouter"];N2.prototype.execute=function(e){var t=e.connection,r=e.source,n=e.target,i=e.parent,s=e.parentIndex,o=e.hints;if(!r||!n)throw new Error("source and target required");if(!i)throw new Error("parent required");return t.source=r,t.target=n,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,o)),this._canvas.addConnection(t,i,s),t};N2.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var gv=Math.round;function QS(e){this._modeling=e}QS.$inject=["modeling"];QS.prototype.preExecute=function(e){var t=e.elements,r=e.parent,n=e.parentIndex,i=e.position,s=e.hints,o=this._modeling;Ce(t,function(h){Yt(h.x)||(h.x=0),Yt(h.y)||(h.y=0)});var a=mr(t,function(h){return!h.hidden}),l=di(a);Ce(t,function(h){Qr(h)&&(h.waypoints=ns(h.waypoints,function(f){return{x:gv(f.x-l.x-l.width/2+i.x),y:gv(f.y-l.y-l.height/2+i.y)}})),Ie(h,{x:gv(h.x-l.x-l.width/2+i.x),y:gv(h.y-l.y-l.height/2+i.y)})});var c=qb(t),u={};Ce(t,function(h){if(Qr(h)){u[h.id]=Yt(n)?o.createConnection(u[h.source.id],u[h.target.id],n,h,h.parent||r,s):o.createConnection(u[h.source.id],u[h.target.id],h,h.parent||r,s);return}var f=Ie({},s);c.indexOf(h)===-1&&(f.autoResize=!1),Ir(h)&&(f=hl(f,["attach"])),u[h.id]=Yt(n)?o.createShape(h,Eo(h,["x","y","width","height"]),h.parent||r,n,f):o.createShape(h,Eo(h,["x","y","width","height"]),h.parent||r,f)}),e.elements=zb(u)};var A9=Math.round;function zu(e){this._canvas=e}zu.$inject=["canvas"];zu.prototype.execute=function(e){var t=e.shape,r=e.position,n=e.parent,i=e.parentIndex;if(!n)throw new Error("parent required");if(!r)throw new Error("position required");return r.width!==void 0?Ie(t,r):Ie(t,{x:r.x-A9(t.width/2),y:r.y-A9(t.height/2)}),this._canvas.addShape(t,n,i),t};zu.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t};function kg(e){zu.call(this,e)}At(kg,zu);kg.$inject=["canvas"];var Koe=zu.prototype.execute;kg.prototype.execute=function(e){var t=e.shape;return Zoe(t),t.labelTarget=e.labelTarget,Koe.call(this,e)};var Xoe=zu.prototype.revert;kg.prototype.revert=function(e){return e.shape.labelTarget=null,Xoe.call(this,e)};function Zoe(e){["width","height"].forEach(function(t){typeof e[t]>"u"&&(e[t]=0)})}function Ng(e,t){this._canvas=e,this._modeling=t}Ng.$inject=["canvas","modeling"];Ng.prototype.preExecute=function(e){var t=this._modeling,r=e.connection;yu(r.incoming,function(n){t.removeConnection(n,{nested:!0})}),yu(r.outgoing,function(n){t.removeConnection(n,{nested:!0})})};Ng.prototype.execute=function(e){var t=e.connection,r=t.parent;return e.parent=r,e.parentIndex=T8(r.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t};Ng.prototype.revert=function(e){var t=e.connection,r=e.parent,n=e.parentIndex;return t.source=e.source,t.target=e.target,hi(r.children,t,n),this._canvas.addConnection(t,r),t};function eE(e,t){this._modeling=e,this._elementRegistry=t}eE.$inject=["modeling","elementRegistry"];eE.prototype.postExecute=function(e){var t=this._modeling,r=this._elementRegistry,n=e.elements;Ce(n,function(i){r.get(i.id)&&(i.waypoints?t.removeConnection(i):t.removeShape(i))})};function Ag(e,t){this._canvas=e,this._modeling=t}Ag.$inject=["canvas","modeling"];Ag.prototype.preExecute=function(e){var t=this._modeling,r=e.shape;yu(r.incoming,function(n){t.removeConnection(n,{nested:!0})}),yu(r.outgoing,function(n){t.removeConnection(n,{nested:!0})}),yu(r.children,function(n){Qr(n)?t.removeConnection(n,{nested:!0}):t.removeShape(n,{nested:!0})})};Ag.prototype.execute=function(e){var t=this._canvas,r=e.shape,n=r.parent;return e.oldParent=n,e.oldParentIndex=T8(n.children,r),t.removeShape(r),r};Ag.prototype.revert=function(e){var t=this._canvas,r=e.shape,n=e.oldParent,i=e.oldParentIndex;return hi(n.children,r,i),t.addShape(r,n),r};function A2(e){this._modeling=e}A2.$inject=["modeling"];var C9={x:"y",y:"x"};A2.prototype.preExecute=function(e){var t=this._modeling,r=e.groups,n=e.axis,i=e.dimension;function s(m,v){m.range.min=Math.min(v[n],m.range.min),m.range.max=Math.max(v[n]+v[i],m.range.max)}function o(m){return m[n]+m[i]/2}function a(m){return m.length-1}function l(m){return m.max-m.min}function c(m,v){var y={y:0};y[n]=m-o(v),y[n]&&(y[C9[n]]=0,t.moveElements([v],y,v.parent))}var u=r[0],h=a(r),f=r[h],d,p,g=0;Ce(r,function(m,v){var y,b,x;if(m.elements.length<2){v&&v!==r.length-1&&(s(m,m.elements[0]),g+=l(m.range));return}y=ll(m.elements,n),b=y[0],v===h&&(b=y[a(y)]),x=o(b),m.range=null,Ce(y,function(_){if(c(x,_),m.range===null){m.range={min:_[n],max:_[n]+_[i]};return}s(m,_)}),v&&v!==r.length-1&&(g+=l(m.range))}),p=Math.abs(f.range.min-u.range.max),d=Math.round((p-g)/(r.length-1)),!(d<r.length-1)&&Ce(r,function(m,v){var y={},b;m===u||m===f||(b=r[v-1],m.range.max=0,Ce(m.elements,function(x,_){y[C9[n]]=0,y[n]=b.range.max-x[n]+d,m.range.min!==x[n]&&(y[n]+=x[n]-m.range.min),y[n]&&t.moveElements([x],y,x.parent),m.range.max=Math.max(x[n]+x[i],_?m.range.max:0)}))})};A2.prototype.postExecute=function(e){};function C2(e,t){this._layouter=e,this._canvas=t}C2.$inject=["layouter","canvas"];C2.prototype.execute=function(e){var t=e.connection,r=t.waypoints;return Ie(e,{oldWaypoints:r}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t};C2.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t};function tE(){}tE.prototype.execute=function(e){var t=e.connection,r=e.delta,n=e.newParent||t.parent,i=e.newParentIndex,s=t.parent;return e.oldParent=s,e.oldParentIndex=Zn(s.children,t),hi(n.children,t,i),t.parent=n,Ce(t.waypoints,function(o){o.x+=r.x,o.y+=r.y,o.original&&(o.original.x+=r.x,o.original.y+=r.y)}),t};tE.prototype.revert=function(e){var t=e.connection,r=t.parent,n=e.oldParent,i=e.oldParentIndex,s=e.delta;return Zn(r.children,t),hi(n.children,t,i),t.parent=n,Ce(t.waypoints,function(o){o.x-=s.x,o.y-=s.y,o.original&&(o.original.x-=s.x,o.original.y-=s.y)}),t};function rE(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}rE.prototype.add=function(e,t){return this.addAll([e],t)};rE.prototype.addAll=function(e,t){var r=xQ(e,!!t,this);return Ie(this,r),this};function Cg(e){this._modeling=e}Cg.prototype.moveRecursive=function(e,t,r){return e?this.moveClosure(this.getClosure(e),t,r):[]};Cg.prototype.moveClosure=function(e,t,r,n,i){var s=this._modeling,o=e.allShapes,a=e.allConnections,l=e.enclosedConnections,c=e.topLevel,u=!1;i&&i.parent===r&&(u=!0),Ce(o,function(h){s.moveShape(h,t,c[h.id]&&!u&&r,{recurse:!1,layout:!1})}),Ce(a,function(h){var f=!!o[h.source.id],d=!!o[h.target.id];l[h.id]&&f&&d?s.moveConnection(h,t,c[h.id]&&!u&&r):s.layoutConnection(h,{connectionStart:f&&NS(h,h.source,t),connectionEnd:d&&AS(h,h.target,t)})})};Cg.prototype.getClosure=function(e){return new rE().addAll(e,!0)};function j2(e){this._helper=new Cg(e)}j2.$inject=["modeling"];j2.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)};j2.prototype.postExecute=function(e){var t=e.hints,r;t&&t.primaryShape&&(r=t.primaryShape,t.oldParent=r.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,r)};function vh(e){this._modeling=e,this._helper=new Cg(e)}vh.$inject=["modeling"];vh.prototype.execute=function(e){var t=e.shape,r=e.delta,n=e.newParent||t.parent,i=e.newParentIndex,s=t.parent;return e.oldBounds=Eo(t,["x","y","width","height"]),e.oldParent=s,e.oldParentIndex=Zn(s.children,t),hi(n.children,t,i),Ie(t,{parent:n,x:t.x+r.x,y:t.y+r.y}),t};vh.prototype.postExecute=function(e){var t=e.shape,r=e.delta,n=e.hints,i=this._modeling;n.layout!==!1&&(Ce(t.incoming,function(s){i.layoutConnection(s,{connectionEnd:AS(s,t,r)})}),Ce(t.outgoing,function(s){i.layoutConnection(s,{connectionStart:NS(s,t,r)})})),n.recurse!==!1&&this.moveChildren(e)};vh.prototype.revert=function(e){var t=e.shape,r=e.oldParent,n=e.oldParentIndex,i=e.delta;return hi(r.children,t,n),Ie(t,{parent:r,x:t.x-i.x,y:t.y-i.y}),t};vh.prototype.moveChildren=function(e){var t=e.delta,r=e.shape;this._helper.moveRecursive(r.children,t,null)};vh.prototype.getNewParent=function(e){return e.newParent||e.shape.parent};function jg(e){this._modeling=e}jg.$inject=["modeling"];jg.prototype.execute=function(e){var t=e.newSource,r=e.newTarget,n=e.connection,i=e.dockingOrPoints;if(!t&&!r)throw new Error("newSource or newTarget required");return Qt(i)&&(e.oldWaypoints=n.waypoints,n.waypoints=i),t&&(e.oldSource=n.source,n.source=t),r&&(e.oldTarget=n.target,n.target=r),n};jg.prototype.postExecute=function(e){var t=e.connection,r=e.newSource,n=e.newTarget,i=e.dockingOrPoints,s=e.hints||{},o={};s.connectionStart&&(o.connectionStart=s.connectionStart),s.connectionEnd&&(o.connectionEnd=s.connectionEnd),s.layoutConnection!==!1&&(r&&(!n||s.docking==="source")&&(o.connectionStart=o.connectionStart||j9(Qt(i)?i[0]:i)),n&&(!r||s.docking==="target")&&(o.connectionEnd=o.connectionEnd||j9(Qt(i)?i[i.length-1]:i)),s.newWaypoints&&(o.waypoints=s.newWaypoints),this._modeling.layoutConnection(t,o))};jg.prototype.revert=function(e){var t=e.oldSource,r=e.oldTarget,n=e.oldWaypoints,i=e.connection;return t&&(i.source=t),r&&(i.target=r),n&&(i.waypoints=n),i};function j9(e){return e.original||e}function pc(e,t){this._modeling=e,this._rules=t}pc.$inject=["modeling","rules"];pc.prototype.preExecute=function(e){var t=this,r=this._modeling,n=this._rules,i=e.oldShape,s=e.newData,o=e.hints||{},a;function l(p,g,m){return n.allowed("connection.reconnect",{connection:m,source:p,target:g})}var c={x:s.x,y:s.y},u={x:i.x,y:i.y,width:i.width,height:i.height};a=e.newShape=e.newShape||t.createShape(s,c,i.parent,o),i.host&&r.updateAttachment(a,i.host);var h;o.moveChildren!==!1&&(h=i.children.slice(),r.moveElements(h,{x:0,y:0},a,o));var f=i.incoming.slice(),d=i.outgoing.slice();Ce(f,function(p){var g=p.source,m=l(g,a,p);m&&t.reconnectEnd(p,a,g2(p,a,u),o)}),Ce(d,function(p){var g=p.target,m=l(a,g,p);m&&t.reconnectStart(p,a,m2(p,a,u),o)})};pc.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)};pc.prototype.execute=function(e){};pc.prototype.revert=function(e){};pc.prototype.createShape=function(e,t,r,n){return this._modeling.createShape(e,t,r,n)};pc.prototype.reconnectStart=function(e,t,r,n){this._modeling.reconnectStart(e,t,r,n)};pc.prototype.reconnectEnd=function(e,t,r,n){this._modeling.reconnectEnd(e,t,r,n)};function Tg(e){this._modeling=e}Tg.$inject=["modeling"];Tg.prototype.execute=function(e){var t=e.shape,r=e.newBounds,n=e.minBounds;if(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(n&&(r.width<n.width||r.height<n.height))throw new Error("width and height cannot be less than minimum height and width");if(!n&&r.width<10||r.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},Ie(t,{width:r.width,height:r.height,x:r.x,y:r.y}),t};Tg.prototype.postExecute=function(e){var t=this._modeling,r=e.shape,n=e.oldBounds,i=e.hints||{};i.layout!==!1&&(Ce(r.incoming,function(s){t.layoutConnection(s,{connectionEnd:g2(s,r,n)})}),Ce(r.outgoing,function(s){t.layoutConnection(s,{connectionStart:m2(s,r,n)})}))};Tg.prototype.revert=function(e){var t=e.shape,r=e.oldBounds;return Ie(t,{width:r.width,height:r.height,x:r.x,y:r.y}),t};function Uu(e){this._modeling=e}Uu.$inject=["modeling"];Uu.prototype.preExecute=function(e){var t=e.delta,r=e.direction,n=e.movingShapes,i=e.resizingShapes,s=e.start,o={};this.moveShapes(n,t),Ce(i,function(a){o[a.id]=Joe(a)}),this.resizeShapes(i,t,r),this.updateConnectionWaypoints(koe(n,i),t,r,s,n,i,o)};Uu.prototype.execute=function(){};Uu.prototype.revert=function(){};Uu.prototype.moveShapes=function(e,t){var r=this;Ce(e,function(n){r._modeling.moveShape(n,t,null,{autoResize:!1,layout:!1,recurse:!1})})};Uu.prototype.resizeShapes=function(e,t,r){var n=this;Ce(e,function(i){var s=Noe(i,r,t);n._modeling.resizeShape(i,s,null,{attachSupport:!1,autoResize:!1,layout:!1})})};Uu.prototype.updateConnectionWaypoints=function(e,t,r,n,i,s,o){var a=this,l=i.concat(s);Ce(e,function(c){var u=c.source,h=c.target,f=Yoe(c),d=AF(r),p={};Hc(l,u)&&Hc(l,h)?(f=ns(f,function(g){return R9(g,n,r)&&(g[d]=g[d]+t[d]),g.original&&R9(g.original,n,r)&&(g.original[d]=g.original[d]+t[d]),g}),a._modeling.updateWaypoints(c,f,{labelBehavior:!1})):(Hc(l,u)||Hc(l,h))&&(Hc(i,u)?p.connectionStart=NS(c,u,t):Hc(i,h)?p.connectionEnd=AS(c,h,t):Hc(s,u)?p.connectionStart=m2(c,u,o[u.id]):Hc(s,h)&&(p.connectionEnd=g2(c,h,o[h.id])),a._modeling.layoutConnection(c,p))})};function T9(e){return Ie({},e)}function Yoe(e){return ns(e.waypoints,function(t){return t=T9(t),t.original&&(t.original=T9(t.original)),t})}function AF(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function R9(e,t,r){var n=AF(r);if(/e|s/.test(r))return e[n]>t;if(/n|w/.test(r))return e[n]<t}function Hc(e,t){return e.indexOf(t)!==-1}function Joe(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}function T2(e){this._modeling=e}T2.$inject=["modeling"];T2.prototype.execute=function(e){var t=e.shape,r=t.children;e.oldChildrenVisibility=CF(r),t.collapsed=!t.collapsed;var n=jF(r,t.collapsed);return[t].concat(n)};T2.prototype.revert=function(e){var t=e.shape,r=e.oldChildrenVisibility,n=t.children,i=TF(n,r);return t.collapsed=!t.collapsed,[t].concat(i)};function CF(e){var t={};return Ce(e,function(r){t[r.id]=r.hidden,r.children&&(t=Ie({},t,CF(r.children)))}),t}function jF(e,t){var r=[];return Ce(e,function(n){n.hidden=t,r=r.concat(n),n.children&&(r=r.concat(jF(n.children,n.collapsed||t)))}),r}function TF(e,t){var r=[];return Ce(e,function(n){n.hidden=t[n.id],r=r.concat(n),n.children&&(r=r.concat(TF(n.children,t)))}),r}function R2(e){this._modeling=e}R2.$inject=["modeling"];R2.prototype.execute=function(e){var t=e.shape,r=e.newHost,n=t.host;return e.oldHost=n,e.attacherIdx=RF(n,t),PF(r,t),t.host=r,t};R2.prototype.revert=function(e){var t=e.shape,r=e.newHost,n=e.oldHost,i=e.attacherIdx;return t.host=n,RF(r,t),PF(n,t,i),t};function RF(e,t){return Zn(e&&e.attachers,t)}function PF(e,t,r){if(e){var n=e.attachers;n||(e.attachers=n=[]),hi(n,t,r)}}function nE(){}nE.prototype.execute=function(e){var t=e.connection,r=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=r,t};nE.prototype.revert=function(e){var t=e.connection,r=e.oldWaypoints;return t.waypoints=r,t};function en(e,t,r){this._eventBus=e,this._elementFactory=t,this._commandStack=r;var n=this;e.on("diagram.init",function(){n.registerHandlers(r)})}en.$inject=["eventBus","elementFactory","commandStack"];en.prototype.getHandlers=function(){return{"shape.append":k2,"shape.create":zu,"shape.delete":Ag,"shape.move":vh,"shape.resize":Tg,"shape.replace":pc,"shape.toggleCollapse":T2,spaceTool:Uu,"label.create":kg,"connection.create":N2,"connection.delete":Ng,"connection.move":tE,"connection.layout":C2,"connection.updateWaypoints":nE,"connection.reconnect":jg,"elements.create":QS,"elements.move":j2,"elements.delete":eE,"elements.distribute":A2,"elements.align":E2,"element.updateAttachment":R2}};en.prototype.registerHandlers=function(e){Ce(this.getHandlers(),function(t,r){e.registerHandler(r,t)})};en.prototype.moveShape=function(e,t,r,n,i){typeof n=="object"&&(i=n,n=null);var s={shape:e,delta:t,newParent:r,newParentIndex:n,hints:i||{}};this._commandStack.execute("shape.move",s)};en.prototype.updateAttachment=function(e,t){var r={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",r)};en.prototype.moveElements=function(e,t,r,n){n=n||{};var i=n.attach,s=r,o;i===!0?(o=r,s=r.parent):i===!1&&(o=null);var a={shapes:e,delta:t,newParent:s,newHost:o,hints:n};this._commandStack.execute("elements.move",a)};en.prototype.moveConnection=function(e,t,r,n,i){typeof n=="object"&&(i=n,n=void 0);var s={connection:e,delta:t,newParent:r,newParentIndex:n,hints:i||{}};this._commandStack.execute("connection.move",s)};en.prototype.layoutConnection=function(e,t){var r={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",r)};en.prototype.createConnection=function(e,t,r,n,i,s){typeof r=="object"&&(s=i,i=n,n=r,r=void 0),n=this._create("connection",n);var o={source:e,target:t,parent:i,parentIndex:r,connection:n,hints:s};return this._commandStack.execute("connection.create",o),o.connection};en.prototype.createShape=function(e,t,r,n,i){typeof n!="number"&&(i=n,n=void 0),i=i||{};var s=i.attach,o,a;e=this._create("shape",e),s?(o=r.parent,a=r):o=r;var l={position:t,shape:e,parent:o,parentIndex:n,host:a,hints:i};return this._commandStack.execute("shape.create",l),l.shape};en.prototype.createElements=function(e,t,r,n,i){Qt(e)||(e=[e]),typeof n!="number"&&(i=n,n=void 0),i=i||{};var s={position:t,elements:e,parent:r,parentIndex:n,hints:i};return this._commandStack.execute("elements.create",s),s.elements};en.prototype.createLabel=function(e,t,r,n){r=this._create("label",r);var i={labelTarget:e,position:t,parent:n||e.parent,shape:r};return this._commandStack.execute("label.create",i),i.shape};en.prototype.appendShape=function(e,t,r,n,i){i=i||{},t=this._create("shape",t);var s={source:e,position:r,target:n,shape:t,connection:i.connection,connectionParent:i.connectionParent,hints:i};return this._commandStack.execute("shape.append",s),s.shape};en.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)};en.prototype.distributeElements=function(e,t,r){var n={groups:e,axis:t,dimension:r};this._commandStack.execute("elements.distribute",n)};en.prototype.removeShape=function(e,t){var r={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",r)};en.prototype.removeConnection=function(e,t){var r={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",r)};en.prototype.replaceShape=function(e,t,r){var n={oldShape:e,newData:t,hints:r||{}};return this._commandStack.execute("shape.replace",n),n.newShape};en.prototype.alignElements=function(e,t){var r={elements:e,alignment:t};this._commandStack.execute("elements.align",r)};en.prototype.resizeShape=function(e,t,r,n){var i={shape:e,newBounds:t,minBounds:r,hints:n};this._commandStack.execute("shape.resize",i)};en.prototype.createSpace=function(e,t,r,n,i){var s={delta:r,direction:n,movingShapes:e,resizingShapes:t,start:i};this._commandStack.execute("spaceTool",s)};en.prototype.updateWaypoints=function(e,t,r){var n={connection:e,newWaypoints:t,hints:r||{}};this._commandStack.execute("connection.updateWaypoints",n)};en.prototype.reconnect=function(e,t,r,n,i){var s={connection:e,newSource:t,newTarget:r,dockingOrPoints:n,hints:i||{}};this._commandStack.execute("connection.reconnect",s)};en.prototype.reconnectStart=function(e,t,r,n){n||(n={}),this.reconnect(e,t,e.target,r,Ie(n,{docking:"source"}))};en.prototype.reconnectEnd=function(e,t,r,n){n||(n={}),this.reconnect(e,e.source,t,r,Ie(n,{docking:"target"}))};en.prototype.connect=function(e,t,r,n){return this.createConnection(e,t,r||{},e.parent,n)};en.prototype._create=function(e,t){return eee(t)?t:this._elementFactory.create(e,t)};en.prototype.toggleCollapse=function(e,t){var r={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",r)};function Rg(e){this._elementRegistry=e}Rg.$inject=["elementRegistry"];Rg.prototype.execute=function(e){var t=e.element,r=e.moddleElement,n=e.properties;if(!r)throw new Error("<moddleElement> required");var i=e.changed||this._getVisualReferences(r).concat(t),s=e.oldProperties||Qoe(r,qy(n));return OF(r,n),e.oldProperties=s,e.changed=i,i};Rg.prototype.revert=function(e){var t=e.oldProperties,r=e.moddleElement,n=e.changed;return OF(r,t),n};Rg.prototype._getVisualReferences=function(e){var t=this._elementRegistry;return he(e,"bpmn:DataObject")?ele(e,t):[]};function Qoe(e,t){return Js(t,function(r,n){return r[n]=e.get(n),r},{})}function OF(e,t){Ce(t,function(r,n){e.set(n,r)})}function ele(e,t){return t.filter(function(r){return he(r,"bpmn:DataObjectReference")&&ht(r).dataObjectRef===e})}var wm="default",Ql="id",IF="di",tle={width:0,height:0};function Pg(e,t,r,n){this._elementRegistry=e,this._moddle=t,this._modeling=r,this._textRenderer=n}Pg.$inject=["elementRegistry","moddle","modeling","textRenderer"];Pg.prototype.execute=function(e){var t=e.element,r=[t];if(!t)throw new Error("element required");var n=this._elementRegistry,i=this._moddle.ids,s=t.businessObject,o=ale(e.properties),a=e.oldProperties||rle(t,o);return MF(o,s)&&(i.unclaim(s[Ql]),n.updateId(t,o[Ql]),i.claim(o[Ql],s)),wm in o&&(o[wm]&&r.push(n.get(o[wm].id)),s[wm]&&r.push(n.get(s[wm].id))),LF(t,o),e.oldProperties=a,e.changed=r,r};Pg.prototype.postExecute=function(e){var t=e.element,r=t.label,n=r&&ht(r).name;if(n){var i=this._textRenderer.getExternalLabelBounds(r,n);this._modeling.resizeShape(r,i,tle)}};Pg.prototype.revert=function(e){var t=e.element,r=e.properties,n=e.oldProperties,i=t.businessObject,s=this._elementRegistry,o=this._moddle.ids;return LF(t,n),MF(r,i)&&(o.unclaim(r[Ql]),s.updateId(t,n[Ql]),o.claim(n[Ql],i)),e.changed};function MF(e,t){return Ql in e&&e[Ql]!==t[Ql]}function rle(e,t){var r=qy(t),n=e.businessObject,i=Or(e);return Js(r,function(s,o){return o!==IF?s[o]=n.get(o):s[o]=nle(i,qy(t.di)),s},{})}function nle(e,t){return Js(t,function(r,n){return r[n]=e&&e.get(n),r},{})}function LF(e,t){var r=e.businessObject,n=Or(e);Ce(t,function(i,s){s!==IF?r.set(s,i):n&&ile(n,i)})}function ile(e,t){Ce(t,function(r,n){e.set(n,r)})}var sle=["default"];function ale(e){var t=Ie({},e);return sle.forEach(function(r){r in e&&(t[r]=ht(t[r]))}),t}function P2(e,t){this._canvas=e,this._modeling=t}P2.$inject=["canvas","modeling"];P2.prototype.execute=function(e){var t=this._canvas,r=e.newRoot,n=r.businessObject,i=t.getRootElement(),s=i.businessObject,o=s.$parent,a=Or(i);return t.setRootElement(r),t.removeRootElement(i),hi(o.rootElements,n),n.$parent=o,Zn(o.rootElements,s),s.$parent=null,i.di=null,a.bpmnElement=n,r.di=a,e.oldRoot=i,[]};P2.prototype.revert=function(e){var t=this._canvas,r=e.newRoot,n=r.businessObject,i=e.oldRoot,s=i.businessObject,o=n.$parent,a=Or(r);return t.setRootElement(i),t.removeRootElement(r),Zn(o.rootElements,n),n.$parent=null,hi(o.rootElements,s),s.$parent=o,r.di=null,a.bpmnElement=s,i.di=a,[]};function iE(e,t){this._modeling=e,this._spaceTool=t}iE.$inject=["modeling","spaceTool"];iE.prototype.preExecute=function(e){var t=this._spaceTool,r=this._modeling,n=e.shape,i=e.location,s=Fa(n),o=s===n,a=o?n:n.parent,l=Du(a),c=bi(n);if(c?i==="left"?i="top":i==="right"&&(i="bottom"):i==="top"?i="left":i==="bottom"&&(i="right"),!l.length){var u=c?{x:n.x+La,y:n.y,width:n.width-La,height:n.height}:{x:n.x,y:n.y+La,width:n.width,height:n.height-La};r.createShape({type:"bpmn:Lane",isHorizontal:c},u,a)}var h=[];hh(s,function(x){return h.push(x),x.label&&h.push(x.label),x===n?[]:mr(x.children,function(_){return _!==n})});var f,d,p,g,m;i==="top"?(f=-120,d=n.y,p=d+10,g="n",m="y"):i==="left"?(f=-120,d=n.x,p=d+10,g="w",m="x"):i==="bottom"?(f=120,d=n.y+n.height,p=d-10,g="s",m="y"):i==="right"&&(f=120,d=n.x+n.width,p=d-10,g="e",m="x");var v=t.calculateAdjustments(h,m,f,p),y=c?{x:0,y:f}:{x:f,y:0};t.makeSpace(v.movingShapes,v.resizingShapes,y,g,p);var b=c?{x:n.x+(o?La:0),y:d-(i==="top"?120:0),width:n.width-(o?La:0),height:120}:{x:d-(i==="left"?120:0),y:n.y+(o?La:0),width:120,height:n.height-(o?La:0)};e.newLane=r.createShape({type:"bpmn:Lane",isHorizontal:c},b,a)};function sE(e){this._modeling=e}sE.$inject=["modeling"];sE.prototype.preExecute=function(e){var t=this._modeling,r=e.shape,n=e.count,i=Du(r),s=i.length;if(s>n)throw new Error(`more than <${n}> child lanes`);var o=bi(r),a=o?r.height:r.width,l=Math.round(a/n),c,u,h,f;for(f=0;f<n;f++)f===n-1?c=a-l*f:c=l,u=o?{x:r.x+La,y:r.y+f*l,width:r.width-La,height:c}:{x:r.x+f*l,y:r.y+La,width:c,height:r.height-La},f<s?t.resizeShape(i[f],u):(h={type:"bpmn:Lane",isHorizontal:o},t.createShape(h,u,r))};function Og(e,t){this._modeling=e,this._spaceTool=t}Og.$inject=["modeling","spaceTool"];Og.prototype.preExecute=function(e){var t=e.shape,r=e.newBounds,n=e.balanced;n!==!1?this.resizeBalanced(t,r):this.resizeSpace(t,r)};Og.prototype.resizeBalanced=function(e,t){var r=this._modeling,n=Ise(e,t);r.resizeShape(e,t),n.forEach(function(i){r.resizeShape(i.shape,i.newBounds)})};Og.prototype.resizeSpace=function(e,t){var r=this._spaceTool,n=Ht(e),i=Ht(t),s=LB(i,n),o=Fa(e),a=[],l=[];hh(o,function(p){return a.push(p),(he(p,"bpmn:Lane")||he(p,"bpmn:Participant"))&&l.push(p),p.children});var c,u,h,f,d;(s.bottom||s.top)&&(c=s.bottom||s.top,u=e.y+(s.bottom?e.height:0)+(s.bottom?-10:10),h=s.bottom?"s":"n",f=s.top>0||s.bottom<0?-c:c,d=r.calculateAdjustments(a,"y",f,u),r.makeSpace(d.movingShapes,d.resizingShapes,{x:0,y:c},h)),(s.left||s.right)&&(c=s.right||s.left,u=e.x+(s.right?e.width:0)+(s.right?-10:100),h=s.right?"e":"w",f=s.left>0||s.right<0?-c:c,d=r.calculateAdjustments(l,"x",f,u),r.makeSpace(d.movingShapes,d.resizingShapes,{x:c,y:0},h))};var Z0="flowNodeRef",aE="lanes";function Ig(e){this._elementRegistry=e}Ig.$inject=["elementRegistry"];Ig.prototype._computeUpdates=function(e,t){var r=[],n=[],i={},s=[];function o(u,h){var f=Ht(h),d={x:u.x+u.width/2,y:u.y+u.height/2};return d.x>f.left&&d.x<f.right&&d.y>f.top&&d.y<f.bottom}function a(u){r.indexOf(u)===-1&&(s.push(u),r.push(u))}function l(u){var h=Fa(u);return i[h.id]||(i[h.id]=f2(h)),i[h.id]}function c(u){if(!u.parent)return[];var h=l(u);return h.filter(function(f){return o(u,f)}).map(function(f){return f.businessObject})}return t.forEach(function(u){var h=Fa(u);if(!(!h||r.indexOf(h)!==-1)){var f=h.children.filter(function(d){return he(d,"bpmn:FlowNode")});f.forEach(a),r.push(h)}}),e.forEach(a),s.forEach(function(u){var h=u.businessObject,f=h.get(aE),d=f.slice(),p=c(u);n.push({flowNode:h,remove:d,add:p})}),t.forEach(function(u){var h=u.businessObject;u.parent||h.get(Z0).forEach(function(f){n.push({flowNode:f,remove:[h],add:[]})})}),n};Ig.prototype.execute=function(e){var t=e.updates;return t||(t=e.updates=this._computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach(function(r){var n=r.flowNode,i=n.get(aE);r.remove.forEach(function(s){Zn(i,s),Zn(s.get(Z0),n)}),r.add.forEach(function(s){hi(i,s),hi(s.get(Z0),n)})}),[]};Ig.prototype.revert=function(e){var t=e.updates;return t.forEach(function(r){var n=r.flowNode,i=n.get(aE);r.add.forEach(function(s){Zn(i,s),Zn(s.get(Z0),n)}),r.remove.forEach(function(s){hi(i,s),hi(s.get(Z0),n)})}),[]};function O2(e){this._moddle=e}O2.$inject=["moddle"];O2.prototype.execute=function(e){var t=this._moddle.ids,r=e.id,n=e.element,i=e.claiming;return i?t.claim(r,n):t.unclaim(r),[]};O2.prototype.revert=function(e){var t=this._moddle.ids,r=e.id,n=e.element,i=e.claiming;return i?t.unclaim(r):t.claim(r,n),[]};var ole={fill:void 0,stroke:void 0};function oE(e){this._commandStack=e,this._normalizeColor=function(t){if(t){if(Ys(t)){var r=lle(t);if(r)return r}throw new Error(`invalid color value: ${t}`)}}}oE.$inject=["commandStack"];oE.prototype.postExecute=function(e){var t=e.elements,r=e.colors||ole,n=this,i={};"fill"in r&&Ie(i,{"background-color":this._normalizeColor(r.fill)}),"stroke"in r&&Ie(i,{"border-color":this._normalizeColor(r.stroke)}),Ce(t,function(s){var o=Qr(s)?Eo(i,["border-color"]):i,a=Or(s);if(cle(o),Ir(s))n._commandStack.execute("element.updateModdleProperties",{element:s,moddleElement:a.label,properties:{color:i["border-color"]}});else{if(!gr(a,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;n._commandStack.execute("element.updateProperties",{element:s,properties:{di:o}})}})};function lle(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}function cle(e){"border-color"in e&&(e.stroke=e["border-color"]),"background-color"in e&&(e.fill=e["background-color"])}var ule={width:0,height:0};function DF(e,t,r){function n(l,c){var u=l.label||l,h=l.labelTarget||l;return ere(u,c),[u,h]}function i(l){var c=l.element,u=c.businessObject,h=l.newLabel;if(!Ir(c)&&nh(c)&&!Zb(c)&&!P9(h)){var f=7,d=$8(c);d={x:d.x,y:d.y+f},e.createLabel(c,d,{id:u.id+"_label",businessObject:u,di:c.di})}}function s(l){return l.oldLabel=ko(l.element),n(l.element,l.newLabel)}function o(l){return n(l.element,l.oldLabel)}function a(l){var c=l.element,u=c.label||c,h=l.newLabel,f=l.newBounds,d=l.hints||{};if(!(!Ir(u)&&!he(u,"bpmn:TextAnnotation"))){if(Ir(u)&&P9(h)){d.removeShape!==!1&&e.removeShape(u,{unsetLabel:!1});return}var p=ko(c);typeof f>"u"&&(f=t.getExternalLabelBounds(u,p)),f&&e.resizeShape(u,f,ule)}}this.preExecute=i,this.execute=s,this.revert=o,this.postExecute=a}DF.$inject=["modeling","textRenderer","bpmnFactory"];function P9(e){return!e||!e.trim()}function as(e,t,r,n){en.call(this,e,t,r),this._bpmnRules=n}At(as,en);as.$inject=["eventBus","elementFactory","commandStack","bpmnRules"];as.prototype.getHandlers=function(){var e=en.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=Rg,e["element.updateProperties"]=Pg,e["canvas.updateRoot"]=P2,e["lane.add"]=iE,e["lane.resize"]=Og,e["lane.split"]=sE,e["lane.updateRefs"]=Ig,e["id.updateClaim"]=O2,e["element.setColor"]=oE,e["element.updateLabel"]=DF,e};as.prototype.updateLabel=function(e,t,r,n){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:r,hints:n||{}})};as.prototype.connect=function(e,t,r,n){var i=this._bpmnRules;if(r||(r=i.canConnect(e,t)),!!r)return this.createConnection(e,t,r,e.parent,n)};as.prototype.updateModdleProperties=function(e,t,r){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:r})};as.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})};as.prototype.resizeLane=function(e,t,r){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:r})};as.prototype.addLane=function(e,t){var r={shape:e,location:t};return this._commandStack.execute("lane.add",r),r.newLane};as.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})};as.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};as.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};as.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})};as.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})};as.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})};as.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})};function BF(){}BF.prototype.layoutConnection=function(e,t){return t=t||{},[t.connectionStart||Jt(t.source||e.source),t.connectionEnd||Jt(t.target||e.target)]};var vv=20,dle=5,ob=Math.round,O9=20,hle={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function fle(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}function ple(e,t){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[e].test(t)}function FF(e,t,r){var n=ss(t,e,dle),i=r.split(":")[0],s=ob((t.x-e.x)/2+e.x),o=ob((t.y-e.y)/2+e.y),a,l,c=ple(i,n),u=/h|r|l/.test(i),h=!1,f=!1;return c?(a=u?{x:s,y:e.y}:{x:e.x,y:o},l=u?"h:h":"v:v"):(h=fle(n,i),l=u?"h:v":"v:h",h?u?(f=o===e.y,a={x:e.x+vv*(/l/.test(i)?-1:1),y:f?o+vv:o}):(f=s===e.x,a={x:f?s+vv:s,y:e.y+vv*(/t/.test(i)?-1:1)}):a={x:s,y:o}),{waypoints:lE(e,a,l).concat(a),directions:l,turnNextDirections:f}}function mle(e,t,r){return FF(e,t,r)}function gle(e,t,r){var n=FF(t,e,I9(r));return{waypoints:n.waypoints.slice().reverse(),directions:I9(n.directions),turnNextDirections:n.turnNextDirections}}function vle(e,t){var r=e.directions.split(":")[1],n=t.directions.split(":")[0];e.turnNextDirections&&(r=r=="h"?"v":"h"),t.turnNextDirections&&(n=n=="h"?"v":"h");var i=r+":"+n,s=lE(e.waypoints[e.waypoints.length-1],t.waypoints[0],i);return{waypoints:s,directions:i}}function I9(e){return e.split(":").reverse().join(":")}function yle(e,t,r){var n=ob((t.x-e.x)/2+e.x),i=ob((t.y-e.y)/2+e.y);if(r==="h:v")return[{x:t.x,y:e.y}];if(r==="v:h")return[{x:e.x,y:t.y}];if(r==="h:h")return[{x:n,y:e.y},{x:n,y:t.y}];if(r==="v:v")return[{x:e.x,y:i},{x:t.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function lE(e,t,r){if(r=r||"h:h",!Ale(r))throw new Error("unknown directions: <"+r+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(zF(r)){var n=mle(e,t,r),i=gle(e,t,r),s=vle(n,i);return[].concat(n.waypoints,s.waypoints,i.waypoints)}return yle(e,t,r)}function ble(e,t,r){var n=lE(e,t,r);return n.unshift(e),n.push(t),UF(n)}function wle(e,t,r,n,i){var s=i&&i.preferredLayouts||[],o=jJ(s,"straight")[0]||"h:h",a=hle[o]||0,l=ss(e,t,a),c=Nle(l,o);r=r||Jt(e),n=n||Jt(t);var u=c.split(":"),h=L9(r,e,u[0],Cle(l)),f=L9(n,t,u[1],l);return ble(h,f,c)}function xle(e,t,r,n,i,s){Qt(r)&&(i=r,s=n,r=Jt(e),n=Jt(t)),s=Ie({preferredLayouts:[]},s),i=i||[];var o=s.preferredLayouts,a=o.indexOf("straight")!==-1,l;return l=a&&Sle(e,t,r,n,s),l||(l=s.connectionEnd&&kle(t,e,n,i),l)||(l=s.connectionStart&&Ele(e,t,r,i),l)?l:!s.connectionStart&&!s.connectionEnd&&i&&i.length?i:wle(e,t,r,n,s)}function _le(e,t,r){return e>=t&&e<=r}function M9(e,t,r){var n={x:"width",y:"height"};return _le(t[e],r[e],r[e]+r[n[e]])}function Sle(e,t,r,n,i){var s={},o,a;return a=ss(e,t),/^(top|bottom|left|right)$/.test(a)?(/top|bottom/.test(a)&&(o="x"),/left|right/.test(a)&&(o="y"),i.preserveDocking==="target"?M9(o,n,e)?(s[o]=n[o],[{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y,original:{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y}},{x:n.x,y:n.y}]):null:M9(o,r,t)?(s[o]=r[o],[{x:r.x,y:r.y},{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y,original:{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y}}]):null):null}function Ele(e,t,r,n){return cE(e,t,r,n)}function kle(e,t,r,n){var i=n.slice().reverse();return i=cE(e,t,r,i),i?i.reverse():null}function cE(e,t,r,n){function i(u){return u.length<3?!0:u.length>4?!1:!!Lr(u,function(h,f){var d=u[f-1];return d&&hg(h,d)<3})}function s(u,h,f){var d=Vl(h,u);switch(d){case"v":return{x:f.x,y:u.y};case"h":return{x:u.x,y:f.y}}return{x:u.x,y:u.y}}function o(u,h,f){var d;for(d=u.length-2;d!==0;d--)if(jA(u[d],h,O9)||jA(u[d],f,O9))return u.slice(d);return u}if(i(n))return null;var a=n[0],l=n.slice(),c;return l[0]=r,l[1]=s(l[1],a,r),c=o(l,e,t),c!==l&&(l=cE(e,t,r,c)),l&&Vl(l)?null:l}function Nle(e,t){if(zF(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}function Ale(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}function zF(e){return e&&/t|r|b|l/.test(e)}function Cle(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}function L9(e,t,r,n){if(r==="h"&&(r=/left/.test(n)?"l":"r"),r==="v"&&(r=/top/.test(n)?"t":"b"),r==="t")return{original:e,x:e.x,y:t.y};if(r==="r")return{original:e,x:t.x+t.width,y:e.y};if(r==="b")return{original:e,x:e.x,y:t.y+t.height};if(r==="l")return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+r+">")}function UF(e){return e.reduce(function(t,r,n){var i=t[t.length-1],s=e[n+1];return R8(i,s,r,0)||t.push(r),t},[])}var jle=-10,Tle=40,Rle={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},Ple={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},uE={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Im={top:"t",right:"r",bottom:"b",left:"l"};function I2(e){this._elementRegistry=e}At(I2,BF);I2.prototype.layoutConnection=function(e,t){t||(t={});var r=t.source||e.source,n=t.target||e.target,i=t.waypoints||e.waypoints,s=t.connectionStart,o=t.connectionEnd,a=this._elementRegistry,l,c;if(s||(s=D9(i&&i[0],r)),o||(o=D9(i&&i[i.length-1],n)),(he(e,"bpmn:Association")||he(e,"bpmn:DataAssociation"))&&i&&!B9(r,n))return[].concat([s],i.slice(1,-1),[o]);var u=hB(r,a)?Rle:Ple;return he(e,"bpmn:MessageFlow")?l=Ile(r,n,u):(he(e,"bpmn:SequenceFlow")||B9(r,n))&&(r===n?l={preferredLayouts:zle(r,e,u)}:he(r,"bpmn:BoundaryEvent")?l={preferredLayouts:Ule(r,n,o,u)}:Y0(r)||Y0(n)?l={preferredLayouts:u.subProcess,preserveDocking:Lle(r)}:he(r,"bpmn:Gateway")?l={preferredLayouts:u.fromGateway}:he(n,"bpmn:Gateway")?l={preferredLayouts:u.toGateway}:l={preferredLayouts:u.default}),l&&(l=Ie(l,t),c=UF(xle(r,n,s,o,i,l))),c||[s,o]};function Ole(e){var t=e.host;return ss(Jt(e),t,jle)}function Ile(e,t,r){return{preferredLayouts:r.messageFlow,preserveDocking:Mle(e,t)}}function Mle(e,t){return he(t,"bpmn:Participant")?"source":he(e,"bpmn:Participant")?"target":Y0(t)?"source":Y0(e)||he(t,"bpmn:Event")?"target":he(e,"bpmn:Event")?"source":null}function Lle(e){return Y0(e)?"target":"source"}function D9(e,t){return e?e.original||e:Jt(t)}function B9(e,t){return he(t,"bpmn:Activity")&&he(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function Y0(e){return he(e,"bpmn:SubProcess")&&Sr(e)}function Ld(e,t){return e===t}function Dle(e,t){return t.indexOf(e)!==-1}function Zf(e){var t=/right|left/.exec(e);return t&&t[0]}function Yf(e){var t=/top|bottom/.exec(e);return t&&t[0]}function F9(e,t){return uE[e]===t}function Ble(e,t){var r=Zf(e),n=uE[r];return t.indexOf(n)!==-1}function Fle(e,t){var r=Yf(e),n=uE[r];return t.indexOf(n)!==-1}function $F(e){return e==="right"||e==="left"}function zle(e,t,r){var n=t.waypoints,i=n&&n.length&&ss(n[0],e);return i==="top"?r.loop.fromTop:i==="right"?r.loop.fromRight:i==="left"?r.loop.fromLeft:r.loop.fromBottom}function Ule(e,t,r,n){var i=Jt(e),s=Jt(t),o=Ole(e),a,l,c=Ld(e.host,t),u=Dle(o,["top","right","bottom","left"]),h=ss(s,i,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return c?$le(o,u,e,t,r,n):(a=Hle(o,h,u,n.isHorizontal),l=Wle(o,h,u,n.isHorizontal),[a+":"+l])}function $le(e,t,r,n,i,s){var o=t?e:s.isHorizontal?Yf(e):Zf(e),a=Im[o],l;return t?$F(e)?l=z9("y",r,n,i)?"h":s.boundaryLoop.alternateHorizontalSide:l=z9("x",r,n,i)?"v":s.boundaryLoop.alternateVerticalSide:l=s.boundaryLoop.default,[a+":"+l]}function z9(e,t,r,n){var i=Tle;return!(Gx(e,n,r,i)||Gx(e,n,{x:r.x+r.width,y:r.y+r.height},i)||Gx(e,n,Jt(t),i))}function Gx(e,t,r,n){return Math.abs(t[e]-r[e])<n}function Hle(e,t,r,n){if(r)return Im[e];var i=Yf(e),s=Zf(e),o=Yf(t),a=Zf(t);if(n){if(Ld(i,o)||F9(s,a))return Im[i]}else if(Ld(s,a)||F9(i,o))return Im[s];return Im[n?s:i]}function Wle(e,t,r,n){return r?$F(e)?Ble(e,t)||Ld(e,t)?"h":"v":Fle(e,t)||Ld(e,t)?"v":"h":n?Ld(Yf(e),Yf(t))?"h":"v":Ld(Zf(e),Zf(t))?"v":"h"}I2.$inject=["elementRegistry"];function U9(e){return Ie({original:e.point.original||e.point},e.actual)}function $u(e,t){this._elementRegistry=e,this._graphicsFactory=t}$u.$inject=["elementRegistry","graphicsFactory"];$u.prototype.getCroppedWaypoints=function(e,t,r){t=t||e.source,r=r||e.target;var n=this.getDockingPoint(e,t,!0),i=this.getDockingPoint(e,r),s=e.waypoints.slice(n.idx+1,i.idx);return s.unshift(U9(n)),s.push(U9(i)),s};$u.prototype.getDockingPoint=function(e,t,r){var n=e.waypoints,i,s,o;return i=r?0:n.length-1,s=n[i],o=this._getIntersection(t,e,r),{point:s,actual:o||s,idx:i}};$u.prototype._getIntersection=function(e,t,r){var n=this._getShapePath(e),i=this._getConnectionPath(t);return S4(n,i,r)};$u.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)};$u.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)};$u.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};const HF={__init__:["modeling","bpmnUpdater"],__depends__:[Fae,noe,soe,aoe,SF,Ioe,Loe,$oe,Co,H8,NF],bpmnFactory:["type",eo],bpmnUpdater:["type",ra],elementFactory:["type",Fu],modeling:["type",as],layouter:["type",I2],connectionDocking:["type",$u]},$9=Math.round;function M2(e,t,r,n,i,s){this._complexPreview=e,this._connectionDocking=t,this._elementFactory=r,this._eventBus=n,this._layouter=i,this._rules=s}M2.prototype.create=function(e,t,r){const n=this._complexPreview,i=this._connectionDocking,s=this._elementFactory,o=this._eventBus,a=this._layouter,l=this._rules,c=s.createShape(Ie({type:t},r)),u=o.fire("autoPlace",{source:e,shape:c});if(!u)return;Ie(c,{x:u.x-$9(c.width/2),y:u.y-$9(c.height/2)});const h=l.allowed("connection.create",{source:e,target:c,hints:{targetParent:e.parent}});let f=null;h&&(f=s.createConnection(h),f.waypoints=a.layoutConnection(f,{source:e,target:c}),f.waypoints=i.getCroppedWaypoints(f,e,c)),n.create({created:[c,f].filter(d=>!$0(d))})};M2.prototype.cleanUp=function(){this._complexPreview.cleanUp()};M2.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const qle={__depends__:[rS,pse,HF],__init__:["appendPreview"],appendPreview:["type",M2]};var H9=Math.min,W9=Math.max;function Kx(e){e.preventDefault()}function o0(e){e.stopPropagation()}function Vle(e){return e.nodeType===Node.TEXT_NODE}function Gle(e){return[].slice.call(e)}function To(e){this.container=e.container,this.parent=dn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Jr("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Rs(this.autoResize,this),this.handlePaste=Rs(this.handlePaste,this)}To.prototype.create=function(e,t,r,n){var i=this,s=this.parent,o=this.content,a=this.container;n=this.options=n||{},t=this.style=t||{};var l=Eo(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Ie(s.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var c=Eo(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Ie(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),n.centerVertically&&Ie(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=r,sr.bind(o,"keydown",this.keyHandler),sr.bind(o,"mousedown",o0),sr.bind(o,"paste",i.handlePaste),n.autoResize&&sr.bind(o,"input",this.autoResize),n.resizable&&this.resizable(t),a.appendChild(s),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),s};To.prototype.handlePaste=function(e){var t=this.options,r=this.style;e.preventDefault();var n;if(e.clipboardData?n=e.clipboardData.getData("text/plain"):n=window.clipboardData.getData("Text"),this.insertText(n),t.autoResize){var i=this.autoResize(r);i&&this.resizeHandler(i)}};To.prototype.insertText=function(e){e=Kle(e);var t=document.execCommand("insertText",!1,e);t||this._insertTextIE(e)};To.prototype._insertTextIE=function(e){var t=this.getSelection(),r=t.startContainer,n=t.endContainer,i=t.startOffset,s=t.endOffset,o=t.commonAncestorContainer,a=Gle(o.childNodes),l,c;if(Vle(o)){var u=r.textContent;r.textContent=u.substring(0,i)+e+u.substring(s),l=r,c=i+e.length}else if(r===this.content&&n===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,a[i]),l=h,c=h.textContent.length}else{var f=a.indexOf(r),d=a.indexOf(n);a.forEach(function(p,g){g===f?p.textContent=r.textContent.substring(0,i)+e+n.textContent.substring(s):g>f&&g<=d&&cl(p)}),l=r,c=i+e.length}l&&c!==void 0&&setTimeout(function(){self.setSelection(l,c)})};To.prototype.autoResize=function(){var e=this.parent,t=this.content,r=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-r){var n=e.getBoundingClientRect(),i=t.scrollHeight;e.style.height=i+"px",this.resizeHandler({width:n.width,height:n.height,dx:0,dy:i-n.height})}};To.prototype.resizable=function(){var e=this,t=this.parent,r=this.resizeHandle,n=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,s=parseInt(this.style.maxWidth)||1/0,o=parseInt(this.style.maxHeight)||1/0;if(!r){r=this.resizeHandle=dn('<div class="djs-direct-editing-resize-handle"></div>');var a,l,c,u,h=function(p){Kx(p),o0(p),a=p.clientX,l=p.clientY;var g=t.getBoundingClientRect();c=g.width,u=g.height,sr.bind(document,"mousemove",f),sr.bind(document,"mouseup",d)},f=function(p){Kx(p),o0(p);var g=H9(W9(c+p.clientX-a,n),s),m=H9(W9(u+p.clientY-l,i),o);t.style.width=g+"px",t.style.height=m+"px",e.resizeHandler({width:c,height:u,dx:p.clientX-a,dy:p.clientY-l})},d=function(p){Kx(p),o0(p),sr.unbind(document,"mousemove",f,!1),sr.unbind(document,"mouseup",d,!1)};sr.bind(r,"mousedown",h)}Ie(r.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(r)};To.prototype.destroy=function(){var e=this.parent,t=this.content,r=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),sr.unbind(t,"keydown",this.keyHandler),sr.unbind(t,"mousedown",o0),sr.unbind(t,"input",this.autoResize),sr.unbind(t,"paste",this.handlePaste),r&&(r.removeAttribute("style"),cl(r)),cl(e)};To.prototype.getValue=function(){return this.content.innerText.trim()};To.prototype.getSelection=function(){var e=window.getSelection(),t=e.getRangeAt(0);return t};To.prototype.setSelection=function(e,t){var r=document.createRange();e===null?r.selectNodeContents(this.content):(r.setStart(e,t),r.setEnd(e,t));var n=window.getSelection();n.removeAllRanges(),n.addRange(r)};function Kle(e){return e.replace(/\r\n|\r|\n/g,`
`)}function to(e,t){this._eventBus=e,this._canvas=t,this._providers=[],this._textbox=new To({container:t.getContainer(),keyHandler:Rs(this._handleKey,this),resizeHandler:Rs(this._handleResize,this)})}to.$inject=["eventBus","canvas"];to.prototype.registerProvider=function(e){this._providers.push(e)};to.prototype.isActive=function(e){return!!(this._active&&(!e||this._active.element===e))};to.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};to.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})};to.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()};to.prototype.complete=function(){var e=this._active;if(e){var t,r=e.context.bounds,n=this.$textbox.getBoundingClientRect(),i=this.getValue(),s=e.context.text;(i!==s||n.height!==r.height||n.width!==r.width)&&(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,i,e.context.text,{x:n.left-t.left,y:n.top-t.top,width:n.width,height:n.height})),this._fire("complete"),this.close()}};to.prototype.getValue=function(){return this._textbox.getValue()};to.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;if(t===27)return e.preventDefault(),this.cancel();if(t===13&&!e.shiftKey)return e.preventDefault(),this.complete()};to.prototype._handleResize=function(e){this._fire("resize",e)};to.prototype.activate=function(e){this.isActive()&&this.cancel();var t,r=Lr(this._providers,function(n){return(t=n.activate(e))?n:null});return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:r},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const WF={__depends__:[t2],__init__:["directEditing"],directEditing:["type",to]};function Xle(e){return function(t){var r=t.target,n=ht(e),i=n.eventDefinitions&&n.eventDefinitions[0],s=n.$type===r.type,o=(i&&i.$type)===r.eventDefinitionType,a=!!r.triggeredByEvent==!!n.triggeredByEvent,l=r.isExpanded===void 0||r.isExpanded===Sr(e);return!s||!o||!a||!l}}var Zle=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Yle=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],Jle=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Qle=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],ece=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],tce=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],rce=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],qF=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],nce=qF,q9=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],ice=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],sce=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],ace=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],oce=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],lce=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],cce=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty pool/participant";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],uce={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]};const V9={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function ro(e,t,r,n,i,s,o,a){this._bpmnFactory=e,this._popupMenu=t,this._modeling=r,this._moddle=n,this._bpmnReplace=i,this._rules=s,this._translate=o,this._moddleCopy=a,this._register()}ro.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"];ro.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)};ro.prototype.getPopupMenuEntries=function(e){var a;var t=e.businessObject,r=this._rules,n=[],i,s=[];if(Qt(e)||!r.allowed("shape.replace",{element:e}))return{};var o=Xle(e);return he(t,"bpmn:DataObjectReference")?this._createEntries(e,ice):he(t,"bpmn:DataStoreReference")&&!he(e.parent,"bpmn:Collaboration")?this._createEntries(e,sce):(he(t,"bpmn:Event")&&!he(t,"bpmn:BoundaryEvent")&&(i=(a=t.get("eventDefinitions")[0])==null?void 0:a.$type,n=uce[i]||[],!ts(t.$parent)&&he(t.$parent,"bpmn:SubProcess")&&(n=mr(n,function(l){return l.target.type!=="bpmn:StartEvent"}))),he(t,"bpmn:StartEvent")&&!he(t.$parent,"bpmn:SubProcess")?(s=mr(Zle.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:Participant")?(s=mr(cce,function(l){return Sr(e)!==l.target.isExpanded}),this._createEntries(e,s)):he(t,"bpmn:StartEvent")&&ts(t.$parent)?(s=mr(oce.concat(n),function(l){var c=l.target,u=c.isInterrupting!==!1,h=t.isInterrupting===u;return o(l)||!o(l)&&!h}),this._createEntries(e,s)):he(t,"bpmn:StartEvent")&&!ts(t.$parent)&&he(t.$parent,"bpmn:SubProcess")?(s=mr(Yle.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:EndEvent")?(s=mr(Qle.concat(n),function(l){var c=l.target;return c.eventDefinitionType=="bpmn:CancelEventDefinition"&&!he(t.$parent,"bpmn:Transaction")?!1:o(l)}),this._createEntries(e,s)):he(t,"bpmn:BoundaryEvent")?(s=mr(ace,function(l){var c=l.target;if(c.eventDefinitionType=="bpmn:CancelEventDefinition"&&!he(t.attachedToRef,"bpmn:Transaction"))return!1;var u=c.cancelActivity!==!1,h=t.cancelActivity==u;return o(l)||!o(l)&&!h}),this._createEntries(e,s)):he(t,"bpmn:IntermediateCatchEvent")||he(t,"bpmn:IntermediateThrowEvent")?(s=mr(Jle.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:Gateway")?(s=mr(ece,o),this._createEntries(e,s)):he(t,"bpmn:Transaction")?(s=mr(qF,o),this._createEntries(e,s)):ts(t)&&Sr(e)?(s=mr(nce,o),this._createEntries(e,s)):he(t,"bpmn:AdHocSubProcess")&&Sr(e)?(s=mr(rce,o),this._createEntries(e,s)):he(t,"bpmn:SubProcess")&&Sr(e)?(s=mr(tce,o),this._createEntries(e,s)):he(t,"bpmn:SubProcess")&&!Sr(e)?(s=mr(q9,function(l){var c=l.target.type===e.type,u=l.target.isExpanded===!0;return c===u}),this._createEntries(e,s)):he(t,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,lce):he(t,"bpmn:FlowNode")?(s=mr(q9,o),this._createEntries(e,s)):{})};ro.prototype.getPopupMenuHeaderEntries=function(e){var t={};return he(e,"bpmn:Activity")&&!ts(e)&&(t={...t,...this._getLoopCharacteristicsHeaderEntries(e)}),he(e,"bpmn:DataObjectReference")&&(t={...t,...this._getCollectionHeaderEntries(e)}),he(e,"bpmn:Participant")&&(t={...t,...this._getParticipantMultiplicityHeaderEntries(e)}),VB(e)&&(t={...t,...this._getNonInterruptingHeaderEntries(e)}),t};ro.prototype._createEntries=function(e,t){var r={},n=this;return Ce(t,function(i){r[i.actionName]=n._createEntry(i,e)}),r};ro.prototype._createSequenceFlowEntries=function(e,t){var r=ht(e),n={},i=this._modeling,s=this._moddle,o=this;return Ce(t,function(a){switch(a.actionName){case"replace-with-default-flow":r.sourceRef.default!==r&&(he(r.sourceRef,"bpmn:ExclusiveGateway")||he(r.sourceRef,"bpmn:InclusiveGateway")||he(r.sourceRef,"bpmn:ComplexGateway")||he(r.sourceRef,"bpmn:Activity"))&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e.source,{default:r})})});break;case"replace-with-conditional-flow":!r.conditionExpression&&he(r.sourceRef,"bpmn:Activity")&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){var l=s.create("bpmn:FormalExpression",{body:""});i.updateProperties(e,{conditionExpression:l})})});break;default:he(r.sourceRef,"bpmn:Activity")&&r.conditionExpression&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e,{conditionExpression:void 0})})}),(he(r.sourceRef,"bpmn:ExclusiveGateway")||he(r.sourceRef,"bpmn:InclusiveGateway")||he(r.sourceRef,"bpmn:ComplexGateway")||he(r.sourceRef,"bpmn:Activity"))&&r.sourceRef.default===r&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e.source,{default:void 0})})})}}),n};ro.prototype._createEntry=function(e,t,r){var n=this._translate,i=this._bpmnReplace.replaceElement,s=function(){return i(t,e.target)},o=e.label;return o&&typeof o=="function"&&(o=o(t)),r=r||s,{label:n(o),className:e.className,action:r}};ro.prototype._getLoopCharacteristicsHeaderEntries=function(e){var t=this,r=this._translate;function n(c,u){if(u.active){t._modeling.updateProperties(e,{loopCharacteristics:void 0});return}var h=e.businessObject.get("loopCharacteristics");h&&he(h,u.options.loopCharacteristics)?t._modeling.updateModdleProperties(e,h,{isSequential:u.options.isSequential}):(h=t._moddle.create(u.options.loopCharacteristics,{isSequential:u.options.isSequential}),t._modeling.updateProperties(e,{loopCharacteristics:h}))}var i=ht(e),s=i.loopCharacteristics,o,a,l;return s&&(o=s.isSequential,a=s.isSequential===void 0,l=s.isSequential!==void 0&&!s.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:r("Parallel multi-instance"),active:l,action:n,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:r("Sequential multi-instance"),active:o,action:n,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:r("Loop"),active:a,action:n,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}};ro.prototype._getCollectionHeaderEntries=function(e){var t=this,r=this._translate,n=e.businessObject.dataObjectRef;if(!n)return{};function i(o,a){t._modeling.updateModdleProperties(e,n,{isCollection:!a.active})}var s=n.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:r("Collection"),active:s,action:i}}};ro.prototype._getParticipantMultiplicityHeaderEntries=function(e){var t=this,r=this._bpmnFactory,n=this._translate;function i(o,a){var l=a.active,c;l||(c=r.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(e,{participantMultiplicity:c})}var s=e.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:n("Participant multiplicity"),active:!!s,action:i}}};ro.prototype._getNonInterruptingHeaderEntries=function(e){const t=this._translate,r=ht(e),n=this,i=GB(e),s=he(e,"bpmn:BoundaryEvent")?V9["intermediate-event-non-interrupting"]:V9["start-event-non-interrupting"],o=!r[i];return{"toggle-non-interrupting":{imageHtml:s,title:t("Toggle non-interrupting"),active:o,action:function(){n._modeling.updateProperties(e,{[i]:!!o})}}}};const dce={__depends__:[Q8,SF,rS],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",ro]};function Mg(e,t,r,n,i,s,o,a,l,c,u,h,f){e=e||{},n.registerProvider(this),this._contextPad=n,this._modeling=i,this._elementFactory=s,this._connect=o,this._create=a,this._popupMenu=l,this._canvas=c,this._rules=u,this._translate=h,this._eventBus=r,this._appendPreview=f,e.autoPlace!==!1&&(this._autoPlace=t.get("autoPlace",!1)),r.on("create.end",250,function(d){var p=d.context,g=p.shape;if(!(!V0(d)||!n.isOpen(g))){var m=n.getEntries(g);m.replace&&m.replace.action.click(d,g)}}),r.on("contextPad.close",function(){f.cleanUp()})}Mg.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"];Mg.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,r={};return this._isDeleteAllowed(e)&&Ie(r,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(n,i){t.removeElements(i.slice())}}}}),r};Mg.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return Qt(t)?uh(e,r=>t.includes(r)):t};Mg.prototype.getContextPadEntries=function(e){var t=this._contextPad,r=this._modeling,n=this._elementFactory,i=this._connect,s=this._create,o=this._popupMenu,a=this._autoPlace,l=this._translate,c=this._appendPreview,u={};if(e.type==="label")return this._isDeleteAllowed([e])&&Ie(u,p()),u;var h=e.businessObject;function f(b,x){i.start(b,x)}function d(b,x){r.removeElements([x])}function p(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:l("Delete"),action:{click:d}}}}function g(b){var x=5,_=t.getPad(b).html,M=_.getBoundingClientRect(),U={x:M.left,y:M.bottom+x};return U}function m(b,x,_,M){function U(H,G){var I=n.createShape(Ie({type:b},M));s.start(H,I,{source:G})}var L=a?function(H,G){var I=n.createShape(Ie({type:b},M));a.append(G,I)}:U,O=a?function(H,G){return c.create(G,b,M),()=>{c.cleanUp()}}:null;return{group:"model",className:x,title:_,action:{dragstart:U,click:L,hover:O}}}function v(b){return function(x,_){r.splitLane(_,b),t.open(_,!0)}}if(gr(h,["bpmn:Lane","bpmn:Participant"])&&Sr(e)){var y=Du(e);Ie(u,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:l("Add lane above"),action:{click:function(b,x){r.addLane(x,"top")}}}}),y.length<2&&((bi(e)?e.height>=120:e.width>=120)&&Ie(u,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:l("Divide into two lanes"),action:{click:v(2)}}}),(bi(e)?e.height>=180:e.width>=180)&&Ie(u,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:l("Divide into three lanes"),action:{click:v(3)}}})),Ie(u,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:l("Add lane below"),action:{click:function(b,x){r.addLane(x,"bottom")}}}})}return he(h,"bpmn:FlowNode")&&(he(h,"bpmn:EventBasedGateway")?Ie(u,{"append.receive-task":m("bpmn:ReceiveTask","bpmn-icon-receive-task",l("Append receive task")),"append.message-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",l("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",l("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",l("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",l("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):G9(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Ie(u,{"append.compensation-activity":m("bpmn:Task","bpmn-icon-task",l("Append compensation activity"),{isForCompensation:!0})}):!he(h,"bpmn:EndEvent")&&!h.isForCompensation&&!G9(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!ts(h)&&Ie(u,{"append.end-event":m("bpmn:EndEvent","bpmn-icon-end-event-none",l("Append end event")),"append.gateway":m("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",l("Append gateway")),"append.append-task":m("bpmn:Task","bpmn-icon-task",l("Append task")),"append.intermediate-event":m("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",l("Append intermediate/boundary event"))})),o.isEmpty(e,"bpmn-replace")||Ie(u,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:l("Change element"),action:{click:function(b,x){var _=Ie(g(x),{cursor:{x:b.x,y:b.y}});o.open(x,"bpmn-replace",_,{title:l("Change element"),width:300,search:!0})}}}}),he(h,"bpmn:SequenceFlow")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),he(h,"bpmn:MessageFlow")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),gr(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect to other element"),action:{click:f,dragstart:f}}}),he(h,"bpmn:TextAnnotation")&&Ie(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using association"),action:{click:f,dragstart:f}}}),gr(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ie(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using data input association"),action:{click:f,dragstart:f}}}),he(h,"bpmn:Group")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),this._isDeleteAllowed([e])&&Ie(u,p()),u};function G9(e,t,r){var n=e.$instanceOf(t),i=!1,s=e.eventDefinitions||[];return Ce(s,function(o){o.$type===r&&(i=!0)}),n&&i}const hce={__depends__:[qle,WF,zD,Co,oS,x2,dce],__init__:["contextPadProvider"],contextPadProvider:["type",Mg]};var fce={horizontal:["x","width"],vertical:["y","height"]},K9=5;function mc(e,t){this._modeling=e,this._filters=[],this.registerFilter(function(r){var n=t.allowed("elements.distribute",{elements:r});return Qt(n)?n:n?r:[]})}mc.$inject=["modeling","rules"];mc.prototype.registerFilter=function(e){if(typeof e!="function")throw new Error("the filter has to be a function");this._filters.push(e)};mc.prototype.trigger=function(e,t){var r=this._modeling,n,i;if(!(e.length<3)&&(this._setOrientation(t),i=this._filterElements(e),n=this._createGroups(i),!(n.length<=2)))return r.distributeElements(n,this._axis,this._dimension),n};mc.prototype._filterElements=function(e){var t=this._filters,r=this._axis,n=this._dimension,i=[].concat(e);return t.length?(Ce(t,function(s){i=s(i,r,n)}),i):e};mc.prototype._createGroups=function(e){var t=[],r=this,n=this._axis,i=this._dimension;if(!n)throw new Error('must have a defined "axis" and "dimension"');var s=ll(e,n);return Ce(s,function(o,a){var l=r._findRange(o,n,i),c,u=t[t.length-1];u&&r._hasIntersection(u.range,l)?t[t.length-1].elements.push(o):(c={range:l,elements:[o]},t.push(c))}),t};mc.prototype._setOrientation=function(e){var t=fce[e];this._axis=t[0],this._dimension=t[1]};mc.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)};mc.prototype._findRange=function(e){var t=e[this._axis],r=e[this._dimension];return{min:t+K9,max:t+r-K9}};const pce={__init__:["distributeElements"],distributeElements:["type",mc]};function L2(e){Ja.call(this,e)}L2.$inject=["eventBus"];At(L2,Ja);L2.prototype.init=function(){this.addRule("elements.distribute",function(e){var t=e.elements;return t=mr(t,function(r){var n=gr(r,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(r.labelTarget||n)}),t=qb(t),t.length<3?!1:t})};var X9={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`},mce=900;function Lg(e,t,r,n){this._distributeElements=t,this._translate=r,this._popupMenu=e,this._rules=n,e.registerProvider("align-elements",mce,this)}Lg.$inject=["popupMenu","distributeElements","translate","rules"];Lg.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};Lg.prototype._isAllowed=function(e){return this._rules.allowed("elements.distribute",{elements:e})};Lg.prototype._getEntries=function(e){var t=this._distributeElements,r=this._translate,n=this._popupMenu,i={"distribute-elements-horizontal":{group:"distribute",title:r("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:X9.horizontal,action:function(s,o){t.trigger(e,"horizontal"),n.close()}},"distribute-elements-vertical":{group:"distribute",title:r("Distribute elements vertically"),imageHtml:X9.vertical,action:function(s,o){t.trigger(e,"vertical"),n.close()}}};return i};const gce={__depends__:[Q8,pce],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",L2],distributeElementsMenuProvider:["type",Lg]};var VF="is not a registered action",vce="is already registered";function no(e,t){this._actions={};var r=this;e.on("diagram.init",function(){r._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:r})})}no.$inject=["eventBus","injector"];no.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),r=e.get("modeling",!1),n=e.get("selection",!1),i=e.get("zoomScroll",!1),s=e.get("copyPaste",!1),o=e.get("canvas",!1),a=e.get("rules",!1),l=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),s&&n&&this.register("copy",function(){var u=n.get();if(u.length)return s.copy(u)}),s&&this.register("paste",function(){s.paste()}),i&&this.register("stepZoom",function(u){i.stepZoom(u.value)}),o&&this.register("zoom",function(u){o.zoom(u.value)}),r&&n&&a&&this.register("removeSelection",function(){var u=n.get();if(u.length){var h=a.allowed("elements.delete",{elements:u}),f;h!==!1&&(Qt(h)?f=h:f=u,f.length&&r.removeElements(f.slice()))}}),l&&this.register("moveCanvas",function(u){l.moveCanvas(u)}),c&&this.register("moveSelection",function(u){c.moveSelection(u.direction,u.accelerated)})};no.prototype.trigger=function(e,t){if(!this._actions[e])throw dE(e,VF);return this._actions[e](t)};no.prototype.register=function(e,t){var r=this;if(typeof e=="string")return this._registerAction(e,t);Ce(e,function(n,i){r._registerAction(i,n)})};no.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw dE(e,vce);this._actions[e]=t};no.prototype.unregister=function(e){if(!this.isRegistered(e))throw dE(e,VF);this._actions[e]=void 0};no.prototype.getActions=function(){return Object.keys(this._actions)};no.prototype.isRegistered=function(e){return!!this._actions[e]};function dE(e,t){return new Error(e+" "+t)}const yce={__init__:["editorActions"],editorActions:["type",no]};function D2(e){e.invoke(no,this)}At(D2,no);D2.$inject=["injector"];D2.prototype._registerDefaultActions=function(e){no.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),r=e.get("elementRegistry",!1),n=e.get("selection",!1),i=e.get("spaceTool",!1),s=e.get("lassoTool",!1),o=e.get("handTool",!1),a=e.get("globalConnect",!1),l=e.get("distributeElements",!1),c=e.get("alignElements",!1),u=e.get("directEditing",!1),h=e.get("searchPad",!1),f=e.get("modeling",!1),d=e.get("contextPad",!1);t&&r&&n&&this._registerAction("selectElements",function(){var p=t.getRootElement(),g=r.filter(function(m){return m!==p});return n.select(g),g}),i&&this._registerAction("spaceTool",function(){i.toggle()}),s&&this._registerAction("lassoTool",function(){s.toggle()}),o&&this._registerAction("handTool",function(){o.toggle()}),a&&this._registerAction("globalConnectTool",function(){a.toggle()}),n&&l&&this._registerAction("distributeElements",function(p){var g=n.get(),m=p.type;g.length&&l.trigger(g,m)}),n&&c&&this._registerAction("alignElements",function(p){var g=n.get(),m=[],v=p.type;g.length&&(m=mr(g,function(y){return!he(y,"bpmn:Lane")}),c.trigger(m,v))}),n&&f&&this._registerAction("setColor",function(p){var g=n.get();g.length&&f.setColor(g,p)}),n&&u&&this._registerAction("directEditing",function(){var p=n.get();p.length&&u.activate(p[0])}),h&&this._registerAction("find",function(){h.toggle()}),t&&f&&this._registerAction("moveToOrigin",function(){var p=t.getRootElement(),g,m;he(p,"bpmn:Collaboration")?m=r.filter(function(v){return he(v.parent,"bpmn:Collaboration")}):m=r.filter(function(v){return v!==p&&!he(v.parent,"bpmn:SubProcess")}),g=di(m),f.moveElements(m,{x:-g.x,y:-g.y},p)}),n&&d&&this._registerAction("replaceElement",function(p){d.triggerEntry("replace","click",p)})};const bce={__depends__:[yce],editorActions:["type",D2]};function GF(e){e.on(["create.init","shape.move.init"],function(t){var r=t.context,n=t.shape;gr(n,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(r.gridSnappingContext||(r.gridSnappingContext={}),r.gridSnappingContext.snapLocation="top-left")})}GF.$inject=["eventBus"];var oy=10;function Xx(e,t,r){return r||(r="round"),Math[r](e/t)*t}var wce=1200,xce=800;function Hu(e,t,r){var n=!r||r.active!==!1;this._eventBus=t;var i=this;t.on("diagram.init",xce,function(){i.setActive(n)}),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],wce,function(s){var o=s.originalEvent;if(!(!i.active||o&&qa(o))){var a=s.context,l=a.gridSnappingContext;l||(l=a.gridSnappingContext={}),["x","y"].forEach(function(c){var u={},h=Sce(s,c,e);h&&(u.offset=h);var f=_ce(s,c);f&&Ie(u,f),Kf(s,c)||i.snapEvent(s,c,u)})}})}Hu.prototype.snapEvent=function(e,t,r){var n=this.snapValue(e[t],r);Xn(e,t,n)};Hu.prototype.getGridSpacing=function(){return oy};Hu.prototype.snapValue=function(e,t){var r=0;t&&t.offset&&(r=t.offset),e+=r,e=Xx(e,oy);var n,i;return t&&t.min&&(n=t.min,Yt(n)&&(n=Xx(n+r,oy,"ceil"),e=Math.max(e,n))),t&&t.max&&(i=t.max,Yt(i)&&(i=Xx(i+r,oy,"floor"),e=Math.min(e,i))),e-=r,e};Hu.prototype.isActive=function(){return this.active};Hu.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})};Hu.prototype.toggleActive=function(){this.setActive(!this.active)};Hu.$inject=["elementRegistry","eventBus","config.gridSnapping"];function _ce(e,t){var r=e.context,n=r.createConstraints,i=r.resizeConstraints||{},s=r.gridSnappingContext,o=s.snapConstraints;if(o&&o[t])return o[t];o||(o=s.snapConstraints={}),o[t]||(o[t]={});var a=r.direction;n&&(ly(t)?(o.x.min=n.left,o.x.max=n.right):(o.y.min=n.top,o.y.max=n.bottom));var l=i.min,c=i.max;return l&&(ly(t)?Y9(a)?o.x.max=l.left:o.x.min=l.right:Z9(a)?o.y.max=l.top:o.y.min=l.bottom),c&&(ly(t)?Y9(a)?o.x.min=c.left:o.x.max=c.right:Z9(a)?o.y.min=c.top:o.y.max=c.bottom),o[t]}function Sce(e,t,r){var n=e.context,i=e.shape,s=n.gridSnappingContext,o=s.snapLocation,a=s.snapOffset;return a&&Yt(a[t])||(a||(a=s.snapOffset={}),Yt(a[t])||(a[t]=0),!i)||(r.get(i.id)||(ly(t)?a[t]+=i[t]+i.width/2:a[t]+=i[t]+i.height/2),!o)||(t==="x"?/left/.test(o)?a[t]-=i.width/2:/right/.test(o)&&(a[t]+=i.width/2):/top/.test(o)?a[t]-=i.height/2:/bottom/.test(o)&&(a[t]+=i.height/2)),a[t]}function ly(e){return e==="x"}function Z9(e){return e.indexOf("n")!==-1}function Y9(e){return e.indexOf("w")!==-1}function yh(e,t){at.call(this,e),this._gridSnapping=t;var r=this;this.preExecute("shape.resize",function(n){var i=n.context,s=i.hints||{},o=s.autoResize;if(o){var a=i.shape,l=i.newBounds;Ys(o)?i.newBounds=r.snapComplex(l,o):i.newBounds=r.snapSimple(a,l)}})}yh.$inject=["eventBus","gridSnapping","modeling"];At(yh,at);yh.prototype.snapSimple=function(e,t){var r=this._gridSnapping;return t.width=r.snapValue(t.width,{min:t.width}),t.height=r.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t};yh.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e};yh.prototype.snapHorizontally=function(e,t){var r=this._gridSnapping,n=/w/.test(t),i=/e/.test(t),s={};return s.width=r.snapValue(e.width,{min:e.width}),i&&(n?(s.x=r.snapValue(e.x,{max:e.x}),s.width+=r.snapValue(e.x-s.x,{min:e.x-s.x})):e.x=e.x+e.width-s.width),Ie(e,s),e};yh.prototype.snapVertically=function(e,t){var r=this._gridSnapping,n=/n/.test(t),i=/s/.test(t),s={};return s.height=r.snapValue(e.height,{min:e.height}),n&&(i?(s.y=r.snapValue(e.y,{max:e.y}),s.height+=r.snapValue(e.y-s.y,{min:e.y-s.y})):e.y=e.y+e.height-s.height),Ie(e,s),e};var Ece=2e3;function KF(e,t){e.on(["spaceTool.move","spaceTool.end"],Ece,function(r){var n=r.context;if(n.initialized){var i=n.axis,s;i==="x"?(s=t.snapValue(r.dx),r.x=r.x+s-r.dx,r.dx=s):(s=t.snapValue(r.dy),r.y=r.y+s-r.dy,r.dy=s)}})}KF.$inject=["eventBus","gridSnapping"];const kce={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",yh],gridSnappingSpaceToolBehavior:["type",KF]},Nce={__depends__:[kce],__init__:["gridSnapping"],gridSnapping:["type",Hu]};var Ace=2e3;function XF(e,t,r){e.on("autoPlace",Ace,function(n){var i=n.source,s=Jt(i),o=n.shape,a=fB(i,o,r);return["x","y"].forEach(function(l){var c={};a[l]!==s[l]&&(a[l]>s[l]?c.min=a[l]:c.max=a[l],he(o,"bpmn:TextAnnotation")&&(Cce(l)?c.offset=-o.width/2:c.offset=-o.height/2),a[l]=t.snapValue(a[l],c))}),a})}XF.$inject=["eventBus","gridSnapping","elementRegistry"];function Cce(e){return e==="x"}var jce=1750;function ZF(e,t,r){t.on(["create.start","shape.move.start"],jce,function(n){var i=n.context,s=i.shape,o=e.getRootElement();if(!(!he(s,"bpmn:Participant")||!he(o,"bpmn:Process")||!o.children.length)){var a=i.createConstraints;a&&(s.width=r.snapValue(s.width,{min:s.width}),s.height=r.snapValue(s.height,{min:s.height}))}})}ZF.$inject=["canvas","eventBus","gridSnapping"];var Tce=3e3;function B2(e,t,r){at.call(this,e),this._gridSnapping=t;var n=this;this.postExecuted(["connection.create","connection.layout"],Tce,function(i){var s=i.context,o=s.connection,a=s.hints||{},l=o.waypoints;a.connectionStart||a.connectionEnd||a.createElementsBehavior===!1||Rce(l)&&r.updateWaypoints(o,n.snapMiddleSegments(l))})}B2.$inject=["eventBus","gridSnapping","modeling"];At(B2,at);B2.prototype.snapMiddleSegments=function(e){var t=this._gridSnapping,r;e=e.slice();for(var n=1;n<e.length-2;n++)r=Ice(t,e[n],e[n+1]),e[n]=r[0],e[n+1]=r[1];return e};function Rce(e){return e.length>3}function Pce(e){return e==="h"}function Oce(e){return e==="v"}function Ice(e,t,r){var n=Vl(t,r),i={};return Pce(n)&&(i.y=e.snapValue(t.y)),Oce(n)&&(i.x=e.snapValue(t.x)),("x"in i||"y"in i)&&(t=Ie({},t,i),r=Ie({},r,i)),[t,r]}const Mce={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",XF],gridSnappingParticipantBehavior:["type",ZF],gridSnappingLayoutConnectionBehavior:["type",B2]},Lce={__depends__:[Nce,Mce],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",GF]};var Dce=30,YF=30;function Dg(e,t){this._interactionEvents=t;var r=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(n){var i=n.element,s=n.gfx;if(he(i,"bpmn:Lane"))return r._createParticipantHit(i,s);if(he(i,"bpmn:Participant"))return Sr(i)?r._createParticipantHit(i,s):r._createDefaultHit(i,s);if(he(i,"bpmn:SubProcess"))return Sr(i)?r._createSubProcessHit(i,s):r._createDefaultHit(i,s)})}Dg.$inject=["eventBus","interactionEvents"];Dg.prototype._createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0};Dg.prototype._createParticipantHit=function(e,t){this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height});var r=bi(e)?{width:Dce,height:e.height}:{width:e.width,height:YF};return this._interactionEvents.createBoxHit(t,"all",r),!0};Dg.prototype._createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:YF}),!0};const Bce={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Dg]};function F2(e){e.invoke(wp,this)}At(F2,wp);F2.$inject=["injector"];F2.prototype.registerBindings=function(e,t){wp.prototype.registerBindings.call(this,e,t);function r(n,i){t.isRegistered(n)&&e.addListener(i)}r("selectElements",function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0}),r("find",function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0}),r("spaceTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["s","S"],i))return t.trigger("spaceTool"),!0}),r("lassoTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["l","L"],i))return t.trigger("lassoTool"),!0}),r("handTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["h","H"],i))return t.trigger("handTool"),!0}),r("globalConnectTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["c","C"],i))return t.trigger("globalConnectTool"),!0}),r("directEditing",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["e","E"],i))return t.trigger("directEditing"),!0}),r("replaceElement",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["r","R"],i))return t.trigger("replaceElement",i),!0})};const Fce={__depends__:[V8],__init__:["keyboardBindings"],keyboardBindings:["type",F2]};var zce={moveSpeed:1,moveSpeedAccelerated:10},Uce=1500,J9="left",Q9="up",ej="right",tj="down",$ce={ArrowLeft:J9,Left:J9,ArrowUp:Q9,Up:Q9,ArrowRight:ej,Right:ej,ArrowDown:tj,Down:tj},Hce={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function JF(e,t,r,n,i){var s=this;this._config=Ie({},zce,e||{}),t.addListener(Uce,function(o){var a=o.keyEvent,l=$ce[a.key];if(l&&!t.isCmd(a)){var c=t.isShift(a);return s.moveSelection(l,c),!0}}),this.moveSelection=function(o,a){var l=i.get();if(l.length){var c=this._config[a?"moveSpeedAccelerated":"moveSpeed"],u=Hce[o](c),h=n.allowed("elements.move",{shapes:l});h&&r.moveElements(l,u)}}}JF.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const Wce={__depends__:[V8,Co],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",JF]};var rj=10;function Bg(e,t,r,n){this._dragging=n,this._rules=t;var i=this;function s(l,c){var u=l.shape,h=l.direction,f=l.resizeConstraints,d;l.delta=c,d=Nse(u,h,c),l.newBounds=Cse(d,f),l.canExecute=i.canResize(l)}function o(l){var c=l.resizeConstraints,u=l.minBounds;c===void 0&&(u===void 0&&(u=i.computeMinResizeBox(l)),l.resizeConstraints={min:Ht(u)})}function a(l){var c=l.shape,u=l.canExecute,h=l.newBounds;if(u){if(h=IL(h),!qce(c,h))return;r.resizeShape(c,h)}}e.on("resize.start",function(l){o(l.context)}),e.on("resize.move",function(l){var c={x:l.dx,y:l.dy};s(l.context,c)}),e.on("resize.end",function(l){a(l.context)})}Bg.prototype.canResize=function(e){var t=this._rules,r=Eo(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",r)};Bg.prototype.activate=function(e,t,r){var n=this._dragging,i,s;if(typeof r=="string"&&(r={direction:r}),i=Ie({shape:t},r),s=i.direction,!s)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");n.init(e,QF(t,s),"resize",{autoActivate:!0,cursor:Vce(s),data:{shape:t,context:i}})};Bg.prototype.computeMinResizeBox=function(e){var t=e.shape,r=e.direction,n,i;return n=e.minDimensions||{width:rj,height:rj},i=DB(t,e.childrenBoxPadding),jse(r,t,n,i)};Bg.$inject=["eventBus","rules","modeling","dragging"];function qce(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function QF(e,t){var r=Jt(e),n=Ht(e),i={x:r.x,y:r.y};return t.indexOf("n")!==-1?i.y=n.top:t.indexOf("s")!==-1&&(i.y=n.bottom),t.indexOf("e")!==-1?i.x=n.right:t.indexOf("w")!==-1&&(i.x=n.left),i}function Vce(e){var t="resize-";return e==="n"||e==="s"?t+"ns":e==="e"||e==="w"?t+"ew":e==="nw"||e==="se"?t+"nwse":t+"nesw"}var nj="djs-resizing",ij="resize-not-ok",Gce=500;function ez(e,t,r){function n(s){var o=s.shape,a=s.newBounds,l=s.frame;l||(l=s.frame=r.addFrame(o,t.getActiveLayer()),t.addMarker(o,nj)),a.width>5&&kt(l,{x:a.x,width:a.width}),a.height>5&&kt(l,{y:a.y,height:a.height}),s.canExecute?Pr(l).remove(ij):Pr(l).add(ij)}function i(s){var o=s.shape,a=s.frame;a&&ui(s.frame),t.removeMarker(o,nj)}e.on("resize.move",Gce,function(s){n(s.context)}),e.on("resize.cleanup",function(s){i(s.context)})}ez.$inject=["eventBus","canvas","previewSupport"];var yv=-6,bv=8,wv=20,xm="djs-resizer",Kce=["n","w","s","e","nw","ne","se","sw"];function Wu(e,t,r,n){this._resize=n,this._canvas=t;var i=this;e.on("selection.changed",function(s){var o=s.newSelection;i.removeResizers(),o.length===1&&Ce(o,Rs(i.addResizer,i))}),e.on("shape.changed",function(s){var o=s.element;r.isSelected(o)&&(i.removeResizers(),i.addResizer(o))})}Wu.prototype.makeDraggable=function(e,t,r){var n=this._resize;function i(s){Iu(s)&&n.activate(s,e,r)}sr.bind(t,"mousedown",i),sr.bind(t,"touchstart",i)};Wu.prototype._createResizer=function(e,t,r,n){var i=this._getResizersParent(),s=Xce(n),o=Mt("g");Pr(o).add(xm),Pr(o).add(xm+"-"+e.id),Pr(o).add(xm+"-"+n),rr(i,o);var a=Mt("rect");kt(a,{x:-bv/2+s.x,y:-bv/2+s.y,width:bv,height:bv}),Pr(a).add(xm+"-visual"),rr(o,a);var l=Mt("rect");return kt(l,{x:-wv/2+s.x,y:-wv/2+s.y,width:wv,height:wv}),Pr(l).add(xm+"-hit"),rr(o,l),Zv(o,t,r),o};Wu.prototype.createResizer=function(e,t){var r=QF(e,t),n=this._createResizer(e,r.x,r.y,t);this.makeDraggable(e,n,t)};Wu.prototype.addResizer=function(e){var t=this;Qr(e)||!this._resize.canResize({shape:e})||Ce(Kce,function(r){t.createResizer(e,r)})};Wu.prototype.removeResizers=function(){var e=this._getResizersParent();Hb(e)};Wu.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};Wu.$inject=["eventBus","canvas","selection","resize"];function Xce(e){var t={x:0,y:0};return e.indexOf("e")!==-1?t.x=-yv:e.indexOf("w")!==-1&&(t.x=yv),e.indexOf("s")!==-1?t.y=-yv:e.indexOf("n")!==-1&&(t.y=yv),t}const tz={__depends__:[ml,hc,kp],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Bg],resizePreview:["type",ez],resizeHandles:["type",Wu]};var Zce=2e3;function Fg(e,t,r,n,i,s,o){this._bpmnFactory=t,this._canvas=r,this._modeling=i,this._textRenderer=o,n.registerProvider(this),e.on("element.dblclick",function(l){a(l.element,!0)}),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){n.isActive()&&n.complete()}),e.on(["shape.remove","connection.remove"],Zce,function(l){n.isActive(l.element)&&n.cancel()}),e.on(["commandStack.changed"],function(l){n.isActive()&&n.cancel()}),e.on("directEditing.activate",function(l){s.removeResizers()}),e.on("create.end",500,function(l){var c=l.context,u=c.shape,h=l.context.canExecute,f=l.isTouch;f||h&&(c.hints&&c.hints.createElementsBehavior===!1||a(u))}),e.on("autoPlace.end",500,function(l){a(l.shape)});function a(l,c){(c||gr(l,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||hE(l))&&n.activate(l)}}Fg.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"];Fg.prototype.activate=function(e){var t=ko(e);if(t!==void 0){var r={text:t},n=this.getEditingBBox(e);Ie(r,n);var i={},s=r.style||{};return Ie(s,{backgroundColor:null,border:null}),(gr(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||hE(e))&&Ie(i,{centerVertically:!0}),nh(e)&&(Ie(i,{autoResize:!0}),Ie(s,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),he(e,"bpmn:TextAnnotation")&&(Ie(i,{resizable:!0,autoResize:!0}),Ie(s,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),Ie(r,{options:i,style:s}),r}};Fg.prototype.getEditingBBox=function(e){var t=this._canvas,r=e.label||e,n=t.getAbsoluteBBox(r),i={x:n.x+n.width/2,y:n.y+n.height/2},s={x:n.x,y:n.y},o=t.zoom(),a=this._textRenderer.getDefaultStyle(),l=this._textRenderer.getExternalStyle(),c=l.fontSize*o,u=l.lineHeight,h=a.fontSize*o,f=a.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(he(e,"bpmn:Lane")||Qce(e)){var p=bi(e),g=p?{width:n.height,height:30*o,x:n.x-n.height/2+15*o,y:i.y-30*o/2}:{width:n.width,height:30*o};Ie(s,g),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px",transform:p?"rotate(-90deg)":null})}if(Jce(e)){var m=bi(e),v=m?{width:n.width,height:n.height}:{width:n.height,height:n.width,x:i.x-n.height/2,y:i.y-n.width/2};Ie(s,v),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px",transform:m?null:"rotate(-90deg)"})}(gr(e,["bpmn:Task","bpmn:CallActivity"])||hE(e))&&(Ie(s,{width:n.width,height:n.height}),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px"})),Yce(e)&&(Ie(s,{width:n.width,x:n.x}),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px"}));var y=90*o,b=7*o,x=4*o;if(r.labelTarget&&(Ie(s,{width:y,height:n.height+b+x,x:i.x-y/2,y:n.y-b}),Ie(d,{fontSize:c+"px",lineHeight:u,paddingTop:b+"px",paddingBottom:x+"px"})),nh(r)&&!Zb(r)&&!Ir(r)){var _=$8(e),M=t.getAbsoluteBBox({x:_.x,y:_.y,width:0,height:0}),U=c+b+x;Ie(s,{width:y,height:U,x:M.x-y/2,y:M.y-U/2}),Ie(d,{fontSize:c+"px",lineHeight:u,paddingTop:b+"px",paddingBottom:x+"px"})}return he(e,"bpmn:TextAnnotation")&&(Ie(s,{width:n.width,height:n.height,minWidth:30*o,minHeight:10*o}),Ie(d,{textAlign:"left",paddingTop:5*o+"px",paddingBottom:7*o+"px",paddingLeft:7*o+"px",paddingRight:5*o+"px",fontSize:h+"px",lineHeight:f})),{bounds:s,style:d}};Fg.prototype.update=function(e,t,r,n){var i,s;he(e,"bpmn:TextAnnotation")&&(s=this._canvas.getAbsoluteBBox(e),i={x:e.x,y:e.y,width:e.width/s.width*n.width,height:e.height/s.height*n.height}),eue(t)&&(t=null),this._modeling.updateLabel(e,t,i)};function hE(e){return he(e,"bpmn:SubProcess")&&!Sr(e)}function Yce(e){return he(e,"bpmn:SubProcess")&&Sr(e)}function Jce(e){return he(e,"bpmn:Participant")&&!Sr(e)}function Qce(e){return he(e,"bpmn:Participant")&&Sr(e)}function eue(e){return!e||!e.trim()}var sj="djs-element-hidden",aj="djs-label-hidden";function rz(e,t,r){var n=this,i=t.getDefaultLayer(),s,o,a;e.on("directEditing.activate",function(l){var c=l.active;if(s=c.element.label||c.element,he(s,"bpmn:TextAnnotation")){o=t.getAbsoluteBBox(s),a=Mt("g");var u=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:0,my:0}}),h=n.path=Mt("path");kt(h,{d:u,strokeWidth:2,stroke:tue(s)}),rr(a,h),rr(i,a),$i(a,s.x,s.y)}he(s,"bpmn:TextAnnotation")||s.labelTarget?t.addMarker(s,sj):(he(s,"bpmn:Task")||he(s,"bpmn:CallActivity")||he(s,"bpmn:SubProcess")||he(s,"bpmn:Participant")||he(s,"bpmn:Lane"))&&t.addMarker(s,aj)}),e.on("directEditing.resize",function(l){if(he(s,"bpmn:TextAnnotation")){var c=l.height,u=l.dy,h=Math.max(s.height/o.height*(c+u),0),f=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:h,position:{mx:0,my:0}});kt(n.path,{d:f})}}),e.on(["directEditing.complete","directEditing.cancel"],function(l){var c=l.active;c&&(t.removeMarker(c.element.label||c.element,sj),t.removeMarker(s,aj)),s=void 0,o=void 0,a&&(ui(a),a=void 0)})}rz.$inject=["eventBus","canvas","pathMap"];function tue(e,t){var r=Or(e);return r.get("stroke")||t||"black"}const rue={__depends__:[H8,tz,WF],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Fg],labelEditingPreview:["type",rz]};var nue=new yg("tt");function iue(e){var t=dn('<div class="djs-tooltip-container" />');return Ji(t,{position:"absolute",width:"0",height:"0"}),e.insertBefore(t,e.firstChild),t}function sue(e,t,r){Ji(e,{left:t+"px",top:r+"px"})}function fE(e,t){e.style.display=t===!1?"none":""}var nz="djs-tooltip",Zx="."+nz;function Is(e,t){this._eventBus=e,this._canvas=t,this._ids=nue,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=iue(t.getContainer());var r=this;Gs.bind(this._tooltipRoot,Zx,"mousedown",function(n){n.stopPropagation()}),Gs.bind(this._tooltipRoot,Zx,"mouseover",function(n){r.trigger("mouseover",n)}),Gs.bind(this._tooltipRoot,Zx,"mouseout",function(n){r.trigger("mouseout",n)}),this._init()}Is.$inject=["eventBus","canvas"];Is.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=Ie({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t};Is.prototype.trigger=function(e,t){var r=t.delegateTarget||t.target,n=this.get(Qi(r,"data-tooltip-id"));n&&(e==="mouseover"&&n.timeout&&this.clearTimeout(n),e==="mouseout"&&n.timeout&&(n.timeout=1e3,this.setTimeout(n)))};Is.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]};Is.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}};Is.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout)}};Is.prototype.remove=function(e){var t=this.get(e);t&&(cl(t.html),cl(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])};Is.prototype.show=function(){fE(this._tooltipRoot)};Is.prototype.hide=function(){fE(this._tooltipRoot,!1)};Is.prototype._updateRoot=function(e){var t=e.scale||1,r=e.scale||1,n="matrix("+t+",0,0,"+r+","+-1*e.x*t+","+-1*e.y*r+")";this._tooltipRoot.style.transform=n,this._tooltipRoot.style["-ms-transform"]=n};Is.prototype._addTooltip=function(e){var t=e.id,r=e.html,n,i=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),Ys(r)&&(r=dn(r)),n=dn('<div data-tooltip-id="'+t+'" class="'+nz+'">'),Ji(n,{position:"absolute"}),n.appendChild(r),e.type&&On(n).add("djs-tooltip-"+e.type),e.className&&On(n).add(e.className),e.htmlContainer=n,i.appendChild(n),this._tooltips[t]=e,this._updateTooltip(e)};Is.prototype._updateTooltip=function(e){var t=e.position,r=e.htmlContainer;sue(r,t.x,t.y)};Is.prototype._updateTooltipVisibilty=function(e){Ce(this._tooltips,function(t){var r=t.show,n=t.htmlContainer,i=!0;r&&((r.minZoom>e.scale||r.maxZoom<e.scale)&&(i=!1),fE(n,i))})};Is.prototype._init=function(){var e=this;function t(r){e._updateRoot(r),e._updateTooltipVisibilty(r),e.show()}this._eventBus.on("canvas.viewbox.changing",function(r){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(r){t(r.viewbox)})};const aue={__init__:["tooltips"],tooltips:["type",Is]};var oue="flow elements must be children of pools/participants",lue="Data object must be placed within a pool/participant.";function iz(e,t,r){function n(i,s,o){t.add({position:{x:i.x+5,y:i.y+5},type:"error",timeout:2e3,html:"<div>"+s+"</div>"})}e.on(["shape.move.rejected","create.rejected"],function(i){var s=i.context,o=s.shape,a=s.target;he(a,"bpmn:Collaboration")&&(he(o,"bpmn:FlowNode")?n(i,r(oue)):he(o,"bpmn:DataObjectReference")&&n(i,r(lue)))})}iz.$inject=["eventBus","tooltips","translate"];const cue={__depends__:[aue],__init__:["modelingFeedback"],modelingFeedback:["type",iz]};var uue=500,due=1e3;function bh(e,t){this._eventBus=e,this.offset=5;var r=t.cls("djs-outline",["no-fill"]),n=this;function i(s){var o=Mt("rect");return kt(o,Ie({x:0,y:0,rx:4,width:100,height:100},r)),o}e.on(["shape.added","shape.changed"],uue,function(s){var o=s.element,a=s.gfx,l=Jr(".djs-outline",a);l||(l=n.getOutline(o)||i(),rr(a,l)),n.updateShapeOutline(l,o)}),e.on(["connection.added","connection.changed"],function(s){var o=s.element,a=s.gfx,l=Jr(".djs-outline",a);l||(l=i(),rr(a,l)),n.updateConnectionOutline(l,o)})}bh.prototype.updateShapeOutline=function(e,t){var r=!1,n=this._getProviders();n.length&&Ce(n,function(i){r=r||i.updateOutline(t,e)}),r||kt(e,{x:-this.offset,y:-this.offset,width:t.width+this.offset*2,height:t.height+this.offset*2})};bh.prototype.updateConnectionOutline=function(e,t){var r=di(t);kt(e,{x:r.x-this.offset,y:r.y-this.offset,width:r.width+this.offset*2,height:r.height+this.offset*2})};bh.prototype.registerProvider=function(e,t){t||(t=e,e=due),this._eventBus.on("outline.getProviders",e,function(r){r.providers.push(t)})};bh.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};bh.prototype.getOutline=function(e){var t,r=this._getProviders();return Ce(r,function(n){yi(n.getOutline)&&(t=t||n.getOutline(e))}),t};bh.$inject=["eventBus","styles","elementRegistry"];var xv=6;function pE(e,t,r){this._canvas=t;var n=this;e.on("element.changed",function(i){r.isSelected(i.element)&&n._updateMultiSelectionOutline(r.get())}),e.on("selection.changed",function(i){var s=i.newSelection;n._updateMultiSelectionOutline(s)})}pE.prototype._updateMultiSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");Hb(t);var r=e.length>1,n=this._canvas.getContainer();if(Pr(n)[r?"add":"remove"]("djs-multi-select"),!!r){var i=hue(di(e)),s=Mt("rect");kt(s,Ie({rx:3},i)),Pr(s).add("djs-selection-outline"),rr(t,s)}};pE.$inject=["eventBus","canvas","selection"];function hue(e){return{x:e.x-xv,y:e.y-xv,width:e.width+xv*2,height:e.height+xv*2}}const sz={__depends__:[Co],__init__:["outline","multiSelectionOutline"],outline:["type",bh],multiSelectionOutline:["type",pE]};var fue=500,pue=1250,mue=1500,lb=Math.round;function gue(e){return{x:e.x+lb(e.width/2),y:e.y+lb(e.height/2)}}function az(e,t,r,n,i){function s(a,l,c,u){return i.allowed("elements.move",{shapes:a,delta:l,position:c,target:u})}e.on("shape.move.start",mue,function(a){var l=a.context,c=a.shape,u=n.get().slice();u.indexOf(c)===-1&&(u=[c]),u=vue(u),Ie(l,{shapes:u,validatedShapes:u,shape:c})}),e.on("shape.move.start",pue,function(a){var l=a.context,c=l.validatedShapes,u;if(u=l.canExecute=s(c),!u)return!1}),e.on("shape.move.move",fue,function(a){var l=a.context,c=l.validatedShapes,u=a.hover,h={x:a.dx,y:a.dy},f={x:a.x,y:a.y},d;if(d=s(c,h,f,u),l.delta=h,l.canExecute=d,d===null){l.target=null;return}l.target=u}),e.on("shape.move.end",function(a){var l=a.context,c=l.delta,u=l.canExecute,h=u==="attach",f=l.shapes;if(u===!1)return!1;c.x=lb(c.x),c.y=lb(c.y),!(c.x===0&&c.y===0)&&r.moveElements(f,c,l.target,{primaryShape:l.shape,attach:h})}),e.on("element.mousedown",function(a){if(Iu(a)){var l=yp(a);if(!l)throw new Error("must supply DOM mousedown event");return o(l,a.element)}});function o(a,l,c,u){if(Mi(c)&&(u=c,c=!1),!(l.waypoints||!l.parent)&&!Pr(a.target).has("djs-hit-no-move")){var h=gue(l);return t.init(a,h,"shape.move",{cursor:"grabbing",autoActivate:c,data:{shape:l,context:u||{}}}),!0}}this.start=o}az.$inject=["eventBus","dragging","modeling","selection","rules"];function vue(e){var t=fp(e,"id");return mr(e,function(r){for(;r=r.parent;)if(t[r.id])return!1;return!0})}var oj=499,Yx="djs-dragging",lj="drop-ok",cj="drop-not-ok",uj="new-parent",dj="attach-ok";function oz(e,t,r,n){function i(l){var c=s(l),u=yue(c);return u}function s(l){var c=dg(l,!0),u=c.flatMap(d=>(d.incoming||[]).concat(d.outgoing||[])),h=c.concat(u),f=[...new Set(h)];return f}function o(l,c){[dj,lj,cj,uj].forEach(function(u){u===c?t.addMarker(l,u):t.removeMarker(l,u)})}function a(l,c,u){n.addDragger(c,l.dragGroup),u&&t.addMarker(c,Yx),l.allDraggedElements?l.allDraggedElements.push(c):l.allDraggedElements=[c]}e.on("shape.move.start",oj,function(l){var c=l.context,u=c.shapes,h=c.allDraggedElements,f=i(u);if(!c.dragGroup){var d=Mt("g");kt(d,r.cls("djs-drag-group",["no-events"]));var p=t.getActiveLayer();rr(p,d),c.dragGroup=d}f.forEach(function(g){n.addDragger(g,c.dragGroup)}),h?h=k8([h,s(u)]):h=s(u),Ce(h,function(g){t.addMarker(g,Yx)}),c.allDraggedElements=h,c.differentParents=bue(u)}),e.on("shape.move.move",oj,function(l){var c=l.context,u=c.dragGroup,h=c.target,f=c.shape.parent,d=c.canExecute;h&&(d==="attach"?o(h,dj):c.canExecute&&f&&h.id!==f.id?o(h,uj):o(h,c.canExecute?lj:cj)),$i(u,l.dx,l.dy)}),e.on(["shape.move.out","shape.move.cleanup"],function(l){var c=l.context,u=c.target;u&&o(u,null)}),e.on("shape.move.cleanup",function(l){var c=l.context,u=c.allDraggedElements,h=c.dragGroup;Ce(u,function(f){t.removeMarker(f,Yx)}),h&&ui(h)}),this.makeDraggable=a}oz.$inject=["eventBus","canvas","styles","previewSupport"];function yue(e){var t=mr(e,function(r){return Qr(r)?Lr(e,bo({id:r.source.id}))&&Lr(e,bo({id:r.target.id})):!0});return t}function bue(e){return TJ(fp(e,function(t){return t.parent&&t.parent.id}))!==1}const wue={__depends__:[t2,Co,sz,ml,hc,kp],__init__:["move","movePreview"],move:["type",az],movePreview:["type",oz]};var lz=".djs-palette-toggle",cz=".entry",xue=lz+", "+cz,Y4="djs-palette-",_ue="shown",J4="open",hj="two-column",Sue=1e3;function Yn(e,t){this._eventBus=e,this._canvas=t;var r=this;e.on("tool-manager.update",function(n){var i=n.tool;r.updateToolHighlight(i)}),e.on("i18n.changed",function(){r._update()}),e.on("diagram.init",function(){r._diagramInitialized=!0,r._rebuild()})}Yn.$inject=["eventBus","canvas"];Yn.prototype.registerProvider=function(e,t){t||(t=e,e=Sue),this._eventBus.on("palette.getProviders",e,function(r){r.providers.push(t)}),this._rebuild()};Yn.prototype.getEntries=function(){var e=this._getProviders();return e.reduce(kue,{})};Yn.prototype._rebuild=function(){if(this._diagramInitialized){var e=this._getProviders();e.length&&(this._container||this._init(),this._update())}};Yn.prototype._init=function(){var e=this,t=this._eventBus,r=this._getParentContainer(),n=this._container=dn(Yn.HTML_MARKUP);r.appendChild(n),On(r).add(Y4+_ue),Gs.bind(n,xue,"click",function(i){var s=i.delegateTarget;if(bL(s,lz))return e.toggle();e.trigger("click",i)}),sr.bind(n,"mousedown",function(i){i.stopPropagation()}),Gs.bind(n,cz,"dragstart",function(i){e.trigger("dragstart",i)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:n})};Yn.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};Yn.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),r=this._container,n=this._eventBus,i,s=On(r),o=On(t);"twoColumn"in e?i=e.twoColumn:i=this._needsCollapse(t.clientHeight,this._entries||{}),s.toggle(hj,i),o.toggle(Y4+hj,i),"open"in e&&(s.toggle(J4,e.open),o.toggle(Y4+J4,e.open)),n.fire("palette.changed",{twoColumn:i,open:this.isOpen()})};Yn.prototype._update=function(){var e=Jr(".djs-palette-entries",this._container),t=this._entries=this.getEntries();$b(e),Ce(t,function(r,n){var i=r.group||"default",s=Jr("[data-group="+q0(i)+"]",e);s||(s=dn('<div class="group"></div>'),Qi(s,"data-group",i),e.appendChild(s));var o=r.html||(r.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=dn(o);if(s.appendChild(a),!r.separator&&(Qi(a,"data-action",n),r.title&&Qi(a,"title",r.title),r.className&&Eue(a,r.className),r.imageUrl)){var l=dn("<img>");Qi(l,"src",r.imageUrl),a.appendChild(l)}}),this.open()};Yn.prototype.trigger=function(e,t,r){var n,i,s=t.delegateTarget||t.target;return s?(n=Qi(s,"data-action"),i=t.originalEvent||t,this.triggerEntry(n,e,i,r)):t.preventDefault()};Yn.prototype.triggerEntry=function(e,t,r,n){var i=this._entries,s,o;if(s=i[e],!!s&&(o=s.action,this._eventBus.fire("palette.trigger",{entry:s,event:r})!==!1)){if(yi(o)){if(t==="click")return o(r,n)}else if(o[t])return o[t](r,n);r.preventDefault()}};Yn.prototype._layoutChanged=function(){this._toggleState({})};Yn.prototype._needsCollapse=function(e,t){var r=50,n=Object.keys(t).length*46;return e<n+r};Yn.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};Yn.prototype.open=function(){this._toggleState({open:!0})};Yn.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Yn.prototype.isActiveTool=function(e){return e&&this._activeTool===e};Yn.prototype.updateToolHighlight=function(e){var t,r;this._toolsContainer||(t=Jr(".djs-palette-entries",this._container),this._toolsContainer=Jr("[data-group=tools]",t)),r=this._toolsContainer,Ce(r.children,function(n){var i=n.getAttribute("data-action");if(i){var s=On(n);i=i.replace("-tool",""),s.contains("entry")&&i===e?s.add("highlighted-entry"):s.remove("highlighted-entry")}})};Yn.prototype.isOpen=function(){return On(this._container).has(J4)};Yn.prototype._getParentContainer=function(){return this._canvas.getContainer()};Yn.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function Eue(e,t){var r=On(e),n=Qt(t)?t:t.split(/\s+/g);n.forEach(function(i){r.add(i)})}function kue(e,t){var r=t.getPaletteEntries();return yi(r)?r(e):(Ce(r,function(n,i){e[i]=n}),e)}const Nue={__init__:["palette"],palette:["type",Yn]};var uz="crosshair";function wh(e,t,r,n,i,s,o){this._selection=i,this._dragging=r,this._mouse=o;var a=this,l={create:function(c){var u=t.getActiveLayer(),h;h=c.frame=Mt("rect"),kt(h,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),rr(u,h)},update:function(c){var u=c.frame,h=c.bbox;kt(u,{x:h.x,y:h.y,width:h.width,height:h.height})},remove:function(c){c.frame&&ui(c.frame)}};s.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",function(c){var u=c.originalEvent.target;!c.hover&&!(u instanceof SVGElement)||e.once("lasso.selection.ended",function(){a.activateLasso(c.originalEvent,!0)})}),e.on("lasso.end",0,function(c){var u=c.context,h=Jx(c),f=n.filter(function(p){return p}),d=Jy(c);a.select(f,h,d?u.selection:[])}),e.on("lasso.start",function(c){var u=c.context;u.bbox=Jx(c),l.create(u),u.selection=i.get()}),e.on("lasso.move",function(c){var u=c.context;u.bbox=Jx(c),l.update(u)}),e.on("lasso.cleanup",function(c){var u=c.context;l.remove(u)}),e.on("element.mousedown",1500,function(c){if(Jy(c))return a.activateLasso(c.originalEvent),!0})}wh.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];wh.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:uz,data:{context:{}}})};wh.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:uz,data:{context:{}},keepSelection:!0})};wh.prototype.select=function(e,t,r=[]){var n=CL(e,t);this._selection.select([...r,...zb(n)])};wh.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};wh.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};function Jx(e){var t={x:e.x-e.dx,y:e.y-e.dy},r={x:e.x,y:e.y},n;return t.x<=r.x&&t.y<r.y||t.x<r.x&&t.y<=r.y?n={x:t.x,y:t.y,width:r.x-t.x,height:r.y-t.y}:t.x>=r.x&&t.y<r.y||t.x>r.x&&t.y<=r.y?n={x:r.x,y:t.y,width:t.x-r.x,height:r.y-t.y}:t.x<=r.x&&t.y>r.y||t.x<r.x&&t.y>=r.y?n={x:t.x,y:r.y,width:r.x-t.x,height:t.y-r.y}:t.x>=r.x&&t.y>r.y||t.x>r.x&&t.y>=r.y?n={x:r.x,y:r.y,width:t.x-r.x,height:t.y-r.y}:n={x:r.x,y:r.y,width:0,height:0},n}const Aue={__depends__:[_2,Sg],__init__:["lassoTool"],lassoTool:["type",wh]};var Qx=1500,dz="grab";function Np(e,t,r,n,i,s){this._dragging=r,this._mouse=s;var o=this,a=n.get("keyboard",!1);i.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",Qx,function(l){if(V0(l))return o.activateMove(l.originalEvent,!0),!1}),a&&a.addListener(Qx,function(l){if(!(!fj(l.keyEvent)||o.isActive())){var c=o._mouse.getLastMoveEvent();o.activateMove(c,!!c)}},"keyboard.keydown"),a&&a.addListener(Qx,function(l){!fj(l.keyEvent)||!o.isActive()||o.toggle()},"keyboard.keyup"),e.on("hand.end",function(l){var c=l.originalEvent.target;if(!l.hover&&!(c instanceof SVGElement))return!1;e.once("hand.ended",function(){o.activateMove(l.originalEvent,{reactivate:!0})})}),e.on("hand.move.move",function(l){var c=t.viewbox().scale;t.scroll({dx:l.dx*c,dy:l.dy*c})}),e.on("hand.move.end",function(l){var c=l.context,u=c.reactivate;return!V0(l)&&u&&e.once("hand.move.ended",function(h){o.activateHand(h.originalEvent,!0,!0)}),!1})}Np.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];Np.prototype.activateMove=function(e,t,r){typeof t=="object"&&(r=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:dz,data:{context:r||{}}})};Np.prototype.activateHand=function(e,t,r){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:dz,data:{context:{reactivate:r}}})};Np.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)};Np.prototype.isActive=function(){var e=this._dragging.context();return e?/^(hand|hand\.move)$/.test(e.prefix):!1};function fj(e){return Ri("Space",e)}const Cue={__depends__:[_2,Sg],__init__:["handTool"],handTool:["type",Np]};var pj="connect-ok",mj="connect-not-ok";function Ap(e,t,r,n,i,s,o){var a=this;this._dragging=t,this._rules=s,this._mouse=o,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",function(l){var c=l.context,u=l.hover,h=c.canStartConnect=a.canStartConnect(u);h!==null&&(c.startTarget=u,n.addMarker(u,h?pj:mj))}),e.on(["global-connect.out","global-connect.cleanup"],function(l){var c=l.context.startTarget,u=l.context.canStartConnect;c&&n.removeMarker(c,u?pj:mj)}),e.on(["global-connect.ended"],function(l){var c=l.context,u=c.startTarget,h={x:l.x,y:l.y},f=a.canStartConnect(u);if(f)return e.once("element.out",function(){e.once(["connect.ended","connect.canceled"],function(){e.fire("global-connect.drag.ended")}),r.start(null,u,h)}),!1})}Ap.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Ap.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})};Ap.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)};Ap.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)};Ap.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};const jue={__depends__:[oS,ml,hc,_2,Sg],globalConnect:["type",Ap]};function mE(e,t,r,n,i,s,o,a){this._palette=e,this._create=t,this._elementFactory=r,this._spaceTool=n,this._lassoTool=i,this._handTool=s,this._globalConnect=o,this._translate=a,e.registerProvider(this)}mE.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];mE.prototype.getPaletteEntries=function(){var e={},t=this._create,r=this._elementFactory,n=this._spaceTool,i=this._lassoTool,s=this._handTool,o=this._globalConnect,a=this._translate;function l(h,f,d,p,g){function m(v){var y=r.createShape(Ie({type:h},g));t.start(v,y)}return{group:f,className:d,title:p,action:{dragstart:m,click:m}}}function c(h){var f=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),d=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:f});t.start(h,[f,d],{hints:{autoSelect:[f]}})}function u(h){t.start(h,r.createParticipantShape())}return Ie(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:a("Activate hand tool"),action:{click:function(h){s.activateHand(h)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:a("Activate lasso tool"),action:{click:function(h){i.activateSelection(h)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:a("Activate create/remove space tool"),action:{click:function(h){n.activateSelection(h)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:a("Activate global connect tool"),action:{click:function(h){o.start(h)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":l("bpmn:StartEvent","event","bpmn-icon-start-event-none",a("Create start event")),"create.intermediate-event":l("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",a("Create intermediate/boundary event")),"create.end-event":l("bpmn:EndEvent","event","bpmn-icon-end-event-none",a("Create end event")),"create.exclusive-gateway":l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",a("Create gateway")),"create.task":l("bpmn:Task","activity","bpmn-icon-task",a("Create task")),"create.data-object":l("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",a("Create data object reference")),"create.data-store":l("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",a("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:a("Create expanded sub-process"),action:{dragstart:c,click:c}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:a("Create pool/participant"),action:{dragstart:u,click:u}},"create.group":l("bpmn:Group","artifact","bpmn-icon-group",a("Create group"))}),e};const Tue={__depends__:[Nue,x2,NF,Aue,Cue,jue,Jb],__init__:["paletteProvider"],paletteProvider:["type",mE]};var Rue=250;function gE(e,t,r,n,i){at.call(this,e);function s(a){var l=a.canExecute.replacements;Ce(l,function(c){var u=c.oldElementId,h={type:c.newElementType};if(!a.visualReplacements[u]){var f=t.get(u);Ie(h,{x:f.x,y:f.y});var d=r.createShape(h);n.addShape(d,f.parent);var p=Jr('[data-element-id="'+q0(f.id)+'"]',a.dragGroup);p&&kt(p,{display:"none"});var g=i.addDragger(d,a.dragGroup);a.visualReplacements[u]=g,n.removeShape(d)}})}function o(a){var l=a.visualReplacements;Ce(l,function(c,u){var h=Jr('[data-element-id="'+q0(u)+'"]',a.dragGroup);h&&kt(h,{display:"inline"}),c.remove(),l[u]&&delete l[u]})}e.on("shape.move.move",Rue,function(a){var l=a.context,c=l.canExecute;l.visualReplacements||(l.visualReplacements={}),c&&c.replacements?s(l):o(l)})}gE.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];At(gE,at);const Pue={__depends__:[kp],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",gE]};var Oue=1250,e_=40,Iue=20,Mue=10,gj=20,hz=["x","y"],Lue=Math.abs;function fz(e){e.on(["connect.hover","connect.move","connect.end"],Oue,function(t){var r=t.context,n=r.canExecute,i=r.start,s=r.hover,o=r.source,a=r.target;t.originalEvent&&qa(t.originalEvent)||(r.initialConnectionStart||(r.initialConnectionStart=r.connectionStart),n&&s&&Due(t,s,Uue(s)),s&&zue(n,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(r.connectionStart=Ha(i),gr(s,["bpmn:Event","bpmn:Gateway"])&&vj(t,Ha(s)),gr(s,["bpmn:Task","bpmn:SubProcess"])&&Bue(t,s),he(o,"bpmn:BoundaryEvent")&&a===o.host&&Fue(t)):pz(n,"bpmn:MessageFlow")?(he(i,"bpmn:Event")&&(r.connectionStart=Ha(i)),he(s,"bpmn:Event")&&vj(t,Ha(s))):r.connectionStart=r.initialConnectionStart)})}fz.$inject=["eventBus"];function Due(e,t,r){hz.forEach(function(n){var i=mz(n,t);e[n]<t[n]+r?Xn(e,n,t[n]+r):e[n]>t[n]+i-r&&Xn(e,n,t[n]+i-r)})}function Bue(e,t){var r=Ha(t);hz.forEach(function(n){$ue(e,t,n)&&Xn(e,n,r[n])})}function Fue(e){var t=e.context,r=t.source,n=t.target;if(!Hue(t)){var i=Ha(r),s=ss(i,n,-10),o=[];/top|bottom/.test(s)&&o.push("x"),/left|right/.test(s)&&o.push("y"),o.forEach(function(a){var l=e[a],c;Lue(l-i[a])<e_&&(l>i[a]?c=i[a]+e_:c=i[a]-e_,Xn(e,a,c))})}}function vj(e,t){Xn(e,"x",t.x),Xn(e,"y",t.y)}function pz(e,t){return e&&e.type===t}function zue(e,t){return ju(t,function(r){return pz(e,r)})}function mz(e,t){return e==="x"?t.width:t.height}function Uue(e){return he(e,"bpmn:Task")?Mue:Iue}function $ue(e,t,r){return e[r]>t[r]+gj&&e[r]<t[r]+mz(r,t)-gj}function Hue(e){var t=e.hover,r=e.source;return t&&r&&t===r}function qu(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}qu.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]};qu.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,this._snapLocations.indexOf(e)===-1&&this._snapLocations.push(e)};qu.prototype.addDefaultSnap=function(e,t){var r=this._defaultSnaps[e];r||(r=this._defaultSnaps[e]=[]),r.push(t)};qu.prototype.getSnapLocations=function(){return this._snapLocations};qu.prototype.setSnapLocations=function(e){this._snapLocations=e};qu.prototype.pointsForTarget=function(e){var t=e.id||e,r=this._targets[t];return r||(r=this._targets[t]=new z2,r.initDefaults(this._defaultSnaps)),r};function z2(){this._snapValues={}}z2.prototype.add=function(e,t){var r=this._snapValues[e];r||(r=this._snapValues[e]={x:[],y:[]}),r.x.indexOf(t.x)===-1&&r.x.push(t.x),r.y.indexOf(t.y)===-1&&r.y.push(t.y)};z2.prototype.snap=function(e,t,r,n){var i=this._snapValues[t];return i&&Yie(e[r],i[r],n)};z2.prototype.initDefaults=function(e){var t=this;Ce(e||{},function(r,n){Ce(r,function(i){t.add(n,i)})})};var Wue=1250;function gl(e,t,r){var n=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],function(i){n.initSnap(i)}),t.on(["create.move","create.end","shape.move.move","shape.move.end"],Wue,function(i){var s=i.context,o=s.shape,a=s.snapContext,l=s.target;if(!(i.originalEvent&&qa(i.originalEvent))&&!(Kf(i)||!l)){var c=a.pointsForTarget(l);c.initialized||(c=n.addSnapTargetPoints(c,o,l),c.initialized=!0),r.snap(i,c)}}),t.on(["create.cleanup","shape.move.cleanup"],function(){r.hide()})}gl.$inject=["elementRegistry","eventBus","snapping"];gl.prototype.initSnap=function(e){var t=this._elementRegistry,r=e.context,n=r.shape,i=r.snapContext;i||(i=r.snapContext=new qu);var s;t.get(n.id)?s=Ha(n,e):s={x:e.x+Ha(n).x,y:e.y+Ha(n).y};var o={x:s.x-n.width/2,y:s.y-n.height/2},a={x:s.x+n.width/2,y:s.y+n.height/2};return i.setSnapOrigin("mid",{x:s.x-e.x,y:s.y-e.y}),Ir(n)||(i.setSnapOrigin("top-left",{x:o.x-e.x,y:o.y-e.y}),i.setSnapOrigin("bottom-right",{x:a.x-e.x,y:a.y-e.y})),i};gl.prototype.addSnapTargetPoints=function(e,t,r){var n=this.getSnapTargets(t,r);return Ce(n,function(i){if(Ir(i)){Ir(t)&&e.add("mid",Ha(i));return}if(Qr(i)){if(i.waypoints.length<3)return;var s=i.waypoints.slice(1,-1);Ce(s,function(o){e.add("mid",o)});return}e.add("mid",Ha(i))}),!Yt(t.x)||!Yt(t.y)||this._elementRegistry.get(t.id)&&e.add("mid",Ha(t)),e};gl.prototype.getSnapTargets=function(e,t){return jB(t).filter(function(r){return!que(r)})};function que(e){return!!e.hidden}var yj=1500;function Cp(e,t){t.invoke(gl,this),e.on(["create.move","create.end"],yj,Xue),e.on(["create.move","create.end","shape.move.move","shape.move.end"],yj,function(r){var n=r.context,i=n.canExecute,s=n.target,o=i&&(i==="attach"||i.attach);o&&!Kf(r)&&Vue(r,s)})}At(Cp,gl);Cp.$inject=["eventBus","injector"];Cp.prototype.initSnap=function(e){var t=gl.prototype.initSnap.call(this,e),r=e.shape,n=!!this._elementRegistry.get(r.id);return Ce(r.outgoing,function(i){var s=i.waypoints[0];s=s.original||s,t.setSnapOrigin(i.id+"-docking",wj(s,n,e))}),Ce(r.incoming,function(i){var s=i.waypoints[i.waypoints.length-1];s=s.original||s,t.setSnapOrigin(i.id+"-docking",wj(s,n,e))}),he(r,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t};Cp.prototype.addSnapTargetPoints=function(e,t,r){gl.prototype.addSnapTargetPoints.call(this,e,t,r);var n=this.getSnapTargets(t,r);Ce(n,function(s){(Kue(s)||Gue([t,s],"bpmn:TextAnnotation"))&&(e.add("top-left",AB(s)),e.add("bottom-right",CB(s)))});var i=this._elementRegistry;return Ce(t.incoming,function(s){if(i.get(t.id)){bj(n,s.source)||e.add("mid",Jt(s.source));var o=s.waypoints[0];e.add(s.id+"-docking",o.original||o)}}),Ce(t.outgoing,function(s){if(i.get(t.id)){bj(n,s.target)||e.add("mid",Jt(s.target));var o=s.waypoints[s.waypoints.length-1];e.add(s.id+"-docking",o.original||o)}}),he(r,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,r.parent)),e};Cp.prototype.getSnapTargets=function(e,t){return gl.prototype.getSnapTargets.call(this,e,t).filter(function(r){return!he(r,"bpmn:Lane")})};function Vue(e,t){var r=Ht(t),n=tF(e,t),i=e.context,s=i.shape,o;s.parent?o={x:0,y:0}:o=Jt(s),/top/.test(n)?Xn(e,"y",r.top-o.y):/bottom/.test(n)&&Xn(e,"y",r.bottom-o.y),/left/.test(n)?Xn(e,"x",r.left-o.x):/right/.test(n)&&Xn(e,"x",r.right-o.x)}function Gue(e,t){return e.every(function(r){return he(r,t)})}function Kue(e){return he(e,"bpmn:SubProcess")&&Sr(e)?!0:he(e,"bpmn:Participant")}function Xue(e){var t=e.context,r=t.createConstraints;if(r){var n=r.top,i=r.right,s=r.bottom,o=r.left;(o&&o>=e.x||i&&i<=e.x)&&Xn(e,"x",e.x),(n&&n>=e.y||s&&s<=e.y)&&Xn(e,"y",e.y)}}function bj(e,t){return e.indexOf(t)!==-1}function wj(e,t,r){return t?{x:e.x-r.x,y:e.y-r.y}:{x:e.x,y:e.y}}var Zue=1250;function zg(e,t){var r=this;e.on(["resize.start"],function(n){r.initSnap(n)}),e.on(["resize.move","resize.end"],Zue,function(n){var i=n.context,s=i.shape,o=s.parent,a=i.direction,l=i.snapContext;if(!(n.originalEvent&&qa(n.originalEvent))&&!Kf(n)){var c=l.pointsForTarget(o);c.initialized||(c=r.addSnapTargetPoints(c,s,o,a),c.initialized=!0),Que(a)&&Xn(n,"x",n.x),ede(a)&&Xn(n,"y",n.y),t.snap(n,c)}}),e.on(["resize.cleanup"],function(){t.hide()})}zg.prototype.initSnap=function(e){var t=e.context,r=t.shape,n=t.direction,i=t.snapContext;i||(i=t.snapContext=new qu);var s=gz(r,n);return i.setSnapOrigin("corner",{x:s.x-e.x,y:s.y-e.y}),i};zg.prototype.addSnapTargetPoints=function(e,t,r,n){var i=this.getSnapTargets(t,r);return Ce(i,function(s){e.add("corner",CB(s)),e.add("corner",AB(s))}),e.add("corner",gz(t,n)),e};zg.$inject=["eventBus","snapping"];zg.prototype.getSnapTargets=function(e,t){return jB(t).filter(function(r){return!Yue(r,e)&&!Qr(r)&&!Jue(r)&&!Ir(r)})};function gz(e,t){var r=Jt(e),n=Ht(e),i={x:r.x,y:r.y};return t.indexOf("n")!==-1?i.y=n.top:t.indexOf("s")!==-1&&(i.y=n.bottom),t.indexOf("e")!==-1?i.x=n.right:t.indexOf("w")!==-1&&(i.x=n.left),i}function Yue(e,t){return e.host===t}function Jue(e){return!!e.hidden}function Que(e){return e==="n"||e==="s"}function ede(e){return e==="e"||e==="w"}var tde=7,rde=1e3;function Vu(e){this._canvas=e,this._asyncHide=mL(Rs(this.hide,this),rde)}Vu.$inject=["canvas"];Vu.prototype.snap=function(e,t){var r=e.context,n=r.snapContext,i=n.getSnapLocations(),s={x:Kf(e,"x"),y:Kf(e,"y")};Ce(i,function(o){var a=n.getSnapOrigin(o),l={x:e.x+a.x,y:e.y+a.y};if(Ce(["x","y"],function(c){var u;s[c]||(u=t.snap(l,o,c,tde),u!==void 0&&(s[c]={value:u,originValue:u-a[c]}))}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),Ce(["x","y"],function(o){var a=s[o];Mi(a)&&Xn(e,o,a.originValue)})};Vu.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),r=Mt("path");return kt(r,{d:"M0,0 L0,0"}),Pr(r).add("djs-snap-line"),rr(t,r),{update:function(n){Yt(n)?e==="horizontal"?kt(r,{d:"M-100000,"+n+" L+100000,"+n,display:""}):kt(r,{d:"M "+n+",-100000 L "+n+", +100000",display:""}):kt(r,{display:"none"})}}};Vu.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};Vu.prototype.showSnapLine=function(e,t){var r=this.getSnapLine(e);r&&r.update(t),this._asyncHide()};Vu.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]};Vu.prototype.hide=function(){Ce(this._snapLines,function(e){e.update()})};const nde={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",gl],resizeSnapping:["type",zg],snapping:["type",Vu]},ide={__depends__:[nde],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",fz],createMoveSnapping:["type",Cp]};var vz=300;function nr(e,t,r,n){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=e,this._eventBus=t,this._selection=r,this._translate=n,this._container=this._getBoxHtml(),this._searchInput=Jr(nr.INPUT_SELECTOR,this._container),this._resultsContainer=Jr(nr.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}nr.$inject=["canvas","eventBus","selection","translate"];nr.prototype._bindEvents=function(){var e=this;function t(r,n,i,s){e._eventMaps.push({el:r,type:i,listener:Gs.bind(r,n,i,s)})}t(document,"html","click",function(r){e.close(!1)}),t(this._container,nr.INPUT_SELECTOR,"click",function(r){r.stopPropagation(),r.delegateTarget.focus()}),t(this._container,nr.RESULT_SELECTOR,"mouseover",function(r){r.stopPropagation(),e._scrollToNode(r.delegateTarget),e._preselect(r.delegateTarget)}),t(this._container,nr.RESULT_SELECTOR,"click",function(r){r.stopPropagation(),e._select(r.delegateTarget)}),t(this._container,nr.INPUT_SELECTOR,"keydown",function(r){Ri("ArrowUp",r)&&r.preventDefault(),Ri("ArrowDown",r)&&r.preventDefault()}),t(this._container,nr.INPUT_SELECTOR,"keyup",function(r){if(Ri("Escape",r))return e.close();if(Ri("Enter",r)){var n=e._getCurrentResult();return n?e._select(n):e.close(!1)}if(Ri("ArrowUp",r))return e._scrollToDirection(!0);if(Ri("ArrowDown",r))return e._scrollToDirection();Ri(["ArrowLeft","ArrowRight"],r)||e._search(r.delegateTarget.value)})};nr.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){Gs.unbind(e.el,e.type,e.listener)})};nr.prototype._search=function(e){var t=this;if(this._clearResults(),!!e.trim()){var r=this._searchProvider.find(e);if(r=r.filter(function(i){return!t._canvas.getRootElements().includes(i.element)}),!r.length){this._selection.select(null);return}r.forEach(function(i){var s=i.element.id,o=t._createResultNode(i,s);t._results[s]={element:i.element,node:o}});var n=Jr(nr.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(n),this._preselect(n)}};nr.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var r=e?t.previousElementSibling:t.nextElementSibling;r&&(this._scrollToNode(r),this._preselect(r))}};nr.prototype._scrollToNode=function(e){if(!(!e||e===this._getCurrentResult())){var t=e.offsetTop,r=this._resultsContainer.scrollTop,n=t-this._resultsContainer.clientHeight+e.clientHeight;t<r?this._resultsContainer.scrollTop=t:r<n&&(this._resultsContainer.scrollTop=n)}};nr.prototype._clearResults=function(){$b(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")};nr.prototype._getCurrentResult=function(){return Jr(nr.RESULT_SELECTED_SELECTOR,this._resultsContainer)};nr.prototype._createResultNode=function(e,t){var r=dn(nr.RESULT_HTML);return e.primaryTokens.length>0&&xj(r,e.primaryTokens,nr.RESULT_PRIMARY_HTML),xj(r,e.secondaryTokens,nr.RESULT_SECONDARY_HTML),Qi(r,nr.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(r),r};nr.prototype.registerProvider=function(e){this._searchProvider=e};nr.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,On(this._canvas.getContainer()).add("djs-search-open"),On(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))};nr.prototype.close=function(e=!0){this.isOpen()&&(e&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,On(this._canvas.getContainer()).remove("djs-search-open"),On(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())};nr.prototype.toggle=function(){this.isOpen()?this.close():this.open()};nr.prototype.isOpen=function(){return this._open};nr.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&On(t).remove(nr.RESULT_SELECTED_CLASS);var r=Qi(e,nr.RESULT_ID_ATTRIBUTE),n=this._results[r].element;On(e).add(nr.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(n,{top:vz}),this._selection.select(n),this._eventBus.fire("searchPad.preselected",n)}};nr.prototype._select=function(e){var t=Qi(e,nr.RESULT_ID_ATTRIBUTE),r=this._results[t].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(r,{top:vz}),this._selection.select(r),this._eventBus.fire("searchPad.selected",r)};nr.prototype._getBoxHtml=function(){const e=dn(nr.BOX_HTML),t=Jr(nr.INPUT_SELECTOR,e);return t&&t.setAttribute("aria-label",this._translate("Search in diagram")),e};function xj(e,t,r){var n=sde(t),i=dn(r);i.innerHTML=n,e.appendChild(i)}function sde(e){var t="";return e.forEach(function(r){var n=yD(r.value||r.matched||r.normal),i=r.match||r.matched;i?t+='<b class="'+nr.RESULT_HIGHLIGHT_CLASS+'">'+n+"</b>":t+=n}),t!==""?t:null}nr.CONTAINER_SELECTOR=".djs-search-container";nr.INPUT_SELECTOR=".djs-search-input input";nr.RESULTS_CONTAINER_SELECTOR=".djs-search-results";nr.RESULT_SELECTOR=".djs-search-result";nr.RESULT_SELECTED_CLASS="djs-search-result-selected";nr.RESULT_SELECTED_SELECTOR="."+nr.RESULT_SELECTED_CLASS;nr.RESULT_ID_ATTRIBUTE="data-result-id";nr.RESULT_HIGHLIGHT_CLASS="djs-search-highlight";nr.BOX_HTML=`<div class="djs-search-container djs-scrollable">
  <div class="djs-search-input">
    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
    </svg>
    <input type="text" spellcheck="false" />
  </div>
  <div class="djs-search-results" />
</div>`;nr.RESULT_HTML='<div class="djs-search-result"></div>';nr.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>';nr.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const ade={__depends__:[Jb,e2,Co],searchPad:["type",nr]};function vE(e,t,r,n){this._elementRegistry=e,this._canvas=r,this._search=n,t.registerProvider(this)}vE.$inject=["elementRegistry","searchPad","canvas","search"];vE.prototype.find=function(e){var t=this._canvas.getRootElements(),r=this._elementRegistry.filter(function(n){return!Ir(n)&&!t.includes(n)});return this._search(r.map(n=>({element:n,label:ko(n),id:n.id})),e,{keys:["label","id"]}).map(ode)};function ode(e){const{item:{element:t},tokens:r}=e;return{element:t,primaryTokens:r.label,secondaryTokens:r.id}}const lde={__depends__:[ade,oB],__init__:["bpmnSearch"],bpmnSearch:["type",vE]},cde="M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",ude="M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",dde={width:36,height:50},hde={width:50,height:50};function _j(e,t,r){return Mt("path",{d:e,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...r})}const Gc=5;function U2(e,t){this._styles=t,e.registerProvider(this)}U2.$inject=["outline","styles"];U2.prototype.getOutline=function(e){const t=this._styles.cls("djs-outline",["no-fill"]);var r;if(!Ir(e))return he(e,"bpmn:Gateway")?(r=Mt("rect"),Ie(r.style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),kt(r,Ie({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},t))):gr(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?(r=Mt("rect"),kt(r,Ie({x:-Gc,y:-Gc,rx:14,width:e.width+Gc*2,height:e.height+Gc*2},t))):he(e,"bpmn:EndEvent")?(r=Mt("circle"),kt(r,Ie({cx:e.width/2,cy:e.height/2,r:e.width/2+Gc+1},t))):he(e,"bpmn:Event")?(r=Mt("circle"),kt(r,Ie({cx:e.width/2,cy:e.height/2,r:e.width/2+Gc},t))):he(e,"bpmn:DataObjectReference")&&Sj(e,"bpmn:DataObjectReference")?r=_j(cde,{x:-6,y:-6},t):he(e,"bpmn:DataStoreReference")&&Sj(e,"bpmn:DataStoreReference")&&(r=_j(ude,{x:-6,y:-6},t)),r};U2.prototype.updateOutline=function(e,t){if(!Ir(e))return gr(e,["bpmn:SubProcess","bpmn:Group"])?(kt(t,{width:e.width+Gc*2,height:e.height+Gc*2}),!0):!!gr(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};function Sj(e,t){var r;return t==="bpmn:DataObjectReference"?r=dde:t==="bpmn:DataStoreReference"&&(r=hde),e.width===r.width&&e.height===r.height}const fde={__depends__:[sz],__init__:["outlineProvider"],outlineProvider:["type",U2]};var pde='<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>';function xo(e){vg.call(this,e)}At(xo,vg);xo.Viewer=Mu;xo.NavigatedViewer=G0;xo.prototype.createDiagram=function(){return this.importXML(pde)};xo.prototype._interactionModules=[PD,LD,FD];xo.prototype._modelingModules=[uie,rS,Oie,Aie,Qie,oS,sse,hce,wF,x2,gce,bce,Lce,Bce,Fce,Wce,rue,HF,cue,wue,Tue,Pue,tz,ide,lde,fde];xo.prototype._modules=[].concat(Mu.prototype._modules,xo.prototype._interactionModules,xo.prototype._modelingModules);async function yz(e,t=2){const r=document.createElement("div");r.style.width="2000px",r.style.height="2000px",r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);try{const n=new xo({container:r});await n.importXML(e),n.get("canvas").zoom("fit-viewport");const{svg:s}=await n.saveSVG(),o=await mde(s,t);return document.body.removeChild(r),n.destroy(),o}catch(n){throw document.body.removeChild(r),n}}async function mde(e,t){return new Promise((r,n)=>{const i=new Image,s=new Blob([e],{type:"image/svg+xml"}),o=URL.createObjectURL(s);i.onload=()=>{const a=document.createElement("canvas");a.width=i.width*t,a.height=i.height*t;const l=a.getContext("2d");if(!l){n(new Error("Could not get canvas context"));return}l.scale(t,t),l.drawImage(i,0,0),a.toBlob(c=>{URL.revokeObjectURL(o),c?r(c):n(new Error("Failed to create PNG blob"))},"image/png")},i.onerror=()=>{URL.revokeObjectURL(o),n(new Error("Failed to load SVG image"))},i.src=o})}async function gde(e){const t=await yz(e,2),r=(await Zl(async()=>{const{default:i}=await Promise.resolve().then(()=>IY);return{default:i}},void 0)).default,n=new r({orientation:"landscape",unit:"mm",format:"a4"});return new Promise((i,s)=>{const o=new FileReader;o.onload=()=>{const a=o.result,l=n.internal.pageSize.getWidth(),c=n.internal.pageSize.getHeight(),u=new Image;u.onload=()=>{const h=u.width,f=u.height,d=Math.min(l/h,c/f),p=h*d*.9,g=f*d*.9,m=(l-p)/2,v=(c-g)/2;n.addImage(a,"PNG",m,v,p,g),i(n.output("blob"))},u.onerror=()=>s(new Error("Failed to load image")),u.src=a},o.onerror=()=>s(new Error("Failed to read PNG blob")),o.readAsDataURL(t)})}async function t_(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function vde({artifactType:e,content:t,title:r,subtitle:n}){const[i,s]=Be.useState(!1),[o,a]=Be.useState(!1),[l,c]=Be.useState({top:0,left:0}),u=Be.useRef(null),h=Be.useRef(null),f=async m=>{s(!1),a(!0);try{if(!t)throw new Error("No content available for export");const v={title:r,subtitle:n,author:"OllieProcess",date:new Date,processCode:"BP-001",version:"1.0"},y=new Date().toISOString().split("T")[0],b=`${r.replace(/\s+/g,"_")}_${y}`;if(e==="bpmn"){const x=typeof t=="string"?t:(t==null?void 0:t.bpmn_xml)||"";if(!x)throw new Error("No BPMN content found");if(m==="xml"){const _=new Blob([x],{type:"application/xml"});await t_(_,`${b}.bpmn`)}else if(m==="png"){const _=await yz(x,2);await t_(_,`${b}.png`)}else if(m==="pdf"){const _=await gde(x);await t_(_,`${b}.pdf`)}}else if(m==="pdf"){let x;if(e==="sop")x=await yJ(t,v);else if(e==="raci")x=await wJ(t,v);else if(e==="risk")x=await _J(t,v);else throw new Error("Unsupported artifact type");await EJ(x,`${b}.pdf`)}else{alert(`${m.toUpperCase()} export coming soon. PDF export is available now.`);return}s(!1)}catch(v){console.error("Export error:",v),alert(`Failed to export document: ${v instanceof Error?v.message:"Unknown error"}

Check browser console for details.`)}finally{a(!1)}},d=()=>{if(e==="bpmn")return[{format:"xml",icon:Ii,label:"BPMN XML (Editable)",description:"Editable BPMN diagram"},{format:"png",icon:$N,label:"PNG Image",description:"High-resolution image"},{format:"pdf",icon:Ii,label:"PDF Document",description:"Printable format"}];const m=[{format:"pdf",icon:Ii,label:"PDF Document",description:"Professional PDF with pagination"},{format:"docx",icon:$N,label:"Word Document",description:"Editable Microsoft Word format"},{format:"pptx",icon:ZV,label:"PowerPoint",description:"Presentation slides"}];return(e==="raci"||e==="risk")&&m.splice(2,0,{format:"xlsx",icon:JV,label:"Excel Spreadsheet",description:"Editable spreadsheet format"}),m},p=()=>{if(!i&&u.current){const m=u.current.getBoundingClientRect();c({top:m.bottom+window.scrollY+8,left:m.right+window.scrollX-320})}s(!i)};Be.useEffect(()=>{const m=v=>{h.current&&!h.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&s(!1)};if(i)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[i]);const g=i&&sI.createPortal(w.jsxs("div",{ref:h,className:"fixed w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-[9999]",style:{top:`${l.top}px`,left:`${l.left}px`},children:[w.jsxs("div",{className:"p-3 border-b border-gray-200",children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Export Format"}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred format"})]}),w.jsx("div",{className:"p-2",children:d().map(({format:m,icon:v,label:y,description:b})=>w.jsxs("button",{onClick:x=>{x.stopPropagation(),f(m)},disabled:o,className:"w-full flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[w.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:w.jsx(v,{className:"w-5 h-5 text-blue-600"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"font-medium text-gray-900 text-sm",children:y}),w.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:b})]})]},m))}),w.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:w.jsx("p",{className:"text-xs text-gray-600",children:"All exports include proper formatting, pagination, and professional styling."})})]}),document.body);return w.jsxs(w.Fragment,{children:[w.jsxs("button",{ref:u,onClick:p,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[w.jsx(R0,{className:"w-4 h-4"}),o?"Exporting...":"Export"]}),g]})}function yde({artifactData:e,artifactId:t,artifactType:r,processTitle:n}){const{user:i}=Za(),[s,o]=Be.useState(!1),[a,l]=Be.useState(!1),[c,u]=Be.useState({title:`${n||"Process"} - ${r.toUpperCase()}`,content:"",version:"1.0"}),h=()=>{let p="";typeof e=="string"?p=e:e.content?p=e.content:e.sections&&Array.isArray(e.sections)?p=e.sections.map(g=>`${g.section||g.title}

${g.content||g.description||""}

`).join(`
`):p=JSON.stringify(e,null,2),u({...c,content:p})},f=()=>{h(),o(!0)},d=async()=>{if(!i||!c.title||!c.content){alert("Please fill in all required fields");return}l(!0);try{const{data:p,error:g}=await Ve.from("sops").insert({title:c.title,content:c.content,version:c.version,status:"draft",created_by:i.id,source_artifact_id:t}).select().single();if(g)throw g;await Z3(p.id,c.content,`Created from ${r} artifact`),alert("SOP created successfully! It is now in draft status."),o(!1),u({title:`${n||"Process"} - ${r.toUpperCase()}`,content:"",version:"1.0"})}catch(p){console.error("Error creating SOP:",p),alert("Failed to create SOP. Please try again.")}finally{l(!1)}};return w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Create SOP from this artifact",children:[w.jsx(Ii,{className:"w-4 h-4"}),"Create SOP"]}),s&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create SOP from Artifact"}),w.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:w.jsx(ic,{className:"w-6 h-6"})})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOP Title *"}),w.jsx("input",{type:"text",value:c.title,onChange:p=>u({...c,title:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter SOP title..."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version"}),w.jsx("input",{type:"text",value:c.version,onChange:p=>u({...c,version:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1.0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),w.jsx("textarea",{value:c.content,onChange:p=>u({...c,content:p.target.value}),rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"SOP content will be auto-populated from the artifact..."})]}),w.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:w.jsxs("p",{className:"text-sm text-blue-800",children:[w.jsx("strong",{children:"Note:"})," This SOP will be created as a draft. You can edit it further, request approval, and then publish it from the SOP Builder module."]})})]})}),w.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:[w.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:a,children:"Cancel"}),w.jsxs("button",{onClick:d,disabled:a||!c.title||!c.content,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[w.jsx(Rb,{className:"w-4 h-4"}),a?"Creating...":"Create SOP"]})]})]})})]})}function bde(){var L;const[e,t]=Be.useState([]),[r,n]=Be.useState([]),[i,s]=Be.useState([]),[o,a]=Be.useState([]),[l,c]=Be.useState(!1),[u,h]=Be.useState(!1),[f,d]=Be.useState("upload"),[p,g]=Be.useState(""),[m,v]=Be.useState(null);Be.useEffect(()=>{y()},[]);const y=async()=>{try{const[O,H]=await Promise.all([SG(),PG()]);t(O),a(H)}catch(O){console.error("Error loading data:",O)}},b=async O=>{var G;const H=(G=O.target.files)==null?void 0:G[0];if(H){c(!0),g("Uploading document...");try{const I=await _G(H);g("AI is analyzing your process document... (this may take 30-60 seconds)");const R=await EG(I,H);g("AI is generating BPMN diagram with swimlanes... (30-60 seconds)");let S="";try{S=await kG(I)}catch(j){console.error("BPMN generation failed:",j),g("BPMN generation failed, continuing with other artifacts...")}g("AI is creating Standard Operating Procedures... (30-60 seconds)");try{await CG(I,R.processName||H.name,S)}catch(j){console.error("SOP generation failed:",j)}g("AI is generating RACI matrix... (20-40 seconds)");try{await jG(I,R.processName||H.name)}catch(j){console.error("RACI generation failed:",j)}g("AI is analyzing risks and creating control matrix... (20-40 seconds)");try{await TG(I,R.processName||H.name)}catch(j){console.error("Risk control generation failed:",j)}g("Complete! Artifacts generated successfully."),await y(),await x(I),setTimeout(()=>g(""),3e3)}catch(I){console.error("Error uploading:",I),alert(I.message||"Failed to upload document. Please check your OpenAI API key and internet connection."),g("")}finally{c(!1)}}},x=async O=>{h(!0);try{const H=await RG(O);s(H),d("artifacts")}catch(H){console.error("Error loading artifacts:",H),alert("Failed to load artifacts")}finally{h(!1)}},_=async(O,H)=>{try{await UI(O,H),alert("Approval request submitted"),y()}catch(G){console.error("Error requesting approval:",G),alert("Failed to request approval")}},M=async O=>{try{await NG(O),alert("Document approved"),y()}catch(H){console.error("Error approving:",H),alert("Failed to approve")}},U=async O=>{const H=prompt("Please enter rejection reason:");if(H)try{await AG(O,H),alert("Document rejected"),y()}catch(G){console.error("Error rejecting:",G),alert("Failed to reject")}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(Ii,{className:"w-7 h-7 text-blue-600"}),"Enhanced Process Management"]}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Upload, parse, and auto-generate process artifacts"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-100 text-sm",children:"Documents"}),w.jsx("p",{className:"text-2xl font-bold mt-1",children:e.length})]}),w.jsx(Ii,{className:"w-10 h-10 text-blue-200"})]})}),w.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-green-100 text-sm",children:"Versions"}),w.jsx("p",{className:"text-2xl font-bold mt-1",children:r.length})]}),w.jsx(Ud,{className:"w-10 h-10 text-green-200"})]})}),w.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-purple-100 text-sm",children:"Artifacts"}),w.jsx("p",{className:"text-2xl font-bold mt-1",children:i.length})]}),w.jsx($a,{className:"w-10 h-10 text-purple-200"})]})}),w.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-orange-100 text-sm",children:"Pending Approvals"}),w.jsx("p",{className:"text-2xl font-bold mt-1",children:o.length})]}),w.jsx(Ar,{className:"w-10 h-10 text-orange-200"})]})})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"border-b border-gray-200",children:w.jsxs("div",{className:"flex",children:[w.jsx("button",{onClick:()=>d("upload"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="upload"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Upload & Parse"}),w.jsx("button",{onClick:()=>d("versions"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="versions"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Version Control"}),w.jsx("button",{onClick:()=>d("artifacts"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="artifacts"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Generated Artifacts"}),w.jsx("button",{onClick:()=>d("approvals"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="approvals"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Approvals"})]})}),w.jsxs("div",{className:"p-6",children:[f==="upload"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[w.jsx(c8,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Process Documents"}),w.jsx("p",{className:"text-gray-600 mb-4",children:"PDF, PPTX, DOCX, VSDX (Max 25MB)"}),w.jsxs("label",{className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:["Choose File",w.jsx("input",{type:"file",onChange:b,accept:".pdf,.pptx,.docx,.vsdx",disabled:l,className:"hidden"})]}),p&&w.jsx("p",{className:"mt-4 text-blue-600 font-medium",children:p})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Uploads"}),e.map(O=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-semibold text-gray-900",children:O.document_name}),w.jsxs("p",{className:"text-sm text-gray-600",children:[O.document_type," • ",O.file_size_mb.toFixed(2)," MB"]}),w.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[w.jsxs("span",{children:["📅 ",new Date(O.uploaded_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),w.jsxs("span",{children:["🕒 ",new Date(O.uploaded_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),w.jsxs("span",{children:["👤 ",O.uploader_email||"Unknown"]})]})]}),w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full flex-shrink-0 ${O.bpmn_generated?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:O.bpmn_generated?"BPMN Generated":O.parsing_status})]}),w.jsxs("div",{className:"flex gap-2 mt-3",children:[w.jsx("button",{onClick:()=>x(O.id),className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded hover:bg-purple-200",children:"View Artifacts"}),w.jsx("button",{onClick:()=>_("process_document",O.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Request Approval"})]})]},O.id))]})]}),f==="versions"&&w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-gray-600",children:"Version control tracks all changes to process maps with full audit trail"}),r.map(O=>w.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"font-semibold text-gray-900",children:["Version ",O.version_number]}),O.version_name&&w.jsx("p",{className:"text-sm text-gray-600",children:O.version_name}),O.change_summary&&w.jsx("p",{className:"text-sm text-gray-700 mt-1",children:O.change_summary})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${O.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:O.approval_status}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(O.created_at).toLocaleDateString()})]})]})},O.id))]}),f==="artifacts"&&w.jsx("div",{children:u?w.jsxs("div",{className:"text-center py-12",children:[w.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Loading artifacts..."})]}):i.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx($a,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Artifacts Yet"}),w.jsx("p",{className:"text-gray-600",children:'Click "View Artifacts" on an uploaded document to see generated SOPs, RACI matrices, and risk controls.'})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:i.map(O=>{var H;return w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[w.jsxs("div",{className:`p-2 rounded-lg ${O.artifact_type==="bpmn"?"bg-purple-100":O.artifact_type==="sop"?"bg-blue-100":O.artifact_type==="raci"?"bg-green-100":"bg-orange-100"}`,children:[O.artifact_type==="bpmn"&&w.jsx(Ud,{className:"w-5 h-5 text-purple-600"}),O.artifact_type==="sop"&&w.jsx(Ii,{className:"w-5 h-5 text-blue-600"}),O.artifact_type==="raci"&&w.jsx(fu,{className:"w-5 h-5 text-green-600"}),O.artifact_type==="risk_control"&&w.jsx(Yo,{className:"w-5 h-5 text-orange-600"})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-900",children:O.artifact_name}),w.jsxs("p",{className:"text-xs text-gray-600",children:["Confidence: ",O.confidence_score,"%"]})]})]}),((H=O.artifact_data)==null?void 0:H.content)&&w.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded text-xs text-gray-700 max-h-32 overflow-y-auto",children:[O.artifact_data.content.substring(0,200),"..."]}),w.jsx("button",{onClick:()=>v(O),className:"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"View Full Details"})]},O.id)})})}),f==="approvals"&&w.jsx("div",{className:"space-y-3",children:o.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx(Ar,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Approvals"}),w.jsx("p",{className:"text-gray-600",children:"Approval requests will appear here when documents need review."})]}):o.map(O=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-900",children:O.document_type.replace("_"," ").toUpperCase()}),w.jsxs("p",{className:"text-sm text-gray-600",children:["Requested: ",new Date(O.requested_at).toLocaleString()]})]}),w.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>M(O.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Approve"]}),w.jsxs("button",{onClick:()=>U(O.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:[w.jsx(Bf,{className:"w-4 h-4"}),"Reject"]})]})]},O.id))})]})]}),m&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:`p-2 rounded-lg ${m.artifact_type==="bpmn"?"bg-purple-100":m.artifact_type==="sop"?"bg-blue-100":m.artifact_type==="raci"?"bg-green-100":"bg-orange-100"}`,children:[m.artifact_type==="bpmn"&&w.jsx(Ud,{className:"w-6 h-6 text-purple-600"}),m.artifact_type==="sop"&&w.jsx(Ii,{className:"w-6 h-6 text-blue-600"}),m.artifact_type==="raci"&&w.jsx(fu,{className:"w-6 h-6 text-green-600"}),m.artifact_type==="risk_control"&&w.jsx(Yo,{className:"w-6 h-6 text-orange-600"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m.artifact_name}),w.jsxs("p",{className:"text-sm text-gray-600",children:["Confidence Score: ",m.confidence_score,"%"]})]})]}),w.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:w.jsx(ic,{className:"w-6 h-6 text-gray-500"})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:(L=m.artifact_data)!=null&&L.content?w.jsx("div",{className:"prose max-w-none",children:w.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 bg-gray-50 p-4 rounded-lg",children:m.artifact_data.content})}):w.jsx("div",{className:"text-center py-12 text-gray-500",children:"No content available for this artifact"})}),w.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[w.jsx(yde,{artifactData:m.artifact_data,artifactId:m.id,artifactType:m.artifact_type==="risk_control"?"risk":m.artifact_type,processTitle:m.artifact_name}),w.jsx(vde,{artifactType:m.artifact_type==="risk_control"?"risk":m.artifact_type==="bpmn"?"bpmn":m.artifact_type,content:m.artifact_data,title:m.artifact_name,subtitle:`Confidence Score: ${m.confidence_score}%`}),w.jsx("button",{onClick:()=>{var I;const O=new Blob([((I=m.artifact_data)==null?void 0:I.content)||""],{type:"text/plain"}),H=window.URL.createObjectURL(O),G=document.createElement("a");G.href=H,G.download=`${m.artifact_name}.txt`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(H)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Download"}),w.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})]})})]})}const wde=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_1" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`,Ej=({initialDiagram:e,initialXML:t,onSave:r,onCancel:n})=>{const i=Be.useRef(null),s=Be.useRef(null),[o,a]=Be.useState(!1),[l,c]=Be.useState(!1);Be.useEffect(()=>{if(!i.current)return;const g=new xo({container:i.current,keyboard:{bindTo:document},height:"100%"});s.current=g;const m=t||wde;return g.importXML(m).then(()=>{g.get("canvas").zoom("fit-viewport"),a(!0)}).catch(y=>{console.error("Error loading BPMN diagram:",y),a(!0)}),g.get("eventBus").on("commandStack.changed",()=>{c(!0)}),()=>{g.destroy()}},[]);const u=async()=>{if(s.current)try{const{xml:g}=await s.current.saveXML({format:!0});g&&(r(g),c(!1))}catch(g){console.error("Error saving BPMN diagram:",g),alert("Failed to save diagram. Please try again.")}},h=async()=>{if(s.current)try{const{xml:g}=await s.current.saveXML({format:!0});if(g){const m=new Blob([g],{type:"application/xml"}),v=URL.createObjectURL(m),y=document.createElement("a");y.href=v,y.download=`process-${Date.now()}.bpmn`,y.click(),URL.revokeObjectURL(v)}}catch(g){console.error("Error downloading BPMN diagram:",g)}},f=()=>{if(!s.current)return;const g=s.current.get("canvas"),m=g.zoom();g.zoom(m+.1)},d=()=>{if(!s.current)return;const g=s.current.get("canvas"),m=g.zoom();g.zoom(m-.1)},p=()=>{if(!s.current)return;s.current.get("canvas").zoom("fit-viewport")};return w.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg overflow-hidden",children:[w.jsxs("div",{className:"bg-gray-50 border-b px-4 py-3 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"BPMN Process Modeler"}),l&&w.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Unsaved changes"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Zoom Out",children:w.jsx(tG,{className:"w-4 h-4"})}),w.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Fit to Screen",children:w.jsx(DI,{className:"w-4 h-4"})}),w.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Zoom In",children:w.jsx(eG,{className:"w-4 h-4"})}),w.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),w.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:[w.jsx(R0,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm",children:"Download"})]}),w.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[w.jsx(Rb,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-medium",children:"Save"})]}),n&&w.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:[w.jsx(ic,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm",children:"Cancel"})]})]})]}),w.jsx("div",{ref:i,className:"flex-1 bg-white",style:{minHeight:"600px",height:"100%"},children:!o&&w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}),w.jsx("div",{className:"bg-gray-50 border-t px-4 py-2 text-xs text-gray-600",children:w.jsxs("p",{children:[w.jsx("strong",{children:"Tips:"})," Drag elements from the palette on the left. Click elements to edit properties. Use the context menu (right-click) for more options."]})})]})};async function xde(e,t,r={},n="medium"){const i=(await Ve.auth.getUser()).data.user;if(!i)throw new Error("User not authenticated");const{data:s}=await Ve.from("process_versions").select("*").eq("process_id",e).eq("is_active",!0).single();if(!s)throw new Error("No active version found for this process");const a=s.diagram_data.nodes.find(u=>u.type==="start");if(!a)throw new Error("No start node found in process diagram");const{data:l,error:c}=await Ve.from("process_instances").insert({process_id:e,version_id:s.id,instance_name:t,status:"running",current_node_id:a.id,progress_percentage:0,priority:n,started_by:i.id,variables:r}).select().single();if(c)throw c;return await xh(l.id,null,"process_started",`Process instance "${t}" started`,i.id,null,a.id),await bz(l.id,a.id),l.id}async function bz(e,t){const{data:r}=await Ve.from("process_instances").select("*, process_versions!inner(diagram_data)").eq("id",e).single();if(!r)throw new Error("Process instance not found");const n=r.process_versions.diagram_data,i=n.connections.filter(l=>l.from===t);if(i.length===0){await Ede(e);return}for(const l of i){const c=n.nodes.find(u=>u.id===l.to);c&&await _de(e,c)}const s=await Ve.from("process_tasks").select("id").eq("instance_id",e).eq("status","completed"),o=await Ve.from("process_tasks").select("id").eq("instance_id",e),a=o.data&&s.data?Math.round(s.data.length/o.data.length*100):0;await Ve.from("process_instances").update({progress_percentage:a,current_node_id:i[0].to}).eq("id",e)}async function _de(e,t){if((await Ve.from("process_tasks").select("id").eq("instance_id",e).eq("node_id",t.id).maybeSingle()).data)return;const{data:n}=await Ve.from("process_instances").select("priority").eq("id",e).single(),i={instance_id:e,node_id:t.id,node_label:t.label,node_type:t.type,status:t.type==="end"?"completed":"pending",priority:(n==null?void 0:n.priority)||"medium"},{data:s,error:o}=await Ve.from("process_tasks").insert(i).select().single();if(o)throw o;return t.type==="end"?await Q4(s.id,{}):t.type==="task"?await Sde(s.id):t.type==="automated"&&await Q4(s.id,{auto_completed:!0}),s}async function Sde(e){const{data:t}=await Ve.from("users_profile").select("id").limit(1);if(t&&t.length>0){await Ve.from("process_tasks").update({assigned_to:t[0].id,assigned_at:new Date().toISOString(),status:"assigned"}).eq("id",e);const r=(await Ve.auth.getUser()).data.user;await Ve.from("task_assignments").insert({task_id:e,user_id:t[0].id,assigned_by:(r==null?void 0:r.id)||t[0].id,assignment_type:"primary",status:"pending"})}}async function Q4(e,t){const r=(await Ve.auth.getUser()).data.user;if(!r)throw new Error("User not authenticated");const{data:n}=await Ve.from("process_tasks").select("*, process_instances!inner(id)").eq("id",e).single();if(!n)throw new Error("Task not found");const i=n.started_at?new Date(n.started_at):new Date(n.created_at),s=Math.round((Date.now()-i.getTime())/6e4);await Ve.from("process_tasks").update({status:"completed",completed_at:new Date().toISOString(),completion_data:t,time_spent_minutes:s}).eq("id",e),await xh(n.instance_id,e,"task_completed",`Task "${n.node_label}" completed`,r.id,n.node_id,null,t),await bz(n.instance_id,n.node_id)}async function Ede(e){const t=(await Ve.auth.getUser()).data.user,{data:r}=await Ve.from("process_instances").select("started_at").eq("id",e).single();if(!r)return;const n=Math.round((Date.now()-new Date(r.started_at).getTime())/6e4);await Ve.from("process_instances").update({status:"completed",completed_at:new Date().toISOString(),progress_percentage:100,actual_duration_minutes:n}).eq("id",e),await xh(e,null,"process_completed","Process completed successfully",t==null?void 0:t.id,null,null)}async function xh(e,t,r,n,i,s,o,a){await Ve.from("process_execution_log").insert({instance_id:e,task_id:t,event_type:r,event_description:n,actor_id:i,from_node_id:s,to_node_id:o,event_data:a})}async function kde(e){let t=Ve.from("process_instances").select(`
      *,
      processes!inner(name, category),
      users_profile!process_instances_started_by_fkey(full_name)
    `).in("status",["running","paused"]);e&&(t=t.or(`started_by.eq.${e},id.in.(select instance_id from process_tasks where assigned_to=${e})`));const{data:r,error:n}=await t.order("started_at",{ascending:!1});if(n)throw n;return r}async function Nde(e,t){let r=Ve.from("process_tasks").select(`
      *,
      process_instances!inner(
        instance_name,
        priority,
        processes!inner(name)
      )
    `).eq("assigned_to",e);t?r=r.eq("status",t):r=r.in("status",["pending","assigned","in_progress"]);const{data:n,error:i}=await r.order("created_at",{ascending:!0});if(i)throw i;return n}async function Ade(e){const t=(await Ve.auth.getUser()).data.user;if(!t)throw new Error("User not authenticated");const{error:r}=await Ve.from("process_tasks").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",e);if(r)throw r;const{data:n}=await Ve.from("process_tasks").select("instance_id, node_label").eq("id",e).single();n&&await xh(n.instance_id,e,"task_started",`Task "${n.node_label}" started`,t.id)}async function Cde(e){const t=(await Ve.auth.getUser()).data.user;await Ve.from("process_instances").update({status:"paused"}).eq("id",e),await xh(e,null,"process_paused","Process paused",t==null?void 0:t.id)}async function jde(e){const t=(await Ve.auth.getUser()).data.user;await Ve.from("process_instances").update({status:"running"}).eq("id",e),await xh(e,null,"process_resumed","Process resumed",t==null?void 0:t.id)}async function Tde(e,t){const r=(await Ve.auth.getUser()).data.user;await Ve.from("process_instances").update({status:"cancelled",error_message:t,completed_at:new Date().toISOString()}).eq("id",e),await xh(e,null,"process_cancelled",`Process cancelled: ${t}`,r==null?void 0:r.id)}const Rde=()=>{const{user:e}=Za(),[t,r]=Be.useState([]),[n,i]=Be.useState(!0),[s,o]=Be.useState(!1),[a,l]=Be.useState(!1),[c,u]=Be.useState(!1),[h,f]=Be.useState(null),[d,p]=Be.useState(null),[g,m]=Be.useState({name:"",description:"",category:"",status:"draft"});Be.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:G,error:I}=await Ve.from("processes").select("*").order("created_at",{ascending:!1});if(I)throw I;r(G||[])}catch(G){console.error("Error loading processes:",G)}finally{i(!1)}},y=()=>{m({name:"",description:"",category:"",status:"draft"}),f(null),u(!0)},b=()=>{if(!g.name.trim()){alert("Please enter a process name");return}u(!1),o(!0)},x=G=>{m({name:G.name,description:G.description||"",category:G.category||"",status:G.status}),f(G),o(!0)},_=G=>{p(G),l(!0)},M=async G=>{try{const I={...g,bpmn_xml:G,owner_id:e==null?void 0:e.id};let R=h==null?void 0:h.id;if(h){const{error:S}=await Ve.from("processes").update(I).eq("id",h.id);if(S)throw S}else{const{data:S,error:j}=await Ve.from("processes").insert(I).select().single();if(j)throw j;R=S.id}o(!1),f(null),v()}catch(I){console.error("Error saving process:",I),alert("Failed to save process: "+I.message)}},U=async G=>{const I=prompt("Enter a name for this process instance:");if(I)try{const R=await xde(G.id,I);alert(`Process instance created successfully! ID: ${R}`),v()}catch(R){console.error("Error starting process:",R),alert("Failed to start process: "+R.message)}},L=async G=>{if(confirm("Delete this process?"))try{const{error:I}=await Ve.from("processes").delete().eq("id",G);if(I)throw I;v()}catch(I){console.error("Error deleting process:",I)}},O=()=>w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[w.jsxs("div",{className:"p-6 border-b",children:[w.jsx("h3",{className:"text-xl font-semibold",children:"New Process"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter process details before opening the modeler"})]}),w.jsx("div",{className:"p-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:"Process Name *"}),w.jsx("input",{type:"text",value:g.name,onChange:G=>m({...g,name:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Customer Onboarding Process",autoFocus:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),w.jsx("input",{type:"text",value:g.category,onChange:G=>m({...g,category:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., HR, Finance, Operations"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),w.jsxs("select",{value:g.status,onChange:G=>m({...g,status:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"draft",children:"Draft"}),w.jsx("option",{value:"active",children:"Active"}),w.jsx("option",{value:"archived",children:"Archived"})]})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),w.jsx("textarea",{value:g.description,onChange:G=>m({...g,description:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Describe what this process does..."})]})]})}),w.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",children:[w.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),w.jsx("button",{onClick:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Open Modeler"})]})]})}),H=()=>d!=null&&d.bpmn_xml?w.jsx("div",{className:"h-screen",children:w.jsx(Ej,{initialXML:d.bpmn_xml,onSave:()=>l(!1),onCancel:()=>l(!1)})}):w.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:w.jsx("p",{className:"text-gray-500",children:"No diagram data available"})});return n?w.jsx("div",{className:"flex items-center justify-center h-96",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?w.jsxs("div",{className:"h-screen flex flex-col",children:[w.jsxs("div",{className:"bg-white border-b px-6 py-3 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:g.name||"Untitled Process"}),w.jsx("p",{className:"text-sm text-gray-600",children:g.category})]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["Status: ",w.jsx("span",{className:"font-medium",children:g.status})]})]}),w.jsx("div",{className:"flex-1",children:w.jsx(Ej,{initialXML:(h==null?void 0:h.bpmn_xml)||void 0,onSave:M,onCancel:()=>{o(!1),f(null)}})})]}):a?H():w.jsxs("div",{className:"space-y-6",children:[c&&O(),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold",children:"Visual BPMN Builder"}),w.jsx("p",{className:"text-gray-600",children:"Create and manage process diagrams visually"})]}),w.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[w.jsx(P0,{className:"w-5 h-5"}),"New Process"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(G=>w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-lg",children:G.name}),w.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:G.description})]}),w.jsx("span",{className:`px-2 py-1 rounded text-xs ${G.status==="active"?"bg-green-100 text-green-800":G.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),G.category&&w.jsx("div",{className:"mb-3",children:w.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:G.category})}),w.jsx("div",{className:"text-xs text-gray-500 mb-4",children:G.bpmn_xml?"Diagram available":"No diagram"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>_(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 rounded hover:bg-gray-200",children:[w.jsx(Ly,{className:"w-4 h-4"}),"View"]}),w.jsxs("button",{onClick:()=>x(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[w.jsx(a8,{className:"w-4 h-4"}),"Edit"]}),G.status==="active"&&G.bpmn_xml&&w.jsxs("button",{onClick:()=>U(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Start Process Instance",children:[w.jsx(Df,{className:"w-4 h-4"}),"Execute"]}),w.jsx("button",{onClick:()=>L(G.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200",children:w.jsx(Ob,{className:"w-4 h-4"})})]})]},G.id))}),t.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[w.jsx("p",{className:"text-gray-500 mb-4",children:"No processes yet"}),w.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[w.jsx(P0,{className:"w-5 h-5"}),"Create Your First Process"]})]})]})};function Pde(){const{user:e}=Za(),[t,r]=Be.useState([]),[n,i]=Be.useState(!0),[s,o]=Be.useState("all"),[a,l]=Be.useState("all");Be.useEffect(()=>{c();const m=setInterval(c,1e4);return()=>clearInterval(m)},[s,a]);const c=async()=>{try{const m=await kde(s==="mine"?e==null?void 0:e.id:void 0),v=a==="all"?m:m.filter(y=>y.status===a);r(v||[])}catch(m){console.error("Error loading instances:",m)}finally{i(!1)}},u=async m=>{try{await Cde(m),c()}catch(v){console.error("Error pausing process:",v),alert("Failed to pause process")}},h=async m=>{try{await jde(m),c()}catch(v){console.error("Error resuming process:",v),alert("Failed to resume process")}},f=async m=>{const v=prompt("Enter cancellation reason:");if(v)try{await Tde(m,v),c()}catch(y){console.error("Error cancelling process:",y),alert("Failed to cancel process")}},d=m=>{switch(m){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},p=m=>{switch(m){case"running":return w.jsx(nl,{className:"w-5 h-5 text-green-600"});case"paused":return w.jsx(Jw,{className:"w-5 h-5 text-yellow-600"});case"completed":return w.jsx(Ar,{className:"w-5 h-5 text-green-600"});default:return w.jsx(cp,{className:"w-5 h-5 text-gray-600"})}},g={total:t.length,running:t.filter(m=>m.status==="running").length,paused:t.filter(m=>m.status==="paused").length,avgProgress:t.length>0?Math.round(t.reduce((m,v)=>m+v.progress_percentage,0)/t.length):0};return n?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Execution Dashboard"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage live process instances"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("select",{value:s,onChange:m=>o(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Processes"}),w.jsx("option",{value:"mine",children:"My Processes"})]}),w.jsxs("select",{value:a,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Status"}),w.jsx("option",{value:"running",children:"Running"}),w.jsx("option",{value:"paused",children:"Paused"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Active Processes"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:g.total})]}),w.jsx(nl,{className:"w-12 h-12 text-blue-200"})]}),w.jsx("p",{className:"text-blue-100 text-sm mt-4",children:"Total running and paused"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Running Now"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:g.running})]}),w.jsx(Df,{className:"w-12 h-12 text-green-200"})]}),w.jsx("p",{className:"text-green-100 text-sm mt-4",children:"Currently executing"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Paused"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:g.paused})]}),w.jsx(Jw,{className:"w-12 h-12 text-yellow-200"})]}),w.jsx("p",{className:"text-yellow-100 text-sm mt-4",children:"Temporarily stopped"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Avg Progress"}),w.jsxs("p",{className:"text-3xl font-bold mt-1",children:[g.avgProgress,"%"]})]}),w.jsx(js,{className:"w-12 h-12 text-purple-200"})]}),w.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"Overall completion"})]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Process"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instance Name"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started By"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(m=>w.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.processes.name}),w.jsx("div",{className:"text-xs text-gray-500",children:m.processes.category})]})}),w.jsx("td",{className:"px-6 py-4",children:w.jsx("div",{className:"text-sm text-gray-900",children:m.instance_name})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center gap-2",children:[p(m.status),w.jsx("span",{className:"text-sm capitalize",children:m.status})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[100px]",children:w.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.progress_percentage}%`}})}),w.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.progress_percentage,"%"]})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(m.priority)}`,children:m.priority})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[w.jsx(vs,{className:"w-4 h-4"}),new Date(m.started_at).toLocaleDateString()]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.users_profile.full_name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:w.jsxs("div",{className:"flex gap-2",children:[m.status==="running"&&w.jsx("button",{onClick:()=>u(m.id),className:"p-1 text-yellow-600 hover:bg-yellow-50 rounded",title:"Pause",children:w.jsx(Jw,{className:"w-4 h-4"})}),m.status==="paused"&&w.jsx("button",{onClick:()=>h(m.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Resume",children:w.jsx(Df,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>f(m.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:w.jsx(l8,{className:"w-4 h-4"})})]})})]},m.id))})]})}),t.length===0&&w.jsxs("div",{className:"text-center py-12",children:[w.jsx(nl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No active processes"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Start a new process instance from the BPMN Builder"})]})]})]})}async function Ode(e="daily",t=10){const{data:r,error:n}=await Ve.from("process_performance_metrics").select(`
      *,
      processes!inner(name)
    `).eq("time_period",e).order("period_start",{ascending:!1}).limit(t);if(n)throw n;return(r||[]).map(i=>({processId:i.process_id,processName:i.processes.name,totalInstances:i.total_instances,completedInstances:i.completed_instances,avgCompletionMinutes:i.avg_completion_minutes,successRate:i.success_rate,onTimeRate:i.on_time_rate,bottleneckCount:i.bottleneck_count}))}async function Ide(e,t="daily"){const{data:r,error:n}=await Ve.from("node_performance_metrics").select("*").eq("process_id",e).eq("time_period",t).order("avg_processing_minutes",{ascending:!1});if(n)throw n;return(r||[]).map(i=>({nodeId:i.node_id,nodeLabel:i.node_label,avgProcessingMinutes:i.avg_processing_minutes,totalExecutions:i.total_executions,isBottleneck:i.is_bottleneck,bottleneckSeverity:i.bottleneck_severity,throughputRate:i.throughput_rate}))}async function wz(){const{data:e,error:t}=await Ve.from("process_bottlenecks").select("*").eq("status","active").order("impact_score",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,nodeLabel:r.node_label,severity:r.severity,avgDelayMinutes:r.avg_delay_minutes,impactScore:r.impact_score,affectedInstancesCount:r.affected_instances_count,rootCauses:r.root_causes,recommendedActions:r.recommended_actions,detectedAt:r.detected_at}))}async function Mde(e,t){const{error:r}=await Ve.from("process_bottlenecks").update({status:"resolved",resolved_at:new Date().toISOString(),resolution_notes:t}).eq("id",e);if(r)throw r}async function Lde(e){const{data:t}=await Ve.from("process_instances").select("actual_duration_minutes, started_at").eq("process_id",e).eq("status","completed").order("started_at",{ascending:!1}).limit(100);if(!t||t.length===0)return null;const r=t.map(a=>a.actual_duration_minutes).filter(a=>a!=null),n=r.reduce((a,l)=>a+l,0)/r.length,i=r.sort((a,l)=>a-l),s=i[Math.floor(i.length/2)],o=i[Math.floor(i.length*.95)];return{average:n,median:s,p95:o,min:Math.min(...r),max:Math.max(...r),sampleSize:r.length}}async function Dde(e){let t=Ve.from("resource_utilization").select(`
      *,
      users_profile!resource_utilization_user_id_fkey(full_name)
    `).order("period_start",{ascending:!1}).limit(30);e&&(t=t.eq("user_id",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function Bde(e){const t=new Date;t.setHours(0,0,0,0);const r=new Date(t);r.setDate(r.getDate()+1);const{data:n}=await Ve.from("process_tasks").select("*").eq("assigned_to",e).gte("assigned_at",t.toISOString()).lt("assigned_at",r.toISOString());if(!n)return;const i=n.filter(o=>o.status==="completed"),s=i.length>0?i.reduce((o,a)=>o+(a.time_spent_minutes||0),0)/i.length:0;await Ve.from("resource_utilization").upsert({user_id:e,time_period:"daily",period_start:t.toISOString(),period_end:r.toISOString(),total_tasks_assigned:n.length,total_tasks_completed:i.length,avg_task_completion_minutes:s,utilization_rate:n.length>0?i.length/n.length*100:0})}function Fde(){const[e,t]=Be.useState([]),[r,n]=Be.useState([]),[i,s]=Be.useState(null),[o,a]=Be.useState(null),[l,c]=Be.useState(!0),[u,h]=Be.useState("daily");Be.useEffect(()=>{f()},[u]),Be.useEffect(()=>{i&&d(i)},[i]);const f=async()=>{try{const[v,y]=await Promise.all([Ode(u,20),wz()]);t(v),n(y),v.length>0&&!i&&s(v[0].processId)}catch(v){console.error("Error loading analytics:",v)}finally{c(!1)}},d=async v=>{try{const y=await Lde(v);a(y)}catch(y){console.error("Error loading cycle time:",y)}},p=v=>{switch(v){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},g=v=>{if(v<60)return`${Math.round(v)}m`;const y=Math.floor(v/60),b=Math.round(v%60);return`${y}h ${b}m`},m=e.reduce((v,y)=>({totalInstances:v.totalInstances+y.totalInstances,completedInstances:v.completedInstances+y.completedInstances,avgSuccessRate:v.avgSuccessRate+y.successRate,processCount:v.processCount+1}),{totalInstances:0,completedInstances:0,avgSuccessRate:0,processCount:0});return m.processCount>0&&(m.avgSuccessRate/=m.processCount),l?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Analytics & Mining"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time insights and performance analysis"})]}),w.jsxs("select",{value:u,onChange:v=>h(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"daily",children:"Daily"}),w.jsx("option",{value:"weekly",children:"Weekly"}),w.jsx("option",{value:"monthly",children:"Monthly"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Instances"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:m.totalInstances})]}),w.jsx(nl,{className:"w-12 h-12 text-blue-200"})]}),w.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[w.jsx(js,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm text-blue-100",children:"Across all processes"})]})]}),w.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:m.completedInstances})]}),w.jsx(Ar,{className:"w-12 h-12 text-green-200"})]}),w.jsx("div",{className:"mt-4 flex items-center gap-2",children:w.jsxs("span",{className:"text-sm text-green-100",children:[Math.round(m.avgSuccessRate),"% success rate"]})})]}),w.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Active Bottlenecks"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:r.length})]}),w.jsx(il,{className:"w-12 h-12 text-orange-200"})]}),w.jsx("div",{className:"mt-4 flex items-center gap-2",children:w.jsx("span",{className:"text-sm text-orange-100",children:"Requiring attention"})})]}),w.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Active Processes"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:e.length})]}),w.jsx(A0,{className:"w-12 h-12 text-purple-200"})]}),w.jsx("div",{className:"mt-4 flex items-center gap-2",children:w.jsx("span",{className:"text-sm text-purple-100",children:"With recent activity"})})]})]}),o&&w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[w.jsx(vs,{className:"w-5 h-5 text-blue-600"}),"Cycle Time Analysis"]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[w.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.average)})]}),w.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Median"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.median)})]}),w.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"95th %ile"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.p95)})]}),w.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Fastest"}),w.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(o.min)})]}),w.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Slowest"}),w.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(o.max)})]})]}),w.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Based on ",o.sampleSize," completed instances"]})]}),r.length>0&&w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(il,{className:"w-5 h-5 text-orange-600"}),"Active Bottlenecks"]})}),w.jsx("div",{className:"divide-y divide-gray-200",children:r.map(v=>w.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[w.jsx("div",{className:"flex items-start justify-between mb-3",children:w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:v.nodeLabel}),w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${p(v.severity)}`,children:v.severity})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600",children:"Avg Delay"}),w.jsx("p",{className:"font-semibold text-gray-900",children:g(v.avgDelayMinutes)})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600",children:"Impact Score"}),w.jsxs("p",{className:"font-semibold text-gray-900",children:[v.impactScore.toFixed(1),"%"]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600",children:"Affected Instances"}),w.jsx("p",{className:"font-semibold text-gray-900",children:v.affectedInstancesCount})]})]})]})}),w.jsxs("div",{className:"text-sm text-gray-500",children:["Detected ",new Date(v.detectedAt).toLocaleString()]})]},v.id))})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(Pb,{className:"w-5 h-5 text-blue-600"}),"Process Performance Metrics"]})}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Process"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instances"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bottlenecks"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>w.jsxs("tr",{onClick:()=>s(v.processId),className:`hover:bg-gray-50 cursor-pointer transition-colors ${i===v.processId?"bg-blue-50":""}`,children:[w.jsx("td",{className:"px-6 py-4",children:w.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.processName})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:v.totalInstances})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:v.completedInstances})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:g(v.avgCompletionMinutes||0)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[80px]",children:w.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${v.successRate||0}%`}})}),w.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Math.round(v.successRate||0),"%"]})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.bottleneckCount>0?w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[w.jsx(il,{className:"w-3 h-3"}),v.bottleneckCount]}):w.jsx("span",{className:"text-sm text-gray-500",children:"None"})})]},v.processId))})]})}),e.length===0&&w.jsxs("div",{className:"text-center py-12",children:[w.jsx(A0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No process data available"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Metrics will appear once processes have been executed"})]})]})]})}function zde(){const{user:e}=Za(),[t,r]=Be.useState([]),[n,i]=Be.useState(!0),[s,o]=Be.useState("all");Be.useEffect(()=>{a()},[s]);const a=async()=>{try{const f=await Dde(s==="mine"?e==null?void 0:e.id:void 0);r(f)}catch(f){console.error("Error loading resource utilization:",f)}finally{i(!1)}},l=async()=>{if(e)try{await Bde(e.id),a()}catch(f){console.error("Error refreshing data:",f),alert("Failed to refresh data")}},c=f=>f>=80?"text-green-600":f>=60?"text-blue-600":f>=40?"text-yellow-600":"text-red-600",u=f=>{if(f<60)return`${Math.round(f)}m`;const d=Math.floor(f/60),p=Math.round(f%60);return`${d}h ${p}m`},h=t.reduce((f,d)=>({totalTasks:f.totalTasks+d.total_tasks_assigned,completedTasks:f.completedTasks+d.total_tasks_completed,avgUtilization:f.avgUtilization+(d.utilization_rate||0),count:f.count+1}),{totalTasks:0,completedTasks:0,avgUtilization:0,count:0});return h.count>0&&(h.avgUtilization/=h.count),n?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Performance & Resource Utilization"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Track team productivity and resource allocation"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("select",{value:s,onChange:f=>o(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Team Members"}),w.jsx("option",{value:"mine",children:"My Performance"})]}),w.jsxs("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(nl,{className:"w-4 h-4"}),"Refresh"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Tasks"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:h.totalTasks})]}),w.jsx(Pb,{className:"w-12 h-12 text-blue-200"})]}),w.jsx("p",{className:"text-blue-100 text-sm mt-4",children:"Assigned across team"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:h.completedTasks})]}),w.jsx(DV,{className:"w-12 h-12 text-green-200"})]}),w.jsxs("p",{className:"text-green-100 text-sm mt-4",children:[h.totalTasks>0?Math.round(h.completedTasks/h.totalTasks*100):0,"% completion rate"]})]}),w.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Avg Utilization"}),w.jsxs("p",{className:"text-3xl font-bold mt-1",children:[Math.round(h.avgUtilization),"%"]})]}),w.jsx(js,{className:"w-12 h-12 text-purple-200"})]}),w.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"Team capacity"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Team Members"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:h.count})]}),w.jsx(fu,{className:"w-12 h-12 text-orange-200"})]}),w.jsx("p",{className:"text-orange-100 text-sm mt-4",children:"Active contributors"})]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(fu,{className:"w-5 h-5 text-blue-600"}),"Resource Utilization Details"]})}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Member"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilization"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time Rate"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(f=>w.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:w.jsx("span",{className:"text-blue-600 font-medium",children:f.users_profile.full_name.charAt(0)})}),w.jsx("div",{className:"ml-4",children:w.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.users_profile.full_name})})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:new Date(f.period_start).toLocaleDateString()})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:f.total_tasks_assigned})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:f.total_tasks_completed})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:u(f.avg_task_completion_minutes||0)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[80px]",children:w.jsx("div",{className:`h-2 rounded-full ${f.utilization_rate>=80?"bg-green-600":f.utilization_rate>=60?"bg-blue-600":f.utilization_rate>=40?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(f.utilization_rate||0,100)}%`}})}),w.jsxs("span",{className:`text-sm font-medium ${c(f.utilization_rate||0)}`,children:[Math.round(f.utilization_rate||0),"%"]})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:f.on_time_completion_rate?`${Math.round(f.on_time_completion_rate)}%`:"N/A"})})]},f.id))})]})}),t.length===0&&w.jsxs("div",{className:"text-center py-12",children:[w.jsx(fu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No performance data available"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Data will appear once tasks are completed"})]})]}),w.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[w.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[w.jsx(vs,{className:"w-5 h-5"}),"Performance Insights"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"High Performers:"}),w.jsxs("p",{className:"text-blue-900",children:[t.filter(f=>f.utilization_rate>=80).length," team members with 80%+ utilization"]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Capacity Available:"}),w.jsxs("p",{className:"text-blue-900",children:[t.filter(f=>f.utilization_rate<60).length," team members under 60% utilization"]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Workload Balance:"}),w.jsx("p",{className:"text-blue-900",children:h.avgUtilization>=70&&h.avgUtilization<=85?"Well balanced":h.avgUtilization>85?"Consider redistributing":"Capacity for more work"})]})]})]})]})}function Ude(){const{user:e}=Za(),[t,r]=Be.useState([]),[n,i]=Be.useState(!0),[s,o]=Be.useState(null),[a,l]=Be.useState(!1),[c,u]=Be.useState({}),[h,f]=Be.useState("all");Be.useEffect(()=>{if(e){d();const _=setInterval(d,15e3);return()=>clearInterval(_)}},[e,h]);const d=async()=>{if(e)try{const _=await Nde(e.id,h==="all"?void 0:h);r(_||[])}catch(_){console.error("Error loading tasks:",_)}finally{i(!1)}},p=async _=>{try{await Ade(_),d()}catch(M){console.error("Error starting task:",M),alert("Failed to start task")}},g=async()=>{if(s)try{await Q4(s.id,c),l(!1),o(null),u({}),d()}catch(_){console.error("Error completing task:",_),alert("Failed to complete task")}},m=_=>{o(_),u({}),l(!0)},v=_=>{switch(_){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"assigned":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=_=>{const M=new Date(_),L=new Date().getTime()-M.getTime(),O=Math.floor(L/6e4),H=Math.floor(O/60),G=Math.floor(H/24);return G>0?`${G}d ago`:H>0?`${H}h ago`:O>0?`${O}m ago`:"Just now"},x={total:t.length,pending:t.filter(_=>_.status==="pending"||_.status==="assigned").length,inProgress:t.filter(_=>_.status==="in_progress").length,urgent:t.filter(_=>_.priority==="urgent").length};return n?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Process Tasks"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Tasks assigned to you from active workflows"})]}),w.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Tasks"}),w.jsx("option",{value:"pending",children:"Pending"}),w.jsx("option",{value:"assigned",children:"Assigned"}),w.jsx("option",{value:"in_progress",children:"In Progress"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-blue-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Tasks"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.total})]}),w.jsx(Ii,{className:"w-10 h-10 text-blue-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-yellow-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Pending"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.pending})]}),w.jsx(vs,{className:"w-10 h-10 text-yellow-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-green-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"In Progress"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.inProgress})]}),w.jsx(Df,{className:"w-10 h-10 text-green-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-red-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Urgent"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.urgent})]}),w.jsx(cp,{className:"w-10 h-10 text-red-500"})]})})]}),w.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(_=>w.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-200",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.node_label}),w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${y(_.status)}`,children:_.status.replace("_"," ")}),w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${v(_.priority)}`,children:_.priority})]}),w.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Process:"})," ",_.process_instances.processes.name]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Instance:"})," ",_.process_instances.instance_name]}),w.jsxs("p",{className:"flex items-center gap-1",children:[w.jsx(vs,{className:"w-4 h-4"}),"Created ",b(_.created_at),_.started_at&&w.jsxs("span",{className:"ml-2",children:["• Started ",b(_.started_at)]})]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[_.status==="pending"||_.status==="assigned"?w.jsxs("button",{onClick:()=>p(_.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[w.jsx(Df,{className:"w-4 h-4"}),"Start"]}):null,_.status==="in_progress"&&w.jsxs("button",{onClick:()=>m(_),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Complete"]})]})]})},_.id))}),t.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[w.jsx(Ar,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No tasks assigned"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"You're all caught up! New tasks will appear here when assigned."})]}),a&&s&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[w.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Complete Task: ",s.node_label]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Notes"}),w.jsx("textarea",{value:c.notes||"",onChange:_=>u({...c,notes:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add any notes about task completion..."})]}),s.node_type==="decision"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decision Outcome"}),w.jsxs("select",{value:c.decision||"",onChange:_=>u({...c,decision:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"",children:"Select outcome..."}),w.jsx("option",{value:"approved",children:"Approved"}),w.jsx("option",{value:"rejected",children:"Rejected"}),w.jsx("option",{value:"escalate",children:"Escalate"})]})]})]}),w.jsxs("div",{className:"flex gap-3 mt-6",children:[w.jsx("button",{onClick:()=>{l(!1),o(null),u({})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),w.jsxs("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Complete"]})]})]})})]})}const $de=()=>{const[e,t]=Be.useState("all"),[r,n]=Be.useState("30d"),i=[{id:"1",name:"Standard Path",frequency:450,avgDuration:180,efficiency:95,isStandard:!0},{id:"2",name:"Express Path",frequency:320,avgDuration:120,efficiency:98,isStandard:!1},{id:"3",name:"Rework Path",frequency:85,avgDuration:340,efficiency:62,isStandard:!1},{id:"4",name:"Escalation Path",frequency:45,avgDuration:480,efficiency:55,isStandard:!1}],s=[{id:"1",activity:"Document Review",type:"time",severity:"high",waitTime:240,impact:35,recommendation:"Add parallel reviewers"},{id:"2",activity:"Approval Queue",type:"resource",severity:"critical",waitTime:480,impact:45,recommendation:"Implement auto-approval rules"},{id:"3",activity:"Data Entry",type:"quality",severity:"medium",waitTime:120,impact:15,recommendation:"Use OCR automation"}],o=[{id:"1",type:"automation",title:"Automate Document Classification",impact:"time",savings:12500,priority:"high"},{id:"2",type:"elimination",title:"Remove Redundant Approval Step",impact:"cost",savings:8300,priority:"critical"},{id:"3",type:"simplification",title:"Streamline Data Entry Forms",impact:"quality",savings:5200,priority:"medium"},{id:"4",type:"parallelization",title:"Enable Parallel Document Review",impact:"time",savings:15800,priority:"high"}],a=c=>{switch(c){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-blue-600 bg-blue-50"}},l=c=>{switch(c){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";default:return"bg-blue-500"}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Discovery & Mining"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered process analysis and optimization insights"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("select",{value:e,onChange:c=>t(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Processes"}),w.jsx("option",{value:"complaint",children:"Complaint Handling"}),w.jsx("option",{value:"order",children:"Order Processing"}),w.jsx("option",{value:"onboarding",children:"Customer Onboarding"})]}),w.jsxs("select",{value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"7d",children:"Last 7 Days"}),w.jsx("option",{value:"30d",children:"Last 30 Days"}),w.jsx("option",{value:"90d",children:"Last 90 Days"}),w.jsx("option",{value:"1y",children:"Last Year"})]}),w.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(nl,{className:"w-4 h-4"}),"Analyze Now"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Process Instances"}),w.jsx(js,{className:"w-4 h-4 text-green-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"900"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+15% vs last period"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Variants Found"}),w.jsx(nl,{className:"w-4 h-4 text-blue-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4"}),w.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Deviation rate: 32%"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Avg Cycle Time"}),w.jsx(vs,{className:"w-4 h-4 text-purple-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"3.2h"}),w.jsx("div",{className:"text-xs text-red-600 mt-1",children:"+8% slower"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Est. Savings"}),w.jsx(T0,{className:"w-4 h-4 text-green-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$41.8K"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"From AI insights"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Process Variants"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Different execution paths discovered"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-4",children:i.map(c=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),c.isStandard&&w.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Standard"})]}),w.jsxs("span",{className:"text-sm text-gray-600",children:[c.frequency," instances"]})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Avg Duration"}),w.jsxs("div",{className:"font-medium text-gray-900",children:[c.avgDuration,"m"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Efficiency"}),w.jsxs("div",{className:"font-medium text-gray-900",children:[c.efficiency,"%"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Frequency"}),w.jsxs("div",{className:"font-medium text-gray-900",children:[Math.round(c.frequency/900*100),"%"]})]})]}),w.jsx("div",{className:"mt-3",children:w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:`h-2 rounded-full ${c.efficiency>90?"bg-green-500":c.efficiency>70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${c.efficiency}%`}})})})]},c.id))})})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bottlenecks Detected"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-identified performance issues"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-4",children:s.map(c=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:c.activity}),w.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(c.severity)}`,children:c.severity})]}),w.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:[c.type," bottleneck"]})]}),w.jsx(cp,{className:"w-5 h-5 text-orange-500"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Avg Wait Time"}),w.jsxs("div",{className:"font-medium text-gray-900",children:[c.waitTime,"m"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Impact"}),w.jsxs("div",{className:"font-medium text-gray-900",children:[c.impact,"%"]})]})]}),w.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(Ts,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),w.jsx("div",{className:"text-sm text-blue-900",children:c.recommendation})]})})]},c.id))})})]})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Optimization Insights"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered improvement recommendations"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(c=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsx("div",{className:"flex-1",children:w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("div",{className:`w-1 h-8 rounded ${l(c.priority)}`}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),w.jsxs("div",{className:"text-xs text-gray-500 capitalize mt-0.5",children:[c.type," opportunity"]})]})]})}),w.jsx(Pb,{className:"w-5 h-5 text-blue-600"})]}),w.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Est. Annual Savings"}),w.jsxs("div",{className:"font-semibold text-green-600",children:["$",(c.savings/1e3).toFixed(1),"K"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500 text-right",children:"Impact Area"}),w.jsx("div",{className:"font-medium text-gray-900 capitalize text-right",children:c.impact})]}),w.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Review"})]})]},c.id))})})]}),w.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:w.jsx(Ar,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Process Mining Active"}),w.jsxs("p",{className:"text-gray-700 mb-3",children:["AI is continuously analyzing your process executions to discover patterns, identify inefficiencies, and recommend optimizations.",w.jsx("span",{className:"font-medium text-blue-700",children:" 900 instances analyzed"})," in the last 30 days with",w.jsx("span",{className:"font-medium text-green-700",children:" $41.8K in potential savings"})," identified."]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"View Full Report"}),w.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Export Insights"})]})]})]})})]})},Hde=()=>{const e=[{id:"1",title:"Automate Document Classification",type:"Automation",impact:"High",savings:15e3,effort:"Medium",priority:"critical"},{id:"2",title:"Remove Redundant Approval",type:"Elimination",impact:"High",savings:12e3,effort:"Low",priority:"high"},{id:"3",title:"Parallelize Reviews",type:"Simplification",impact:"Medium",savings:8500,effort:"Low",priority:"high"},{id:"4",title:"Implement Smart Routing",type:"Optimization",impact:"Medium",savings:6200,effort:"Medium",priority:"medium"}],t=r=>{switch(r){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";default:return"bg-blue-500"}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Optimization AI"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered process improvement recommendations"})]}),w.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(Ts,{className:"w-4 h-4"}),"Generate New Insights"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Opportunities",value:"12",icon:Dy,trend:"+3"},{label:"Potential Savings",value:"$127K",icon:T0,trend:"+$23K"},{label:"Avg ROI",value:"340%",icon:js,trend:"+45%"},{label:"Quick Wins",value:"5",icon:Ar,trend:"+2"}].map((r,n)=>w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:r.label}),w.jsx(r.icon,{className:"w-4 h-4 text-blue-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.value}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:r.trend})]},n))}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Optimization Opportunities"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-identified improvements ranked by impact"})]}),w.jsx("div",{className:"divide-y divide-gray-200",children:e.map(r=>w.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[w.jsx("div",{className:`w-1 h-16 rounded ${t(r.priority)}`}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:r.title}),w.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:r.type})]}),w.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Impact:"}),w.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r.impact})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Annual Savings:"}),w.jsxs("span",{className:"ml-1 font-medium text-green-600",children:["$",(r.savings/1e3).toFixed(1),"K"]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Effort:"}),w.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r.effort})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"ROI:"}),w.jsx("span",{className:"ml-1 font-medium text-blue-600",children:"8 months"})]})]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Details"}),w.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Approve"})]})]})},r.id))})]})]})},Wde=()=>{var o;const[e,t]=Be.useState(""),[r,n]=Be.useState(!1),i=[{id:"1",name:"Add 2 Agents",type:"Resource Increase",improvement:25,confidence:92,cost:8500},{id:"2",name:"Automate Document Review",type:"Automation",improvement:40,confidence:88,cost:15e3},{id:"3",name:"Parallel Approval Flow",type:"Process Change",improvement:35,confidence:90,cost:2e3},{id:"4",name:"Extended Business Hours",type:"Schedule Change",improvement:18,confidence:95,cost:12e3}],s=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Simulation Engine"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Test process changes before implementation"})]}),w.jsxs("button",{onClick:s,disabled:r||!e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:bg-gray-400",children:[w.jsx(Df,{className:"w-4 h-4"}),r?"Simulating...":"Run Simulation"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Baseline Cycle Time",value:"3.2h",icon:vs,color:"blue"},{label:"Current Cost/Contact",value:"$45",icon:T0,color:"green"},{label:"Resource Utilization",value:"78%",icon:fu,color:"purple"},{label:"Quality Score",value:"92%",icon:A0,color:"indigo"}].map((a,l)=>w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:a.label}),w.jsx(a.icon,{className:`w-4 h-4 text-${a.color}-600`})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.value})]},l))}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"What-If Scenarios"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Test different optimization strategies"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(a=>w.jsxs("div",{onClick:()=>t(a.id),className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${e===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),w.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.type})]}),w.jsx($a,{className:"w-5 h-5 text-yellow-500"})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Improvement"}),w.jsxs("div",{className:"font-semibold text-green-600",children:["+",a.improvement,"%"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Confidence"}),w.jsxs("div",{className:"font-semibold text-gray-900",children:[a.confidence,"%"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Cost"}),w.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(a.cost/1e3).toFixed(1),"K"]})]})]})]},a.id))})})]}),e&&w.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:w.jsx(js,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Scenario Selected"}),w.jsxs("p",{className:"text-gray-700",children:["Ready to simulate ",w.jsx("span",{className:"font-medium",children:(o=i.find(a=>a.id===e))==null?void 0:o.name}),". This will run 1000 Monte Carlo iterations to predict outcomes with 95% confidence intervals."]})]})]})})]})},qde=()=>{const[e,t]=Be.useState("all"),r=[{id:"sox",name:"SOX",status:"compliant",score:98,requirements:45,met:44},{id:"gdpr",name:"GDPR",status:"compliant",score:96,requirements:38,met:37},{id:"hipaa",name:"HIPAA",status:"at-risk",score:82,requirements:52,met:43},{id:"iso9001",name:"ISO 9001",status:"compliant",score:94,requirements:28,met:27},{id:"pci",name:"PCI DSS",status:"non-compliant",score:68,requirements:35,met:24}],n=[{id:"1",name:"Access Control",type:"Preventive",effectiveness:"Effective",lastTested:"2025-10-01",nextTest:"2025-11-01"},{id:"2",name:"Data Encryption",type:"Preventive",effectiveness:"Effective",lastTested:"2025-09-28",nextTest:"2025-10-28"},{id:"3",name:"Audit Logging",type:"Detective",effectiveness:"Needs Improvement",lastTested:"2025-09-25",nextTest:"2025-10-25"},{id:"4",name:"Segregation of Duties",type:"Directive",effectiveness:"Effective",lastTested:"2025-10-03",nextTest:"2025-11-03"}],i=[{id:"1",name:"Unauthorized Data Access",level:"High",likelihood:"Possible",impact:"Major",mitigation:"Enhanced MFA"},{id:"2",name:"Data Breach",level:"Critical",likelihood:"Unlikely",impact:"Catastrophic",mitigation:"Encryption at rest"},{id:"3",name:"Process Deviation",level:"Medium",likelihood:"Likely",impact:"Moderate",mitigation:"Automated checks"}],s=a=>{switch(a){case"compliant":return"bg-green-100 text-green-800";case"at-risk":return"bg-yellow-100 text-yellow-800";case"non-compliant":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=a=>{switch(a){case"Critical":return"bg-red-500";case"High":return"bg-orange-500";case"Medium":return"bg-yellow-500";default:return"bg-blue-500"}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Compliance Hub"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Manage compliance across multiple regulatory frameworks"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"all",children:"All Frameworks"}),r.map(a=>w.jsx("option",{value:a.id,children:a.name},a.id))]}),w.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(Ii,{className:"w-4 h-4"}),"Generate Report"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Overall Compliance"}),w.jsx(Yo,{className:"w-4 h-4 text-green-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"88%"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+3% vs last quarter"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Active Controls"}),w.jsx(LI,{className:"w-4 h-4 text-blue-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"127"}),w.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"98% effective"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Open Issues"}),w.jsx(cp,{className:"w-4 h-4 text-orange-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8"}),w.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"2 critical"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Audits This Month"}),w.jsx(Ii,{className:"w-4 h-4 text-purple-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"3"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"All passed"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Compliance Frameworks"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Regulatory framework compliance status"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-4",children:r.map(a=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Yo,{className:"w-5 h-5 text-blue-600"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),w.jsxs("p",{className:"text-sm text-gray-500",children:[a.met,"/",a.requirements," requirements met"]})]})]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s(a.status)}`,children:a.status.replace("-"," ")})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{className:"text-gray-600",children:"Compliance Score"}),w.jsxs("span",{className:"font-semibold text-gray-900",children:[a.score,"%"]})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:`h-2 rounded-full ${a.score>=90?"bg-green-500":a.score>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.score}%`}})})]})]},a.id))})})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Risk Assessment"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Identified compliance risks"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-4",children:i.map(a=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[w.jsx("div",{className:`w-1 h-16 rounded ${o(a.level)}`}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Likelihood:"}),w.jsx("span",{className:"ml-1 font-medium",children:a.likelihood})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Impact:"}),w.jsx("span",{className:"ml-1 font-medium",children:a.impact})]})]})]}),w.jsx(il,{className:`w-5 h-5 ${a.level==="Critical"?"text-red-500":a.level==="High"?"text-orange-500":"text-yellow-500"}`})]}),w.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded",children:w.jsxs("div",{className:"text-sm text-blue-900",children:[w.jsx("span",{className:"font-medium",children:"Mitigation:"})," ",a.mitigation]})})]},a.id))})})]})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Control Effectiveness"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor and test process controls"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Control Name"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Effectiveness"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Tested"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Test"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(a=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"font-medium text-gray-900",children:a.name})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:a.type})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.effectiveness==="Effective"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.effectiveness})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.lastTested}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.nextTest}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:w.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Test Now"})})]},a.id))})]})})]}),w.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:w.jsx(Ar,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Compliance Monitoring Active"}),w.jsxs("p",{className:"text-gray-700",children:["Automated compliance checks are running 24/7 across all frameworks.",w.jsx("span",{className:"font-medium text-green-700",children:" 98% of controls"})," are operating effectively with",w.jsx("span",{className:"font-medium text-green-700",children:" 88% overall compliance"})," across all regulatory requirements."]})]})]})})]})},Vde=()=>{const[e,t]=Be.useState("live"),r=[{id:"1",name:"Customer Onboarding #1247",status:"running",assignee:"Sarah Chen",slaHealth:85,adaptations:2},{id:"2",name:"Complaint Resolution #892",status:"waiting",assignee:"Mike Johnson",slaHealth:45,adaptations:1},{id:"3",name:"Order Processing #3421",status:"running",assignee:"Anna Rodriguez",slaHealth:92,adaptations:0},{id:"4",name:"Approval Workflow #556",status:"at-risk",assignee:"James Lee",slaHealth:35,adaptations:3}],n=[{id:"1",name:"Skill-Based Routing",type:"Assignment",trigger:"Task Created",active:!0,executions:1247},{id:"2",name:"SLA Escalation",type:"Escalation",trigger:"80% SLA Consumed",active:!0,executions:89},{id:"3",name:"Workload Balancing",type:"Routing",trigger:"Agent Capacity",active:!0,executions:2134},{id:"4",name:"Exception Handler",type:"Exception",trigger:"Process Error",active:!0,executions:45}],i=o=>{switch(o){case"running":return"bg-green-100 text-green-800";case"waiting":return"bg-yellow-100 text-yellow-800";case"at-risk":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=o=>o>=70?"text-green-600":o>=40?"text-yellow-600":"text-red-600";return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dynamic Process Orchestrator"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time process execution and intelligent routing"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>t("live"),className:`px-4 py-2 rounded-lg transition-colors ${e==="live"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Live Processes"}),w.jsx("button",{onClick:()=>t("rules"),className:`px-4 py-2 rounded-lg transition-colors ${e==="rules"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rules"}),w.jsx("button",{onClick:()=>t("performance"),className:`px-4 py-2 rounded-lg transition-colors ${e==="performance"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Performance"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Active Processes"}),w.jsx(nl,{className:"w-4 h-4 text-blue-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"47"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+12 from yesterday"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Avg Response Time"}),w.jsx(vs,{className:"w-4 h-4 text-purple-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1.2s"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"-15% faster"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Auto-Adaptations"}),w.jsx(Ts,{className:"w-4 h-4 text-yellow-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"234"}),w.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Today"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"SLA Compliance"}),w.jsx(js,{className:"w-4 h-4 text-green-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94%"}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+3% improvement"})]})]}),e==="live"&&w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Live Process Instances"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time monitoring of active processes"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-4",children:r.map(o=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:o.name}),w.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${i(o.status)}`,children:o.status})]}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[w.jsx(fu,{className:"w-4 h-4"}),w.jsxs("span",{children:["Assigned to ",o.assignee]})]})]}),w.jsx(nl,{className:"w-5 h-5 text-blue-600"})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"SLA Health"}),w.jsxs("div",{className:`text-lg font-semibold ${s(o.slaHealth)}`,children:[o.slaHealth,"%"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-gray-500",children:"Adaptations"}),w.jsx("div",{className:"text-lg font-semibold text-gray-900",children:o.adaptations})]}),w.jsx("div",{className:"flex items-center justify-end",children:w.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Monitor"})})]}),w.jsx("div",{className:"mt-3",children:w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:`h-2 rounded-full ${o.slaHealth>=70?"bg-green-500":o.slaHealth>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.slaHealth}%`}})})})]},o.id))})})]}),e==="rules"&&w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Orchestration Rules"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automated decision-making rules"})]}),w.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Rule"})]})}),w.jsx("div",{className:"divide-y divide-gray-200",children:n.map(o=>w.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[w.jsx("div",{className:`w-2 h-12 rounded ${o.active?"bg-green-500":"bg-gray-300"}`}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:o.name}),w.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"font-medium",children:"Type:"})," ",o.type]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"font-medium",children:"Trigger:"})," ",o.trigger]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"font-medium",children:"Executions:"})," ",o.executions]})]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Edit"}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{type:"checkbox",checked:o.active,readOnly:!0,className:"sr-only peer"}),w.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})},o.id))})]}),e==="performance"&&w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Routing Efficiency"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[w.jsx("span",{className:"text-gray-600",children:"Optimal Assignments"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"94%"})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"94%"}})})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[w.jsx("span",{className:"text-gray-600",children:"First-Time Resolution"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"87%"})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"87%"}})})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[w.jsx("span",{className:"text-gray-600",children:"Exception Recovery"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"96%"})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"96%"}})})]})]})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Response Times"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Avg Decision Time"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"1.2s"})]}),w.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Avg Routing Time"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"0.8s"})]}),w.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-sm text-gray-600",children:"Avg Adaptation Time"}),w.jsx("span",{className:"font-semibold text-gray-900",children:"2.1s"})]})]})]})]}),w.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:w.jsx(Ts,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Intelligent Orchestration Active"}),w.jsxs("p",{className:"text-gray-700",children:["Real-time orchestration is managing ",w.jsx("span",{className:"font-medium text-blue-700",children:"47 active processes"})," with",w.jsx("span",{className:"font-medium text-green-700",children:" 94% SLA compliance"}),". AI-powered routing has made",w.jsx("span",{className:"font-medium text-blue-700",children:" 234 adaptive decisions"})," today to optimize performance."]})]})]})})]})};function Gde(){const[e,t]=Be.useState([]),[r,n]=Be.useState([]),[i,s]=Be.useState(""),[o,a]=Be.useState([]),[l,c]=Be.useState(!0),[u,h]=Be.useState(null);Be.useEffect(()=>{f()},[]),Be.useEffect(()=>{i&&p(i)},[i]);const f=async()=>{try{const[b,x]=await Promise.all([wz(),d()]);t(b),n(x),x.length>0&&!i&&s(x[0].id)}catch(b){console.error("Error loading bottlenecks:",b)}finally{c(!1)}},d=async()=>{const{data:b}=await Ve.from("processes").select("id, name").eq("status","active").order("name");return b||[]},p=async b=>{try{const x=await Ide(b);a(x)}catch(x){console.error("Error loading node metrics:",x)}},g=async b=>{const x=prompt("Enter resolution notes:");if(x){h(b);try{await Mde(b,x),f()}catch(_){console.error("Error resolving bottleneck:",_),alert("Failed to resolve bottleneck")}finally{h(null)}}},m=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},v=b=>{if(b<60)return`${Math.round(b)}m`;const x=Math.floor(b/60),_=Math.round(b%60);return`${x}h ${_}m`},y={total:e.length,critical:e.filter(b=>b.severity==="critical").length,high:e.filter(b=>b.severity==="high").length,avgImpact:e.length>0?e.reduce((b,x)=>b+x.impactScore,0)/e.length:0};return l?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bottleneck Detection & Resolution"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Identify and resolve process bottlenecks automatically"})]}),w.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(Ts,{className:"w-4 h-4"}),"Refresh Analysis"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-orange-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Bottlenecks"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.total})]}),w.jsx(il,{className:"w-10 h-10 text-orange-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-red-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Critical"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.critical})]}),w.jsx(il,{className:"w-10 h-10 text-red-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-yellow-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"High Priority"}),w.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.high})]}),w.jsx(ex,{className:"w-10 h-10 text-yellow-500"})]})}),w.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-blue-500",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Impact"}),w.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[y.avgImpact.toFixed(1),"%"]})]}),w.jsx(ex,{className:"w-10 h-10 text-blue-500"})]})})]}),e.length>0&&w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Active Bottlenecks"})}),w.jsx("div",{className:"divide-y divide-gray-200",children:e.map(b=>w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex items-start justify-between mb-4",children:[w.jsx("div",{className:"flex-1",children:w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:b.nodeLabel}),w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${m(b.severity)}`,children:b.severity.toUpperCase()})]})}),w.jsxs("button",{onClick:()=>g(b.id),disabled:u===b.id,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Mark Resolved"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[w.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(vs,{className:"w-4 h-4 text-gray-600"}),w.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Delay"})]}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(b.avgDelayMinutes)})]}),w.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(ex,{className:"w-4 h-4 text-gray-600"}),w.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Impact Score"})]}),w.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b.impactScore.toFixed(1),"%"]})]}),w.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(il,{className:"w-4 h-4 text-gray-600"}),w.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Affected"})]}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.affectedInstancesCount}),w.jsx("p",{className:"text-xs text-gray-500",children:"instances"})]}),w.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(vs,{className:"w-4 h-4 text-gray-600"}),w.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Detected"})]}),w.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(b.detectedAt).toLocaleDateString()}),w.jsx("p",{className:"text-xs text-gray-500",children:new Date(b.detectedAt).toLocaleTimeString()})]})]}),b.recommendedActions&&w.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[w.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Recommended Actions:"}),w.jsx("ul",{className:"text-sm text-blue-800 space-y-1",children:Array.isArray(b.recommendedActions)?b.recommendedActions.map((x,_)=>w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-blue-600 mt-0.5",children:"•"}),w.jsx("span",{children:x})]},_)):w.jsx("li",{children:JSON.stringify(b.recommendedActions)})})]})]},b.id))})]}),r.length>0&&w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Node Performance Analysis"}),w.jsx("select",{value:i,onChange:b=>s(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:r.map(b=>w.jsx("option",{value:b.id,children:b.name},b.id))})]})}),w.jsxs("div",{className:"overflow-x-auto",children:[w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Node"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Executions"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Throughput"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(b=>w.jsxs("tr",{className:b.isBottleneck?"bg-orange-50":"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4",children:w.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.nodeLabel})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:v(b.avgProcessingMinutes)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:b.totalExecutions})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"text-sm text-gray-900",children:[b.throughputRate.toFixed(2),"/hr"]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.isBottleneck?w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m(b.bottleneckSeverity||"medium")}`,children:"Bottleneck"}):w.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Normal"})})]},b.nodeId))})]}),o.length===0&&w.jsx("div",{className:"text-center py-12",children:w.jsx("p",{className:"text-gray-500",children:"No metrics available for this process"})})]})]}),e.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[w.jsx(Ar,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-900 text-lg font-semibold mb-2",children:"No Bottlenecks Detected"}),w.jsx("p",{className:"text-gray-500 text-sm",children:"All processes are running smoothly. Great work!"})]})]})}async function Kde(e="suggested"){let t=Ve.from("process_recommendations").select("*").order("priority",{ascending:!0}).order("generated_at",{ascending:!1});e!=="all"&&(t=t.eq("status",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function r_(e,t,r){const n=(await Ve.auth.getUser()).data.user,{error:i}=await Ve.from("process_recommendations").update({status:t,reviewed_by:n==null?void 0:n.id,reviewed_at:new Date().toISOString()}).eq("id",e);if(i)throw i}function Xde(){const[e,t]=Be.useState([]),[r,n]=Be.useState(!0),[i,s]=Be.useState("suggested");Be.useEffect(()=>{o()},[i]);const o=async()=>{try{const d=await Kde(i);t(d)}catch(d){console.error("Error loading recommendations:",d)}finally{n(!1)}},a=async d=>{try{await r_(d,"approved"),o()}catch(p){console.error("Error approving recommendation:",p),alert("Failed to approve recommendation")}},l=async d=>{try{await r_(d,"rejected"),o()}catch(p){console.error("Error rejecting recommendation:",p),alert("Failed to reject recommendation")}},c=async d=>{try{await r_(d,"implemented"),o()}catch(p){console.error("Error marking as implemented:",p),alert("Failed to mark as implemented")}},u=d=>{switch(d){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},h=d=>{switch(d){case"optimization":return w.jsx(js,{className:"w-5 h-5"});case"bottleneck_resolution":return w.jsx(Ts,{className:"w-5 h-5"});case"cost_reduction":return w.jsx(T0,{className:"w-5 h-5"});default:return w.jsx($a,{className:"w-5 h-5"})}},f={total:e.length,highPriority:e.filter(d=>d.priority==="critical"||d.priority==="high").length,avgConfidence:e.length>0?Math.round(e.reduce((d,p)=>d+p.confidence_score,0)/e.length):0};return r?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[w.jsx($a,{className:"w-7 h-7 text-purple-600"}),"AI-Powered Recommendations"]}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Smart suggestions to optimize your processes"})]}),w.jsxs("select",{value:i,onChange:d=>s(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[w.jsx("option",{value:"all",children:"All Recommendations"}),w.jsx("option",{value:"suggested",children:"New Suggestions"}),w.jsx("option",{value:"approved",children:"Approved"}),w.jsx("option",{value:"rejected",children:"Rejected"}),w.jsx("option",{value:"implemented",children:"Implemented"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Recommendations"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:f.total})]}),w.jsx($a,{className:"w-12 h-12 text-purple-200"})]}),w.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"AI-generated insights"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"High Priority"}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:f.highPriority})]}),w.jsx(Ts,{className:"w-12 h-12 text-orange-200"})]}),w.jsx("p",{className:"text-orange-100 text-sm mt-4",children:"Requires attention"})]}),w.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Avg Confidence"}),w.jsxs("p",{className:"text-3xl font-bold mt-1",children:[f.avgConfidence,"%"]})]}),w.jsx(js,{className:"w-12 h-12 text-green-200"})]}),w.jsx("p",{className:"text-green-100 text-sm mt-4",children:"AI accuracy score"})]})]}),w.jsx("div",{className:"space-y-4",children:e.map(d=>w.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:w.jsxs("div",{className:"flex items-start justify-between mb-4",children:[w.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[w.jsx("div",{className:"p-3 bg-purple-100 rounded-lg text-purple-600",children:h(d.recommendation_type)}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${u(d.priority)}`,children:d.priority}),w.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:[d.confidence_score,"% confidence"]})]}),w.jsx("p",{className:"text-gray-700 mb-4",children:d.description}),d.expected_impact&&w.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[w.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Expected Impact:"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-blue-800",children:Object.entries(d.expected_impact).map(([p,g])=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(js,{className:"w-4 h-4"}),w.jsxs("span",{className:"capitalize",children:[p.replace(/_/g," "),":"]}),w.jsx("span",{className:"font-semibold",children:String(g)})]},p))})]}),d.estimated_savings&&w.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[w.jsx("p",{className:"text-sm font-medium text-green-900 mb-2",children:"Estimated Savings:"}),w.jsx("div",{className:"text-sm text-green-800",children:Object.entries(d.estimated_savings).map(([p,g])=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(T0,{className:"w-4 h-4"}),w.jsxs("span",{className:"capitalize",children:[p.replace(/_/g," "),":"]}),w.jsx("span",{className:"font-semibold",children:String(g)})]},p))})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm text-gray-500",children:[w.jsx(vs,{className:"w-4 h-4"}),"Generated ",new Date(d.generated_at).toLocaleString()]})]})]}),d.status==="suggested"&&w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>a(d.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Approve"]}),w.jsxs("button",{onClick:()=>l(d.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[w.jsx(Bf,{className:"w-4 h-4"}),"Reject"]})]}),d.status==="approved"&&w.jsxs("button",{onClick:()=>c(d.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Ts,{className:"w-4 h-4"}),"Mark Implemented"]}),d.status==="implemented"&&w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[w.jsx(Ar,{className:"w-4 h-4"}),"Implemented"]})]})},d.id))}),e.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[w.jsx($a,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No recommendations available"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"AI will generate recommendations as processes are executed"})]})]})}const Zde=({approval:e,onUpdate:t})=>{const{user:r}=Za(),[n,i]=Be.useState(!1),[s,o]=Be.useState(!1),[a,l]=Be.useState(""),c=async()=>{i(!0);try{const{error:d}=await Ve.from("approvals").update({status:"approved",reviewed_by:r==null?void 0:r.id,reviewed_at:new Date().toISOString(),comments:a||null}).eq("id",e.id);if(d)throw d;t()}catch(d){console.error("Error approving:",d)}finally{i(!1),o(!1),l("")}},u=async()=>{if(!a){alert("Please provide a reason for rejection");return}i(!0);try{const{error:d}=await Ve.from("approvals").update({status:"rejected",reviewed_by:r==null?void 0:r.id,reviewed_at:new Date().toISOString(),comments:a}).eq("id",e.id);if(d)throw d;t()}catch(d){console.error("Error rejecting:",d)}finally{i(!1),o(!1),l("")}},h=d=>{switch(d){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},f=()=>{switch(e.status){case"approved":return w.jsx(Ar,{className:"text-green-600",size:20});case"rejected":return w.jsx(Bf,{className:"text-red-600",size:20});case"pending":return w.jsx(vs,{className:"text-yellow-600",size:20});default:return w.jsx(cp,{className:"text-slate-600",size:20})}};return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-4",children:[w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[f(),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-800 capitalize",children:e.approval_type.replace(/_/g," ")}),w.jsxs("p",{className:"text-sm text-slate-600",children:[e.entity_type," - ",e.entity_id.slice(0,8)]})]})]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${h(e.priority)}`,children:e.priority})]}),w.jsxs("div",{className:"text-sm text-slate-600",children:[w.jsxs("p",{children:["Requested: ",new Date(e.requested_at).toLocaleString()]}),e.comments&&w.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded-lg",children:[w.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Comments:"}),w.jsx("p",{children:e.comments})]})]}),e.status==="pending"&&w.jsx("div",{className:"space-y-3 pt-4 border-t border-slate-200",children:s?w.jsxs("div",{className:"space-y-2",children:[w.jsx("textarea",{value:a,onChange:d=>l(d.target.value),placeholder:"Add comments (optional for approval, required for rejection)...",rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:c,disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm disabled:opacity-50",children:[w.jsx(Ar,{size:16}),"Approve"]}),w.jsxs("button",{onClick:u,disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm disabled:opacity-50",children:[w.jsx(Bf,{size:16}),"Reject"]}),w.jsx("button",{onClick:()=>{o(!1),l("")},className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors text-sm",children:"Cancel"})]})]}):w.jsx("button",{onClick:()=>o(!0),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Review Request"})})]})},Yde=()=>{const[e,t]=Be.useState([]),[r,n]=Be.useState(!0),[i,s]=Be.useState("pending"),[o,a]=Be.useState({pending:0,approved:0,rejected:0});Be.useEffect(()=>{l()},[i]);const l=async()=>{try{let c=Ve.from("approvals").select("*").order("requested_at",{ascending:!1});i!=="all"&&(c=c.eq("status",i));const{data:u,error:h}=await c;if(h)throw h;for(const g of u||[])if(g.entity_type==="time_off_request"){const{data:m}=await Ve.from("time_off_requests").select("start_date, end_date, request_type, reason").eq("id",g.entity_id).single();g.entity_data=m}t(u||[]);const f=(u==null?void 0:u.filter(g=>g.status==="pending").length)||0,d=(u==null?void 0:u.filter(g=>g.status==="approved").length)||0,p=(u==null?void 0:u.filter(g=>g.status==="rejected").length)||0;a({pending:f,approved:d,rejected:p}),n(!1)}catch(c){console.error("Error loading approvals:",c),n(!1)}};return r?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Approvals Queue"}),w.jsx("p",{className:"text-slate-600 mt-1",children:"Review and process pending approval requests"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-slate-600",children:"Pending"}),w.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:o.pending})]}),w.jsx(vs,{size:32,className:"text-yellow-400"})]})}),w.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-slate-600",children:"Approved"}),w.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:o.approved})]}),w.jsx(Ar,{size:32,className:"text-green-400"})]})}),w.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-slate-600",children:"Rejected"}),w.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:o.rejected})]}),w.jsx(Bf,{size:32,className:"text-red-400"})]})})]}),w.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx(II,{size:20,className:"text-slate-600"}),w.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filter:"}),w.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(c=>w.jsx("button",{onClick:()=>s(c),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i===c?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]})}),w.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(c=>w.jsx(Zde,{approval:c,onApprovalComplete:l},c.id))}),e.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-slate-200",children:[w.jsx(Ar,{size:48,className:"mx-auto text-slate-400 mb-4"}),w.jsx("p",{className:"text-slate-600",children:i==="pending"?"No pending approvals":`No ${i} approvals`})]})]})};async function Jde(e){let t=Ve.from("knowledge_articles").select(`
      *,
      knowledge_categories(name),
      users_profile!knowledge_articles_created_by_fkey(full_name)
    `).order("created_at",{ascending:!1});e&&(t=t.eq("category_id",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function Qde(){const{data:e,error:t}=await Ve.from("knowledge_categories").select("*").order("name");if(t)throw t;return e||[]}async function ehe(e,t,r){const n=(await Ve.auth.getUser()).data.user,{data:i,error:s}=await Ve.from("knowledge_articles").insert({title:e,content:t,category_id:r,created_by:n==null?void 0:n.id}).select().single();if(s)throw s;return i}async function the(e){const{data:t}=await Ve.from("knowledge_articles").select("view_count").eq("id",e).single();t&&await Ve.from("knowledge_articles").update({view_count:(t.view_count||0)+1}).eq("id",e)}async function rhe(e,t){const r=(await Ve.auth.getUser()).data.user;if(!r)return;const{error:n}=await Ve.from("knowledge_votes").upsert({article_id:e,user_id:r.id,is_helpful:t});if(n)throw n;const{data:i}=await Ve.from("knowledge_votes").select("is_helpful").eq("article_id",e);if(i){const s=i.filter(o=>o.is_helpful).length;await Ve.from("knowledge_articles").update({helpful_count:s}).eq("id",e)}}async function nhe(e){const{data:t,error:r}=await Ve.from("knowledge_articles").select("*").or(`title.ilike.%${e}%,content.ilike.%${e}%`).limit(20);if(r)throw r;return t||[]}function ihe(){const[e,t]=Be.useState([]),[r,n]=Be.useState([]),[i,s]=Be.useState(""),[o,a]=Be.useState(""),[l,c]=Be.useState(!0),[u,h]=Be.useState(!1),[f,d]=Be.useState(null),[p,g]=Be.useState({title:"",content:"",categoryId:""});Be.useEffect(()=>{m()},[i]);const m=async()=>{try{const[_,M]=await Promise.all([Jde(i||void 0),Qde()]);t(_),n(M)}catch(_){console.error("Error loading knowledge base:",_)}finally{c(!1)}},v=async()=>{if(!o){m();return}try{const _=await nhe(o);t(_)}catch(_){console.error("Error searching:",_)}},y=async()=>{if(!(!p.title||!p.content||!p.categoryId))try{await ehe(p.title,p.content,p.categoryId),h(!1),g({title:"",content:"",categoryId:""}),m()}catch(_){console.error("Error creating article:",_),alert("Failed to create article")}},b=async _=>{d(_),await the(_.id)},x=async(_,M)=>{try{await rhe(_,M),m()}catch(U){console.error("Error voting:",U)}};return l?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f?w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsx("button",{onClick:()=>d(null),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Knowledge Base"})}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:f.title}),w.jsxs("div",{className:"flex items-center gap-6 mb-6 text-sm text-gray-600",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ly,{className:"w-4 h-4"}),f.view_count||0," views"]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Qw,{className:"w-4 h-4"}),f.helpful_count||0," helpful"]})]}),w.jsx("div",{className:"prose max-w-none mb-8",children:w.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:f.content})}),w.jsxs("div",{className:"border-t pt-6",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Was this article helpful?"}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("button",{onClick:()=>x(f.id,!0),className:"flex items-center gap-2 px-4 py-2 border border-green-300 text-green-700 rounded-lg hover:bg-green-50",children:[w.jsx(Qw,{className:"w-4 h-4"}),"Yes"]}),w.jsx("button",{onClick:()=>x(f.id,!1),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"No"})]})]})]})]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(C0,{className:"w-7 h-7 text-blue-600"}),"Knowledge Management"]}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Centralized knowledge base and documentation"})]}),w.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[w.jsx(P0,{className:"w-4 h-4"}),"New Article"]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"flex-1 relative",children:[w.jsx(o8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value),onKeyPress:_=>_.key==="Enter"&&v(),placeholder:"Search knowledge base...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),w.jsx("button",{onClick:v,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Search"})]}),w.jsxs("div",{className:"flex gap-2 flex-wrap",children:[w.jsx("button",{onClick:()=>s(""),className:`px-4 py-2 rounded-lg ${i?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:"All Categories"}),r.map(_=>w.jsx("button",{onClick:()=>s(_.id),className:`px-4 py-2 rounded-lg ${i===_.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_.name},_.id))]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(_=>{var M;return w.jsxs("div",{onClick:()=>b(_),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer border-l-4 border-blue-500",children:[w.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(Ii,{className:"w-5 h-5 text-blue-600"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.title}),_.knowledge_categories&&w.jsx("span",{className:"text-xs text-blue-600 font-medium",children:_.knowledge_categories.name})]})]}),w.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[(M=_.content)==null?void 0:M.substring(0,150),"..."]}),w.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Ly,{className:"w-3 h-3"}),_.view_count||0]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Qw,{className:"w-3 h-3"}),_.helpful_count||0]})]}),w.jsx("span",{children:new Date(_.created_at).toLocaleDateString()})]})]},_.id)})}),e.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[w.jsx(C0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No articles found"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Start building your knowledge base"})]}),u&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 shadow-2xl",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Create New Article"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),w.jsx("input",{type:"text",value:p.title,onChange:_=>g({...p,title:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),w.jsxs("select",{value:p.categoryId,onChange:_=>g({...p,categoryId:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"",children:"Select a category"}),r.map(_=>w.jsx("option",{value:_.id,children:_.name},_.id))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),w.jsx("textarea",{value:p.content,onChange:_=>g({...p,content:_.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),w.jsxs("div",{className:"flex gap-3 mt-6",children:[w.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),w.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Article"})]})]})})]})}const she=()=>{const e=[{id:"1",title:"Password Reset Procedure",views:1247,helpful:96,lastUpdated:"2025-10-01",status:"published",effectiveness:94},{id:"2",title:"Payment Processing Guide",views:892,helpful:94,lastUpdated:"2025-09-28",status:"published",effectiveness:91},{id:"3",title:"Refund Policy Explained",views:734,helpful:88,lastUpdated:"2025-09-25",status:"published",effectiveness:85},{id:"4",title:"Account Setup Tutorial",views:2103,helpful:98,lastUpdated:"2025-10-03",status:"published",effectiveness:97}],t=[{id:"1",article:"Password Reset Procedure",ticket:"#1234",relevance:96,used:!0},{id:"2",article:"Payment Processing Guide",ticket:"#1235",relevance:92,used:!0},{id:"3",article:"Refund Policy Explained",ticket:"#1236",relevance:88,used:!1}],r=[{id:"1",topic:"Multi-factor Authentication Setup",frequency:45,priority:"high",searches:67},{id:"2",topic:"Billing Cycle Changes",frequency:32,priority:"medium",searches:48},{id:"3",topic:"API Integration Guide",frequency:28,priority:"high",searches:52}];return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Knowledge Management"}),w.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered knowledge base with auto-generation"})]}),w.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(Ii,{className:"w-4 h-4"}),"Create Article"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Articles",value:"247",icon:C0,trend:"+23 this month"},{label:"Avg Effectiveness",value:"92%",icon:js,trend:"+5%"},{label:"AI Suggestions",value:"1,834",icon:Ts,trend:"Today"},{label:"Auto-Generated",value:"45",icon:Dy,trend:"This month"}].map((n,i)=>w.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm text-gray-600",children:n.label}),w.jsx(n.icon,{className:"w-4 h-4 text-blue-600"})]}),w.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.value}),w.jsx("div",{className:"text-xs text-green-600 mt-1",children:n.trend})]},i))}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Articles"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Most helpful content"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-3",children:e.map(n=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:n.title}),w.jsx(Ar,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Views:"}),w.jsx("span",{className:"ml-1 font-medium",children:n.views})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Helpful:"}),w.jsxs("span",{className:"ml-1 font-medium text-green-600",children:[n.helpful,"%"]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Score:"}),w.jsxs("span",{className:"ml-1 font-medium",children:[n.effectiveness,"%"]})]})]})]},n.id))})})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Suggestions Today"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time article recommendations"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-3",children:t.map(n=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:n.article}),w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested for ",n.ticket]})]}),w.jsx(Ts,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"})]}),w.jsxs("div",{className:"flex items-center justify-between mt-2",children:[w.jsxs("div",{className:"text-sm",children:[w.jsx("span",{className:"text-gray-500",children:"Relevance:"}),w.jsxs("span",{className:"ml-1 font-medium text-blue-600",children:[n.relevance,"%"]})]}),w.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n.used?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:n.used?"Used":"Pending"})]})]},n.id))})})]})]}),w.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Knowledge Gaps Detected"}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Missing content identified by AI"})]}),w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"space-y-3",children:r.map(n=>w.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-medium text-gray-900",children:n.topic}),w.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[w.jsxs("span",{children:[n.frequency," tickets without solution"]}),w.jsx("span",{children:"•"}),w.jsxs("span",{children:[n.searches," failed searches"]})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${n.priority==="high"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.priority," priority"]}),w.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Generate"})]})]},n.id))})})]}),w.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200 p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:w.jsx(Dy,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"AI Learning Active"}),w.jsxs("p",{className:"text-gray-700",children:["The knowledge base is continuously learning from ",w.jsx("span",{className:"font-medium text-yellow-700",children:"1,834 ticket resolutions"})," today.",w.jsx("span",{className:"font-medium text-green-700",children:" 45 articles auto-generated"})," this month with",w.jsx("span",{className:"font-medium text-blue-700",children:" 92% average effectiveness"})," score."]})]})]})})]})},ahe=()=>{const[e,t]=Be.useState("overview"),r=[{id:"overview",label:"Overview",icon:w.jsx(UV,{size:18})},{id:"architecture",label:"Architecture",icon:w.jsx(MI,{size:18})},{id:"frontend",label:"Frontend Stack",icon:w.jsx(HN,{size:18})},{id:"backend",label:"Backend & Database",icon:w.jsx(j0,{size:18})},{id:"security",label:"Security",icon:w.jsx(Yo,{size:18})},{id:"deployment",label:"Deployment",icon:w.jsx(X3,{size:18})},{id:"api",label:"API Reference",icon:w.jsx(QV,{size:18})},{id:"modules",label:"Module Catalog",icon:w.jsx(BV,{size:18})},{id:"performance",label:"Performance",icon:w.jsx(Ts,{size:18})}];return w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-8 text-white",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Technical Specifications"}),w.jsx("p",{className:"text-blue-100 mb-4",children:"Complete technical documentation for the BPO Platform v2.0"}),w.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-4 py-2 rounded-lg inline-flex",children:[w.jsx(HN,{size:16}),w.jsx("span",{children:"Current Version:"}),w.jsxs("a",{href:"https://stackblitz.com/~/github.com/your-username/bpo-platform",target:"_blank",rel:"noopener noreferrer",className:"font-mono font-semibold hover:underline flex items-center gap-1",children:["Live Demo",w.jsx(zV,{size:14})]})]})]}),w.jsxs("div",{className:"bg-white/10 px-4 py-2 rounded-lg",children:[w.jsx("div",{className:"text-sm text-blue-100",children:"Build Status"}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx(Ar,{size:18,className:"text-green-300"}),w.jsx("span",{className:"font-semibold",children:"Production Ready"})]})]})]})}),w.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[w.jsx("div",{className:"col-span-3",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 sticky top-6",children:[w.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Navigation"}),w.jsx("div",{className:"space-y-1",children:r.map(n=>w.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors ${e===n.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[n.icon,w.jsx("span",{children:n.label})]},n.id))})]})}),w.jsxs("div",{className:"col-span-9",children:[e==="overview"&&w.jsx(ohe,{}),e==="architecture"&&w.jsx(lhe,{}),e==="frontend"&&w.jsx(che,{}),e==="backend"&&w.jsx(uhe,{}),e==="security"&&w.jsx(dhe,{}),e==="deployment"&&w.jsx(hhe,{}),e==="api"&&w.jsx(fhe,{}),e==="modules"&&w.jsx(phe,{}),e==="performance"&&w.jsx(mhe,{})]})]})]})},ohe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Platform Overview"}),w.jsxs("div",{className:"prose max-w-none",children:[w.jsx("p",{className:"text-slate-600 mb-4",children:"The BPO Platform is an enterprise-grade, AI-powered business process outsourcing management system built with modern web technologies. It provides a comprehensive suite of 42 modules covering all aspects of BPO operations."}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[w.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"42"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Total Modules"}),w.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"36 base + 6 premium"})]}),w.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[w.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"68"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Database Tables"}),w.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"100% RLS coverage"})]}),w.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[w.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"108 KB"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Bundle Size"}),w.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Gzipped, production"})]}),w.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[w.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:"4.2s"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Build Time"}),w.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"0 errors, optimized"})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Key Features"}),w.jsxs("ul",{className:"space-y-2 mb-6",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"AI-Powered Optimization:"})," Process mining discovers $2M+ in annual savings"]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"Predictive Analytics:"})," ML-based forecasting prevents 80% of project delays"]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"Visual Editors:"})," Full drag-and-drop BPMN and Gantt chart builders"]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"Multi-Tenancy:"})," White-label SaaS with tenant isolation and custom branding"]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"Enterprise Security:"})," Row-level security, field permissions, audit logging"]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ar,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("span",{className:"text-slate-600",children:[w.jsx("strong",{children:"Real-time Collaboration:"})," Live presence, comments, and notifications"]})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Technology Stack"}),w.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:w.jsx("table",{className:"w-full text-sm",children:w.jsxs("tbody",{children:[w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Frontend"}),w.jsx("td",{className:"py-2 text-slate-600",children:"React 18, TypeScript 5.5, Vite 5.4"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Styling"}),w.jsx("td",{className:"py-2 text-slate-600",children:"Tailwind CSS 3.4, Lucide React Icons"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Backend"}),w.jsx("td",{className:"py-2 text-slate-600",children:"Supabase (PostgreSQL + Edge Functions)"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Authentication"}),w.jsx("td",{className:"py-2 text-slate-600",children:"Supabase Auth (JWT-based)"})]}),w.jsxs("tr",{children:[w.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Deployment"}),w.jsx("td",{className:"py-2 text-slate-600",children:"Netlify / Vercel (Static SPA)"})]})]})})})]})]})}),lhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"System Architecture"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Architecture Pattern"}),w.jsxs("p",{className:"text-slate-600 mb-4",children:["The platform follows a ",w.jsx("strong",{children:"JAMstack architecture"})," with a React SPA frontend and serverless Supabase backend. This provides excellent performance, scalability, and developer experience."]}),w.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 mb-6",children:[w.jsx("div",{className:"text-center mb-4",children:w.jsx("div",{className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg mb-2",children:"Client (Browser)"})}),w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx(UN,{size:24,className:"text-slate-400 rotate-90"})}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[w.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[w.jsx(FI,{size:24,className:"text-green-600 mx-auto mb-2"}),w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Supabase API"}),w.jsx("div",{className:"text-xs text-slate-500",children:"REST + GraphQL"})]}),w.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[w.jsx(j0,{size:24,className:"text-purple-600 mx-auto mb-2"}),w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"PostgreSQL"}),w.jsx("div",{className:"text-xs text-slate-500",children:"68 tables"})]}),w.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[w.jsx(Ts,{size:24,className:"text-yellow-600 mx-auto mb-2"}),w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Edge Functions"}),w.jsx("div",{className:"text-xs text-slate-500",children:"Deno runtime"})]})]}),w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx(UN,{size:24,className:"text-slate-400 rotate-90"})}),w.jsx("div",{className:"text-center",children:w.jsx("div",{className:"inline-block bg-slate-700 text-white px-4 py-2 rounded-lg",children:"External Services (Stripe, Email, etc.)"})})]}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Component Architecture"}),w.jsxs("ul",{className:"space-y-2 mb-4",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(OI,{size:18,className:"text-blue-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-slate-700",children:"Presentation Layer:"}),w.jsx("span",{className:"text-slate-600",children:" React components, modular design, single responsibility"})]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Ib,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-slate-700",children:"Business Logic:"}),w.jsx("span",{className:"text-slate-600",children:" React hooks, context providers, custom utilities"})]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(j0,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-slate-700",children:"Data Layer:"}),w.jsx("span",{className:"text-slate-600",children:" Supabase client, RLS policies, real-time subscriptions"})]})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Yo,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-slate-700",children:"Security Layer:"}),w.jsx("span",{className:"text-slate-600",children:" JWT authentication, row-level security, field permissions"})]})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Data Flow"}),w.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:w.jsxs("ol",{className:"space-y-2 text-sm",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"1"}),w.jsx("span",{className:"text-slate-700 mt-0.5",children:"User interacts with React component (click, input, etc.)"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"2"}),w.jsx("span",{className:"text-slate-700 mt-0.5",children:"Component calls Supabase client method with JWT token"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"3"}),w.jsx("span",{className:"text-slate-700 mt-0.5",children:"Supabase validates JWT and applies RLS policies"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"4"}),w.jsx("span",{className:"text-slate-700 mt-0.5",children:"PostgreSQL executes query and returns filtered results"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"5"}),w.jsx("span",{className:"text-slate-700 mt-0.5",children:"Component updates state and re-renders with new data"})]})]})})]})]})}),che=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Frontend Technology Stack"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Core Technologies"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(XV,{size:20,className:"text-blue-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"React 18.3.1"})]}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Modern React with functional components, hooks, and concurrent features."}),w.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[w.jsx("li",{children:"• useState, useEffect, useContext"}),w.jsx("li",{children:"• Custom hooks for reusability"}),w.jsx("li",{children:"• Strict mode enabled"})]})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(OI,{size:20,className:"text-blue-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"TypeScript 5.5"})]}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Strict type safety throughout the codebase for better developer experience."}),w.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[w.jsx("li",{children:"• Strict mode enabled"}),w.jsx("li",{children:"• Interface-based typing"}),w.jsx("li",{children:"• 100% type coverage"})]})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(Ts,{size:20,className:"text-purple-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"Vite 5.4"})]}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Lightning-fast build tool with HMR for optimal development experience."}),w.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[w.jsx("li",{children:"• Instant HMR updates"}),w.jsx("li",{children:"• Optimized production builds"}),w.jsx("li",{children:"• 4.2s build time"})]})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(MI,{size:20,className:"text-cyan-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"Tailwind CSS 3.4"})]}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Utility-first CSS framework for rapid UI development and consistency."}),w.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[w.jsx("li",{children:"• Custom design system"}),w.jsx("li",{children:"• Responsive breakpoints"}),w.jsx("li",{children:"• Dark mode ready"})]})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"File Structure"}),w.jsx("div",{className:"bg-slate-50 rounded-lg p-4 font-mono text-sm",children:w.jsxs("div",{className:"space-y-1 text-slate-700",children:[w.jsx("div",{children:"src/"}),w.jsx("div",{className:"ml-4",children:"├── components/ (14 reusable components)"}),w.jsx("div",{className:"ml-8",children:"├── Layout.tsx"}),w.jsx("div",{className:"ml-8",children:"├── AuthForm.tsx"}),w.jsx("div",{className:"ml-8",children:"├── BPMNEditor.tsx"}),w.jsx("div",{className:"ml-8",children:"├── GanttChart.tsx"}),w.jsx("div",{className:"ml-8",children:"└── ... (10 more)"}),w.jsx("div",{className:"ml-4",children:"├── modules/ (12 main modules)"}),w.jsx("div",{className:"ml-8",children:"├── Dashboard.tsx"}),w.jsx("div",{className:"ml-8",children:"├── VisualBPMN.tsx"}),w.jsx("div",{className:"ml-8",children:"├── ProjectGantt.tsx"}),w.jsx("div",{className:"ml-8",children:"└── index.ts (exports 42 modules)"}),w.jsx("div",{className:"ml-4",children:"├── contexts/"}),w.jsx("div",{className:"ml-8",children:"└── AuthContext.tsx"}),w.jsx("div",{className:"ml-4",children:"├── lib/"}),w.jsx("div",{className:"ml-8",children:"└── supabase.ts"}),w.jsx("div",{className:"ml-4",children:"├── utils/"}),w.jsx("div",{className:"ml-8",children:"├── moduleGenerator.tsx"}),w.jsx("div",{className:"ml-8",children:"├── notifications.ts"}),w.jsx("div",{className:"ml-8",children:"└── emailService.ts"}),w.jsx("div",{className:"ml-4",children:"├── App.tsx"}),w.jsx("div",{className:"ml-4",children:"├── main.tsx"}),w.jsx("div",{className:"ml-4",children:"└── index.css"})]})})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Component Patterns"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border-l-4 border-blue-600 bg-blue-50 p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Functional Components"}),w.jsx("p",{className:"text-sm text-slate-600",children:"All components use modern functional syntax with hooks. No class components."})]}),w.jsxs("div",{className:"border-l-4 border-green-600 bg-green-50 p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Single Responsibility"}),w.jsx("p",{className:"text-sm text-slate-600",children:"Each component has one clear purpose. Complex UIs are broken into smaller components."})]}),w.jsxs("div",{className:"border-l-4 border-purple-600 bg-purple-50 p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Props Interface Typing"}),w.jsx("p",{className:"text-sm text-slate-600",children:"All props are typed with TypeScript interfaces for type safety and documentation."})]})]})]})]})]})}),uhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backend & Database Architecture"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Supabase Backend"}),w.jsx("p",{className:"text-slate-600 mb-4",children:"Supabase provides a complete backend-as-a-service built on PostgreSQL. It handles authentication, database access, real-time subscriptions, and serverless functions."}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[w.jsx(j0,{size:32,className:"text-green-600 mx-auto mb-2"}),w.jsx("div",{className:"font-semibold text-slate-700",children:"PostgreSQL 15"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Relational database"})]}),w.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[w.jsx(LI,{size:32,className:"text-blue-600 mx-auto mb-2"}),w.jsx("div",{className:"font-semibold text-slate-700",children:"Supabase Auth"}),w.jsx("div",{className:"text-sm text-slate-600",children:"JWT authentication"})]}),w.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[w.jsx(FI,{size:32,className:"text-purple-600 mx-auto mb-2"}),w.jsx("div",{className:"font-semibold text-slate-700",children:"Edge Functions"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Deno runtime"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Database Schema"}),w.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-slate-800",children:"68"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Total Tables"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-slate-800",children:"742+"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Total Columns"})]})]})}),w.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Table Categories"}),w.jsxs("div",{className:"space-y-2 text-sm",children:[w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Core Operations"}),w.jsx("span",{className:"font-mono text-slate-600",children:"7 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Change Management"}),w.jsx("span",{className:"font-mono text-slate-600",children:"7 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Governance & Compliance"}),w.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Resource Management"}),w.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Workflow & Automation"}),w.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Premium AI Features"}),w.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"4 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Premium Knowledge Management"}),w.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"4 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Premium Billing System"}),w.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"5 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Premium Training LMS"}),w.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"5 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[w.jsx("span",{className:"text-slate-700",children:"Premium Multi-Tenancy"}),w.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"3 tables"})]}),w.jsxs("div",{className:"flex justify-between items-center py-2",children:[w.jsx("span",{className:"text-slate-700",children:"Additional Operations"}),w.jsx("span",{className:"font-mono text-slate-600",children:"15 tables"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Migrations"}),w.jsx("p",{className:"text-slate-600 mb-3",children:"Database schema is managed through SQL migration files with comprehensive documentation."}),w.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:w.jsxs("div",{className:"font-mono text-xs space-y-1 text-slate-700",children:[w.jsx("div",{children:"supabase/migrations/"}),w.jsx("div",{className:"ml-4",children:"├── 20251006154156_create_core_tables.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006154227_create_change_management_tables.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006154306_create_operations_and_governance_tables.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006163020_add_notifications_and_storage.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006163235_add_workflow_execution_and_approvals.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006165512_add_email_to_users_profile.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006165650_add_diagram_data_to_processes.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006165745_create_active_users_table.sql"}),w.jsx("div",{className:"ml-4",children:"├── 20251006165828_create_collaboration_comments_table.sql"}),w.jsx("div",{className:"ml-4",children:"└── 20251006172807_create_project_tasks_and_dependencies.sql"})]})})]})]})]})}),dhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Security Architecture"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 rounded-lg p-4 mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(Ar,{size:20,className:"text-green-600"}),w.jsx("div",{className:"font-semibold text-green-800",children:"100% Row-Level Security Coverage"})]}),w.jsx("p",{className:"text-sm text-green-700",children:"Every single table in the database has RLS enabled with restrictive policies. No data can be accessed without proper authentication and authorization."})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Authentication"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"JWT-Based Authentication"}),w.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Supabase Auth provides secure JWT tokens for session management. Tokens contain user identity and are validated on every request."}),w.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[w.jsx("li",{children:"• Email/password authentication"}),w.jsx("li",{children:"• Automatic token refresh"}),w.jsx("li",{children:"• Secure session storage"}),w.jsx("li",{children:"• Password reset workflows"})]})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Session Management"}),w.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"React Context API manages authentication state across the application with automatic persistence and refresh."}),w.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[w.jsx("li",{children:"• Persistent sessions across page reloads"}),w.jsx("li",{children:"• Automatic logout on token expiry"}),w.jsx("li",{children:"• Protected route handling"})]})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Row-Level Security (RLS)"}),w.jsx("p",{className:"text-slate-600 mb-3",children:"PostgreSQL RLS policies ensure users can only access data they own or have explicit permission to view. Policies are enforced at the database level, not application level."}),w.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[w.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Example RLS Policy"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`CREATE POLICY "Users can view own data"
  ON users_profile
  FOR SELECT
  TO authenticated
  USING (auth.uid() = id);`})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[w.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"SELECT Policies"}),w.jsx("p",{className:"text-xs text-blue-700",children:"Control who can read data"})]}),w.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[w.jsx("div",{className:"text-sm font-medium text-green-800 mb-1",children:"INSERT Policies"}),w.jsx("p",{className:"text-xs text-green-700",children:"Control who can create data"})]}),w.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[w.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"UPDATE Policies"}),w.jsx("p",{className:"text-xs text-yellow-700",children:"Control who can modify data"})]}),w.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[w.jsx("div",{className:"text-sm font-medium text-red-800 mb-1",children:"DELETE Policies"}),w.jsx("p",{className:"text-xs text-red-700",children:"Control who can remove data"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Additional Security Features"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[w.jsx(Yo,{size:18,className:"text-blue-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Audit Logging"}),w.jsx("p",{className:"text-xs text-slate-600",children:"All data access and modifications are logged in audit_logs and data_access_logs tables"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[w.jsx(Yo,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Field-Level Permissions"}),w.jsx("p",{className:"text-xs text-slate-600",children:"Premium feature allowing granular control over individual field access per role"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[w.jsx(Yo,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Multi-Tenant Isolation"}),w.jsx("p",{className:"text-xs text-slate-600",children:"Tenant ID filtering ensures complete data isolation between organizations"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[w.jsx(Yo,{size:18,className:"text-orange-600 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Approval Workflows"}),w.jsx("p",{className:"text-xs text-slate-600",children:"Multi-level approval system for sensitive operations requiring authorization"})]})]})]})]})]})]})}),hhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Deployment Architecture"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Static Site Deployment"}),w.jsx("p",{className:"text-slate-600 mb-4",children:"The platform builds to static files that can be deployed to any CDN or static hosting service. Recommended platforms: Netlify or Vercel."}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(X3,{size:24,className:"text-green-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"Netlify"})]}),w.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[w.jsx("li",{children:"• Automatic deployments from git"}),w.jsx("li",{children:"• Built-in CDN (Cloudflare)"}),w.jsx("li",{children:"• SPA routing with _redirects"}),w.jsx("li",{children:"• Free tier available"})]})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(X3,{size:24,className:"text-blue-600"}),w.jsx("h4",{className:"font-semibold text-slate-700",children:"Vercel"})]}),w.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[w.jsx("li",{children:"• Zero-config deployment"}),w.jsx("li",{children:"• Edge network globally"}),w.jsx("li",{children:"• Automatic HTTPS"}),w.jsx("li",{children:"• Preview deployments"})]})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Build Process"}),w.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:w.jsxs("div",{className:"font-mono text-sm space-y-2",children:[w.jsx("div",{className:"text-slate-700",children:"$ npm run build"}),w.jsxs("div",{className:"text-slate-500 ml-4",children:[w.jsx("div",{children:"✓ 1566 modules transformed"}),w.jsx("div",{children:"✓ dist/index.html (0.46 KB)"}),w.jsx("div",{children:"✓ dist/assets/index.css (29.99 KB)"}),w.jsx("div",{children:"✓ dist/assets/index.js (396.64 KB)"}),w.jsx("div",{children:"✓ Built in 4.21s"})]})]})}),w.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Build Output"}),w.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[w.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[w.jsx("span",{children:"HTML Entry Point"}),w.jsx("span",{className:"font-mono",children:"0.46 KB (0.29 KB gzipped)"})]}),w.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[w.jsx("span",{children:"CSS Bundle"}),w.jsx("span",{className:"font-mono",children:"29.99 KB (5.48 KB gzipped)"})]}),w.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[w.jsx("span",{children:"JavaScript Bundle"}),w.jsx("span",{className:"font-mono",children:"396.64 KB (108.27 KB gzipped)"})]}),w.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[w.jsx("span",{children:"Total Page Weight"}),w.jsx("span",{className:"font-mono text-green-600",children:"113.75 KB gzipped"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Environment Configuration"}),w.jsx("p",{className:"text-slate-600 mb-3",children:"Environment variables must be set in your hosting platform's dashboard."}),w.jsx("div",{className:"bg-slate-900 rounded-lg p-4",children:w.jsx("pre",{className:"text-slate-100 text-xs",children:`VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key`})})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Performance Optimization"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Code Splitting Ready:"})," Can split premium features into separate chunks"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Tree Shaking:"})," Unused code automatically removed from build"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Minification:"})," All JavaScript and CSS minified in production"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Gzip Compression:"})," Automatic compression on CDN edge servers"]})]})]})]})]})]})}),fhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"API Reference"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Supabase Client API"}),w.jsx("p",{className:"text-slate-600 mb-4",children:"All database interactions use the Supabase JavaScript client. The client automatically handles authentication, RLS, and real-time subscriptions."}),w.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[w.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Client Initialization"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  import.meta.env.VITE_SUPABASE_URL,
  import.meta.env.VITE_SUPABASE_ANON_KEY
);`})]}),w.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Common Operations"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Query Data (SELECT)"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .select('*')
  .eq('status', 'active')
  .order('created_at', { ascending: false });`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Insert Data"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .insert({
    name: 'New Process',
    description: 'Process description',
    status: 'draft'
  })
  .select()
  .single();`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Update Data"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .update({ status: 'active' })
  .eq('id', processId)
  .select()
  .single();`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Delete Data"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { error } = await supabase
  .from('processes')
  .delete()
  .eq('id', processId);`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Real-time Subscription"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const channel = supabase
  .channel('processes')
  .on('postgres_changes', {
    event: '*',
    schema: 'public',
    table: 'processes'
  }, (payload) => {
    console.log('Change received!', payload);
  })
  .subscribe();`})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Authentication API"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign Up"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.auth.signUp({
  email: 'user@example.com',
  password: 'secure-password'
});`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign In"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'secure-password'
});`})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign Out"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:"const { error } = await supabase.auth.signOut();"})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Get Current User"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:"const { data: { user } } = await supabase.auth.getUser();"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Edge Functions API"}),w.jsx("p",{className:"text-slate-600 mb-3",children:"Edge Functions are called via HTTP endpoints with authentication headers."}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Call Edge Function"}),w.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.functions.invoke('send-email', {
  body: {
    to: 'user@example.com',
    subject: 'Hello',
    message: 'This is a test email'
  }
});`})]})]})]})]})}),phe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Module Catalog"}),w.jsx("div",{className:"mb-4",children:w.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"42"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Total Modules"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-green-600",children:"36"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Base Modules"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"6"}),w.jsx("div",{className:"text-sm text-slate-600",children:"Premium Modules"})]})]})})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Premium Modules (Phase 1-3)"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border-l-4 border-blue-600 bg-blue-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-blue-800",children:"AI Process Mining"}),w.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"AI discovers optimization opportunities and calculates potential savings"}),w.jsx("div",{className:"text-xs text-blue-600",children:"Table: process_mining_insights | Lines: ~350 | Features: Bottleneck detection, waste identification, savings calculations"})]}),w.jsxs("div",{className:"border-l-4 border-green-600 bg-green-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-green-800",children:"Predictive Analytics"}),w.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-green-700 mb-2",children:"ML-based forecasting predicts delays, resource shortages, and budget overruns"}),w.jsx("div",{className:"text-xs text-green-600",children:"Table: predictive_forecasts | Lines: ~400 | Features: Risk radar, confidence scoring, recommended actions"})]}),w.jsxs("div",{className:"border-l-4 border-purple-600 bg-purple-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-purple-800",children:"Automation Builder"}),w.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"No-code workflow creation with multiple trigger types and execution tracking"}),w.jsx("div",{className:"text-xs text-purple-600",children:"Tables: automation_workflows, automation_executions | Lines: ~250 | Features: Triggers, external connections"})]}),w.jsxs("div",{className:"border-l-4 border-orange-600 bg-orange-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-orange-800",children:"Knowledge Base"}),w.jsx("span",{className:"text-xs bg-orange-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"Centralized knowledge repository with versioning, search, and voting"}),w.jsx("div",{className:"text-xs text-orange-600",children:"Tables: knowledge_articles, knowledge_categories | Lines: ~250 | Features: Tags, views, votes"})]}),w.jsxs("div",{className:"border-l-4 border-teal-600 bg-teal-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-teal-800",children:"Training LMS"}),w.jsx("span",{className:"text-xs bg-teal-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-teal-700 mb-2",children:"Complete learning management system with courses, modules, and certifications"}),w.jsx("div",{className:"text-xs text-teal-600",children:"Tables: training_courses, training_modules, training_enrollments | Lines: ~300"})]}),w.jsxs("div",{className:"border-l-4 border-pink-600 bg-pink-50 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"font-semibold text-pink-800",children:"Client Billing"}),w.jsx("span",{className:"text-xs bg-pink-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),w.jsx("p",{className:"text-sm text-pink-700 mb-2",children:"Complete billing system with clients, rates, invoices, and payment tracking"}),w.jsx("div",{className:"text-xs text-pink-600",children:"Tables: clients, billing_rates, invoices, payments | Lines: ~300 | Features: Invoice generation, revenue analytics"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Visual Editors (2)"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:"Visual BPMN Editor"}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Full drag-and-drop BPMN 2.0 diagram editor for process documentation"}),w.jsx("div",{className:"text-xs text-slate-500",children:"Module: VisualBPMN.tsx | Lines: ~375 | Features: Drag-and-drop, save/load, export"})]}),w.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[w.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:"Gantt Chart Editor"}),w.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Full-featured Gantt chart with task dependencies and timeline management"}),w.jsx("div",{className:"text-xs text-slate-500",children:"Module: ProjectGantt.tsx | Lines: ~374 | Features: Dependencies, milestones, drag-and-drop"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Base Modules (36)"}),w.jsx("p",{className:"text-slate-600 mb-3",children:"All base modules are generated using the enhanced module generator with full CRUD operations, filtering, sorting, search, and export capabilities."}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:["BPMN Builder","SOP Builder","KPI Manager","Project Manager","Change Initiatives","Stakeholder Management","Communication Plans","Training Programs","Resistance Management","Readiness Assessment","Impact Analysis","Workflow Automation","Analytics","Executive Dashboards","Reporting","Transition Projects","Policy Management","Compliance Tracking","Audit Trails","RACI Matrix","Risk Analysis","Finance","Team Management","Capacity Planning","Budget Tracking","Time Tracking","Continuous Improvement","AI Document Processor","Process Mapping","Enhanced Dashboard","And 6 more..."].map(e=>w.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 py-1",children:[w.jsx(Ar,{size:16,className:"text-green-600 flex-shrink-0"}),w.jsx("span",{children:e})]},e))})]})]})]})}),mhe=()=>w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Performance Metrics"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Build Performance"}),w.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[w.jsx("div",{className:"text-2xl font-bold text-green-600",children:"A+"}),w.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Overall Grade"})]}),w.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[w.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"4.2s"}),w.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Build Time"})]}),w.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[w.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"108 KB"}),w.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"JS Gzipped"})]}),w.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[w.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"0"}),w.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Errors"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Load Time Projections"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-sm",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-slate-200",children:[w.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Metric"}),w.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"3G (750 Kbps)"}),w.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"4G (4 Mbps)"}),w.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"WiFi (10 Mbps)"})]})}),w.jsxs("tbody",{children:[w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"JS Download"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"1.15s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.22s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.09s"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"CSS Download"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.06s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.01s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.005s"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Parse/Execute"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"}),w.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"})]}),w.jsxs("tr",{className:"bg-green-50 font-semibold",children:[w.jsx("td",{className:"py-2 px-3 text-slate-700",children:"Total Time to Interactive"}),w.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~1.5s"}),w.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~0.5s"}),w.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~0.4s"})]})]})]})})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Bundle Analysis"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[w.jsx("span",{className:"text-slate-700",children:"React + React DOM"}),w.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~130 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[w.jsx("span",{className:"text-slate-700",children:"Supabase Client"}),w.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~40 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[w.jsx("span",{className:"text-slate-700",children:"Lucide Icons"}),w.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~30 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[w.jsx("span",{className:"text-slate-700",children:"Application Code"}),w.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~140 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[w.jsx("span",{className:"text-slate-700",children:"Other Dependencies"}),w.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~56 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border-t-2 border-blue-200",children:[w.jsx("span",{className:"font-semibold text-blue-800",children:"Total (Uncompressed)"}),w.jsx("span",{className:"font-mono text-sm font-semibold text-blue-600",children:"396.64 KB"})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[w.jsx("span",{className:"font-semibold text-green-800",children:"Total (Gzipped)"}),w.jsx("span",{className:"font-mono text-sm font-semibold text-green-600",children:"108.27 KB"})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Database Performance"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Indexed Queries:"})," All foreign keys and frequently queried columns have indexes"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Connection Pooling:"})," Supabase handles connection pooling automatically"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Query Optimization:"})," RLS policies optimized for performance"]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[w.jsx(Ar,{size:18,className:"text-green-600 flex-shrink-0"}),w.jsxs("span",{className:"text-sm text-slate-700",children:[w.jsx("strong",{children:"Real-time Subscriptions:"})," WebSocket connections for live updates"]})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Scalability Metrics"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-sm",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-slate-200",children:[w.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Users"}),w.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Database Tier"}),w.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Monthly Cost"}),w.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Performance"})]})}),w.jsxs("tbody",{children:[w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"1-100"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Pro"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$25/mo"}),w.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"100-500"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Team"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$100/mo"}),w.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),w.jsxs("tr",{className:"border-b border-slate-200",children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"500-2000"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Enterprise"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$500+/mo"}),w.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),w.jsxs("tr",{children:[w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"2000+"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Custom Infrastructure"}),w.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Custom"}),w.jsx("td",{className:"py-2 px-3 text-blue-600 font-medium",children:"Scalable"})]})]})]})})]})]})]})});var ghe=Object.defineProperty,vhe=Object.defineProperties,yhe=Object.getOwnPropertyDescriptors,kj=Object.getOwnPropertySymbols,bhe=Object.prototype.hasOwnProperty,whe=Object.prototype.propertyIsEnumerable,e6=(e,t,r)=>t in e?ghe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vr=(e,t)=>{for(var r in t||(t={}))bhe.call(t,r)&&e6(e,r,t[r]);if(kj)for(var r of kj(t))whe.call(t,r)&&e6(e,r,t[r]);return e},Jf=(e,t)=>vhe(e,yhe(t)),tt=(e,t,r)=>e6(e,typeof t!="symbol"?t+"":t,r),xhe=(e,t,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(c){i(c)}},o=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(e,t)).next())});class cb{constructor(t){tt(this,"rootKey"),this.rootKey=t}}const _he=Object.seal({});class lt extends cb{constructor(t){super(t),tt(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof cb?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:_he}}addChildElement(t){return this.root.push(t),this}}class $2 extends lt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class ur extends cb{constructor(t){super("_attr"),tt(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class H2 extends cb{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Jf(Vr({},n),{[i]:s}),{})}}}class fi extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var el=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n_={},_v={exports:{}},Nj;function yE(){if(Nj)return _v.exports;Nj=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(_,M,U){return Function.prototype.apply.call(_,M,U)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:r=function(_){return Object.getOwnPropertyNames(_)};function n(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(_){return _!==_};function s(){s.init.call(this)}_v.exports=s,_v.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function l(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(_){for(var M=[],U=1;U<arguments.length;U++)M.push(arguments[U]);var L=_==="error",O=this._events;if(O!==void 0)L=L&&O.error===void 0;else if(!L)return!1;if(L){var H;if(M.length>0&&(H=M[0]),H instanceof Error)throw H;var G=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw G.context=H,G}var I=O[_];if(I===void 0)return!1;if(typeof I=="function")t(I,this,M);else for(var R=I.length,S=p(I,R),U=0;U<R;++U)t(S[U],this,M);return!0};function c(x,_,M,U){var L,O,H;if(a(M),O=x._events,O===void 0?(O=x._events=Object.create(null),x._eventsCount=0):(O.newListener!==void 0&&(x.emit("newListener",_,M.listener?M.listener:M),O=x._events),H=O[_]),H===void 0)H=O[_]=M,++x._eventsCount;else if(typeof H=="function"?H=O[_]=U?[M,H]:[H,M]:U?H.unshift(M):H.push(M),L=l(x),L>0&&H.length>L&&!H.warned){H.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=x,G.type=_,G.count=H.length,n(G)}return x}s.prototype.addListener=function(_,M){return c(this,_,M,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(_,M){return c(this,_,M,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(x,_,M){var U={fired:!1,wrapFn:void 0,target:x,type:_,listener:M},L=u.bind(U);return L.listener=M,U.wrapFn=L,L}s.prototype.once=function(_,M){return a(M),this.on(_,h(this,_,M)),this},s.prototype.prependOnceListener=function(_,M){return a(M),this.prependListener(_,h(this,_,M)),this},s.prototype.removeListener=function(_,M){var U,L,O,H,G;if(a(M),L=this._events,L===void 0)return this;if(U=L[_],U===void 0)return this;if(U===M||U.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete L[_],L.removeListener&&this.emit("removeListener",_,U.listener||M));else if(typeof U!="function"){for(O=-1,H=U.length-1;H>=0;H--)if(U[H]===M||U[H].listener===M){G=U[H].listener,O=H;break}if(O<0)return this;O===0?U.shift():g(U,O),U.length===1&&(L[_]=U[0]),L.removeListener!==void 0&&this.emit("removeListener",_,G||M)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(_){var M,U,L;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[_]),this;if(arguments.length===0){var O=Object.keys(U),H;for(L=0;L<O.length;++L)H=O[L],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=U[_],typeof M=="function")this.removeListener(_,M);else if(M!==void 0)for(L=M.length-1;L>=0;L--)this.removeListener(_,M[L]);return this};function f(x,_,M){var U=x._events;if(U===void 0)return[];var L=U[_];return L===void 0?[]:typeof L=="function"?M?[L.listener||L]:[L]:M?m(L):p(L,L.length)}s.prototype.listeners=function(_){return f(this,_,!0)},s.prototype.rawListeners=function(_){return f(this,_,!1)},s.listenerCount=function(x,_){return typeof x.listenerCount=="function"?x.listenerCount(_):d.call(x,_)},s.prototype.listenerCount=d;function d(x){var _=this._events;if(_!==void 0){var M=_[x];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(x,_){for(var M=new Array(_),U=0;U<_;++U)M[U]=x[U];return M}function g(x,_){for(;_+1<x.length;_++)x[_]=x[_+1];x.pop()}function m(x){for(var _=new Array(x.length),M=0;M<_.length;++M)_[M]=x[M].listener||x[M];return _}function v(x,_){return new Promise(function(M,U){function L(H){x.removeListener(_,O),U(H)}function O(){typeof x.removeListener=="function"&&x.removeListener("error",L),M([].slice.call(arguments))}b(x,_,O,{once:!0}),_!=="error"&&y(x,L,{once:!0})})}function y(x,_,M){typeof x.on=="function"&&b(x,"error",_,M)}function b(x,_,M,U){if(typeof x.on=="function")U.once?x.once(_,M):x.on(_,M);else if(typeof x.addEventListener=="function")x.addEventListener(_,function L(O){U.once&&x.removeEventListener(_,L),M(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return _v.exports}var Sv={exports:{}},Aj;function Gu(){return Aj||(Aj=1,typeof Object.create=="function"?Sv.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Sv.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Sv.exports}function She(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _z={exports:{}},pi=_z.exports={},Vo,Go;function t6(){throw new Error("setTimeout has not been defined")}function r6(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Vo=setTimeout:Vo=t6}catch{Vo=t6}try{typeof clearTimeout=="function"?Go=clearTimeout:Go=r6}catch{Go=r6}})();function Sz(e){if(Vo===setTimeout)return setTimeout(e,0);if((Vo===t6||!Vo)&&setTimeout)return Vo=setTimeout,setTimeout(e,0);try{return Vo(e,0)}catch{try{return Vo.call(null,e,0)}catch{return Vo.call(this,e,0)}}}function Ehe(e){if(Go===clearTimeout)return clearTimeout(e);if((Go===r6||!Go)&&clearTimeout)return Go=clearTimeout,clearTimeout(e);try{return Go(e)}catch{try{return Go.call(null,e)}catch{return Go.call(this,e)}}}var Kl=[],Nf=!1,Dd,cy=-1;function khe(){!Nf||!Dd||(Nf=!1,Dd.length?Kl=Dd.concat(Kl):cy=-1,Kl.length&&Ez())}function Ez(){if(!Nf){var e=Sz(khe);Nf=!0;for(var t=Kl.length;t;){for(Dd=Kl,Kl=[];++cy<t;)Dd&&Dd[cy].run();cy=-1,t=Kl.length}Dd=null,Nf=!1,Ehe(e)}}pi.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Kl.push(new kz(e,t)),Kl.length===1&&!Nf&&Sz(Ez)};function kz(e,t){this.fun=e,this.array=t}kz.prototype.run=function(){this.fun.apply(null,this.array)};pi.title="browser";pi.browser=!0;pi.env={};pi.argv=[];pi.version="";pi.versions={};function gc(){}pi.on=gc;pi.addListener=gc;pi.once=gc;pi.off=gc;pi.removeListener=gc;pi.removeAllListeners=gc;pi.emit=gc;pi.prependListener=gc;pi.prependOnceListener=gc;pi.listeners=function(e){return[]};pi.binding=function(e){throw new Error("process.binding is not supported")};pi.cwd=function(){return"/"};pi.chdir=function(e){throw new Error("process.chdir is not supported")};pi.umask=function(){return 0};var Nhe=_z.exports;const Rr=She(Nhe);var i_,Cj;function Nz(){return Cj||(Cj=1,i_=yE().EventEmitter),i_}var s_={},_m={},jj;function Ahe(){if(jj)return _m;jj=1,_m.byteLength=a,_m.toByteArray=c,_m.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=p);var m=g===p?0:4-g%4;return[g,m]}function a(d){var p=o(d),g=p[0],m=p[1];return(g+m)*3/4-m}function l(d,p,g){return(p+g)*3/4-g}function c(d){var p,g=o(d),m=g[0],v=g[1],y=new r(l(d,m,v)),b=0,x=v>0?m-4:m,_;for(_=0;_<x;_+=4)p=t[d.charCodeAt(_)]<<18|t[d.charCodeAt(_+1)]<<12|t[d.charCodeAt(_+2)]<<6|t[d.charCodeAt(_+3)],y[b++]=p>>16&255,y[b++]=p>>8&255,y[b++]=p&255;return v===2&&(p=t[d.charCodeAt(_)]<<2|t[d.charCodeAt(_+1)]>>4,y[b++]=p&255),v===1&&(p=t[d.charCodeAt(_)]<<10|t[d.charCodeAt(_+1)]<<4|t[d.charCodeAt(_+2)]>>2,y[b++]=p>>8&255,y[b++]=p&255),y}function u(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function h(d,p,g){for(var m,v=[],y=p;y<g;y+=3)m=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(d[y+2]&255),v.push(u(m));return v.join("")}function f(d){for(var p,g=d.length,m=g%3,v=[],y=16383,b=0,x=g-m;b<x;b+=y)v.push(h(d,b,b+y>x?x:b+y));return m===1?(p=d[g-1],v.push(e[p>>2]+e[p<<4&63]+"==")):m===2&&(p=(d[g-2]<<8)+d[g-1],v.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),v.join("")}return _m}var Ev={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tj;function Che(){return Tj||(Tj=1,Ev.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=s*256+e[t+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+e[t+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(d?-1:1)*o*Math.pow(2,s-n)},Ev.write=function(e,t,r,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+d]=o&255,d+=p,o/=256,c-=8);e[r+d-p]|=g*128}),Ev}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Rj;function W2(){return Rj||(Rj=1,function(e){var t=Ahe(),r=Che(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var ee=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(ee,F),ee.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(ee){if(ee>i)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var F=new Uint8Array(ee);return Object.setPrototypeOf(F,a.prototype),F}function a(ee,F,W){if(typeof ee=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ee)}return l(ee,F,W)}a.poolSize=8192;function l(ee,F,W){if(typeof ee=="string")return f(ee,F);if(ArrayBuffer.isView(ee))return p(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(se(ee,ArrayBuffer)||ee&&se(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(ee,SharedArrayBuffer)||ee&&se(ee.buffer,SharedArrayBuffer)))return g(ee,F,W);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=ee.valueOf&&ee.valueOf();if(Y!=null&&Y!==ee)return a.from(Y,F,W);var ae=m(ee);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return a.from(ee[Symbol.toPrimitive]("string"),F,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}a.from=function(ee,F,W){return l(ee,F,W)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function u(ee,F,W){return c(ee),ee<=0?o(ee):F!==void 0?typeof W=="string"?o(ee).fill(F,W):o(ee).fill(F):o(ee)}a.alloc=function(ee,F,W){return u(ee,F,W)};function h(ee){return c(ee),o(ee<0?0:v(ee)|0)}a.allocUnsafe=function(ee){return h(ee)},a.allocUnsafeSlow=function(ee){return h(ee)};function f(ee,F){if((typeof F!="string"||F==="")&&(F="utf8"),!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);var W=b(ee,F)|0,Y=o(W),ae=Y.write(ee,F);return ae!==W&&(Y=Y.slice(0,ae)),Y}function d(ee){for(var F=ee.length<0?0:v(ee.length)|0,W=o(F),Y=0;Y<F;Y+=1)W[Y]=ee[Y]&255;return W}function p(ee){if(se(ee,Uint8Array)){var F=new Uint8Array(ee);return g(F.buffer,F.byteOffset,F.byteLength)}return d(ee)}function g(ee,F,W){if(F<0||ee.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<F+(W||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return F===void 0&&W===void 0?Y=new Uint8Array(ee):W===void 0?Y=new Uint8Array(ee,F):Y=new Uint8Array(ee,F,W),Object.setPrototypeOf(Y,a.prototype),Y}function m(ee){if(a.isBuffer(ee)){var F=v(ee.length)|0,W=o(F);return W.length===0||ee.copy(W,0,0,F),W}if(ee.length!==void 0)return typeof ee.length!="number"||B(ee.length)?o(0):d(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return d(ee.data)}function v(ee){if(ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ee|0}function y(ee){return+ee!=ee&&(ee=0),a.alloc(+ee)}a.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==a.prototype},a.compare=function(F,W){if(se(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),se(W,Uint8Array)&&(W=a.from(W,W.offset,W.byteLength)),!a.isBuffer(F)||!a.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===W)return 0;for(var Y=F.length,ae=W.length,ce=0,le=Math.min(Y,ae);ce<le;++ce)if(F[ce]!==W[ce]){Y=F[ce],ae=W[ce];break}return Y<ae?-1:ae<Y?1:0},a.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(F,W){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return a.alloc(0);var Y;if(W===void 0)for(W=0,Y=0;Y<F.length;++Y)W+=F[Y].length;var ae=a.allocUnsafe(W),ce=0;for(Y=0;Y<F.length;++Y){var le=F[Y];if(se(le,Uint8Array))ce+le.length>ae.length?a.from(le).copy(ae,ce):Uint8Array.prototype.set.call(ae,le,ce);else if(a.isBuffer(le))le.copy(ae,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=le.length}return ae};function b(ee,F){if(a.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||se(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var W=ee.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&W===0)return 0;for(var ae=!1;;)switch(F){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return N(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return J(ee).length;default:if(ae)return Y?-1:N(ee).length;F=(""+F).toLowerCase(),ae=!0}}a.byteLength=b;function x(ee,F,W){var Y=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,F>>>=0,W<=F))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return C(this,F,W);case"utf8":case"utf-8":return S(this,F,W);case"ascii":return k(this,F,W);case"latin1":case"binary":return A(this,F,W);case"base64":return R(this,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,F,W);default:if(Y)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),Y=!0}}a.prototype._isBuffer=!0;function _(ee,F,W){var Y=ee[F];ee[F]=ee[W],ee[W]=Y}a.prototype.swap16=function(){var F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<F;W+=2)_(this,W,W+1);return this},a.prototype.swap32=function(){var F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<F;W+=4)_(this,W,W+3),_(this,W+1,W+2);return this},a.prototype.swap64=function(){var F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<F;W+=8)_(this,W,W+7),_(this,W+1,W+6),_(this,W+2,W+5),_(this,W+3,W+4);return this},a.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?S(this,0,F):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(F){if(!a.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:a.compare(this,F)===0},a.prototype.inspect=function(){var F="",W=e.INSPECT_MAX_BYTES;return F=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(F+=" ... "),"<Buffer "+F+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(F,W,Y,ae,ce){if(se(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(W===void 0&&(W=0),Y===void 0&&(Y=F?F.length:0),ae===void 0&&(ae=0),ce===void 0&&(ce=this.length),W<0||Y>F.length||ae<0||ce>this.length)throw new RangeError("out of range index");if(ae>=ce&&W>=Y)return 0;if(ae>=ce)return-1;if(W>=Y)return 1;if(W>>>=0,Y>>>=0,ae>>>=0,ce>>>=0,this===F)return 0;for(var le=ce-ae,de=Y-W,me=Math.min(le,de),ge=this.slice(ae,ce),ke=F.slice(W,Y),Re=0;Re<me;++Re)if(ge[Re]!==ke[Re]){le=ge[Re],de=ke[Re];break}return le<de?-1:de<le?1:0};function M(ee,F,W,Y,ae){if(ee.length===0)return-1;if(typeof W=="string"?(Y=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,B(W)&&(W=ae?0:ee.length-1),W<0&&(W=ee.length+W),W>=ee.length){if(ae)return-1;W=ee.length-1}else if(W<0)if(ae)W=0;else return-1;if(typeof F=="string"&&(F=a.from(F,Y)),a.isBuffer(F))return F.length===0?-1:U(ee,F,W,Y,ae);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(ee,F,W):Uint8Array.prototype.lastIndexOf.call(ee,F,W):U(ee,[F],W,Y,ae);throw new TypeError("val must be string, number or Buffer")}function U(ee,F,W,Y,ae){var ce=1,le=ee.length,de=F.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(ee.length<2||F.length<2)return-1;ce=2,le/=2,de/=2,W/=2}function me(We,Je){return ce===1?We[Je]:We.readUInt16BE(Je*ce)}var ge;if(ae){var ke=-1;for(ge=W;ge<le;ge++)if(me(ee,ge)===me(F,ke===-1?0:ge-ke)){if(ke===-1&&(ke=ge),ge-ke+1===de)return ke*ce}else ke!==-1&&(ge-=ge-ke),ke=-1}else for(W+de>le&&(W=le-de),ge=W;ge>=0;ge--){for(var Re=!0,je=0;je<de;je++)if(me(ee,ge+je)!==me(F,je)){Re=!1;break}if(Re)return ge}return-1}a.prototype.includes=function(F,W,Y){return this.indexOf(F,W,Y)!==-1},a.prototype.indexOf=function(F,W,Y){return M(this,F,W,Y,!0)},a.prototype.lastIndexOf=function(F,W,Y){return M(this,F,W,Y,!1)};function L(ee,F,W,Y){W=Number(W)||0;var ae=ee.length-W;Y?(Y=Number(Y),Y>ae&&(Y=ae)):Y=ae;var ce=F.length;Y>ce/2&&(Y=ce/2);for(var le=0;le<Y;++le){var de=parseInt(F.substr(le*2,2),16);if(B(de))return le;ee[W+le]=de}return le}function O(ee,F,W,Y){return re(N(F,ee.length-W),ee,W,Y)}function H(ee,F,W,Y){return re(T(F),ee,W,Y)}function G(ee,F,W,Y){return re(J(F),ee,W,Y)}function I(ee,F,W,Y){return re(V(F,ee.length-W),ee,W,Y)}a.prototype.write=function(F,W,Y,ae){if(W===void 0)ae="utf8",Y=this.length,W=0;else if(Y===void 0&&typeof W=="string")ae=W,Y=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(Y)?(Y=Y>>>0,ae===void 0&&(ae="utf8")):(ae=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ce=this.length-W;if((Y===void 0||Y>ce)&&(Y=ce),F.length>0&&(Y<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var le=!1;;)switch(ae){case"hex":return L(this,F,W,Y);case"utf8":case"utf-8":return O(this,F,W,Y);case"ascii":case"latin1":case"binary":return H(this,F,W,Y);case"base64":return G(this,F,W,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,F,W,Y);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(ee,F,W){return F===0&&W===ee.length?t.fromByteArray(ee):t.fromByteArray(ee.slice(F,W))}function S(ee,F,W){W=Math.min(ee.length,W);for(var Y=[],ae=F;ae<W;){var ce=ee[ae],le=null,de=ce>239?4:ce>223?3:ce>191?2:1;if(ae+de<=W){var me,ge,ke,Re;switch(de){case 1:ce<128&&(le=ce);break;case 2:me=ee[ae+1],(me&192)===128&&(Re=(ce&31)<<6|me&63,Re>127&&(le=Re));break;case 3:me=ee[ae+1],ge=ee[ae+2],(me&192)===128&&(ge&192)===128&&(Re=(ce&15)<<12|(me&63)<<6|ge&63,Re>2047&&(Re<55296||Re>57343)&&(le=Re));break;case 4:me=ee[ae+1],ge=ee[ae+2],ke=ee[ae+3],(me&192)===128&&(ge&192)===128&&(ke&192)===128&&(Re=(ce&15)<<18|(me&63)<<12|(ge&63)<<6|ke&63,Re>65535&&Re<1114112&&(le=Re))}}le===null?(le=65533,de=1):le>65535&&(le-=65536,Y.push(le>>>10&1023|55296),le=56320|le&1023),Y.push(le),ae+=de}return E(Y)}var j=4096;function E(ee){var F=ee.length;if(F<=j)return String.fromCharCode.apply(String,ee);for(var W="",Y=0;Y<F;)W+=String.fromCharCode.apply(String,ee.slice(Y,Y+=j));return W}function k(ee,F,W){var Y="";W=Math.min(ee.length,W);for(var ae=F;ae<W;++ae)Y+=String.fromCharCode(ee[ae]&127);return Y}function A(ee,F,W){var Y="";W=Math.min(ee.length,W);for(var ae=F;ae<W;++ae)Y+=String.fromCharCode(ee[ae]);return Y}function C(ee,F,W){var Y=ee.length;(!F||F<0)&&(F=0),(!W||W<0||W>Y)&&(W=Y);for(var ae="",ce=F;ce<W;++ce)ae+=ne[ee[ce]];return ae}function D(ee,F,W){for(var Y=ee.slice(F,W),ae="",ce=0;ce<Y.length-1;ce+=2)ae+=String.fromCharCode(Y[ce]+Y[ce+1]*256);return ae}a.prototype.slice=function(F,W){var Y=this.length;F=~~F,W=W===void 0?Y:~~W,F<0?(F+=Y,F<0&&(F=0)):F>Y&&(F=Y),W<0?(W+=Y,W<0&&(W=0)):W>Y&&(W=Y),W<F&&(W=F);var ae=this.subarray(F,W);return Object.setPrototypeOf(ae,a.prototype),ae};function z(ee,F,W){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+F>W)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F],ce=1,le=0;++le<W&&(ce*=256);)ae+=this[F+le]*ce;return ae},a.prototype.readUintBE=a.prototype.readUIntBE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F+--W],ce=1;W>0&&(ce*=256);)ae+=this[F+--W]*ce;return ae},a.prototype.readUint8=a.prototype.readUInt8=function(F,W){return F=F>>>0,W||z(F,1,this.length),this[F]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(F,W){return F=F>>>0,W||z(F,2,this.length),this[F]|this[F+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(F,W){return F=F>>>0,W||z(F,2,this.length),this[F]<<8|this[F+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(F,W){return F=F>>>0,W||z(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},a.prototype.readIntLE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F],ce=1,le=0;++le<W&&(ce*=256);)ae+=this[F+le]*ce;return ce*=128,ae>=ce&&(ae-=Math.pow(2,8*W)),ae},a.prototype.readIntBE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=W,ce=1,le=this[F+--ae];ae>0&&(ce*=256);)le+=this[F+--ae]*ce;return ce*=128,le>=ce&&(le-=Math.pow(2,8*W)),le},a.prototype.readInt8=function(F,W){return F=F>>>0,W||z(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},a.prototype.readInt16LE=function(F,W){F=F>>>0,W||z(F,2,this.length);var Y=this[F]|this[F+1]<<8;return Y&32768?Y|4294901760:Y},a.prototype.readInt16BE=function(F,W){F=F>>>0,W||z(F,2,this.length);var Y=this[F+1]|this[F]<<8;return Y&32768?Y|4294901760:Y},a.prototype.readInt32LE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},a.prototype.readInt32BE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},a.prototype.readFloatLE=function(F,W){return F=F>>>0,W||z(F,4,this.length),r.read(this,F,!0,23,4)},a.prototype.readFloatBE=function(F,W){return F=F>>>0,W||z(F,4,this.length),r.read(this,F,!1,23,4)},a.prototype.readDoubleLE=function(F,W){return F=F>>>0,W||z(F,8,this.length),r.read(this,F,!0,52,8)},a.prototype.readDoubleBE=function(F,W){return F=F>>>0,W||z(F,8,this.length),r.read(this,F,!1,52,8)};function P(ee,F,W,Y,ae,ce){if(!a.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>ae||F<ce)throw new RangeError('"value" argument is out of bounds');if(W+Y>ee.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(F,W,Y,ae){if(F=+F,W=W>>>0,Y=Y>>>0,!ae){var ce=Math.pow(2,8*Y)-1;P(this,F,W,Y,ce,0)}var le=1,de=0;for(this[W]=F&255;++de<Y&&(le*=256);)this[W+de]=F/le&255;return W+Y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(F,W,Y,ae){if(F=+F,W=W>>>0,Y=Y>>>0,!ae){var ce=Math.pow(2,8*Y)-1;P(this,F,W,Y,ce,0)}var le=Y-1,de=1;for(this[W+le]=F&255;--le>=0&&(de*=256);)this[W+le]=F/de&255;return W+Y},a.prototype.writeUint8=a.prototype.writeUInt8=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,1,255,0),this[W]=F&255,W+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,65535,0),this[W]=F&255,this[W+1]=F>>>8,W+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,65535,0),this[W]=F>>>8,this[W+1]=F&255,W+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,4294967295,0),this[W+3]=F>>>24,this[W+2]=F>>>16,this[W+1]=F>>>8,this[W]=F&255,W+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,4294967295,0),this[W]=F>>>24,this[W+1]=F>>>16,this[W+2]=F>>>8,this[W+3]=F&255,W+4},a.prototype.writeIntLE=function(F,W,Y,ae){if(F=+F,W=W>>>0,!ae){var ce=Math.pow(2,8*Y-1);P(this,F,W,Y,ce-1,-ce)}var le=0,de=1,me=0;for(this[W]=F&255;++le<Y&&(de*=256);)F<0&&me===0&&this[W+le-1]!==0&&(me=1),this[W+le]=(F/de>>0)-me&255;return W+Y},a.prototype.writeIntBE=function(F,W,Y,ae){if(F=+F,W=W>>>0,!ae){var ce=Math.pow(2,8*Y-1);P(this,F,W,Y,ce-1,-ce)}var le=Y-1,de=1,me=0;for(this[W+le]=F&255;--le>=0&&(de*=256);)F<0&&me===0&&this[W+le+1]!==0&&(me=1),this[W+le]=(F/de>>0)-me&255;return W+Y},a.prototype.writeInt8=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,1,127,-128),F<0&&(F=255+F+1),this[W]=F&255,W+1},a.prototype.writeInt16LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,32767,-32768),this[W]=F&255,this[W+1]=F>>>8,W+2},a.prototype.writeInt16BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,32767,-32768),this[W]=F>>>8,this[W+1]=F&255,W+2},a.prototype.writeInt32LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,2147483647,-2147483648),this[W]=F&255,this[W+1]=F>>>8,this[W+2]=F>>>16,this[W+3]=F>>>24,W+4},a.prototype.writeInt32BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[W]=F>>>24,this[W+1]=F>>>16,this[W+2]=F>>>8,this[W+3]=F&255,W+4};function K(ee,F,W,Y,ae,ce){if(W+Y>ee.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Z(ee,F,W,Y,ae){return F=+F,W=W>>>0,ae||K(ee,F,W,4),r.write(ee,F,W,Y,23,4),W+4}a.prototype.writeFloatLE=function(F,W,Y){return Z(this,F,W,!0,Y)},a.prototype.writeFloatBE=function(F,W,Y){return Z(this,F,W,!1,Y)};function te(ee,F,W,Y,ae){return F=+F,W=W>>>0,ae||K(ee,F,W,8),r.write(ee,F,W,Y,52,8),W+8}a.prototype.writeDoubleLE=function(F,W,Y){return te(this,F,W,!0,Y)},a.prototype.writeDoubleBE=function(F,W,Y){return te(this,F,W,!1,Y)},a.prototype.copy=function(F,W,Y,ae){if(!a.isBuffer(F))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ae&&ae!==0&&(ae=this.length),W>=F.length&&(W=F.length),W||(W=0),ae>0&&ae<Y&&(ae=Y),ae===Y||F.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),F.length-W<ae-Y&&(ae=F.length-W+Y);var ce=ae-Y;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,Y,ae):Uint8Array.prototype.set.call(F,this.subarray(Y,ae),W),ce},a.prototype.fill=function(F,W,Y,ae){if(typeof F=="string"){if(typeof W=="string"?(ae=W,W=0,Y=this.length):typeof Y=="string"&&(ae=Y,Y=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!a.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(F.length===1){var ce=F.charCodeAt(0);(ae==="utf8"&&ce<128||ae==="latin1")&&(F=ce)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(W<0||this.length<W||this.length<Y)throw new RangeError("Out of range index");if(Y<=W)return this;W=W>>>0,Y=Y===void 0?this.length:Y>>>0,F||(F=0);var le;if(typeof F=="number")for(le=W;le<Y;++le)this[le]=F;else{var de=a.isBuffer(F)?F:a.from(F,ae),me=de.length;if(me===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(le=0;le<Y-W;++le)this[le+W]=de[le%me]}return this};var q=/[^+/0-9A-Za-z-_]/g;function $(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(q,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function N(ee,F){F=F||1/0;for(var W,Y=ee.length,ae=null,ce=[],le=0;le<Y;++le){if(W=ee.charCodeAt(le),W>55295&&W<57344){if(!ae){if(W>56319){(F-=3)>-1&&ce.push(239,191,189);continue}else if(le+1===Y){(F-=3)>-1&&ce.push(239,191,189);continue}ae=W;continue}if(W<56320){(F-=3)>-1&&ce.push(239,191,189),ae=W;continue}W=(ae-55296<<10|W-56320)+65536}else ae&&(F-=3)>-1&&ce.push(239,191,189);if(ae=null,W<128){if((F-=1)<0)break;ce.push(W)}else if(W<2048){if((F-=2)<0)break;ce.push(W>>6|192,W&63|128)}else if(W<65536){if((F-=3)<0)break;ce.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((F-=4)<0)break;ce.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return ce}function T(ee){for(var F=[],W=0;W<ee.length;++W)F.push(ee.charCodeAt(W)&255);return F}function V(ee,F){for(var W,Y,ae,ce=[],le=0;le<ee.length&&!((F-=2)<0);++le)W=ee.charCodeAt(le),Y=W>>8,ae=W%256,ce.push(ae),ce.push(Y);return ce}function J(ee){return t.toByteArray($(ee))}function re(ee,F,W,Y){for(var ae=0;ae<Y&&!(ae+W>=F.length||ae>=ee.length);++ae)F[ae+W]=ee[ae];return ae}function se(ee,F){return ee instanceof F||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===F.name}function B(ee){return ee!==ee}var ne=function(){for(var ee="0123456789abcdef",F=new Array(256),W=0;W<16;++W)for(var Y=W*16,ae=0;ae<16;++ae)F[Y+ae]=ee[W]+ee[ae];return F}()}(s_)),s_}var a_={},o_={},l_,Pj;function Az(){return Pj||(Pj=1,l_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),l_}var c_,Oj;function bE(){if(Oj)return c_;Oj=1;var e=Az();return c_=function(){return e()&&!!Symbol.toStringTag},c_}var u_,Ij;function Cz(){return Ij||(Ij=1,u_=Object),u_}var d_,Mj;function jhe(){return Mj||(Mj=1,d_=Error),d_}var h_,Lj;function The(){return Lj||(Lj=1,h_=EvalError),h_}var f_,Dj;function Rhe(){return Dj||(Dj=1,f_=RangeError),f_}var p_,Bj;function Phe(){return Bj||(Bj=1,p_=ReferenceError),p_}var m_,Fj;function jz(){return Fj||(Fj=1,m_=SyntaxError),m_}var g_,zj;function Ug(){return zj||(zj=1,g_=TypeError),g_}var v_,Uj;function Ohe(){return Uj||(Uj=1,v_=URIError),v_}var y_,$j;function Ihe(){return $j||($j=1,y_=Math.abs),y_}var b_,Hj;function Mhe(){return Hj||(Hj=1,b_=Math.floor),b_}var w_,Wj;function Lhe(){return Wj||(Wj=1,w_=Math.max),w_}var x_,qj;function Dhe(){return qj||(qj=1,x_=Math.min),x_}var __,Vj;function Bhe(){return Vj||(Vj=1,__=Math.pow),__}var S_,Gj;function Fhe(){return Gj||(Gj=1,S_=Math.round),S_}var E_,Kj;function zhe(){return Kj||(Kj=1,E_=Number.isNaN||function(t){return t!==t}),E_}var k_,Xj;function Uhe(){if(Xj)return k_;Xj=1;var e=zhe();return k_=function(r){return e(r)||r===0?r:r<0?-1:1},k_}var N_,Zj;function $he(){return Zj||(Zj=1,N_=Object.getOwnPropertyDescriptor),N_}var A_,Yj;function $g(){if(Yj)return A_;Yj=1;var e=$he();if(e)try{e([],"length")}catch{e=null}return A_=e,A_}var C_,Jj;function q2(){if(Jj)return C_;Jj=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return C_=e,C_}var j_,Qj;function Hhe(){if(Qj)return j_;Qj=1;var e=typeof Symbol<"u"&&Symbol,t=Az();return j_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},j_}var T_,eT;function Tz(){return eT||(eT=1,T_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),T_}var R_,tT;function Rz(){if(tT)return R_;tT=1;var e=Cz();return R_=e.getPrototypeOf||null,R_}var P_,rT;function Whe(){if(rT)return P_;rT=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var f=0;f<c.length;f+=1)u[f+l.length]=c[f];return u},s=function(l,c){for(var u=[],h=c,f=0;h<l.length;h+=1,f+=1)u[f]=l[h];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return P_=function(l){var c=this;if(typeof c!="function"||t.apply(c)!==n)throw new TypeError(e+c);for(var u=s(arguments,1),h,f=function(){if(this instanceof h){var v=c.apply(this,i(u,arguments));return Object(v)===v?v:this}return c.apply(l,i(u,arguments))},d=r(0,c.length-u.length),p=[],g=0;g<d;g++)p[g]="$"+g;if(h=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(f),c.prototype){var m=function(){};m.prototype=c.prototype,h.prototype=new m,m.prototype=null}return h},P_}var O_,nT;function Hg(){if(nT)return O_;nT=1;var e=Whe();return O_=Function.prototype.bind||e,O_}var I_,iT;function wE(){return iT||(iT=1,I_=Function.prototype.call),I_}var M_,sT;function Pz(){return sT||(sT=1,M_=Function.prototype.apply),M_}var L_,aT;function qhe(){return aT||(aT=1,L_=typeof Reflect<"u"&&Reflect&&Reflect.apply),L_}var D_,oT;function Vhe(){if(oT)return D_;oT=1;var e=Hg(),t=Pz(),r=wE(),n=qhe();return D_=n||e.call(r,t),D_}var B_,lT;function Ghe(){if(lT)return B_;lT=1;var e=Hg(),t=Ug(),r=wE(),n=Vhe();return B_=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return n(e,r,s)},B_}var F_,cT;function Khe(){if(cT)return F_;cT=1;var e=Ghe(),t=$g(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return F_=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,F_}var z_,uT;function Xhe(){if(uT)return z_;uT=1;var e=Tz(),t=Rz(),r=Khe();return z_=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,z_}var U_,dT;function Zhe(){if(dT)return U_;dT=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Hg();return U_=r.call(e,t),U_}var $_,hT;function xE(){if(hT)return $_;hT=1;var e,t=Cz(),r=jhe(),n=The(),i=Rhe(),s=Phe(),o=jz(),a=Ug(),l=Ohe(),c=Ihe(),u=Mhe(),h=Lhe(),f=Dhe(),d=Bhe(),p=Fhe(),g=Uhe(),m=Function,v=function(T){try{return m('"use strict"; return ('+T+").constructor;")()}catch{}},y=$g(),b=q2(),x=function(){throw new a},_=y?function(){try{return arguments.callee,x}catch{try{return y(arguments,"callee").get}catch{return x}}}():x,M=Hhe()(),U=Xhe(),L=Rz(),O=Tz(),H=Pz(),G=wE(),I={},R=typeof Uint8Array>"u"||!U?e:U(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":M&&U?U([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&U?U(U([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!U?e:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!U?e:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&U?U(""[Symbol.iterator]()):e,"%Symbol%":M?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":_,"%TypedArray%":R,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":G,"%Function.prototype.apply%":H,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":L,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":d,"%Math.round%":p,"%Math.sign%":g,"%Reflect.getPrototypeOf%":O};if(U)try{null.error}catch(T){var j=U(U(T));S["%Error.prototype%"]=j}var E=function T(V){var J;if(V==="%AsyncFunction%")J=v("async function () {}");else if(V==="%GeneratorFunction%")J=v("function* () {}");else if(V==="%AsyncGeneratorFunction%")J=v("async function* () {}");else if(V==="%AsyncGenerator%"){var re=T("%AsyncGeneratorFunction%");re&&(J=re.prototype)}else if(V==="%AsyncIteratorPrototype%"){var se=T("%AsyncGenerator%");se&&U&&(J=U(se.prototype))}return S[V]=J,J},k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Hg(),C=Zhe(),D=A.call(G,Array.prototype.concat),z=A.call(H,Array.prototype.splice),P=A.call(G,String.prototype.replace),K=A.call(G,String.prototype.slice),Z=A.call(G,RegExp.prototype.exec),te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,$=function(V){var J=K(V,0,1),re=K(V,-1);if(J==="%"&&re!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&J!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var se=[];return P(V,te,function(B,ne,ee,F){se[se.length]=ee?P(F,q,"$1"):ne||B}),se},N=function(V,J){var re=V,se;if(C(k,re)&&(se=k[re],re="%"+se[0]+"%"),C(S,re)){var B=S[re];if(B===I&&(B=E(re)),typeof B>"u"&&!J)throw new a("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:se,name:re,value:B}}throw new o("intrinsic "+V+" does not exist!")};return $_=function(V,J){if(typeof V!="string"||V.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Z(/^%?[^%]*%?$/,V)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=$(V),se=re.length>0?re[0]:"",B=N("%"+se+"%",J),ne=B.name,ee=B.value,F=!1,W=B.alias;W&&(se=W[0],z(re,D([0,1],W)));for(var Y=1,ae=!0;Y<re.length;Y+=1){var ce=re[Y],le=K(ce,0,1),de=K(ce,-1);if((le==='"'||le==="'"||le==="`"||de==='"'||de==="'"||de==="`")&&le!==de)throw new o("property names with quotes must have matching quotes");if((ce==="constructor"||!ae)&&(F=!0),se+="."+ce,ne="%"+se+"%",C(S,ne))ee=S[ne];else if(ee!=null){if(!(ce in ee)){if(!J)throw new a("base intrinsic for "+V+" exists, but the property is not available.");return}if(y&&Y+1>=re.length){var me=y(ee,ce);ae=!!me,ae&&"get"in me&&!("originalValue"in me.get)?ee=me.get:ee=ee[ce]}else ae=C(ee,ce),ee=ee[ce];ae&&!F&&(S[ne]=ee)}}return ee},$_}var H_={exports:{}},W_,fT;function Yhe(){if(fT)return W_;fT=1;var e=q2(),t=jz(),r=Ug(),n=$g();return W_=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,f=!!n&&n(s,o);if(e)e(s,o,{configurable:u===null&&f?f.configurable:!u,enumerable:l===null&&f?f.enumerable:!l,value:a,writable:c===null&&f?f.writable:!c});else if(h||!l&&!c&&!u)s[o]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},W_}var q_,pT;function Jhe(){if(pT)return q_;pT=1;var e=q2(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},q_=t,q_}var V_,mT;function Qhe(){if(mT)return V_;mT=1;var e=xE(),t=Yhe(),r=Jhe()(),n=$g(),i=Ug(),s=e("%Math.floor%");return V_=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,h=!0;if("length"in a&&n){var f=n(a,"length");f&&!f.configurable&&(u=!1),f&&!f.writable&&(h=!1)}return(u||h||!c)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},V_}var gT;function Oz(){return gT||(gT=1,function(e){var t=Hg(),r=xE(),n=Qhe(),i=Ug(),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(o,s),l=q2(),c=r("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=a(t,o,arguments);return n(d,1+c(0,f.length-(arguments.length-1)),!0)};var u=function(){return a(t,s,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(H_)),H_.exports}var G_,vT;function Iz(){if(vT)return G_;vT=1;var e=xE(),t=Oz(),r=t(e("String.prototype.indexOf"));return G_=function(i,s){var o=e(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?t(o):o},G_}var K_,yT;function efe(){if(yT)return K_;yT=1;var e=bE()(),t=Iz(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,K_=s?n:i,K_}var X_,bT;function tfe(){if(bT)return X_;bT=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=bE()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return X_=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var c=e.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var u=s();o=u?i(u):!1}return i(l)===o},X_}var Z_,wT;function rfe(){if(wT)return Z_;wT=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(y){y!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(b){try{var x=e.call(b);return i.test(x)}catch{return!1}},o=function(b){try{return s(b)?!1:(e.call(b),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",d="[object HTMLCollection]",p=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var v=document.all;a.call(v)===a.call(document.all)&&(m=function(b){if((g||!b)&&(typeof b>"u"||typeof b=="object"))try{var x=a.call(b);return(x===h||x===f||x===d||x===l)&&b("")==null}catch{}return!1})}return Z_=t?function(b){if(m(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{t(b,null,r)}catch(x){if(x!==n)return!1}return!s(b)&&o(b)}:function(b){if(m(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(p)return o(b);if(s(b))return!1;var x=a.call(b);return x!==c&&x!==u&&!/^\[object HTML/.test(x)?!1:o(b)},Z_}var Y_,xT;function nfe(){if(xT)return Y_;xT=1;var e=rfe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var h=0,f=l.length;h<f;h++)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},i=function(l,c,u){for(var h=0,f=l.length;h<f;h++)u==null?c(l.charAt(h),h,l):c.call(u,l.charAt(h),h,l)},s=function(l,c,u){for(var h in l)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},o=function(l,c,u){if(!e(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=u),t.call(l)==="[object Array]"?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)};return Y_=o,Y_}var J_,_T;function ife(){return _T||(_T=1,J_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),J_}var Q_,ST;function sfe(){if(ST)return Q_;ST=1;var e=ife(),t=typeof globalThis>"u"?el:globalThis;return Q_=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Q_}var e5,ET;function Mz(){if(ET)return e5;ET=1;var e=nfe(),t=sfe(),r=Oz(),n=Iz(),i=$g(),s=n("Object.prototype.toString"),o=bE()(),a=typeof globalThis>"u"?el:globalThis,l=t(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(m,v){for(var y=0;y<m.length;y+=1)if(m[y]===v)return y;return-1},f={__proto__:null};o&&i&&u?e(l,function(g){var m=new a[g];if(Symbol.toStringTag in m){var v=u(m),y=i(v,Symbol.toStringTag);if(!y){var b=u(v);y=i(b,Symbol.toStringTag)}f["$"+g]=r(y.get)}}):e(l,function(g){var m=new a[g],v=m.slice||m.set;v&&(f["$"+g]=r(v))});var d=function(m){var v=!1;return e(f,function(y,b){if(!v)try{"$"+y(m)===b&&(v=c(b,1))}catch{}}),v},p=function(m){var v=!1;return e(f,function(y,b){if(!v)try{y(m),v=c(b,1)}catch{}}),v};return e5=function(m){if(!m||typeof m!="object")return!1;if(!o){var v=c(s(m),8,-1);return h(l,v)>-1?v:v!=="Object"?!1:p(m)}return i?d(m):null},e5}var t5,kT;function afe(){if(kT)return t5;kT=1;var e=Mz();return t5=function(r){return!!e(r)},t5}var NT;function ofe(){return NT||(NT=1,function(e){var t=efe(),r=tfe(),n=Mz(),i=afe();function s(Y){return Y.call.bind(Y)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var d=s(Symbol.prototype.valueOf);function p(Y,ae){if(typeof Y!="object")return!1;try{return ae(Y),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function g(Y){return typeof Promise<"u"&&Y instanceof Promise||Y!==null&&typeof Y=="object"&&typeof Y.then=="function"&&typeof Y.catch=="function"}e.isPromise=g;function m(Y){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Y):i(Y)||K(Y)}e.isArrayBufferView=m;function v(Y){return n(Y)==="Uint8Array"}e.isUint8Array=v;function y(Y){return n(Y)==="Uint8ClampedArray"}e.isUint8ClampedArray=y;function b(Y){return n(Y)==="Uint16Array"}e.isUint16Array=b;function x(Y){return n(Y)==="Uint32Array"}e.isUint32Array=x;function _(Y){return n(Y)==="Int8Array"}e.isInt8Array=_;function M(Y){return n(Y)==="Int16Array"}e.isInt16Array=M;function U(Y){return n(Y)==="Int32Array"}e.isInt32Array=U;function L(Y){return n(Y)==="Float32Array"}e.isFloat32Array=L;function O(Y){return n(Y)==="Float64Array"}e.isFloat64Array=O;function H(Y){return n(Y)==="BigInt64Array"}e.isBigInt64Array=H;function G(Y){return n(Y)==="BigUint64Array"}e.isBigUint64Array=G;function I(Y){return l(Y)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function R(Y){return typeof Map>"u"?!1:I.working?I(Y):Y instanceof Map}e.isMap=R;function S(Y){return l(Y)==="[object Set]"}S.working=typeof Set<"u"&&S(new Set);function j(Y){return typeof Set>"u"?!1:S.working?S(Y):Y instanceof Set}e.isSet=j;function E(Y){return l(Y)==="[object WeakMap]"}E.working=typeof WeakMap<"u"&&E(new WeakMap);function k(Y){return typeof WeakMap>"u"?!1:E.working?E(Y):Y instanceof WeakMap}e.isWeakMap=k;function A(Y){return l(Y)==="[object WeakSet]"}A.working=typeof WeakSet<"u"&&A(new WeakSet);function C(Y){return A(Y)}e.isWeakSet=C;function D(Y){return l(Y)==="[object ArrayBuffer]"}D.working=typeof ArrayBuffer<"u"&&D(new ArrayBuffer);function z(Y){return typeof ArrayBuffer>"u"?!1:D.working?D(Y):Y instanceof ArrayBuffer}e.isArrayBuffer=z;function P(Y){return l(Y)==="[object DataView]"}P.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&P(new DataView(new ArrayBuffer(1),0,1));function K(Y){return typeof DataView>"u"?!1:P.working?P(Y):Y instanceof DataView}e.isDataView=K;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(Y){return l(Y)==="[object SharedArrayBuffer]"}function q(Y){return typeof Z>"u"?!1:(typeof te.working>"u"&&(te.working=te(new Z)),te.working?te(Y):Y instanceof Z)}e.isSharedArrayBuffer=q;function $(Y){return l(Y)==="[object AsyncFunction]"}e.isAsyncFunction=$;function N(Y){return l(Y)==="[object Map Iterator]"}e.isMapIterator=N;function T(Y){return l(Y)==="[object Set Iterator]"}e.isSetIterator=T;function V(Y){return l(Y)==="[object Generator]"}e.isGeneratorObject=V;function J(Y){return l(Y)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=J;function re(Y){return p(Y,c)}e.isNumberObject=re;function se(Y){return p(Y,u)}e.isStringObject=se;function B(Y){return p(Y,h)}e.isBooleanObject=B;function ne(Y){return o&&p(Y,f)}e.isBigIntObject=ne;function ee(Y){return a&&p(Y,d)}e.isSymbolObject=ee;function F(Y){return re(Y)||se(Y)||B(Y)||ne(Y)||ee(Y)}e.isBoxedPrimitive=F;function W(Y){return typeof Uint8Array<"u"&&(z(Y)||q(Y))}e.isAnyArrayBuffer=W,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Y){Object.defineProperty(e,Y,{enumerable:!1,value:function(){throw new Error(Y+" is not supported in userland")}})})}(o_)),o_}var r5,AT;function lfe(){return AT||(AT=1,r5=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),r5}var CT;function Lz(){return CT||(CT=1,function(e){var t=Object.getOwnPropertyDescriptors||function(K){for(var Z=Object.keys(K),te={},q=0;q<Z.length;q++)te[Z[q]]=Object.getOwnPropertyDescriptor(K,Z[q]);return te},r=/%[sdj%]/g;e.format=function(P){if(!_(P)){for(var K=[],Z=0;Z<arguments.length;Z++)K.push(o(arguments[Z]));return K.join(" ")}for(var Z=1,te=arguments,q=te.length,$=String(P).replace(r,function(T){if(T==="%%")return"%";if(Z>=q)return T;switch(T){case"%s":return String(te[Z++]);case"%d":return Number(te[Z++]);case"%j":try{return JSON.stringify(te[Z++])}catch{return"[Circular]"}default:return T}}),N=te[Z];Z<q;N=te[++Z])y(N)||!O(N)?$+=" "+N:$+=" "+o(N);return $},e.deprecate=function(P,K){if(typeof Rr<"u"&&Rr.noDeprecation===!0)return P;if(typeof Rr>"u")return function(){return e.deprecate(P,K).apply(this,arguments)};var Z=!1;function te(){if(!Z){if(Rr.throwDeprecation)throw new Error(K);Rr.traceDeprecation?console.trace(K):console.error(K),Z=!0}return P.apply(this,arguments)}return te};var n={},i=/^$/;if(Rr.env.NODE_DEBUG){var s=Rr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(P){if(P=P.toUpperCase(),!n[P])if(i.test(P)){var K=Rr.pid;n[P]=function(){var Z=e.format.apply(e,arguments);console.error("%s %d: %s",P,K,Z)}}else n[P]=function(){};return n[P]};function o(P,K){var Z={seen:[],stylize:l};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),v(K)?Z.showHidden=K:K&&e._extend(Z,K),U(Z.showHidden)&&(Z.showHidden=!1),U(Z.depth)&&(Z.depth=2),U(Z.colors)&&(Z.colors=!1),U(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=a),u(Z,P,Z.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(P,K){var Z=o.styles[K];return Z?"\x1B["+o.colors[Z][0]+"m"+P+"\x1B["+o.colors[Z][1]+"m":P}function l(P,K){return P}function c(P){var K={};return P.forEach(function(Z,te){K[Z]=!0}),K}function u(P,K,Z){if(P.customInspect&&K&&I(K.inspect)&&K.inspect!==e.inspect&&!(K.constructor&&K.constructor.prototype===K)){var te=K.inspect(Z,P);return _(te)||(te=u(P,te,Z)),te}var q=h(P,K);if(q)return q;var $=Object.keys(K),N=c($);if(P.showHidden&&($=Object.getOwnPropertyNames(K)),G(K)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return f(K);if($.length===0){if(I(K)){var T=K.name?": "+K.name:"";return P.stylize("[Function"+T+"]","special")}if(L(K))return P.stylize(RegExp.prototype.toString.call(K),"regexp");if(H(K))return P.stylize(Date.prototype.toString.call(K),"date");if(G(K))return f(K)}var V="",J=!1,re=["{","}"];if(m(K)&&(J=!0,re=["[","]"]),I(K)){var se=K.name?": "+K.name:"";V=" [Function"+se+"]"}if(L(K)&&(V=" "+RegExp.prototype.toString.call(K)),H(K)&&(V=" "+Date.prototype.toUTCString.call(K)),G(K)&&(V=" "+f(K)),$.length===0&&(!J||K.length==0))return re[0]+V+re[1];if(Z<0)return L(K)?P.stylize(RegExp.prototype.toString.call(K),"regexp"):P.stylize("[Object]","special");P.seen.push(K);var B;return J?B=d(P,K,Z,N,$):B=$.map(function(ne){return p(P,K,Z,N,ne,J)}),P.seen.pop(),g(B,V,re)}function h(P,K){if(U(K))return P.stylize("undefined","undefined");if(_(K)){var Z="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(Z,"string")}if(x(K))return P.stylize(""+K,"number");if(v(K))return P.stylize(""+K,"boolean");if(y(K))return P.stylize("null","null")}function f(P){return"["+Error.prototype.toString.call(P)+"]"}function d(P,K,Z,te,q){for(var $=[],N=0,T=K.length;N<T;++N)A(K,String(N))?$.push(p(P,K,Z,te,String(N),!0)):$.push("");return q.forEach(function(V){V.match(/^\d+$/)||$.push(p(P,K,Z,te,V,!0))}),$}function p(P,K,Z,te,q,$){var N,T,V;if(V=Object.getOwnPropertyDescriptor(K,q)||{value:K[q]},V.get?V.set?T=P.stylize("[Getter/Setter]","special"):T=P.stylize("[Getter]","special"):V.set&&(T=P.stylize("[Setter]","special")),A(te,q)||(N="["+q+"]"),T||(P.seen.indexOf(V.value)<0?(y(Z)?T=u(P,V.value,null):T=u(P,V.value,Z-1),T.indexOf(`
`)>-1&&($?T=T.split(`
`).map(function(J){return"  "+J}).join(`
`).slice(2):T=`
`+T.split(`
`).map(function(J){return"   "+J}).join(`
`))):T=P.stylize("[Circular]","special")),U(N)){if($&&q.match(/^\d+$/))return T;N=JSON.stringify(""+q),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=P.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=P.stylize(N,"string"))}return N+": "+T}function g(P,K,Z){var te=P.reduce(function(q,$){return $.indexOf(`
`)>=0,q+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?Z[0]+(K===""?"":K+`
 `)+" "+P.join(`,
  `)+" "+Z[1]:Z[0]+K+" "+P.join(", ")+" "+Z[1]}e.types=ofe();function m(P){return Array.isArray(P)}e.isArray=m;function v(P){return typeof P=="boolean"}e.isBoolean=v;function y(P){return P===null}e.isNull=y;function b(P){return P==null}e.isNullOrUndefined=b;function x(P){return typeof P=="number"}e.isNumber=x;function _(P){return typeof P=="string"}e.isString=_;function M(P){return typeof P=="symbol"}e.isSymbol=M;function U(P){return P===void 0}e.isUndefined=U;function L(P){return O(P)&&S(P)==="[object RegExp]"}e.isRegExp=L,e.types.isRegExp=L;function O(P){return typeof P=="object"&&P!==null}e.isObject=O;function H(P){return O(P)&&S(P)==="[object Date]"}e.isDate=H,e.types.isDate=H;function G(P){return O(P)&&(S(P)==="[object Error]"||P instanceof Error)}e.isError=G,e.types.isNativeError=G;function I(P){return typeof P=="function"}e.isFunction=I;function R(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}e.isPrimitive=R,e.isBuffer=lfe();function S(P){return Object.prototype.toString.call(P)}function j(P){return P<10?"0"+P.toString(10):P.toString(10)}var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var P=new Date,K=[j(P.getHours()),j(P.getMinutes()),j(P.getSeconds())].join(":");return[P.getDate(),E[P.getMonth()],K].join(" ")}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=Gu(),e._extend=function(P,K){if(!K||!O(K))return P;for(var Z=Object.keys(K),te=Z.length;te--;)P[Z[te]]=K[Z[te]];return P};function A(P,K){return Object.prototype.hasOwnProperty.call(P,K)}var C=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(C&&K[C]){var Z=K[C];if(typeof Z!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,C,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(){for(var te,q,$=new Promise(function(V,J){te=V,q=J}),N=[],T=0;T<arguments.length;T++)N.push(arguments[T]);N.push(function(V,J){V?q(V):te(J)});try{K.apply(this,N)}catch(V){q(V)}return $}return Object.setPrototypeOf(Z,Object.getPrototypeOf(K)),C&&Object.defineProperty(Z,C,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Z,t(K))},e.promisify.custom=C;function D(P,K){if(!P){var Z=new Error("Promise was rejected with a falsy value");Z.reason=P,P=Z}return K(P)}function z(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var Z=[],te=0;te<arguments.length;te++)Z.push(arguments[te]);var q=Z.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var $=this,N=function(){return q.apply($,arguments)};P.apply(this,Z).then(function(T){Rr.nextTick(N.bind(null,null,T))},function(T){Rr.nextTick(D.bind(null,T,N))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(P)),Object.defineProperties(K,t(P)),K}e.callbackify=z}(a_)),a_}var n5,jT;function cfe(){if(jT)return n5;jT=1;function e(f,d){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);d&&(g=g.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),p.push.apply(p,g)}return p}function t(f){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?e(Object(p),!0).forEach(function(g){r(f,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(p,g))})}return f}function r(f,d,p){return d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}function n(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function i(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function s(f,d,p){return d&&i(f.prototype,d),f}var o=W2(),a=o.Buffer,l=Lz(),c=l.inspect,u=c&&c.custom||"inspect";function h(f,d,p){a.prototype.copy.call(f,d,p)}return n5=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,m=""+g.data;g=g.next;)m+=p+g.data;return m}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var g=a.allocUnsafe(p>>>0),m=this.head,v=0;m;)h(m.data,g,v),v+=m.data.length,m=m.next;return g}},{key:"consume",value:function(p,g){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?m=this.shift():m=g?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,m=1,v=g.data;for(p-=v.length;g=g.next;){var y=g.data,b=p>y.length?y.length:p;if(b===y.length?v+=y:v+=y.slice(0,p),p-=b,p===0){b===y.length?(++m,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=y.slice(b));break}++m}return this.length-=m,v}},{key:"_getBuffer",value:function(p){var g=a.allocUnsafe(p),m=this.head,v=1;for(m.data.copy(g),p-=m.data.length;m=m.next;){var y=m.data,b=p>y.length?y.length:p;if(y.copy(g,g.length-p,0,b),p-=b,p===0){b===y.length?(++v,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=y.slice(b));break}++v}return this.length-=v,g}},{key:u,value:function(p,g){return c(this,t({},g,{depth:0,customInspect:!1}))}}]),f}(),n5}var i5,TT;function Dz(){if(TT)return i5;TT=1;function e(o,a){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Rr.nextTick(i,this,o)):Rr.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!a&&h?l._writableState?l._writableState.errorEmitted?Rr.nextTick(r,l):(l._writableState.errorEmitted=!0,Rr.nextTick(t,l,h)):Rr.nextTick(t,l,h):a?(Rr.nextTick(r,l),a(h)):Rr.nextTick(r,l)}),this)}function t(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,c=o._writableState;l&&l.autoDestroy||c&&c.autoDestroy?o.destroy(a):o.emit("error",a)}return i5={destroy:e,undestroy:n,errorOrDestroy:s},i5}var s5={},RT;function jp(){if(RT)return s5;RT=1;function e(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var t={};function r(a,l,c){c||(c=Error);function u(f,d,p){return typeof l=="string"?l:l(f,d,p)}var h=function(f){e(d,f);function d(p,g,m){return f.call(this,u(p,g,m))||this}return d}(c);h.prototype.name=c.name,h.prototype.code=a,t[a]=h}function n(a,l){if(Array.isArray(a)){var c=a.length;return a=a.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,c){return a.substr(0,l.length)===l}function s(a,l,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-l.length,c)===l}function o(a,l,c){return typeof c!="number"&&(c=0),c+l.length>a.length?!1:a.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var h;if(s(a," argument"))h="The ".concat(a," ").concat(u," ").concat(n(l,"type"));else{var f=o(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(f," ").concat(u," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s5.codes=t,s5}var a5,PT;function Bz(){if(PT)return a5;PT=1;var e=jp().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=t(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return a5={getHighWaterMark:r},a5}var o5,OT;function ufe(){if(OT)return o5;OT=1,o5=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!el.localStorage)return!1}catch{return!1}var n=el.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return o5}var l5,IT;function Fz(){if(IT)return l5;IT=1,l5=L;function e(q){var $=this;this.next=null,this.entry=null,this.finish=function(){te($,q)}}var t;L.WritableState=M;var r={deprecate:ufe()},n=Nz(),i=W2().Buffer,s=el.Uint8Array||function(){};function o(q){return i.from(q)}function a(q){return i.isBuffer(q)||q instanceof s}var l=Dz(),c=Bz(),u=c.getHighWaterMark,h=jp().codes,f=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;Gu()(L,n);function _(){}function M(q,$,N){t=t||Qf(),q=q||{},typeof N!="boolean"&&(N=$ instanceof t),this.objectMode=!!q.objectMode,N&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=u(this,q,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=q.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){E($,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}M.prototype.getBuffer=function(){for(var $=this.bufferedRequest,N=[];$;)N.push($),$=$.next;return N},function(){try{Object.defineProperty(M.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function($){return U.call(this,$)?!0:this!==L?!1:$&&$._writableState instanceof M}})):U=function($){return $ instanceof this};function L(q){t=t||Qf();var $=this instanceof t;if(!$&&!U.call(L,this))return new L(q);this._writableState=new M(q,this,$),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),n.call(this)}L.prototype.pipe=function(){x(this,new g)};function O(q,$){var N=new y;x(q,N),Rr.nextTick($,N)}function H(q,$,N,T){var V;return N===null?V=new v:typeof N!="string"&&!$.objectMode&&(V=new f("chunk",["string","Buffer"],N)),V?(x(q,V),Rr.nextTick(T,V),!1):!0}L.prototype.write=function(q,$,N){var T=this._writableState,V=!1,J=!T.objectMode&&a(q);return J&&!i.isBuffer(q)&&(q=o(q)),typeof $=="function"&&(N=$,$=null),J?$="buffer":$||($=T.defaultEncoding),typeof N!="function"&&(N=_),T.ending?O(this,N):(J||H(this,T,q,N))&&(T.pendingcb++,V=I(this,T,J,q,$,N)),V},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&C(this,q))},L.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new b($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function G(q,$,N){return!q.objectMode&&q.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,N)),$}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(q,$,N,T,V,J){if(!N){var re=G($,T,V);T!==re&&(N=!0,V="buffer",T=re)}var se=$.objectMode?1:T.length;$.length+=se;var B=$.length<$.highWaterMark;if(B||($.needDrain=!0),$.writing||$.corked){var ne=$.lastBufferedRequest;$.lastBufferedRequest={chunk:T,encoding:V,isBuf:N,callback:J,next:null},ne?ne.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else R(q,$,!1,se,T,V,J);return B}function R(q,$,N,T,V,J,re){$.writelen=T,$.writecb=re,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new m("write")):N?q._writev(V,$.onwrite):q._write(V,J,$.onwrite),$.sync=!1}function S(q,$,N,T,V){--$.pendingcb,N?(Rr.nextTick(V,T),Rr.nextTick(K,q,$),q._writableState.errorEmitted=!0,x(q,T)):(V(T),q._writableState.errorEmitted=!0,x(q,T),K(q,$))}function j(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function E(q,$){var N=q._writableState,T=N.sync,V=N.writecb;if(typeof V!="function")throw new p;if(j(N),$)S(q,N,T,$,V);else{var J=D(N)||q.destroyed;!J&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&C(q,N),T?Rr.nextTick(k,q,N,J,V):k(q,N,J,V)}}function k(q,$,N,T){N||A(q,$),$.pendingcb--,T(),K(q,$)}function A(q,$){$.length===0&&$.needDrain&&($.needDrain=!1,q.emit("drain"))}function C(q,$){$.bufferProcessing=!0;var N=$.bufferedRequest;if(q._writev&&N&&N.next){var T=$.bufferedRequestCount,V=new Array(T),J=$.corkedRequestsFree;J.entry=N;for(var re=0,se=!0;N;)V[re]=N,N.isBuf||(se=!1),N=N.next,re+=1;V.allBuffers=se,R(q,$,!0,$.length,V,"",J.finish),$.pendingcb++,$.lastBufferedRequest=null,J.next?($.corkedRequestsFree=J.next,J.next=null):$.corkedRequestsFree=new e($),$.bufferedRequestCount=0}else{for(;N;){var B=N.chunk,ne=N.encoding,ee=N.callback,F=$.objectMode?1:B.length;if(R(q,$,!1,F,B,ne,ee),N=N.next,$.bufferedRequestCount--,$.writing)break}N===null&&($.lastBufferedRequest=null)}$.bufferedRequest=N,$.bufferProcessing=!1}L.prototype._write=function(q,$,N){N(new d("_write()"))},L.prototype._writev=null,L.prototype.end=function(q,$,N){var T=this._writableState;return typeof q=="function"?(N=q,q=null,$=null):typeof $=="function"&&(N=$,$=null),q!=null&&this.write(q,$),T.corked&&(T.corked=1,this.uncork()),T.ending||Z(this,T,N),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function D(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function z(q,$){q._final(function(N){$.pendingcb--,N&&x(q,N),$.prefinished=!0,q.emit("prefinish"),K(q,$)})}function P(q,$){!$.prefinished&&!$.finalCalled&&(typeof q._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,Rr.nextTick(z,q,$)):($.prefinished=!0,q.emit("prefinish")))}function K(q,$){var N=D($);if(N&&(P(q,$),$.pendingcb===0&&($.finished=!0,q.emit("finish"),$.autoDestroy))){var T=q._readableState;(!T||T.autoDestroy&&T.endEmitted)&&q.destroy()}return N}function Z(q,$,N){$.ending=!0,K(q,$),N&&($.finished?Rr.nextTick(N):q.once("finish",N)),$.ended=!0,q.writable=!1}function te(q,$,N){var T=q.entry;for(q.entry=null;T;){var V=T.callback;$.pendingcb--,V(N),T=T.next}$.corkedRequestsFree.next=q}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),L.prototype.destroy=l.destroy,L.prototype._undestroy=l.undestroy,L.prototype._destroy=function(q,$){$(q)},l5}var c5,MT;function Qf(){if(MT)return c5;MT=1;var e=Object.keys||function(c){var u=[];for(var h in c)u.push(h);return u};c5=o;var t=zz(),r=Fz();Gu()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);t.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Rr.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),c5}var u5={},kv={exports:{}},LT;function dfe(){return LT||(LT=1,function(e,t){var r=W2(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,l){return n(o,a,l)}i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(kv,kv.exports)),kv.exports}var DT;function n6(){if(DT)return u5;DT=1;var e=dfe().Buffer,t=e.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(v){if(!v)return"utf8";for(var y;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(y)return;v=(""+v).toLowerCase(),y=!0}}function n(v){var y=r(v);if(typeof y!="string"&&(e.isEncoding===t||!t(v)))throw new Error("Unknown encoding: "+v);return y||v}u5.StringDecoder=i;function i(v){this.encoding=n(v);var y;switch(this.encoding){case"utf16le":this.text=h,this.end=f,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=d,this.end=p,y=3;break;default:this.write=g,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}i.prototype.write=function(v){if(v.length===0)return"";var y,b;if(this.lastNeed){if(y=this.fillLast(v),y===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<v.length?y?y+this.text(v,b):this.text(v,b):y||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function s(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function o(v,y,b){var x=y.length-1;if(x<b)return 0;var _=s(y[x]);return _>=0?(_>0&&(v.lastNeed=_-1),_):--x<b||_===-2?0:(_=s(y[x]),_>=0?(_>0&&(v.lastNeed=_-2),_):--x<b||_===-2?0:(_=s(y[x]),_>=0?(_>0&&(_===2?_=0:v.lastNeed=_-3),_):0))}function a(v,y,b){if((y[0]&192)!==128)return v.lastNeed=0,"�";if(v.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return v.lastNeed=1,"�";if(v.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return v.lastNeed=2,"�"}}function l(v){var y=this.lastTotal-this.lastNeed,b=a(this,v);if(b!==void 0)return b;if(this.lastNeed<=v.length)return v.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,y,0,v.length),this.lastNeed-=v.length}function c(v,y){var b=o(this,v,y);if(!this.lastNeed)return v.toString("utf8",y);this.lastTotal=b;var x=v.length-(b-this.lastNeed);return v.copy(this.lastChar,0,x),v.toString("utf8",y,x)}function u(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+"�":y}function h(v,y){if((v.length-y)%2===0){var b=v.toString("utf16le",y);if(b){var x=b.charCodeAt(b.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",y,v.length-1)}function f(v){var y=v&&v.length?this.write(v):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function d(v,y){var b=(v.length-y)%3;return b===0?v.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",y,v.length-b))}function p(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(v){return v.toString(this.encoding)}function m(v){return v&&v.length?this.write(v):""}return u5}var d5,BT;function _E(){if(BT)return d5;BT=1;var e=jp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=t(a||r);var l=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,u=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){c=!1,h=!0,l||a.call(s)},d=s._readableState&&s._readableState.endEmitted,p=function(){l=!1,d=!0,c||a.call(s)},g=function(b){a.call(s,b)},m=function(){var b;if(l&&!d)return(!s._readableState||!s._readableState.ended)&&(b=new e),a.call(s,b);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(b=new e),a.call(s,b)},v=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",m),s.req?v():s.on("request",v)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",p),s.on("finish",f),o.error!==!1&&s.on("error",g),s.on("close",m),function(){s.removeListener("complete",f),s.removeListener("abort",m),s.removeListener("request",v),s.req&&s.req.removeListener("finish",f),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",f),s.removeListener("end",p),s.removeListener("error",g),s.removeListener("close",m)}}return d5=i,d5}var h5,FT;function hfe(){if(FT)return h5;FT=1;var e;function t(v,y,b){return y in v?Object.defineProperty(v,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[y]=b,v}var r=_E(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(v,y){return{value:v,done:y}}function h(v){var y=v[n];if(y!==null){var b=v[c].read();b!==null&&(v[a]=null,v[n]=null,v[i]=null,y(u(b,!1)))}}function f(v){Rr.nextTick(h,v)}function d(v,y){return function(b,x){v.then(function(){if(y[o]){b(u(void 0,!0));return}y[l](b,x)},x)}}var p=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((e={get stream(){return this[c]},next:function(){var y=this,b=this[s];if(b!==null)return Promise.reject(b);if(this[o])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(U,L){Rr.nextTick(function(){y[s]?L(y[s]):U(u(void 0,!0))})});var x=this[a],_;if(x)_=new Promise(d(x,this));else{var M=this[c].read();if(M!==null)return Promise.resolve(u(M,!1));_=new Promise(this[l])}return this[a]=_,_}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var y=this;return new Promise(function(b,x){y[c].destroy(null,function(_){if(_){x(_);return}b(u(void 0,!0))})})}),e),p),m=function(y){var b,x=Object.create(g,(b={},t(b,c,{value:y,writable:!0}),t(b,n,{value:null,writable:!0}),t(b,i,{value:null,writable:!0}),t(b,s,{value:null,writable:!0}),t(b,o,{value:y._readableState.endEmitted,writable:!0}),t(b,l,{value:function(M,U){var L=x[c].read();L?(x[a]=null,x[n]=null,x[i]=null,M(u(L,!1))):(x[n]=M,x[i]=U)},writable:!0}),b));return x[a]=null,r(y,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=x[i];M!==null&&(x[a]=null,x[n]=null,x[i]=null,M(_)),x[s]=_;return}var U=x[n];U!==null&&(x[a]=null,x[n]=null,x[i]=null,U(u(void 0,!0))),x[o]=!0}),y.on("readable",f.bind(null,x)),x};return h5=m,h5}var f5,zT;function ffe(){return zT||(zT=1,f5=function(){throw new Error("Readable.from is not available in the browser")}),f5}var p5,UT;function zz(){if(UT)return p5;UT=1,p5=O;var e;O.ReadableState=L,yE().EventEmitter;var t=function(re,se){return re.listeners(se).length},r=Nz(),n=W2().Buffer,i=el.Uint8Array||function(){};function s(J){return n.from(J)}function o(J){return n.isBuffer(J)||J instanceof i}var a=Lz(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var c=cfe(),u=Dz(),h=Bz(),f=h.getHighWaterMark,d=jp().codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_STREAM_PUSH_AFTER_EOF,m=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,b,x;Gu()(O,r);var _=u.errorOrDestroy,M=["error","close","destroy","pause","resume"];function U(J,re,se){if(typeof J.prependListener=="function")return J.prependListener(re,se);!J._events||!J._events[re]?J.on(re,se):Array.isArray(J._events[re])?J._events[re].unshift(se):J._events[re]=[se,J._events[re]]}function L(J,re,se){e=e||Qf(),J=J||{},typeof se!="boolean"&&(se=re instanceof e),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=f(this,J,"readableHighWaterMark",se),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(y||(y=n6().StringDecoder),this.decoder=new y(J.encoding),this.encoding=J.encoding)}function O(J){if(e=e||Qf(),!(this instanceof O))return new O(J);var re=this instanceof e;this._readableState=new L(J,this,re),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),r.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(J,re){re(J)},O.prototype.push=function(J,re){var se=this._readableState,B;return se.objectMode?B=!0:typeof J=="string"&&(re=re||se.defaultEncoding,re!==se.encoding&&(J=n.from(J,re),re=""),B=!0),H(this,J,re,!1,B)},O.prototype.unshift=function(J){return H(this,J,null,!0,!1)};function H(J,re,se,B,ne){l("readableAddChunk",re);var ee=J._readableState;if(re===null)ee.reading=!1,E(J,ee);else{var F;if(ne||(F=I(ee,re)),F)_(J,F);else if(ee.objectMode||re&&re.length>0)if(typeof re!="string"&&!ee.objectMode&&Object.getPrototypeOf(re)!==n.prototype&&(re=s(re)),B)ee.endEmitted?_(J,new v):G(J,ee,re,!0);else if(ee.ended)_(J,new g);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!se?(re=ee.decoder.write(re),ee.objectMode||re.length!==0?G(J,ee,re,!1):C(J,ee)):G(J,ee,re,!1)}else B||(ee.reading=!1,C(J,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function G(J,re,se,B){re.flowing&&re.length===0&&!re.sync?(re.awaitDrain=0,J.emit("data",se)):(re.length+=re.objectMode?1:se.length,B?re.buffer.unshift(se):re.buffer.push(se),re.needReadable&&k(J)),C(J,re)}function I(J,re){var se;return!o(re)&&typeof re!="string"&&re!==void 0&&!J.objectMode&&(se=new p("chunk",["string","Buffer","Uint8Array"],re)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(J){y||(y=n6().StringDecoder);var re=new y(J);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,B="";se!==null;)B+=re.write(se.data),se=se.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var R=1073741824;function S(J){return J>=R?J=R:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function j(J,re){return J<=0||re.length===0&&re.ended?0:re.objectMode?1:J!==J?re.flowing&&re.length?re.buffer.head.data.length:re.length:(J>re.highWaterMark&&(re.highWaterMark=S(J)),J<=re.length?J:re.ended?re.length:(re.needReadable=!0,0))}O.prototype.read=function(J){l("read",J),J=parseInt(J,10);var re=this._readableState,se=J;if(J!==0&&(re.emittedReadable=!1),J===0&&re.needReadable&&((re.highWaterMark!==0?re.length>=re.highWaterMark:re.length>0)||re.ended))return l("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?N(this):k(this),null;if(J=j(J,re),J===0&&re.ended)return re.length===0&&N(this),null;var B=re.needReadable;l("need readable",B),(re.length===0||re.length-J<re.highWaterMark)&&(B=!0,l("length less than watermark",B)),re.ended||re.reading?(B=!1,l("reading or ended",B)):B&&(l("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(J=j(se,re)));var ne;return J>0?ne=$(J,re):ne=null,ne===null?(re.needReadable=re.length<=re.highWaterMark,J=0):(re.length-=J,re.awaitDrain=0),re.length===0&&(re.ended||(re.needReadable=!0),se!==J&&re.ended&&N(this)),ne!==null&&this.emit("data",ne),ne};function E(J,re){if(l("onEofChunk"),!re.ended){if(re.decoder){var se=re.decoder.end();se&&se.length&&(re.buffer.push(se),re.length+=re.objectMode?1:se.length)}re.ended=!0,re.sync?k(J):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,A(J)))}}function k(J){var re=J._readableState;l("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(l("emitReadable",re.flowing),re.emittedReadable=!0,Rr.nextTick(A,J))}function A(J){var re=J._readableState;l("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(J.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,q(J)}function C(J,re){re.readingMore||(re.readingMore=!0,Rr.nextTick(D,J,re))}function D(J,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&re.length===0);){var se=re.length;if(l("maybeReadMore read 0"),J.read(0),se===re.length)break}re.readingMore=!1}O.prototype._read=function(J){_(this,new m("_read()"))},O.prototype.pipe=function(J,re){var se=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=J;break;case 1:B.pipes=[B.pipes,J];break;default:B.pipes.push(J);break}B.pipesCount+=1,l("pipe count=%d opts=%j",B.pipesCount,re);var ne=(!re||re.end!==!1)&&J!==Rr.stdout&&J!==Rr.stderr,ee=ne?W:ke;B.endEmitted?Rr.nextTick(ee):se.once("end",ee),J.on("unpipe",F);function F(Re,je){l("onunpipe"),Re===se&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,ce())}function W(){l("onend"),J.end()}var Y=z(se);J.on("drain",Y);var ae=!1;function ce(){l("cleanup"),J.removeListener("close",me),J.removeListener("finish",ge),J.removeListener("drain",Y),J.removeListener("error",de),J.removeListener("unpipe",F),se.removeListener("end",W),se.removeListener("end",ke),se.removeListener("data",le),ae=!0,B.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Y()}se.on("data",le);function le(Re){l("ondata");var je=J.write(Re);l("dest.write",je),je===!1&&((B.pipesCount===1&&B.pipes===J||B.pipesCount>1&&V(B.pipes,J)!==-1)&&!ae&&(l("false write response, pause",B.awaitDrain),B.awaitDrain++),se.pause())}function de(Re){l("onerror",Re),ke(),J.removeListener("error",de),t(J,"error")===0&&_(J,Re)}U(J,"error",de);function me(){J.removeListener("finish",ge),ke()}J.once("close",me);function ge(){l("onfinish"),J.removeListener("close",me),ke()}J.once("finish",ge);function ke(){l("unpipe"),se.unpipe(J)}return J.emit("pipe",se),B.flowing||(l("pipe resume"),se.resume()),J};function z(J){return function(){var se=J._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&t(J,"data")&&(se.flowing=!0,q(J))}}O.prototype.unpipe=function(J){var re=this._readableState,se={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return J&&J!==re.pipes?this:(J||(J=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,J&&J.emit("unpipe",this,se),this);if(!J){var B=re.pipes,ne=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var ee=0;ee<ne;ee++)B[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var F=V(re.pipes,J);return F===-1?this:(re.pipes.splice(F,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),J.emit("unpipe",this,se),this)},O.prototype.on=function(J,re){var se=r.prototype.on.call(this,J,re),B=this._readableState;return J==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):J==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,l("on readable",B.length,B.reading),B.length?k(this):B.reading||Rr.nextTick(K,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(J,re){var se=r.prototype.removeListener.call(this,J,re);return J==="readable"&&Rr.nextTick(P,this),se},O.prototype.removeAllListeners=function(J){var re=r.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&Rr.nextTick(P,this),re};function P(J){var re=J._readableState;re.readableListening=J.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:J.listenerCount("data")>0&&J.resume()}function K(J){l("readable nexttick read 0"),J.read(0)}O.prototype.resume=function(){var J=this._readableState;return J.flowing||(l("resume"),J.flowing=!J.readableListening,Z(this,J)),J.paused=!1,this};function Z(J,re){re.resumeScheduled||(re.resumeScheduled=!0,Rr.nextTick(te,J,re))}function te(J,re){l("resume",re.reading),re.reading||J.read(0),re.resumeScheduled=!1,J.emit("resume"),q(J),re.flowing&&!re.reading&&J.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(J){var re=J._readableState;for(l("flow",re.flowing);re.flowing&&J.read()!==null;);}O.prototype.wrap=function(J){var re=this,se=this._readableState,B=!1;J.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var F=se.decoder.end();F&&F.length&&re.push(F)}re.push(null)}),J.on("data",function(F){if(l("wrapped data"),se.decoder&&(F=se.decoder.write(F)),!(se.objectMode&&F==null)&&!(!se.objectMode&&(!F||!F.length))){var W=re.push(F);W||(B=!0,J.pause())}});for(var ne in J)this[ne]===void 0&&typeof J[ne]=="function"&&(this[ne]=function(W){return function(){return J[W].apply(J,arguments)}}(ne));for(var ee=0;ee<M.length;ee++)J.on(M[ee],this.emit.bind(this,M[ee]));return this._read=function(F){l("wrapped _read",F),B&&(B=!1,J.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=hfe()),b(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),O._fromList=$,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(J,re){if(re.length===0)return null;var se;return re.objectMode?se=re.buffer.shift():!J||J>=re.length?(re.decoder?se=re.buffer.join(""):re.buffer.length===1?se=re.buffer.first():se=re.buffer.concat(re.length),re.buffer.clear()):se=re.buffer.consume(J,re.decoder),se}function N(J){var re=J._readableState;l("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,Rr.nextTick(T,re,J))}function T(J,re){if(l("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,re.readable=!1,re.emit("end"),J.autoDestroy)){var se=re._writableState;(!se||se.autoDestroy&&se.finished)&&re.destroy()}}typeof Symbol=="function"&&(O.from=function(J,re){return x===void 0&&(x=ffe()),x(O,J,re)});function V(J,re){for(var se=0,B=J.length;se<B;se++)if(J[se]===re)return se;return-1}return p5}var m5,$T;function Uz(){if($T)return m5;$T=1,m5=a;var e=jp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=Qf();Gu()(a,s);function o(u,h){var f=this._transformState;f.transforming=!1;var d=f.writecb;if(d===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);s.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){c(u,h,f)}):c(this,null,null)}a.prototype.push=function(u,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,h)},a.prototype._transform=function(u,h,f){f(new t("_transform()"))},a.prototype._write=function(u,h,f){var d=this._transformState;if(d.writecb=f,d.writechunk=u,d.writeencoding=h,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(u){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(u,h){s.prototype._destroy.call(this,u,function(f){h(f)})};function c(u,h,f){if(h)return u.emit("error",h);if(f!=null&&u.push(f),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return m5}var g5,HT;function pfe(){if(HT)return g5;HT=1,g5=t;var e=Uz();Gu()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},g5}var v5,WT;function mfe(){if(WT)return v5;WT=1;var e;function t(f){var d=!1;return function(){d||(d=!0,f.apply(void 0,arguments))}}var r=jp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function o(f){return f.setHeader&&typeof f.abort=="function"}function a(f,d,p,g){g=t(g);var m=!1;f.on("close",function(){m=!0}),e===void 0&&(e=_E()),e(f,{readable:d,writable:p},function(y){if(y)return g(y);m=!0,g()});var v=!1;return function(y){if(!m&&!v){if(v=!0,o(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(y||new i("pipe"))}}}function l(f){f()}function c(f,d){return f.pipe(d)}function u(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var g=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var m,v=d.map(function(y,b){var x=b<d.length-1,_=b>0;return a(y,x,_,function(M){m||(m=M),M&&v.forEach(l),!x&&(v.forEach(l),g(m))})});return d.reduce(c)}return v5=h,v5}var y5,qT;function SE(){if(qT)return y5;qT=1,y5=r;var e=yE().EventEmitter,t=Gu();t(r,e),r.Readable=zz(),r.Writable=Fz(),r.Duplex=Qf(),r.Transform=Uz(),r.PassThrough=pfe(),r.finished=_E(),r.pipeline=mfe(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var s=this;function o(d){n.writable&&n.write(d)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",c),s.on("close",u));var l=!1;function c(){l||(l=!0,n.end())}function u(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(d){if(f(),e.listenerCount(this,"error")===0)throw d}s.on("error",h),n.on("error",h);function f(){s.removeListener("data",o),n.removeListener("drain",a),s.removeListener("end",c),s.removeListener("close",u),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",f),s.removeListener("close",f),n.removeListener("close",f)}return s.on("end",f),s.on("close",f),n.on("close",f),n.emit("pipe",s),n},y5}var VT;function gfe(){return VT||(VT=1,function(e){(function(t){t.parser=function($,N){return new n($,N)},t.SAXParser=n,t.SAXStream=u,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,N){if(!(this instanceof n))return new n($,N);var T=this;s(T),T.q=T.c="",T.bufferCheckPosition=t.MAX_BUFFER_LENGTH,T.opt=N||{},T.opt.lowercase=T.opt.lowercase||T.opt.lowercasetags,T.looseCase=T.opt.lowercase?"toLowerCase":"toUpperCase",T.tags=[],T.closed=T.closedRoot=T.sawRoot=!1,T.tag=T.error=null,T.strict=!!$,T.noscript=!!($||T.opt.noscript),T.state=O.BEGIN,T.strictEntities=T.opt.strictEntities,T.ENTITIES=T.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),T.attribList=[],T.opt.xmlns&&(T.ns=Object.create(g)),T.trackPosition=T.opt.position!==!1,T.trackPosition&&(T.position=T.line=T.column=0),G(T,"onready")}Object.create||(Object.create=function($){function N(){}N.prototype=$;var T=new N;return T}),Object.keys||(Object.keys=function($){var N=[];for(var T in $)$.hasOwnProperty(T)&&N.push(T);return N});function i($){for(var N=Math.max(t.MAX_BUFFER_LENGTH,10),T=0,V=0,J=r.length;V<J;V++){var re=$[r[V]].length;if(re>N)switch(r[V]){case"textNode":R($);break;case"cdata":I($,"oncdata",$.cdata),$.cdata="";break;case"script":I($,"onscript",$.script),$.script="";break;default:j($,"Max buffer length exceeded: "+r[V])}T=Math.max(T,re)}var se=t.MAX_BUFFER_LENGTH-T;$.bufferCheckPosition=se+$.position}function s($){for(var N=0,T=r.length;N<T;N++)$[r[N]]=""}function o($){R($),$.cdata!==""&&(I($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(I($,"onscript",$.script),$.script="")}n.prototype={end:function(){E(this)},write:q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=SE().Stream}catch{a=function(){}}var l=t.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function c($,N){return new u($,N)}function u($,N){if(!(this instanceof u))return new u($,N);a.apply(this),this._parser=new n($,N),this.writable=!0,this.readable=!0;var T=this;this._parser.onend=function(){T.emit("end")},this._parser.onerror=function(V){T.emit("error",V),T._parser.error=null},this._decoder=null,l.forEach(function(V){Object.defineProperty(T,"on"+V,{get:function(){return T._parser["on"+V]},set:function(J){if(!J)return T.removeAllListeners(V),T._parser["on"+V]=J,J;T.on(V,J)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var N=n6().StringDecoder;this._decoder=new N("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},u.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},u.prototype.on=function($,N){var T=this;return!T._parser["on"+$]&&l.indexOf($)!==-1&&(T._parser["on"+$]=function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);V.splice(0,0,$),T.emit.apply(T,V)}),a.prototype.on.call(T,$,N)};var h="[CDATA[",f="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:d,xmlns:p},m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x($){return $===" "||$===`
`||$==="\r"||$==="	"}function _($){return $==='"'||$==="'"}function M($){return $===">"||x($)}function U($,N){return $.test(N)}function L($,N){return!U($,N)}var O=0;t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function($){var N=t.ENTITIES[$],T=typeof N=="number"?String.fromCharCode(N):N;t.ENTITIES[$]=T});for(var H in t.STATE)t.STATE[t.STATE[H]]=H;O=t.STATE;function G($,N,T){$[N]&&$[N](T)}function I($,N,T){$.textNode&&R($),G($,N,T)}function R($){$.textNode=S($.opt,$.textNode),$.textNode&&G($,"ontext",$.textNode),$.textNode=""}function S($,N){return $.trim&&(N=N.trim()),$.normalize&&(N=N.replace(/\s+/g," ")),N}function j($,N){return R($),$.trackPosition&&(N+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),N=new Error(N),$.error=N,G($,"onerror",N),$}function E($){return $.sawRoot&&!$.closedRoot&&k($,"Unclosed root tag"),$.state!==O.BEGIN&&$.state!==O.BEGIN_WHITESPACE&&$.state!==O.TEXT&&j($,"Unexpected end"),R($),$.c="",$.closed=!0,G($,"onend"),n.call($,$.strict,$.opt),$}function k($,N){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&j($,N)}function A($){$.strict||($.tagName=$.tagName[$.looseCase]());var N=$.tags[$.tags.length-1]||$,T=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(T.ns=N.ns),$.attribList.length=0,I($,"onopentagstart",T)}function C($,N){var T=$.indexOf(":"),V=T<0?["",$]:$.split(":"),J=V[0],re=V[1];return N&&$==="xmlns"&&(J="xmlns",re=""),{prefix:J,local:re}}function D($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var N=C($.attribName,!0),T=N.prefix,V=N.local;if(T==="xmlns")if(V==="xml"&&$.attribValue!==d)k($,"xml: prefix must be bound to "+d+`
Actual: `+$.attribValue);else if(V==="xmlns"&&$.attribValue!==p)k($,"xmlns: prefix must be bound to "+p+`
Actual: `+$.attribValue);else{var J=$.tag,re=$.tags[$.tags.length-1]||$;J.ns===re.ns&&(J.ns=Object.create(re.ns)),J.ns[V]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,I($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function z($,N){if($.opt.xmlns){var T=$.tag,V=C($.tagName);T.prefix=V.prefix,T.local=V.local,T.uri=T.ns[V.prefix]||"",T.prefix&&!T.uri&&(k($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),T.uri=V.prefix);var J=$.tags[$.tags.length-1]||$;T.ns&&J.ns!==T.ns&&Object.keys(T.ns).forEach(function(le){I($,"onopennamespace",{prefix:le,uri:T.ns[le]})});for(var re=0,se=$.attribList.length;re<se;re++){var B=$.attribList[re],ne=B[0],ee=B[1],F=C(ne,!0),W=F.prefix,Y=F.local,ae=W===""?"":T.ns[W]||"",ce={name:ne,value:ee,prefix:W,local:Y,uri:ae};W&&W!=="xmlns"&&!ae&&(k($,"Unbound namespace prefix: "+JSON.stringify(W)),ce.uri=W),$.tag.attributes[ne]=ce,I($,"onattribute",ce)}$.attribList.length=0}$.tag.isSelfClosing=!!N,$.sawRoot=!0,$.tags.push($.tag),I($,"onopentag",$.tag),N||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=O.SCRIPT:$.state=O.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function P($){if(!$.tagName){k($,"Weird empty close tag."),$.textNode+="</>",$.state=O.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=O.SCRIPT;return}I($,"onscript",$.script),$.script=""}var N=$.tags.length,T=$.tagName;$.strict||(T=T[$.looseCase]());for(var V=T;N--;){var J=$.tags[N];if(J.name!==V)k($,"Unexpected close tag");else break}if(N<0){k($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=O.TEXT;return}$.tagName=T;for(var re=$.tags.length;re-- >N;){var se=$.tag=$.tags.pop();$.tagName=$.tag.name,I($,"onclosetag",$.tagName);var B={};for(var ne in se.ns)B[ne]=se.ns[ne];var ee=$.tags[$.tags.length-1]||$;$.opt.xmlns&&se.ns!==ee.ns&&Object.keys(se.ns).forEach(function(F){var W=se.ns[F];I($,"onclosenamespace",{prefix:F,uri:W})})}N===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=O.TEXT}function K($){var N=$.entity,T=N.toLowerCase(),V,J="";return $.ENTITIES[N]?$.ENTITIES[N]:$.ENTITIES[T]?$.ENTITIES[T]:(N=T,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),V=parseInt(N,16),J=V.toString(16)):(N=N.slice(1),V=parseInt(N,10),J=V.toString(10))),N=N.replace(/^0+/,""),isNaN(V)||J.toLowerCase()!==N?(k($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(V))}function Z($,N){N==="<"?($.state=O.OPEN_WAKA,$.startTagPosition=$.position):x(N)||(k($,"Non-whitespace before first tag."),$.textNode=N,$.state=O.TEXT)}function te($,N){var T="";return N<$.length&&(T=$.charAt(N)),T}function q($){var N=this;if(this.error)throw this.error;if(N.closed)return j(N,"Cannot write after close. Assign an onready handler.");if($===null)return E(N);typeof $=="object"&&($=$.toString());for(var T=0,V="";V=te($,T++),N.c=V,!!V;)switch(N.trackPosition&&(N.position++,V===`
`?(N.line++,N.column=0):N.column++),N.state){case O.BEGIN:if(N.state=O.BEGIN_WHITESPACE,V==="\uFEFF")continue;Z(N,V);continue;case O.BEGIN_WHITESPACE:Z(N,V);continue;case O.TEXT:if(N.sawRoot&&!N.closedRoot){for(var J=T-1;V&&V!=="<"&&V!=="&";)V=te($,T++),V&&N.trackPosition&&(N.position++,V===`
`?(N.line++,N.column=0):N.column++);N.textNode+=$.substring(J,T-1)}V==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=O.OPEN_WAKA,N.startTagPosition=N.position):(!x(V)&&(!N.sawRoot||N.closedRoot)&&k(N,"Text data outside of root node."),V==="&"?N.state=O.TEXT_ENTITY:N.textNode+=V);continue;case O.SCRIPT:V==="<"?N.state=O.SCRIPT_ENDING:N.script+=V;continue;case O.SCRIPT_ENDING:V==="/"?N.state=O.CLOSE_TAG:(N.script+="<"+V,N.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(V==="!")N.state=O.SGML_DECL,N.sgmlDecl="";else if(!x(V))if(U(m,V))N.state=O.OPEN_TAG,N.tagName=V;else if(V==="/")N.state=O.CLOSE_TAG,N.tagName="";else if(V==="?")N.state=O.PROC_INST,N.procInstName=N.procInstBody="";else{if(k(N,"Unencoded <"),N.startTagPosition+1<N.position){var re=N.position-N.startTagPosition;V=new Array(re).join(" ")+V}N.textNode+="<"+V,N.state=O.TEXT}continue;case O.SGML_DECL:(N.sgmlDecl+V).toUpperCase()===h?(I(N,"onopencdata"),N.state=O.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+V==="--"?(N.state=O.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+V).toUpperCase()===f?(N.state=O.DOCTYPE,(N.doctype||N.sawRoot)&&k(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):V===">"?(I(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=O.TEXT):(_(V)&&(N.state=O.SGML_DECL_QUOTED),N.sgmlDecl+=V);continue;case O.SGML_DECL_QUOTED:V===N.q&&(N.state=O.SGML_DECL,N.q=""),N.sgmlDecl+=V;continue;case O.DOCTYPE:V===">"?(N.state=O.TEXT,I(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=V,V==="["?N.state=O.DOCTYPE_DTD:_(V)&&(N.state=O.DOCTYPE_QUOTED,N.q=V));continue;case O.DOCTYPE_QUOTED:N.doctype+=V,V===N.q&&(N.q="",N.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:N.doctype+=V,V==="]"?N.state=O.DOCTYPE:_(V)&&(N.state=O.DOCTYPE_DTD_QUOTED,N.q=V);continue;case O.DOCTYPE_DTD_QUOTED:N.doctype+=V,V===N.q&&(N.state=O.DOCTYPE_DTD,N.q="");continue;case O.COMMENT:V==="-"?N.state=O.COMMENT_ENDING:N.comment+=V;continue;case O.COMMENT_ENDING:V==="-"?(N.state=O.COMMENT_ENDED,N.comment=S(N.opt,N.comment),N.comment&&I(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+V,N.state=O.COMMENT);continue;case O.COMMENT_ENDED:V!==">"?(k(N,"Malformed comment"),N.comment+="--"+V,N.state=O.COMMENT):N.state=O.TEXT;continue;case O.CDATA:V==="]"?N.state=O.CDATA_ENDING:N.cdata+=V;continue;case O.CDATA_ENDING:V==="]"?N.state=O.CDATA_ENDING_2:(N.cdata+="]"+V,N.state=O.CDATA);continue;case O.CDATA_ENDING_2:V===">"?(N.cdata&&I(N,"oncdata",N.cdata),I(N,"onclosecdata"),N.cdata="",N.state=O.TEXT):V==="]"?N.cdata+="]":(N.cdata+="]]"+V,N.state=O.CDATA);continue;case O.PROC_INST:V==="?"?N.state=O.PROC_INST_ENDING:x(V)?N.state=O.PROC_INST_BODY:N.procInstName+=V;continue;case O.PROC_INST_BODY:if(!N.procInstBody&&x(V))continue;V==="?"?N.state=O.PROC_INST_ENDING:N.procInstBody+=V;continue;case O.PROC_INST_ENDING:V===">"?(I(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=O.TEXT):(N.procInstBody+="?"+V,N.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:U(v,V)?N.tagName+=V:(A(N),V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:(x(V)||k(N,"Invalid character in tag name"),N.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:V===">"?(z(N,!0),P(N)):(k(N,"Forward-slash in opening tag not followed by >"),N.state=O.ATTRIB);continue;case O.ATTRIB:if(x(V))continue;V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:U(m,V)?(N.attribName=V,N.attribValue="",N.state=O.ATTRIB_NAME):k(N,"Invalid attribute name");continue;case O.ATTRIB_NAME:V==="="?N.state=O.ATTRIB_VALUE:V===">"?(k(N,"Attribute without value"),N.attribValue=N.attribName,D(N),z(N)):x(V)?N.state=O.ATTRIB_NAME_SAW_WHITE:U(v,V)?N.attribName+=V:k(N,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(V==="=")N.state=O.ATTRIB_VALUE;else{if(x(V))continue;k(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",I(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",V===">"?z(N):U(m,V)?(N.attribName=V,N.state=O.ATTRIB_NAME):(k(N,"Invalid attribute name"),N.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(x(V))continue;_(V)?(N.q=V,N.state=O.ATTRIB_VALUE_QUOTED):(k(N,"Unquoted attribute value"),N.state=O.ATTRIB_VALUE_UNQUOTED,N.attribValue=V);continue;case O.ATTRIB_VALUE_QUOTED:if(V!==N.q){V==="&"?N.state=O.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=V;continue}D(N),N.q="",N.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:x(V)?N.state=O.ATTRIB:V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:U(m,V)?(k(N,"No whitespace between attributes"),N.attribName=V,N.attribValue="",N.state=O.ATTRIB_NAME):k(N,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!M(V)){V==="&"?N.state=O.ATTRIB_VALUE_ENTITY_U:N.attribValue+=V;continue}D(N),V===">"?z(N):N.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(N.tagName)V===">"?P(N):U(v,V)?N.tagName+=V:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=O.SCRIPT):(x(V)||k(N,"Invalid tagname in closing tag"),N.state=O.CLOSE_TAG_SAW_WHITE);else{if(x(V))continue;L(m,V)?N.script?(N.script+="</"+V,N.state=O.SCRIPT):k(N,"Invalid tagname in closing tag."):N.tagName=V}continue;case O.CLOSE_TAG_SAW_WHITE:if(x(V))continue;V===">"?P(N):k(N,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var se,B;switch(N.state){case O.TEXT_ENTITY:se=O.TEXT,B="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:se=O.ATTRIB_VALUE_QUOTED,B="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:se=O.ATTRIB_VALUE_UNQUOTED,B="attribValue";break}V===";"?(N[B]+=K(N),N.entity="",N.state=se):U(N.entity.length?b:y,V)?N.entity+=V:(k(N,"Invalid character in entity name"),N[B]+="&"+N.entity+V,N.entity="",N.state=se);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&i(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var $=String.fromCharCode,N=Math.floor,T=function(){var V=16384,J=[],re,se,B=-1,ne=arguments.length;if(!ne)return"";for(var ee="";++B<ne;){var F=Number(arguments[B]);if(!isFinite(F)||F<0||F>1114111||N(F)!==F)throw RangeError("Invalid code point: "+F);F<=65535?J.push(F):(F-=65536,re=(F>>10)+55296,se=F%1024+56320,J.push(re,se)),(B+1===ne||J.length>V)&&(ee+=$.apply(null,J),J.length=0)}return ee};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:T,configurable:!0,writable:!0}):String.fromCodePoint=T}()})(e)}(n_)),n_}var b5,GT;function EE(){return GT||(GT=1,b5={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),b5}var w5,KT;function kE(){if(KT)return w5;KT=1;var e=EE().isArray;return w5={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},w5}var x5,XT;function $z(){if(XT)return x5;XT=1;var e=gfe(),t=kE(),r=EE().isArray,n,i;function s(v){return n=t.copyOptions(v),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function o(v){var y=Number(v);if(!isNaN(y))return y;var b=v.toLowerCase();return b==="true"?!0:b==="false"?!1:v}function a(v,y){var b;if(n.compact){if(!i[n[v+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[v+"Key"])!==-1:n.alwaysArray)&&(i[n[v+"Key"]]=[]),i[n[v+"Key"]]&&!r(i[n[v+"Key"]])&&(i[n[v+"Key"]]=[i[n[v+"Key"]]]),v+"Fn"in n&&typeof y=="string"&&(y=n[v+"Fn"](y,i)),v==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(b in y)if(y.hasOwnProperty(b))if("instructionFn"in n)y[b]=n.instructionFn(y[b],b,i);else{var x=y[b];delete y[b],y[n.instructionNameFn(b,x,i)]=x}}r(i[n[v+"Key"]])?i[n[v+"Key"]].push(y):i[n[v+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var _={};if(_[n.typeKey]=v,v==="instruction"){for(b in y)if(y.hasOwnProperty(b))break;_[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(b,y,i):b,n.instructionHasAttributes?(_[n.attributesKey]=y[b][n.attributesKey],"instructionFn"in n&&(_[n.attributesKey]=n.instructionFn(_[n.attributesKey],b,i))):("instructionFn"in n&&(y[b]=n.instructionFn(y[b],b,i)),_[n.instructionKey]=y[b])}else v+"Fn"in n&&(y=n[v+"Fn"](y,i)),_[n[v+"Key"]]=y;n.addParent&&(_[n.parentKey]=i),i[n.elementsKey].push(_)}}function l(v){if("attributesFn"in n&&v&&(v=n.attributesFn(v,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&v){var y;for(y in v)if(v.hasOwnProperty(y)&&(n.trim&&(v[y]=v[y].trim()),n.nativeTypeAttributes&&(v[y]=o(v[y])),"attributeValueFn"in n&&(v[y]=n.attributeValueFn(v[y],y,i)),"attributeNameFn"in n)){var b=v[y];delete v[y],v[n.attributeNameFn(y,v[y],i)]=b}}return v}function c(v){var y={};if(v.body&&(v.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var b=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,x;(x=b.exec(v.body))!==null;)y[x[1]]=x[2]||x[3]||x[4];y=l(y)}if(v.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(v.body=v.body.trim());var _={};n.instructionHasAttributes&&Object.keys(y).length?(_[v.name]={},_[v.name][n.attributesKey]=y):_[v.name]=v.body,a("instruction",_)}}function u(v,y){var b;if(typeof v=="object"&&(y=v.attributes,v=v.name),y=l(y),"elementNameFn"in n&&(v=n.elementNameFn(v,i)),n.compact){if(b={},!n.ignoreAttributes&&y&&Object.keys(y).length){b[n.attributesKey]={};var x;for(x in y)y.hasOwnProperty(x)&&(b[n.attributesKey][x]=y[x])}!(v in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(v)!==-1:n.alwaysArray)&&(i[v]=[]),i[v]&&!r(i[v])&&(i[v]=[i[v]]),r(i[v])?i[v].push(b):i[v]=b}else i[n.elementsKey]||(i[n.elementsKey]=[]),b={},b[n.typeKey]="element",b[n.nameKey]=v,!n.ignoreAttributes&&y&&Object.keys(y).length&&(b[n.attributesKey]=y),n.alwaysChildren&&(b[n.elementsKey]=[]),i[n.elementsKey].push(b);b[n.parentKey]=i,i=b}function h(v){n.ignoreText||!v.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(v=v.trim()),n.nativeType&&(v=o(v)),n.sanitize&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",v))}function f(v){n.ignoreComment||(n.trim&&(v=v.trim()),a("comment",v))}function d(v){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function p(v){n.ignoreCdata||(n.trim&&(v=v.trim()),a("cdata",v))}function g(v){n.ignoreDoctype||(v=v.replace(/^ /,""),n.trim&&(v=v.trim()),a("doctype",v))}function m(v){v.note=v}return x5=function(v,y){var b=e.parser(!0,{}),x={};if(i=x,n=s(y),b.opt={strictEntities:!0},b.onopentag=u,b.ontext=h,b.oncomment=f,b.onclosetag=d,b.onerror=m,b.oncdata=p,b.ondoctype=g,b.onprocessinginstruction=c,b.write(v).close(),x[n.elementsKey]){var _=x[n.elementsKey];delete x[n.elementsKey],x[n.elementsKey]=_,delete x.text}return x},x5}var _5,ZT;function vfe(){if(ZT)return _5;ZT=1;var e=kE(),t=$z();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return _5=function(n,i){var s,o,a,l;return s=r(i),o=t(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(c,u){return c===l?"_":u},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_5}var S5,YT;function Hz(){if(YT)return S5;YT=1;var e=kE(),t=EE().isArray,r,n;function i(b){var x=e.copyOptions(b);return e.ensureFlagExists("ignoreDeclaration",x),e.ensureFlagExists("ignoreInstruction",x),e.ensureFlagExists("ignoreAttributes",x),e.ensureFlagExists("ignoreText",x),e.ensureFlagExists("ignoreComment",x),e.ensureFlagExists("ignoreCdata",x),e.ensureFlagExists("ignoreDoctype",x),e.ensureFlagExists("compact",x),e.ensureFlagExists("indentText",x),e.ensureFlagExists("indentCdata",x),e.ensureFlagExists("indentAttributes",x),e.ensureFlagExists("indentInstruction",x),e.ensureFlagExists("fullTagEmptyElement",x),e.ensureFlagExists("noQuotesForNativeAttributes",x),e.ensureSpacesExists(x),typeof x.spaces=="number"&&(x.spaces=Array(x.spaces+1).join(" ")),e.ensureKeyExists("declaration",x),e.ensureKeyExists("instruction",x),e.ensureKeyExists("attributes",x),e.ensureKeyExists("text",x),e.ensureKeyExists("comment",x),e.ensureKeyExists("cdata",x),e.ensureKeyExists("doctype",x),e.ensureKeyExists("type",x),e.ensureKeyExists("name",x),e.ensureKeyExists("elements",x),e.checkFnExists("doctype",x),e.checkFnExists("instruction",x),e.checkFnExists("cdata",x),e.checkFnExists("comment",x),e.checkFnExists("text",x),e.checkFnExists("instructionName",x),e.checkFnExists("elementName",x),e.checkFnExists("attributeName",x),e.checkFnExists("attributeValue",x),e.checkFnExists("attributes",x),e.checkFnExists("fullTagEmptyElement",x),x}function s(b,x,_){return(!_&&b.spaces?`
`:"")+Array(x+1).join(b.spaces)}function o(b,x,_){if(x.ignoreAttributes)return"";"attributesFn"in x&&(b=x.attributesFn(b,n,r));var M,U,L,O,H=[];for(M in b)b.hasOwnProperty(M)&&b[M]!==null&&b[M]!==void 0&&(O=x.noQuotesForNativeAttributes&&typeof b[M]!="string"?"":'"',U=""+b[M],U=U.replace(/"/g,"&quot;"),L="attributeNameFn"in x?x.attributeNameFn(M,U,n,r):M,H.push(x.spaces&&x.indentAttributes?s(x,_+1,!1):" "),H.push(L+"="+O+("attributeValueFn"in x?x.attributeValueFn(U,M,n,r):U)+O));return b&&Object.keys(b).length&&x.spaces&&x.indentAttributes&&H.push(s(x,_,!1)),H.join("")}function a(b,x,_){return r=b,n="xml",x.ignoreDeclaration?"":"<?xml"+o(b[x.attributesKey],x,_)+"?>"}function l(b,x,_){if(x.ignoreInstruction)return"";var M;for(M in b)if(b.hasOwnProperty(M))break;var U="instructionNameFn"in x?x.instructionNameFn(M,b[M],n,r):M;if(typeof b[M]=="object")return r=b,n=U,"<?"+U+o(b[M][x.attributesKey],x,_)+"?>";var L=b[M]?b[M]:"";return"instructionFn"in x&&(L=x.instructionFn(L,M,n,r)),"<?"+U+(L?" "+L:"")+"?>"}function c(b,x){return x.ignoreComment?"":"<!--"+("commentFn"in x?x.commentFn(b,n,r):b)+"-->"}function u(b,x){return x.ignoreCdata?"":"<![CDATA["+("cdataFn"in x?x.cdataFn(b,n,r):b.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(b,x){return x.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in x?x.doctypeFn(b,n,r):b)+">"}function f(b,x){return x.ignoreText?"":(b=""+b,b=b.replace(/&amp;/g,"&"),b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in x?x.textFn(b,n,r):b)}function d(b,x){var _;if(b.elements&&b.elements.length)for(_=0;_<b.elements.length;++_)switch(b.elements[_][x.typeKey]){case"text":if(x.indentText)return!0;break;case"cdata":if(x.indentCdata)return!0;break;case"instruction":if(x.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function p(b,x,_){r=b,n=b.name;var M=[],U="elementNameFn"in x?x.elementNameFn(b.name,b):b.name;M.push("<"+U),b[x.attributesKey]&&M.push(o(b[x.attributesKey],x,_));var L=b[x.elementsKey]&&b[x.elementsKey].length||b[x.attributesKey]&&b[x.attributesKey]["xml:space"]==="preserve";return L||("fullTagEmptyElementFn"in x?L=x.fullTagEmptyElementFn(b.name,b):L=x.fullTagEmptyElement),L?(M.push(">"),b[x.elementsKey]&&b[x.elementsKey].length&&(M.push(g(b[x.elementsKey],x,_+1)),r=b,n=b.name),M.push(x.spaces&&d(b,x)?`
`+Array(_+1).join(x.spaces):""),M.push("</"+U+">")):M.push("/>"),M.join("")}function g(b,x,_,M){return b.reduce(function(U,L){var O=s(x,_,M&&!U);switch(L.type){case"element":return U+O+p(L,x,_);case"comment":return U+O+c(L[x.commentKey],x);case"doctype":return U+O+h(L[x.doctypeKey],x);case"cdata":return U+(x.indentCdata?O:"")+u(L[x.cdataKey],x);case"text":return U+(x.indentText?O:"")+f(L[x.textKey],x);case"instruction":var H={};return H[L[x.nameKey]]=L[x.attributesKey]?L:L[x.instructionKey],U+(x.indentInstruction?O:"")+l(H,x,_)}},"")}function m(b,x,_){var M;for(M in b)if(b.hasOwnProperty(M))switch(M){case x.parentKey:case x.attributesKey:break;case x.textKey:if(x.indentText||_)return!0;break;case x.cdataKey:if(x.indentCdata||_)return!0;break;case x.instructionKey:if(x.indentInstruction||_)return!0;break;case x.doctypeKey:case x.commentKey:return!0;default:return!0}return!1}function v(b,x,_,M,U){r=b,n=x;var L="elementNameFn"in _?_.elementNameFn(x,b):x;if(typeof b>"u"||b===null||b==="")return"fullTagEmptyElementFn"in _&&_.fullTagEmptyElementFn(x,b)||_.fullTagEmptyElement?"<"+L+"></"+L+">":"<"+L+"/>";var O=[];if(x){if(O.push("<"+L),typeof b!="object")return O.push(">"+f(b,_)+"</"+L+">"),O.join("");b[_.attributesKey]&&O.push(o(b[_.attributesKey],_,M));var H=m(b,_,!0)||b[_.attributesKey]&&b[_.attributesKey]["xml:space"]==="preserve";if(H||("fullTagEmptyElementFn"in _?H=_.fullTagEmptyElementFn(x,b):H=_.fullTagEmptyElement),H)O.push(">");else return O.push("/>"),O.join("")}return O.push(y(b,_,M+1,!1)),r=b,n=x,x&&O.push((U?s(_,M,!1):"")+"</"+L+">"),O.join("")}function y(b,x,_,M){var U,L,O,H=[];for(L in b)if(b.hasOwnProperty(L))for(O=t(b[L])?b[L]:[b[L]],U=0;U<O.length;++U){switch(L){case x.declarationKey:H.push(a(O[U],x,_));break;case x.instructionKey:H.push((x.indentInstruction?s(x,_,M):"")+l(O[U],x,_));break;case x.attributesKey:case x.parentKey:break;case x.textKey:H.push((x.indentText?s(x,_,M):"")+f(O[U],x));break;case x.cdataKey:H.push((x.indentCdata?s(x,_,M):"")+u(O[U],x));break;case x.doctypeKey:H.push(s(x,_,M)+h(O[U],x));break;case x.commentKey:H.push(s(x,_,M)+c(O[U],x));break;default:H.push(s(x,_,M)+v(O[U],L,x,_,m(O[U],x)))}M=M&&!H.length}return H.join("")}return S5=function(b,x){x=i(x);var _=[];return r=b,n="_root_",x.compact?_.push(y(b,x,0,!0)):(b[x.declarationKey]&&_.push(a(b[x.declarationKey],x,0)),b[x.elementsKey]&&b[x.elementsKey].length&&_.push(g(b[x.elementsKey],x,0,!_.length))),_.join("")},S5}var E5,JT;function yfe(){if(JT)return E5;JT=1;var e=Hz();return E5=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},E5}var k5,QT;function bfe(){if(QT)return k5;QT=1;var e=$z(),t=vfe(),r=Hz(),n=yfe();return k5={xml2js:e,xml2json:t,js2xml:r,json2xml:n},k5}var Wz=bfe();const NE=e=>{switch(e.type){case void 0:case"element":const t=new xfe(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=NE(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class wfe extends ur{}class xfe extends lt{static fromXmlString(t){const r=Wz.xml2js(t,{compact:!1});return NE(r)}constructor(t,r){super(t),r&&this.root.push(new wfe(r))}push(t){this.root.push(t)}}class _fe extends lt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class qz extends lt{constructor(t,r){super(t),r&&(this.root=r.root)}}const Qs=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},V2=e=>{const t=Qs(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},Vz=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},eR=e=>Vz(e,1),Gz=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},Kz=e=>{const t=Gz(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},ep=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return Vz(t,3)},Bd=e=>typeof e=="string"?Gz(e):Qs(e),Sfe=e=>typeof e=="string"?Kz(e):V2(e),go=e=>typeof e=="string"?Kz(e):V2(e),Efe=V2,kfe=V2,Nfe=e=>e.toISOString();class ut extends lt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new fi({val:r}))}}class N5 extends lt{constructor(t,r){super(t),this.root.push(new fi({val:Sfe(r)}))}}class Af extends lt{constructor(t,r){super(t),this.root.push(new fi({val:r}))}}const Sm=(e,t)=>new ul({name:e,attributes:{value:{key:"w:val",value:t}}});class l0 extends lt{constructor(t,r){super(t),this.root.push(new fi({val:r}))}}class vd extends lt{constructor(t,r){super(t),this.root.push(r)}}class ul extends lt{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new H2(r)),n&&this.root.push(...n)}}const pa={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class Afe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Cfe extends lt{constructor(t){super("w:jc"),this.root.push(new Afe({val:t}))}}class Vn extends lt{constructor(t,{color:r,size:n,space:i,style:s}){super(t),this.root.push(new jfe({style:s,color:r===void 0?void 0:ep(r),size:n===void 0?void 0:Efe(n),space:i===void 0?void 0:kfe(i)}))}}class jfe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const AE={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class Tfe extends $2{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Vn("w:top",t.top)),t.bottom&&this.root.push(new Vn("w:bottom",t.bottom)),t.left&&this.root.push(new Vn("w:left",t.left)),t.right&&this.root.push(new Vn("w:right",t.right))}}class Rfe extends lt{constructor(){super("w:pBdr");const t=new Vn("w:bottom",{color:"auto",space:1,style:AE.SINGLE,size:6});this.root.push(t)}}class Pfe extends lt{constructor({start:t,end:r,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new H2({start:{key:"w:start",value:t===void 0?void 0:Bd(t)},end:{key:"w:end",value:r===void 0?void 0:Bd(r)},left:{key:"w:left",value:n===void 0?void 0:Bd(n)},right:{key:"w:right",value:i===void 0?void 0:Bd(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:go(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:go(o)}}))}}let Ofe=class extends lt{constructor(){super("w:br")}};const CE={BEGIN:"begin",END:"end",SEPARATE:"separate"};class jE extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Nv extends lt{constructor(t){super("w:fldChar"),this.root.push(new jE({type:CE.BEGIN,dirty:t}))}}class Av extends lt{constructor(t){super("w:fldChar"),this.root.push(new jE({type:CE.SEPARATE,dirty:t}))}}class Cv extends lt{constructor(t){super("w:fldChar"),this.root.push(new jE({type:CE.END,dirty:t}))}}const tp={DEFAULT:"default",PRESERVE:"preserve"};class rp extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{space:"xml:space"})}}class Ife extends lt{constructor(){super("w:instrText"),this.root.push(new rp({space:tp.PRESERVE})),this.root.push("PAGE")}}class Mfe extends lt{constructor(){super("w:instrText"),this.root.push(new rp({space:tp.PRESERVE})),this.root.push("NUMPAGES")}}class Lfe extends lt{constructor(){super("w:instrText"),this.root.push(new rp({space:tp.PRESERVE})),this.root.push("SECTIONPAGES")}}class Dfe extends lt{constructor(){super("w:instrText"),this.root.push(new rp({space:tp.PRESERVE})),this.root.push("SECTION")}}class Bfe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Xz extends lt{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new Bfe({fill:t===void 0?void 0:ep(t),color:r===void 0?void 0:ep(r),type:n}))}}class Ffe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const zfe={DOT:"dot"};class Ufe extends lt{constructor(t){super("w:em"),this.root.push(new fi({val:t}))}}class $fe extends Ufe{constructor(t=zfe.DOT){super(t)}}class Hfe extends lt{constructor(t){super("w:spacing"),this.root.push(new fi({val:Bd(t)}))}}class Wfe extends lt{constructor(t){super("w:color"),this.root.push(new fi({val:ep(t)}))}}class qfe extends lt{constructor(t){super("w:highlight"),this.root.push(new fi({val:t}))}}class Vfe extends lt{constructor(t){super("w:highlightCs"),this.root.push(new fi({val:t}))}}const Gfe=e=>new ul({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class tR extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class A5 extends lt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new tR({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new tR(n))}}}let Zz=class extends lt{constructor(t){super("w:vertAlign"),this.root.push(new fi({val:t}))}};class Kfe extends Zz{constructor(){super("superscript")}}class Xfe extends Zz{constructor(){super("subscript")}}const Yz={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class Zfe extends lt{constructor(t=Yz.SINGLE,r){super("w:u"),this.root.push(new fi({val:t,color:r===void 0?void 0:ep(r)}))}}class _h extends $2{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new Af("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new A5(t.font)):"name"in t.font?this.push(new A5(t.font.name,t.font.hint)):this.push(new A5(t.font))),t.bold!==void 0&&this.push(new ut("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new ut("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new ut("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new ut("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new ut("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new ut("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new ut("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new ut("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new ut("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new ut("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new ut("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new ut("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new ut("w:vanish",t.vanish)),t.color&&this.push(new Wfe(t.color)),t.characterSpacing&&this.push(new Hfe(t.characterSpacing)),t.scale!==void 0&&this.push(new l0("w:w",t.scale)),t.kern&&this.push(new N5("w:kern",t.kern)),t.position&&this.push(new Af("w:position",t.position)),t.size!==void 0&&this.push(new N5("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new N5("w:szCs",i)),t.highlight&&this.push(new qfe(t.highlight));const s=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;s&&this.push(new Vfe(s)),t.underline&&this.push(new Zfe(t.underline.type,t.underline.color)),t.effect&&this.push(new Af("w:effect",t.effect)),t.border&&this.push(new Vn("w:bdr",t.border)),t.shading&&this.push(new Xz(t.shading)),t.subScript&&this.push(new Xfe),t.superScript&&this.push(new Kfe),t.rightToLeft!==void 0&&this.push(new ut("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new $fe(t.emphasisMark.type)),t.language&&this.push(Gfe(t.language)),t.specVanish&&this.push(new ut("w:specVanish",t.vanish)),t.math&&this.push(new ut("w:oMath",t.math)),t.revision&&this.push(new Yfe(t.revision))}push(t){this.root.push(t)}}class Yfe extends lt{constructor(t){super("w:rPrChange"),this.root.push(new Ffe({id:t.id,author:t.author,date:t.date})),this.addChildElement(new _h(t))}}class rR extends lt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new rp({space:tp.PRESERVE})),this.root.push(t)):(this.root.push(new rp({space:(r=t.space)!=null?r:tp.DEFAULT})),this.root.push(t.text))}}const jv={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class G2 extends lt{constructor(t){if(super("w:r"),tt(this,"properties"),this.properties=new _h(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new Ofe);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case jv.CURRENT:this.root.push(new Nv),this.root.push(new Ife),this.root.push(new Av),this.root.push(new Cv);break;case jv.TOTAL_PAGES:this.root.push(new Nv),this.root.push(new Mfe),this.root.push(new Av),this.root.push(new Cv);break;case jv.TOTAL_PAGES_IN_SECTION:this.root.push(new Nv),this.root.push(new Lfe),this.root.push(new Av),this.root.push(new Cv);break;case jv.CURRENT_SECTION:this.root.push(new Nv),this.root.push(new Dfe),this.root.push(new Av),this.root.push(new Cv);break;default:this.root.push(new rR(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new rR(t.text))}}class nR extends G2{constructor(t){super(typeof t=="string"?{text:t}:t)}}var C5={},un={},j5,iR;function Wg(){if(iR)return j5;iR=1,j5=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},j5}var sR;function vl(){if(sR)return un;sR=1;var e=Wg(),t=Gu();un.inherits=t;function r(I,R){return(I.charCodeAt(R)&64512)!==55296||R<0||R+1>=I.length?!1:(I.charCodeAt(R+1)&64512)===56320}function n(I,R){if(Array.isArray(I))return I.slice();if(!I)return[];var S=[];if(typeof I=="string")if(R){if(R==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),E=0;E<I.length;E+=2)S.push(parseInt(I[E]+I[E+1],16))}else for(var j=0,E=0;E<I.length;E++){var k=I.charCodeAt(E);k<128?S[j++]=k:k<2048?(S[j++]=k>>6|192,S[j++]=k&63|128):r(I,E)?(k=65536+((k&1023)<<10)+(I.charCodeAt(++E)&1023),S[j++]=k>>18|240,S[j++]=k>>12&63|128,S[j++]=k>>6&63|128,S[j++]=k&63|128):(S[j++]=k>>12|224,S[j++]=k>>6&63|128,S[j++]=k&63|128)}else for(E=0;E<I.length;E++)S[E]=I[E]|0;return S}un.toArray=n;function i(I){for(var R="",S=0;S<I.length;S++)R+=a(I[S].toString(16));return R}un.toHex=i;function s(I){var R=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return R>>>0}un.htonl=s;function o(I,R){for(var S="",j=0;j<I.length;j++){var E=I[j];R==="little"&&(E=s(E)),S+=l(E.toString(16))}return S}un.toHex32=o;function a(I){return I.length===1?"0"+I:I}un.zero2=a;function l(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}un.zero8=l;function c(I,R,S,j){var E=S-R;e(E%4===0);for(var k=new Array(E/4),A=0,C=R;A<k.length;A++,C+=4){var D;j==="big"?D=I[C]<<24|I[C+1]<<16|I[C+2]<<8|I[C+3]:D=I[C+3]<<24|I[C+2]<<16|I[C+1]<<8|I[C],k[A]=D>>>0}return k}un.join32=c;function u(I,R){for(var S=new Array(I.length*4),j=0,E=0;j<I.length;j++,E+=4){var k=I[j];R==="big"?(S[E]=k>>>24,S[E+1]=k>>>16&255,S[E+2]=k>>>8&255,S[E+3]=k&255):(S[E+3]=k>>>24,S[E+2]=k>>>16&255,S[E+1]=k>>>8&255,S[E]=k&255)}return S}un.split32=u;function h(I,R){return I>>>R|I<<32-R}un.rotr32=h;function f(I,R){return I<<R|I>>>32-R}un.rotl32=f;function d(I,R){return I+R>>>0}un.sum32=d;function p(I,R,S){return I+R+S>>>0}un.sum32_3=p;function g(I,R,S,j){return I+R+S+j>>>0}un.sum32_4=g;function m(I,R,S,j,E){return I+R+S+j+E>>>0}un.sum32_5=m;function v(I,R,S,j){var E=I[R],k=I[R+1],A=j+k>>>0,C=(A<j?1:0)+S+E;I[R]=C>>>0,I[R+1]=A}un.sum64=v;function y(I,R,S,j){var E=R+j>>>0,k=(E<R?1:0)+I+S;return k>>>0}un.sum64_hi=y;function b(I,R,S,j){var E=R+j;return E>>>0}un.sum64_lo=b;function x(I,R,S,j,E,k,A,C){var D=0,z=R;z=z+j>>>0,D+=z<R?1:0,z=z+k>>>0,D+=z<k?1:0,z=z+C>>>0,D+=z<C?1:0;var P=I+S+E+A+D;return P>>>0}un.sum64_4_hi=x;function _(I,R,S,j,E,k,A,C){var D=R+j+k+C;return D>>>0}un.sum64_4_lo=_;function M(I,R,S,j,E,k,A,C,D,z){var P=0,K=R;K=K+j>>>0,P+=K<R?1:0,K=K+k>>>0,P+=K<k?1:0,K=K+C>>>0,P+=K<C?1:0,K=K+z>>>0,P+=K<z?1:0;var Z=I+S+E+A+D+P;return Z>>>0}un.sum64_5_hi=M;function U(I,R,S,j,E,k,A,C,D,z){var P=R+j+k+C+z;return P>>>0}un.sum64_5_lo=U;function L(I,R,S){var j=R<<32-S|I>>>S;return j>>>0}un.rotr64_hi=L;function O(I,R,S){var j=I<<32-S|R>>>S;return j>>>0}un.rotr64_lo=O;function H(I,R,S){return I>>>S}un.shr64_hi=H;function G(I,R,S){var j=I<<32-S|R>>>S;return j>>>0}return un.shr64_lo=G,un}var T5={},aR;function qg(){if(aR)return T5;aR=1;var e=vl(),t=Wg();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return T5.BlockHash=r,r.prototype.update=function(i,s){if(i=e.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,c=8;c<this.padLength;c++)a[l++]=0;return a},T5}var yd={},zo={},oR;function Jz(){if(oR)return zo;oR=1;var e=vl(),t=e.rotr32;function r(u,h,f,d){if(u===0)return n(h,f,d);if(u===1||u===3)return s(h,f,d);if(u===2)return i(h,f,d)}zo.ft_1=r;function n(u,h,f){return u&h^~u&f}zo.ch32=n;function i(u,h,f){return u&h^u&f^h&f}zo.maj32=i;function s(u,h,f){return u^h^f}zo.p32=s;function o(u){return t(u,2)^t(u,13)^t(u,22)}zo.s0_256=o;function a(u){return t(u,6)^t(u,11)^t(u,25)}zo.s1_256=a;function l(u){return t(u,7)^t(u,18)^u>>>3}zo.g0_256=l;function c(u){return t(u,17)^t(u,19)^u>>>10}return zo.g1_256=c,zo}var R5,lR;function Jfe(){if(lR)return R5;lR=1;var e=vl(),t=qg(),r=Jz(),n=e.rotl32,i=e.sum32,s=e.sum32_5,o=r.ft_1,a=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,a),R5=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,f){for(var d=this.W,p=0;p<16;p++)d[p]=h[f+p];for(;p<d.length;p++)d[p]=n(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);var g=this.h[0],m=this.h[1],v=this.h[2],y=this.h[3],b=this.h[4];for(p=0;p<d.length;p++){var x=~~(p/20),_=s(n(g,5),o(x,m,v,y),b,d[p],l[x]);b=y,y=v,v=n(m,30),m=g,g=_}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],m),this.h[2]=i(this.h[2],v),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],b)},c.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},R5}var P5,cR;function Qz(){if(cR)return P5;cR=1;var e=vl(),t=qg(),r=Jz(),n=Wg(),i=e.sum32,s=e.sum32_4,o=e.sum32_5,a=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,h=r.g0_256,f=r.g1_256,d=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(g,d),P5=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(v,y){for(var b=this.W,x=0;x<16;x++)b[x]=v[y+x];for(;x<b.length;x++)b[x]=s(f(b[x-2]),b[x-7],h(b[x-15]),b[x-16]);var _=this.h[0],M=this.h[1],U=this.h[2],L=this.h[3],O=this.h[4],H=this.h[5],G=this.h[6],I=this.h[7];for(n(this.k.length===b.length),x=0;x<b.length;x++){var R=o(I,u(O),a(O,H,G),this.k[x],b[x]),S=i(c(_),l(_,M,U));I=G,G=H,H=O,O=i(L,R),L=U,U=M,M=_,_=i(R,S)}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],M),this.h[2]=i(this.h[2],U),this.h[3]=i(this.h[3],L),this.h[4]=i(this.h[4],O),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],G),this.h[7]=i(this.h[7],I)},g.prototype._digest=function(v){return v==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},P5}var O5,uR;function Qfe(){if(uR)return O5;uR=1;var e=vl(),t=Qz();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),O5=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},O5}var I5,dR;function eU(){if(dR)return I5;dR=1;var e=vl(),t=qg(),r=Wg(),n=e.rotr64_hi,i=e.rotr64_lo,s=e.shr64_hi,o=e.shr64_lo,a=e.sum64,l=e.sum64_hi,c=e.sum64_lo,u=e.sum64_4_hi,h=e.sum64_4_lo,f=e.sum64_5_hi,d=e.sum64_5_lo,p=t.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}e.inherits(m,p),I5=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(S,j){for(var E=this.W,k=0;k<32;k++)E[k]=S[j+k];for(;k<E.length;k+=2){var A=G(E[k-4],E[k-3]),C=I(E[k-4],E[k-3]),D=E[k-14],z=E[k-13],P=O(E[k-30],E[k-29]),K=H(E[k-30],E[k-29]),Z=E[k-32],te=E[k-31];E[k]=u(A,C,D,z,P,K,Z,te),E[k+1]=h(A,C,D,z,P,K,Z,te)}},m.prototype._update=function(S,j){this._prepareBlock(S,j);var E=this.W,k=this.h[0],A=this.h[1],C=this.h[2],D=this.h[3],z=this.h[4],P=this.h[5],K=this.h[6],Z=this.h[7],te=this.h[8],q=this.h[9],$=this.h[10],N=this.h[11],T=this.h[12],V=this.h[13],J=this.h[14],re=this.h[15];r(this.k.length===E.length);for(var se=0;se<E.length;se+=2){var B=J,ne=re,ee=U(te,q),F=L(te,q),W=v(te,q,$,N,T),Y=y(te,q,$,N,T,V),ae=this.k[se],ce=this.k[se+1],le=E[se],de=E[se+1],me=f(B,ne,ee,F,W,Y,ae,ce,le,de),ge=d(B,ne,ee,F,W,Y,ae,ce,le,de);B=_(k,A),ne=M(k,A),ee=b(k,A,C,D,z),F=x(k,A,C,D,z,P);var ke=l(B,ne,ee,F),Re=c(B,ne,ee,F);J=T,re=V,T=$,V=N,$=te,N=q,te=l(K,Z,me,ge),q=c(Z,Z,me,ge),K=z,Z=P,z=C,P=D,C=k,D=A,k=l(me,ge,ke,Re),A=c(me,ge,ke,Re)}a(this.h,0,k,A),a(this.h,2,C,D),a(this.h,4,z,P),a(this.h,6,K,Z),a(this.h,8,te,q),a(this.h,10,$,N),a(this.h,12,T,V),a(this.h,14,J,re)},m.prototype._digest=function(S){return S==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function v(R,S,j,E,k){var A=R&j^~R&k;return A<0&&(A+=4294967296),A}function y(R,S,j,E,k,A){var C=S&E^~S&A;return C<0&&(C+=4294967296),C}function b(R,S,j,E,k){var A=R&j^R&k^j&k;return A<0&&(A+=4294967296),A}function x(R,S,j,E,k,A){var C=S&E^S&A^E&A;return C<0&&(C+=4294967296),C}function _(R,S){var j=n(R,S,28),E=n(S,R,2),k=n(S,R,7),A=j^E^k;return A<0&&(A+=4294967296),A}function M(R,S){var j=i(R,S,28),E=i(S,R,2),k=i(S,R,7),A=j^E^k;return A<0&&(A+=4294967296),A}function U(R,S){var j=n(R,S,14),E=n(R,S,18),k=n(S,R,9),A=j^E^k;return A<0&&(A+=4294967296),A}function L(R,S){var j=i(R,S,14),E=i(R,S,18),k=i(S,R,9),A=j^E^k;return A<0&&(A+=4294967296),A}function O(R,S){var j=n(R,S,1),E=n(R,S,8),k=s(R,S,7),A=j^E^k;return A<0&&(A+=4294967296),A}function H(R,S){var j=i(R,S,1),E=i(R,S,8),k=o(R,S,7),A=j^E^k;return A<0&&(A+=4294967296),A}function G(R,S){var j=n(R,S,19),E=n(S,R,29),k=s(R,S,6),A=j^E^k;return A<0&&(A+=4294967296),A}function I(R,S){var j=i(R,S,19),E=i(S,R,29),k=o(R,S,6),A=j^E^k;return A<0&&(A+=4294967296),A}return I5}var M5,hR;function epe(){if(hR)return M5;hR=1;var e=vl(),t=eU();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),M5=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},M5}var fR;function tpe(){return fR||(fR=1,yd.sha1=Jfe(),yd.sha224=Qfe(),yd.sha256=Qz(),yd.sha384=epe(),yd.sha512=eU()),yd}var L5={},pR;function rpe(){if(pR)return L5;pR=1;var e=vl(),t=qg(),r=e.rotl32,n=e.sum32,i=e.sum32_3,s=e.sum32_4,o=t.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(a,o),L5.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(m,v){for(var y=this.h[0],b=this.h[1],x=this.h[2],_=this.h[3],M=this.h[4],U=y,L=b,O=x,H=_,G=M,I=0;I<80;I++){var R=n(r(s(y,l(I,b,x,_),m[h[I]+v],c(I)),d[I]),M);y=M,M=_,_=r(x,10),x=b,b=R,R=n(r(s(U,l(79-I,L,O,H),m[f[I]+v],u(I)),p[I]),G),U=G,G=H,H=r(O,10),O=L,L=R}R=i(this.h[1],x,H),this.h[1]=i(this.h[2],_,G),this.h[2]=i(this.h[3],M,U),this.h[3]=i(this.h[4],y,L),this.h[4]=i(this.h[0],b,O),this.h[0]=R},a.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function l(g,m,v,y){return g<=15?m^v^y:g<=31?m&v|~m&y:g<=47?(m|~v)^y:g<=63?m&y|v&~y:m^(v|~y)}function c(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return L5}var D5,mR;function npe(){if(mR)return D5;mR=1;var e=vl(),t=Wg();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,s))}return D5=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},D5}var gR;function ipe(){return gR||(gR=1,function(e){var t=e;t.utils=vl(),t.common=qg(),t.sha=tpe(),t.ripemd=rpe(),t.hmac=npe(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(C5)),C5}ipe();let spe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ape=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},ope=(e=21)=>{let t="",r=e|0;for(;r--;)t+=spe[Math.random()*64|0];return t};const co=e=>Math.floor(e*72*20),TE=(e=0)=>{let t=e;return()=>++t},lpe=()=>TE(),cpe=()=>TE(1),upe=()=>TE(),dpe=()=>ope().toLowerCase(),Em=e=>ape("1234567890abcdef",e)(),hpe=()=>`${Em(8)}-${Em(4)}-${Em(4)}-${Em(4)}-${Em(12)}`;class fpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class ppe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const mpe={EXTERNAL:"External"};class gpe extends lt{constructor(t,r,n,i){super("Relationship"),this.root.push(new ppe({id:t,type:r,target:n,targetMode:i}))}}class Sh extends lt{constructor(){super("Relationships"),this.root.push(new fpe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const s=new gpe(`rId${t}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class vpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class ype extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class bpe extends lt{constructor({id:t,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new vpe({id:t,initials:r,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class wpe extends lt{constructor({children:t}){super("w:comments"),tt(this,"relationships"),this.root.push(new ype({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new bpe(r));this.relationships=new Sh}get Relationships(){return this.relationships}}class xpe extends lt{constructor(){super("w:pageBreakBefore")}}const i6={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class _pe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Spe extends lt{constructor(t){super("w:spacing"),this.root.push(new _pe(t))}}const vR={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Tv=class extends lt{constructor(t){super("w:pStyle"),this.root.push(new fi({val:t}))}};class Epe extends lt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new Npe(r))}}const yR={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class kpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Npe extends lt{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new kpe({val:t,pos:r,leader:n}))}}class B5 extends lt{constructor(t,r){super("w:numPr"),this.root.push(new Ape(r)),this.root.push(new Cpe(t))}}class Ape extends lt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new fi({val:t}))}}class Cpe extends lt{constructor(t){super("w:numId"),this.root.push(new fi({val:typeof t=="string"?`{${t}}`:t}))}}class jpe extends lt{constructor(){super(...arguments),tt(this,"fileChild",Symbol())}}class Tpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Rpe extends lt{constructor(t,r,n){super("w:hyperlink"),tt(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Tpe(i);this.root.push(s),t.forEach(o=>{this.root.push(o)})}}class Ppe extends lt{constructor(t){super("w:externalHyperlink"),this.options=t}}class Ope extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Ipe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id"})}}class Mpe{constructor(t){tt(this,"bookmarkUniqueNumericId",upe()),tt(this,"start"),tt(this,"children"),tt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new Lpe(t.id,r),this.children=t.children,this.end=new Dpe(r)}}class Lpe extends lt{constructor(t,r){super("w:bookmarkStart");const n=new Ope({name:t,id:r});this.root.push(n)}}class Dpe extends lt{constructor(t){super("w:bookmarkEnd");const r=new Ipe({id:t});this.root.push(r)}}class Bpe extends lt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new fi({val:t}))}}const Fpe={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Jf(Vr({},Fpe),{BOTH:"both"});class zpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{verticalAlign:"w:val"})}}class Upe extends lt{constructor(t){super("w:vAlign"),this.root.push(new zpe({verticalAlign:t}))}}class $pe extends lt{constructor({space:t,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new H2({space:{key:"w:space",value:t===void 0?void 0:go(t)},count:{key:"w:num",value:r===void 0?void 0:Qs(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const Hpe=({type:e,linePitch:t,charSpace:r})=>new ul({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Qs(t)},charSpace:{key:"w:charSpace",value:r?Qs(r):void 0}}}),Cf={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Wpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const bR={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class F5 extends lt{constructor(t,r){super(t),this.root.push(new Wpe({type:r.type||Cf.DEFAULT,id:`rId${r.id}`}))}}const qpe=({countBy:e,start:t,restart:r,distance:n})=>new ul({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Qs(e)},start:{key:"w:start",value:t===void 0?void 0:Qs(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:go(n)}}});class wR extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Vpe extends $2{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new wR({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new wR({})),t.pageBorderTop&&this.root.push(new Vn("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Vn("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Vn("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Vn("w:right",t.pageBorderRight))}}class Gpe extends lt{constructor(t,r,n,i,s,o,a){super("w:pgMar"),this.root.push(new H2({top:{key:"w:top",value:Bd(t)},right:{key:"w:right",value:go(r)},bottom:{key:"w:bottom",value:Bd(n)},left:{key:"w:left",value:go(i)},header:{key:"w:header",value:go(s)},footer:{key:"w:footer",value:go(o)},gutter:{key:"w:gutter",value:go(a)}}))}}class Kpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Xpe extends lt{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new Kpe({start:t===void 0?void 0:Qs(t),formatType:r,separator:n}))}}const s6={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Zpe=({width:e,height:t,orientation:r,code:n})=>{const i=go(e),s=go(t);return new ul({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===s6.LANDSCAPE?s:i},height:{key:"w:h",value:r===s6.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Ype extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Jpe extends lt{constructor(t){super("w:textDirection"),this.root.push(new Ype({val:t}))}}class Qpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class eme extends lt{constructor(t){super("w:type"),this.root.push(new Qpe({val:t}))}}const bd={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},z5={WIDTH:11906,HEIGHT:16838,ORIENTATION:s6.PORTRAIT};class tme extends lt{constructor({page:{size:{width:t=z5.WIDTH,height:r=z5.HEIGHT,orientation:n=z5.ORIENTATION}={},margin:{top:i=bd.TOP,right:s=bd.RIGHT,bottom:o=bd.BOTTOM,left:a=bd.LEFT,header:l=bd.HEADER,footer:c=bd.FOOTER,gutter:u=bd.GUTTER}={},pageNumbers:h={},borders:f,textDirection:d}={},grid:{linePitch:p=360,charSpace:g,type:m}={},headerWrapperGroup:v={},footerWrapperGroup:y={},lineNumbers:b,titlePage:x,verticalAlign:_,column:M,type:U}={}){super("w:sectPr"),this.addHeaderFooterGroup(bR.HEADER,v),this.addHeaderFooterGroup(bR.FOOTER,y),U&&this.root.push(new eme(U)),this.root.push(Zpe({width:t,height:r,orientation:n})),this.root.push(new Gpe(i,s,o,a,l,c,u)),f&&this.root.push(new Vpe(f)),b&&this.root.push(qpe(b)),this.root.push(new Xpe(h)),M&&this.root.push(new $pe(M)),_&&this.root.push(new Upe(_)),x!==void 0&&this.root.push(new ut("w:titlePg",x)),d&&this.root.push(new Jpe(d)),this.root.push(Hpe({linePitch:p,charSpace:g,type:m}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new F5(t,{type:Cf.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new F5(t,{type:Cf.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new F5(t,{type:Cf.EVEN,id:r.even.View.ReferenceId}))}}class rme extends lt{constructor(){super("w:body"),tt(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new tme(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Ul({}),n=new np({});return n.push(t),r.addChildElement(n),r}}const xR={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class K2 extends ur{constructor(t,r){super(Vr({Ignorable:r},Object.fromEntries(t.map(n=>[n,xR[n]])))),tt(this,"xmlKeys",Vr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(xR).map(n=>[n,`xmlns:${n}`]))))}}class nme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class ime extends lt{constructor(t){super("w:background"),this.root.push(new nme({color:t.color===void 0?void 0:ep(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:eR(t.themeShade),themeTint:t.themeTint===void 0?void 0:eR(t.themeTint)}))}}class sme extends lt{constructor(t){super("w:document"),tt(this,"body"),this.root.push(new K2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new rme,t.background&&this.root.push(new ime(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class tU{constructor(t){tt(this,"document"),tt(this,"relationships"),this.document=new sme(t),this.relationships=new Sh}get View(){return this.document}get Relationships(){return this.relationships}}class ame extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class ome extends lt{constructor(){super("w:wordWrap"),this.root.push(new ame({val:0}))}}const lme=e=>{var t,r;return new ul({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class np extends $2{constructor(t){var r,n;if(super("w:pPr"),tt(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Tv(t.heading)),t.bullet&&this.push(new Tv("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Tv("ListParagraph"))),t.style&&this.push(new Tv(t.style)),t.keepNext!==void 0&&this.push(new ut("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new ut("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new xpe),t.frame&&this.push(lme(t.frame)),t.widowControl!==void 0&&this.push(new ut("w:widowControl",t.widowControl)),t.bullet&&this.push(new B5(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new B5(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new B5(0,0)),t.border&&this.push(new Tfe(t.border)),t.thematicBreak&&this.push(new Rfe),t.shading&&this.push(new Xz(t.shading)),t.wordWrap&&this.push(new ome),t.overflowPunctuation&&this.push(new ut("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:yR.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:yR.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new Epe(i)),t.bidirectional!==void 0&&this.push(new ut("w:bidi",t.bidirectional)),t.spacing&&this.push(new Spe(t.spacing)),t.indent&&this.push(new Pfe(t.indent)),t.contextualSpacing!==void 0&&this.push(new ut("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new Cfe(t.alignment)),t.outlineLevel!==void 0&&this.push(new Bpe(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new ut("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new ut("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new _h(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof tU)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Ul extends jpe{constructor(t){if(super("w:p"),tt(this,"properties"),typeof t=="string")return this.properties=new np({}),this.root.push(this.properties),this.root.push(new nR(t)),this;if(this.properties=new np(t),this.root.push(this.properties),t.text&&this.root.push(new nR(t.text)),t.children)for(const r of t.children){if(r instanceof Mpe){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof Ppe){const n=this.root.indexOf(r),i=new Rpe(r.options.children,dpe());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,mpe.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Yh={style:AE.NONE,size:0,color:"auto"},Jh={style:AE.SINGLE,size:4,color:"auto"};class cme extends lt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Vn("w:top",t.top)):this.root.push(new Vn("w:top",Jh)),t.left?this.root.push(new Vn("w:left",t.left)):this.root.push(new Vn("w:left",Jh)),t.bottom?this.root.push(new Vn("w:bottom",t.bottom)):this.root.push(new Vn("w:bottom",Jh)),t.right?this.root.push(new Vn("w:right",t.right)):this.root.push(new Vn("w:right",Jh)),t.insideHorizontal?this.root.push(new Vn("w:insideH",t.insideHorizontal)):this.root.push(new Vn("w:insideH",Jh)),t.insideVertical?this.root.push(new Vn("w:insideV",t.insideVertical)):this.root.push(new Vn("w:insideV",Jh))}}tt(cme,"NONE",{top:Yh,bottom:Yh,left:Yh,right:Yh,insideHorizontal:Yh,insideVertical:Yh});class ume extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class dme extends lt{constructor(){super("Properties"),this.root.push(new ume({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class hme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class fme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Pl extends lt{constructor(t,r){super("Default"),this.root.push(new fme({contentType:t,extension:r}))}}class pme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ia extends lt{constructor(t,r){super("Override"),this.root.push(new pme({contentType:t,partName:r}))}}class mme extends lt{constructor(){super("Types"),this.root.push(new hme({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Pl("image/png","png")),this.root.push(new Pl("image/jpeg","jpeg")),this.root.push(new Pl("image/jpeg","jpg")),this.root.push(new Pl("image/bmp","bmp")),this.root.push(new Pl("image/gif","gif")),this.root.push(new Pl("image/svg+xml","svg")),this.root.push(new Pl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Pl("application/xml","xml")),this.root.push(new Pl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ia("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Ia("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class gme extends lt{constructor(t){super("cp:coreProperties"),this.root.push(new K2(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new vd("dc:title",t.title)),t.subject&&this.root.push(new vd("dc:subject",t.subject)),t.creator&&this.root.push(new vd("dc:creator",t.creator)),t.keywords&&this.root.push(new vd("cp:keywords",t.keywords)),t.description&&this.root.push(new vd("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new vd("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new vd("cp:revision",String(t.revision))),this.root.push(new _R("dcterms:created")),this.root.push(new _R("dcterms:modified"))}}class vme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"xsi:type"})}}class _R extends lt{constructor(t){super(t),this.root.push(new vme({type:"dcterms:W3CDTF"})),this.root.push(Nfe(new Date))}}class yme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class bme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class wme extends lt{constructor(t,r){super("property"),this.root.push(new bme({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new xme(r.value))}}class xme extends lt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class _me extends lt{constructor(t){super("Properties"),tt(this,"nextId"),tt(this,"properties",[]),this.root.push(new yme({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new wme(this.nextId++,t))}}const Rv=({id:e,fontKey:t,subsetted:r},n)=>new ul({name:n,attributes:Vr({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new ut("w:subsetted",r)]:[]]}),Sme=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:h})=>new ul({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Sm("w:altName",t)]:[],...r?[Sm("w:panose1",r)]:[],...n?[Sm("w:charset",n)]:[],Sm("w:family",i),...s?[new ut("w:notTrueType",s)]:[],Sm("w:pitch",o),...a?[new ul({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[Rv(l,"w:embedRegular")]:[],...c?[Rv(c,"w:embedBold")]:[],...u?[Rv(u,"w:embedItalic")]:[],...h?[Rv(h,"w:embedBoldItalic")]:[]]}),Eme=({name:e,index:t,fontKey:r,characterSet:n})=>Sme({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),kme=e=>new ul({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>Eme({name:t.name,index:r+1,fontKey:t.fontKey}))});class Nme{constructor(t){tt(this,"fontTable"),tt(this,"relationships"),tt(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>Jf(Vr({},r),{fontKey:hpe()})),this.fontTable=kme(this.fontOptionsWithKey),this.relationships=new Sh;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Ame extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Cme=class extends qz{constructor(t,r){super("w:ftr",r),tt(this,"refId"),this.refId=t,r||this.root.push(new Ame({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class jme{constructor(t,r,n){tt(this,"footer"),tt(this,"relationships"),this.media=t,this.footer=new Cme(r,n),this.relationships=new Sh}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Tme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Rme extends lt{constructor(){super("w:footnoteRef")}}class Pme extends G2{constructor(){super({style:"FootnoteReference"}),this.root.push(new Rme)}}const SR={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class U5 extends lt{constructor(t){super("w:footnote"),this.root.push(new Tme({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new Pme),this.root.push(n)}}}class Ome extends lt{constructor(){super("w:continuationSeparator")}}class Ime extends G2{constructor(){super({}),this.root.push(new Ome)}}class Mme extends lt{constructor(){super("w:separator")}}class Lme extends G2{constructor(){super({}),this.root.push(new Mme)}}class Dme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Bme extends lt{constructor(){super("w:footnotes"),this.root.push(new Dme({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new U5({id:-1,type:SR.SEPERATOR,children:[new Ul({spacing:{after:0,line:240,lineRule:i6.AUTO},children:[new Lme]})]});this.root.push(t);const r=new U5({id:0,type:SR.CONTINUATION_SEPERATOR,children:[new Ul({spacing:{after:0,line:240,lineRule:i6.AUTO},children:[new Ime]})]});this.root.push(r)}createFootNote(t,r){const n=new U5({id:t,children:r});this.root.push(n)}}class Fme{constructor(){tt(this,"footnotess"),tt(this,"relationships"),this.footnotess=new Bme,this.relationships=new Sh}get View(){return this.footnotess}get Relationships(){return this.relationships}}class zme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Ume=class extends qz{constructor(t,r){super("w:hdr",r),tt(this,"refId"),this.refId=t,r||this.root.push(new zme({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class $me{constructor(t,r,n){tt(this,"header"),tt(this,"relationships"),this.media=t,this.header=new Ume(r,n),this.relationships=new Sh}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Hme{constructor(){tt(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const Ol={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class Wme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class qme extends lt{constructor(t){super("w:numFmt"),this.root.push(new fi({val:t}))}}class Vme extends lt{constructor(t){super("w:lvlText"),this.root.push(new fi({val:t}))}}class Gme extends lt{constructor(t){super("w:lvlJc"),this.root.push(new fi({val:t}))}}class Kme extends lt{constructor(t){super("w:suff"),this.root.push(new fi({val:t}))}}class Xme extends lt{constructor(){super("w:isLgl")}}class Zme extends lt{constructor({level:t,format:r,text:n,alignment:i=pa.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.root.push(new l0("w:start",Qs(s))),r&&this.root.push(new qme(r)),a&&this.root.push(new Kme(a)),l&&this.root.push(new Xme),n&&this.root.push(new Vme(n)),this.root.push(new Gme(i)),this.paragraphProperties=new np(o&&o.paragraph),this.runProperties=new _h(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Wme({ilvl:Qs(t),tentative:1}))}}class Yme extends Zme{}class Jme extends lt{constructor(t){super("w:multiLevelType"),this.root.push(new fi({val:t}))}}class Qme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class ER extends lt{constructor(t,r){super("w:abstractNum"),tt(this,"id"),this.root.push(new Qme({abstractNumId:Qs(t),restartNumberingAfterBreak:0})),this.root.push(new Jme("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new Yme(n))}}class e0e extends lt{constructor(t){super("w:abstractNumId"),this.root.push(new fi({val:t}))}}class t0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{numId:"w:numId"})}}class kR extends lt{constructor(t){if(super("w:num"),tt(this,"numId"),tt(this,"reference"),tt(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new t0e({numId:Qs(t.numId)})),this.root.push(new e0e(Qs(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new n0e(r.num,r.start))}}class r0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class n0e extends lt{constructor(t,r){super("w:lvlOverride"),this.root.push(new r0e({ilvl:t})),r!==void 0&&this.root.push(new s0e(r))}}class i0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class s0e extends lt{constructor(t){super("w:startOverride"),this.root.push(new i0e({val:t}))}}class a0e extends lt{constructor(t){super("w:numbering"),tt(this,"abstractNumberingMap",new Map),tt(this,"concreteNumberingMap",new Map),tt(this,"referenceConfigMap",new Map),tt(this,"abstractNumUniqueNumericId",lpe()),tt(this,"concreteNumUniqueNumericId",cpe()),this.root.push(new K2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new ER(this.abstractNumUniqueNumericId(),[{level:0,format:Ol.BULLET,text:"●",alignment:pa.LEFT,style:{paragraph:{indent:{left:co(.5),hanging:co(.25)}}}},{level:1,format:Ol.BULLET,text:"○",alignment:pa.LEFT,style:{paragraph:{indent:{left:co(1),hanging:co(.25)}}}},{level:2,format:Ol.BULLET,text:"■",alignment:pa.LEFT,style:{paragraph:{indent:{left:2160,hanging:co(.25)}}}},{level:3,format:Ol.BULLET,text:"●",alignment:pa.LEFT,style:{paragraph:{indent:{left:2880,hanging:co(.25)}}}},{level:4,format:Ol.BULLET,text:"○",alignment:pa.LEFT,style:{paragraph:{indent:{left:3600,hanging:co(.25)}}}},{level:5,format:Ol.BULLET,text:"■",alignment:pa.LEFT,style:{paragraph:{indent:{left:4320,hanging:co(.25)}}}},{level:6,format:Ol.BULLET,text:"●",alignment:pa.LEFT,style:{paragraph:{indent:{left:5040,hanging:co(.25)}}}},{level:7,format:Ol.BULLET,text:"●",alignment:pa.LEFT,style:{paragraph:{indent:{left:5760,hanging:co(.25)}}}},{level:8,format:Ol.BULLET,text:"●",alignment:pa.LEFT,style:{paragraph:{indent:{left:6480,hanging:co(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new kR({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new ER(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(t),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new kR(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class o0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class l0e extends lt{constructor(t){super("w:compatSetting"),this.root.push(new o0e({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class c0e extends lt{constructor(t){super("w:compat"),t.version&&this.root.push(new l0e(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new ut("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new ut("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new ut("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new ut("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new ut("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new ut("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new ut("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new ut("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new ut("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new ut("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new ut("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new ut("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new ut("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new ut("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new ut("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new ut("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new ut("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new ut("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new ut("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new ut("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new ut("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new ut("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new ut("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new ut("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new ut("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new ut("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new ut("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new ut("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new ut("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new ut("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new ut("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new ut("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new ut("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new ut("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new ut("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new ut("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new ut("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ut("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new ut("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new ut("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new ut("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new ut("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new ut("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new ut("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new ut("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new ut("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new ut("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new ut("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new ut("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new ut("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new ut("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new ut("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new ut("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new ut("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new ut("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new ut("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new ut("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new ut("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new ut("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new ut("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new ut("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new ut("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ut("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new ut("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new ut("w:cachedColBalance",t.cachedColumnBalance))}}class u0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class d0e extends lt{constructor(t){var r,n,i,s,o,a,l,c;super("w:settings"),this.root.push(new u0e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ut("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new ut("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new ut("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new ut("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new l0("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new ut("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new l0("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new l0("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((s=t.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new ut("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new c0e(Jf(Vr({},(o=t.compatibility)!=null?o:{}),{version:(c=(l=(a=t.compatibility)==null?void 0:a.version)!=null?l:t.compatibilityModeVersion)!=null?c:15})))}}class rU extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class h0e extends lt{constructor(t){super("w:name"),this.root.push(new rU({val:t}))}}class f0e extends lt{constructor(t){super("w:uiPriority"),this.root.push(new rU({val:Qs(t)}))}}class p0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class nU extends lt{constructor(t,r){super("w:style"),this.root.push(new p0e(t)),r.name&&this.root.push(new h0e(r.name)),r.basedOn&&this.root.push(new Af("w:basedOn",r.basedOn)),r.next&&this.root.push(new Af("w:next",r.next)),r.link&&this.root.push(new Af("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new f0e(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ut("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ut("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ut("w:qFormat",r.quickFormat))}}class X2 extends nU{constructor(t){super({type:"paragraph",styleId:t.id},t),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.paragraphProperties=new np(t.paragraph),this.runProperties=new _h(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Z2 extends nU{constructor(t){super({type:"character",styleId:t.id},Vr({uiPriority:99,unhideWhenUsed:!0},t)),tt(this,"runProperties"),this.runProperties=new _h(t.run),this.root.push(this.runProperties)}}class Ku extends X2{constructor(t){super(Vr({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class m0e extends Ku{constructor(t){super(Vr({id:"Title",name:"Title"},t))}}class g0e extends Ku{constructor(t){super(Vr({id:"Heading1",name:"Heading 1"},t))}}class v0e extends Ku{constructor(t){super(Vr({id:"Heading2",name:"Heading 2"},t))}}class y0e extends Ku{constructor(t){super(Vr({id:"Heading3",name:"Heading 3"},t))}}class b0e extends Ku{constructor(t){super(Vr({id:"Heading4",name:"Heading 4"},t))}}class w0e extends Ku{constructor(t){super(Vr({id:"Heading5",name:"Heading 5"},t))}}class x0e extends Ku{constructor(t){super(Vr({id:"Heading6",name:"Heading 6"},t))}}class _0e extends Ku{constructor(t){super(Vr({id:"Strong",name:"Strong"},t))}}class S0e extends X2{constructor(t){super(Vr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class E0e extends X2{constructor(t){super(Vr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:i6.AUTO}},run:{size:20}},t))}}class k0e extends Z2{constructor(t){super(Vr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class N0e extends Z2{constructor(t){super(Vr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class A0e extends Z2{constructor(t){super(Vr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Yz.SINGLE}}},t))}}class a6 extends lt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new X2(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new Z2(r))}}class C0e extends lt{constructor(t){super("w:pPrDefault"),this.root.push(new np(t))}}class j0e extends lt{constructor(t){super("w:rPrDefault"),this.root.push(new _h(t))}}class T0e extends lt{constructor(t){super("w:docDefaults"),tt(this,"runPropertiesDefaults"),tt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new j0e(t.run),this.paragraphPropertiesDefaults=new C0e(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class R0e{newInstance(t){const r=Wz.xml2js(t,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new a6({initialStyles:new _fe(n.attributes),importedStyles:i.map(o=>NE(o))})}}class NR{newInstance(t={}){var r;return{initialStyles:new K2(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new T0e((r=t.document)!=null?r:{}),new m0e(Vr({run:{size:56}},t.title)),new g0e(Vr({run:{color:"2E74B5",size:32}},t.heading1)),new v0e(Vr({run:{color:"2E74B5",size:26}},t.heading2)),new y0e(Vr({run:{color:"1F4D78",size:24}},t.heading3)),new b0e(Vr({run:{color:"2E74B5",italics:!0}},t.heading4)),new w0e(Vr({run:{color:"2E74B5"}},t.heading5)),new x0e(Vr({run:{color:"1F4D78"}},t.heading6)),new _0e(Vr({run:{bold:!0}},t.strong)),new S0e(t.listParagraph||{}),new A0e(t.hyperlink||{}),new k0e(t.footnoteReference||{}),new E0e(t.footnoteText||{}),new N0e(t.footnoteTextChar||{})]}}}class P0e{constructor(t){tt(this,"currentRelationshipId",1),tt(this,"documentWrapper"),tt(this,"headers",[]),tt(this,"footers",[]),tt(this,"coreProperties"),tt(this,"numbering"),tt(this,"media"),tt(this,"fileRelationships"),tt(this,"footnotesWrapper"),tt(this,"settings"),tt(this,"contentTypes"),tt(this,"customProperties"),tt(this,"appProperties"),tt(this,"styles"),tt(this,"comments"),tt(this,"fontWrapper");var r,n,i,s,o,a,l,c,u,h,f,d;if(this.coreProperties=new gme(Jf(Vr({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new a0e(t.numbering?t.numbering:{config:[]}),this.comments=new wpe((s=t.comments)!=null?s:{children:[]}),this.fileRelationships=new Sh,this.customProperties=new _me((o=t.customProperties)!=null?o:[]),this.appProperties=new dme,this.footnotesWrapper=new Fme,this.contentTypes=new mme,this.documentWrapper=new tU({background:t.background}),this.settings=new d0e({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(a=t.features)==null?void 0:a.trackRevisions,updateFields:(l=t.features)==null?void 0:l.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(c=t.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(u=t.hyphenation)==null?void 0:u.hyphenationZone,consecutiveHyphenLimit:(h=t.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(f=t.hyphenation)==null?void 0:f.doNotHyphenateCaps}}),this.media=new Hme,t.externalStyles!==void 0){const p=new R0e;this.styles=p.newInstance(t.externalStyles)}else if(t.styles){const g=new NR().newInstance(t.styles.default);this.styles=new a6(Vr(Vr({},g),t.styles))}else{const p=new NR;this.styles=new a6(p.newInstance())}this.addDefaultRelationships();for(const p of t.sections)this.addSection(p);if(t.footnotes)for(const p in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(p),t.footnotes[p].children);this.fontWrapper=new Nme((d=t.fonts)!=null?d:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Jf(Vr({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(t){const r=new $me(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new jme(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Cf.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Cf.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var O0e=SE();function Pv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $5={exports:{}},AR;function I0e(){return AR||(AR=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof Pv=="function"&&Pv;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){var g=n[c][1][p];return o(g||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof Pv=="function"&&Pv,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,f,d,p,g,m=[],v=0,y=l.length,b=y,x=s.getTypeOf(l)!=="string";v<l.length;)b=y-v,h=x?(c=l[v++],u=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),u=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=c>>2,d=(3&c)<<4|u>>4,p=1<b?(15&u)<<2|h>>6:64,g=2<b?63&h:64,m.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return m.join("")},i.decode=function(l){var c,u,h,f,d,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|b):new Array(0|b);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,u=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),y[m++]=c,d!==64&&(y[m++]=u),p!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,f,d,p){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u[g])];return-1^c}(0|l,a,a.length,0):function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function o(d,p,g,m,v,y){var b,x,_=d.file,M=d.compression,U=y!==c.utf8encode,L=a.transformTo("string",y(_.name)),O=a.transformTo("string",c.utf8encode(_.name)),H=_.comment,G=a.transformTo("string",y(H)),I=a.transformTo("string",c.utf8encode(H)),R=O.length!==_.name.length,S=I.length!==H.length,j="",E="",k="",A=_.dir,C=_.date,D={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(D.crc32=d.crc32,D.compressedSize=d.compressedSize,D.uncompressedSize=d.uncompressedSize);var z=0;p&&(z|=8),U||!R&&!S||(z|=2048);var P=0,K=0;A&&(P|=16),v==="UNIX"?(K=798,P|=function(te,q){var $=te;return te||($=q?16893:33204),(65535&$)<<16}(_.unixPermissions,A)):(K=20,P|=function(te){return 63&(te||0)}(_.dosPermissions)),b=C.getUTCHours(),b<<=6,b|=C.getUTCMinutes(),b<<=5,b|=C.getUTCSeconds()/2,x=C.getUTCFullYear()-1980,x<<=4,x|=C.getUTCMonth()+1,x<<=5,x|=C.getUTCDate(),R&&(E=s(1,1)+s(u(L),4)+O,j+="up"+s(E.length,2)+E),S&&(k=s(1,1)+s(u(G),4)+I,j+="uc"+s(k.length,2)+k);var Z="";return Z+=`
\0`,Z+=s(z,2),Z+=M.magic,Z+=s(b,2),Z+=s(x,2),Z+=s(D.crc32,4),Z+=s(D.compressedSize,4),Z+=s(D.uncompressedSize,4),Z+=s(L.length,2),Z+=s(j.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Z+L+j,dirRecord:h.CENTRAL_FILE_HEADER+s(K,2)+Z+s(G.length,2)+"\0\0\0\0"+s(P,4)+s(m,4)+L+j+G}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function f(d,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return h.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,m=function(v,y,b,x,_){var M=a.transformTo("string",_(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(y,4)+s(b,4)+s(M.length,2)+M}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,d){h++;var p=function(y,b){var x=y||b,_=s[x];if(!_)throw new Error(x+" is not a valid compression method !");return _}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:m,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new l(d);return m.load(g),m}).then(function(g){var m=[o.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var y=0;y<v.length;y++)m.push(h(v[y]));return o.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,y=0;y<v.length;y++){var b=v[y],x=b.fileNameStr,_=s.resolve(b.fileNameStr);p.file(_,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:d.createFolders}),b.dir||(p.file(_).unsafeOriginalName=x)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(_,M,U){var L,O=a.getTypeOf(M),H=a.extend(U||{},u);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(_=v(_)),H.createFolders&&(L=m(_))&&y.call(this,L,!0);var G=O==="string"&&H.binary===!1&&H.base64===!1;U&&U.binary!==void 0||(H.binary=!G),(M instanceof h&&M.uncompressedSize===0||H.dir||!M||M.length===0)&&(H.base64=!1,H.binary=!0,M="",H.compression="STORE",O="string");var I=null;I=M instanceof h||M instanceof l?M:p.isNode&&p.isStream(M)?new g(_,M):a.prepareContent(_,M,H.binary,H.optimizedBinaryString,H.base64);var R=new f(_,I,H);this.files[_]=R}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),m=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var M=_.lastIndexOf("/");return 0<M?_.substring(0,M):""},v=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,M){return M=M!==void 0?M:u.createFolders,_=v(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:M}),this.files[_]};function b(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var M,U,L;for(M in this.files)L=this.files[M],(U=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&_(U,L)},filter:function(_){var M=[];return this.forEach(function(U,L){_(U,L)&&M.push(L)}),M},file:function(_,M,U){if(arguments.length!==1)return _=this.root+_,s.call(this,_,M,U),this;if(b(_)){var L=_;return this.filter(function(H,G){return!G.dir&&L.test(H)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(b(_))return this.filter(function(O,H){return H.dir&&_.test(O)});var M=this.root+_,U=y.call(this,M),L=this.clone();return L.root=U.name,L},remove:function(_){_=this.root+_;var M=this.files[_];if(M||(_.slice(-1)!=="/"&&(_+="/"),M=this.files[_]),M&&!M.dir)delete this.files[_];else for(var U=this.filter(function(O,H){return H.name.slice(0,_.length)===_}),L=0;L<U.length;L++)delete this.files[U[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var M,U={};try{if((U=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");a.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var L=U.comment||this.comment||"";M=d.generateWorker(this,U,L)}catch(O){(M=new l("error")).error(O)}return new c(M,U.type||"string",U.mimeType)},generateAsync:function(_,M){return this.generateInternalStream(_).accumulate(M)},generateNodeStream:function(_,M){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(M)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new u.Promise(function(m,v){var y=[],b=p._internalType,x=p._outputType,_=p._mimeType;p.on("data",function(M,U){y.push(M),g&&g(U)}).on("error",function(M){y=[],v(M)}).on("end",function(){try{var M=function(U,L,O){switch(U){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),O);case"base64":return l.encode(L);default:return s.transformTo(U,L)}}(x,function(U,L){var O,H=0,G=null,I=0;for(O=0;O<L.length;O++)I+=L[O].length;switch(U){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(G=new Uint8Array(I),O=0;O<L.length;O++)G.set(L[O],H),H+=L[O].length;return G;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+U+"'")}}(b,y),_);m(M)}catch(U){v(U)}y=[]}).resume()})}function d(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,s.checkSupport(v),this._worker=p.pipe(new o(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,m,v,y,b,x=p.length,_=0;for(y=0;y<x;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(g=o.uint8array?new Uint8Array(_):new Array(_),y=b=0;b<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[b++]=m:(m<2048?g[b++]=192|m>>>6:(m<65536?g[b++]=224|m>>>12:(g[b++]=240|m>>>18,g[b++]=128|m>>>12&63),g[b++]=128|m>>>6&63),g[b++]=128|63&m);return g}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,m,v,y,b=p.length,x=new Array(2*b);for(g=m=0;g<b;)if((v=p[g++])<128)x[m++]=v;else if(4<(y=c[v]))x[m++]=65533,g+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&g<b;)v=v<<6|63&p[g++],y--;1<y?x[m++]=65533:v<65536?x[m++]=v:(v-=65536,x[m++]=55296|v>>10&1023,x[m++]=56320|1023&v)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),s.applyFromCharCode(x)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,b){var x;for((b=b||y.length)>y.length&&(b=y.length),x=b-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?b:x+c[y[x]]>b?x:b}(p),v=p;m!==p.length&&(o.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(v),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}r("setimmediate"),i.newBlob=function(g,m){i.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,m,v){var y=[],b=0,x=g.length;if(x<=v)return String.fromCharCode.apply(null,g);for(;b<x;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+v,x)))):y.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+v,x)))),b+=v;return y.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var m=65536,v=i.getTypeOf(g),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(g)}function d(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}i.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,m){if(m=m||"",!g)return m;i.checkSupport(g);var v=i.getTypeOf(m);return p[v][g](m)},i.resolve=function(g){for(var m=g.split("/"),v=[],y=0;y<m.length;y++){var b=m[y];b==="."||b===""&&y!==0&&y!==m.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var m,v,y="";for(v=0;v<(g||"").length;v++)y+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},i.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},i.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},i.prepareContent=function(g,m,v,y,b){return l.Promise.resolve(m).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,M){var U=new FileReader;U.onload=function(L){_(L.target.result)},U.onerror=function(L){M(L.target.error)},U.readAsArrayBuffer(x)}):x}).then(function(x){var _=i.getTypeOf(x);return _?(_==="arraybuffer"?x=i.transformTo("uint8array",x):_==="string"&&(b?x=o.decode(x):v&&y!==!0&&(x=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===m)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,m,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[p]={id:p,length:g,value:m};d.setIndex(v)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(b){(g=new u("error")).error(b)}return new o(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(p),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,m;a=!0;for(var v=d.length;v;){for(m=d,d=[],g=-1;++g<v;)m[g]();v=d.length}a=!1}n.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof el<"u"?el:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==o&&g(this,v)}function f(v,y,b){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(v,y,b){s(function(){var x;try{x=y(b)}catch(_){return a.reject(v,_)}x===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,x)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function g(v,y){var b=!1;function x(U){b||(b=!0,a.reject(v,U))}function _(U){b||(b=!0,a.resolve(v,U))}var M=m(function(){y(_,x)});M.status==="error"&&x(M.value)}function m(v,y){var b={};try{b.value=v(y),b.status="success"}catch(x){b.status="error",b.value=x}return b}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(v()).then(function(){return b})},function(b){return y.resolve(v()).then(function(){throw b})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==u?d(b,this.state===c?v:y,this.outcome):this.queue.push(new f(b,v,y)),b},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},a.resolve=function(v,y){var b=m(p,y);if(b.status==="error")return a.reject(v,b.value);var x=b.value;if(x)g(v,x);else{v.state=c,v.outcome=y;for(var _=-1,M=v.queue.length;++_<M;)v.queue[_].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var b=-1,x=v.queue.length;++b<x;)v.queue[b].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},h.reject=function(v){var y=new this(o);return a.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var _=new Array(b),M=0,U=-1,L=new this(o);++U<b;)O(v[U],U);return L;function O(H,G){y.resolve(H).then(function(I){_[G]=I,++M!==b||x||(x=!0,a.resolve(L,_))},function(I){x||(x=!0,a.reject(L,I))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var _=-1,M=new this(o);++_<b;)U=v[_],y.resolve(U).then(function(L){x||(x=!0,a.resolve(M,L))},function(L){x||(x=!0,a.reject(M,L))});var U;return M}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==h)throw new Error(l[b]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=s.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[b]);this._dict_set=!0}}function m(v,y){var b=new g(y);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}g.prototype.push=function(v,y){var b,x,_=this.strm,M=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof v=="string"?_.input=a.string2buf(v):u.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(M),_.next_out=0,_.avail_out=M),(b=s.deflate(_,x))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&b!==1);return x===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):x!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=m,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,m(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,m(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new d(m);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(g,m){var v,y,b,x,_,M,U=this.strm,L=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?U.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?U.input=new Uint8Array(g):U.input=g,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(L),U.next_out=0,U.avail_out=L),(v=s.inflate(U,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(M=typeof O=="string"?a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,v=s.inflateSetDictionary(this.strm,M)),v===l.Z_BUF_ERROR&&H===!0&&(v=l.Z_OK,H=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&v!==l.Z_STREAM_END&&(U.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(U.output,U.next_out),x=U.next_out-b,_=a.buf2string(U.output,b),U.next_out=x,U.avail_out=L-x,x&&o.arraySet(U.output,U.output,b,x,0),this.onData(_)):this.onData(o.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(H=!0)}while((0<U.avail_in||U.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(U.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){var c,u,h,f,d,p;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(p=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,u,h,f){for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,m,v=h.length,y=0;for(g=0;g<v;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),y+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(y),g=m=0;m<y;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[m++]=d:(d<2048?f[m++]=192|d>>>6:(d<65536?f[m++]=224|d>>>12:(f[m++]=240|d>>>18,f[m++]=128|d>>>12&63),f[m++]=128|d>>>6&63),f[m++]=128|63&d);return f},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,m,v=f||h.length,y=new Array(2*v);for(d=p=0;d<v;)if((g=h[d++])<128)y[p++]=g;else if(4<(m=l[g]))y[p++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<v;)g=g<<6|63&h[d++],m--;1<m?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return u(y,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var f=c;f<h;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,m=4,v=2,y=8,b=9,x=286,_=30,M=19,U=2*x+1,L=15,O=3,H=258,G=H+O+1,I=42,R=113,S=1,j=2,E=3,k=4;function A(B,ne){return B.msg=u[ne],ne}function C(B){return(B<<1)-(4<B?9:0)}function D(B){for(var ne=B.length;0<=--ne;)B[ne]=0}function z(B){var ne=B.state,ee=ne.pending;ee>B.avail_out&&(ee=B.avail_out),ee!==0&&(o.arraySet(B.output,ne.pending_buf,ne.pending_out,ee,B.next_out),B.next_out+=ee,ne.pending_out+=ee,B.total_out+=ee,B.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function P(B,ne){a._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ne),B.block_start=B.strstart,z(B.strm)}function K(B,ne){B.pending_buf[B.pending++]=ne}function Z(B,ne){B.pending_buf[B.pending++]=ne>>>8&255,B.pending_buf[B.pending++]=255&ne}function te(B,ne){var ee,F,W=B.max_chain_length,Y=B.strstart,ae=B.prev_length,ce=B.nice_match,le=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,de=B.window,me=B.w_mask,ge=B.prev,ke=B.strstart+H,Re=de[Y+ae-1],je=de[Y+ae];B.prev_length>=B.good_match&&(W>>=2),ce>B.lookahead&&(ce=B.lookahead);do if(de[(ee=ne)+ae]===je&&de[ee+ae-1]===Re&&de[ee]===de[Y]&&de[++ee]===de[Y+1]){Y+=2,ee++;do;while(de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&Y<ke);if(F=H-(ke-Y),Y=ke-H,ae<F){if(B.match_start=ne,ce<=(ae=F))break;Re=de[Y+ae-1],je=de[Y+ae]}}while((ne=ge[ne&me])>le&&--W!=0);return ae<=B.lookahead?ae:B.lookahead}function q(B){var ne,ee,F,W,Y,ae,ce,le,de,me,ge=B.w_size;do{if(W=B.window_size-B.lookahead-B.strstart,B.strstart>=ge+(ge-G)){for(o.arraySet(B.window,B.window,ge,ge,0),B.match_start-=ge,B.strstart-=ge,B.block_start-=ge,ne=ee=B.hash_size;F=B.head[--ne],B.head[ne]=ge<=F?F-ge:0,--ee;);for(ne=ee=ge;F=B.prev[--ne],B.prev[ne]=ge<=F?F-ge:0,--ee;);W+=ge}if(B.strm.avail_in===0)break;if(ae=B.strm,ce=B.window,le=B.strstart+B.lookahead,de=W,me=void 0,me=ae.avail_in,de<me&&(me=de),ee=me===0?0:(ae.avail_in-=me,o.arraySet(ce,ae.input,ae.next_in,me,le),ae.state.wrap===1?ae.adler=l(ae.adler,ce,me,le):ae.state.wrap===2&&(ae.adler=c(ae.adler,ce,me,le)),ae.next_in+=me,ae.total_in+=me,me),B.lookahead+=ee,B.lookahead+B.insert>=O)for(Y=B.strstart-B.insert,B.ins_h=B.window[Y],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+O-1])&B.hash_mask,B.prev[Y&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Y,Y++,B.insert--,!(B.lookahead+B.insert<O)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function $(B,ne){for(var ee,F;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ee!==0&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee)),B.match_length>=O)if(F=a._tr_tally(B,B.strstart-B.match_start,B.match_length-O),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=O){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else F=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(F&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function N(B,ne){for(var ee,F,W;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=O-1,ee!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee),B.match_length<=5&&(B.strategy===1||B.match_length===O&&4096<B.strstart-B.match_start)&&(B.match_length=O-1)),B.prev_length>=O&&B.match_length<=B.prev_length){for(W=B.strstart+B.lookahead-O,F=a._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-O),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=W&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=O-1,B.strstart++,F&&(P(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((F=a._tr_tally(B,0,B.window[B.strstart-1]))&&P(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(F=a._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function T(B,ne,ee,F,W){this.good_length=B,this.max_lazy=ne,this.nice_length=ee,this.max_chain=F,this.func=W}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*U),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*x+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(B){var ne;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ne=B.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:R,B.adler=ne.wrap===2?0:1,ne.last_flush=h,a._tr_init(ne),d):A(B,p)}function re(B){var ne=J(B);return ne===d&&function(ee){ee.window_size=2*ee.w_size,D(ee.head),ee.max_lazy_match=s[ee.level].max_lazy,ee.good_match=s[ee.level].good_length,ee.nice_match=s[ee.level].nice_length,ee.max_chain_length=s[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,ee.ins_h=0}(B.state),ne}function se(B,ne,ee,F,W,Y){if(!B)return p;var ae=1;if(ne===g&&(ne=6),F<0?(ae=0,F=-F):15<F&&(ae=2,F-=16),W<1||b<W||ee!==y||F<8||15<F||ne<0||9<ne||Y<0||m<Y)return A(B,p);F===8&&(F=9);var ce=new V;return(B.state=ce).strm=B,ce.wrap=ae,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=W+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+O-1)/O),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<W+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=Y,ce.method=ee,re(B)}s=[new T(0,0,0,0,function(B,ne){var ee=65535;for(ee>B.pending_buf_size-5&&(ee=B.pending_buf_size-5);;){if(B.lookahead<=1){if(q(B),B.lookahead===0&&ne===h)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var F=B.block_start+ee;if((B.strstart===0||B.strstart>=F)&&(B.lookahead=B.strstart-F,B.strstart=F,P(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):(B.strstart>B.block_start&&(P(B,!1),B.strm.avail_out),S)}),new T(4,4,8,4,$),new T(4,5,16,8,$),new T(4,6,32,32,$),new T(4,4,16,16,N),new T(8,16,32,32,N),new T(8,16,128,128,N),new T(8,32,128,256,N),new T(32,128,258,1024,N),new T(32,258,258,4096,N)],i.deflateInit=function(B,ne){return se(B,ne,y,15,8,0)},i.deflateInit2=se,i.deflateReset=re,i.deflateResetKeep=J,i.deflateSetHeader=function(B,ne){return B&&B.state?B.state.wrap!==2?p:(B.state.gzhead=ne,d):p},i.deflate=function(B,ne){var ee,F,W,Y;if(!B||!B.state||5<ne||ne<0)return B?A(B,p):p;if(F=B.state,!B.output||!B.input&&B.avail_in!==0||F.status===666&&ne!==f)return A(B,B.avail_out===0?-5:p);if(F.strm=B,ee=F.last_flush,F.last_flush=ne,F.status===I)if(F.wrap===2)B.adler=0,K(F,31),K(F,139),K(F,8),F.gzhead?(K(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),K(F,255&F.gzhead.time),K(F,F.gzhead.time>>8&255),K(F,F.gzhead.time>>16&255),K(F,F.gzhead.time>>24&255),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(K(F,255&F.gzhead.extra.length),K(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(B.adler=c(B.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(K(F,0),K(F,0),K(F,0),K(F,0),K(F,0),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,3),F.status=R);else{var ae=y+(F.w_bits-8<<4)<<8;ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ae|=32),ae+=31-ae%31,F.status=R,Z(F,ae),F.strstart!==0&&(Z(F,B.adler>>>16),Z(F,65535&B.adler)),B.adler=1}if(F.status===69)if(F.gzhead.extra){for(W=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending!==F.pending_buf_size));)K(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&z(B),F.pending+2<=F.pending_buf_size&&(K(F,255&B.adler),K(F,B.adler>>8&255),B.adler=0,F.status=R)):F.status=R),F.pending!==0){if(z(B),B.avail_out===0)return F.last_flush=-1,d}else if(B.avail_in===0&&C(ne)<=C(ee)&&ne!==f)return A(B,-5);if(F.status===666&&B.avail_in!==0)return A(B,-5);if(B.avail_in!==0||F.lookahead!==0||ne!==h&&F.status!==666){var ce=F.strategy===2?function(le,de){for(var me;;){if(le.lookahead===0&&(q(le),le.lookahead===0)){if(de===h)return S;break}if(le.match_length=0,me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?E:k):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):F.strategy===3?function(le,de){for(var me,ge,ke,Re,je=le.window;;){if(le.lookahead<=H){if(q(le),le.lookahead<=H&&de===h)return S;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=O&&0<le.strstart&&(ge=je[ke=le.strstart-1])===je[++ke]&&ge===je[++ke]&&ge===je[++ke]){Re=le.strstart+H;do;while(ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ke<Re);le.match_length=H-(Re-ke),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=O?(me=a._tr_tally(le,1,le.match_length-O),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?E:k):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):s[F.level].func(F,ne);if(ce!==E&&ce!==k||(F.status=666),ce===S||ce===E)return B.avail_out===0&&(F.last_flush=-1),d;if(ce===j&&(ne===1?a._tr_align(F):ne!==5&&(a._tr_stored_block(F,0,0,!1),ne===3&&(D(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),z(B),B.avail_out===0))return F.last_flush=-1,d}return ne!==f?d:F.wrap<=0?1:(F.wrap===2?(K(F,255&B.adler),K(F,B.adler>>8&255),K(F,B.adler>>16&255),K(F,B.adler>>24&255),K(F,255&B.total_in),K(F,B.total_in>>8&255),K(F,B.total_in>>16&255),K(F,B.total_in>>24&255)):(Z(F,B.adler>>>16),Z(F,65535&B.adler)),z(B),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?d:1)},i.deflateEnd=function(B){var ne;return B&&B.state?(ne=B.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==R&&ne!==666?A(B,p):(B.state=null,ne===R?A(B,-3):d):p},i.deflateSetDictionary=function(B,ne){var ee,F,W,Y,ae,ce,le,de,me=ne.length;if(!B||!B.state||(Y=(ee=B.state).wrap)===2||Y===1&&ee.status!==I||ee.lookahead)return p;for(Y===1&&(B.adler=l(B.adler,ne,me,0)),ee.wrap=0,me>=ee.w_size&&(Y===0&&(D(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),de=new o.Buf8(ee.w_size),o.arraySet(de,ne,me-ee.w_size,ee.w_size,0),ne=de,me=ee.w_size),ae=B.avail_in,ce=B.next_in,le=B.input,B.avail_in=me,B.next_in=0,B.input=ne,q(ee);ee.lookahead>=O;){for(F=ee.strstart,W=ee.lookahead-(O-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[F+O-1])&ee.hash_mask,ee.prev[F&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=F,F++,--W;);ee.strstart=F,ee.lookahead=O-1,q(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,B.next_in=ce,B.input=le,B.avail_in=ae,ee.wrap=Y,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,c,u,h,f,d,p,g,m,v,y,b,x,_,M,U,L,O,H,G,I,R,S,j;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,j=s.output,h=u-(o-s.avail_out),f=u+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,m=a.wnext,v=a.window,y=a.hold,b=a.bits,x=a.lencode,_=a.distcode,M=(1<<a.lenbits)-1,U=(1<<a.distbits)-1;e:do{b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),L=x[y&M];t:for(;;){if(y>>>=O=L>>>24,b-=O,(O=L>>>16&255)===0)j[u++]=65535&L;else{if(!(16&O)){if(!(64&O)){L=x[(65535&L)+(y&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}H=65535&L,(O&=15)&&(b<O&&(y+=S[l++]<<b,b+=8),H+=y&(1<<O)-1,y>>>=O,b-=O),b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),L=_[y&U];r:for(;;){if(y>>>=O=L>>>24,b-=O,!(16&(O=L>>>16&255))){if(!(64&O)){L=_[(65535&L)+(y&(1<<O)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(G=65535&L,b<(O&=15)&&(y+=S[l++]<<b,(b+=8)<O&&(y+=S[l++]<<b,b+=8)),d<(G+=y&(1<<O)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=O,b-=O,(O=u-h)<G){if(g<(O=G-O)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(R=v,(I=0)===m){if(I+=p-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}}else if(m<O){if(I+=p+m-O,(O-=m)<H){for(H-=O;j[u++]=v[I++],--O;);if(I=0,m<H){for(H-=O=m;j[u++]=v[I++],--O;);I=u-G,R=j}}}else if(I+=m-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}for(;2<H;)j[u++]=R[I++],j[u++]=R[I++],j[u++]=R[I++],H-=3;H&&(j[u++]=R[I++],1<H&&(j[u++]=R[I++]))}else{for(I=u-G;j[u++]=j[I++],j[u++]=j[I++],j[u++]=j[I++],2<(H-=3););H&&(j[u++]=j[I++],1<H&&(j[u++]=j[I++]))}break}}break}}while(l<c&&u<f);l-=H=b>>3,y&=(1<<(b-=H<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=y,a.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,f=0,d=-2,p=1,g=852,m=592;function v(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(I){var R;return I&&I.state?(R=I.state,I.total_in=I.total_out=R.total=0,I.msg="",R.wrap&&(I.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(g),R.distcode=R.distdyn=new s.Buf32(m),R.sane=1,R.back=-1,f):d}function x(I){var R;return I&&I.state?((R=I.state).wsize=0,R.whave=0,R.wnext=0,b(I)):d}function _(I,R){var S,j;return I&&I.state?(j=I.state,R<0?(S=0,R=-R):(S=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?d:(j.window!==null&&j.wbits!==R&&(j.window=null),j.wrap=S,j.wbits=R,x(I))):d}function M(I,R){var S,j;return I?(j=new y,(I.state=j).window=null,(S=_(I,R))!==f&&(I.state=null),S):d}var U,L,O=!0;function H(I){if(O){var R;for(U=new s.Buf32(512),L=new s.Buf32(32),R=0;R<144;)I.lens[R++]=8;for(;R<256;)I.lens[R++]=9;for(;R<280;)I.lens[R++]=7;for(;R<288;)I.lens[R++]=8;for(c(u,I.lens,0,288,U,0,I.work,{bits:9}),R=0;R<32;)I.lens[R++]=5;c(h,I.lens,0,32,L,0,I.work,{bits:5}),O=!1}I.lencode=U,I.lenbits=9,I.distcode=L,I.distbits=5}function G(I,R,S,j){var E,k=I.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new s.Buf8(k.wsize)),j>=k.wsize?(s.arraySet(k.window,R,S-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(j<(E=k.wsize-k.wnext)&&(E=j),s.arraySet(k.window,R,S-j,E,k.wnext),(j-=E)?(s.arraySet(k.window,R,S-j,j,0),k.wnext=j,k.whave=k.wsize):(k.wnext+=E,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=E))),0}i.inflateReset=x,i.inflateReset2=_,i.inflateResetKeep=b,i.inflateInit=function(I){return M(I,15)},i.inflateInit2=M,i.inflate=function(I,R){var S,j,E,k,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W=0,Y=new s.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(S=I.state).mode===12&&(S.mode=13),A=I.next_out,E=I.output,D=I.avail_out,k=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,K=C,Z=D,ne=f;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(2&S.wrap&&z===35615){Y[S.check=0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0),P=z=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&z)<<8)+(z>>8))%31){I.msg="incorrect header check",S.mode=30;break}if((15&z)!=8){I.msg="unknown compression method",S.mode=30;break}if(P-=4,B=8+(15&(z>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){I.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,I.adler=S.check=1,S.mode=512&z?10:12,P=z=0;break;case 2:for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(S.flags=z,(255&S.flags)!=8){I.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){I.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=z>>8&1),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=3;case 3:for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.head&&(S.head.time=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,Y[2]=z>>>16&255,Y[3]=z>>>24&255,S.check=a(S.check,Y,4,0)),P=z=0,S.mode=4;case 4:for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.head&&(S.head.xflags=255&z,S.head.os=z>>8),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=5;case 5:if(1024&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.length=z,S.head&&(S.head.extra_len=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(C<(te=S.length)&&(te=C),te&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,j,k,te,B)),512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,S.length-=te),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(C===0)break e;for(te=0;B=j[k+te++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(C===0)break e;for(te=0;B=j[k+te++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z!==(65535&S.check)){I.msg="header crc mismatch",S.mode=30;break}P=z=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),I.adler=S.check=0,S.mode=12;break;case 10:for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}I.adler=S.check=v(z),P=z=0,S.mode=11;case 11:if(S.havedict===0)return I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,2;I.adler=S.check=1,S.mode=12;case 12:if(R===5||R===6)break e;case 13:if(S.last){z>>>=7&P,P-=7&P,S.mode=27;break}for(;P<3;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}switch(S.last=1&z,P-=1,3&(z>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,R!==6)break;z>>>=2,P-=2;break e;case 2:S.mode=17;break;case 3:I.msg="invalid block type",S.mode=30}z>>>=2,P-=2;break;case 14:for(z>>>=7&P,P-=7&P;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if((65535&z)!=(z>>>16^65535)){I.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&z,P=z=0,S.mode=15,R===6)break e;case 15:S.mode=16;case 16:if(te=S.length){if(C<te&&(te=C),D<te&&(te=D),te===0)break e;s.arraySet(E,j,k,te,A),C-=te,k+=te,D-=te,A+=te,S.length-=te;break}S.mode=12;break;case 17:for(;P<14;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(S.nlen=257+(31&z),z>>>=5,P-=5,S.ndist=1+(31&z),z>>>=5,P-=5,S.ncode=4+(15&z),z>>>=4,P-=4,286<S.nlen||30<S.ndist){I.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;P<3;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.lens[ae[S.have++]]=7&z,z>>>=3,P-=3}for(;S.have<19;)S.lens[ae[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ee={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(V<16)z>>>=N,P-=N,S.lens[S.have++]=V;else{if(V===16){for(F=N+2;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z>>>=N,P-=N,S.have===0){I.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],te=3+(3&z),z>>>=2,P-=2}else if(V===17){for(F=N+3;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}P-=N,B=0,te=3+(7&(z>>>=N)),z>>>=3,P-=3}else{for(F=N+7;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}P-=N,B=0,te=11+(127&(z>>>=N)),z>>>=7,P-=7}if(S.have+te>S.nlen+S.ndist){I.msg="invalid bit length repeat",S.mode=30;break}for(;te--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){I.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ee={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ee={bits:S.distbits},ne=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ee),S.distbits=ee.bits,ne){I.msg="invalid distances set",S.mode=30;break}if(S.mode=20,R===6)break e;case 20:S.mode=21;case 21:if(6<=C&&258<=D){I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,l(I,Z),A=I.next_out,E=I.output,D=I.avail_out,k=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(T&&!(240&T)){for(J=N,re=T,se=V;T=(W=S.lencode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,S.length=V,T===0){S.mode=26;break}if(32&T){S.back=-1,S.mode=12;break}if(64&T){I.msg="invalid literal/length code",S.mode=30;break}S.extra=15&T,S.mode=22;case 22:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.length+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;T=(W=S.distcode[z&(1<<S.distbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(!(240&T)){for(J=N,re=T,se=V;T=(W=S.distcode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,64&T){I.msg="invalid distance code",S.mode=30;break}S.offset=V,S.extra=15&T,S.mode=24;case 24:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.offset+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){I.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(D===0)break e;if(te=Z-D,S.offset>te){if((te=S.offset-te)>S.whave&&S.sane){I.msg="invalid distance too far back",S.mode=30;break}q=te>S.wnext?(te-=S.wnext,S.wsize-te):S.wnext-te,te>S.length&&(te=S.length),$=S.window}else $=E,q=A-S.offset,te=S.length;for(D<te&&(te=D),D-=te,S.length-=te;E[A++]=$[q++],--te;);S.length===0&&(S.mode=21);break;case 26:if(D===0)break e;E[A++]=S.length,D--,S.mode=21;break;case 27:if(S.wrap){for(;P<32;){if(C===0)break e;C--,z|=j[k++]<<P,P+=8}if(Z-=D,I.total_out+=Z,S.total+=Z,Z&&(I.adler=S.check=S.flags?a(S.check,E,Z,A-Z):o(S.check,E,Z,A-Z)),Z=D,(S.flags?z:v(z))!==S.check){I.msg="incorrect data check",S.mode=30;break}P=z=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z!==(4294967295&S.total)){I.msg="incorrect length check",S.mode=30;break}P=z=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,(S.wsize||Z!==I.avail_out&&S.mode<30&&(S.mode<27||R!==4))&&G(I,I.output,I.next_out,Z-I.avail_out)?(S.mode=31,-4):(K-=I.avail_in,Z-=I.avail_out,I.total_in+=K,I.total_out+=Z,S.total+=Z,S.wrap&&Z&&(I.adler=S.check=S.flags?a(S.check,E,Z,I.next_out-Z):o(S.check,E,Z,I.next_out-Z)),I.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(K==0&&Z===0||R===4)&&ne===f&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return d;var R=I.state;return R.window&&(R.window=null),I.state=null,f},i.inflateGetHeader=function(I,R){var S;return I&&I.state&&2&(S=I.state).wrap?((S.head=R).done=!1,f):d},i.inflateSetDictionary=function(I,R){var S,j=R.length;return I&&I.state?(S=I.state).wrap!==0&&S.mode!==11?d:S.mode===11&&o(1,R,j,0)!==S.check?-3:G(I,R,j,j)?(S.mode=31,-4):(S.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,f,d,p,g,m,v){var y,b,x,_,M,U,L,O,H,G=v.bits,I=0,R=0,S=0,j=0,E=0,k=0,A=0,C=0,D=0,z=0,P=null,K=0,Z=new s.Buf16(16),te=new s.Buf16(16),q=null,$=0;for(I=0;I<=15;I++)Z[I]=0;for(R=0;R<d;R++)Z[h[f+R]]++;for(E=G,j=15;1<=j&&Z[j]===0;j--);if(j<E&&(E=j),j===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(S=1;S<j&&Z[S]===0;S++);for(E<S&&(E=S),I=C=1;I<=15;I++)if(C<<=1,(C-=Z[I])<0)return-1;if(0<C&&(u===0||j!==1))return-1;for(te[1]=0,I=1;I<15;I++)te[I+1]=te[I]+Z[I];for(R=0;R<d;R++)h[f+R]!==0&&(m[te[h[f+R]]++]=R);if(U=u===0?(P=q=m,19):u===1?(P=o,K-=257,q=a,$-=257,256):(P=l,q=c,-1),I=S,M=g,A=R=z=0,x=-1,_=(D=1<<(k=E))-1,u===1&&852<D||u===2&&592<D)return 1;for(;;){for(L=I-A,H=m[R]<U?(O=0,m[R]):m[R]>U?(O=q[$+m[R]],P[K+m[R]]):(O=96,0),y=1<<I-A,S=b=1<<k;p[M+(z>>A)+(b-=y)]=L<<24|O<<16|H|0,b!==0;);for(y=1<<I-1;z&y;)y>>=1;if(y!==0?(z&=y-1,z+=y):z=0,R++,--Z[I]==0){if(I===j)break;I=h[f+m[R]]}if(E<I&&(z&_)!==x){for(A===0&&(A=E),M+=S,C=1<<(k=I-A);k+A<j&&!((C-=Z[k+A])<=0);)k++,C<<=1;if(D+=1<<k,u===1&&852<D||u===2&&592<D)return 1;p[x=z&_]=E<<24|k<<16|M-g|0}}return z!==0&&(p[M+z]=I-A<<24|64<<16|0),v.bits=E,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(W){for(var Y=W.length;0<=--Y;)W[Y]=0}var c=0,u=29,h=256,f=h+1+u,d=30,p=19,g=2*f+1,m=15,v=16,y=7,b=256,x=16,_=17,M=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(f+2));l(G);var I=new Array(2*d);l(I);var R=new Array(512);l(R);var S=new Array(256);l(S);var j=new Array(u);l(j);var E,k,A,C=new Array(d);function D(W,Y,ae,ce,le){this.static_tree=W,this.extra_bits=Y,this.extra_base=ae,this.elems=ce,this.max_length=le,this.has_stree=W&&W.length}function z(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function P(W){return W<256?R[W]:R[256+(W>>>7)]}function K(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function Z(W,Y,ae){W.bi_valid>v-ae?(W.bi_buf|=Y<<W.bi_valid&65535,K(W,W.bi_buf),W.bi_buf=Y>>v-W.bi_valid,W.bi_valid+=ae-v):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=ae)}function te(W,Y,ae){Z(W,ae[2*Y],ae[2*Y+1])}function q(W,Y){for(var ae=0;ae|=1&W,W>>>=1,ae<<=1,0<--Y;);return ae>>>1}function $(W,Y,ae){var ce,le,de=new Array(m+1),me=0;for(ce=1;ce<=m;ce++)de[ce]=me=me+ae[ce-1]<<1;for(le=0;le<=Y;le++){var ge=W[2*le+1];ge!==0&&(W[2*le]=q(de[ge]++,ge))}}function N(W){var Y;for(Y=0;Y<f;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<d;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<p;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[2*b]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function T(W){8<W.bi_valid?K(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function V(W,Y,ae,ce){var le=2*Y,de=2*ae;return W[le]<W[de]||W[le]===W[de]&&ce[Y]<=ce[ae]}function J(W,Y,ae){for(var ce=W.heap[ae],le=ae<<1;le<=W.heap_len&&(le<W.heap_len&&V(Y,W.heap[le+1],W.heap[le],W.depth)&&le++,!V(Y,ce,W.heap[le],W.depth));)W.heap[ae]=W.heap[le],ae=le,le<<=1;W.heap[ae]=ce}function re(W,Y,ae){var ce,le,de,me,ge=0;if(W.last_lit!==0)for(;ce=W.pending_buf[W.d_buf+2*ge]<<8|W.pending_buf[W.d_buf+2*ge+1],le=W.pending_buf[W.l_buf+ge],ge++,ce===0?te(W,le,Y):(te(W,(de=S[le])+h+1,Y),(me=U[de])!==0&&Z(W,le-=j[de],me),te(W,de=P(--ce),ae),(me=L[de])!==0&&Z(W,ce-=C[de],me)),ge<W.last_lit;);te(W,b,Y)}function se(W,Y){var ae,ce,le,de=Y.dyn_tree,me=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,ke=Y.stat_desc.elems,Re=-1;for(W.heap_len=0,W.heap_max=g,ae=0;ae<ke;ae++)de[2*ae]!==0?(W.heap[++W.heap_len]=Re=ae,W.depth[ae]=0):de[2*ae+1]=0;for(;W.heap_len<2;)de[2*(le=W.heap[++W.heap_len]=Re<2?++Re:0)]=1,W.depth[le]=0,W.opt_len--,ge&&(W.static_len-=me[2*le+1]);for(Y.max_code=Re,ae=W.heap_len>>1;1<=ae;ae--)J(W,de,ae);for(le=ke;ae=W.heap[1],W.heap[1]=W.heap[W.heap_len--],J(W,de,1),ce=W.heap[1],W.heap[--W.heap_max]=ae,W.heap[--W.heap_max]=ce,de[2*le]=de[2*ae]+de[2*ce],W.depth[le]=(W.depth[ae]>=W.depth[ce]?W.depth[ae]:W.depth[ce])+1,de[2*ae+1]=de[2*ce+1]=le,W.heap[1]=le++,J(W,de,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(je,We){var Je,qe,pt,$e,Ue,Ke,rt=We.dyn_tree,Ze=We.max_code,Et=We.stat_desc.static_tree,wt=We.stat_desc.has_stree,bt=We.stat_desc.extra_bits,Wt=We.stat_desc.extra_base,_t=We.stat_desc.max_length,ot=0;for($e=0;$e<=m;$e++)je.bl_count[$e]=0;for(rt[2*je.heap[je.heap_max]+1]=0,Je=je.heap_max+1;Je<g;Je++)_t<($e=rt[2*rt[2*(qe=je.heap[Je])+1]+1]+1)&&($e=_t,ot++),rt[2*qe+1]=$e,Ze<qe||(je.bl_count[$e]++,Ue=0,Wt<=qe&&(Ue=bt[qe-Wt]),Ke=rt[2*qe],je.opt_len+=Ke*($e+Ue),wt&&(je.static_len+=Ke*(Et[2*qe+1]+Ue)));if(ot!==0){do{for($e=_t-1;je.bl_count[$e]===0;)$e--;je.bl_count[$e]--,je.bl_count[$e+1]+=2,je.bl_count[_t]--,ot-=2}while(0<ot);for($e=_t;$e!==0;$e--)for(qe=je.bl_count[$e];qe!==0;)Ze<(pt=je.heap[--Je])||(rt[2*pt+1]!==$e&&(je.opt_len+=($e-rt[2*pt+1])*rt[2*pt],rt[2*pt+1]=$e),qe--)}}(W,Y),$(de,Re,W.bl_count)}function B(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),Y[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)le=me,me=Y[2*(ce+1)+1],++ge<ke&&le===me||(ge<Re?W.bl_tree[2*le]+=ge:le!==0?(le!==de&&W.bl_tree[2*le]++,W.bl_tree[2*x]++):ge<=10?W.bl_tree[2*_]++:W.bl_tree[2*M]++,de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4))}function ne(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),ce=0;ce<=ae;ce++)if(le=me,me=Y[2*(ce+1)+1],!(++ge<ke&&le===me)){if(ge<Re)for(;te(W,le,W.bl_tree),--ge!=0;);else le!==0?(le!==de&&(te(W,le,W.bl_tree),ge--),te(W,x,W.bl_tree),Z(W,ge-3,2)):ge<=10?(te(W,_,W.bl_tree),Z(W,ge-3,3)):(te(W,M,W.bl_tree),Z(W,ge-11,7));de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4)}}l(C);var ee=!1;function F(W,Y,ae,ce){Z(W,(c<<1)+(ce?1:0),3),function(le,de,me,ge){T(le),K(le,me),K(le,~me),s.arraySet(le.pending_buf,le.window,de,me,le.pending),le.pending+=me}(W,Y,ae)}i._tr_init=function(W){ee||(function(){var Y,ae,ce,le,de,me=new Array(m+1);for(le=ce=0;le<u-1;le++)for(j[le]=ce,Y=0;Y<1<<U[le];Y++)S[ce++]=le;for(S[ce-1]=le,le=de=0;le<16;le++)for(C[le]=de,Y=0;Y<1<<L[le];Y++)R[de++]=le;for(de>>=7;le<d;le++)for(C[le]=de<<7,Y=0;Y<1<<L[le]-7;Y++)R[256+de++]=le;for(ae=0;ae<=m;ae++)me[ae]=0;for(Y=0;Y<=143;)G[2*Y+1]=8,Y++,me[8]++;for(;Y<=255;)G[2*Y+1]=9,Y++,me[9]++;for(;Y<=279;)G[2*Y+1]=7,Y++,me[7]++;for(;Y<=287;)G[2*Y+1]=8,Y++,me[8]++;for($(G,f+1,me),Y=0;Y<d;Y++)I[2*Y+1]=5,I[2*Y]=q(Y,5);E=new D(G,U,h+1,f,m),k=new D(I,L,0,d,m),A=new D(new Array(0),O,0,p,y)}(),ee=!0),W.l_desc=new z(W.dyn_ltree,E),W.d_desc=new z(W.dyn_dtree,k),W.bl_desc=new z(W.bl_tree,A),W.bi_buf=0,W.bi_valid=0,N(W)},i._tr_stored_block=F,i._tr_flush_block=function(W,Y,ae,ce){var le,de,me=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ge){var ke,Re=4093624447;for(ke=0;ke<=31;ke++,Re>>>=1)if(1&Re&&ge.dyn_ltree[2*ke]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(ke=32;ke<h;ke++)if(ge.dyn_ltree[2*ke]!==0)return a;return o}(W)),se(W,W.l_desc),se(W,W.d_desc),me=function(ge){var ke;for(B(ge,ge.dyn_ltree,ge.l_desc.max_code),B(ge,ge.dyn_dtree,ge.d_desc.max_code),se(ge,ge.bl_desc),ke=p-1;3<=ke&&ge.bl_tree[2*H[ke]+1]===0;ke--);return ge.opt_len+=3*(ke+1)+5+5+4,ke}(W),le=W.opt_len+3+7>>>3,(de=W.static_len+3+7>>>3)<=le&&(le=de)):le=de=ae+5,ae+4<=le&&Y!==-1?F(W,Y,ae,ce):W.strategy===4||de===le?(Z(W,2+(ce?1:0),3),re(W,G,I)):(Z(W,4+(ce?1:0),3),function(ge,ke,Re,je){var We;for(Z(ge,ke-257,5),Z(ge,Re-1,5),Z(ge,je-4,4),We=0;We<je;We++)Z(ge,ge.bl_tree[2*H[We]+1],3);ne(ge,ge.dyn_ltree,ke-1),ne(ge,ge.dyn_dtree,Re-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,me+1),re(W,W.dyn_ltree,W.dyn_dtree)),N(W),ce&&T(W)},i._tr_tally=function(W,Y,ae){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&ae,W.last_lit++,Y===0?W.dyn_ltree[2*ae]++:(W.matches++,Y--,W.dyn_ltree[2*(S[ae]+h+1)]++,W.dyn_dtree[2*P(Y)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){Z(W,2,3),te(W,b,G),function(Y){Y.bi_valid===16?(K(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,f=1,d={},p=!1,g=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,l={}.toString.call(o.process)==="[object process]"?function(x){Rr.nextTick(function(){y(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,_=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=_,x}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(x){o.postMessage(h+x,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(x){y(x.data)},function(x){u.port2.postMessage(x)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(x){var _=g.createElement("script");_.onreadystatechange=function(){y(x),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(x){setTimeout(y,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var _=new Array(arguments.length-1),M=0;M<_.length;M++)_[M]=arguments[M+1];var U={callback:x,args:_};return d[f]=U,l(f),f++},m.clearImmediate=v}function v(x){delete d[x]}function y(x){if(p)setTimeout(y,0,x);else{var _=d[x];if(_){p=!0;try{(function(M){var U=M.callback,L=M.args;switch(L.length){case 0:U();break;case 1:U(L[0]);break;case 2:U(L[0],L[1]);break;case 3:U(L[0],L[1],L[2]);break;default:U.apply(a,L)}})(_)}finally{v(x),p=!1}}}}function b(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(h)===0&&y(+x.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof el<"u"?el:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}($5)),$5.exports}var M0e=I0e();const L0e=xz(M0e);var km={exports:{}},H5,CR;function D0e(){if(CR)return H5;CR=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return H5=t,H5}var jR;function B0e(){if(jR)return km.exports;jR=1;var e=D0e(),t=SE().Stream,r="    ";function n(c,u){typeof u!="object"&&(u={indent:u});var h=u.stream?new t:null,f="",d=!1,p=u.indent?u.indent===!0?r:u.indent:"",g=!0;function m(_){g?Rr.nextTick(_):_()}function v(_,M){if(M!==void 0&&(f+=M),_&&!d&&(h=h||new t,d=!0),_&&d){var U=f;m(function(){h.emit("data",U)}),f=""}}function y(_,M){a(v,o(_,p,p?1:0),M)}function b(){if(h){var _=f;m(function(){h.emit("data",_),h.emit("end"),h.readable=!1,h.emit("close")})}}function x(_){var M=_.encoding||"UTF-8",U={version:"1.0",encoding:M};_.standalone&&(U.standalone=_.standalone),y({"?xml":{_attr:U}}),f=f.replace("/>","?>")}return m(function(){g=!1}),u.declaration&&x(u.declaration),c&&c.forEach?c.forEach(function(_,M){var U;M+1===c.length&&(U=b),y(_,U)}):y(c,b),h?(h.readable=!0,h):f}function i(){var c=Array.prototype.slice.call(arguments),u={_elem:o(c)};return u.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var f=this,d=this._elem.indent;a(this.append,o(h,d,this._elem.icount+(d?1:0)),function(){f.append(!0)})},u.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},u}function s(c,u){return new Array(u||0).join(c||"")}function o(c,u,h){h=h||0;var f=s(u,h),d,p=c,g=!1;if(typeof c=="object"){var m=Object.keys(c);if(d=m[0],p=c[d],p&&p._elem)return p._elem.name=d,p._elem.icount=h,p._elem.indent=u,p._elem.indents=f,p._elem.interrupt=p,p._elem}var v=[],y=[],b;function x(_){var M=Object.keys(_);M.forEach(function(U){v.push(l(U,_[U]))})}switch(typeof p){case"object":if(p===null)break;p._attr&&x(p._attr),p._cdata&&y.push(("<![CDATA["+p._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),p.forEach&&(b=!1,y.push(""),p.forEach(function(_){if(typeof _=="object"){var M=Object.keys(_)[0];M=="_attr"?x(_._attr):y.push(o(_,u,h+1))}else y.pop(),b=!0,y.push(e(_))}),b||y.push(""));break;default:y.push(e(p))}return{name:d,interrupt:g,attributes:v,content:y,icount:h,indents:f,indent:u}}function a(c,u,h){if(typeof u!="object")return c(!1,u);var f=u.interrupt?1:u.content.length;function d(){for(;u.content.length;){var g=u.content.shift();if(g!==void 0){if(p(g))return;a(c,g)}}c(!1,(f>1?u.indents:"")+(u.name?"</"+u.name+">":"")+(u.indent&&!h?`
`:"")),h&&h()}function p(g){return g.interrupt?(g.interrupt.append=c,g.interrupt.end=d,g.interrupt=!1,c(!0),!0):!1}if(c(!1,u.indents+(u.name?"<"+u.name:"")+(u.attributes.length?" "+u.attributes.join(" "):"")+(f?u.name?">":"":u.name?"/>":"")+(u.indent&&f>1?`
`:"")),!f)return c(!1,u.indent?`
`:"");p(u)||d()}function l(c,u){return c+'="'+e(u)+'"'}return km.exports=n,km.exports.element=km.exports.Element=i,km.exports}var F0e=B0e();const Hn=xz(F0e),Nm=0,W5=32,z0e=32,U0e=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==z0e)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=e.slice(Nm,W5).map((l,c)=>l^i[c%i.length]),a=new Uint8Array(Nm+o.length+Math.max(0,e.length-W5));return a.set(e.slice(0,Nm)),a.set(o,Nm),a.set(e.slice(W5),Nm+o.length),a};class $0e{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class H0e{replace(t,r,n){let i=t;return r.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class W0e{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class q0e{constructor(){tt(this,"formatter"),tt(this,"imageReplacer"),tt(this,"numberingReplacer"),this.formatter=new $0e,this.imageReplacer=new H0e,this.numberingReplacer=new W0e}compile(t,r,n=[]){const i=new L0e,s=this.xmlifyFile(t,r),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const l of a)i.file(l.path,l.data);else i.file(a.path,a.data);for(const a of n)i.file(a.path,a.data);for(const a of t.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:l,fontKey:c}of t.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,U0e(a,c))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=Hn(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=t.Comments.Relationships.RelationshipCount+1,o=Hn(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,t.Media),l=this.imageReplacer.getMediaData(o,t.Media);return{Relationships:{data:(a.forEach((c,u)=>{t.Document.Relationships.createRelationship(n+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Hn(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Hn(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Hn(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Hn(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Hn(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{c.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Hn(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:t.Footers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{c.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Hn(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:t.Headers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:t.Footers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:Hn(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Hn(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Hn(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Hn(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Hn(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Hn(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(o,l,s);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,u)=>{t.Comments.Relationships.createRelationship(s+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Hn(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Hn(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Hn(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const V0e={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},TR=e=>e===!0?V0e.WITH_2_BLANKS:e===!1?void 0:e,iU=class nf{static pack(t,r,n){return xhe(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,TR(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return nf.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return nf.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return nf.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return nf.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return nf.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new O0e.Stream;return this.compiler.compile(t,TR(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};tt(iU,"compiler",new q0e);let G0e=iU;function iu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var K0e={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof iu=="function"&&iu;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){return o(n[c][1][p]||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof iu=="function"&&iu,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){const s=r("fs"),o=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),c=r("dayjs").extend(a).extend(l),u=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,p){if(p=p||{},!await h(d))throw new Error("File not found: "+d);const g=s.createReadStream(d),m=await this.read(g,p);return g.close(),m}read(d,p){return p=p||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(p.sheetName),y=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=p.map||function(_){if(_==="")return null;const M=Number(_);if(!Number.isNaN(M)&&M!==1/0)return M;const U=y.reduce((O,H)=>{if(O)return O;const G=c(_,H,!0);return G.isValid()?G:null},null);if(U)return new Date(U.valueOf());const L=f[_];return L!==void 0?L:_},x=o.parse(p.parserOptions).on("data",_=>{v.addRow(_.map(b))}).on("end",()=>{x.emit("worksheet",v)});x.on("worksheet",g).on("error",m),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,p){return new Promise((g,m)=>{p=p||{};const v=this.workbook.getWorksheet(p.sheetName||p.sheetId),y=o.format(p.formatterOptions);d.on("finish",()=>{g()}),y.on("error",m),y.pipe(d);const{dateFormat:b,dateUTC:x}=p,_=p.map||(L=>{if(L){if(L.text||L.hyperlink)return L.hyperlink||L.text||"";if(L.formula||L.result)return L.result||"";if(L instanceof Date)return b?x?c.utc(L).format(b):c(L).format(b):x?c.utc(L).format():c(L).format();if(L.error)return L.error;if(typeof L=="object")return JSON.stringify(L)}return L}),M=p.includeEmptyRows===void 0||p.includeEmptyRows;let U=1;v&&v.eachRow((L,O)=>{if(M)for(;U++<O-1;)y.write([]);const{values:H}=L;H.shift(),y.write(H.map(_)),U=O}),y.end()})}writeFile(d,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=s.createWriteStream(d,g);return this.write(m,p)}async writeBuffer(d){const p=new u;return await this.write(p,d),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const h=s.decodeAddress(c);this.nativeCol=h.col+u,this.nativeColOff=0,this.nativeRow=h.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(r,n,i){const s=r("../utils/col-cache"),o=r("../utils/under-dash"),a=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),c=r("./note");class u{constructor(d,p,g){if(!d||!p)throw new Error("A Cell needs a Row");this._row=d,this._column=p,s.validateAddress(g),this._address=g,this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,p,g){const m=d&&d.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const v=d&&d.font||p&&p.font;v&&(g.font=v);const y=d&&d.alignment||p&&p.alignment;y&&(g.alignment=y);const b=d&&d.border||p&&p.border;b&&(g.border=b);const x=d&&d.fill||p&&p.fill;x&&(g.fill=x);const _=d&&d.protection||p&&p.protection;return _&&(g.protection=_),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,p){this._value.release(),this._value=h.create(u.Types.Merge,this,d),p||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=h.create(h.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new c(d)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=h.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),d.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=h.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=c.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=a.ValueType;const h={getType:f=>f==null?u.Types.Null:f instanceof String||typeof f=="string"?u.Types.String:typeof f=="number"?u.Types.Number:typeof f=="boolean"?u.Types.Boolean:f instanceof Date?u.Types.Date:f.text&&f.hyperlink?u.Types.Hyperlink:f.formula||f.sharedFormula?u.Types.Formula:f.richText?u.Types.RichText:f.sharedString?u.Types.SharedString:f.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(f){this.model={address:f.address,type:u.Types.Null}}get value(){return null}set value(f){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(f,d){this.cell=f,this.model={address:f.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(f){const d={},p=g=>{const m=f[g];m&&(d[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(h.getType(f)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return u.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?a.ValueType.Null:f instanceof String||typeof f=="string"?a.ValueType.String:typeof f=="number"?a.ValueType.Number:f instanceof Date?a.ValueType.Date:f.text&&f.hyperlink?a.ValueType.Hyperlink:f.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,d=f.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof u?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,d)=>(f[d.t]=d.f,f),[]),create(f,d,p){const g=this.types[f];if(!g)throw new Error("Could not create Value of type "+f);return new g(d,p)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache");class l{constructor(u,h,f){this._worksheet=u,this._number=h,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((h,f)=>{this._worksheet.getCell(f+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,h){const f=this.number;h||(h=u,u=null),this._worksheet.eachRow(u,(d,p)=>{h(d.getCell(f),p)})}get values(){const u=[];return this.eachCell((h,f)=>{h&&h.type!==o.ValueType.Null&&(u[f]=h.value)}),u}set values(u){if(!u)return;const h=this.number;let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((d,p)=>{this._worksheet.getCell(p+f,h).value=d})}_applyStyle(u,h){return this.style[u]=h,this.eachCell(f=>{f[u]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const h=[];let f=null;return u&&u.forEach((d,p)=>{d.isDefault?f&&(f=null):f&&d.equivalentTo(f)?f.max=p+1:(f={min:p+1,max:p+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},h.push(f))}),h.length?h:void 0}static fromModel(u,h){const f=[];let d=1,p=0;for(h=(h=h||[]).sort(function(g,m){return g.min-m.min});p<h.length;){const g=h[p++];for(;d<g.min;)f.push(new l(u,d++));for(;d<=g.max;)f.push(new l(u,d++,g))}return f.length?f:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("../utils/cell-matrix"),l=r("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new a)}add(u,h){const f=o.decodeEx(u);this.addEx(f,h)}addEx(u,h){const f=this.getMatrix(h);if(u.top)for(let d=u.left;d<=u.right;d++)for(let p=u.top;p<=u.bottom;p++){const g={sheetName:u.sheetName,address:o.n2l(d)+p,row:p,col:d};f.addCellEx(g)}else f.addCellEx(u)}remove(u,h){const f=o.decodeEx(u);this.removeEx(f,h)}removeEx(u,h){this.getMatrix(h).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,h=>{h.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(h,f)=>{h.forEach(d=>{u(f,d)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(h,f)=>h.findCellEx(u)&&f).filter(Boolean)}_explore(u,h){h.mark=!1;const{sheetName:f}=h,d=new l(h.row,h.col,h.row,h.col,f);let p,g;function m(y,b){const x=u.findCellAt(f,y,h.col);return!(!x||!x.mark)&&(d[b]=y,x.mark=!1,!0)}for(g=h.row-1;m(g,"top");g--);for(g=h.row+1;m(g,"bottom");g++);function v(y,b){const x=[];for(g=d.top;g<=d.bottom;g++){const _=u.findCellAt(f,g,y);if(!_||!_.mark)return!1;x.push(_)}d[b]=y;for(let _=0;_<x.length;_++)x[_].mark=!1;return!0}for(p=h.col-1;v(p,"left");p--);for(p=h.col+1;v(p,"right");p++);return d}getRanges(u,h){return(h=h||this.matrixMap[u])?(h.forEach(f=>{f.mark=!0}),{name:u,ranges:h.map(f=>f.mark&&this._explore(h,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,h){u.forEachInSheet(h,(f,d,p)=>{f&&(f.row===d&&f.col===p||(f.row=d,f.col=p,f.address=o.n2l(p)+d))})}spliceRows(u,h,f,d){s.each(this.matrixMap,p=>{p.spliceRows(u,h,f,d),this.normaliseMatrix(p,u)})}spliceColumns(u,h,f,d){s.each(this.matrixMap,p=>{p.spliceColumns(u,h,f,d),this.normaliseMatrix(p,u)})}get model(){return s.map(this.matrixMap,(u,h)=>this.getRanges(h,u)).filter(u=>u.ranges.length)}set model(u){const h=this.matrixMap={};u.forEach(f=>{const d=h[f.name]=new a;f.ranges.forEach(p=>{c.test(p.split("!").pop()||"")&&d.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const s=r("../utils/col-cache"),o=r("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:c,range:u,hyperlinks:h}=a;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const f=s.decode(u);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:h||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const s=r("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new o;return c.model=l,c}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,c,u,h,f){if(arguments.length<4){const d=s.decodeAddress(l),p=s.decodeAddress(c);this.model={top:Math.min(d.row,p.row),left:Math.min(d.col,p.col),bottom:Math.max(d.row,p.row),right:Math.max(d.col,p.col),sheetName:u},this.setTLBR(d.row,d.col,p.row,p.col,f)}else this.model={top:Math.min(l,u),left:Math.min(c,h),bottom:Math.max(l,u),right:Math.max(c,h),sheetName:f}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof o)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=s.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,h){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=s.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=s.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,c),u,c)}}n.exports=o},{"../utils/col-cache":19}],11:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const h=this._worksheet.getColumn(c.col);u=new l(this,h,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:a.l2n(c)}return this._cells[c-1]||this.getCellEx({address:a.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const h=c+u;for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];const g=d.length-u,m=this._cells.length;let v,y,b;if(g<0)for(v=c+d.length;v<=m;v++)b=this._cells[v-1],y=this._cells[v-g-1],y?(b=this.getCell(v),b.value=y.value,b.style=y.style,b._comment=y._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(g>0)for(v=m;v>=h;v--)y=this._cells[v-1],y?(b=this.getCell(v+g),b.value=y.value,b.style=y.style,b._comment=y._comment):this._cells[v+g-1]=void 0;for(v=0;v<d.length;v++)b=this.getCell(c+v),b.value=d[v],b.style={},b._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const h=this._cells.length;for(let f=1;f<=h;f++)u(this.getCell(f),f)}else this._cells.forEach((h,f)=>{h&&h.type!==o.ValueType.Null&&u(h,f+1)})}addPageBreak(c,u){const h=this._worksheet,f=Math.max(0,c-1)||0,d=Math.max(0,u-1)||16838,p={id:this._number,max:d,man:1};f&&(p.min=f),h.rowBreaks.push(p)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((h,f)=>{h!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,f+u),row:this._number,col:f+u}).value=h)})}else this._worksheet.eachColumnKey((u,h)=>{c[h]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[h])})}get hasValues(){return s.some(this._cells,c=>c&&c.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(h=>{h&&h.type!==o.ValueType.Null&&((!c||c>h.col)&&(c=h.col),u<h.col&&(u=h.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(h=>{h&&(h[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,h=0;return this._cells.forEach(f=>{if(f){const d=f.model;d&&((!u||u>f.col)&&(u=f.col),h<f.col&&(h=f.col),c.push(d))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(h=>{switch(h.type){case l.Types.Merge:break;default:{let f;if(h.address)f=a.decodeAddress(h.address);else if(u){const{row:d}=u,p=u.col+1;f={row:d,col:p,address:a.encodeAddress(d,p),$col$row:`$${a.n2l(p)}$${d}`}}u=f,this.getCellEx(f).model=h;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const c=(g,m)=>{if(!g)throw new Error(m)};c(a.ref,"Table must have ref"),c(a.columns,"Table must have column definitions"),c(a.rows,"Table must have row definitions"),a.tl=s.decodeAddress(a.ref);const{row:u,col:h}=a.tl;c(u>0,"Table must be on valid row"),c(h>0,"Table must be on valid col");const{width:f,filterHeight:d,tableHeight:p}=this;a.autoFilterRef=s.encode(u,h,u+d-1,h+f-1),a.tableRef=s.encode(u,h,u+p-1,h+f-1),a.columns.forEach((g,m)=>{c(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const a=(d,p)=>{p&&Object.keys(p).forEach(g=>{d[g]=p[g]})},{worksheet:l,table:c}=this,{row:u,col:h}=c.tl;let f=0;if(c.headerRow){const d=l.getRow(u+f++);c.columns.forEach((p,g)=>{const{style:m,name:v}=p,y=d.getCell(h+g);y.value=v,a(y,m)})}if(c.rows.forEach(d=>{const p=l.getRow(u+f++);d.forEach((g,m)=>{const v=p.getCell(h+m);v.value=g,a(v,c.columns[m].style)})}),c.totalsRow){const d=l.getRow(u+f++);c.columns.forEach((p,g)=>{const m=d.getCell(h+g);if(g===0)m.value=p.totalsRowLabel;else{const v=this.getFormula(p);m.value=v?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}a(m,p.style)})}}load(a){const{table:l}=this,{row:c,col:u}=l.tl;let h=0;if(l.headerRow){const f=a.getRow(c+h++);l.columns.forEach((d,p)=>{f.getCell(u+p).value=d.name})}if(l.rows.forEach(f=>{const d=a.getRow(c+h++);f.forEach((p,g)=>{d.getCell(u+g).value=p})}),l.totalsRow){const f=a.getRow(c+h++);l.columns.forEach((d,p)=>{const g=f.getCell(u+p);p===0?g.value=d.totalsRowLabel:this.getFormula(d)&&(g.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(a.col+u).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new o(this,l,a)}addColumn(a,l,c){this.cacheState(),c===void 0?(this.table.columns.push(a),this.table.rows.forEach((u,h)=>{u.push(l[h])})):(this.table.columns.splice(c,0,a),this.table.rows.forEach((u,h)=>{u.splice(c,0,l[h])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(c=>{c.splice(a,l)})}_assign(a,l,c){this.cacheState(),a[l]=c}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,n,i){const s=r("./worksheet"),o=r("./defined-names"),a=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const h=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const f=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),d=Object.assign({},u,{id:h,name:c,orderNo:f+1,workbook:this}),p=new s(d);return this._worksheets[h]=p,p}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:h,name:f,state:d}=u,p=c.sheets&&c.sheets.findIndex(g=>g.id===h);(this._worksheets[h]=new s({id:h,name:f,orderNo:p,state:d,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("./range"),l=r("./row"),c=r("./column"),u=r("./enums"),h=r("./image"),f=r("./table"),d=r("./data-validations"),p=r("../utils/encryptor"),{copyStyle:g}=r("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new a;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&m.expand(v.number,y.min,v.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((b,x)=>{const _=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(b,_)},0);let v=1;const y=this._columns=[];m.forEach(b=>{const x=new c(this,v++,!1);y.push(x),x.defn=b})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){s.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new c(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const y=this._rows.length;for(var b=arguments.length,x=new Array(b>2?b-2:0),_=2;_<b;_++)x[_-2]=arguments[_];if(x.length>0)for(let O=0;O<y;O++){const H=[m,v];x.forEach(I=>{H.push(I[O]||null)});const G=this.getRow(O+1);G.splice.apply(G,H)}else this._rows.forEach(O=>{O&&O.splice(m,v)});const M=x.length-v,U=m+v,L=this._columns.length;if(M<0)for(let O=m+x.length;O<=L;O++)this.getColumn(O).defn=this.getColumn(O-M).defn;else if(M>0)for(let O=L;O>=U;O--)this.getColumn(O+M).defn=this.getColumn(O).defn;for(let O=m;O<m+x.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(y=>{y.eachCell(b=>{let{col:x}=b;m[x]||(m[x]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const y=[];for(let b=m;b<m+v;b++)y.push(this.getRow(b));return y}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,b=this.getRow(y);return b.values=m,this._setStyleOption(y,v[0]==="i"?v:"n"),b}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(b=>{y.push(this.addRow(b,v))}),y}insertRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),y!=="n")for(let b=0;b<v.length;b++)y[0]==="o"&&this.findRow(v.length+m+b)!==void 0?this._copyStyle(v.length+m+b,m+b,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+b,y[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(m),x=this.getRow(v);x.style=g(b.style),b.eachCell({includeEmpty:y},(_,M)=>{x.getCell(M).style=g(_.style)}),x.height=b.height}duplicateRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[m-1],x=new Array(v).fill(b.values);this.spliceRows(m+1,y?0:v,...x);for(let _=0;_<v;_++){const M=this._rows[m+_];M.style=b.style,M.height=b.height,b.eachCell({includeEmpty:!0},(U,L)=>{M.getCell(L).style=U.style})}}spliceRows(m,v){const y=m+v;for(var b=arguments.length,x=new Array(b>2?b-2:0),_=2;_<b;_++)x[_-2]=arguments[_];const M=x.length,U=M-v,L=this._rows.length;let O,H;if(U<0)for(m===L&&(this._rows[L-1]=void 0),O=y;O<=L;O++)if(H=this._rows[O-1],H){const G=this.getRow(O+U);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(I,R)=>{G.getCell(R).style=I.style}),this._rows[O-1]=void 0}else this._rows[O+U-1]=void 0;else if(U>0)for(O=L;O>=y;O--)if(H=this._rows[O-1],H){const G=this.getRow(O+U);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(I,R)=>{if(G.getCell(R).style=I.style,I._value.constructor.name==="MergeValue"){const S=this.getRow(I._row._number+M).getCell(R),j=I._value._master,E=this.getRow(j._row._number+M).getCell(j._column._number);S.merge(E)}})}else this._rows[O+U-1]=void 0;for(O=0;O<M;O++){const G=this.getRow(m+O);G.style={},G.values=x[O]}this.workbook.definedNames.spliceRows(this.name,m,v,M)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let b=1;b<=y;b++)v(this.getRow(b),b)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const y=o.getAddress(m,v),b=this._rows[y.row-1];return b?b.findCell(y.col):void 0}getCell(m,v){const y=o.getAddress(m,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new a(v);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new a(v);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(m,v){s.each(this._merges,b=>{if(b.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let b=m.top;b<=m.bottom;b++)for(let x=m.left;x<=m.right;x++)(b>m.top||x>m.left)&&this.getCell(b,x).merge(y,v);this._merges[y.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let b=v.left;b<=v.right;b++)this.getCell(y,b).unmerge();delete this._merges[m.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new a(v);for(let x=b.top;x<=b.bottom;x++)for(let _=b.left;_<=b.right;_++){const M=this.findCell(x,_);M&&(M.type===u.ValueType.Merge?this._unMergeMaster(M.master):this._merges[M.address]&&this._unMergeMaster(M))}}fillFormula(m,v,y){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const x=o.decode(m),{top:_,left:M,bottom:U,right:L}=x,O=L-M+1,H=o.encodeAddress(_,M),G=b==="shared";let I;I=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(S,j)=>y[S-_][j-M]:(S,j)=>y[(S-_)*O+(j-M)]:()=>{};let R=!0;for(let S=_;S<=U;S++)for(let j=M;j<=L;j++)R?(this.getCell(S,j).value={shareType:b,formula:v,ref:m,result:I(S,j)},R=!1):this.getCell(S,j).value=G?{sharedFormula:H,result:I(S,j)}:I(S,j)}addImage(m,v){const y={type:"image",imageId:m,range:v};this._media.push(new h(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new h(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};m.cols=c.toModel(this.columns);const v=m.rows=[],y=m.dimensions=new a;return this._rows.forEach(b=>{const x=b&&b.model;x&&(y.expand(x.number,x.min,x.number,x.max),v.push(x))}),m.merges=[],s.each(this._merges,b=>{m.merges.push(b.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(m){s.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=c.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new h(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,y)=>{const b=new f;return b.model=y,v[y.name]=b,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const s={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(a=>{s[a]=o[a]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(r,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=r("buffer");i.stringToBuffer=function(a){return typeof a!="string"?a:s?o.from(s.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(r,n,i){const s=r("./under-dash"),o=r("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,l,c){const u=this.sheets[a],h=u&&u[l];return h&&h[c]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let c=a.left;c<=a.right;c++)this.getCellAt(a.sheetName,l,c);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const c=this.findSheet(a,l),u=this.findSheetRow(c,a,l);return this.findRowCell(u,a,l)}getCellAt(a,l,c){const u=this.sheets[a]||(this.sheets[a]=[]),h=u[l]||(u[l]=[]);return h[c]||(h[c]={sheetName:a,address:o.n2l(c)+l,row:l,col:c})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const c=this.findSheetRow(l,a);c&&delete c[a.col]}forEachInSheet(a,l){const c=this.sheets[a];c&&c.forEach((u,h)=>{u&&u.forEach((f,d)=>{f&&l(f,h,d)})})}forEach(a){s.each(this.sheets,(l,c)=>{this.forEachInSheet(c,a)})}map(a){const l=[];return this.forEach(c=>{l.push(a(c))}),l}findSheet(a,l){const c=a.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(a,l,c){const{row:u}=l;return a&&a[u]?a[u]:c?a[u]=[]:void 0}findRowCell(a,l,c){const{col:u}=l;return a&&a[u]?a[u]:c?a[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,c,u){const h=this.sheets[a];if(h){const f=[];for(let d=0;d<u;d++)f.push([]);h.splice(l,c,...f)}}spliceColumns(a,l,c,u){const h=this.sheets[a];if(h){const f=[];for(let d=0;d<u;d++)f.push(null);s.each(h,d=>{d.splice(l,c,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,c,u,h,f,d=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(d=27;d<=702;)c=d-27,u=c%26,h=Math.floor(c/26),l=this._dictionary[h]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(d=703;d<=16384;)c=d-703,u=c%26,h=Math.floor(c/26)%26,f=Math.floor(c/676),l=this._dictionary[f]+this._dictionary[h]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!s.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let c=!1,u="",h=0,f=!1,d="",p=0;for(let m,v=0;v<a.length;v++)if(m=a.charCodeAt(v),!f&&m>=65&&m<=90)c=!0,u+=a[v],h=26*h+m-64;else if(m>=48&&m<=57)f=!0,d+=a[v],p=10*p+m-48;else if(f&&c&&m!==36)break;if(c){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else h=void 0;f||(p=void 0);const g={address:a=u+d,col:h,row:p,$col$row:`$${u}$${d}`};return h<=100&&p<=100&&(this._hash[a]=g,this._hash[g.$col$row]=g),g},getAddress(a,l){if(l){const c=this.n2l(l)+a;return this.decodeAddress(c)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),h={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],h=u.split(":");if(h.length>1){let d=this.decodeAddress(h[0]),p=this.decodeAddress(h[1]);const g=Math.min(d.row,p.row),m=Math.min(d.col,p.col),v=Math.max(d.row,p.row),y=Math.max(d.col,p.col);return d=this.n2l(m)+g,p=this.n2l(y)+v,{top:g,left:m,bottom:v,right:y,sheetName:c,tl:{address:d,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:c},br:{address:p,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:c},dimensions:`${d}:${p}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const f=this.decodeAddress(u);return c?{sheetName:c,...f}:f},encodeAddress:(a,l)=>o.n2l(l)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[c,u,,h,f]=a,[d,p]=l;return d>=c&&d<=h&&p>=u&&p<=f}};n.exports=o},{}],20:[function(r,n,i){const s=(a,l)=>({...a,...l.reduce((c,u)=>(a[u]&&(c[u]={...a[u]}),c),{})}),o=function(a,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[c]&&(l[c]=s(a[c],u))};i.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const c={...a};return o(a,c,"font",["color"]),o(a,c,"alignment"),o(a,c,"protection"),a.border&&(o(a,c,"border"),o(a.border,c.border,"top",["color"]),o(a.border,c.border,"left",["color"]),o(a.border,c.border,"bottom",["color"]),o(a.border,c.border,"right",["color"]),o(a.border,c.border,"diagonal",["color"])),a.fill&&(o(a,c,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(c.fill.stops=a.fill.stops.map(u=>s(u,["color"])))),c}},{}],21:[function(r,n,i){(function(s){(function(){const o=r("crypto"),a={hash(l){const c=o.createHash(l);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return c.update(s.concat(h)),c.digest()},convertPasswordToHash(l,c,u,h){if(c=c.toLowerCase(),o.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const f=s.from(l,"utf16le");let d=this.hash(c,s.from(u,"base64"),f);for(let p=0;p<h;p++){const g=s.alloc(4);g.writeUInt32LE(p,0),d=this.hash(c,d,g)}return d.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:s}=r("saxes"),{PassThrough:o}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const c=new s;let u;c.on("error",f=>{u=f});let h=[];c.on("opentag",f=>h.push({eventType:"opentag",value:f})),c.on("text",f=>h.push({eventType:"text",value:f})),c.on("closetag",f=>h.push({eventType:"closetag",value:f}));for await(const f of l){if(c.write(a(f)),u)throw u;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const s=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const h=s.decode(c),f=s.decode(u);return l.replace(o,(d,p,g,m,v)=>{if(v)return d;const y=a.exec(m);if(y){const b=y[1],x=y[2].toUpperCase(),_=y[3],M=y[4];if(x.length>3||x.length===3&&x>"XFD")return d;let U=s.l2n(x),L=parseInt(M,10);return b||(U+=f.col-h.col),_||(L+=f.row-h.row),(p||"")+(b||"")+s.n2l(U)+(_||"")+L}return d})}}},{"./col-cache":19}],24:[function(r,n,i){(function(s,o){(function(){const a=r("readable-stream"),l=r("./utils"),c=r("./string-buf");class u{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,y,b){return this.toBuffer().copy(m,v,y,b)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,b){return this._data._buf.copy(m,v,y,b)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,b){this._data.copy(m,v,y,b)}toBuffer(){return this._data}}class d{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=o.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,y){const b=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+b),this.iWrite+=b,b}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new d(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let y;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof c)y=new h(g);else if(g instanceof o)y=new f(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),s.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const y=b=>{b?v(b):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};g?this.write(g,m,y):y()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(g);g-=y.length,m.push(y),v.eod&&v.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=p}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const l=s.alloc(a);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,a={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,h)=>(u[h[c]]=h,u),{}),isEqual:function(l,c){const u=typeof l,h=typeof c,f=Array.isArray(l),d=Array.isArray(c);let p;if(u!==h)return!1;switch(typeof l){case"object":if(f||d)return!(!f||!d)&&l.length===c.length&&l.every((g,m)=>{const v=c[m];return a.isEqual(g,v)});if(l===null||c===null)return l===c;if(p=Object.keys(l),Object.keys(c).length!==p.length)return!1;for(const g of p)if(!c.hasOwnProperty(g))return!1;return a.every(l,(g,m)=>{const v=c[m];return a.isEqual(g,v)});default:return l===c}},escapeHtml(l){const c=o.exec(l);if(!c)return l;let u="",h="",f=0,d=c.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}f!==d&&(u+=l.substring(f,d)),f=d+1,u+=h}return f!==d?u+l.substring(f,d):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,h,f;function d(p,g){u=l[g],f=Array.isArray(p),a.isObject(p)||f?(f?(f=!1,h=u&&Array.isArray(u)?u:[]):h=u&&a.isObject(u)?u:{},l[g]=a.deepMerge(h,p)):a.isUndefined(p)||(l[g]=p)}for(let p=0;p<c;p++)a.each(arguments[p],d);return l}};n.exports=a},{}],27:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(h=>{s.setImmediate?o(()=>{h(u)}):setTimeout(()=>{h(u)},1)}),inherits:function(u,h,f,d){u.super_=h,d||(d=f,f=null),f&&Object.keys(f).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(f,g))});const p={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(d,g)}),u.prototype=Object.create(h.prototype,p)},dateToExcel:(u,h)=>25569+u.getTime()/864e5-(h?1462:0),excelToDate(u,h){const f=Math.round(24*(u-25569+(h?1462:0))*3600*1e3);return new Date(f)},parsePath(u){const h=u.lastIndexOf("/");return{path:u.substring(0,h),name:u.substring(h+1)}},getRelsPath(u){const h=c.parsePath(u);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(u){const h=l.exec(u);if(!h)return u;let f="",d="",p=0,g=h.index;for(;g<u.length;g++){const m=u.charCodeAt(g);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}p!==g&&(f+=u.substring(p,g)),p=g+1,d&&(f+=d)}return p!==g?f+u.substring(p,g):f},xmlDecode:u=>u.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(u){const h=parseInt(u,10);return Number.isNaN(h)?0:h},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(h=>{a.access(u,a.constants.F_OK,f=>{h(!f)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const s=r("./under-dash"),o=r("./utils");function a(u,h,f){u.push(` ${h}="${o.xmlEncode(f.toString())}"`)}function l(u,h){if(h){const f=[];s.each(h,(d,p)=>{d!==void 0&&a(f,p,d)}),u.push(f.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const f=this._xml;f.push("<?xml"),l(f,h),f.push(`?>
`)}openNode(h,f){const d=this.tos,p=this._xml;d&&this.open&&p.push(">"),this._stack.push(h),p.push("<"),p.push(h),l(p,f),this.leaf=!0,this.open=!0}addAttribute(h,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&a(this._xml,h,f)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,h)}writeText(h){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(h),f.push(">")),this.open=!1,this.leaf=!1}leafNode(h,f,d){this.openNode(h,f),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(s){(function(){const o=r("events"),a=r("jszip"),l=r("./stream-buf"),{stringToBuffer:c}=r("./browser-buffer-encode");class u extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new a,this.stream=new l}append(f,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,f,{base64:!0}):(s.browser&&typeof f=="string"&&(f=c(f)),this.zip.file(d.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,d){return this.stream.pipe(f,d)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:u}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const s=r("../../utils/parse-sax"),o=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof a?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:h,value:f}of u)if(h==="opentag")this.parseOpen(f);else if(h==="text")this.parseText(f);else if(h==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(c){return this.parse(s(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new o;return this.render(u,c),u.xml}static toAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c.toString()}static toStringAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/col-cache");function a(c){try{return o.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let h=!1,f="";return c.split(",").forEach(d=>{if(!d)return;const p=(d.match(/'/g)||[]).length;if(!p)return void(h?f+=d+",":a(d)&&u.push(d));const g=p%2==0;!h&&g&&a(d)?u.push(d):h&&!g?(h=!1,a(f+d)&&u.push(f+d),f=""):(h=!0,f+=d+",")}),u}n.exports=class extends s{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:s.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},l=function(u,h,f){const d=h!==void 0?a[u]=h:f;d!==void 0&&(a[u]=d)},c=function(u,h,f){const d=h!==void 0?a[u]=parseInt(h,10):f;d!==void 0&&(a[u]=d)};return c("x",o.attributes.xWindow,0),c("y",o.attributes.yWindow,0),c("width",o.attributes.windowWidth,25e3),c("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),c("activeTab",o.attributes.activeTab,void 0),c("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../base-xform"),c=r("../static-xform"),u=r("../list-xform"),h=r("./defined-name-xform"),f=r("./sheet-xform"),d=r("./workbook-view-xform"),p=r("./workbook-properties-xform"),g=r("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new f}),definedNames:new u({tag:"definedNames",count:!1,childXform:new h}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const b=[];let x=0;y.sheets.forEach(_=>{if(_.pageSetup&&_.pageSetup.printArea&&_.pageSetup.printArea.split("&&").forEach(M=>{const U=M.split(":"),L={name:"_xlnm.Print_Area",ranges:[`'${_.name}'!$${U[0]}:$${U[1]}`],localSheetId:x};b.push(L)}),_.pageSetup&&(_.pageSetup.printTitlesRow||_.pageSetup.printTitlesColumn)){const M=[];if(_.pageSetup.printTitlesColumn){const L=_.pageSetup.printTitlesColumn.split(":");M.push(`'${_.name}'!$${L[0]}:$${L[1]}`)}if(_.pageSetup.printTitlesRow){const L=_.pageSetup.printTitlesRow.split(":");M.push(`'${_.name}'!$${L[0]}:$${L[1]}`)}const U={name:"_xlnm.Print_Titles",ranges:M,localSheetId:x};b.push(U)}x++}),b.length&&(y.definedNames=y.definedNames.concat(b)),(y.media||[]).forEach((_,M)=>{_.name=_.type+(M+1)})}render(y,b){y.openXml(a.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,b.properties),this.map.bookViews.render(y,b.views),this.map.sheets.render(y,b.sheets),this.map.definedNames.render(y,b.definedNames),this.map.calcPr.render(y,b.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const b=(y.workbookRels||[]).reduce((L,O)=>(L[O.Id]=O,L),{}),x=[];let _,M=0;(y.sheets||[]).forEach(L=>{const O=b[L.rId];O&&(_=y.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],_&&(_.name=L.name,_.id=L.id,_.state=L.state,x[M++]=_))});const U=[];s.each(y.definedNames,L=>{if(L.name==="_xlnm.Print_Area"){if(_=x[L.localSheetId],_){_.pageSetup||(_.pageSetup={});const O=o.decodeEx(L.ranges[0]);_.pageSetup.printArea=_.pageSetup.printArea?`${_.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(L.name==="_xlnm.Print_Titles"){if(_=x[L.localSheetId],_){_.pageSetup||(_.pageSetup={});const O=L.ranges.join(","),H=/\$/g,G=/\$\d+:\$\d+/,I=O.match(G);if(I&&I.length){const j=I[0];_.pageSetup.printTitlesRow=j.replace(H,"")}const R=/\$[A-Z]+:\$[A-Z]+/,S=O.match(R);if(S&&S.length){const j=S[0];_.pageSetup.printTitlesColumn=j.replace(H,"")}}}else U.push(L)}),y.definedNames=U,y.media.forEach((L,O)=>{L.index=O})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const s=r("../strings/rich-text-xform"),o=r("../../../utils/utils"),a=r("../base-xform"),l=n.exports=function(c){this.model=c};o.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(h=>{this.richTextXform.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),a=r("../base-xform"),l=r("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};o.inherits(c,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,h){h=h||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),h.comments.forEach(f=>{this.map.comment.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),l=Math.floor(68*(o.left-a)),c=Math.floor(o.top),u=Math.floor(18*(o.top-c)),h=Math.floor(o.right),f=Math.floor(68*(o.right-h)),d=Math.floor(o.bottom);return[a,l,c,u,h,f,d,Math.floor(18*(o.bottom-d))]}getDefaultRect(o){const a=o.col,l=Math.max(o.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(o,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,h){const{protection:f,editAs:d}=h.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,c),this.map["x:SizeWithCells"].render(u,d,c),this.map["x:Anchor"].render(u,h),this.map["x:Locked"].render(u,f.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,f.lockText),u.leafNode("x:Row",null,h.refAddress.row-1),u.leafNode("x:Column",null,h.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(u).length;this.model.editAs=c[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(u,h){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),h.comments.forEach((f,d)=>{this.map["v:shape"].render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,h){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,h):this.map["xdr:oneCellAnchor"].reconcile(f,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(u,h,f){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(h,f)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,h),this.map["x:ClientData"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,a,l){return`${parseFloat(o)*a.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:c}=a.note&&a.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(f,d){f.openXml(s.StdDocAttributes),f.openNode("Properties",u.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,d.worksheets),this.map.TitleOfParts.render(f,d.worksheets),this.map.Company.render(f,d.company||""),this.map.Manager.render(f,d.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform");class a extends o{render(c,u){c.openXml(s.StdDocAttributes),c.openNode("Types",a.PROPERTY_ATTRIBUTES);const h={};(u.media||[]).forEach(f=>{if(f.type==="image"){const d=f.extension;h[d]||(h[d]=!0,c.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(f=>{const d=`/xl/worksheets/sheet${f.id}.xml`;c.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(f=>{c.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(f=>{c.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(f=>{let{commentName:d}=f;c.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/date-xform"),l=r("../simple/string-xform"),c=r("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(f,d){f.openXml(s.StdDocAttributes),f.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,d.creator),this.map["dc:title"].render(f,d.title),this.map["dc:subject"].render(f,d.subject),this.map["dc:description"].render(f,d.description),this.map["dc:identifier"].render(f,d.identifier),this.map["dc:language"].render(f,d.language),this.map["cp:keywords"].render(f,d.keywords),this.map["cp:category"].render(f,d.category),this.map["cp:lastModifiedBy"].render(f,d.lastModifiedBy),this.map["cp:lastPrinted"].render(f,d.lastPrinted),this.map["cp:revision"].render(f,d.revision),this.map["cp:version"].render(f,d.version),this.map["cp:contentStatus"].render(f,d.contentStatus),this.map["cp:contentType"].render(f,d.contentType),this.map["dcterms:created"].render(f,d.created),this.map["dcterms:modified"].render(f,d.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new a}}render(u,h){h=h||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),h.forEach(f=>{this.map.Relationship.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const l=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=a.mediaIndex[c];return a.media[u]}}}}},{"../base-xform":32}],57:[function(r,n,i){const s=r("../base-xform"),o=r("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const s=r("../base-xform"),o=r("./hlink-click-xform"),a=r("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const s=r("../base-xform"),o=r("../simple/integer-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform");class u extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(f){f.anchors.forEach((d,p)=>{d.anchorType=function(g){return(typeof g.range=="string"?s.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:p})})}get tag(){return"xdr:wsDr"}render(f,d){f.openXml(o.StdDocAttributes),f.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(p=>{this.map[p.anchorType].render(f,p)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,d){f.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,d):this.map["xdr:oneCellAnchor"].reconcile(p,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const l=Math.floor(9525*a.width),c=Math.floor(9525*a.height);o.addAttribute("cx",l),o.addAttribute("cy",c),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const s=r("../base-xform"),o=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./ext-xform"),c=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,h){this.map["xdr:pic"].prepare(u.picture,h)}render(u,h){u.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,h.range.tl),this.map["xdr:ext"].render(u,h.range.ext),this.map["xdr:pic"].render(u,h.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,h){u.medium=this.reconcilePicture(u.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const s=r("../base-xform"),o=r("../static-xform"),a=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),c=r("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new o(c)}}get tag(){return"xdr:pic"}prepare(u,h){u.index=h.index+1}render(u,h){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,h),this.map["xdr:blipFill"].render(u,h),this.map["xdr:spPr"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:l}=this;o&&o.forEach((c,u)=>{a.index=u,l.prepare(c,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((c,u)=>{l.render(o,c,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:l}=this;o.forEach(c=>{l.reconcile(c,a)})}}}},{"./base-xform":32}],72:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const c=function(f){return typeof f=="string"?f:s.getAddress(f.row,f.column).address},u=c(l.from),h=c(l.to);u&&h&&a.leafNode("autoFilter",{ref:`${u}:${h}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform"),a=r("../../../doc/range"),l=r("../../../doc/enums"),c=r("../strings/rich-text-xform");function u(h){if(h==null)return l.ValueType.Null;if(h instanceof String||typeof h=="string")return l.ValueType.String;if(typeof h=="number")return l.ValueType.Number;if(typeof h=="boolean")return l.ValueType.Boolean;if(h instanceof Date)return l.ValueType.Date;if(h.text&&h.hyperlink)return l.ValueType.Hyperlink;if(h.formula)return l.ValueType.Formula;if(h.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(h,f){const d=f.styles.addStyleModel(h.style||{},function(p){switch(p.type){case l.ValueType.Formula:return u(p.result);default:return p.type}}(h));switch(d&&(h.styleId=d),h.comment&&f.comments.push({...h.comment,ref:h.address}),h.type){case l.ValueType.String:case l.ValueType.RichText:f.sharedStrings&&(h.ssId=f.sharedStrings.add(h.value));break;case l.ValueType.Date:f.date1904&&(h.date1904=!0);break;case l.ValueType.Hyperlink:f.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=f.sharedStrings.add(h.text)),f.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case l.ValueType.Merge:f.merges.add(h);break;case l.ValueType.Formula:if(f.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=f.siFormulae++),h.formula)f.formulae[h.address]=h;else if(h.sharedFormula){const p=f.formulae[h.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);p.si===void 0?(p.shareType="shared",p.si=f.siFormulae++,p.range=new a(p.address,h.address)):p.range&&p.range.expandToAddress(h.address),h.si=p.si}}}renderFormula(h,f){let d=null;switch(f.shareType){case"shared":d={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":d={t:"array",ref:f.ref};break;default:f.si!==void 0&&(d={t:"shared",si:f.si})}switch(u(f.result)){case l.ValueType.Null:h.leafNode("f",d,f.formula);break;case l.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result);break;case l.ValueType.Number:h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result?1:0);break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result.error);break;case l.ValueType.Date:h.leafNode("f",d,f.formula),h.leafNode("v",null,s.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,f){if(f.type!==l.ValueType.Null||f.styleId){switch(h.openNode("c"),h.addAttribute("r",f.address),f.styleId&&h.addAttribute("s",f.styleId),f.type){case l.ValueType.Null:break;case l.ValueType.Number:h.leafNode("v",null,f.value);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,f.value?"1":"0");break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,f.value.error);break;case l.ValueType.String:case l.ValueType.RichText:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),f.value.richText.forEach(d=>{this.richTextXForm.render(h,d)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,f.value));break;case l.ValueType.Date:h.leafNode("v",null,s.dateToExcel(f.value,f.date1904));break;case l.ValueType.Hyperlink:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,f.text));break;case l.ValueType.Formula:this.renderFormula(h,f);break;case l.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=l.ValueType.Formula,f.value&&(this.t==="str"?f.result=s.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=l.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=l.ValueType.String,f.value=s.xmlDecode(f.value);break;case"inlineStr":f.type=l.ValueType.String;break;case"b":f.type=l.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=l.ValueType.Error,f.value={error:f.value};break;default:f.type=l.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=l.ValueType.Null:f.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,f){const d=h.styleId&&f.styles&&f.styles.getStyleModel(h.styleId);switch(d&&(h.style=d),h.styleId!==void 0&&(h.styleId=void 0),h.type){case l.ValueType.String:typeof h.value=="number"&&f.sharedStrings&&(h.value=f.sharedStrings.getString(h.value)),h.value.richText&&(h.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&s.isDateFmt(d.numFmt)&&(h.type=l.ValueType.Date,h.value=s.excelToDate(h.value,f.date1904));break;case l.ValueType.Formula:h.result!==void 0&&d&&s.isDateFmt(d.numFmt)&&(h.result=s.excelToDate(h.result,f.date1904)),h.shareType==="shared"&&(h.ref?f.formulae[h.si]=h.address:(h.sharedFormula=f.formulae[h.si],delete h.shareType),delete h.si)}const p=f.hyperlinkMap[h.address];p&&(h.type===l.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=l.ValueType.Hyperlink,h.hyperlink=p);const g=f.commentsMap&&f.commentsMap[h.address];g&&(h.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:s.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:s}=r("uuid"),o=r("../../base-xform"),a=r("../../composite-xform"),l=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){h.isExt(d)&&(d.x14Id=`{${s()}}`.toUpperCase())}render(d,p){if(h.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(d,p);break;case"iconSet":this.renderIconSet(d,p)}}renderDataBar(d,p){d.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(d,p),d.closeNode()}renderIconSet(d,p){d.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${s()}}`}),this.iconSetXform.render(d,p),d.closeNode()}createNewModel(d){let{attributes:p}=d;return{type:p.type,x14Id:p.id,priority:o.toIntValue(p.priority)}}onParserClose(d,p){Object.assign(this.model,p.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const s=r("../../composite-xform"),o=r("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const s=r("../../composite-xform"),o=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(a.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(o.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),u.icons&&u.icons.forEach((h,f)=>{h.iconId=f,this.cfIconXform.render(c,h)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../../../doc/range"),l=r("./databar-xform"),c=r("./ext-lst-ref-xform"),u=r("./formula-xform"),h=r("./color-scale-xform"),f=r("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:v,operator:y}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!d[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(b=>{this.formulaXform.render(v,b)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:s.toBoolAttribute(y.percent,!1),bottom:s.toBoolAttribute(y.bottom,!1),rank:s.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:s.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){g.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:s.toStringAttribute(y.operator,"containsText")});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const _=new a(x.ref),{tl:M}=_;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${M})))`;case"containsBlanks":return`LEN(TRIM(${M}))=0`;case"notContainsBlanks":return`LEN(TRIM(${M}))>0`;case"containsErrors":return`ISERROR(${M})`;case"notContainsErrors":return`NOT(ISERROR(${M}))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const _=new a(x.ref),{tl:M}=_;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${M},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${M},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${M},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${M},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${M},1)=TODAY()-1`;case"today":return`FLOOR(${M},1)=TODAY()`;case"tomorrow":return`FLOOR(${M},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${M},1)<=6,FLOOR(${M},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0-1)),YEAR(${M})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${M})=MONTH(TODAY()),YEAR(${M})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0+1)),YEAR(${M})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...p(y),dxfId:s.toIntValue(y.dxfId),priority:s.toIntValue(y.priority),timePeriod:y.timePeriod,percent:s.toBoolValue(y.percent),bottom:s.toBoolValue(y.bottom),rank:s.toIntValue(y.rank),aboveAverage:s.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{o.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(a,c))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const s=r("../../base-xform"),o=r("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let c=a.reduce((u,h)=>Math.max(u,...h.rules.map(f=>f.priority||0)),1);a.forEach(u=>{u.rules.forEach(h=>{h.priority||(h.priority=c++),h.style&&(h.dxfId=l.styles.addDxfStyle(h.style))})})}render(a,l){l.forEach(c=>{this.cfXform.render(a,c)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform");class a extends s{get tag(){return"x14:id"}render(u,h){u.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(u,h){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,h.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,h){this.model.x14Id=h.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse),showValue:s.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(a,l){const c=l.styles.addStyleModel(a.style||{});c&&(a.styleId=c)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),s.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/utils"),a=r("../../../utils/col-cache"),l=r("../base-xform"),c=r("../../../doc/range");function u(f,d,p,g){const m=d[p];m!==void 0?f[p]=m:g!==void 0&&(f[p]=g)}function h(f,d,p,g){const m=d[p];m!==void 0&&(f[p]=o.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(f,d){const p=function(g){const m=s.map(g,(b,x)=>({address:x,dataValidation:b,marked:!1})).sort((b,x)=>s.strcmp(b.address,x.address)),v=s.keyBy(m,"address"),y=(b,x,_)=>{for(let M=0;M<x;M++){const U=a.encodeAddress(b.row+M,_);if(!g[U]||!s.isEqual(g[b.address],g[U]))return!1}return!0};return m.map(b=>{if(!b.marked){const x=a.decodeEx(b.address);if(x.dimensions)return v[x.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let _=1,M=a.encodeAddress(x.row+_,x.col);for(;g[M]&&s.isEqual(b.dataValidation,g[M]);)_++,M=a.encodeAddress(x.row+_,x.col);let U=1;for(;y(x,_,x.col+U);)U++;for(let L=0;L<_;L++)for(let O=0;O<U;O++)M=a.encodeAddress(x.row+L,x.col+O),v[M].marked=!0;if(_>1||U>1){const L=x.row+(_-1),O=x.col+(U-1);return{...b.dataValidation,sqref:`${b.address}:${a.encodeAddress(L,O)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(d);p.length&&(f.openNode("dataValidations",{count:p.length}),p.forEach(g=>{f.openNode("dataValidation"),g.type!=="any"&&(f.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&f.addAttribute("operator",g.operator),g.allowBlank&&f.addAttribute("allowBlank","1")),g.showInputMessage&&f.addAttribute("showInputMessage","1"),g.promptTitle&&f.addAttribute("promptTitle",g.promptTitle),g.prompt&&f.addAttribute("prompt",g.prompt),g.showErrorMessage&&f.addAttribute("showErrorMessage","1"),g.errorStyle&&f.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&f.addAttribute("errorTitle",g.errorTitle),g.error&&f.addAttribute("error",g.error),f.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),g.type==="date"?f.writeText(o.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const d={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&h(d,f.attributes,"allowBlank"),h(d,f.attributes,"showInputMessage"),h(d,f.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,f.attributes,"operator","between")}return u(d,f.attributes,"promptTitle"),u(d,f.attributes,"prompt"),u(d,f.attributes,"errorStyle"),u(d,f.attributes,"errorTitle"),u(d,f.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new c(d).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=o.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const s=r("../composite-xform"),o=r("./cf-ext/conditional-formattings-ext-xform");class a extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let l=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../doc/range"),a=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new o(u)}}get mergeCells(){return s.map(this.merges,c=>c.range)}reconcile(c,u){s.each(c,h=>{const f=a.decode(h);for(let d=f.top;d<=f.bottom;d++){const p=u[d-1];for(let g=f.left;g<=f.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=f.tl):p.cells[g]={type:l.ValueType.Null,address:a.encodeAddress(d,g)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const s=r("../base-xform"),o=a=>a!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(a,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(a,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(h){return h?"1":void 0}function l(h){switch(h){case"overThenDown":return h;default:return}}function c(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function u(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(h,f){if(f){const d={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:l(f.pageOrder),blackAndWhite:a(f.blackAndWhite),draft:a(f.draft),cellComments:c(f.cellComments),errors:u(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:a(f.firstPageNumber),usePrinterDefaults:a(f.usePrinterDefaults),copies:f.copies};s.some(d,p=>p!==void 0)&&h.leafNode(this.tag,d)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(f=h.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:a(c.showRowColHeaders),gridLines:a(c.showGridLines),horizontalCentered:a(c.horizontalCentered),verticalCentered:a(c.verticalCentered)};s.some(u,h=>h!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const s=r("./page-breaks-xform"),o=r("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(a,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const h=this.map.c;l.cells.forEach(f=>{h.prepare(f,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const h=this.map.c;c.cells.forEach(f=>{h.render(l,f,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(h=>{u.reconcile(h,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),s.some(c,u=>u!==void 0)&&a.leafNode("sheetFormatPr",c)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const s=r("../base-xform"),o=r("../style/color-xform"),a=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(c,u.tabColor)||h,h=this.map.pageSetUpPr.render(c,u.pageSetup)||h,h=this.map.outlinePr.render(c,u.outlineProperties)||h,h?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(c,u){if(u){const h={sheet:a(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:a(u.formatCells,"0"),formatColumns:a(u.formatColumns,"0"),formatRows:a(u.formatRows,"0"),insertColumns:a(u.insertColumns,"0"),insertRows:a(u.insertRows,"0"),insertHyperlinks:a(u.insertHyperlinks,"0"),deleteColumns:a(u.deleteColumns,"0"),deleteRows:a(u.deleteRows,"0"),sort:a(u.sort,"0"),autoFilter:a(u.autoFilter,"0"),pivotTables:a(u.pivotTables,"0")};u.sheet&&(h.algorithmName=u.algorithmName,h.hashValue=u.hashValue,h.saltValue=u.saltValue,h.spinCount=u.spinCount,h.objects=a(u.objects===!1,"1"),h.scenarios=a(u.scenarios===!1,"1")),s.some(h,f=>f!==void 0)&&c.leafNode(this.tag,h)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(g,m,v){v&&l.addAttribute(g,m)};let h,f,d,p;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":f=c.xSplit||0,d=c.ySplit||0,h=c.topLeftCell||s.getAddress(d+1,f+1).address,p=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:h,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../../rel-type"),c=r("./merges"),u=r("../base-xform"),h=r("../list-xform"),f=r("./row-xform"),d=r("./col-xform"),p=r("./dimension-xform"),g=r("./hyperlink-xform"),m=r("./merge-cell-xform"),v=r("./data-validations-xform"),y=r("./sheet-properties-xform"),b=r("./sheet-format-properties-xform"),x=r("./sheet-view-xform"),_=r("./sheet-protection-xform"),M=r("./page-margins-xform"),U=r("./page-setup-xform"),L=r("./print-options-xform"),O=r("./auto-filter-xform"),H=r("./picture-xform"),G=r("./drawing-xform"),I=r("./table-part-xform"),R=r("./row-breaks-xform"),S=r("./header-footer-xform"),j=r("./cf/conditional-formattings-xform"),E=r("./ext-lst-xform"),k=(C,D)=>{if(!D||!D.length)return C;if(!C||!C.length)return D;const z={},P={};return C.forEach(K=>{z[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:te}=Z;te&&(P[te]=Z)})}),D.forEach(K=>{K.rules.forEach(Z=>{const te=P[Z.x14Id];te?((q,$)=>{Object.keys($).forEach(N=>{const T=q[N],V=$[N];T===void 0&&V!==void 0&&(q[N]=V)})})(te,Z):z[K.ref]?z[K.ref].rules.push(Z):C.push({ref:K.ref,rules:[Z]})})}),C};class A extends u{constructor(D){super();const{maxRows:z,maxCols:P,ignoreNodes:K}=D||{};this.ignoreNodes=K||[],this.map={sheetPr:new y,dimension:new p,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new b,cols:new h({tag:"cols",count:!1,childXform:new d}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:P}),maxItems:z}),autoFilter:new O,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new R,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new M,dataValidations:new v,pageSetup:new U,headerFooter:new S,printOptions:new L,picture:new H,drawing:new G,sheetProtection:new _,tableParts:new h({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new j,extLst:new E}}prepare(D,z){z.merges=new c,D.hyperlinks=z.hyperlinks=[],D.comments=z.comments=[],z.formulae={},z.siFormulae=0,this.map.cols.prepare(D.cols,z),this.map.sheetData.prepare(D.rows,z),this.map.conditionalFormatting.prepare(D.conditionalFormattings,z),D.mergeCells=z.merges.mergeCells;const P=D.rels=[];function K(q){return"rId"+(q.length+1)}if(D.hyperlinks.forEach(q=>{const $=K(P);q.rId=$,P.push({Id:$,Type:l.Hyperlink,Target:q.target,TargetMode:"External"})}),D.comments.length>0){const q={Id:K(P),Type:l.Comments,Target:`../comments${D.id}.xml`};P.push(q);const $={Id:K(P),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};P.push($),D.comments.forEach(N=>{N.refAddress=o.decodeAddress(N.ref)}),z.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const Z=[];let te;D.media.forEach(q=>{if(q.type==="background"){const $=K(P);te=z.media[q.imageId],P.push({Id:$,Type:l.Image,Target:`../media/${te.name}.${te.extension}`}),D.background={rId:$},D.image=z.media[q.imageId]}else if(q.type==="image"){let{drawing:$}=D;te=z.media[q.imageId],$||($=D.drawing={rId:K(P),name:"drawing"+ ++z.drawingsCount,anchors:[],rels:[]},z.drawings.push($),P.push({Id:$.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${$.name}.xml`}));let N=this.preImageId===q.imageId?Z[q.imageId]:Z[$.rels.length];N||(N=K($.rels),Z[$.rels.length]=N,$.rels.push({Id:N,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const T={picture:{rId:N},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const V=K($.rels);Z[$.rels.length]=V,T.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:V},$.rels.push({Id:V,Type:l.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,$.anchors.push(T)}}),D.tables.forEach(q=>{const $=K(P);q.rId=$,P.push({Id:$,Type:l.Table,Target:"../tables/"+q.target}),q.columns.forEach(N=>{const{style:T}=N;T&&(N.dxfId=z.styles.addDxfStyle(T))})}),this.map.extLst.prepare(D,z)}render(D,z){D.openXml(a.StdDocAttributes),D.openNode("worksheet",A.WORKSHEET_ATTRIBUTES);const P=z.properties?{defaultRowHeight:z.properties.defaultRowHeight,dyDescent:z.properties.dyDescent,outlineLevelCol:z.properties.outlineLevelCol,outlineLevelRow:z.properties.outlineLevelRow}:void 0;z.properties&&z.properties.defaultColWidth&&(P.defaultColWidth=z.properties.defaultColWidth);const K={outlineProperties:z.properties&&z.properties.outlineProperties,tabColor:z.properties&&z.properties.tabColor,pageSetup:z.pageSetup&&z.pageSetup.fitToPage?{fitToPage:z.pageSetup.fitToPage}:void 0},Z=z.pageSetup&&z.pageSetup.margins,te={showRowColHeaders:z.pageSetup&&z.pageSetup.showRowColHeaders,showGridLines:z.pageSetup&&z.pageSetup.showGridLines,horizontalCentered:z.pageSetup&&z.pageSetup.horizontalCentered,verticalCentered:z.pageSetup&&z.pageSetup.verticalCentered},q=z.sheetProtection;this.map.sheetPr.render(D,K),this.map.dimension.render(D,z.dimensions),this.map.sheetViews.render(D,z.views),this.map.sheetFormatPr.render(D,P),this.map.cols.render(D,z.cols),this.map.sheetData.render(D,z.rows),this.map.sheetProtection.render(D,q),this.map.autoFilter.render(D,z.autoFilter),this.map.mergeCells.render(D,z.mergeCells),this.map.conditionalFormatting.render(D,z.conditionalFormattings),this.map.dataValidations.render(D,z.dataValidations),this.map.hyperlinks.render(D,z.hyperlinks),this.map.printOptions.render(D,te),this.map.pageMargins.render(D,Z),this.map.pageSetup.render(D,z.pageSetup),this.map.headerFooter.render(D,z.headerFooter),this.map.rowBreaks.render(D,z.rowBreaks),this.map.drawing.render(D,z.drawing),this.map.picture.render(D,z.background),this.map.tableParts.render(D,z.tables),this.map.extLst.render(D,z),z.rels&&z.rels.forEach($=>{$.Type===l.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":$.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(s.each(this.map,z=>{z.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const z=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(z.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(z.outlineProperties=this.map.sheetPr.model.outlineProperties);const P={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(P,this.map.pageSetup.model,this.map.printOptions.model),Z=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:z,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,z){const P=(D.relationships||[]).reduce((Z,te)=>{if(Z[te.Id]=te,te.Type===l.Comments&&(D.comments=z.comments[te.Target].comments),te.Type===l.VmlDrawing&&D.comments&&D.comments.length){const q=z.vmlDrawings[te.Target].comments;D.comments.forEach(($,N)=>{$.note=Object.assign({},$.note,q[N])})}return Z},{});if(z.commentsMap=(D.comments||[]).reduce((Z,te)=>(te.ref&&(Z[te.ref]=te),Z),{}),z.hyperlinkMap=(D.hyperlinks||[]).reduce((Z,te)=>(te.rId&&(Z[te.address]=P[te.rId].Target),Z),{}),z.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,z),this.map.sheetData.reconcile(D.rows,z),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,z),D.media=[],D.drawing){const Z=P[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const te=Z[1];z.drawings[te].anchors.forEach(q=>{if(q.medium){const $={type:"image",imageId:q.medium.index,range:q.range,hyperlinks:q.picture.hyperlinks};D.media.push($)}})}}const K=D.background&&P[D.background.rId];if(K){const Z=K.Target.split("/media/")[1],te=z.mediaIndex&&z.mediaIndex[Z];te!==void 0&&D.media.push({type:"background",imageId:te})}D.tables=(D.tables||[]).map(Z=>{const te=P[Z.rId];return z.tables[te.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}A.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const s=r("./base-xform"),o=r("../../utils/xml-stream");n.exports=class extends s{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new o;(function c(u,h){u.openNode(h.tag,h.$),h.c&&h.c.forEach(f=>{c(u,f)}),h.t&&u.writeText(h.t),u.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(h=>{u.render(l,h)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const s=r("./text-xform"),o=r("../style/font-xform"),a=r("../base-xform");class l extends a{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(u,h){h=h||this.model,u.openNode("r"),h.font&&this.fontXform.render(u,h.font),this.textXform.render(u,h.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new o,t:new s,rPh:new a}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(h=>{this.map.r.render(c,h)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(h=>{u.render(l,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/utils"),a=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const h=Math.round(u);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(u){const h=o.validInt(u);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends a{get tag(){return"alignment"}render(u,h){u.addRollback(),u.openNode("alignment");let f=!1;function d(p,g){g&&(u.addAttribute(p,g),f=!0)}d("horizontal",l.horizontal(h.horizontal)),d("vertical",l.vertical(h.vertical)),d("wrapText",!!l.wrapText(h.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(h.shrinkToFit)&&"1"),d("indent",l.indent(h.indent)),d("textRotation",c.toXml(h.textRotation)),d("readingOrder",l.readingOrder(h.readingOrder)),u.closeNode(),f?u.commit():u.rollback()}parseOpen(u){const h={};let f=!1;function d(p,g,m){p&&(h[g]=m,f=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new a}}get tag(){return this.name}render(u,h,f){const d=h&&h.color||f||this.defaultColor;u.openNode(this.name),h&&h.style&&(u.addAttribute("style",h.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:h}=u.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:h}=u;function f(d,p){d&&!d.color&&u.color&&(d={...d,color:u.color}),p.render(c,d,h)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),f(u.left,this.map.left),f(u.right,this.map.right),f(u.top,this.map.top),f(u.bottom,this.map.bottom),f(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},h=function(f,d,p){d&&(p&&Object.assign(d,p),u[f]=d)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./border-xform"),l=r("./fill-xform"),c=r("./font-xform"),u=r("./numfmt-xform"),h=r("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new a,fill:new l,font:new c,numFmt:new u,protection:new h}}get tag(){return"dxf"}render(f,d){if(f.openNode(this.tag),d.font&&this.map.font.render(f,d.font),d.numFmt&&d.numFmtId){const p={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(f,p)}d.fill&&this.map.fill.render(f,d.fill),d.alignment&&this.map.alignment.render(f,d.alignment),d.border&&this.map.border.render(f,d.border),d.protection&&this.map.protection.render(f,d.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const s=r("../base-xform"),o=r("./color-xform");class a extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,d){f.openNode("stop"),f.addAttribute("position",d.position),this.map.color.render(f,d.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,d){f.openNode("patternFill"),f.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(f,d.fgColor),d.bgColor&&this.map.bgColor.render(f,d.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,d){switch(f.openNode("gradientFill"),d.gradient){case"angle":f.addAttribute("degree",d.degree);break;case"path":f.addAttribute("type","path"),d.center.left&&(f.addAttribute("left",d.center.left),d.center.right===void 0&&f.addAttribute("right",d.center.left)),d.center.right&&f.addAttribute("right",d.center.right),d.center.top&&(f.addAttribute("top",d.center.top),d.center.bottom===void 0&&f.addAttribute("bottom",d.center.top)),d.center.bottom&&f.addAttribute("bottom",d.center.bottom)}const p=this.map.stop;d.stops.forEach(g=>{p.render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const d=this.model={stops:[]};return f.attributes.degree?(d.gradient="angle",d.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(d.gradient="path",d.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(d.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(d.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(f,d){switch(f.addRollback(),f.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(f,d);break;case"gradient":this.map.gradientFill.render(f,d);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return u.validPatternValues[f]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,f)=>(h[f]=!0,h),{}),u.StopXform=a,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const s=r("./color-xform"),o=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),l=r("../simple/string-xform"),c=r("./underline-xform"),u=r("../../../utils/under-dash"),h=r("../base-xform");class f extends h{constructor(p){super(),this.options=p||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),u.each(this.map,(v,y)=>{m[y].xform.render(p,g[v.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../defaultnumformats"),a=r("../base-xform"),l=function(){const u={};return s.each(o,(h,f)=>{h.f&&(u[h.f]=parseInt(f,10))}),u}();class c extends a{constructor(h,f){super(),this.id=h,this.formatCode=f}get tag(){return"numFmt"}render(h,f){h.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return o[u]&&o[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const s=r("../base-xform"),o={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends s{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let c=!1;function u(h,f){f!==void 0&&(a.addAttribute(h,f),c=!0)}u("locked",o.boolean(l.locked,!0)?void 0:"0"),u("hidden",o.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),c?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("../static-xform"),c=r("../list-xform"),u=r("./font-xform"),h=r("./fill-xform"),f=r("./border-xform"),d=r("./numfmt-xform"),p=r("./style-xform"),g=r("./dxf-xform");class m extends a{constructor(y){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new d}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new h}),borders:new c({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new d,font:new u,fill:new h,border:new f,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,b){b=b||this.model,y.openXml(o.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(y.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(x=>{y.writeXml(x)}),y.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(x=>{y.writeXml(x)}),y.closeNode(),y.openNode("fills",{count:b.fills.length}),b.fills.forEach(x=>{y.writeXml(x)}),y.closeNode(),y.openNode("borders",{count:b.borders.length}),b.borders.forEach(x=>{y.writeXml(x)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(x=>{y.writeXml(x)}),y.closeNode()):(this.map.numFmts.render(y,b.numFmts),this.map.fonts.render(y,b.fonts),this.map.fills.render(y,b.fills),this.map.borders.render(y,b.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,b.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,b.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const b=(x,_)=>{_.model&&_.model.length&&(this.model[x]=_.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const x=this.index.numFmt;this.model.numFmts.forEach(_=>{x[_.id]=_.formatCode})}return!1}default:return!0}}addStyleModel(y,b){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const x={};if(b=b||s.ValueType.Number,y.numFmt)x.numFmtId=this._addNumFmtStr(y.numFmt);else switch(b){case s.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(x.fontId=this._addFont(y.font)),y.border&&(x.borderId=this._addBorder(y.border)),y.fill&&(x.fillId=this._addFill(y.fill)),y.alignment&&(x.alignment=y.alignment),y.protection&&(x.protection=y.protection);const _=this._addStyle(x);return this.weakMap&&this.weakMap.set(y,_),_}getStyleModel(y){const b=this.model.styles[y];if(!b)return null;let x=this.index.model[y];if(x)return x;if(x=this.index.model[y]={},b.numFmtId){const M=this.index.numFmt[b.numFmtId]||d.getDefaultFmtCode(b.numFmtId);M&&(x.numFmt=M)}function _(M,U,L){if(L||L===0){const O=U[L];O&&(x[M]=O)}}return _("font",this.model.fonts,b.fontId),_("border",this.model.borders,b.borderId),_("fill",this.model.fills,b.fillId),b.alignment&&(x.alignment=b.alignment),b.protection&&(x.protection=b.protection),x}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const b=this.map.style.toXml(y);let x=this.index.style[b];return x===void 0&&(x=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),x}_addNumFmtStr(y){let b=d.getDefaultFmtId(y);if(b!==void 0||(b=this.index.numFmt[y],b!==void 0))return b;b=this.index.numFmt[y]=164+this.model.numFmts.length;const x=this.map.numFmt.toXml({id:b,formatCode:y});return this.model.numFmts.push(x),b}_addFont(y){const b=this.map.font.toXml(y);let x=this.index.font[b];return x===void 0&&(x=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),x}_addBorder(y){const b=this.map.border.toXml(y);let x=this.index.border[b];return x===void 0&&(x=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),x}_addFill(y){const b=this.map.fill.toXml(y);let x=this.index.fill[b];return x===void 0&&(x=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),x}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const s=r("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=o.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(r,n,i){const s=r("../base-xform"),o=r("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(a,c)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const s=r("../base-xform"),o=r("../list-xform"),a=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../list-xform"),l=r("./auto-filter-xform"),c=r("./table-column-xform"),u=r("./table-style-info-xform");class h extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(d,p){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,p)}get tag(){return"table"}render(d,p){d.openXml(s.StdDocAttributes),d.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(d,p),this.map.tableColumns.render(d,p.columns),this.map.tableStyleInfo.render(d,p.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:p,attributes:g}=d;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,p){d.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=r("jszip"),{PassThrough:c}=r("readable-stream"),u=r("../utils/zip-stream"),h=r("../utils/stream-buf"),f=r("../utils/utils"),d=r("../utils/xml-stream"),{bufferToString:p}=r("../utils/browser-buffer-decode"),g=r("./xform/style/styles-xform"),m=r("./xform/core/core-xform"),v=r("./xform/strings/shared-strings-xform"),y=r("./xform/core/relationships-xform"),b=r("./xform/core/content-types-xform"),x=r("./xform/core/app-xform"),_=r("./xform/book/workbook-xform"),M=r("./xform/sheet/worksheet-xform"),U=r("./xform/drawing/drawing-xform"),L=r("./xform/table/table-xform"),O=r("./xform/comment/comments-xform"),H=r("./xform/comment/vml-notes-xform"),G=r("./xml/theme1");class I{constructor(S){this.workbook=S}async readFile(S,j){if(!await f.fs.exists(S))throw new Error("File not found: "+S);const E=a.createReadStream(S);try{const k=await this.read(E,j);return E.close(),k}catch(k){throw E.close(),k}}parseRels(S){return new y().parseStream(S)}parseWorkbook(S){return new _().parseStream(S)}parseSharedStrings(S){return new v().parseStream(S)}reconcile(S,j){const E=new _,k=new M(j),A=new U,C=new L;E.reconcile(S);const D={media:S.media,mediaIndex:S.mediaIndex};Object.keys(S.drawings).forEach(K=>{const Z=S.drawings[K],te=S.drawingRels[K];te&&(D.rels=te.reduce((q,$)=>(q[$.Id]=$,q),{}),(Z.anchors||[]).forEach(q=>{const $=q.picture&&q.picture.hyperlinks;$&&D.rels[$.rId]&&($.hyperlink=D.rels[$.rId].Target,delete $.rId)}),A.reconcile(Z,D))});const z={styles:S.styles};Object.values(S.tables).forEach(K=>{C.reconcile(K,z)});const P={styles:S.styles,sharedStrings:S.sharedStrings,media:S.media,mediaIndex:S.mediaIndex,date1904:S.properties&&S.properties.date1904,drawings:S.drawings,comments:S.comments,tables:S.tables,vmlDrawings:S.vmlDrawings};S.worksheets.forEach(K=>{K.relationships=S.worksheetRels[K.sheetNo],k.reconcile(K,P)}),delete S.worksheetHash,delete S.worksheetRels,delete S.globalRels,delete S.sharedStrings,delete S.workbookRels,delete S.sheetDefs,delete S.styles,delete S.mediaIndex,delete S.drawings,delete S.drawingRels,delete S.vmlDrawings}async _processWorksheetEntry(S,j,E,k,A){const C=new M(k),D=await C.parseStream(S);D.sheetNo=E,j.worksheetHash[A]=D,j.worksheets.push(D)}async _processCommentEntry(S,j,E){const k=new O,A=await k.parseStream(S);j.comments[`../${E}.xml`]=A}async _processTableEntry(S,j,E){const k=new L,A=await k.parseStream(S);j.tables[`../tables/${E}.xml`]=A}async _processWorksheetRelsEntry(S,j,E){const k=new y,A=await k.parseStream(S);j.worksheetRels[E]=A}async _processMediaEntry(S,j,E){const k=E.lastIndexOf(".");if(k>=1){const A=E.substr(k+1),C=E.substr(0,k);await new Promise((D,z)=>{const P=new h;P.on("finish",()=>{j.mediaIndex[E]=j.media.length,j.mediaIndex[C]=j.media.length;const K={type:"image",name:C,extension:A,buffer:P.toBuffer()};j.media.push(K),D()}),S.on("error",K=>{z(K)}),S.pipe(P)})}}async _processDrawingEntry(S,j,E){const k=new U,A=await k.parseStream(S);j.drawings[E]=A}async _processDrawingRelsEntry(S,j,E){const k=new y,A=await k.parseStream(S);j.drawingRels[E]=A}async _processVmlDrawingEntry(S,j,E){const k=new H,A=await k.parseStream(S);j.vmlDrawings[`../drawings/${E}.vml`]=A}async _processThemeEntry(S,j,E){await new Promise((k,A)=>{const C=new h;S.on("error",A),C.on("error",A),C.on("finish",()=>{j.themes[E]=C.read().toString(),k()}),S.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(S,j){!S[Symbol.asyncIterator]&&S.pipe&&(S=S.pipe(new c));const E=[];for await(const k of S)E.push(k);return this.load(o.concat(E),j)}async load(S,j){let E;E=j&&j.base64?o.from(S.toString(),"base64"):S;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},A=await l.loadAsync(E);for(const C of Object.values(A.files))if(!C.dir){let D,z=C.name;if(z[0]==="/"&&(z=z.substr(1)),z.match(/xl\/media\//)||z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new c,D.write(await C.async("nodebuffer"));else{let P;D=new c({writableObjectMode:!0,readableObjectMode:!0}),P=s.browser?p(await C.async("nodebuffer")):await C.async("string");const K=16384;for(let Z=0;Z<P.length;Z+=K)D.write(P.substring(Z,Z+K))}switch(D.end(),z){case"_rels/.rels":k.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const P=await this.parseWorkbook(D);k.sheets=P.sheets,k.definedNames=P.definedNames,k.views=P.views,k.properties=P.properties,k.calcProperties=P.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":k.sharedStrings=new v,await k.sharedStrings.parseStream(D);break;case"xl/styles.xml":k.styles=new g,await k.styles.parseStream(D);break;case"docProps/app.xml":{const P=new x,K=await P.parseStream(D);k.company=K.company,k.manager=K.manager;break}case"docProps/core.xml":{const P=new m,K=await P.parseStream(D);Object.assign(k,K);break}default:{let P=z.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(P){await this._processWorksheetEntry(D,k,P[1],j,z);break}if(P=z.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),P){await this._processWorksheetRelsEntry(D,k,P[1]);break}if(P=z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),P){await this._processThemeEntry(D,k,P[1]);break}if(P=z.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),P){await this._processMediaEntry(D,k,P[1]);break}if(P=z.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),P){await this._processDrawingEntry(D,k,P[1]);break}if(P=z.match(/xl\/(comments\d+)[.]xml/),P){await this._processCommentEntry(D,k,P[1]);break}if(P=z.match(/xl\/tables\/(table\d+)[.]xml/),P){await this._processTableEntry(D,k,P[1]);break}if(P=z.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),P){await this._processDrawingRelsEntry(D,k,P[1]);break}if(P=z.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),P){await this._processVmlDrawingEntry(D,k,P[1]);break}}}}return this.reconcile(k,j),this.workbook.model=k,this.workbook}async addMedia(S,j){await Promise.all(j.media.map(async E=>{if(E.type==="image"){const k=`xl/media/${E.name}.${E.extension}`;if(E.filename){const A=await function(C,D){return new Promise((z,P)=>{a.readFile(C,D,(K,Z)=>{K?P(K):z(Z)})})}(E.filename);return S.append(A,{name:k})}if(E.buffer)return S.append(E.buffer,{name:k});if(E.base64){const A=E.base64,C=A.substring(A.indexOf(",")+1);return S.append(C,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(S,j){const E=new U,k=new y;j.worksheets.forEach(A=>{const{drawing:C}=A;if(C){E.prepare(C,{});let D=E.toXml(C);S.append(D,{name:`xl/drawings/${C.name}.xml`}),D=k.toXml(C.rels),S.append(D,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(S,j){const E=new L;j.worksheets.forEach(k=>{const{tables:A}=k;A.forEach(C=>{E.prepare(C,{});const D=E.toXml(C);S.append(D,{name:"xl/tables/"+C.target})})})}async addContentTypes(S,j){const E=new b().toXml(j);S.append(E,{name:"[Content_Types].xml"})}async addApp(S,j){const E=new x().toXml(j);S.append(E,{name:"docProps/app.xml"})}async addCore(S,j){const E=new m;S.append(E.toXml(j),{name:"docProps/core.xml"})}async addThemes(S,j){const E=j.themes||{theme1:G};Object.keys(E).forEach(k=>{const A=E[k],C=`xl/theme/${k}.xml`;S.append(A,{name:C})})}async addOfficeRels(S){const j=new y().toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);S.append(j,{name:"_rels/.rels"})}async addWorkbookRels(S,j){let E=1;const k=[{Id:"rId"+E++,Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId"+E++,Type:I.RelType.Theme,Target:"theme/theme1.xml"}];j.sharedStrings.count&&k.push({Id:"rId"+E++,Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),j.worksheets.forEach(C=>{C.rId="rId"+E++,k.push({Id:C.rId,Type:I.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const A=new y().toXml(k);S.append(A,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(S,j){j.sharedStrings&&j.sharedStrings.count&&S.append(j.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(S,j){const{xml:E}=j.styles;E&&S.append(E,{name:"xl/styles.xml"})}async addWorkbook(S,j){const E=new _;S.append(E.toXml(j),{name:"xl/workbook.xml"})}async addWorksheets(S,j){const E=new M,k=new y,A=new O,C=new H;j.worksheets.forEach(D=>{let z=new d;E.render(z,D),S.append(z.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(z=new d,k.render(z,D.rels),S.append(z.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(z=new d,A.render(z,D),S.append(z.xml,{name:`xl/comments${D.id}.xml`}),z=new d,C.render(z,D),S.append(z.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(S){return new Promise((j,E)=>{S.on("finish",()=>{j(this)}),S.on("error",E),S.finalize()})}prepareModel(S,j){S.creator=S.creator||"ExcelJS",S.lastModifiedBy=S.lastModifiedBy||"ExcelJS",S.created=S.created||new Date,S.modified=S.modified||new Date,S.useSharedStrings=j.useSharedStrings===void 0||j.useSharedStrings,S.useStyles=j.useStyles===void 0||j.useStyles,S.sharedStrings=new v,S.styles=S.useStyles?new g(!0):new g.Mock;const E=new _,k=new M;E.prepare(S);const A={sharedStrings:S.sharedStrings,styles:S.styles,date1904:S.properties.date1904,drawingsCount:0,media:S.media};A.drawings=S.drawings=[],A.commentRefs=S.commentRefs=[];let C=0;S.tables=[],S.worksheets.forEach(D=>{D.tables.forEach(z=>{C++,z.target=`table${C}.xml`,z.id=C,S.tables.push(z)}),k.prepare(D,A)})}async write(S,j){j=j||{};const{model:E}=this.workbook,k=new u.ZipWriter(j.zip);return k.pipe(S),this.prepareModel(E,j),await this.addContentTypes(k,E),await this.addOfficeRels(k,E),await this.addWorkbookRels(k,E),await this.addWorksheets(k,E),await this.addSharedStrings(k,E),await this.addDrawings(k,E),await this.addTables(k,E),await Promise.all([this.addThemes(k,E),this.addStyles(k,E)]),await this.addMedia(k,E),await Promise.all([this.addApp(k,E),this.addCore(k,E)]),await this.addWorkbook(k,E),this._finalize(k)}writeFile(S,j){const E=a.createWriteStream(S);return new Promise((k,A)=>{E.on("finish",()=>{k()}),E.on("error",C=>{A(C)}),this.write(E,j).then(()=>{E.end()}).catch(C=>{A(C)})})}async writeBuffer(S){const j=new h;return await this.write(j,S),j.read()}}I.RelType=r("./rel-type"),n.exports=I}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=r("stream"),a=r("./formatter");class l extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new a.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,h,f){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(p,g)=>p?(d=!0,f(p)):(g&&g.forEach(m=>{this.push(s.from(m,"utf8"))}),d=!0,f()))}catch(p){if(d)throw p;f(p)}}_flush(u){this.rowFormatter.finish((h,f)=>h?u(h):(f&&f.forEach(d=>{this.push(s.from(d,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(r("lodash.isboolean")),a=s(r("lodash.isnil")),l=s(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const h=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(h)?h:Array.isArray(h)?h[c]:this._headers!==null&&h[this._headers[c]]}format(c,u,h){const f=(""+(a.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&f.indexOf(d.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,d.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,h)?this.quoteField(f):f}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var s=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(r("lodash.isfunction")),a=s(r("lodash.isequal")),l=r("./FieldFormatter"),c=r("../types");class u{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new l.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return u.isRowHashArray(f)?f.map(d=>d[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return c.isSyncTransform(f)?(d,p)=>{let g=null;try{g=f(d)}catch(m){return p(m)}return p(null,g)}:(d,p)=>{f(d,p)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(f)}format(f,d){this.callTransformer(f,(p,g)=>{if(p)return d(p);if(!f)return d(null);const m=[];if(g){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const b=this.gatherColumns(g);m.push(this.formatColumns(b,!1))}}return d(null,m)})}finish(f){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),f(null,d)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(f);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(d,f),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?u.isRowHashArray(f)?this.headers.map((d,p)=>{const g=f[p];return g?g[1]:""}):u.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((d,p)=>f[p]):this.headers.map(d=>f[d])}callTransformer(f,d){return this._rowTransform?this._rowTransform(f,d):d(null,f)}formatColumns(f,d){const p=f.map((m,v)=>this.fieldFormatter.format(m,v,d)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(s){(function(){var o=Object.create?function(v,y,b,x){x===void 0&&(x=b),Object.defineProperty(v,x,{enumerable:!0,get:function(){return y[b]}})}:function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]},a=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var b in v)b!=="default"&&Object.prototype.hasOwnProperty.call(v,b)&&o(y,v,b);return a(y,v),y},c=function(v,y){for(var b in v)b==="default"||Object.prototype.hasOwnProperty.call(y,b)||o(y,v,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=r("util"),h=r("stream"),f=l(r("fs")),d=r("./FormatterOptions"),p=r("./CsvFormatterStream");c(r("./types"),i);var g=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=v=>new p.CsvFormatterStream(new d.FormatterOptions(v)),i.write=(v,y)=>{const b=i.format(y),x=u.promisify((_,M)=>{b.write(_,void 0,M)});return v.reduce((_,M)=>_.then(()=>x(M)),Promise.resolve()).then(()=>b.end()).catch(_=>{b.emit("error",_)}),b},i.writeToStream=(v,y,b)=>i.write(y,b).pipe(v),i.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],x=new h.Writable({write(_,M,U){b.push(_),U()}});return new Promise((_,M)=>{x.on("error",M).on("finish",()=>_(s.concat(b))),i.write(v,y).pipe(x)})},i.writeToString=(v,y)=>i.writeToBuffer(v,y).then(b=>b.toString()),i.writeToPath=(v,y,b)=>{const x=f.createWriteStream(v,{encoding:"utf8"});return i.write(y,b).pipe(x)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=r("string_decoder"),a=r("stream"),l=r("./transforms"),c=r("./parser");class u extends a.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new c.Parser(f),this.headerTransformer=new l.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return super.emit(f,...p)}_transform(f,d,p){if(this.hasHitRowLimit)return p();const g=u.wrapDoneCallback(p);try{const{lines:m}=this,v=m+this.decoder.write(f),y=this.parse(v,!0);return this.processRows(y,g)}catch(m){return g(m)}}_flush(f){const d=u.wrapDoneCallback(f);if(this.hasHitRowLimit)return d();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,d)}catch(p){return d(p)}}parse(f,d){if(!f)return[];const{line:p,rows:g}=this.parser.parse(f,d);return this.lines=p,g}processRows(f,d){const p=f.length,g=m=>{const v=x=>x?d(x):m%100!=0?g(m+1):void s(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=f[m];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(y,(x,_)=>{if(x)return this.rowCount-=1,v(x);if(!_)return v(new Error("expected transform result"));if(_.isValid){if(_.row)return this.pushRow(_.row,v)}else this.emit("data-invalid",_.row,b,_.reason);return v()})};g(0)}transformRow(f,d){try{this.headerTransformer.transform(f,(p,g)=>p?d(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:f}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(p){d(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,d){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),d()}catch(p){d(p)}}static wrapDoneCallback(f){let d=!1;return function(p){if(p){if(d)throw p;return d=!0,void f(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];f(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(r("lodash.escaperegexp")),a=s(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var s=Object.create?function(g,m,v,y){y===void 0&&(y=v),Object.defineProperty(g,y,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,y){y===void 0&&(y=v),g[y]=m[v]},o=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},a=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&s(m,g,v);return o(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||s(m,g,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const c=a(r("fs")),u=r("stream"),h=r("./ParserOptions"),f=r("./CsvParserStream");l(r("./types"),i);var d=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var p=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),i.parse=g=>new f.CsvParserStream(new h.ParserOptions(g)),i.parseStream=(g,m)=>g.pipe(new f.CsvParserStream(new h.ParserOptions(m))),i.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(g).pipe(new f.CsvParserStream(new h.ParserOptions(m)))},i.parseString=(g,m)=>{const v=new u.Readable;return v.push(g),v.push(null),v.pipe(new f.CsvParserStream(new h.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=r("./Scanner"),o=r("./RowParser"),a=r("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,h){const f=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(u){const h=[];let f=!0;for(;f;)f=this.parseRow(u,h);return{line:u.line,rows:h}}parseWithComments(u){const{parserOptions:h}=this,f=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(a.Token.isTokenComment(d,h)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:f};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:f};u.truncateToCursor()}else if(!this.parseRow(u,f))break;return{line:u.line,rows:f}}parseRow(u,h){if(!u.nextNonSpaceToken)return!1;const f=this.rowParser.parse(u);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||h.push(f),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=r("./column"),o=r("./Token");i.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new s.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:c}=a,u=a,h=[];let f=this.getStartToken(u,h);for(;f;){if(o.Token.isTokenRowDelimiter(f))return u.advancePastToken(f),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,l)&&c?null:(u.truncateToCursor(),h);if(!this.shouldSkipColumnParse(u,f,h)){const d=this.columnParser.parse(u);if(d===null)return null;h.push(d)}f=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),h)}getStartToken(a,l){const c=a.nextNonSpaceToken;return c!==null&&o.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):c}shouldSkipColumnParse(a,l,c){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(l,u)){a.advancePastToken(l);const h=a.nextCharacterToken;if(!a.hasMoreCharacters||h!==null&&o.Token.isTokenRowDelimiter(h)||h!==null&&o.Token.isTokenDelimiter(h,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=r("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const c=l.exec(a);if(c==null)return null;const u=c[1],h=this.cursor+(c.index||0);return new s.Token({token:u,startCursor:h,endCursor:h+u.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new s.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=r("./NonQuotedColumnParser"),o=r("./QuotedColumnParser"),a=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&a.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=a.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,l)&&!o.Token.isTokenRowDelimiter(u);u=a.nextCharacterToken)c.push(u.token),a.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(a);if(!c){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),u}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let c=!1,u=!1;const h=[];let f=a.nextCharacterToken;for(;!u&&f!==null;f=a.nextCharacterToken){const d=o.Token.isTokenQuote(f,l);if(!c&&d)c=!0;else if(c)if(o.Token.isTokenEscapeCharacter(f,l)){a.advancePastToken(f);const p=a.nextCharacterToken;p!==null&&(o.Token.isTokenQuote(p,l)||o.Token.isTokenEscapeCharacter(p,l))?(h.push(p.token),f=p):d?u=!0:h.push(f.token)}else d?u=!0:h.push(f.token);a.advancePastToken(f)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:u}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:c}=a;if(c){const u=o.Token.isTokenDelimiter(c,l),h=o.Token.isTokenRowDelimiter(c);if(!u&&!h){const f=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${f}`)}a.advanceToToken(c)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var c=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(r("lodash.isundefined")),a=s(r("lodash.isfunction")),l=s(r("lodash.uniq")),c=s(r("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):a.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,h){return this.shouldMapRow(u)?h(null,this.processRow(u)):h(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&u.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return h.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const h={},{headers:f,headersLength:d}=this;for(let p=0;p<d;p+=1){const g=f[p];if(!o.default(g)){const m=u[p];o.default(m)?h[g]="":h[g]=m}}return h}setHeaders(u){var h;const f=u.filter(d=>!!d);if(l.default(f).length!==f.length){const d=c.default(f),p=Object.keys(d).filter(g=>d[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(r("lodash.isfunction")),a=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return a.isSyncTransform(u)?(h,f)=>{let d=null;try{d=u(h)}catch(p){return f(p)}return f(null,d)}:u}static createValidator(u){return a.isSyncValidate(u)?(h,f)=>{f(null,{row:h,isValid:u(h)})}:(h,f)=>{u(h,(d,p,g)=>d?f(d):f(null,p?{row:h,isValid:p,reason:g}:{row:h,isValid:!1,reason:g}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,h){return this.callTransformer(u,(f,d)=>f?h(f):d?this.callValidator(d,(p,g)=>p?h(p):g&&!g.isValid?h(null,{row:d,isValid:!1,reason:g.reason}):h(null,{row:d,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(u,h){return this._rowTransform?this._rowTransform(u,h):h(null,u)}callValidator(u,h){return this._rowValidator?this._rowValidator(u,h):h(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(r,n,i){const s=i;s.bignum=r("bn.js"),s.define=r("./asn1/api").define,s.base=r("./asn1/base"),s.constants=r("./asn1/constants"),s.decoders=r("./asn1/decoders"),s.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const s=r("./encoders"),o=r("./decoders"),a=r("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}i.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function h(f){this._initNamed(f,u)}return a(h,c),h.prototype._initNamed=function(f,d){c.call(this,f,d)},new h(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(o[c])),this.decoders[c]},l.prototype.decode=function(c,u,h){return this._getDecoder(u).decode(c,h)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(s[c])),this.encoders[c]},l.prototype.encode=function(c,u,h){return this._getEncoder(u).encode(c,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const s=r("inherits"),o=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function l(u,h){o.call(this,h),a.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(f){return c.isEncoderBuffer(f)||(f=new c(f,h)),this.length+=f.length,f},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=a.byteLength(u);else{if(!a.isBuffer(u))return h.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&a.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(u){const h=new l(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),h},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");const f=new l(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+u,this.offset+=u,f},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,h){return u||(u=a.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(u,h),h+=f.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const s=i;s.Reporter=r("./reporter").Reporter,s.DecoderBuffer=r("./buffer").DecoderBuffer,s.EncoderBuffer=r("./buffer").EncoderBuffer,s.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const s=r("../base/reporter").Reporter,o=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function h(d,p,g){const m={};this._baseState=m,m.name=g,m.enc=d,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=h;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const d=this._baseState,p={};f.forEach(function(m){p[m]=d[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},h.prototype._wrap=function(){const d=this._baseState;u.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return d.children.push(g),g[p].apply(g,arguments)}},this)},h.prototype._init=function(d){const p=this._baseState;l(p.parent===null),d.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(d){const p=this._baseState,g=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),d.length!==0&&(l(p.args===null),p.args=d,p.reverseArgs=d.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const b=m[y];v[b]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){h.prototype[d]=function(){const p=this._baseState;throw new Error(d+" not implemented for encoding: "+p.enc)}}),c.forEach(function(d){h.prototype[d]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=d,this._useArgs(g),this}}),h.prototype.use=function(d){l(d);const p=this._baseState;return l(p.use===null),p.use=d,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(d){const p=this._baseState;return l(p.default===null),p.default=d,p.optional=!0,this},h.prototype.explicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=d,this},h.prototype.implicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=d,this},h.prototype.obj=function(){const d=this._baseState,p=Array.prototype.slice.call(arguments);return d.obj=!0,p.length!==0&&this._useArgs(p),this},h.prototype.key=function(d){const p=this._baseState;return l(p.key===null),p.key=d,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(d){const p=this._baseState;return l(p.choice===null),p.choice=d,this._useArgs(Object.keys(d).map(function(g){return d[g]})),this},h.prototype.contains=function(d){const p=this._baseState;return l(p.use===null),p.contains=d,this},h.prototype._decode=function(d,p){const g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,p));let m,v=g.default,y=!0,b=null;if(g.key!==null&&(b=d.enterKey(g.key)),g.optional){let x=null;if(g.explicit!==null?x=g.explicit:g.implicit!==null?x=g.implicit:g.tag!==null&&(x=g.tag),x!==null||g.any){if(y=this._peekTag(d,x,g.any),d.isError(y))return y}else{const _=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p),y=!0}catch{y=!1}d.restore(_)}}if(g.obj&&y&&(m=d.enterObject()),y){if(g.explicit!==null){const _=this._decodeTag(d,g.explicit);if(d.isError(_))return _;d=_}const x=d.offset;if(g.use===null&&g.choice===null){let _;g.any&&(_=d.save());const M=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(M))return M;g.any?v=d.raw(_):d=M}if(p&&p.track&&g.tag!==null&&p.track(d.path(),x,d.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(d.path(),d.offset,d.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p)),d.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(_){_._decode(d,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const _=new a(v);v=this._getUse(g.contains,d._reporterState.obj)._decode(_,p)}}return g.obj&&y&&(v=d.leaveObject(m)),g.key===null||v===null&&y!==!0?b!==null&&d.exitKey(b):d.leaveKey(b,g.key,v),v},h.prototype._decodeGeneric=function(d,p,g){const m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(p,d,m.args[0],g):/str$/.test(d)?this._decodeStr(p,d,g):d==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):d==="objid"?this._decodeObjid(p,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(p,d,g):d==="null_"?this._decodeNull(p,g):d==="bool"?this._decodeBool(p,g):d==="objDesc"?this._decodeStr(p,d,g):d==="int"||d==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+d)},h.prototype._getUse=function(d,p){const g=this._baseState;return g.useDecoder=this._use(d,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},h.prototype._decodeChoice=function(d,p){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(y){const b=d.save(),x=g.choice[y];try{const _=x._decode(d,p);if(d.isError(_))return!1;m={type:y,value:_},v=!0}catch{return d.restore(b),!1}return!0},this),v?m:d.error("Choice not matched")},h.prototype._createEncoderBuffer=function(d){return new o(d,this.reporter)},h.prototype._encode=function(d,p,g){const m=this._baseState;if(m.default!==null&&m.default===d)return;const v=this._encodeValue(d,p,g);return v===void 0||this._skipDefault(v,p,g)?void 0:v},h.prototype._encodeValue=function(d,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,p||new s);let v=null;if(this.reporter=p,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let y=null,b=!1;if(m.any)v=this._createEncoderBuffer(d);else if(m.choice)v=this._encodeChoice(d,p);else if(m.contains)y=this._getUse(m.contains,g)._encode(d,p),b=!0;else if(m.children)y=m.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,p,d);if(x._baseState.key===null)return p.error("Child should have a key");const _=p.enterKey(x._baseState.key);if(typeof d!="object")return p.error("Child expected, but input is not object");const M=x._encode(d[x._baseState.key],p,d);return p.leaveKey(_),M},this).filter(function(x){return x}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(d))return p.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(_){const M=this._baseState;return this._getUse(M.args[0],d)._encode(_,p)},x))}else m.use!==null?v=this._getUse(m.use,g)._encode(d,p):(y=this._encodePrimitive(m.tag,d),b=!0);if(!m.any&&m.choice===null){const x=m.implicit!==null?m.implicit:m.tag,_=m.implicit===null?"universal":"context";x===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(x,b,_,y))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(d,p){const g=this._baseState,m=g.choice[d.type];return m||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(d.value,p)},h.prototype._encodePrimitive=function(d,p){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(p,d);if(d==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(p,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(p,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(p);if(d==="objDesc")return this._encodeStr(p,d);throw new Error("Unsupported tag: "+d)},h.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},h.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const s=r("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,c){this.path=l,this.rethrow(c)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof a},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},o.prototype.leaveKey=function(l,c,u){const h=this._reporterState;this.exitKey(l),h.obj!==null&&(h.obj[c]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},o.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},o.prototype.error=function(l){let c;const u=this._reporterState,h=l instanceof a;if(c=h?l:new a(u.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return h||u.errors.push(c),c},o.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},s(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(r,n,i){function s(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(r,n,i){const s=i;s._reverse=function(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a},s.der=r("./der")},{"./der":176}],178:[function(r,n,i){const s=r("inherits"),o=r("bn.js"),a=r("../base/buffer").DecoderBuffer,l=r("../base/node"),c=r("../constants/der");function u(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new h,this.tree._init(p.body)}function h(p){l.call(this,"der",p)}function f(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const v=c.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let b=m;for(m=0;(128&b)==128;){if(b=p.readUInt8(g),p.isError(b))return b;m<<=7,m|=127&b}}else m&=31;return{cls:v,primitive:y,tag:m,tagStr:c.tag[m]}}function d(p,g,m){let v=p.readUInt8(m);if(p.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return p.error("length octect is too long");v=0;for(let b=0;b<y;b++){v<<=8;const x=p.readUInt8(m);if(p.isError(x))return x;v|=x}return v}n.exports=u,u.prototype.decode=function(p,g){return a.isDecoderBuffer(p)||(p=new a(p,g)),this.tree._decode(p,g)},s(h,l),h.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const v=p.save(),y=f(p,'Failed to peek tag: "'+g+'"');return p.isError(y)?y:(p.restore(v),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||m)},h.prototype._decodeTag=function(p,g,m){const v=f(p,'Failed to decode tag of "'+g+'"');if(p.isError(v))return v;let y=d(p,v.primitive,'Failed to get length of "'+g+'"');if(p.isError(y))return y;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(v.primitive||y!==null)return p.skip(y,'Failed to match body of: "'+g+'"');const b=p.save(),x=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(x)?x:(y=p.offset-b.offset,p.restore(b),p.skip(y,'Failed to match body of: "'+g+'"'))},h.prototype._skipUntilEnd=function(p,g){for(;;){const m=f(p,g);if(p.isError(m))return m;const v=d(p,m.primitive,g);if(p.isError(v))return v;let y;if(y=m.primitive||v!==null?p.skip(v):this._skipUntilEnd(p,g),p.isError(y))return y;if(m.tagStr==="end")break}},h.prototype._decodeList=function(p,g,m,v){const y=[];for(;!p.isEmpty();){const b=this._peekTag(p,"end");if(p.isError(b))return b;const x=m.decode(p,"der",v);if(p.isError(x)&&b)break;y.push(x)}return y},h.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<m.length/2;y++)v+=String.fromCharCode(m.readUInt16BE(2*y));return v}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},h.prototype._decodeObjid=function(p,g,m){let v;const y=[];let b=0,x=0;for(;!p.isEmpty();)x=p.readUInt8(),b<<=7,b|=127&x,!(128&x)&&(y.push(b),b=0);128&x&&y.push(b);const _=y[0]/40|0,M=y[0]%40;if(v=m?y:[_,M].concat(y.slice(1)),g){let U=g[v.join(" ")];U===void 0&&(U=g[v.join(".")]),U!==void 0&&(v=U)}return v},h.prototype._decodeTime=function(p,g){const m=p.raw().toString();let v,y,b,x,_,M;if(g==="gentime")v=0|m.slice(0,4),y=0|m.slice(4,6),b=0|m.slice(6,8),x=0|m.slice(8,10),_=0|m.slice(10,12),M=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),y=0|m.slice(2,4),b=0|m.slice(4,6),x=0|m.slice(6,8),_=0|m.slice(8,10),M=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,b,x,_,M,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},h.prototype._decodeInt=function(p,g){const m=p.raw();let v=new o(m);return g&&(v=g[v.toString(10)]||v),v},h.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("./der");function l(c){a.call(this,c),this.enc="pem"}s(l,a),n.exports=l,l.prototype.decode=function(c,u){const h=c.toString().split(/[\r\n]+/g),f=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let y=0;y<h.length;y++){const b=h[y].match(d);if(b!==null&&b[2]===f){if(p!==-1){if(b[1]!=="END")break;g=y;break}if(b[1]!=="BEGIN")break;p=y}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+f);const m=h.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=o.from(m,"base64");return a.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("../base/node"),l=r("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){a.call(this,"der",f)}function h(f){return f<10?"0"+f:f}n.exports=c,c.prototype.encode=function(f,d){return this.tree._encode(f,d).join()},s(u,a),u.prototype._encodeComposite=function(f,d,p,g){const m=function(b,x,_,M){let U;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))U=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return M.error("Unknown tag: "+b);U=b}return U>=31?M.error("Multi-octet tag encoding unsupported"):(x||(U|=32),U|=l.tagClassByName[_||"universal"]<<6,U)}(f,d,p,this.reporter);if(g.length<128){const b=o.alloc(2);return b[0]=m,b[1]=g.length,this._createEncoderBuffer([b,g])}let v=1;for(let b=g.length;b>=256;b>>=8)v++;const y=o.alloc(2+v);y[0]=m,y[1]=128|v;for(let b=1+v,x=g.length;x>0;b--,x>>=8)y[b]=255&x;return this._createEncoderBuffer([y,g])},u.prototype._encodeStr=function(f,d){if(d==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(d==="bmpstr"){const p=o.alloc(2*f.length);for(let g=0;g<f.length;g++)p.writeUInt16BE(f.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return d==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(f,d,p){if(typeof f=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=d[f].split(/[\s.]+/g);for(let y=0;y<f.length;y++)f[y]|=0}else if(Array.isArray(f)){f=f.slice();for(let y=0;y<f.length;y++)f[y]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!p){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let g=0;for(let y=0;y<f.length;y++){let b=f[y];for(g++;b>=128;b>>=7)g++}const m=o.alloc(g);let v=m.length-1;for(let y=f.length-1;y>=0;y--){let b=f[y];for(m[v--]=127&b;(b>>=7)>0;)m[v--]=128|127&b}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(f,d){let p;const g=new Date(f);return d==="gentime"?p=[h(g.getUTCFullYear()),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?p=[h(g.getUTCFullYear()%100),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(p,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,d){if(typeof f=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=d[f]}if(typeof f!="number"&&!o.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=o.from(m)}if(o.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=o.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let p=1;for(let m=f;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&f,f>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,d){return typeof f=="function"&&(f=f(d)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,d,p){const g=this._baseState;let m;if(g.default===null)return!1;const v=f.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,d,p).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const s=r("inherits"),o=r("./der");function a(l){o.call(this,l),this.enc="pem"}s(a,o),n.exports=a,a.prototype.encode=function(l,c){const u=o.prototype.encode.call(this,l).toString("base64"),h=["-----BEGIN "+c.label+"-----"];for(let f=0;f<u.length;f+=64)h.push(u.slice(f,f+64));return h.push("-----END "+c.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(s,o){function a(R,S){if(!R)throw new Error(S||"Assertion failed")}function l(R,S){R.super_=S;var j=function(){};j.prototype=S.prototype,R.prototype=new j,R.prototype.constructor=R}function c(R,S,j){if(c.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(S!=="le"&&S!=="be"||(j=S,S=10),this._init(R||0,S||10,j||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(R,S){var j=R.charCodeAt(S);return j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:j-48&15}function f(R,S,j){var E=h(R,j);return j-1>=S&&(E|=h(R,j-1)<<4),E}function d(R,S,j,E){for(var k=0,A=Math.min(R.length,j),C=S;C<A;C++){var D=R.charCodeAt(C)-48;k*=E,k+=D>=49?D-49+10:D>=17?D-17+10:D}return k}c.isBN=function(R){return R instanceof c||R!==null&&typeof R=="object"&&R.constructor.wordSize===c.wordSize&&Array.isArray(R.words)},c.max=function(R,S){return R.cmp(S)>0?R:S},c.min=function(R,S){return R.cmp(S)<0?R:S},c.prototype._init=function(R,S,j){if(typeof R=="number")return this._initNumber(R,S,j);if(typeof R=="object")return this._initArray(R,S,j);S==="hex"&&(S=16),a(S===(0|S)&&S>=2&&S<=36);var E=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(E++,this.negative=1),E<R.length&&(S===16?this._parseHex(R,E,j):(this._parseBase(R,S,E),j==="le"&&this._initArray(this.toArray(),S,j)))},c.prototype._initNumber=function(R,S,j){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(a(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),S,j)},c.prototype._initArray=function(R,S,j){if(a(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var k,A,C=0;if(j==="be")for(E=R.length-1,k=0;E>=0;E-=3)A=R[E]|R[E-1]<<8|R[E-2]<<16,this.words[k]|=A<<C&67108863,this.words[k+1]=A>>>26-C&67108863,(C+=24)>=26&&(C-=26,k++);else if(j==="le")for(E=0,k=0;E<R.length;E+=3)A=R[E]|R[E+1]<<8|R[E+2]<<16,this.words[k]|=A<<C&67108863,this.words[k+1]=A>>>26-C&67108863,(C+=24)>=26&&(C-=26,k++);return this.strip()},c.prototype._parseHex=function(R,S,j){this.length=Math.ceil((R.length-S)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var k,A=0,C=0;if(j==="be")for(E=R.length-1;E>=S;E-=2)k=f(R,S,E)<<A,this.words[C]|=67108863&k,A>=18?(A-=18,C+=1,this.words[C]|=k>>>26):A+=8;else for(E=(R.length-S)%2==0?S+1:S;E<R.length;E+=2)k=f(R,S,E)<<A,this.words[C]|=67108863&k,A>=18?(A-=18,C+=1,this.words[C]|=k>>>26):A+=8;this.strip()},c.prototype._parseBase=function(R,S,j){this.words=[0],this.length=1;for(var E=0,k=1;k<=67108863;k*=S)E++;E--,k=k/S|0;for(var A=R.length-j,C=A%E,D=Math.min(A,A-C)+j,z=0,P=j;P<D;P+=E)z=d(R,P,P+E,S),this.imuln(k),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(C!==0){var K=1;for(z=d(R,P,R.length,S),P=0;P<C;P++)K*=S;this.imuln(K),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this.strip()},c.prototype.copy=function(R){R.words=new Array(this.length);for(var S=0;S<this.length;S++)R.words[S]=this.words[S];R.length=this.length,R.negative=this.negative,R.red=this.red},c.prototype.clone=function(){var R=new c(null);return this.copy(R),R},c.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(R,S,j){j.negative=S.negative^R.negative;var E=R.length+S.length|0;j.length=E,E=E-1|0;var k=0|R.words[0],A=0|S.words[0],C=k*A,D=67108863&C,z=C/67108864|0;j.words[0]=D;for(var P=1;P<E;P++){for(var K=z>>>26,Z=67108863&z,te=Math.min(P,S.length-1),q=Math.max(0,P-R.length+1);q<=te;q++){var $=P-q|0;K+=(C=(k=0|R.words[$])*(A=0|S.words[q])+Z)/67108864|0,Z=67108863&C}j.words[P]=0|Z,z=0|K}return z!==0?j.words[P]=0|z:j.length--,j.strip()}c.prototype.toString=function(R,S){var j;if(S=0|S||1,(R=R||10)===16||R==="hex"){j="";for(var E=0,k=0,A=0;A<this.length;A++){var C=this.words[A],D=(16777215&(C<<E|k)).toString(16);j=(k=C>>>24-E&16777215)!==0||A!==this.length-1?p[6-D.length]+D+j:D+j,(E+=2)>=26&&(E-=26,A--)}for(k!==0&&(j=k.toString(16)+j);j.length%S!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(R===(0|R)&&R>=2&&R<=36){var z=g[R],P=m[R];j="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(P).toString(R);j=(K=K.idivn(P)).isZero()?Z+j:p[z-Z.length]+Z+j}for(this.isZero()&&(j="0"+j);j.length%S!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(R,S){return a(u!==void 0),this.toArrayLike(u,R,S)},c.prototype.toArray=function(R,S){return this.toArrayLike(Array,R,S)},c.prototype.toArrayLike=function(R,S,j){var E=this.byteLength(),k=j||Math.max(1,E);a(E<=k,"byte array longer than desired length"),a(k>0,"Requested array length <= 0"),this.strip();var A,C,D=S==="le",z=new R(k),P=this.clone();if(D){for(C=0;!P.isZero();C++)A=P.andln(255),P.iushrn(8),z[C]=A;for(;C<k;C++)z[C]=0}else{for(C=0;C<k-E;C++)z[C]=0;for(C=0;!P.isZero();C++)A=P.andln(255),P.iushrn(8),z[k-C-1]=A}return z},Math.clz32?c.prototype._countBits=function(R){return 32-Math.clz32(R)}:c.prototype._countBits=function(R){var S=R,j=0;return S>=4096&&(j+=13,S>>>=13),S>=64&&(j+=7,S>>>=7),S>=8&&(j+=4,S>>>=4),S>=2&&(j+=2,S>>>=2),j+S},c.prototype._zeroBits=function(R){if(R===0)return 26;var S=R,j=0;return!(8191&S)&&(j+=13,S>>>=13),!(127&S)&&(j+=7,S>>>=7),!(15&S)&&(j+=4,S>>>=4),!(3&S)&&(j+=2,S>>>=2),!(1&S)&&j++,j},c.prototype.bitLength=function(){var R=this.words[this.length-1],S=this._countBits(R);return 26*(this.length-1)+S},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,S=0;S<this.length;S++){var j=this._zeroBits(this.words[S]);if(R+=j,j!==26)break}return R},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},c.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var S=0;S<R.length;S++)this.words[S]=this.words[S]|R.words[S];return this.strip()},c.prototype.ior=function(R){return a((this.negative|R.negative)==0),this.iuor(R)},c.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},c.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},c.prototype.iuand=function(R){var S;S=this.length>R.length?R:this;for(var j=0;j<S.length;j++)this.words[j]=this.words[j]&R.words[j];return this.length=S.length,this.strip()},c.prototype.iand=function(R){return a((this.negative|R.negative)==0),this.iuand(R)},c.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},c.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},c.prototype.iuxor=function(R){var S,j;this.length>R.length?(S=this,j=R):(S=R,j=this);for(var E=0;E<j.length;E++)this.words[E]=S.words[E]^j.words[E];if(this!==S)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=S.length,this.strip()},c.prototype.ixor=function(R){return a((this.negative|R.negative)==0),this.iuxor(R)},c.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},c.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},c.prototype.inotn=function(R){a(typeof R=="number"&&R>=0);var S=0|Math.ceil(R/26),j=R%26;this._expand(S),j>0&&S--;for(var E=0;E<S;E++)this.words[E]=67108863&~this.words[E];return j>0&&(this.words[E]=~this.words[E]&67108863>>26-j),this.strip()},c.prototype.notn=function(R){return this.clone().inotn(R)},c.prototype.setn=function(R,S){a(typeof R=="number"&&R>=0);var j=R/26|0,E=R%26;return this._expand(j+1),this.words[j]=S?this.words[j]|1<<E:this.words[j]&~(1<<E),this.strip()},c.prototype.iadd=function(R){var S,j,E;if(this.negative!==0&&R.negative===0)return this.negative=0,S=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,S=this.isub(R),R.negative=1,S._normSign();this.length>R.length?(j=this,E=R):(j=R,E=this);for(var k=0,A=0;A<E.length;A++)S=(0|j.words[A])+(0|E.words[A])+k,this.words[A]=67108863&S,k=S>>>26;for(;k!==0&&A<j.length;A++)S=(0|j.words[A])+k,this.words[A]=67108863&S,k=S>>>26;if(this.length=j.length,k!==0)this.words[this.length]=k,this.length++;else if(j!==this)for(;A<j.length;A++)this.words[A]=j.words[A];return this},c.prototype.add=function(R){var S;return R.negative!==0&&this.negative===0?(R.negative=0,S=this.sub(R),R.negative^=1,S):R.negative===0&&this.negative!==0?(this.negative=0,S=R.sub(this),this.negative=1,S):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},c.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var S=this.iadd(R);return R.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var j,E,k=this.cmp(R);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(j=this,E=R):(j=R,E=this);for(var A=0,C=0;C<E.length;C++)A=(S=(0|j.words[C])-(0|E.words[C])+A)>>26,this.words[C]=67108863&S;for(;A!==0&&C<j.length;C++)A=(S=(0|j.words[C])+A)>>26,this.words[C]=67108863&S;if(A===0&&C<j.length&&j!==this)for(;C<j.length;C++)this.words[C]=j.words[C];return this.length=Math.max(this.length,C),j!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(R){return this.clone().isub(R)};var y=function(R,S,j){var E,k,A,C=R.words,D=S.words,z=j.words,P=0,K=0|C[0],Z=8191&K,te=K>>>13,q=0|C[1],$=8191&q,N=q>>>13,T=0|C[2],V=8191&T,J=T>>>13,re=0|C[3],se=8191&re,B=re>>>13,ne=0|C[4],ee=8191&ne,F=ne>>>13,W=0|C[5],Y=8191&W,ae=W>>>13,ce=0|C[6],le=8191&ce,de=ce>>>13,me=0|C[7],ge=8191&me,ke=me>>>13,Re=0|C[8],je=8191&Re,We=Re>>>13,Je=0|C[9],qe=8191&Je,pt=Je>>>13,$e=0|D[0],Ue=8191&$e,Ke=$e>>>13,rt=0|D[1],Ze=8191&rt,Et=rt>>>13,wt=0|D[2],bt=8191&wt,Wt=wt>>>13,_t=0|D[3],ot=8191&_t,qt=_t>>>13,Er=0|D[4],jt=8191&Er,hr=Er>>>13,Cr=0|D[5],dt=8191&Cr,wr=Cr>>>13,jr=0|D[6],Gt=8191&jr,Ne=jr>>>13,Pe=0|D[7],He=8191&Pe,ct=Pe>>>13,Bt=0|D[8],vt=8191&Bt,Ft=Bt>>>13,It=0|D[9],Tt=8191&It,Kt=It>>>13;j.negative=R.negative^S.negative,j.length=19;var zt=(P+(E=Math.imul(Z,Ue))|0)+((8191&(k=(k=Math.imul(Z,Ke))+Math.imul(te,Ue)|0))<<13)|0;P=((A=Math.imul(te,Ke))+(k>>>13)|0)+(zt>>>26)|0,zt&=67108863,E=Math.imul($,Ue),k=(k=Math.imul($,Ke))+Math.imul(N,Ue)|0,A=Math.imul(N,Ke);var ar=(P+(E=E+Math.imul(Z,Ze)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Et)|0)+Math.imul(te,Ze)|0))<<13)|0;P=((A=A+Math.imul(te,Et)|0)+(k>>>13)|0)+(ar>>>26)|0,ar&=67108863,E=Math.imul(V,Ue),k=(k=Math.imul(V,Ke))+Math.imul(J,Ue)|0,A=Math.imul(J,Ke),E=E+Math.imul($,Ze)|0,k=(k=k+Math.imul($,Et)|0)+Math.imul(N,Ze)|0,A=A+Math.imul(N,Et)|0;var Gr=(P+(E=E+Math.imul(Z,bt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Wt)|0)+Math.imul(te,bt)|0))<<13)|0;P=((A=A+Math.imul(te,Wt)|0)+(k>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,E=Math.imul(se,Ue),k=(k=Math.imul(se,Ke))+Math.imul(B,Ue)|0,A=Math.imul(B,Ke),E=E+Math.imul(V,Ze)|0,k=(k=k+Math.imul(V,Et)|0)+Math.imul(J,Ze)|0,A=A+Math.imul(J,Et)|0,E=E+Math.imul($,bt)|0,k=(k=k+Math.imul($,Wt)|0)+Math.imul(N,bt)|0,A=A+Math.imul(N,Wt)|0;var zr=(P+(E=E+Math.imul(Z,ot)|0)|0)+((8191&(k=(k=k+Math.imul(Z,qt)|0)+Math.imul(te,ot)|0))<<13)|0;P=((A=A+Math.imul(te,qt)|0)+(k>>>13)|0)+(zr>>>26)|0,zr&=67108863,E=Math.imul(ee,Ue),k=(k=Math.imul(ee,Ke))+Math.imul(F,Ue)|0,A=Math.imul(F,Ke),E=E+Math.imul(se,Ze)|0,k=(k=k+Math.imul(se,Et)|0)+Math.imul(B,Ze)|0,A=A+Math.imul(B,Et)|0,E=E+Math.imul(V,bt)|0,k=(k=k+Math.imul(V,Wt)|0)+Math.imul(J,bt)|0,A=A+Math.imul(J,Wt)|0,E=E+Math.imul($,ot)|0,k=(k=k+Math.imul($,qt)|0)+Math.imul(N,ot)|0,A=A+Math.imul(N,qt)|0;var mn=(P+(E=E+Math.imul(Z,jt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,hr)|0)+Math.imul(te,jt)|0))<<13)|0;P=((A=A+Math.imul(te,hr)|0)+(k>>>13)|0)+(mn>>>26)|0,mn&=67108863,E=Math.imul(Y,Ue),k=(k=Math.imul(Y,Ke))+Math.imul(ae,Ue)|0,A=Math.imul(ae,Ke),E=E+Math.imul(ee,Ze)|0,k=(k=k+Math.imul(ee,Et)|0)+Math.imul(F,Ze)|0,A=A+Math.imul(F,Et)|0,E=E+Math.imul(se,bt)|0,k=(k=k+Math.imul(se,Wt)|0)+Math.imul(B,bt)|0,A=A+Math.imul(B,Wt)|0,E=E+Math.imul(V,ot)|0,k=(k=k+Math.imul(V,qt)|0)+Math.imul(J,ot)|0,A=A+Math.imul(J,qt)|0,E=E+Math.imul($,jt)|0,k=(k=k+Math.imul($,hr)|0)+Math.imul(N,jt)|0,A=A+Math.imul(N,hr)|0;var gn=(P+(E=E+Math.imul(Z,dt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,wr)|0)+Math.imul(te,dt)|0))<<13)|0;P=((A=A+Math.imul(te,wr)|0)+(k>>>13)|0)+(gn>>>26)|0,gn&=67108863,E=Math.imul(le,Ue),k=(k=Math.imul(le,Ke))+Math.imul(de,Ue)|0,A=Math.imul(de,Ke),E=E+Math.imul(Y,Ze)|0,k=(k=k+Math.imul(Y,Et)|0)+Math.imul(ae,Ze)|0,A=A+Math.imul(ae,Et)|0,E=E+Math.imul(ee,bt)|0,k=(k=k+Math.imul(ee,Wt)|0)+Math.imul(F,bt)|0,A=A+Math.imul(F,Wt)|0,E=E+Math.imul(se,ot)|0,k=(k=k+Math.imul(se,qt)|0)+Math.imul(B,ot)|0,A=A+Math.imul(B,qt)|0,E=E+Math.imul(V,jt)|0,k=(k=k+Math.imul(V,hr)|0)+Math.imul(J,jt)|0,A=A+Math.imul(J,hr)|0,E=E+Math.imul($,dt)|0,k=(k=k+Math.imul($,wr)|0)+Math.imul(N,dt)|0,A=A+Math.imul(N,wr)|0;var Qn=(P+(E=E+Math.imul(Z,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Ne)|0)+Math.imul(te,Gt)|0))<<13)|0;P=((A=A+Math.imul(te,Ne)|0)+(k>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,E=Math.imul(ge,Ue),k=(k=Math.imul(ge,Ke))+Math.imul(ke,Ue)|0,A=Math.imul(ke,Ke),E=E+Math.imul(le,Ze)|0,k=(k=k+Math.imul(le,Et)|0)+Math.imul(de,Ze)|0,A=A+Math.imul(de,Et)|0,E=E+Math.imul(Y,bt)|0,k=(k=k+Math.imul(Y,Wt)|0)+Math.imul(ae,bt)|0,A=A+Math.imul(ae,Wt)|0,E=E+Math.imul(ee,ot)|0,k=(k=k+Math.imul(ee,qt)|0)+Math.imul(F,ot)|0,A=A+Math.imul(F,qt)|0,E=E+Math.imul(se,jt)|0,k=(k=k+Math.imul(se,hr)|0)+Math.imul(B,jt)|0,A=A+Math.imul(B,hr)|0,E=E+Math.imul(V,dt)|0,k=(k=k+Math.imul(V,wr)|0)+Math.imul(J,dt)|0,A=A+Math.imul(J,wr)|0,E=E+Math.imul($,Gt)|0,k=(k=k+Math.imul($,Ne)|0)+Math.imul(N,Gt)|0,A=A+Math.imul(N,Ne)|0;var xe=(P+(E=E+Math.imul(Z,He)|0)|0)+((8191&(k=(k=k+Math.imul(Z,ct)|0)+Math.imul(te,He)|0))<<13)|0;P=((A=A+Math.imul(te,ct)|0)+(k>>>13)|0)+(xe>>>26)|0,xe&=67108863,E=Math.imul(je,Ue),k=(k=Math.imul(je,Ke))+Math.imul(We,Ue)|0,A=Math.imul(We,Ke),E=E+Math.imul(ge,Ze)|0,k=(k=k+Math.imul(ge,Et)|0)+Math.imul(ke,Ze)|0,A=A+Math.imul(ke,Et)|0,E=E+Math.imul(le,bt)|0,k=(k=k+Math.imul(le,Wt)|0)+Math.imul(de,bt)|0,A=A+Math.imul(de,Wt)|0,E=E+Math.imul(Y,ot)|0,k=(k=k+Math.imul(Y,qt)|0)+Math.imul(ae,ot)|0,A=A+Math.imul(ae,qt)|0,E=E+Math.imul(ee,jt)|0,k=(k=k+Math.imul(ee,hr)|0)+Math.imul(F,jt)|0,A=A+Math.imul(F,hr)|0,E=E+Math.imul(se,dt)|0,k=(k=k+Math.imul(se,wr)|0)+Math.imul(B,dt)|0,A=A+Math.imul(B,wr)|0,E=E+Math.imul(V,Gt)|0,k=(k=k+Math.imul(V,Ne)|0)+Math.imul(J,Gt)|0,A=A+Math.imul(J,Ne)|0,E=E+Math.imul($,He)|0,k=(k=k+Math.imul($,ct)|0)+Math.imul(N,He)|0,A=A+Math.imul(N,ct)|0;var Le=(P+(E=E+Math.imul(Z,vt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Ft)|0)+Math.imul(te,vt)|0))<<13)|0;P=((A=A+Math.imul(te,Ft)|0)+(k>>>13)|0)+(Le>>>26)|0,Le&=67108863,E=Math.imul(qe,Ue),k=(k=Math.imul(qe,Ke))+Math.imul(pt,Ue)|0,A=Math.imul(pt,Ke),E=E+Math.imul(je,Ze)|0,k=(k=k+Math.imul(je,Et)|0)+Math.imul(We,Ze)|0,A=A+Math.imul(We,Et)|0,E=E+Math.imul(ge,bt)|0,k=(k=k+Math.imul(ge,Wt)|0)+Math.imul(ke,bt)|0,A=A+Math.imul(ke,Wt)|0,E=E+Math.imul(le,ot)|0,k=(k=k+Math.imul(le,qt)|0)+Math.imul(de,ot)|0,A=A+Math.imul(de,qt)|0,E=E+Math.imul(Y,jt)|0,k=(k=k+Math.imul(Y,hr)|0)+Math.imul(ae,jt)|0,A=A+Math.imul(ae,hr)|0,E=E+Math.imul(ee,dt)|0,k=(k=k+Math.imul(ee,wr)|0)+Math.imul(F,dt)|0,A=A+Math.imul(F,wr)|0,E=E+Math.imul(se,Gt)|0,k=(k=k+Math.imul(se,Ne)|0)+Math.imul(B,Gt)|0,A=A+Math.imul(B,Ne)|0,E=E+Math.imul(V,He)|0,k=(k=k+Math.imul(V,ct)|0)+Math.imul(J,He)|0,A=A+Math.imul(J,ct)|0,E=E+Math.imul($,vt)|0,k=(k=k+Math.imul($,Ft)|0)+Math.imul(N,vt)|0,A=A+Math.imul(N,Ft)|0;var et=(P+(E=E+Math.imul(Z,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Kt)|0)+Math.imul(te,Tt)|0))<<13)|0;P=((A=A+Math.imul(te,Kt)|0)+(k>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(qe,Ze),k=(k=Math.imul(qe,Et))+Math.imul(pt,Ze)|0,A=Math.imul(pt,Et),E=E+Math.imul(je,bt)|0,k=(k=k+Math.imul(je,Wt)|0)+Math.imul(We,bt)|0,A=A+Math.imul(We,Wt)|0,E=E+Math.imul(ge,ot)|0,k=(k=k+Math.imul(ge,qt)|0)+Math.imul(ke,ot)|0,A=A+Math.imul(ke,qt)|0,E=E+Math.imul(le,jt)|0,k=(k=k+Math.imul(le,hr)|0)+Math.imul(de,jt)|0,A=A+Math.imul(de,hr)|0,E=E+Math.imul(Y,dt)|0,k=(k=k+Math.imul(Y,wr)|0)+Math.imul(ae,dt)|0,A=A+Math.imul(ae,wr)|0,E=E+Math.imul(ee,Gt)|0,k=(k=k+Math.imul(ee,Ne)|0)+Math.imul(F,Gt)|0,A=A+Math.imul(F,Ne)|0,E=E+Math.imul(se,He)|0,k=(k=k+Math.imul(se,ct)|0)+Math.imul(B,He)|0,A=A+Math.imul(B,ct)|0,E=E+Math.imul(V,vt)|0,k=(k=k+Math.imul(V,Ft)|0)+Math.imul(J,vt)|0,A=A+Math.imul(J,Ft)|0;var it=(P+(E=E+Math.imul($,Tt)|0)|0)+((8191&(k=(k=k+Math.imul($,Kt)|0)+Math.imul(N,Tt)|0))<<13)|0;P=((A=A+Math.imul(N,Kt)|0)+(k>>>13)|0)+(it>>>26)|0,it&=67108863,E=Math.imul(qe,bt),k=(k=Math.imul(qe,Wt))+Math.imul(pt,bt)|0,A=Math.imul(pt,Wt),E=E+Math.imul(je,ot)|0,k=(k=k+Math.imul(je,qt)|0)+Math.imul(We,ot)|0,A=A+Math.imul(We,qt)|0,E=E+Math.imul(ge,jt)|0,k=(k=k+Math.imul(ge,hr)|0)+Math.imul(ke,jt)|0,A=A+Math.imul(ke,hr)|0,E=E+Math.imul(le,dt)|0,k=(k=k+Math.imul(le,wr)|0)+Math.imul(de,dt)|0,A=A+Math.imul(de,wr)|0,E=E+Math.imul(Y,Gt)|0,k=(k=k+Math.imul(Y,Ne)|0)+Math.imul(ae,Gt)|0,A=A+Math.imul(ae,Ne)|0,E=E+Math.imul(ee,He)|0,k=(k=k+Math.imul(ee,ct)|0)+Math.imul(F,He)|0,A=A+Math.imul(F,ct)|0,E=E+Math.imul(se,vt)|0,k=(k=k+Math.imul(se,Ft)|0)+Math.imul(B,vt)|0,A=A+Math.imul(B,Ft)|0;var Nt=(P+(E=E+Math.imul(V,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(V,Kt)|0)+Math.imul(J,Tt)|0))<<13)|0;P=((A=A+Math.imul(J,Kt)|0)+(k>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,E=Math.imul(qe,ot),k=(k=Math.imul(qe,qt))+Math.imul(pt,ot)|0,A=Math.imul(pt,qt),E=E+Math.imul(je,jt)|0,k=(k=k+Math.imul(je,hr)|0)+Math.imul(We,jt)|0,A=A+Math.imul(We,hr)|0,E=E+Math.imul(ge,dt)|0,k=(k=k+Math.imul(ge,wr)|0)+Math.imul(ke,dt)|0,A=A+Math.imul(ke,wr)|0,E=E+Math.imul(le,Gt)|0,k=(k=k+Math.imul(le,Ne)|0)+Math.imul(de,Gt)|0,A=A+Math.imul(de,Ne)|0,E=E+Math.imul(Y,He)|0,k=(k=k+Math.imul(Y,ct)|0)+Math.imul(ae,He)|0,A=A+Math.imul(ae,ct)|0,E=E+Math.imul(ee,vt)|0,k=(k=k+Math.imul(ee,Ft)|0)+Math.imul(F,vt)|0,A=A+Math.imul(F,Ft)|0;var mt=(P+(E=E+Math.imul(se,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(se,Kt)|0)+Math.imul(B,Tt)|0))<<13)|0;P=((A=A+Math.imul(B,Kt)|0)+(k>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(qe,jt),k=(k=Math.imul(qe,hr))+Math.imul(pt,jt)|0,A=Math.imul(pt,hr),E=E+Math.imul(je,dt)|0,k=(k=k+Math.imul(je,wr)|0)+Math.imul(We,dt)|0,A=A+Math.imul(We,wr)|0,E=E+Math.imul(ge,Gt)|0,k=(k=k+Math.imul(ge,Ne)|0)+Math.imul(ke,Gt)|0,A=A+Math.imul(ke,Ne)|0,E=E+Math.imul(le,He)|0,k=(k=k+Math.imul(le,ct)|0)+Math.imul(de,He)|0,A=A+Math.imul(de,ct)|0,E=E+Math.imul(Y,vt)|0,k=(k=k+Math.imul(Y,Ft)|0)+Math.imul(ae,vt)|0,A=A+Math.imul(ae,Ft)|0;var yt=(P+(E=E+Math.imul(ee,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(ee,Kt)|0)+Math.imul(F,Tt)|0))<<13)|0;P=((A=A+Math.imul(F,Kt)|0)+(k>>>13)|0)+(yt>>>26)|0,yt&=67108863,E=Math.imul(qe,dt),k=(k=Math.imul(qe,wr))+Math.imul(pt,dt)|0,A=Math.imul(pt,wr),E=E+Math.imul(je,Gt)|0,k=(k=k+Math.imul(je,Ne)|0)+Math.imul(We,Gt)|0,A=A+Math.imul(We,Ne)|0,E=E+Math.imul(ge,He)|0,k=(k=k+Math.imul(ge,ct)|0)+Math.imul(ke,He)|0,A=A+Math.imul(ke,ct)|0,E=E+Math.imul(le,vt)|0,k=(k=k+Math.imul(le,Ft)|0)+Math.imul(de,vt)|0,A=A+Math.imul(de,Ft)|0;var xr=(P+(E=E+Math.imul(Y,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Kt)|0)+Math.imul(ae,Tt)|0))<<13)|0;P=((A=A+Math.imul(ae,Kt)|0)+(k>>>13)|0)+(xr>>>26)|0,xr&=67108863,E=Math.imul(qe,Gt),k=(k=Math.imul(qe,Ne))+Math.imul(pt,Gt)|0,A=Math.imul(pt,Ne),E=E+Math.imul(je,He)|0,k=(k=k+Math.imul(je,ct)|0)+Math.imul(We,He)|0,A=A+Math.imul(We,ct)|0,E=E+Math.imul(ge,vt)|0,k=(k=k+Math.imul(ge,Ft)|0)+Math.imul(ke,vt)|0,A=A+Math.imul(ke,Ft)|0;var lr=(P+(E=E+Math.imul(le,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(le,Kt)|0)+Math.imul(de,Tt)|0))<<13)|0;P=((A=A+Math.imul(de,Kt)|0)+(k>>>13)|0)+(lr>>>26)|0,lr&=67108863,E=Math.imul(qe,He),k=(k=Math.imul(qe,ct))+Math.imul(pt,He)|0,A=Math.imul(pt,ct),E=E+Math.imul(je,vt)|0,k=(k=k+Math.imul(je,Ft)|0)+Math.imul(We,vt)|0,A=A+Math.imul(We,Ft)|0;var fr=(P+(E=E+Math.imul(ge,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(ge,Kt)|0)+Math.imul(ke,Tt)|0))<<13)|0;P=((A=A+Math.imul(ke,Kt)|0)+(k>>>13)|0)+(fr>>>26)|0,fr&=67108863,E=Math.imul(qe,vt),k=(k=Math.imul(qe,Ft))+Math.imul(pt,vt)|0,A=Math.imul(pt,Ft);var Xt=(P+(E=E+Math.imul(je,Tt)|0)|0)+((8191&(k=(k=k+Math.imul(je,Kt)|0)+Math.imul(We,Tt)|0))<<13)|0;P=((A=A+Math.imul(We,Kt)|0)+(k>>>13)|0)+(Xt>>>26)|0,Xt&=67108863;var Dr=(P+(E=Math.imul(qe,Tt))|0)+((8191&(k=(k=Math.imul(qe,Kt))+Math.imul(pt,Tt)|0))<<13)|0;return P=((A=Math.imul(pt,Kt))+(k>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,z[0]=zt,z[1]=ar,z[2]=Gr,z[3]=zr,z[4]=mn,z[5]=gn,z[6]=Qn,z[7]=xe,z[8]=Le,z[9]=et,z[10]=it,z[11]=Nt,z[12]=mt,z[13]=yt,z[14]=xr,z[15]=lr,z[16]=fr,z[17]=Xt,z[18]=Dr,P!==0&&(z[19]=P,j.length++),j};function b(R,S,j){return new x().mulp(R,S,j)}function x(R,S){this.x=R,this.y=S}Math.imul||(y=v),c.prototype.mulTo=function(R,S){var j=this.length+R.length;return this.length===10&&R.length===10?y(this,R,S):j<63?v(this,R,S):j<1024?function(E,k,A){A.negative=k.negative^E.negative,A.length=E.length+k.length;for(var C=0,D=0,z=0;z<A.length-1;z++){var P=D;D=0;for(var K=67108863&C,Z=Math.min(z,k.length-1),te=Math.max(0,z-E.length+1);te<=Z;te++){var q=z-te,$=(0|E.words[q])*(0|k.words[te]),N=67108863&$;K=67108863&(N=N+K|0),D+=(P=(P=P+($/67108864|0)|0)+(N>>>26)|0)>>>26,P&=67108863}A.words[z]=K,C=P,P=D}return C!==0?A.words[z]=C:A.length--,A.strip()}(this,R,S):b(this,R,S)},x.prototype.makeRBT=function(R){for(var S=new Array(R),j=c.prototype._countBits(R)-1,E=0;E<R;E++)S[E]=this.revBin(E,j,R);return S},x.prototype.revBin=function(R,S,j){if(R===0||R===j-1)return R;for(var E=0,k=0;k<S;k++)E|=(1&R)<<S-k-1,R>>=1;return E},x.prototype.permute=function(R,S,j,E,k,A){for(var C=0;C<A;C++)E[C]=S[R[C]],k[C]=j[R[C]]},x.prototype.transform=function(R,S,j,E,k,A){this.permute(A,R,S,j,E,k);for(var C=1;C<k;C<<=1)for(var D=C<<1,z=Math.cos(2*Math.PI/D),P=Math.sin(2*Math.PI/D),K=0;K<k;K+=D)for(var Z=z,te=P,q=0;q<C;q++){var $=j[K+q],N=E[K+q],T=j[K+q+C],V=E[K+q+C],J=Z*T-te*V;V=Z*V+te*T,T=J,j[K+q]=$+T,E[K+q]=N+V,j[K+q+C]=$-T,E[K+q+C]=N-V,q!==D&&(J=z*Z-P*te,te=z*te+P*Z,Z=J)}},x.prototype.guessLen13b=function(R,S){var j=1|Math.max(S,R),E=1&j,k=0;for(j=j/2|0;j;j>>>=1)k++;return 1<<k+1+E},x.prototype.conjugate=function(R,S,j){if(!(j<=1))for(var E=0;E<j/2;E++){var k=R[E];R[E]=R[j-E-1],R[j-E-1]=k,k=S[E],S[E]=-S[j-E-1],S[j-E-1]=-k}},x.prototype.normalize13b=function(R,S){for(var j=0,E=0;E<S/2;E++){var k=8192*Math.round(R[2*E+1]/S)+Math.round(R[2*E]/S)+j;R[E]=67108863&k,j=k<67108864?0:k/67108864|0}return R},x.prototype.convert13b=function(R,S,j,E){for(var k=0,A=0;A<S;A++)k+=0|R[A],j[2*A]=8191&k,k>>>=13,j[2*A+1]=8191&k,k>>>=13;for(A=2*S;A<E;++A)j[A]=0;a(k===0),a((-8192&k)==0)},x.prototype.stub=function(R){for(var S=new Array(R),j=0;j<R;j++)S[j]=0;return S},x.prototype.mulp=function(R,S,j){var E=2*this.guessLen13b(R.length,S.length),k=this.makeRBT(E),A=this.stub(E),C=new Array(E),D=new Array(E),z=new Array(E),P=new Array(E),K=new Array(E),Z=new Array(E),te=j.words;te.length=E,this.convert13b(R.words,R.length,C,E),this.convert13b(S.words,S.length,P,E),this.transform(C,A,D,z,E,k),this.transform(P,A,K,Z,E,k);for(var q=0;q<E;q++){var $=D[q]*K[q]-z[q]*Z[q];z[q]=D[q]*Z[q]+z[q]*K[q],D[q]=$}return this.conjugate(D,z,E),this.transform(D,z,te,A,E,k),this.conjugate(te,A,E),this.normalize13b(te,E),j.negative=R.negative^S.negative,j.length=R.length+S.length,j.strip()},c.prototype.mul=function(R){var S=new c(null);return S.words=new Array(this.length+R.length),this.mulTo(R,S)},c.prototype.mulf=function(R){var S=new c(null);return S.words=new Array(this.length+R.length),b(this,R,S)},c.prototype.imul=function(R){return this.clone().mulTo(R,this)},c.prototype.imuln=function(R){a(typeof R=="number"),a(R<67108864);for(var S=0,j=0;j<this.length;j++){var E=(0|this.words[j])*R,k=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=k>>>26,this.words[j]=67108863&k}return S!==0&&(this.words[j]=S,this.length++),this},c.prototype.muln=function(R){return this.clone().imuln(R)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(R){var S=function(A){for(var C=new Array(A.bitLength()),D=0;D<C.length;D++){var z=D/26|0,P=D%26;C[D]=(A.words[z]&1<<P)>>>P}return C}(R);if(S.length===0)return new c(1);for(var j=this,E=0;E<S.length&&S[E]===0;E++,j=j.sqr());if(++E<S.length)for(var k=j.sqr();E<S.length;E++,k=k.sqr())S[E]!==0&&(j=j.mul(k));return j},c.prototype.iushln=function(R){a(typeof R=="number"&&R>=0);var S,j=R%26,E=(R-j)/26,k=67108863>>>26-j<<26-j;if(j!==0){var A=0;for(S=0;S<this.length;S++){var C=this.words[S]&k,D=(0|this.words[S])-C<<j;this.words[S]=D|A,A=C>>>26-j}A&&(this.words[S]=A,this.length++)}if(E!==0){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this.strip()},c.prototype.ishln=function(R){return a(this.negative===0),this.iushln(R)},c.prototype.iushrn=function(R,S,j){var E;a(typeof R=="number"&&R>=0),E=S?(S-S%26)/26:0;var k=R%26,A=Math.min((R-k)/26,this.length),C=67108863^67108863>>>k<<k,D=j;if(E-=A,E=Math.max(0,E),D){for(var z=0;z<A;z++)D.words[z]=this.words[z];D.length=A}if(A!==0)if(this.length>A)for(this.length-=A,z=0;z<this.length;z++)this.words[z]=this.words[z+A];else this.words[0]=0,this.length=1;var P=0;for(z=this.length-1;z>=0&&(P!==0||z>=E);z--){var K=0|this.words[z];this.words[z]=P<<26-k|K>>>k,P=K&C}return D&&P!==0&&(D.words[D.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(R,S,j){return a(this.negative===0),this.iushrn(R,S,j)},c.prototype.shln=function(R){return this.clone().ishln(R)},c.prototype.ushln=function(R){return this.clone().iushln(R)},c.prototype.shrn=function(R){return this.clone().ishrn(R)},c.prototype.ushrn=function(R){return this.clone().iushrn(R)},c.prototype.testn=function(R){a(typeof R=="number"&&R>=0);var S=R%26,j=(R-S)/26,E=1<<S;return!(this.length<=j)&&!!(this.words[j]&E)},c.prototype.imaskn=function(R){a(typeof R=="number"&&R>=0);var S=R%26,j=(R-S)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(S!==0&&j++,this.length=Math.min(j,this.length),S!==0){var E=67108863^67108863>>>S<<S;this.words[this.length-1]&=E}return this.strip()},c.prototype.maskn=function(R){return this.clone().imaskn(R)},c.prototype.iaddn=function(R){return a(typeof R=="number"),a(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},c.prototype._iaddn=function(R){this.words[0]+=R;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},c.prototype.isubn=function(R){if(a(typeof R=="number"),a(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},c.prototype.addn=function(R){return this.clone().iaddn(R)},c.prototype.subn=function(R){return this.clone().isubn(R)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(R,S,j){var E,k,A=R.length+j;this._expand(A);var C=0;for(E=0;E<R.length;E++){k=(0|this.words[E+j])+C;var D=(0|R.words[E])*S;C=((k-=67108863&D)>>26)-(D/67108864|0),this.words[E+j]=67108863&k}for(;E<this.length-j;E++)C=(k=(0|this.words[E+j])+C)>>26,this.words[E+j]=67108863&k;if(C===0)return this.strip();for(a(C===-1),C=0,E=0;E<this.length;E++)C=(k=-(0|this.words[E])+C)>>26,this.words[E]=67108863&k;return this.negative=1,this.strip()},c.prototype._wordDiv=function(R,S){var j=(this.length,R.length),E=this.clone(),k=R,A=0|k.words[k.length-1];(j=26-this._countBits(A))!==0&&(k=k.ushln(j),E.iushln(j),A=0|k.words[k.length-1]);var C,D=E.length-k.length;if(S!=="mod"){(C=new c(null)).length=D+1,C.words=new Array(C.length);for(var z=0;z<C.length;z++)C.words[z]=0}var P=E.clone()._ishlnsubmul(k,1,D);P.negative===0&&(E=P,C&&(C.words[D]=1));for(var K=D-1;K>=0;K--){var Z=67108864*(0|E.words[k.length+K])+(0|E.words[k.length+K-1]);for(Z=Math.min(Z/A|0,67108863),E._ishlnsubmul(k,Z,K);E.negative!==0;)Z--,E.negative=0,E._ishlnsubmul(k,1,K),E.isZero()||(E.negative^=1);C&&(C.words[K]=Z)}return C&&C.strip(),E.strip(),S!=="div"&&j!==0&&E.iushrn(j),{div:C||null,mod:E}},c.prototype.divmod=function(R,S,j){return a(!R.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&R.negative===0?(A=this.neg().divmod(R,S),S!=="mod"&&(E=A.div.neg()),S!=="div"&&(k=A.mod.neg(),j&&k.negative!==0&&k.iadd(R)),{div:E,mod:k}):this.negative===0&&R.negative!==0?(A=this.divmod(R.neg(),S),S!=="mod"&&(E=A.div.neg()),{div:E,mod:A.mod}):this.negative&R.negative?(A=this.neg().divmod(R.neg(),S),S!=="div"&&(k=A.mod.neg(),j&&k.negative!==0&&k.isub(R)),{div:A.div,mod:k}):R.length>this.length||this.cmp(R)<0?{div:new c(0),mod:this}:R.length===1?S==="div"?{div:this.divn(R.words[0]),mod:null}:S==="mod"?{div:null,mod:new c(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new c(this.modn(R.words[0]))}:this._wordDiv(R,S);var E,k,A},c.prototype.div=function(R){return this.divmod(R,"div",!1).div},c.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},c.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},c.prototype.divRound=function(R){var S=this.divmod(R);if(S.mod.isZero())return S.div;var j=S.div.negative!==0?S.mod.isub(R):S.mod,E=R.ushrn(1),k=R.andln(1),A=j.cmp(E);return A<0||k===1&&A===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},c.prototype.modn=function(R){a(R<=67108863);for(var S=(1<<26)%R,j=0,E=this.length-1;E>=0;E--)j=(S*j+(0|this.words[E]))%R;return j},c.prototype.idivn=function(R){a(R<=67108863);for(var S=0,j=this.length-1;j>=0;j--){var E=(0|this.words[j])+67108864*S;this.words[j]=E/R|0,S=E%R}return this.strip()},c.prototype.divn=function(R){return this.clone().idivn(R)},c.prototype.egcd=function(R){a(R.negative===0),a(!R.isZero());var S=this,j=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var E=new c(1),k=new c(0),A=new c(0),C=new c(1),D=0;S.isEven()&&j.isEven();)S.iushrn(1),j.iushrn(1),++D;for(var z=j.clone(),P=S.clone();!S.isZero();){for(var K=0,Z=1;!(S.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(S.iushrn(K);K-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(z),k.isub(P)),E.iushrn(1),k.iushrn(1);for(var te=0,q=1;!(j.words[0]&q)&&te<26;++te,q<<=1);if(te>0)for(j.iushrn(te);te-- >0;)(A.isOdd()||C.isOdd())&&(A.iadd(z),C.isub(P)),A.iushrn(1),C.iushrn(1);S.cmp(j)>=0?(S.isub(j),E.isub(A),k.isub(C)):(j.isub(S),A.isub(E),C.isub(k))}return{a:A,b:C,gcd:j.iushln(D)}},c.prototype._invmp=function(R){a(R.negative===0),a(!R.isZero());var S=this,j=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var E,k=new c(1),A=new c(0),C=j.clone();S.cmpn(1)>0&&j.cmpn(1)>0;){for(var D=0,z=1;!(S.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(S.iushrn(D);D-- >0;)k.isOdd()&&k.iadd(C),k.iushrn(1);for(var P=0,K=1;!(j.words[0]&K)&&P<26;++P,K<<=1);if(P>0)for(j.iushrn(P);P-- >0;)A.isOdd()&&A.iadd(C),A.iushrn(1);S.cmp(j)>=0?(S.isub(j),k.isub(A)):(j.isub(S),A.isub(k))}return(E=S.cmpn(1)===0?k:A).cmpn(0)<0&&E.iadd(R),E},c.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var S=this.clone(),j=R.clone();S.negative=0,j.negative=0;for(var E=0;S.isEven()&&j.isEven();E++)S.iushrn(1),j.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;j.isEven();)j.iushrn(1);var k=S.cmp(j);if(k<0){var A=S;S=j,j=A}else if(k===0||j.cmpn(1)===0)break;S.isub(j)}return j.iushln(E)},c.prototype.invm=function(R){return this.egcd(R).a.umod(R)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(R){return this.words[0]&R},c.prototype.bincn=function(R){a(typeof R=="number");var S=R%26,j=(R-S)/26,E=1<<S;if(this.length<=j)return this._expand(j+1),this.words[j]|=E,this;for(var k=E,A=j;k!==0&&A<this.length;A++){var C=0|this.words[A];k=(C+=k)>>>26,C&=67108863,this.words[A]=C}return k!==0&&(this.words[A]=k,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(R){var S,j=R<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this.strip(),this.length>1)S=1;else{j&&(R=-R),a(R<=67108863,"Number is too big");var E=0|this.words[0];S=E===R?0:E<R?-1:1}return this.negative!==0?0|-S:S},c.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var S=this.ucmp(R);return this.negative!==0?0|-S:S},c.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var S=0,j=this.length-1;j>=0;j--){var E=0|this.words[j],k=0|R.words[j];if(E!==k){E<k?S=-1:E>k&&(S=1);break}}return S},c.prototype.gtn=function(R){return this.cmpn(R)===1},c.prototype.gt=function(R){return this.cmp(R)===1},c.prototype.gten=function(R){return this.cmpn(R)>=0},c.prototype.gte=function(R){return this.cmp(R)>=0},c.prototype.ltn=function(R){return this.cmpn(R)===-1},c.prototype.lt=function(R){return this.cmp(R)===-1},c.prototype.lten=function(R){return this.cmpn(R)<=0},c.prototype.lte=function(R){return this.cmp(R)<=0},c.prototype.eqn=function(R){return this.cmpn(R)===0},c.prototype.eq=function(R){return this.cmp(R)===0},c.red=function(R){return new G(R)},c.prototype.toRed=function(R){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(R){return this.red=R,this},c.prototype.forceRed=function(R){return a(!this.red,"Already a number in reduction context"),this._forceRed(R)},c.prototype.redAdd=function(R){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},c.prototype.redIAdd=function(R){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},c.prototype.redSub=function(R){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},c.prototype.redISub=function(R){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},c.prototype.redShl=function(R){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},c.prototype.redMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},c.prototype.redIMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(R){return a(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var _={k256:null,p224:null,p192:null,p25519:null};function M(R,S){this.name=R,this.p=new c(S,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(R){if(typeof R=="string"){var S=c._prime(R);this.m=S.p,this.prime=S}else a(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function I(R){G.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var R=new c(null);return R.words=new Array(Math.ceil(this.n/13)),R},M.prototype.ireduce=function(R){var S,j=R;do this.split(j,this.tmp),S=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(S>this.n);var E=S<this.n?-1:j.ucmp(this.p);return E===0?(j.words[0]=0,j.length=1):E>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},M.prototype.split=function(R,S){R.iushrn(this.n,0,S)},M.prototype.imulK=function(R){return R.imul(this.k)},l(U,M),U.prototype.split=function(R,S){for(var j=Math.min(R.length,9),E=0;E<j;E++)S.words[E]=R.words[E];if(S.length=j,R.length<=9)return R.words[0]=0,void(R.length=1);var k=R.words[9];for(S.words[S.length++]=4194303&k,E=10;E<R.length;E++){var A=0|R.words[E];R.words[E-10]=(4194303&A)<<4|k>>>22,k=A}k>>>=22,R.words[E-10]=k,k===0&&R.length>10?R.length-=10:R.length-=9},U.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var S=0,j=0;j<R.length;j++){var E=0|R.words[j];S+=977*E,R.words[j]=67108863&S,S=64*E+(S/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},l(L,M),l(O,M),l(H,M),H.prototype.imulK=function(R){for(var S=0,j=0;j<R.length;j++){var E=19*(0|R.words[j])+S,k=67108863&E;E>>>=26,R.words[j]=k,S=E}return S!==0&&(R.words[R.length++]=S),R},c._prime=function(R){if(_[R])return _[R];var S;if(R==="k256")S=new U;else if(R==="p224")S=new L;else if(R==="p192")S=new O;else{if(R!=="p25519")throw new Error("Unknown prime "+R);S=new H}return _[R]=S,S},G.prototype._verify1=function(R){a(R.negative===0,"red works only with positives"),a(R.red,"red works only with red numbers")},G.prototype._verify2=function(R,S){a((R.negative|S.negative)==0,"red works only with positives"),a(R.red&&R.red===S.red,"red works only with red numbers")},G.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},G.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},G.prototype.add=function(R,S){this._verify2(R,S);var j=R.add(S);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},G.prototype.iadd=function(R,S){this._verify2(R,S);var j=R.iadd(S);return j.cmp(this.m)>=0&&j.isub(this.m),j},G.prototype.sub=function(R,S){this._verify2(R,S);var j=R.sub(S);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},G.prototype.isub=function(R,S){this._verify2(R,S);var j=R.isub(S);return j.cmpn(0)<0&&j.iadd(this.m),j},G.prototype.shl=function(R,S){return this._verify1(R),this.imod(R.ushln(S))},G.prototype.imul=function(R,S){return this._verify2(R,S),this.imod(R.imul(S))},G.prototype.mul=function(R,S){return this._verify2(R,S),this.imod(R.mul(S))},G.prototype.isqr=function(R){return this.imul(R,R.clone())},G.prototype.sqr=function(R){return this.mul(R,R)},G.prototype.sqrt=function(R){if(R.isZero())return R.clone();var S=this.m.andln(3);if(a(S%2==1),S===3){var j=this.m.add(new c(1)).iushrn(2);return this.pow(R,j)}for(var E=this.m.subn(1),k=0;!E.isZero()&&E.andln(1)===0;)k++,E.iushrn(1);a(!E.isZero());var A=new c(1).toRed(this),C=A.redNeg(),D=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new c(2*z*z).toRed(this);this.pow(z,D).cmp(C)!==0;)z.redIAdd(C);for(var P=this.pow(z,E),K=this.pow(R,E.addn(1).iushrn(1)),Z=this.pow(R,E),te=k;Z.cmp(A)!==0;){for(var q=Z,$=0;q.cmp(A)!==0;$++)q=q.redSqr();a($<te);var N=this.pow(P,new c(1).iushln(te-$-1));K=K.redMul(N),P=N.redSqr(),Z=Z.redMul(P),te=$}return K},G.prototype.invm=function(R){var S=R._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},G.prototype.pow=function(R,S){if(S.isZero())return new c(1).toRed(this);if(S.cmpn(1)===0)return R.clone();var j=new Array(16);j[0]=new c(1).toRed(this),j[1]=R;for(var E=2;E<j.length;E++)j[E]=this.mul(j[E-1],R);var k=j[0],A=0,C=0,D=S.bitLength()%26;for(D===0&&(D=26),E=S.length-1;E>=0;E--){for(var z=S.words[E],P=D-1;P>=0;P--){var K=z>>P&1;k!==j[0]&&(k=this.sqr(k)),K!==0||A!==0?(A<<=1,A|=K,(++C===4||E===0&&P===0)&&(k=this.mul(k,j[A]),C=0,A=0)):C=0}D=26}return k},G.prototype.convertTo=function(R){var S=R.umod(this.m);return S===R?S.clone():S},G.prototype.convertFrom=function(R){var S=R.clone();return S.red=null,S},c.mont=function(R){return new I(R)},l(I,G),I.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},I.prototype.convertFrom=function(R){var S=this.imod(R.mul(this.rinv));return S.red=null,S},I.prototype.imul=function(R,S){if(R.isZero()||S.isZero())return R.words[0]=0,R.length=1,R;var j=R.imul(S),E=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=j.isub(E).iushrn(this.shift),A=k;return k.cmp(this.m)>=0?A=k.isub(this.m):k.cmpn(0)<0&&(A=k.iadd(this.m)),A._forceRed(this)},I.prototype.mul=function(R,S){if(R.isZero()||S.isZero())return new c(0)._forceRed(this);var j=R.mul(S),E=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=j.isub(E).iushrn(this.shift),A=k;return k.cmp(this.m)>=0?A=k.isub(this.m):k.cmpn(0)<0&&(A=k.iadd(this.m)),A._forceRed(this)},I.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(d){var p=h(d),g=p[0],m=p[1];return 3*(g+m)/4-m},i.toByteArray=function(d){var p,g,m=h(d),v=m[0],y=m[1],b=new a(function(M,U,L){return 3*(U+L)/4-L}(0,v,y)),x=0,_=y>0?v-4:v;for(g=0;g<_;g+=4)p=o[d.charCodeAt(g)]<<18|o[d.charCodeAt(g+1)]<<12|o[d.charCodeAt(g+2)]<<6|o[d.charCodeAt(g+3)],b[x++]=p>>16&255,b[x++]=p>>8&255,b[x++]=255&p;return y===2&&(p=o[d.charCodeAt(g)]<<2|o[d.charCodeAt(g+1)]>>4,b[x++]=255&p),y===1&&(p=o[d.charCodeAt(g)]<<10|o[d.charCodeAt(g+1)]<<4|o[d.charCodeAt(g+2)]>>2,b[x++]=p>>8&255,b[x++]=255&p),b},i.fromByteArray=function(d){for(var p,g=d.length,m=g%3,v=[],y=0,b=g-m;y<b;y+=16383)v.push(f(d,y,y+16383>b?b:y+16383));return m===1?(p=d[g-1],v.push(s[p>>2]+s[p<<4&63]+"==")):m===2&&(p=(d[g-2]<<8)+d[g-1],v.push(s[p>>10]+s[p>>4&63]+s[p<<2&63]+"=")),v.join("")};for(var s=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)s[c]=l[c],o[l.charCodeAt(c)]=c;function h(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function f(d,p,g){for(var m,v,y=[],b=p;b<g;b+=3)m=(d[b]<<16&16711680)+(d[b+1]<<8&65280)+(255&d[b+2]),y.push(s[(v=m)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return y.join("")}o[45]=62,o[95]=63},{}],186:[function(r,n,i){(function(s,o){function a(j,E){if(!j)throw new Error(E||"Assertion failed")}function l(j,E){j.super_=E;var k=function(){};k.prototype=E.prototype,j.prototype=new k,j.prototype.constructor=j}function c(j,E,k){if(c.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&(E!=="le"&&E!=="be"||(k=E,E=10),this._init(j||0,E||10,k||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(j,E){var k=j.charCodeAt(E);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void a(!1,"Invalid character in "+j)}function f(j,E,k){var A=h(j,k);return k-1>=E&&(A|=h(j,k-1)<<4),A}function d(j,E,k,A){for(var C=0,D=0,z=Math.min(j.length,k),P=E;P<z;P++){var K=j.charCodeAt(P)-48;C*=A,D=K>=49?K-49+10:K>=17?K-17+10:K,a(K>=0&&D<A,"Invalid character"),C+=D}return C}function p(j,E){j.words=E.words,j.length=E.length,j.negative=E.negative,j.red=E.red}if(c.isBN=function(j){return j instanceof c||j!==null&&typeof j=="object"&&j.constructor.wordSize===c.wordSize&&Array.isArray(j.words)},c.max=function(j,E){return j.cmp(E)>0?j:E},c.min=function(j,E){return j.cmp(E)<0?j:E},c.prototype._init=function(j,E,k){if(typeof j=="number")return this._initNumber(j,E,k);if(typeof j=="object")return this._initArray(j,E,k);E==="hex"&&(E=16),a(E===(0|E)&&E>=2&&E<=36);var A=0;(j=j.toString().replace(/\s+/g,""))[0]==="-"&&(A++,this.negative=1),A<j.length&&(E===16?this._parseHex(j,A,k):(this._parseBase(j,E,A),k==="le"&&this._initArray(this.toArray(),E,k)))},c.prototype._initNumber=function(j,E,k){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[67108863&j],this.length=1):j<4503599627370496?(this.words=[67108863&j,j/67108864&67108863],this.length=2):(a(j<9007199254740992),this.words=[67108863&j,j/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),E,k)},c.prototype._initArray=function(j,E,k){if(a(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var C,D,z=0;if(k==="be")for(A=j.length-1,C=0;A>=0;A-=3)D=j[A]|j[A-1]<<8|j[A-2]<<16,this.words[C]|=D<<z&67108863,this.words[C+1]=D>>>26-z&67108863,(z+=24)>=26&&(z-=26,C++);else if(k==="le")for(A=0,C=0;A<j.length;A+=3)D=j[A]|j[A+1]<<8|j[A+2]<<16,this.words[C]|=D<<z&67108863,this.words[C+1]=D>>>26-z&67108863,(z+=24)>=26&&(z-=26,C++);return this._strip()},c.prototype._parseHex=function(j,E,k){this.length=Math.ceil((j.length-E)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var C,D=0,z=0;if(k==="be")for(A=j.length-1;A>=E;A-=2)C=f(j,E,A)<<D,this.words[z]|=67108863&C,D>=18?(D-=18,z+=1,this.words[z]|=C>>>26):D+=8;else for(A=(j.length-E)%2==0?E+1:E;A<j.length;A+=2)C=f(j,E,A)<<D,this.words[z]|=67108863&C,D>=18?(D-=18,z+=1,this.words[z]|=C>>>26):D+=8;this._strip()},c.prototype._parseBase=function(j,E,k){this.words=[0],this.length=1;for(var A=0,C=1;C<=67108863;C*=E)A++;A--,C=C/E|0;for(var D=j.length-k,z=D%A,P=Math.min(D,D-z)+k,K=0,Z=k;Z<P;Z+=A)K=d(j,Z,Z+A,E),this.imuln(C),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(z!==0){var te=1;for(K=d(j,Z,j.length,E),Z=0;Z<z;Z++)te*=E;this.imuln(te),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},c.prototype.copy=function(j){j.words=new Array(this.length);for(var E=0;E<this.length;E++)j.words[E]=this.words[E];j.length=this.length,j.negative=this.negative,j.red=this.red},c.prototype._move=function(j){p(j,this)},c.prototype.clone=function(){var j=new c(null);return this.copy(j),j},c.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{c.prototype.inspect=g}else c.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(j,E){var k;if(E=0|E||1,(j=j||10)===16||j==="hex"){k="";for(var A=0,C=0,D=0;D<this.length;D++){var z=this.words[D],P=(16777215&(z<<A|C)).toString(16);C=z>>>24-A&16777215,(A+=2)>=26&&(A-=26,D--),k=C!==0||D!==this.length-1?m[6-P.length]+P+k:P+k}for(C!==0&&(k=C.toString(16)+k);k.length%E!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(j===(0|j)&&j>=2&&j<=36){var K=v[j],Z=y[j];k="";var te=this.clone();for(te.negative=0;!te.isZero();){var q=te.modrn(Z).toString(j);k=(te=te.idivn(Z)).isZero()?q+k:m[K-q.length]+q+k}for(this.isZero()&&(k="0"+k);k.length%E!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=67108864*this.words[1]:this.length===3&&this.words[2]===1?j+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(j,E){return this.toArrayLike(u,j,E)}),c.prototype.toArray=function(j,E){return this.toArrayLike(Array,j,E)};function b(j,E,k){k.negative=E.negative^j.negative;var A=j.length+E.length|0;k.length=A,A=A-1|0;var C=0|j.words[0],D=0|E.words[0],z=C*D,P=67108863&z,K=z/67108864|0;k.words[0]=P;for(var Z=1;Z<A;Z++){for(var te=K>>>26,q=67108863&K,$=Math.min(Z,E.length-1),N=Math.max(0,Z-j.length+1);N<=$;N++){var T=Z-N|0;te+=(z=(C=0|j.words[T])*(D=0|E.words[N])+q)/67108864|0,q=67108863&z}k.words[Z]=0|q,K=0|te}return K!==0?k.words[Z]=0|K:k.length--,k._strip()}c.prototype.toArrayLike=function(j,E,k){this._strip();var A=this.byteLength(),C=k||Math.max(1,A);a(A<=C,"byte array longer than desired length"),a(C>0,"Requested array length <= 0");var D=function(z,P){return z.allocUnsafe?z.allocUnsafe(P):new z(P)}(j,C);return this["_toArrayLike"+(E==="le"?"LE":"BE")](D,A),D},c.prototype._toArrayLikeLE=function(j,E){for(var k=0,A=0,C=0,D=0;C<this.length;C++){var z=this.words[C]<<D|A;j[k++]=255&z,k<j.length&&(j[k++]=z>>8&255),k<j.length&&(j[k++]=z>>16&255),D===6?(k<j.length&&(j[k++]=z>>24&255),A=0,D=0):(A=z>>>24,D+=2)}if(k<j.length)for(j[k++]=A;k<j.length;)j[k++]=0},c.prototype._toArrayLikeBE=function(j,E){for(var k=j.length-1,A=0,C=0,D=0;C<this.length;C++){var z=this.words[C]<<D|A;j[k--]=255&z,k>=0&&(j[k--]=z>>8&255),k>=0&&(j[k--]=z>>16&255),D===6?(k>=0&&(j[k--]=z>>24&255),A=0,D=0):(A=z>>>24,D+=2)}if(k>=0)for(j[k--]=A;k>=0;)j[k--]=0},Math.clz32?c.prototype._countBits=function(j){return 32-Math.clz32(j)}:c.prototype._countBits=function(j){var E=j,k=0;return E>=4096&&(k+=13,E>>>=13),E>=64&&(k+=7,E>>>=7),E>=8&&(k+=4,E>>>=4),E>=2&&(k+=2,E>>>=2),k+E},c.prototype._zeroBits=function(j){if(j===0)return 26;var E=j,k=0;return!(8191&E)&&(k+=13,E>>>=13),!(127&E)&&(k+=7,E>>>=7),!(15&E)&&(k+=4,E>>>=4),!(3&E)&&(k+=2,E>>>=2),!(1&E)&&k++,k},c.prototype.bitLength=function(){var j=this.words[this.length-1],E=this._countBits(j);return 26*(this.length-1)+E},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,E=0;E<this.length;E++){var k=this._zeroBits(this.words[E]);if(j+=k,k!==26)break}return j},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},c.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var E=0;E<j.length;E++)this.words[E]=this.words[E]|j.words[E];return this._strip()},c.prototype.ior=function(j){return a((this.negative|j.negative)==0),this.iuor(j)},c.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},c.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},c.prototype.iuand=function(j){var E;E=this.length>j.length?j:this;for(var k=0;k<E.length;k++)this.words[k]=this.words[k]&j.words[k];return this.length=E.length,this._strip()},c.prototype.iand=function(j){return a((this.negative|j.negative)==0),this.iuand(j)},c.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},c.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},c.prototype.iuxor=function(j){var E,k;this.length>j.length?(E=this,k=j):(E=j,k=this);for(var A=0;A<k.length;A++)this.words[A]=E.words[A]^k.words[A];if(this!==E)for(;A<E.length;A++)this.words[A]=E.words[A];return this.length=E.length,this._strip()},c.prototype.ixor=function(j){return a((this.negative|j.negative)==0),this.iuxor(j)},c.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},c.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},c.prototype.inotn=function(j){a(typeof j=="number"&&j>=0);var E=0|Math.ceil(j/26),k=j%26;this._expand(E),k>0&&E--;for(var A=0;A<E;A++)this.words[A]=67108863&~this.words[A];return k>0&&(this.words[A]=~this.words[A]&67108863>>26-k),this._strip()},c.prototype.notn=function(j){return this.clone().inotn(j)},c.prototype.setn=function(j,E){a(typeof j=="number"&&j>=0);var k=j/26|0,A=j%26;return this._expand(k+1),this.words[k]=E?this.words[k]|1<<A:this.words[k]&~(1<<A),this._strip()},c.prototype.iadd=function(j){var E,k,A;if(this.negative!==0&&j.negative===0)return this.negative=0,E=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,E=this.isub(j),j.negative=1,E._normSign();this.length>j.length?(k=this,A=j):(k=j,A=this);for(var C=0,D=0;D<A.length;D++)E=(0|k.words[D])+(0|A.words[D])+C,this.words[D]=67108863&E,C=E>>>26;for(;C!==0&&D<k.length;D++)E=(0|k.words[D])+C,this.words[D]=67108863&E,C=E>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;D<k.length;D++)this.words[D]=k.words[D];return this},c.prototype.add=function(j){var E;return j.negative!==0&&this.negative===0?(j.negative=0,E=this.sub(j),j.negative^=1,E):j.negative===0&&this.negative!==0?(this.negative=0,E=j.sub(this),this.negative=1,E):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},c.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var E=this.iadd(j);return j.negative=1,E._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var k,A,C=this.cmp(j);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(k=this,A=j):(k=j,A=this);for(var D=0,z=0;z<A.length;z++)D=(E=(0|k.words[z])-(0|A.words[z])+D)>>26,this.words[z]=67108863&E;for(;D!==0&&z<k.length;z++)D=(E=(0|k.words[z])+D)>>26,this.words[z]=67108863&E;if(D===0&&z<k.length&&k!==this)for(;z<k.length;z++)this.words[z]=k.words[z];return this.length=Math.max(this.length,z),k!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(j){return this.clone().isub(j)};var x=function(j,E,k){var A,C,D,z=j.words,P=E.words,K=k.words,Z=0,te=0|z[0],q=8191&te,$=te>>>13,N=0|z[1],T=8191&N,V=N>>>13,J=0|z[2],re=8191&J,se=J>>>13,B=0|z[3],ne=8191&B,ee=B>>>13,F=0|z[4],W=8191&F,Y=F>>>13,ae=0|z[5],ce=8191&ae,le=ae>>>13,de=0|z[6],me=8191&de,ge=de>>>13,ke=0|z[7],Re=8191&ke,je=ke>>>13,We=0|z[8],Je=8191&We,qe=We>>>13,pt=0|z[9],$e=8191&pt,Ue=pt>>>13,Ke=0|P[0],rt=8191&Ke,Ze=Ke>>>13,Et=0|P[1],wt=8191&Et,bt=Et>>>13,Wt=0|P[2],_t=8191&Wt,ot=Wt>>>13,qt=0|P[3],Er=8191&qt,jt=qt>>>13,hr=0|P[4],Cr=8191&hr,dt=hr>>>13,wr=0|P[5],jr=8191&wr,Gt=wr>>>13,Ne=0|P[6],Pe=8191&Ne,He=Ne>>>13,ct=0|P[7],Bt=8191&ct,vt=ct>>>13,Ft=0|P[8],It=8191&Ft,Tt=Ft>>>13,Kt=0|P[9],zt=8191&Kt,ar=Kt>>>13;k.negative=j.negative^E.negative,k.length=19;var Gr=(Z+(A=Math.imul(q,rt))|0)+((8191&(C=(C=Math.imul(q,Ze))+Math.imul($,rt)|0))<<13)|0;Z=((D=Math.imul($,Ze))+(C>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,A=Math.imul(T,rt),C=(C=Math.imul(T,Ze))+Math.imul(V,rt)|0,D=Math.imul(V,Ze);var zr=(Z+(A=A+Math.imul(q,wt)|0)|0)+((8191&(C=(C=C+Math.imul(q,bt)|0)+Math.imul($,wt)|0))<<13)|0;Z=((D=D+Math.imul($,bt)|0)+(C>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(re,rt),C=(C=Math.imul(re,Ze))+Math.imul(se,rt)|0,D=Math.imul(se,Ze),A=A+Math.imul(T,wt)|0,C=(C=C+Math.imul(T,bt)|0)+Math.imul(V,wt)|0,D=D+Math.imul(V,bt)|0;var mn=(Z+(A=A+Math.imul(q,_t)|0)|0)+((8191&(C=(C=C+Math.imul(q,ot)|0)+Math.imul($,_t)|0))<<13)|0;Z=((D=D+Math.imul($,ot)|0)+(C>>>13)|0)+(mn>>>26)|0,mn&=67108863,A=Math.imul(ne,rt),C=(C=Math.imul(ne,Ze))+Math.imul(ee,rt)|0,D=Math.imul(ee,Ze),A=A+Math.imul(re,wt)|0,C=(C=C+Math.imul(re,bt)|0)+Math.imul(se,wt)|0,D=D+Math.imul(se,bt)|0,A=A+Math.imul(T,_t)|0,C=(C=C+Math.imul(T,ot)|0)+Math.imul(V,_t)|0,D=D+Math.imul(V,ot)|0;var gn=(Z+(A=A+Math.imul(q,Er)|0)|0)+((8191&(C=(C=C+Math.imul(q,jt)|0)+Math.imul($,Er)|0))<<13)|0;Z=((D=D+Math.imul($,jt)|0)+(C>>>13)|0)+(gn>>>26)|0,gn&=67108863,A=Math.imul(W,rt),C=(C=Math.imul(W,Ze))+Math.imul(Y,rt)|0,D=Math.imul(Y,Ze),A=A+Math.imul(ne,wt)|0,C=(C=C+Math.imul(ne,bt)|0)+Math.imul(ee,wt)|0,D=D+Math.imul(ee,bt)|0,A=A+Math.imul(re,_t)|0,C=(C=C+Math.imul(re,ot)|0)+Math.imul(se,_t)|0,D=D+Math.imul(se,ot)|0,A=A+Math.imul(T,Er)|0,C=(C=C+Math.imul(T,jt)|0)+Math.imul(V,Er)|0,D=D+Math.imul(V,jt)|0;var Qn=(Z+(A=A+Math.imul(q,Cr)|0)|0)+((8191&(C=(C=C+Math.imul(q,dt)|0)+Math.imul($,Cr)|0))<<13)|0;Z=((D=D+Math.imul($,dt)|0)+(C>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,A=Math.imul(ce,rt),C=(C=Math.imul(ce,Ze))+Math.imul(le,rt)|0,D=Math.imul(le,Ze),A=A+Math.imul(W,wt)|0,C=(C=C+Math.imul(W,bt)|0)+Math.imul(Y,wt)|0,D=D+Math.imul(Y,bt)|0,A=A+Math.imul(ne,_t)|0,C=(C=C+Math.imul(ne,ot)|0)+Math.imul(ee,_t)|0,D=D+Math.imul(ee,ot)|0,A=A+Math.imul(re,Er)|0,C=(C=C+Math.imul(re,jt)|0)+Math.imul(se,Er)|0,D=D+Math.imul(se,jt)|0,A=A+Math.imul(T,Cr)|0,C=(C=C+Math.imul(T,dt)|0)+Math.imul(V,Cr)|0,D=D+Math.imul(V,dt)|0;var xe=(Z+(A=A+Math.imul(q,jr)|0)|0)+((8191&(C=(C=C+Math.imul(q,Gt)|0)+Math.imul($,jr)|0))<<13)|0;Z=((D=D+Math.imul($,Gt)|0)+(C>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(me,rt),C=(C=Math.imul(me,Ze))+Math.imul(ge,rt)|0,D=Math.imul(ge,Ze),A=A+Math.imul(ce,wt)|0,C=(C=C+Math.imul(ce,bt)|0)+Math.imul(le,wt)|0,D=D+Math.imul(le,bt)|0,A=A+Math.imul(W,_t)|0,C=(C=C+Math.imul(W,ot)|0)+Math.imul(Y,_t)|0,D=D+Math.imul(Y,ot)|0,A=A+Math.imul(ne,Er)|0,C=(C=C+Math.imul(ne,jt)|0)+Math.imul(ee,Er)|0,D=D+Math.imul(ee,jt)|0,A=A+Math.imul(re,Cr)|0,C=(C=C+Math.imul(re,dt)|0)+Math.imul(se,Cr)|0,D=D+Math.imul(se,dt)|0,A=A+Math.imul(T,jr)|0,C=(C=C+Math.imul(T,Gt)|0)+Math.imul(V,jr)|0,D=D+Math.imul(V,Gt)|0;var Le=(Z+(A=A+Math.imul(q,Pe)|0)|0)+((8191&(C=(C=C+Math.imul(q,He)|0)+Math.imul($,Pe)|0))<<13)|0;Z=((D=D+Math.imul($,He)|0)+(C>>>13)|0)+(Le>>>26)|0,Le&=67108863,A=Math.imul(Re,rt),C=(C=Math.imul(Re,Ze))+Math.imul(je,rt)|0,D=Math.imul(je,Ze),A=A+Math.imul(me,wt)|0,C=(C=C+Math.imul(me,bt)|0)+Math.imul(ge,wt)|0,D=D+Math.imul(ge,bt)|0,A=A+Math.imul(ce,_t)|0,C=(C=C+Math.imul(ce,ot)|0)+Math.imul(le,_t)|0,D=D+Math.imul(le,ot)|0,A=A+Math.imul(W,Er)|0,C=(C=C+Math.imul(W,jt)|0)+Math.imul(Y,Er)|0,D=D+Math.imul(Y,jt)|0,A=A+Math.imul(ne,Cr)|0,C=(C=C+Math.imul(ne,dt)|0)+Math.imul(ee,Cr)|0,D=D+Math.imul(ee,dt)|0,A=A+Math.imul(re,jr)|0,C=(C=C+Math.imul(re,Gt)|0)+Math.imul(se,jr)|0,D=D+Math.imul(se,Gt)|0,A=A+Math.imul(T,Pe)|0,C=(C=C+Math.imul(T,He)|0)+Math.imul(V,Pe)|0,D=D+Math.imul(V,He)|0;var et=(Z+(A=A+Math.imul(q,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(q,vt)|0)+Math.imul($,Bt)|0))<<13)|0;Z=((D=D+Math.imul($,vt)|0)+(C>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(Je,rt),C=(C=Math.imul(Je,Ze))+Math.imul(qe,rt)|0,D=Math.imul(qe,Ze),A=A+Math.imul(Re,wt)|0,C=(C=C+Math.imul(Re,bt)|0)+Math.imul(je,wt)|0,D=D+Math.imul(je,bt)|0,A=A+Math.imul(me,_t)|0,C=(C=C+Math.imul(me,ot)|0)+Math.imul(ge,_t)|0,D=D+Math.imul(ge,ot)|0,A=A+Math.imul(ce,Er)|0,C=(C=C+Math.imul(ce,jt)|0)+Math.imul(le,Er)|0,D=D+Math.imul(le,jt)|0,A=A+Math.imul(W,Cr)|0,C=(C=C+Math.imul(W,dt)|0)+Math.imul(Y,Cr)|0,D=D+Math.imul(Y,dt)|0,A=A+Math.imul(ne,jr)|0,C=(C=C+Math.imul(ne,Gt)|0)+Math.imul(ee,jr)|0,D=D+Math.imul(ee,Gt)|0,A=A+Math.imul(re,Pe)|0,C=(C=C+Math.imul(re,He)|0)+Math.imul(se,Pe)|0,D=D+Math.imul(se,He)|0,A=A+Math.imul(T,Bt)|0,C=(C=C+Math.imul(T,vt)|0)+Math.imul(V,Bt)|0,D=D+Math.imul(V,vt)|0;var it=(Z+(A=A+Math.imul(q,It)|0)|0)+((8191&(C=(C=C+Math.imul(q,Tt)|0)+Math.imul($,It)|0))<<13)|0;Z=((D=D+Math.imul($,Tt)|0)+(C>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul($e,rt),C=(C=Math.imul($e,Ze))+Math.imul(Ue,rt)|0,D=Math.imul(Ue,Ze),A=A+Math.imul(Je,wt)|0,C=(C=C+Math.imul(Je,bt)|0)+Math.imul(qe,wt)|0,D=D+Math.imul(qe,bt)|0,A=A+Math.imul(Re,_t)|0,C=(C=C+Math.imul(Re,ot)|0)+Math.imul(je,_t)|0,D=D+Math.imul(je,ot)|0,A=A+Math.imul(me,Er)|0,C=(C=C+Math.imul(me,jt)|0)+Math.imul(ge,Er)|0,D=D+Math.imul(ge,jt)|0,A=A+Math.imul(ce,Cr)|0,C=(C=C+Math.imul(ce,dt)|0)+Math.imul(le,Cr)|0,D=D+Math.imul(le,dt)|0,A=A+Math.imul(W,jr)|0,C=(C=C+Math.imul(W,Gt)|0)+Math.imul(Y,jr)|0,D=D+Math.imul(Y,Gt)|0,A=A+Math.imul(ne,Pe)|0,C=(C=C+Math.imul(ne,He)|0)+Math.imul(ee,Pe)|0,D=D+Math.imul(ee,He)|0,A=A+Math.imul(re,Bt)|0,C=(C=C+Math.imul(re,vt)|0)+Math.imul(se,Bt)|0,D=D+Math.imul(se,vt)|0,A=A+Math.imul(T,It)|0,C=(C=C+Math.imul(T,Tt)|0)+Math.imul(V,It)|0,D=D+Math.imul(V,Tt)|0;var Nt=(Z+(A=A+Math.imul(q,zt)|0)|0)+((8191&(C=(C=C+Math.imul(q,ar)|0)+Math.imul($,zt)|0))<<13)|0;Z=((D=D+Math.imul($,ar)|0)+(C>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,A=Math.imul($e,wt),C=(C=Math.imul($e,bt))+Math.imul(Ue,wt)|0,D=Math.imul(Ue,bt),A=A+Math.imul(Je,_t)|0,C=(C=C+Math.imul(Je,ot)|0)+Math.imul(qe,_t)|0,D=D+Math.imul(qe,ot)|0,A=A+Math.imul(Re,Er)|0,C=(C=C+Math.imul(Re,jt)|0)+Math.imul(je,Er)|0,D=D+Math.imul(je,jt)|0,A=A+Math.imul(me,Cr)|0,C=(C=C+Math.imul(me,dt)|0)+Math.imul(ge,Cr)|0,D=D+Math.imul(ge,dt)|0,A=A+Math.imul(ce,jr)|0,C=(C=C+Math.imul(ce,Gt)|0)+Math.imul(le,jr)|0,D=D+Math.imul(le,Gt)|0,A=A+Math.imul(W,Pe)|0,C=(C=C+Math.imul(W,He)|0)+Math.imul(Y,Pe)|0,D=D+Math.imul(Y,He)|0,A=A+Math.imul(ne,Bt)|0,C=(C=C+Math.imul(ne,vt)|0)+Math.imul(ee,Bt)|0,D=D+Math.imul(ee,vt)|0,A=A+Math.imul(re,It)|0,C=(C=C+Math.imul(re,Tt)|0)+Math.imul(se,It)|0,D=D+Math.imul(se,Tt)|0;var mt=(Z+(A=A+Math.imul(T,zt)|0)|0)+((8191&(C=(C=C+Math.imul(T,ar)|0)+Math.imul(V,zt)|0))<<13)|0;Z=((D=D+Math.imul(V,ar)|0)+(C>>>13)|0)+(mt>>>26)|0,mt&=67108863,A=Math.imul($e,_t),C=(C=Math.imul($e,ot))+Math.imul(Ue,_t)|0,D=Math.imul(Ue,ot),A=A+Math.imul(Je,Er)|0,C=(C=C+Math.imul(Je,jt)|0)+Math.imul(qe,Er)|0,D=D+Math.imul(qe,jt)|0,A=A+Math.imul(Re,Cr)|0,C=(C=C+Math.imul(Re,dt)|0)+Math.imul(je,Cr)|0,D=D+Math.imul(je,dt)|0,A=A+Math.imul(me,jr)|0,C=(C=C+Math.imul(me,Gt)|0)+Math.imul(ge,jr)|0,D=D+Math.imul(ge,Gt)|0,A=A+Math.imul(ce,Pe)|0,C=(C=C+Math.imul(ce,He)|0)+Math.imul(le,Pe)|0,D=D+Math.imul(le,He)|0,A=A+Math.imul(W,Bt)|0,C=(C=C+Math.imul(W,vt)|0)+Math.imul(Y,Bt)|0,D=D+Math.imul(Y,vt)|0,A=A+Math.imul(ne,It)|0,C=(C=C+Math.imul(ne,Tt)|0)+Math.imul(ee,It)|0,D=D+Math.imul(ee,Tt)|0;var yt=(Z+(A=A+Math.imul(re,zt)|0)|0)+((8191&(C=(C=C+Math.imul(re,ar)|0)+Math.imul(se,zt)|0))<<13)|0;Z=((D=D+Math.imul(se,ar)|0)+(C>>>13)|0)+(yt>>>26)|0,yt&=67108863,A=Math.imul($e,Er),C=(C=Math.imul($e,jt))+Math.imul(Ue,Er)|0,D=Math.imul(Ue,jt),A=A+Math.imul(Je,Cr)|0,C=(C=C+Math.imul(Je,dt)|0)+Math.imul(qe,Cr)|0,D=D+Math.imul(qe,dt)|0,A=A+Math.imul(Re,jr)|0,C=(C=C+Math.imul(Re,Gt)|0)+Math.imul(je,jr)|0,D=D+Math.imul(je,Gt)|0,A=A+Math.imul(me,Pe)|0,C=(C=C+Math.imul(me,He)|0)+Math.imul(ge,Pe)|0,D=D+Math.imul(ge,He)|0,A=A+Math.imul(ce,Bt)|0,C=(C=C+Math.imul(ce,vt)|0)+Math.imul(le,Bt)|0,D=D+Math.imul(le,vt)|0,A=A+Math.imul(W,It)|0,C=(C=C+Math.imul(W,Tt)|0)+Math.imul(Y,It)|0,D=D+Math.imul(Y,Tt)|0;var xr=(Z+(A=A+Math.imul(ne,zt)|0)|0)+((8191&(C=(C=C+Math.imul(ne,ar)|0)+Math.imul(ee,zt)|0))<<13)|0;Z=((D=D+Math.imul(ee,ar)|0)+(C>>>13)|0)+(xr>>>26)|0,xr&=67108863,A=Math.imul($e,Cr),C=(C=Math.imul($e,dt))+Math.imul(Ue,Cr)|0,D=Math.imul(Ue,dt),A=A+Math.imul(Je,jr)|0,C=(C=C+Math.imul(Je,Gt)|0)+Math.imul(qe,jr)|0,D=D+Math.imul(qe,Gt)|0,A=A+Math.imul(Re,Pe)|0,C=(C=C+Math.imul(Re,He)|0)+Math.imul(je,Pe)|0,D=D+Math.imul(je,He)|0,A=A+Math.imul(me,Bt)|0,C=(C=C+Math.imul(me,vt)|0)+Math.imul(ge,Bt)|0,D=D+Math.imul(ge,vt)|0,A=A+Math.imul(ce,It)|0,C=(C=C+Math.imul(ce,Tt)|0)+Math.imul(le,It)|0,D=D+Math.imul(le,Tt)|0;var lr=(Z+(A=A+Math.imul(W,zt)|0)|0)+((8191&(C=(C=C+Math.imul(W,ar)|0)+Math.imul(Y,zt)|0))<<13)|0;Z=((D=D+Math.imul(Y,ar)|0)+(C>>>13)|0)+(lr>>>26)|0,lr&=67108863,A=Math.imul($e,jr),C=(C=Math.imul($e,Gt))+Math.imul(Ue,jr)|0,D=Math.imul(Ue,Gt),A=A+Math.imul(Je,Pe)|0,C=(C=C+Math.imul(Je,He)|0)+Math.imul(qe,Pe)|0,D=D+Math.imul(qe,He)|0,A=A+Math.imul(Re,Bt)|0,C=(C=C+Math.imul(Re,vt)|0)+Math.imul(je,Bt)|0,D=D+Math.imul(je,vt)|0,A=A+Math.imul(me,It)|0,C=(C=C+Math.imul(me,Tt)|0)+Math.imul(ge,It)|0,D=D+Math.imul(ge,Tt)|0;var fr=(Z+(A=A+Math.imul(ce,zt)|0)|0)+((8191&(C=(C=C+Math.imul(ce,ar)|0)+Math.imul(le,zt)|0))<<13)|0;Z=((D=D+Math.imul(le,ar)|0)+(C>>>13)|0)+(fr>>>26)|0,fr&=67108863,A=Math.imul($e,Pe),C=(C=Math.imul($e,He))+Math.imul(Ue,Pe)|0,D=Math.imul(Ue,He),A=A+Math.imul(Je,Bt)|0,C=(C=C+Math.imul(Je,vt)|0)+Math.imul(qe,Bt)|0,D=D+Math.imul(qe,vt)|0,A=A+Math.imul(Re,It)|0,C=(C=C+Math.imul(Re,Tt)|0)+Math.imul(je,It)|0,D=D+Math.imul(je,Tt)|0;var Xt=(Z+(A=A+Math.imul(me,zt)|0)|0)+((8191&(C=(C=C+Math.imul(me,ar)|0)+Math.imul(ge,zt)|0))<<13)|0;Z=((D=D+Math.imul(ge,ar)|0)+(C>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,A=Math.imul($e,Bt),C=(C=Math.imul($e,vt))+Math.imul(Ue,Bt)|0,D=Math.imul(Ue,vt),A=A+Math.imul(Je,It)|0,C=(C=C+Math.imul(Je,Tt)|0)+Math.imul(qe,It)|0,D=D+Math.imul(qe,Tt)|0;var Dr=(Z+(A=A+Math.imul(Re,zt)|0)|0)+((8191&(C=(C=C+Math.imul(Re,ar)|0)+Math.imul(je,zt)|0))<<13)|0;Z=((D=D+Math.imul(je,ar)|0)+(C>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul($e,It),C=(C=Math.imul($e,Tt))+Math.imul(Ue,It)|0,D=Math.imul(Ue,Tt);var Hr=(Z+(A=A+Math.imul(Je,zt)|0)|0)+((8191&(C=(C=C+Math.imul(Je,ar)|0)+Math.imul(qe,zt)|0))<<13)|0;Z=((D=D+Math.imul(qe,ar)|0)+(C>>>13)|0)+(Hr>>>26)|0,Hr&=67108863;var ir=(Z+(A=Math.imul($e,zt))|0)+((8191&(C=(C=Math.imul($e,ar))+Math.imul(Ue,zt)|0))<<13)|0;return Z=((D=Math.imul(Ue,ar))+(C>>>13)|0)+(ir>>>26)|0,ir&=67108863,K[0]=Gr,K[1]=zr,K[2]=mn,K[3]=gn,K[4]=Qn,K[5]=xe,K[6]=Le,K[7]=et,K[8]=it,K[9]=Nt,K[10]=mt,K[11]=yt,K[12]=xr,K[13]=lr,K[14]=fr,K[15]=Xt,K[16]=Dr,K[17]=Hr,K[18]=ir,Z!==0&&(K[19]=Z,k.length++),k};function _(j,E,k){k.negative=E.negative^j.negative,k.length=j.length+E.length;for(var A=0,C=0,D=0;D<k.length-1;D++){var z=C;C=0;for(var P=67108863&A,K=Math.min(D,E.length-1),Z=Math.max(0,D-j.length+1);Z<=K;Z++){var te=D-Z,q=(0|j.words[te])*(0|E.words[Z]),$=67108863&q;P=67108863&($=$+P|0),C+=(z=(z=z+(q/67108864|0)|0)+($>>>26)|0)>>>26,z&=67108863}k.words[D]=P,A=z,z=C}return A!==0?k.words[D]=A:k.length--,k._strip()}function M(j,E,k){return _(j,E,k)}Math.imul||(x=b),c.prototype.mulTo=function(j,E){var k=this.length+j.length;return this.length===10&&j.length===10?x(this,j,E):k<63?b(this,j,E):k<1024?_(this,j,E):M(this,j,E)},c.prototype.mul=function(j){var E=new c(null);return E.words=new Array(this.length+j.length),this.mulTo(j,E)},c.prototype.mulf=function(j){var E=new c(null);return E.words=new Array(this.length+j.length),M(this,j,E)},c.prototype.imul=function(j){return this.clone().mulTo(j,this)},c.prototype.imuln=function(j){var E=j<0;E&&(j=-j),a(typeof j=="number"),a(j<67108864);for(var k=0,A=0;A<this.length;A++){var C=(0|this.words[A])*j,D=(67108863&C)+(67108863&k);k>>=26,k+=C/67108864|0,k+=D>>>26,this.words[A]=67108863&D}return k!==0&&(this.words[A]=k,this.length++),E?this.ineg():this},c.prototype.muln=function(j){return this.clone().imuln(j)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(j){var E=function(D){for(var z=new Array(D.bitLength()),P=0;P<z.length;P++){var K=P/26|0,Z=P%26;z[P]=D.words[K]>>>Z&1}return z}(j);if(E.length===0)return new c(1);for(var k=this,A=0;A<E.length&&E[A]===0;A++,k=k.sqr());if(++A<E.length)for(var C=k.sqr();A<E.length;A++,C=C.sqr())E[A]!==0&&(k=k.mul(C));return k},c.prototype.iushln=function(j){a(typeof j=="number"&&j>=0);var E,k=j%26,A=(j-k)/26,C=67108863>>>26-k<<26-k;if(k!==0){var D=0;for(E=0;E<this.length;E++){var z=this.words[E]&C,P=(0|this.words[E])-z<<k;this.words[E]=P|D,D=z>>>26-k}D&&(this.words[E]=D,this.length++)}if(A!==0){for(E=this.length-1;E>=0;E--)this.words[E+A]=this.words[E];for(E=0;E<A;E++)this.words[E]=0;this.length+=A}return this._strip()},c.prototype.ishln=function(j){return a(this.negative===0),this.iushln(j)},c.prototype.iushrn=function(j,E,k){var A;a(typeof j=="number"&&j>=0),A=E?(E-E%26)/26:0;var C=j%26,D=Math.min((j-C)/26,this.length),z=67108863^67108863>>>C<<C,P=k;if(A-=D,A=Math.max(0,A),P){for(var K=0;K<D;K++)P.words[K]=this.words[K];P.length=D}if(D!==0)if(this.length>D)for(this.length-=D,K=0;K<this.length;K++)this.words[K]=this.words[K+D];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=A);K--){var te=0|this.words[K];this.words[K]=Z<<26-C|te>>>C,Z=te&z}return P&&Z!==0&&(P.words[P.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(j,E,k){return a(this.negative===0),this.iushrn(j,E,k)},c.prototype.shln=function(j){return this.clone().ishln(j)},c.prototype.ushln=function(j){return this.clone().iushln(j)},c.prototype.shrn=function(j){return this.clone().ishrn(j)},c.prototype.ushrn=function(j){return this.clone().iushrn(j)},c.prototype.testn=function(j){a(typeof j=="number"&&j>=0);var E=j%26,k=(j-E)/26,A=1<<E;return!(this.length<=k)&&!!(this.words[k]&A)},c.prototype.imaskn=function(j){a(typeof j=="number"&&j>=0);var E=j%26,k=(j-E)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(E!==0&&k++,this.length=Math.min(k,this.length),E!==0){var A=67108863^67108863>>>E<<E;this.words[this.length-1]&=A}return this._strip()},c.prototype.maskn=function(j){return this.clone().imaskn(j)},c.prototype.iaddn=function(j){return a(typeof j=="number"),a(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(0|this.words[0])<=j?(this.words[0]=j-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},c.prototype._iaddn=function(j){this.words[0]+=j;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(j){if(a(typeof j=="number"),a(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},c.prototype.addn=function(j){return this.clone().iaddn(j)},c.prototype.subn=function(j){return this.clone().isubn(j)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(j,E,k){var A,C,D=j.length+k;this._expand(D);var z=0;for(A=0;A<j.length;A++){C=(0|this.words[A+k])+z;var P=(0|j.words[A])*E;z=((C-=67108863&P)>>26)-(P/67108864|0),this.words[A+k]=67108863&C}for(;A<this.length-k;A++)z=(C=(0|this.words[A+k])+z)>>26,this.words[A+k]=67108863&C;if(z===0)return this._strip();for(a(z===-1),z=0,A=0;A<this.length;A++)z=(C=-(0|this.words[A])+z)>>26,this.words[A]=67108863&C;return this.negative=1,this._strip()},c.prototype._wordDiv=function(j,E){var k=(this.length,j.length),A=this.clone(),C=j,D=0|C.words[C.length-1];(k=26-this._countBits(D))!==0&&(C=C.ushln(k),A.iushln(k),D=0|C.words[C.length-1]);var z,P=A.length-C.length;if(E!=="mod"){(z=new c(null)).length=P+1,z.words=new Array(z.length);for(var K=0;K<z.length;K++)z.words[K]=0}var Z=A.clone()._ishlnsubmul(C,1,P);Z.negative===0&&(A=Z,z&&(z.words[P]=1));for(var te=P-1;te>=0;te--){var q=67108864*(0|A.words[C.length+te])+(0|A.words[C.length+te-1]);for(q=Math.min(q/D|0,67108863),A._ishlnsubmul(C,q,te);A.negative!==0;)q--,A.negative=0,A._ishlnsubmul(C,1,te),A.isZero()||(A.negative^=1);z&&(z.words[te]=q)}return z&&z._strip(),A._strip(),E!=="div"&&k!==0&&A.iushrn(k),{div:z||null,mod:A}},c.prototype.divmod=function(j,E,k){return a(!j.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&j.negative===0?(D=this.neg().divmod(j,E),E!=="mod"&&(A=D.div.neg()),E!=="div"&&(C=D.mod.neg(),k&&C.negative!==0&&C.iadd(j)),{div:A,mod:C}):this.negative===0&&j.negative!==0?(D=this.divmod(j.neg(),E),E!=="mod"&&(A=D.div.neg()),{div:A,mod:D.mod}):this.negative&j.negative?(D=this.neg().divmod(j.neg(),E),E!=="div"&&(C=D.mod.neg(),k&&C.negative!==0&&C.isub(j)),{div:D.div,mod:C}):j.length>this.length||this.cmp(j)<0?{div:new c(0),mod:this}:j.length===1?E==="div"?{div:this.divn(j.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modrn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new c(this.modrn(j.words[0]))}:this._wordDiv(j,E);var A,C,D},c.prototype.div=function(j){return this.divmod(j,"div",!1).div},c.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},c.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},c.prototype.divRound=function(j){var E=this.divmod(j);if(E.mod.isZero())return E.div;var k=E.div.negative!==0?E.mod.isub(j):E.mod,A=j.ushrn(1),C=j.andln(1),D=k.cmp(A);return D<0||C===1&&D===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modrn=function(j){var E=j<0;E&&(j=-j),a(j<=67108863);for(var k=(1<<26)%j,A=0,C=this.length-1;C>=0;C--)A=(k*A+(0|this.words[C]))%j;return E?-A:A},c.prototype.modn=function(j){return this.modrn(j)},c.prototype.idivn=function(j){var E=j<0;E&&(j=-j),a(j<=67108863);for(var k=0,A=this.length-1;A>=0;A--){var C=(0|this.words[A])+67108864*k;this.words[A]=C/j|0,k=C%j}return this._strip(),E?this.ineg():this},c.prototype.divn=function(j){return this.clone().idivn(j)},c.prototype.egcd=function(j){a(j.negative===0),a(!j.isZero());var E=this,k=j.clone();E=E.negative!==0?E.umod(j):E.clone();for(var A=new c(1),C=new c(0),D=new c(0),z=new c(1),P=0;E.isEven()&&k.isEven();)E.iushrn(1),k.iushrn(1),++P;for(var K=k.clone(),Z=E.clone();!E.isZero();){for(var te=0,q=1;!(E.words[0]&q)&&te<26;++te,q<<=1);if(te>0)for(E.iushrn(te);te-- >0;)(A.isOdd()||C.isOdd())&&(A.iadd(K),C.isub(Z)),A.iushrn(1),C.iushrn(1);for(var $=0,N=1;!(k.words[0]&N)&&$<26;++$,N<<=1);if($>0)for(k.iushrn($);$-- >0;)(D.isOdd()||z.isOdd())&&(D.iadd(K),z.isub(Z)),D.iushrn(1),z.iushrn(1);E.cmp(k)>=0?(E.isub(k),A.isub(D),C.isub(z)):(k.isub(E),D.isub(A),z.isub(C))}return{a:D,b:z,gcd:k.iushln(P)}},c.prototype._invmp=function(j){a(j.negative===0),a(!j.isZero());var E=this,k=j.clone();E=E.negative!==0?E.umod(j):E.clone();for(var A,C=new c(1),D=new c(0),z=k.clone();E.cmpn(1)>0&&k.cmpn(1)>0;){for(var P=0,K=1;!(E.words[0]&K)&&P<26;++P,K<<=1);if(P>0)for(E.iushrn(P);P-- >0;)C.isOdd()&&C.iadd(z),C.iushrn(1);for(var Z=0,te=1;!(k.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(k.iushrn(Z);Z-- >0;)D.isOdd()&&D.iadd(z),D.iushrn(1);E.cmp(k)>=0?(E.isub(k),C.isub(D)):(k.isub(E),D.isub(C))}return(A=E.cmpn(1)===0?C:D).cmpn(0)<0&&A.iadd(j),A},c.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var E=this.clone(),k=j.clone();E.negative=0,k.negative=0;for(var A=0;E.isEven()&&k.isEven();A++)E.iushrn(1),k.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=E.cmp(k);if(C<0){var D=E;E=k,k=D}else if(C===0||k.cmpn(1)===0)break;E.isub(k)}return k.iushln(A)},c.prototype.invm=function(j){return this.egcd(j).a.umod(j)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(j){return this.words[0]&j},c.prototype.bincn=function(j){a(typeof j=="number");var E=j%26,k=(j-E)/26,A=1<<E;if(this.length<=k)return this._expand(k+1),this.words[k]|=A,this;for(var C=A,D=k;C!==0&&D<this.length;D++){var z=0|this.words[D];C=(z+=C)>>>26,z&=67108863,this.words[D]=z}return C!==0&&(this.words[D]=C,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(j){var E,k=j<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)E=1;else{k&&(j=-j),a(j<=67108863,"Number is too big");var A=0|this.words[0];E=A===j?0:A<j?-1:1}return this.negative!==0?0|-E:E},c.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var E=this.ucmp(j);return this.negative!==0?0|-E:E},c.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var E=0,k=this.length-1;k>=0;k--){var A=0|this.words[k],C=0|j.words[k];if(A!==C){A<C?E=-1:A>C&&(E=1);break}}return E},c.prototype.gtn=function(j){return this.cmpn(j)===1},c.prototype.gt=function(j){return this.cmp(j)===1},c.prototype.gten=function(j){return this.cmpn(j)>=0},c.prototype.gte=function(j){return this.cmp(j)>=0},c.prototype.ltn=function(j){return this.cmpn(j)===-1},c.prototype.lt=function(j){return this.cmp(j)===-1},c.prototype.lten=function(j){return this.cmpn(j)<=0},c.prototype.lte=function(j){return this.cmp(j)<=0},c.prototype.eqn=function(j){return this.cmpn(j)===0},c.prototype.eq=function(j){return this.cmp(j)===0},c.red=function(j){return new R(j)},c.prototype.toRed=function(j){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(j){return this.red=j,this},c.prototype.forceRed=function(j){return a(!this.red,"Already a number in reduction context"),this._forceRed(j)},c.prototype.redAdd=function(j){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},c.prototype.redIAdd=function(j){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},c.prototype.redSub=function(j){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},c.prototype.redISub=function(j){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},c.prototype.redShl=function(j){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},c.prototype.redMul=function(j){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},c.prototype.redIMul=function(j){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(j){return a(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var U={k256:null,p224:null,p192:null,p25519:null};function L(j,E){this.name=j,this.p=new c(E,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(j){if(typeof j=="string"){var E=c._prime(j);this.m=E.p,this.prime=E}else a(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}function S(j){R.call(this,j),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var j=new c(null);return j.words=new Array(Math.ceil(this.n/13)),j},L.prototype.ireduce=function(j){var E,k=j;do this.split(k,this.tmp),E=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(E>this.n);var A=E<this.n?-1:k.ucmp(this.p);return A===0?(k.words[0]=0,k.length=1):A>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},L.prototype.split=function(j,E){j.iushrn(this.n,0,E)},L.prototype.imulK=function(j){return j.imul(this.k)},l(O,L),O.prototype.split=function(j,E){for(var k=Math.min(j.length,9),A=0;A<k;A++)E.words[A]=j.words[A];if(E.length=k,j.length<=9)return j.words[0]=0,void(j.length=1);var C=j.words[9];for(E.words[E.length++]=4194303&C,A=10;A<j.length;A++){var D=0|j.words[A];j.words[A-10]=(4194303&D)<<4|C>>>22,C=D}C>>>=22,j.words[A-10]=C,C===0&&j.length>10?j.length-=10:j.length-=9},O.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var E=0,k=0;k<j.length;k++){var A=0|j.words[k];E+=977*A,j.words[k]=67108863&E,E=64*A+(E/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j},l(H,L),l(G,L),l(I,L),I.prototype.imulK=function(j){for(var E=0,k=0;k<j.length;k++){var A=19*(0|j.words[k])+E,C=67108863&A;A>>>=26,j.words[k]=C,E=A}return E!==0&&(j.words[j.length++]=E),j},c._prime=function(j){if(U[j])return U[j];var E;if(j==="k256")E=new O;else if(j==="p224")E=new H;else if(j==="p192")E=new G;else{if(j!=="p25519")throw new Error("Unknown prime "+j);E=new I}return U[j]=E,E},R.prototype._verify1=function(j){a(j.negative===0,"red works only with positives"),a(j.red,"red works only with red numbers")},R.prototype._verify2=function(j,E){a((j.negative|E.negative)==0,"red works only with positives"),a(j.red&&j.red===E.red,"red works only with red numbers")},R.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):(p(j,j.umod(this.m)._forceRed(this)),j)},R.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},R.prototype.add=function(j,E){this._verify2(j,E);var k=j.add(E);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},R.prototype.iadd=function(j,E){this._verify2(j,E);var k=j.iadd(E);return k.cmp(this.m)>=0&&k.isub(this.m),k},R.prototype.sub=function(j,E){this._verify2(j,E);var k=j.sub(E);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},R.prototype.isub=function(j,E){this._verify2(j,E);var k=j.isub(E);return k.cmpn(0)<0&&k.iadd(this.m),k},R.prototype.shl=function(j,E){return this._verify1(j),this.imod(j.ushln(E))},R.prototype.imul=function(j,E){return this._verify2(j,E),this.imod(j.imul(E))},R.prototype.mul=function(j,E){return this._verify2(j,E),this.imod(j.mul(E))},R.prototype.isqr=function(j){return this.imul(j,j.clone())},R.prototype.sqr=function(j){return this.mul(j,j)},R.prototype.sqrt=function(j){if(j.isZero())return j.clone();var E=this.m.andln(3);if(a(E%2==1),E===3){var k=this.m.add(new c(1)).iushrn(2);return this.pow(j,k)}for(var A=this.m.subn(1),C=0;!A.isZero()&&A.andln(1)===0;)C++,A.iushrn(1);a(!A.isZero());var D=new c(1).toRed(this),z=D.redNeg(),P=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new c(2*K*K).toRed(this);this.pow(K,P).cmp(z)!==0;)K.redIAdd(z);for(var Z=this.pow(K,A),te=this.pow(j,A.addn(1).iushrn(1)),q=this.pow(j,A),$=C;q.cmp(D)!==0;){for(var N=q,T=0;N.cmp(D)!==0;T++)N=N.redSqr();a(T<$);var V=this.pow(Z,new c(1).iushln($-T-1));te=te.redMul(V),Z=V.redSqr(),q=q.redMul(Z),$=T}return te},R.prototype.invm=function(j){var E=j._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},R.prototype.pow=function(j,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return j.clone();var k=new Array(16);k[0]=new c(1).toRed(this),k[1]=j;for(var A=2;A<k.length;A++)k[A]=this.mul(k[A-1],j);var C=k[0],D=0,z=0,P=E.bitLength()%26;for(P===0&&(P=26),A=E.length-1;A>=0;A--){for(var K=E.words[A],Z=P-1;Z>=0;Z--){var te=K>>Z&1;C!==k[0]&&(C=this.sqr(C)),te!==0||D!==0?(D<<=1,D|=te,(++z===4||A===0&&Z===0)&&(C=this.mul(C,k[D]),z=0,D=0)):z=0}P=26}return C},R.prototype.convertTo=function(j){var E=j.umod(this.m);return E===j?E.clone():E},R.prototype.convertFrom=function(j){var E=j.clone();return E.red=null,E},c.mont=function(j){return new S(j)},l(S,R),S.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},S.prototype.convertFrom=function(j){var E=this.imod(j.mul(this.rinv));return E.red=null,E},S.prototype.imul=function(j,E){if(j.isZero()||E.isZero())return j.words[0]=0,j.length=1,j;var k=j.imul(E),A=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(A).iushrn(this.shift),D=C;return C.cmp(this.m)>=0?D=C.isub(this.m):C.cmpn(0)<0&&(D=C.iadd(this.m)),D._forceRed(this)},S.prototype.mul=function(j,E){if(j.isZero()||E.isZero())return new c(0)._forceRed(this);var k=j.mul(E),A=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(A).iushrn(this.shift),D=C;return C.cmp(this.m)>=0?D=C.isub(this.m):C.cmpn(0)<0&&(D=C.iadd(this.m)),D._forceRed(this)},S.prototype.invm=function(j){return this.imod(j._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var s;function o(l){this.rand=l}if(n.exports=function(l){return s||(s=new o(null)),s.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(f){s.isBuffer(f)||(f=s.from(f));for(var d=f.length/4|0,p=new Array(d),g=0;g<d;g++)p[g]=f.readUInt32BE(4*g);return p}function a(f){for(;0<f.length;f++)f[0]=0}function l(f,d,p,g,m){for(var v,y,b,x,_=p[0],M=p[1],U=p[2],L=p[3],O=f[0]^d[0],H=f[1]^d[1],G=f[2]^d[2],I=f[3]^d[3],R=4,S=1;S<m;S++)v=_[O>>>24]^M[H>>>16&255]^U[G>>>8&255]^L[255&I]^d[R++],y=_[H>>>24]^M[G>>>16&255]^U[I>>>8&255]^L[255&O]^d[R++],b=_[G>>>24]^M[I>>>16&255]^U[O>>>8&255]^L[255&H]^d[R++],x=_[I>>>24]^M[O>>>16&255]^U[H>>>8&255]^L[255&G]^d[R++],O=v,H=y,G=b,I=x;return v=(g[O>>>24]<<24|g[H>>>16&255]<<16|g[G>>>8&255]<<8|g[255&I])^d[R++],y=(g[H>>>24]<<24|g[G>>>16&255]<<16|g[I>>>8&255]<<8|g[255&O])^d[R++],b=(g[G>>>24]<<24|g[I>>>16&255]<<16|g[O>>>8&255]<<8|g[255&H])^d[R++],x=(g[I>>>24]<<24|g[O>>>16&255]<<16|g[H>>>8&255]<<8|g[255&G])^d[R++],[v>>>=0,y>>>=0,b>>>=0,x>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var f=new Array(256),d=0;d<256;d++)f[d]=d<128?d<<1:d<<1^283;for(var p=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],y=0,b=0,x=0;x<256;++x){var _=b^b<<1^b<<2^b<<3^b<<4;_=_>>>8^255&_^99,p[y]=_,g[_]=y;var M=f[y],U=f[M],L=f[U],O=257*f[_]^16843008*_;m[0][y]=O<<24|O>>>8,m[1][y]=O<<16|O>>>16,m[2][y]=O<<8|O>>>24,m[3][y]=O,O=16843009*L^65537*U^257*M^16843008*y,v[0][_]=O<<24|O>>>8,v[1][_]=O<<16|O>>>16,v[2][_]=O<<8|O>>>24,v[3][_]=O,y===0?y=b=1:(y=M^f[f[f[L^M]]],b^=f[f[b]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function h(f){this._key=o(f),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var f=this._key,d=f.length,p=d+6,g=4*(p+1),m=[],v=0;v<d;v++)m[v]=f[v];for(v=d;v<g;v++){var y=m[v-1];v%d==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=c[v/d|0]<<24):d>6&&v%d==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),m[v]=m[v-d]^y}for(var b=[],x=0;x<g;x++){var _=g-x,M=m[_-(x%4?0:4)];b[x]=x<4||_<=4?M:u.INV_SUB_MIX[0][u.SBOX[M>>>24]]^u.INV_SUB_MIX[1][u.SBOX[M>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[M>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&M]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=b},h.prototype.encryptBlockRaw=function(f){return l(f=o(f),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},h.prototype.encryptBlock=function(f){var d=this.encryptBlockRaw(f),p=s.allocUnsafe(16);return p.writeUInt32BE(d[0],0),p.writeUInt32BE(d[1],4),p.writeUInt32BE(d[2],8),p.writeUInt32BE(d[3],12),p},h.prototype.decryptBlock=function(f){var d=(f=o(f))[1];f[1]=f[3],f[3]=d;var p=l(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=s.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=r("inherits"),c=r("./ghash"),u=r("buffer-xor"),h=r("./incr32");function f(d,p,g,m){a.call(this);var v=o.alloc(4,0);this._cipher=new s.AES(p);var y=this._cipher.encryptBlock(v);this._ghash=new c(y),g=function(b,x,_){if(x.length===12)return b._finID=o.concat([x,o.from([0,0,0,1])]),o.concat([x,o.from([0,0,0,2])]);var M=new c(_),U=x.length,L=U%16;M.update(x),L&&(L=16-L,M.update(o.alloc(L,0))),M.update(o.alloc(8,0));var O=8*U,H=o.alloc(8);H.writeUIntBE(O,0,8),M.update(H),b._finID=M.state;var G=o.from(b._finID);return h(G),G}(this,g,y),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(f,a),f.prototype._update=function(d){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=o.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(g),this._len+=d.length,g},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var v=Math.min(p.length,g.length),y=0;y<v;++y)m+=p[y]^g[y];return m}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},f.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var s=r("./encrypter"),o=r("./decrypter"),a=r("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var s=r("./authCipher"),o=r("safe-buffer").Buffer,a=r("./modes"),l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function f(g,m,v){c.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(m),this._prev=o.from(v),this._mode=g,this._autopadding=!0}function d(){this.cache=o.allocUnsafe(0)}function p(g,m,v){var y=a[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new l(y.module,m,v,!0):y.type==="auth"?new s(y.module,m,v,!0):new f(y.module,m,v)}r("inherits")(f,c),f.prototype._update=function(g){var m,v;this._cache.add(g);for(var y=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),y.push(v);return o.concat(y)},f.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(m[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=o.concat([this.cache,g])},d.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,m){var v=a[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=h(m,!1,v.key,v.iv);return p(g,y.key,y.iv)},i.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var s=r("./modes"),o=r("./authCipher"),a=r("safe-buffer").Buffer,l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function f(m,v,y){c.call(this),this._cache=new p,this._cipher=new u.AES(v),this._prev=a.from(y),this._mode=m,this._autopadding=!0}r("inherits")(f,c),f.prototype._update=function(m){var v,y;this._cache.add(m);for(var b=[];v=this._cache.get();)y=this._mode.encrypt(this,v),b.push(y);return a.concat(b)};var d=a.alloc(16,16);function p(){this.cache=a.allocUnsafe(0)}function g(m,v,y){var b=s[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),v.length!==b.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=a.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);return b.type==="stream"?new l(b.module,v,y):b.type==="auth"?new o(b.module,v,y):new f(b.module,v,y)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=a.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,v=a.allocUnsafe(m),y=-1;++y<m;)v.writeUInt8(m,y);return a.concat([this.cache,v])},i.createCipheriv=g,i.createCipher=function(m,v){var y=s[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=h(v,!1,y.key,y.iv);return g(m,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.alloc(16,0);function a(c){var u=s.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,h,f=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],d=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(d[0]^=f[0],d[1]^=f[1],d[2]^=f[2],d[3]^=f[3]),h=(1&f[3])!=0,u=3;u>0;u--)f[u]=f[u]>>>1|(1&f[u-1])<<31;f[0]=f[0]>>>1,h&&(f[0]=f[0]^225<<24)}this.state=a(d)},l.prototype.update=function(c){var u;for(this.cache=s.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(a([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(s){for(var o,a=s.length;a--;){if((o=s.readUInt8(a))!==255){o++,s.writeUInt8(o,a);break}s.writeUInt8(0,a)}}},{}],196:[function(r,n,i){var s=r("buffer-xor");i.encrypt=function(o,a){var l=s(a,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,a){var l=o._prev;o._prev=a;var c=o._cipher.decryptBlock(a);return s(c,l)}},{"buffer-xor":219}],197:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("buffer-xor");function a(l,c,u){var h=c.length,f=o(c,l._cache);return l._cache=l._cache.slice(h),l._prev=s.concat([l._prev,u?c:f]),f}i.encrypt=function(l,c,u){for(var h,f=s.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=c.length)){f=s.concat([f,a(l,c,u)]);break}h=l._cache.length,f=s.concat([f,a(l,c.slice(0,h),u)]),c=c.slice(h)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(l,c,u){for(var h,f,d=-1,p=0;++d<8;)h=c&1<<7-d?128:0,p+=(128&(f=l._cipher.encryptBlock(l._prev)[0]^h))>>d%8,l._prev=a(l._prev,u?h:f);return p}function a(l,c){var u=l.length,h=-1,f=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([c])]);++h<u;)f[h]=l[h]<<1|l[h+1]>>7;return f}i.encrypt=function(l,c,u){for(var h=c.length,f=s.allocUnsafe(h),d=-1;++d<h;)f[d]=o(l,c[d],u);return f}},{"safe-buffer":494}],199:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l,c){var u=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=s.concat([a._prev.slice(1),s.from([c?l:u])]),u}i.encrypt=function(a,l,c){for(var u=l.length,h=s.allocUnsafe(u),f=-1;++f<u;)h[f]=o(a,l[f],c);return h}},{"safe-buffer":494}],200:[function(r,n,i){var s=r("buffer-xor"),o=r("safe-buffer").Buffer,a=r("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return a(c._prev),u}i.encrypt=function(c,u){var h=Math.ceil(u.length/16),f=c._cache.length;c._cache=o.concat([c._cache,o.allocUnsafe(16*h)]);for(var d=0;d<h;d++){var p=l(c),g=f+16*d;c._cache.writeUInt32BE(p[0],g+0),c._cache.writeUInt32BE(p[1],g+4),c._cache.writeUInt32BE(p[2],g+8),c._cache.writeUInt32BE(p[3],g+12)}var m=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),s(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(r,n,i){var s={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var a in o)o[a].module=s[o[a].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(s){(function(){var o=r("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=s.concat([l._cache,a(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),o(c,u)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base");function l(c,u,h,f){a.call(this),this._cipher=new s.AES(u),this._prev=o.from(h),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=c}r("inherits")(l,a),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var s=r("browserify-des"),o=r("browserify-aes/browser"),a=r("browserify-aes/modes"),l=r("browserify-des/modes"),c=r("evp_bytestokey");function u(f,d,p){if(f=f.toLowerCase(),a[f])return o.createCipheriv(f,d,p);if(l[f])return new s({key:d,iv:p,mode:f});throw new TypeError("invalid suite type")}function h(f,d,p){if(f=f.toLowerCase(),a[f])return o.createDecipheriv(f,d,p);if(l[f])return new s({key:d,iv:p,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(f,d){var p,g;if(f=f.toLowerCase(),a[f])p=a[f].key,g=a[f].iv;else{if(!l[f])throw new TypeError("invalid suite type");p=8*l[f].key,g=l[f].iv}var m=c(d,!1,p,g);return u(f,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(f,d){var p,g;if(f=f.toLowerCase(),a[f])p=a[f].key,g=a[f].iv;else{if(!l[f])throw new TypeError("invalid suite type");p=8*l[f].key,g=l[f].iv}var m=c(d,!1,p,g);return h(f,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=h,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var s=r("cipher-base"),o=r("des.js"),a=r("inherits"),l=r("safe-buffer").Buffer,c={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(h){s.call(this);var f,d=h.mode.toLowerCase(),p=c[d];f=h.decrypt?"decrypt":"encrypt";var g=h.key;l.isBuffer(g)||(g=l.from(g)),d!=="des-ede"&&d!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=h.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:f})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,a(u,s),u.prototype._update=function(h){return l.from(this._des.update(h))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=r("randombytes");function l(u){var h,f=u.modulus.byteLength();do h=new o(a(f));while(h.cmp(u.modulus)>=0||!h.umod(u.prime1)||!h.umod(u.prime2));return h}function c(u,h){var f=function(U){var L=l(U);return{blinder:L.toRed(o.mont(U.modulus)).redPow(new o(U.publicExponent)).fromRed(),unblinder:L.invm(U.modulus)}}(h),d=h.modulus.byteLength(),p=new o(u).mul(f.blinder).umod(h.modulus),g=p.toRed(o.mont(h.prime1)),m=p.toRed(o.mont(h.prime2)),v=h.coefficient,y=h.prime1,b=h.prime2,x=g.redPow(h.exponent1).fromRed(),_=m.redPow(h.exponent2).fromRed(),M=x.isub(_).imul(v).umod(y).imul(b);return _.iadd(M).imul(f.unblinder).umod(h.modulus).toArrayLike(s,"be",d)}c.getr=l,n.exports=c}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hash"),a=r("readable-stream"),l=r("inherits"),c=r("./sign"),u=r("./verify"),h=r("./algorithms.json");function f(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function d(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){return new f(m)}function g(m){return new d(m)}Object.keys(h).forEach(function(m){h[m].id=s.from(h[m].id,"hex"),h[m.toLowerCase()]=h[m]}),l(f,a.Writable),f.prototype._write=function(m,v,y){this._hash.update(m),y()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var y=this._hash.digest(),b=c(y,m,this._hashType,this._signType,this._tag);return v?b.toString(v):b},l(d,a.Writable),d.prototype._write=function(m,v,y){this._hash.update(m),y()},d.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},d.prototype.verify=function(m,v,y){typeof v=="string"&&(v=s.from(v,y)),this.end();var b=this._hash.digest();return u(v,b,m,this._signType,this._tag)},n.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hmac"),a=r("browserify-rsa"),l=r("elliptic").ec,c=r("bn.js"),u=r("parse-asn1"),h=r("./curves.json");function f(m,v,y,b){if((m=s.from(m.toArray())).length<v.byteLength()){var x=s.alloc(v.byteLength()-m.length);m=s.concat([x,m])}var _=y.length,M=function(O,H){O=(O=d(O,H)).mod(H);var G=s.from(O.toArray());if(G.length<H.byteLength()){var I=s.alloc(H.byteLength()-G.length);G=s.concat([I,G])}return G}(y,v),U=s.alloc(_);U.fill(1);var L=s.alloc(_);return L=o(b,L).update(U).update(s.from([0])).update(m).update(M).digest(),U=o(b,L).update(U).digest(),{k:L=o(b,L).update(U).update(s.from([1])).update(m).update(M).digest(),v:U=o(b,L).update(U).digest()}}function d(m,v){var y=new c(m),b=(m.length<<3)-v.bitLength();return b>0&&y.ishrn(b),y}function p(m,v,y){var b,x;do{for(b=s.alloc(0);8*b.length<m.bitLength();)v.v=o(y,v.k).update(v.v).digest(),b=s.concat([b,v.v]);x=d(b,m),v.k=o(y,v.k).update(v.v).update(s.from([0])).digest(),v.v=o(y,v.k).update(v.v).digest()}while(x.cmp(m)!==-1);return x}function g(m,v,y,b){return m.toRed(c.mont(y)).redPow(v).fromRed().mod(b)}n.exports=function(m,v,y,b,x){var _=u(v);if(_.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(O,H){var G=h[H.curve.join(".")];if(!G)throw new Error("unknown curve "+H.curve.join("."));var I=new l(G).keyFromPrivate(H.privateKey).sign(O);return s.from(I.toDER())}(m,_)}if(_.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(O,H,G){for(var I,R=H.params.priv_key,S=H.params.p,j=H.params.q,E=H.params.g,k=new c(0),A=d(O,j).mod(j),C=!1,D=f(R,j,O,G);C===!1;)I=p(j,D,G),k=g(E,I,S,j),(C=I.invm(j).imul(A.add(R.mul(k))).mod(j)).cmpn(0)===0&&(C=!1,k=new c(0));return function(z,P){z=z.toArray(),P=P.toArray(),128&z[0]&&(z=[0].concat(z)),128&P[0]&&(P=[0].concat(P));var K=[48,z.length+P.length+4,2,z.length];return K=K.concat(z,[2,P.length],P),s.from(K)}(k,C)}(m,_,y)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");m=s.concat([x,m]);for(var M=_.modulus.byteLength(),U=[0,1];m.length+U.length+1<M;)U.push(255);U.push(0);for(var L=-1;++L<m.length;)U.push(m[L]);return a(U,_)},n.exports.getKey=f,n.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("bn.js"),a=r("elliptic").ec,l=r("parse-asn1"),c=r("./curves.json");function u(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(h,f,d,p,g){var m=l(d);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(U,L,O){var H=c[O.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var G=new a(H),I=O.data.subjectPrivateKey.data;return G.verify(L,U,I)}(h,f,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(U,L,O){var H=O.data.p,G=O.data.q,I=O.data.g,R=O.data.pub_key,S=l.signature.decode(U,"der"),j=S.s,E=S.r;u(j,G),u(E,G);var k=o.mont(H),A=j.invm(G);return I.toRed(k).redPow(new o(L).mul(A).mod(G)).fromRed().mul(R.toRed(k).redPow(E.mul(A).mod(G)).fromRed()).mod(H).mod(G).cmp(E)===0}(h,f,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");f=s.concat([g,f]);for(var v=m.modulus.byteLength(),y=[1],b=0;f.length+y.length+2<v;)y.push(255),b++;y.push(0);for(var x=-1;++x<f.length;)y.push(f[x]);y=s.from(y);var _=o.mont(m.modulus);h=(h=new o(h).toRed(_)).redPow(new o(m.publicExponent)),h=s.from(h.fromRed().toArray());var M=b<8?1:0;for(v=Math.min(h.length,y.length),h.length!==y.length&&(M=1),x=-1;++x<v;)M|=h[x]^y[x];return M===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=o(c);return u!==void 0?typeof h=="string"?f.fill(u,h):f.fill(u):f.fill(0),f},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],218:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(m){var v;switch(this.encoding=function(y){var b=function(x){if(!x)return"utf8";for(var _;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(_)return;x=(""+x).toLowerCase(),_=!0}}(y);if(typeof b!="string"&&(s.isEncoding===o||!o(y)))throw new Error("Unknown encoding: "+y);return b||y}(m),this.encoding){case"utf16le":this.text=u,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=f,this.end=d,v=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function c(m){var v=this.lastTotal-this.lastNeed,y=function(b,x,_){if((192&x[0])!=128)return b.lastNeed=0,"�";if(b.lastNeed>1&&x.length>1){if((192&x[1])!=128)return b.lastNeed=1,"�";if(b.lastNeed>2&&x.length>2&&(192&x[2])!=128)return b.lastNeed=2,"�"}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function u(m,v){if((m.length-v)%2==0){var y=m.toString("utf16le",v);if(y){var b=y.charCodeAt(y.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function h(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function f(m,v){var y=(m.length-v)%3;return y===0?m.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-y))}function d(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}i.StringDecoder=a,a.prototype.write=function(m){if(m.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?v?v+this.text(m,y):this.text(m,y):v||""},a.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v},a.prototype.text=function(m,v){var y=function(x,_,M){var U=_.length-1;if(U<M)return 0;var L=l(_[U]);return L>=0?(L>0&&(x.lastNeed=L-1),L):--U<M||L===-2?0:(L=l(_[U]))>=0?(L>0&&(x.lastNeed=L-2),L):--U<M||L===-2?0:(L=l(_[U]))>=0?(L>0&&(L===2?L=0:x.lastNeed=L-3),L):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=y;var b=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",v,b)},a.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(s){(function(){n.exports=function(o,a){for(var l=Math.min(o.length,a.length),c=new s(l),u=0;u<l;++u)c[u]=o[u]^a[u];return c}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(s){(function(){var o=r("base64-js"),a=r("ieee754");i.Buffer=c,i.SlowBuffer=function(N){return+N!=N&&(N=0),c.alloc(+N)},i.INSPECT_MAX_BYTES=50;function l(N){if(N>2147483647)throw new RangeError('The value "'+N+'" is invalid for option "size"');var T=new Uint8Array(N);return T.__proto__=c.prototype,T}function c(N,T,V){if(typeof N=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return u(N,T,V)}function u(N,T,V){if(typeof N=="string")return function(se,B){if(typeof B=="string"&&B!==""||(B="utf8"),!c.isEncoding(B))throw new TypeError("Unknown encoding: "+B);var ne=0|g(se,B),ee=l(ne),F=ee.write(se,B);return F!==ne&&(ee=ee.slice(0,F)),ee}(N,T);if(ArrayBuffer.isView(N))return d(N);if(N==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(q(N,ArrayBuffer)||N&&q(N.buffer,ArrayBuffer))return function(se,B,ne){if(B<0||se.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<B+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var ee;return ee=B===void 0&&ne===void 0?new Uint8Array(se):ne===void 0?new Uint8Array(se,B):new Uint8Array(se,B,ne),ee.__proto__=c.prototype,ee}(N,T,V);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=N.valueOf&&N.valueOf();if(J!=null&&J!==N)return c.from(J,T,V);var re=function(se){if(c.isBuffer(se)){var B=0|p(se.length),ne=l(B);return ne.length===0||se.copy(ne,0,0,B),ne}if(se.length!==void 0)return typeof se.length!="number"||$(se.length)?l(0):d(se);if(se.type==="Buffer"&&Array.isArray(se.data))return d(se.data)}(N);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return c.from(N[Symbol.toPrimitive]("string"),T,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function h(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function f(N){return h(N),l(N<0?0:0|p(N))}function d(N){for(var T=N.length<0?0:0|p(N.length),V=l(T),J=0;J<T;J+=1)V[J]=255&N[J];return V}function p(N){if(N>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|N}function g(N,T){if(c.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||q(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var V=N.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&V===0)return 0;for(var re=!1;;)switch(T){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return K(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return Z(N).length;default:if(re)return J?-1:K(N).length;T=(""+T).toLowerCase(),re=!0}}function m(N,T,V){var J=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(T>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,T,V);case"utf8":case"utf-8":return G(this,T,V);case"ascii":return I(this,T,V);case"latin1":case"binary":return R(this,T,V);case"base64":return H(this,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,T,V);default:if(J)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),J=!0}}function v(N,T,V){var J=N[T];N[T]=N[V],N[V]=J}function y(N,T,V,J,re){if(N.length===0)return-1;if(typeof V=="string"?(J=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),$(V=+V)&&(V=re?0:N.length-1),V<0&&(V=N.length+V),V>=N.length){if(re)return-1;V=N.length-1}else if(V<0){if(!re)return-1;V=0}if(typeof T=="string"&&(T=c.from(T,J)),c.isBuffer(T))return T.length===0?-1:b(N,T,V,J,re);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(N,T,V):Uint8Array.prototype.lastIndexOf.call(N,T,V):b(N,[T],V,J,re);throw new TypeError("val must be string, number or Buffer")}function b(N,T,V,J,re){var se,B=1,ne=N.length,ee=T.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(N.length<2||T.length<2)return-1;B=2,ne/=2,ee/=2,V/=2}function F(ce,le){return B===1?ce[le]:ce.readUInt16BE(le*B)}if(re){var W=-1;for(se=V;se<ne;se++)if(F(N,se)===F(T,W===-1?0:se-W)){if(W===-1&&(W=se),se-W+1===ee)return W*B}else W!==-1&&(se-=se-W),W=-1}else for(V+ee>ne&&(V=ne-ee),se=V;se>=0;se--){for(var Y=!0,ae=0;ae<ee;ae++)if(F(N,se+ae)!==F(T,ae)){Y=!1;break}if(Y)return se}return-1}function x(N,T,V,J){V=Number(V)||0;var re=N.length-V;J?(J=Number(J))>re&&(J=re):J=re;var se=T.length;J>se/2&&(J=se/2);for(var B=0;B<J;++B){var ne=parseInt(T.substr(2*B,2),16);if($(ne))return B;N[V+B]=ne}return B}function _(N,T,V,J){return te(K(T,N.length-V),N,V,J)}function M(N,T,V,J){return te(function(re){for(var se=[],B=0;B<re.length;++B)se.push(255&re.charCodeAt(B));return se}(T),N,V,J)}function U(N,T,V,J){return M(N,T,V,J)}function L(N,T,V,J){return te(Z(T),N,V,J)}function O(N,T,V,J){return te(function(re,se){for(var B,ne,ee,F=[],W=0;W<re.length&&!((se-=2)<0);++W)B=re.charCodeAt(W),ne=B>>8,ee=B%256,F.push(ee),F.push(ne);return F}(T,N.length-V),N,V,J)}function H(N,T,V){return T===0&&V===N.length?o.fromByteArray(N):o.fromByteArray(N.slice(T,V))}function G(N,T,V){V=Math.min(N.length,V);for(var J=[],re=T;re<V;){var se,B,ne,ee,F=N[re],W=null,Y=F>239?4:F>223?3:F>191?2:1;if(re+Y<=V)switch(Y){case 1:F<128&&(W=F);break;case 2:(192&(se=N[re+1]))==128&&(ee=(31&F)<<6|63&se)>127&&(W=ee);break;case 3:se=N[re+1],B=N[re+2],(192&se)==128&&(192&B)==128&&(ee=(15&F)<<12|(63&se)<<6|63&B)>2047&&(ee<55296||ee>57343)&&(W=ee);break;case 4:se=N[re+1],B=N[re+2],ne=N[re+3],(192&se)==128&&(192&B)==128&&(192&ne)==128&&(ee=(15&F)<<18|(63&se)<<12|(63&B)<<6|63&ne)>65535&&ee<1114112&&(W=ee)}W===null?(W=65533,Y=1):W>65535&&(W-=65536,J.push(W>>>10&1023|55296),W=56320|1023&W),J.push(W),re+=Y}return function(ae){var ce=ae.length;if(ce<=4096)return String.fromCharCode.apply(String,ae);for(var le="",de=0;de<ce;)le+=String.fromCharCode.apply(String,ae.slice(de,de+=4096));return le}(J)}i.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(N,T,V){return u(N,T,V)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(N,T,V){return function(J,re,se){return h(J),J<=0?l(J):re!==void 0?typeof se=="string"?l(J).fill(re,se):l(J).fill(re):l(J)}(N,T,V)},c.allocUnsafe=function(N){return f(N)},c.allocUnsafeSlow=function(N){return f(N)},c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,T){if(q(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),q(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(N)||!c.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===T)return 0;for(var V=N.length,J=T.length,re=0,se=Math.min(V,J);re<se;++re)if(N[re]!==T[re]){V=N[re],J=T[re];break}return V<J?-1:J<V?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,T){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);var V;if(T===void 0)for(T=0,V=0;V<N.length;++V)T+=N[V].length;var J=c.allocUnsafe(T),re=0;for(V=0;V<N.length;++V){var se=N[V];if(q(se,Uint8Array)&&(se=c.from(se)),!c.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(J,re),re+=se.length}return J},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<N;T+=2)v(this,T,T+1);return this},c.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<N;T+=4)v(this,T,T+3),v(this,T+1,T+2);return this},c.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<N;T+=8)v(this,T,T+7),v(this,T+1,T+6),v(this,T+2,T+5),v(this,T+3,T+4);return this},c.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?G(this,0,N):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||c.compare(this,N)===0},c.prototype.inspect=function(){var N="",T=i.INSPECT_MAX_BYTES;return N=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(N+=" ... "),"<Buffer "+N+">"},c.prototype.compare=function(N,T,V,J,re){if(q(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(T===void 0&&(T=0),V===void 0&&(V=N?N.length:0),J===void 0&&(J=0),re===void 0&&(re=this.length),T<0||V>N.length||J<0||re>this.length)throw new RangeError("out of range index");if(J>=re&&T>=V)return 0;if(J>=re)return-1;if(T>=V)return 1;if(this===N)return 0;for(var se=(re>>>=0)-(J>>>=0),B=(V>>>=0)-(T>>>=0),ne=Math.min(se,B),ee=this.slice(J,re),F=N.slice(T,V),W=0;W<ne;++W)if(ee[W]!==F[W]){se=ee[W],B=F[W];break}return se<B?-1:B<se?1:0},c.prototype.includes=function(N,T,V){return this.indexOf(N,T,V)!==-1},c.prototype.indexOf=function(N,T,V){return y(this,N,T,V,!0)},c.prototype.lastIndexOf=function(N,T,V){return y(this,N,T,V,!1)},c.prototype.write=function(N,T,V,J){if(T===void 0)J="utf8",V=this.length,T=0;else if(V===void 0&&typeof T=="string")J=T,V=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(V)?(V>>>=0,J===void 0&&(J="utf8")):(J=V,V=void 0)}var re=this.length-T;if((V===void 0||V>re)&&(V=re),N.length>0&&(V<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var se=!1;;)switch(J){case"hex":return x(this,N,T,V);case"utf8":case"utf-8":return _(this,N,T,V);case"ascii":return M(this,N,T,V);case"latin1":case"binary":return U(this,N,T,V);case"base64":return L(this,N,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,N,T,V);default:if(se)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),se=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(N,T,V){var J="";V=Math.min(N.length,V);for(var re=T;re<V;++re)J+=String.fromCharCode(127&N[re]);return J}function R(N,T,V){var J="";V=Math.min(N.length,V);for(var re=T;re<V;++re)J+=String.fromCharCode(N[re]);return J}function S(N,T,V){var J=N.length;(!T||T<0)&&(T=0),(!V||V<0||V>J)&&(V=J);for(var re="",se=T;se<V;++se)re+=P(N[se]);return re}function j(N,T,V){for(var J=N.slice(T,V),re="",se=0;se<J.length;se+=2)re+=String.fromCharCode(J[se]+256*J[se+1]);return re}function E(N,T,V){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+T>V)throw new RangeError("Trying to access beyond buffer length")}function k(N,T,V,J,re,se){if(!c.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>re||T<se)throw new RangeError('"value" argument is out of bounds');if(V+J>N.length)throw new RangeError("Index out of range")}function A(N,T,V,J,re,se){if(V+J>N.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function C(N,T,V,J,re){return T=+T,V>>>=0,re||A(N,0,V,4),a.write(N,T,V,J,23,4),V+4}function D(N,T,V,J,re){return T=+T,V>>>=0,re||A(N,0,V,8),a.write(N,T,V,J,52,8),V+8}c.prototype.slice=function(N,T){var V=this.length;(N=~~N)<0?(N+=V)<0&&(N=0):N>V&&(N=V),(T=T===void 0?V:~~T)<0?(T+=V)<0&&(T=0):T>V&&(T=V),T<N&&(T=N);var J=this.subarray(N,T);return J.__proto__=c.prototype,J},c.prototype.readUIntLE=function(N,T,V){N>>>=0,T>>>=0,V||E(N,T,this.length);for(var J=this[N],re=1,se=0;++se<T&&(re*=256);)J+=this[N+se]*re;return J},c.prototype.readUIntBE=function(N,T,V){N>>>=0,T>>>=0,V||E(N,T,this.length);for(var J=this[N+--T],re=1;T>0&&(re*=256);)J+=this[N+--T]*re;return J},c.prototype.readUInt8=function(N,T){return N>>>=0,T||E(N,1,this.length),this[N]},c.prototype.readUInt16LE=function(N,T){return N>>>=0,T||E(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUInt16BE=function(N,T){return N>>>=0,T||E(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUInt32LE=function(N,T){return N>>>=0,T||E(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},c.prototype.readUInt32BE=function(N,T){return N>>>=0,T||E(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readIntLE=function(N,T,V){N>>>=0,T>>>=0,V||E(N,T,this.length);for(var J=this[N],re=1,se=0;++se<T&&(re*=256);)J+=this[N+se]*re;return J>=(re*=128)&&(J-=Math.pow(2,8*T)),J},c.prototype.readIntBE=function(N,T,V){N>>>=0,T>>>=0,V||E(N,T,this.length);for(var J=T,re=1,se=this[N+--J];J>0&&(re*=256);)se+=this[N+--J]*re;return se>=(re*=128)&&(se-=Math.pow(2,8*T)),se},c.prototype.readInt8=function(N,T){return N>>>=0,T||E(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},c.prototype.readInt16LE=function(N,T){N>>>=0,T||E(N,2,this.length);var V=this[N]|this[N+1]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt16BE=function(N,T){N>>>=0,T||E(N,2,this.length);var V=this[N+1]|this[N]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt32LE=function(N,T){return N>>>=0,T||E(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,T){return N>>>=0,T||E(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readFloatLE=function(N,T){return N>>>=0,T||E(N,4,this.length),a.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,T){return N>>>=0,T||E(N,4,this.length),a.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,T){return N>>>=0,T||E(N,8,this.length),a.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,T){return N>>>=0,T||E(N,8,this.length),a.read(this,N,!1,52,8)},c.prototype.writeUIntLE=function(N,T,V,J){N=+N,T>>>=0,V>>>=0,J||k(this,N,T,V,Math.pow(2,8*V)-1,0);var re=1,se=0;for(this[T]=255&N;++se<V&&(re*=256);)this[T+se]=N/re&255;return T+V},c.prototype.writeUIntBE=function(N,T,V,J){N=+N,T>>>=0,V>>>=0,J||k(this,N,T,V,Math.pow(2,8*V)-1,0);var re=V-1,se=1;for(this[T+re]=255&N;--re>=0&&(se*=256);)this[T+re]=N/se&255;return T+V},c.prototype.writeUInt8=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,1,255,0),this[T]=255&N,T+1},c.prototype.writeUInt16LE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,2,65535,0),this[T]=255&N,this[T+1]=N>>>8,T+2},c.prototype.writeUInt16BE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,2,65535,0),this[T]=N>>>8,this[T+1]=255&N,T+2},c.prototype.writeUInt32LE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,4,4294967295,0),this[T+3]=N>>>24,this[T+2]=N>>>16,this[T+1]=N>>>8,this[T]=255&N,T+4},c.prototype.writeUInt32BE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,4,4294967295,0),this[T]=N>>>24,this[T+1]=N>>>16,this[T+2]=N>>>8,this[T+3]=255&N,T+4},c.prototype.writeIntLE=function(N,T,V,J){if(N=+N,T>>>=0,!J){var re=Math.pow(2,8*V-1);k(this,N,T,V,re-1,-re)}var se=0,B=1,ne=0;for(this[T]=255&N;++se<V&&(B*=256);)N<0&&ne===0&&this[T+se-1]!==0&&(ne=1),this[T+se]=(N/B>>0)-ne&255;return T+V},c.prototype.writeIntBE=function(N,T,V,J){if(N=+N,T>>>=0,!J){var re=Math.pow(2,8*V-1);k(this,N,T,V,re-1,-re)}var se=V-1,B=1,ne=0;for(this[T+se]=255&N;--se>=0&&(B*=256);)N<0&&ne===0&&this[T+se+1]!==0&&(ne=1),this[T+se]=(N/B>>0)-ne&255;return T+V},c.prototype.writeInt8=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,1,127,-128),N<0&&(N=255+N+1),this[T]=255&N,T+1},c.prototype.writeInt16LE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,2,32767,-32768),this[T]=255&N,this[T+1]=N>>>8,T+2},c.prototype.writeInt16BE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,2,32767,-32768),this[T]=N>>>8,this[T+1]=255&N,T+2},c.prototype.writeInt32LE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,4,2147483647,-2147483648),this[T]=255&N,this[T+1]=N>>>8,this[T+2]=N>>>16,this[T+3]=N>>>24,T+4},c.prototype.writeInt32BE=function(N,T,V){return N=+N,T>>>=0,V||k(this,N,T,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[T]=N>>>24,this[T+1]=N>>>16,this[T+2]=N>>>8,this[T+3]=255&N,T+4},c.prototype.writeFloatLE=function(N,T,V){return C(this,N,T,!0,V)},c.prototype.writeFloatBE=function(N,T,V){return C(this,N,T,!1,V)},c.prototype.writeDoubleLE=function(N,T,V){return D(this,N,T,!0,V)},c.prototype.writeDoubleBE=function(N,T,V){return D(this,N,T,!1,V)},c.prototype.copy=function(N,T,V,J){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if(V||(V=0),J||J===0||(J=this.length),T>=N.length&&(T=N.length),T||(T=0),J>0&&J<V&&(J=V),J===V||N.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-T<J-V&&(J=N.length-T+V);var re=J-V;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,V,J);else if(this===N&&V<T&&T<J)for(var se=re-1;se>=0;--se)N[se+T]=this[se+V];else Uint8Array.prototype.set.call(N,this.subarray(V,J),T);return re},c.prototype.fill=function(N,T,V,J){if(typeof N=="string"){if(typeof T=="string"?(J=T,T=0,V=this.length):typeof V=="string"&&(J=V,V=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){var re=N.charCodeAt(0);(J==="utf8"&&re<128||J==="latin1")&&(N=re)}}else typeof N=="number"&&(N&=255);if(T<0||this.length<T||this.length<V)throw new RangeError("Out of range index");if(V<=T)return this;var se;if(T>>>=0,V=V===void 0?this.length:V>>>0,N||(N=0),typeof N=="number")for(se=T;se<V;++se)this[se]=N;else{var B=c.isBuffer(N)?N:c.from(N,J),ne=B.length;if(ne===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(se=0;se<V-T;++se)this[se+T]=B[se%ne]}return this};var z=/[^+/0-9A-Za-z-_]/g;function P(N){return N<16?"0"+N.toString(16):N.toString(16)}function K(N,T){var V;T=T||1/0;for(var J=N.length,re=null,se=[],B=0;B<J;++B){if((V=N.charCodeAt(B))>55295&&V<57344){if(!re){if(V>56319){(T-=3)>-1&&se.push(239,191,189);continue}if(B+1===J){(T-=3)>-1&&se.push(239,191,189);continue}re=V;continue}if(V<56320){(T-=3)>-1&&se.push(239,191,189),re=V;continue}V=65536+(re-55296<<10|V-56320)}else re&&(T-=3)>-1&&se.push(239,191,189);if(re=null,V<128){if((T-=1)<0)break;se.push(V)}else if(V<2048){if((T-=2)<0)break;se.push(V>>6|192,63&V|128)}else if(V<65536){if((T-=3)<0)break;se.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;se.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return se}function Z(N){return o.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(N))}function te(N,T,V,J){for(var re=0;re<J&&!(re+V>=T.length||re>=N.length);++re)T[re+V]=N[re];return re}function q(N,T){return N instanceof T||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===T.name}function $(N){return N!=N}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("stream").Transform,a=r("string_decoder").StringDecoder;function l(c){o.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,o),l.prototype.update=function(c,u,h){typeof c=="string"&&(c=s.from(c,u));var f=this._update(c);return this.hashMode?this:(h&&(f=this._toString(f,h)),f)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,h){var f;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(d){f=d}finally{h(f)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(h){u=h}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||s.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,h){if(this._decoder||(this._decoder=new a(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var f=this._decoder.write(c);return h&&(f+=this._decoder.end()),f},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var s=r("../internals/is-constructor"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var s=r("../internals/is-callable"),o=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new a("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/object-create"),a=r("../internals/object-define-property").f,l=s("unscopables"),c=Array.prototype;c[l]===void 0&&a(c,l,{configurable:!0,value:o(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var s=r("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(a,l){if(s(l,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var s=r("../internals/is-object"),o=String,a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),l=function(c){return function(u,h,f){var d,p=s(u),g=a(p),m=o(f,g);if(c&&h!=h){for(;g>m;)if((d=p[m++])!=d)return!0}else for(;g>m;m++)if((c||m in p)&&p[m]===h)return c||m||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),l=r("../internals/to-object"),c=r("../internals/length-of-array-like"),u=r("../internals/array-species-create"),h=o([].push),f=function(d){var p=d===1,g=d===2,m=d===3,v=d===4,y=d===6,b=d===7,x=d===5||y;return function(_,M,U,L){for(var O,H,G=l(_),I=a(G),R=s(M,U),S=c(I),j=0,E=L||u,k=p?E(_,S):g||b?E(_,0):void 0;S>j;j++)if((x||j in I)&&(H=R(O=I[j],j,G),d))if(p)k[j]=H;else if(H)switch(d){case 3:return!0;case 5:return O;case 6:return j;case 2:h(k,O)}else switch(d){case 4:return!1;case 7:h(k,O)}return y?-1:m||v?v:k}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var s=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),a=r("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,h,f){for(var d=o(u),p=s(h,d),g=s(f===void 0?d:f,d),m=l(c(g-p,0)),v=0;p<g;p++,v++)a(m,v,u[p]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var s=r("../internals/is-array"),o=r("../internals/is-constructor"),a=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var h;return s(u)&&(h=u.constructor,(o(h)&&(h===c||s(h.prototype))||a(h)&&(h=h[l])===null)&&(h=void 0)),h===void 0?c:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var s=r("../internals/array-species-constructor");n.exports=function(o,a){return new(s(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var s=r("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){o=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!o)return!1}catch{return!1}var h=!1;try{var f={};f[s]=function(){return{next:function(){return{done:h=!0}}}},c(f)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=s({}.toString),a=s("".slice);n.exports=function(l){return a(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var s=r("../internals/to-string-tag-support"),o=r("../internals/is-callable"),a=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),c=Object,u=a(function(){return arguments}())==="Arguments";n.exports=s?a:function(h){var f,d,p;return h===void 0?"Undefined":h===null?"Null":typeof(d=function(g,m){try{return g[m]}catch{}}(f=c(h),l))=="string"?d:u?a(f):(p=a(f))==="Object"&&o(f.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(c,u,h){for(var f=o(u),d=l.f,p=a.f,g=0;g<f.length;g++){var m=f[g];s(c,m)||h&&s(h,m)||d(c,m,p(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var s=r("../internals/well-known-symbol")("match");n.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[s]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=s?function(l,c,u){return o.f(l,c,a(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(r,n,i){var s=r("../internals/to-property-key"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=function(l,c,u){var h=s(c);h in l?o.f(l,h,a(0,u)):l[h]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var s=r("../internals/make-built-in"),o=r("../internals/object-define-property");n.exports=function(a,l,c){return c.get&&s(c.get,l,{getter:!0}),c.set&&s(c.set,l,{setter:!0}),o.f(a,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/object-define-property"),a=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(c,u,h,f){f||(f={});var d=f.enumerable,p=f.name!==void 0?f.name:u;if(s(h)&&a(h,p,f),f.global)d?c[u]=h:l(u,h);else{try{f.unsafe?c[u]&&(d=!0):delete c[u]}catch{}d?c[u]=h:o.f(c,u,{value:h,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var s=r("../internals/global"),o=Object.defineProperty;n.exports=function(a,l){try{o(s,a,{value:l,configurable:!0,writable:!0})}catch{s[a]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-object"),a=s.document,l=o(a)&&o(a.createElement);n.exports=function(c){return l?a.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var s=r("../internals/engine-is-deno"),o=r("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var s,o,a=r("../internals/global"),l=r("../internals/engine-user-agent"),c=a.process,u=a.Deno,h=c&&c.versions||u&&u.version,f=h&&h.v8;f&&(o=(s=f.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),c=r("../internals/define-global-property"),u=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");n.exports=function(f,d){var p,g,m,v,y,b=f.target,x=f.global,_=f.stat;if(p=x?s:_?s[b]||c(b,{}):(s[b]||{}).prototype)for(g in d){if(v=d[g],m=f.dontCallGetSet?(y=o(p,g))&&y.value:p[g],!h(x?g:b+(_?".":"#")+g,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;u(v,m)}(f.sham||m&&m.sham)&&a(v,"sham",!0),l(p,g,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var s=r("../internals/function-uncurry-this-clause"),o=r("../internals/a-callable"),a=r("../internals/function-bind-native"),l=s(s.bind);n.exports=function(c,u){return o(c),u===void 0?c:a?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/has-own-property"),a=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=o(a,"name"),u=c&&(function(){}).name==="something",h=c&&(!s||s&&l(a,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/a-callable");n.exports=function(a,l,c){try{return s(o(Object.getOwnPropertyDescriptor(a,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/function-uncurry-this");n.exports=function(a){if(s(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.call,l=s&&o.bind.bind(a,a);n.exports=s?l:function(c){return function(){return a.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=function(l){return o(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?a(s[l]):s[l]&&s[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var s=r("../internals/classof"),o=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!a(u))return o(u,c)||o(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/a-callable"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/get-iterator-method"),u=TypeError;n.exports=function(h,f){var d=arguments.length<2?c(h):f;if(o(d))return a(s(d,h));throw new u(l(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-array"),a=r("../internals/is-callable"),l=r("../internals/classof-raw"),c=r("../internals/to-string"),u=s([].push);n.exports=function(h){if(a(h))return h;if(o(h)){for(var f=h.length,d=[],p=0;p<f;p++){var g=h[p];typeof g=="string"?u(d,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||u(d,c(g))}var m=d.length,v=!0;return function(y,b){if(v)return v=!1,b;if(o(this))return b;for(var x=0;x<m;x++)if(d[x]===y)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var s=r("../internals/a-callable"),o=r("../internals/is-null-or-undefined");n.exports=function(a,l){var c=a[l];return o(c)?void 0:s(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(s){(function(){var o=function(a){return a&&a.Math===Math&&a};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/to-object"),a=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return a(o(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(r,n,i){var s=r("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/document-create-element");n.exports=!s&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/classof-raw"),l=Object,c=s("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return a(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-callable"),a=r("../internals/shared-store"),l=s(Function.toString);o(a.inspectSource)||(a.inspectSource=function(c){return l(c)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var s,o,a,l=r("../internals/weak-map-basic-detection"),c=r("../internals/global"),u=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),f=r("../internals/has-own-property"),d=r("../internals/shared-store"),p=r("../internals/shared-key"),g=r("../internals/hidden-keys"),m=c.TypeError,v=c.WeakMap;if(l||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,s=function(x,_){if(y.has(x))throw new m("Object already initialized");return _.facade=x,y.set(x,_),_},o=function(x){return y.get(x)||{}},a=function(x){return y.has(x)}}else{var b=p("state");g[b]=!0,s=function(x,_){if(f(x,b))throw new m("Object already initialized");return _.facade=x,h(x,b,_),_},o=function(x){return f(x,b)?x[b]:{}},a=function(x){return f(x,b)}}n.exports={set:s,get:o,has:a,enforce:function(x){return a(x)?o(x):s(x,{})},getterFor:function(x){return function(_){var M;if(!u(_)||(M=o(_)).type!==x)throw new m("Incompatible receiver, "+x+" required");return M}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/iterators"),a=s("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(o.Array===c||l[a]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var s=r("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var s=r("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/classof"),c=r("../internals/get-built-in"),u=r("../internals/inspect-source"),h=function(){},f=[],d=c("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=s(p.exec),m=!p.test(h),v=function(b){if(!a(b))return!1;try{return d(h,f,b),!0}catch{return!1}},y=function(b){if(!a(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,u(b))}catch{return!0}};y.sham=!0,n.exports=!d||o(function(){var b;return v(v.call)||!v(Object)||!v(function(){b=!0})||b})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var s=r("../internals/fails"),o=r("../internals/is-callable"),a=/#|\.prototype\./,l=function(d,p){var g=u[c(d)];return g===f||g!==h&&(o(p)?s(p):!!p)},c=l.normalize=function(d){return String(d).replace(a,".").toLowerCase()},u=l.data={},h=l.NATIVE="N",f=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(s){return s==null}},{}],289:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/document-all"),a=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===a}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var s=r("../internals/is-object"),o=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");n.exports=function(l){var c;return s(l)&&((c=l[a])!==void 0?!!c:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var h=s("Symbol");return o(h)&&a(h.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-call"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/is-array-iterator-method"),u=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),f=r("../internals/get-iterator"),d=r("../internals/get-iterator-method"),p=r("../internals/iterator-close"),g=TypeError,m=function(y,b){this.stopped=y,this.result=b},v=m.prototype;n.exports=function(y,b,x){var _,M,U,L,O,H,G,I=x&&x.that,R=!(!x||!x.AS_ENTRIES),S=!(!x||!x.IS_RECORD),j=!(!x||!x.IS_ITERATOR),E=!(!x||!x.INTERRUPTED),k=s(b,I),A=function(D){return _&&p(_,"normal",D),new m(!0,D)},C=function(D){return R?(a(D),E?k(D[0],D[1],A):k(D[0],D[1])):E?k(D,A):k(D)};if(S)_=y.iterator;else if(j)_=y;else{if(!(M=d(y)))throw new g(l(y)+" is not iterable");if(c(M)){for(U=0,L=u(y);L>U;U++)if((O=C(y[U]))&&h(v,O))return O;return new m(!1)}_=f(y,M)}for(H=S?y.next:_.next;!(G=o(H,_)).done;){try{O=C(G.value)}catch(D){p(_,"throw",D)}if(typeof O=="object"&&O&&h(v,O))return O}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/an-object"),a=r("../internals/get-method");n.exports=function(l,c,u){var h,f;o(l);try{if(!(h=a(l,"return"))){if(c==="throw")throw u;return u}h=s(h,l)}catch(d){f=!0,h=d}if(c==="throw")throw u;if(f)throw h;return o(h),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var s=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),c=r("../internals/iterators"),u=function(){return this};n.exports=function(h,f,d,p){var g=f+" Iterator";return h.prototype=o(s,{next:a(+!p,d)}),l(h,g,!1,!0),c[g]=u,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/is-pure"),l=r("../internals/function-name"),c=r("../internals/is-callable"),u=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),f=r("../internals/object-set-prototype-of"),d=r("../internals/set-to-string-tag"),p=r("../internals/create-non-enumerable-property"),g=r("../internals/define-built-in"),m=r("../internals/well-known-symbol"),v=r("../internals/iterators"),y=r("../internals/iterators-core"),b=l.PROPER,x=l.CONFIGURABLE,_=y.IteratorPrototype,M=y.BUGGY_SAFARI_ITERATORS,U=m("iterator"),L=function(){return this};n.exports=function(O,H,G,I,R,S,j){u(G,H,I);var E,k,A,C=function(q){if(q===R&&Z)return Z;if(!M&&q&&q in P)return P[q];switch(q){case"keys":case"values":case"entries":return function(){return new G(this,q)}}return function(){return new G(this)}},D=H+" Iterator",z=!1,P=O.prototype,K=P[U]||P["@@iterator"]||R&&P[R],Z=!M&&K||C(R),te=H==="Array"&&P.entries||K;if(te&&(E=h(te.call(new O)))!==Object.prototype&&E.next&&(a||h(E)===_||(f?f(E,_):c(E[U])||g(E,U,L)),d(E,D,!0,!0),a&&(v[D]=L)),b&&R==="values"&&K&&K.name!=="values"&&(!a&&x?p(P,"name","values"):(z=!0,Z=function(){return o(K,this)})),R)if(k={values:C("values"),keys:S?Z:C("keys"),entries:C("entries")},j)for(A in k)(M||z||!(A in P))&&g(P,A,k[A]);else s({target:H,proto:!0,forced:M||z},k);return a&&!j||P[U]===Z||g(P,U,Z,{name:R}),v[H]=Z,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var s,o,a,l=r("../internals/fails"),c=r("../internals/is-callable"),u=r("../internals/is-object"),h=r("../internals/object-create"),f=r("../internals/object-get-prototype-of"),d=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),g=r("../internals/is-pure"),m=p("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(o=f(f(a)))!==Object.prototype&&(s=o):v=!0),!u(s)||l(function(){var y={};return s[m].call(y)!==y})?s={}:g&&(s=h(s)),c(s[m])||d(s,m,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var s=r("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),c=r("../internals/descriptors"),u=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),f=r("../internals/internal-state"),d=f.enforce,p=f.get,g=String,m=Object.defineProperty,v=s("".slice),y=s("".replace),b=s([].join),x=c&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),M=n.exports=function(U,L,O){v(g(L),0,7)==="Symbol("&&(L="["+y(g(L),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(L="get "+L),O&&O.setter&&(L="set "+L),(!l(U,"name")||u&&U.name!==L)&&(c?m(U,"name",{value:L,configurable:!0}):U.name=L),x&&O&&l(O,"arity")&&U.length!==O.arity&&m(U,"length",{value:O.arity});try{O&&l(O,"constructor")&&O.constructor?c&&m(U,"prototype",{writable:!1}):U.prototype&&(U.prototype=void 0)}catch{}var H=d(U);return l(H,"source")||(H.source=b(_,typeof L=="string"?L:"")),U};Function.prototype.toString=M(function(){return a(this)&&p(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?o:s)(l)}},{}],302:[function(r,n,i){var s,o,a,l,c,u=r("../internals/global"),h=r("../internals/function-bind-context"),f=r("../internals/object-get-own-property-descriptor").f,d=r("../internals/task").set,p=r("../internals/queue"),g=r("../internals/engine-is-ios"),m=r("../internals/engine-is-ios-pebble"),v=r("../internals/engine-is-webos-webkit"),y=r("../internals/engine-is-node"),b=u.MutationObserver||u.WebKitMutationObserver,x=u.document,_=u.process,M=u.Promise,U=f(u,"queueMicrotask"),L=U&&U.value;if(!L){var O=new p,H=function(){var G,I;for(y&&(G=_.domain)&&G.exit();I=O.get();)try{I()}catch(R){throw O.head&&s(),R}G&&G.enter()};g||y||v||!b||!x?!m&&M&&M.resolve?((l=M.resolve(void 0)).constructor=M,c=h(l.then,l),s=function(){c(H)}):y?s=function(){_.nextTick(H)}:(d=h(d,u),s=function(){d(H)}):(o=!0,a=x.createTextNode(""),new b(H).observe(a,{characterData:!0}),s=function(){a.data=o=!o}),L=function(G){O.head||s(),O.add(G)}}n.exports=L},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var s=r("../internals/a-callable"),o=TypeError,a=function(l){var c,u;this.promise=new l(function(h,f){if(c!==void 0||u!==void 0)throw new o("Bad Promise constructor");c=h,u=f}),this.resolve=s(c),this.reject=s(u)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var s=r("../internals/is-regexp"),o=TypeError;n.exports=function(a){if(s(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),l=r("../internals/fails"),c=r("../internals/object-keys"),u=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),f=r("../internals/to-object"),d=r("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=o([].concat);n.exports=!p||l(function(){if(s&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},b=Symbol("assign detection");return v[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){y[x]=x}),p({},v)[b]!==7||c(p({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var b=f(v),x=arguments.length,_=1,M=u.f,U=h.f;x>_;)for(var L,O=d(arguments[_++]),H=M?m(c(O),M(O)):c(O),G=H.length,I=0;G>I;)L=H[I++],s&&!a(U,O,L)||(b[L]=O[L]);return b}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var s,o=r("../internals/an-object"),a=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),c=r("../internals/hidden-keys"),u=r("../internals/html"),h=r("../internals/document-create-element"),f=r("../internals/shared-key"),d=f("IE_PROTO"),p=function(){},g=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(g("")),y.close();var b=y.parentWindow.Object;return y=null,b},v=function(){try{s=new ActiveXObject("htmlfile")}catch{}var y,b;v=typeof document<"u"?document.domain&&s?m(s):((b=h("iframe")).style.display="none",u.appendChild(b),b.src="javascript:",(y=b.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):m(s);for(var x=l.length;x--;)delete v.prototype[l[x]];return v()};c[d]=!0,n.exports=Object.create||function(y,b){var x;return y!==null?(p.prototype=o(y),x=new p,p.prototype=null,x[d]=y):x=v(),b===void 0?x:a.f(x,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),l=r("../internals/an-object"),c=r("../internals/to-indexed-object"),u=r("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(h,f){l(h);for(var d,p=c(f),g=u(f),m=g.length,v=0;m>v;)a.f(h,d=g[v++],p[d]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),c=r("../internals/to-property-key"),u=TypeError,h=Object.defineProperty,f=Object.getOwnPropertyDescriptor;i.f=s?a?function(d,p,g){if(l(d),p=c(p),l(g),typeof d=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=f(d,p);m&&m.writable&&(d[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return h(d,p,g)}:h:function(d,p,g){if(l(d),p=c(p),l(g),o)try{return h(d,p,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(d[p]=g.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),c=r("../internals/to-indexed-object"),u=r("../internals/to-property-key"),h=r("../internals/has-own-property"),f=r("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=s?d:function(p,g){if(p=c(p),g=u(g),f)try{return d(p,g)}catch{}if(h(p,g))return l(!o(a.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&s(u)==="Window"?function(h){try{return a(h)}catch{return l(c)}}(u):a(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/is-callable"),a=r("../internals/to-object"),l=r("../internals/shared-key"),c=r("../internals/correct-prototype-getter"),u=l("IE_PROTO"),h=Object,f=h.prototype;n.exports=c?h.getPrototypeOf:function(d){var p=a(d);if(s(p,u))return p[u];var g=p.constructor;return o(g)&&p instanceof g?g.prototype:p instanceof h?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,c=r("../internals/hidden-keys"),u=s([].push);n.exports=function(h,f){var d,p=a(h),g=0,m=[];for(d in p)!o(c,d)&&o(p,d)&&u(m,d);for(;f.length>g;)o(p,d=f[g++])&&(~l(m,d)||u(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!s.call({1:2},1);i.f=a?function(l){var c=o(this,l);return!!c&&c.enumerable}:s},{}],318:[function(r,n,i){var s=r("../internals/function-uncurry-this-accessor"),o=r("../internals/an-object"),a=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(h,f){return o(h),a(f),c?l(h,f):h.__proto__=f,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),c=r("../internals/object-keys"),u=r("../internals/to-indexed-object"),h=a(r("../internals/object-property-is-enumerable").f),f=a([].push),d=s&&o(function(){var g=Object.create(null);return g[2]=2,!h(g,2)}),p=function(g){return function(m){for(var v,y=u(m),b=c(y),x=d&&l(y)===null,_=b.length,M=0,U=[];_>M;)v=b[M++],s&&!(x?v in y:h(y,v))||f(U,g?[v,y[v]]:y[v]);return U}};n.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-callable"),a=r("../internals/is-object"),l=TypeError;n.exports=function(c,u){var h,f;if(u==="string"&&o(h=c.toString)&&!a(f=s(h,c))||o(h=c.valueOf)&&!a(f=s(h,c))||u!=="string"&&o(h=c.toString)&&!a(f=s(h,c)))return f;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/an-object"),u=o([].concat);n.exports=s("Reflect","ownKeys")||function(h){var f=a.f(c(h)),d=l.f;return d?u(f,d(h)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var s=r("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),l=r("../internals/is-forced"),c=r("../internals/inspect-source"),u=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),f=r("../internals/engine-is-deno"),d=r("../internals/is-pure"),p=r("../internals/engine-v8-version"),g=o&&o.prototype,m=u("species"),v=!1,y=a(s.PromiseRejectionEvent),b=l("Promise",function(){var x=c(o),_=x!==String(o);if(!_&&p===66||d&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(x)){var M=new o(function(L){L(1)}),U=function(L){L(function(){},function(){})};if((M.constructor={})[m]=U,!(v=M.then(function(){})instanceof U))return!0}return!_&&(h||f)&&!y});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var s=r("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/is-object"),a=r("../internals/new-promise-capability");n.exports=function(l,c){if(s(l),o(c)&&c.constructor===l)return c;var u=a.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var s=r("../internals/promise-native-constructor"),o=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!o(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var a={item:o,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(r,n,i){var s=r("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(a){if(s(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),c=a("species");n.exports=function(u){var h=s(u);l&&h&&!h[c]&&o(h,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var s=r("../internals/object-define-property").f,o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!o(l,a)&&s(l,a,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var s=r("../internals/shared"),o=r("../internals/uid"),a=s("keys");n.exports=function(l){return a[l]||(a[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/define-global-property"),a=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var s=r("../internals/is-pure"),o=r("../internals/shared-store");(n.exports=function(a,l){return o[a]||(o[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(c,u){var h,f=s(c).constructor;return f===void 0||a(h=s(f)[l])?u:o(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var s=r("../internals/engine-v8-version"),o=r("../internals/fails"),a=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var c=o("Symbol"),u=c&&c.prototype,h=u&&u.valueOf,f=a("toPrimitive");u&&!u[f]&&l(u,f,function(d){return s(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var s,o,a,l,c=r("../internals/global"),u=r("../internals/function-apply"),h=r("../internals/function-bind-context"),f=r("../internals/is-callable"),d=r("../internals/has-own-property"),p=r("../internals/fails"),g=r("../internals/html"),m=r("../internals/array-slice"),v=r("../internals/document-create-element"),y=r("../internals/validate-arguments-length"),b=r("../internals/engine-is-ios"),x=r("../internals/engine-is-node"),_=c.setImmediate,M=c.clearImmediate,U=c.process,L=c.Dispatch,O=c.Function,H=c.MessageChannel,G=c.String,I=0,R={};p(function(){s=c.location});var S=function(A){if(d(R,A)){var C=R[A];delete R[A],C()}},j=function(A){return function(){S(A)}},E=function(A){S(A.data)},k=function(A){c.postMessage(G(A),s.protocol+"//"+s.host)};_&&M||(_=function(A){y(arguments.length,1);var C=f(A)?A:O(A),D=m(arguments,1);return R[++I]=function(){u(C,void 0,D)},o(I),I},M=function(A){delete R[A]},x?o=function(A){U.nextTick(j(A))}:L&&L.now?o=function(A){L.now(j(A))}:H&&!b?(l=(a=new H).port2,a.port1.onmessage=E,o=h(l.postMessage,l)):c.addEventListener&&f(c.postMessage)&&!c.importScripts&&s&&s.protocol!=="file:"&&!p(k)?(o=k,c.addEventListener("message",E,!1)):o="onreadystatechange"in v("script")?function(A){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),S(A)}}:function(A){setTimeout(j(A),0)}),n.exports={set:_,clear:M}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;n.exports=function(l,c){var u=s(l);return u<0?o(u+c,0):a(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var s=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");n.exports=function(a){return s(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var s=r("../internals/math-trunc");n.exports=function(o){var a=+o;return a!=a||a===0?0:s(a)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(a){return a>0?o(s(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var s=r("../internals/require-object-coercible"),o=Object;n.exports=function(a){return o(s(a))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-object"),a=r("../internals/is-symbol"),l=r("../internals/get-method"),c=r("../internals/ordinary-to-primitive"),u=r("../internals/well-known-symbol"),h=TypeError,f=u("toPrimitive");n.exports=function(d,p){if(!o(d)||a(d))return d;var g,m=l(d,f);if(m){if(p===void 0&&(p="default"),g=s(m,d,p),!o(g)||a(g))return g;throw new h("Can't convert object to primitive value")}return p===void 0&&(p="number"),c(d,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var s=r("../internals/to-primitive"),o=r("../internals/is-symbol");n.exports=function(a){var l=s(a,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var s={};s[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var s=r("../internals/classof"),o=String;n.exports=function(a){if(s(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(r,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=0,a=Math.random(),l=s(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails");n.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var s=TypeError;n.exports=function(o,a){if(o<a)throw new s("Not enough arguments");return o}},{}],354:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=s.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var s=r("../internals/path"),o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(c){var u=s.Symbol||(s.Symbol={});o(u,c)||l(u,c,{value:a.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var s=r("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/shared"),a=r("../internals/has-own-property"),l=r("../internals/uid"),c=r("../internals/symbol-constructor-detection"),u=r("../internals/use-symbol-as-uid"),h=s.Symbol,f=o("wks"),d=u?h.for||h:h&&h.withoutSetter||l;n.exports=function(p){return a(f,p)||(f[p]=c&&a(h,p)?h[p]:d("Symbol."+p)),f[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-includes").includes,a=r("../internals/fails"),l=r("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),l=r("../internals/internal-state"),c=r("../internals/object-define-property").f,u=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),f=r("../internals/is-pure"),d=r("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,y){p(this,{type:"Array Iterator",target:s(v),index:0,kind:y})},function(){var v=g(this),y=v.target,b=v.kind,x=v.index++;if(!y||x>=y.length)return v.target=void 0,h(void 0,!0);switch(b){case"keys":return h(x,!1);case"values":return h(y[x],!1)}return h([x,y[x]],!1)},"values");var m=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!f&&d&&m.name!=="values")try{c(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/function-apply"),l=r("../internals/function-call"),c=r("../internals/function-uncurry-this"),u=r("../internals/fails"),h=r("../internals/is-callable"),f=r("../internals/is-symbol"),d=r("../internals/array-slice"),p=r("../internals/get-json-replacer-function"),g=r("../internals/symbol-constructor-detection"),m=String,v=o("JSON","stringify"),y=c(/./.exec),b=c("".charAt),x=c("".charCodeAt),_=c("".replace),M=c(1 .toString),U=/[\uD800-\uDFFF]/g,L=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,H=!g||u(function(){var S=o("Symbol")("stringify detection");return v([S])!=="[null]"||v({a:S})!=="{}"||v(Object(S))!=="{}"}),G=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),I=function(S,j){var E=d(arguments),k=p(j);if(h(k)||S!==void 0&&!f(S))return E[1]=function(A,C){if(h(k)&&(C=l(k,this,m(A),C)),!f(C))return C},a(v,null,E)},R=function(S,j,E){var k=b(E,j-1),A=b(E,j+1);return y(L,S)&&!y(O,A)||y(O,S)&&!y(L,k)?"\\u"+M(x(S,0),16):S};v&&s({target:"JSON",stat:!0,arity:3,forced:H||G},{stringify:function(S,j,E){var k=d(arguments),A=a(H?I:v,null,k);return G&&typeof A=="string"?_(A,U,R):A}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/to-object");s({target:"Object",stat:!0,forced:!o||a(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var h=l.f;return h?h(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/to-object"),a=r("../internals/object-keys");s({target:"Object",stat:!0,forced:r("../internals/fails")(function(){a(1)})},{keys:function(l){return a(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var f=this,d=l.f(f),p=d.resolve,g=d.reject,m=c(function(){var v=a(f.resolve),y=[],b=0,x=1;u(h,function(_){var M=b++,U=!1;x++,o(v,f,_).then(function(L){U||(U=!0,y[M]=L,--x||p(y))},g)}),--x||p(y)});return m.error&&g(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/define-built-in"),f=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(p){return this.then(void 0,p)}}),!o&&u(l)){var d=c("Promise").prototype.catch;f.catch!==d&&h(f,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var s,o,a,l=r("../internals/export"),c=r("../internals/is-pure"),u=r("../internals/engine-is-node"),h=r("../internals/global"),f=r("../internals/function-call"),d=r("../internals/define-built-in"),p=r("../internals/object-set-prototype-of"),g=r("../internals/set-to-string-tag"),m=r("../internals/set-species"),v=r("../internals/a-callable"),y=r("../internals/is-callable"),b=r("../internals/is-object"),x=r("../internals/an-instance"),_=r("../internals/species-constructor"),M=r("../internals/task").set,U=r("../internals/microtask"),L=r("../internals/host-report-errors"),O=r("../internals/perform"),H=r("../internals/queue"),G=r("../internals/internal-state"),I=r("../internals/promise-native-constructor"),R=r("../internals/promise-constructor-detection"),S=r("../internals/new-promise-capability"),j=R.CONSTRUCTOR,E=R.REJECTION_EVENT,k=R.SUBCLASSING,A=G.getterFor("Promise"),C=G.set,D=I&&I.prototype,z=I,P=D,K=h.TypeError,Z=h.document,te=h.process,q=S.f,$=q,N=!!(Z&&Z.createEvent&&h.dispatchEvent),T=function(Y){var ae;return!(!b(Y)||!y(ae=Y.then))&&ae},V=function(Y,ae){var ce,le,de,me=ae.value,ge=ae.state===1,ke=ge?Y.ok:Y.fail,Re=Y.resolve,je=Y.reject,We=Y.domain;try{ke?(ge||(ae.rejection===2&&ne(ae),ae.rejection=1),ke===!0?ce=me:(We&&We.enter(),ce=ke(me),We&&(We.exit(),de=!0)),ce===Y.promise?je(new K("Promise-chain cycle")):(le=T(ce))?f(le,ce,Re,je):Re(ce)):je(me)}catch(Je){We&&!de&&We.exit(),je(Je)}},J=function(Y,ae){Y.notified||(Y.notified=!0,U(function(){for(var ce,le=Y.reactions;ce=le.get();)V(ce,Y);Y.notified=!1,ae&&!Y.rejection&&se(Y)}))},re=function(Y,ae,ce){var le,de;N?((le=Z.createEvent("Event")).promise=ae,le.reason=ce,le.initEvent(Y,!1,!0),h.dispatchEvent(le)):le={promise:ae,reason:ce},!E&&(de=h["on"+Y])?de(le):Y==="unhandledrejection"&&L("Unhandled promise rejection",ce)},se=function(Y){f(M,h,function(){var ae,ce=Y.facade,le=Y.value;if(B(Y)&&(ae=O(function(){u?te.emit("unhandledRejection",le,ce):re("unhandledrejection",ce,le)}),Y.rejection=u||B(Y)?2:1,ae.error))throw ae.value})},B=function(Y){return Y.rejection!==1&&!Y.parent},ne=function(Y){f(M,h,function(){var ae=Y.facade;u?te.emit("rejectionHandled",ae):re("rejectionhandled",ae,Y.value)})},ee=function(Y,ae,ce){return function(le){Y(ae,le,ce)}},F=function(Y,ae,ce){Y.done||(Y.done=!0,ce&&(Y=ce),Y.value=ae,Y.state=2,J(Y,!0))},W=function(Y,ae,ce){if(!Y.done){Y.done=!0,ce&&(Y=ce);try{if(Y.facade===ae)throw new K("Promise can't be resolved itself");var le=T(ae);le?U(function(){var de={done:!1};try{f(le,ae,ee(W,de,Y),ee(F,de,Y))}catch(me){F(de,me,Y)}}):(Y.value=ae,Y.state=1,J(Y,!1))}catch(de){F({done:!1},de,Y)}}};if(j&&(P=(z=function(Y){x(this,P),v(Y),f(s,this);var ae=A(this);try{Y(ee(W,ae),ee(F,ae))}catch(ce){F(ae,ce)}}).prototype,(s=function(Y){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=d(P,"then",function(Y,ae){var ce=A(this),le=q(_(this,z));return ce.parent=!0,le.ok=!y(Y)||Y,le.fail=y(ae)&&ae,le.domain=u?te.domain:void 0,ce.state===0?ce.reactions.add(le):U(function(){V(le,ce)}),le.promise}),o=function(){var Y=new s,ae=A(Y);this.promise=Y,this.resolve=ee(W,ae),this.reject=ee(F,ae)},S.f=q=function(Y){return Y===z||Y===void 0?new o(Y):$(Y)},!c&&y(I)&&D!==Object.prototype)){a=D.then,k||d(D,"then",function(Y,ae){var ce=this;return new z(function(le,de){f(a,ce,le,de)}).then(Y,ae)},{unsafe:!0});try{delete D.constructor}catch{}p&&p(D,P)}l({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:z}),g(z,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),l=r("../internals/fails"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/species-constructor"),f=r("../internals/promise-resolve"),d=r("../internals/define-built-in"),p=a&&a.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!a&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=h(this,c("Promise")),y=u(m);return this.then(y?function(b){return f(v,m()).then(function(){return b})}:m,y?function(b){return f(v,m()).then(function(){throw b})}:m)}}),!o&&u(a)){var g=c("Promise").prototype.finally;p.finally!==g&&d(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var f=this,d=l.f(f),p=d.reject,g=c(function(){var m=a(f.resolve);u(h,function(v){o(m,f,v).then(d.resolve,p)})});return g.error&&p(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=a.f(this);return o(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),c=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-resolve"),h=o("Promise"),f=a&&!c;s({target:"Promise",stat:!0,forced:a||c},{resolve:function(d){return u(f&&this===h?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,h=o([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(f){for(var d,p=[],g=arguments.length,m=0;g>m;){if(d=+arguments[m++],a(d,1114111)!==d)throw new l(d+" is not a valid code point");p[m]=d<65536?c(d):c(55296+((d-=65536)>>10),d%1024+56320)}return h(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),c=r("../internals/to-string"),u=r("../internals/correct-is-regexp-logic"),h=o("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(f){return!!~h(c(l(this)),c(a(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),c=r("../internals/is-pure"),u=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),f=r("../internals/fails"),d=r("../internals/has-own-property"),p=r("../internals/object-is-prototype-of"),g=r("../internals/an-object"),m=r("../internals/to-indexed-object"),v=r("../internals/to-property-key"),y=r("../internals/to-string"),b=r("../internals/create-property-descriptor"),x=r("../internals/object-create"),_=r("../internals/object-keys"),M=r("../internals/object-get-own-property-names"),U=r("../internals/object-get-own-property-names-external"),L=r("../internals/object-get-own-property-symbols"),O=r("../internals/object-get-own-property-descriptor"),H=r("../internals/object-define-property"),G=r("../internals/object-define-properties"),I=r("../internals/object-property-is-enumerable"),R=r("../internals/define-built-in"),S=r("../internals/define-built-in-accessor"),j=r("../internals/shared"),E=r("../internals/shared-key"),k=r("../internals/hidden-keys"),A=r("../internals/uid"),C=r("../internals/well-known-symbol"),D=r("../internals/well-known-symbol-wrapped"),z=r("../internals/well-known-symbol-define"),P=r("../internals/symbol-define-to-primitive"),K=r("../internals/set-to-string-tag"),Z=r("../internals/internal-state"),te=r("../internals/array-iteration").forEach,q=E("hidden"),$=Z.set,N=Z.getterFor("Symbol"),T=Object.prototype,V=o.Symbol,J=V&&V.prototype,re=o.RangeError,se=o.TypeError,B=o.QObject,ne=O.f,ee=H.f,F=U.f,W=I.f,Y=l([].push),ae=j("symbols"),ce=j("op-symbols"),le=j("wks"),de=!B||!B.prototype||!B.prototype.findChild,me=function($e,Ue,Ke){var rt=ne(T,Ue);rt&&delete T[Ue],ee($e,Ue,Ke),rt&&$e!==T&&ee(T,Ue,rt)},ge=u&&f(function(){return x(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a!==7})?me:ee,ke=function($e,Ue){var Ke=ae[$e]=x(J);return $(Ke,{type:"Symbol",tag:$e,description:Ue}),u||(Ke.description=Ue),Ke},Re=function($e,Ue,Ke){$e===T&&Re(ce,Ue,Ke),g($e);var rt=v(Ue);return g(Ke),d(ae,rt)?(Ke.enumerable?(d($e,q)&&$e[q][rt]&&($e[q][rt]=!1),Ke=x(Ke,{enumerable:b(0,!1)})):(d($e,q)||ee($e,q,b(1,{})),$e[q][rt]=!0),ge($e,rt,Ke)):ee($e,rt,Ke)},je=function($e,Ue){g($e);var Ke=m(Ue),rt=_(Ke).concat(pt(Ke));return te(rt,function(Ze){u&&!a(We,Ke,Ze)||Re($e,Ze,Ke[Ze])}),$e},We=function($e){var Ue=v($e),Ke=a(W,this,Ue);return!(this===T&&d(ae,Ue)&&!d(ce,Ue))&&(!(Ke||!d(this,Ue)||!d(ae,Ue)||d(this,q)&&this[q][Ue])||Ke)},Je=function($e,Ue){var Ke=m($e),rt=v(Ue);if(Ke!==T||!d(ae,rt)||d(ce,rt)){var Ze=ne(Ke,rt);return!Ze||!d(ae,rt)||d(Ke,q)&&Ke[q][rt]||(Ze.enumerable=!0),Ze}},qe=function($e){var Ue=F(m($e)),Ke=[];return te(Ue,function(rt){d(ae,rt)||d(k,rt)||Y(Ke,rt)}),Ke},pt=function($e){var Ue=$e===T,Ke=F(Ue?ce:m($e)),rt=[];return te(Ke,function(Ze){!d(ae,Ze)||Ue&&!d(T,Ze)||Y(rt,ae[Ze])}),rt};h||(R(J=(V=function(){if(p(J,this))throw new se("Symbol is not a constructor");var $e=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Ue=A($e),Ke=function(rt){this===T&&a(Ke,ce,rt),d(this,q)&&d(this[q],Ue)&&(this[q][Ue]=!1);var Ze=b(1,rt);try{ge(this,Ue,Ze)}catch(Et){if(!(Et instanceof re))throw Et;me(this,Ue,Ze)}};return u&&de&&ge(T,Ue,{configurable:!0,set:Ke}),ke(Ue,$e)}).prototype,"toString",function(){return N(this).tag}),R(V,"withoutSetter",function($e){return ke(A($e),$e)}),I.f=We,H.f=Re,G.f=je,O.f=Je,M.f=U.f=qe,L.f=pt,D.f=function($e){return ke(C($e),$e)},u&&(S(J,"description",{configurable:!0,get:function(){return N(this).description}}),c||R(T,"propertyIsEnumerable",We,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:V}),te(_(le),function($e){z($e)}),s({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),s({target:"Object",stat:!0,forced:!h,sham:!u},{create:function($e,Ue){return Ue===void 0?x($e):je(x($e),Ue)},defineProperty:Re,defineProperties:je,getOwnPropertyDescriptor:Je}),s({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:qe}),P(),K(V,"Symbol"),k[q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/has-own-property"),l=r("../internals/to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("string-to-symbol-registry"),f=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(d){var p=l(d);if(a(h,p))return h[p];var g=o("Symbol")(p);return h[p]=g,f[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/has-own-property"),a=r("../internals/is-symbol"),l=r("../internals/try-to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(f){if(!a(f))throw new TypeError(l(f)+" is not a symbol");if(o(h,f))return h[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(s){(function(){var o=r("elliptic"),a=r("bn.js");n.exports=function(h){return new c(h)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(h){this.curveType=l[h],this.curveType||(this.curveType={name:h}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(h,f,d){Array.isArray(h)||(h=h.toArray());var p=new s(h);if(d&&p.length<d){var g=new s(d-p.length);g.fill(0),p=s.concat([g,p])}return f?p.toString(f):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(h,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,f)},c.prototype.computeSecret=function(h,f,d){return f=f||"utf8",s.isBuffer(h)||(h=new s(h,f)),u(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},c.prototype.getPublicKey=function(h,f){var d=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,h)},c.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},c.prototype.setPublicKey=function(h,f){return f=f||"utf8",s.isBuffer(h)||(h=new s(h,f)),this.keys._importPublic(h),this},c.prototype.setPrivateKey=function(h,f){f=f||"utf8",s.isBuffer(h)||(h=new s(h,f));var d=new a(h);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var s=r("inherits"),o=r("md5.js"),a=r("ripemd160"),l=r("sha.js"),c=r("cipher-base");function u(h){c.call(this,"digest"),this._hash=h}s(u,c),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new o:h==="rmd160"||h==="ripemd160"?new a:new u(l(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var s=r("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(r,n,i){var s=r("inherits"),o=r("./legacy"),a=r("cipher-base"),l=r("safe-buffer").Buffer,c=r("create-hash/md5"),u=r("ripemd160"),h=r("sha.js"),f=l.alloc(128);function d(p,g){a.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new u:h(p)).update(g).digest():g.length<m&&(g=l.concat([g,f],m));for(var v=this._ipad=l.allocUnsafe(m),y=this._opad=l.allocUnsafe(m),b=0;b<m;b++)v[b]=54^g[b],y[b]=92^g[b];this._hash=p==="rmd160"?new u:h(p),this._hash.update(v)}s(d,a),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new u:h(this._alg)).update(this._opad).update(p).digest()},n.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new d("rmd160",g):p==="md5"?new o(c,g):new d(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var s=r("inherits"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=o.alloc(128);function c(u,h){a.call(this,"digest"),typeof h=="string"&&(h=o.from(h)),this._alg=u,this._key=h,h.length>64?h=u(h):h.length<64&&(h=o.concat([h,l],64));for(var f=this._ipad=o.allocUnsafe(64),d=this._opad=o.allocUnsafe(64),p=0;p<64;p++)f[p]=54^h[p],d[p]=92^h[p];this._hash=[f]}s(c,a),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var s=r("browserify-sign/algos"),o=Object.keys(s),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return a};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var c=r("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=r("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var h=r("browserify-sign");i.createSign=h.createSign,i.Sign=h.Sign,i.createVerify=h.createVerify,i.Verify=h.Verify,i.createECDH=r("create-ecdh");var f=r("public-encrypt");i.publicEncrypt=f.publicEncrypt,i.privateEncrypt=f.privateEncrypt,i.publicDecrypt=f.publicDecrypt,i.privateDecrypt=f.privateDecrypt;var d=r("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,function(){var s=6e4,o=36e5,a="millisecond",l="second",c="minute",u="hour",h="day",f="week",d="month",p="quarter",g="year",m="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var k=["th","st","nd","rd"],A=E%100;return"["+E+(k[(A-20)%10]||k[A]||k[0])+"]"}},_=function(E,k,A){var C=String(E);return!C||C.length>=k?E:""+Array(k+1-C.length).join(A)+E},M={s:_,z:function(E){var k=-E.utcOffset(),A=Math.abs(k),C=Math.floor(A/60),D=A%60;return(k<=0?"+":"-")+_(C,2,"0")+":"+_(D,2,"0")},m:function E(k,A){if(k.date()<A.date())return-E(A,k);var C=12*(A.year()-k.year())+(A.month()-k.month()),D=k.clone().add(C,d),z=A-D<0,P=k.clone().add(C+(z?-1:1),d);return+(-(C+(A-D)/(z?D-P:P-D))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:d,y:g,w:f,d:h,D:m,h:u,m:c,s:l,ms:a,Q:p}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},U="en",L={};L[U]=x;var O="$isDayjsObject",H=function(E){return E instanceof S||!(!E||!E[O])},G=function E(k,A,C){var D;if(!k)return U;if(typeof k=="string"){var z=k.toLowerCase();L[z]&&(D=z),A&&(L[z]=A,D=z);var P=k.split("-");if(!D&&P.length>1)return E(P[0])}else{var K=k.name;L[K]=k,D=K}return!C&&D&&(U=D),D||!C&&U},I=function(E,k){if(H(E))return E.clone();var A=typeof k=="object"?k:{};return A.date=E,A.args=arguments,new S(A)},R=M;R.l=G,R.i=H,R.w=function(E,k){return I(E,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var S=function(){function E(A){this.$L=G(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[O]=!0}var k=E.prototype;return k.parse=function(A){this.$d=function(C){var D=C.date,z=C.utc;if(D===null)return new Date(NaN);if(R.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var P=D.match(y);if(P){var K=P[2]-1||0,Z=(P[7]||"0").substring(0,3);return z?new Date(Date.UTC(P[1],K,P[3]||1,P[4]||0,P[5]||0,P[6]||0,Z)):new Date(P[1],K,P[3]||1,P[4]||0,P[5]||0,P[6]||0,Z)}}return new Date(D)}(A),this.init()},k.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},k.$utils=function(){return R},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(A,C){var D=I(A);return this.startOf(C)<=D&&D<=this.endOf(C)},k.isAfter=function(A,C){return I(A)<this.startOf(C)},k.isBefore=function(A,C){return this.endOf(C)<I(A)},k.$g=function(A,C,D){return R.u(A)?this[C]:this.set(D,A)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(A,C){var D=this,z=!!R.u(C)||C,P=R.p(A),K=function(J,re){var se=R.w(D.$u?Date.UTC(D.$y,re,J):new Date(D.$y,re,J),D);return z?se:se.endOf(h)},Z=function(J,re){return R.w(D.toDate()[J].apply(D.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(re)),D)},te=this.$W,q=this.$M,$=this.$D,N="set"+(this.$u?"UTC":"");switch(P){case g:return z?K(1,0):K(31,11);case d:return z?K(1,q):K(0,q+1);case f:var T=this.$locale().weekStart||0,V=(te<T?te+7:te)-T;return K(z?$-V:$+(6-V),q);case h:case m:return Z(N+"Hours",0);case u:return Z(N+"Minutes",1);case c:return Z(N+"Seconds",2);case l:return Z(N+"Milliseconds",3);default:return this.clone()}},k.endOf=function(A){return this.startOf(A,!1)},k.$set=function(A,C){var D,z=R.p(A),P="set"+(this.$u?"UTC":""),K=(D={},D[h]=P+"Date",D[m]=P+"Date",D[d]=P+"Month",D[g]=P+"FullYear",D[u]=P+"Hours",D[c]=P+"Minutes",D[l]=P+"Seconds",D[a]=P+"Milliseconds",D)[z],Z=z===h?this.$D+(C-this.$W):C;if(z===d||z===g){var te=this.clone().set(m,1);te.$d[K](Z),te.init(),this.$d=te.set(m,Math.min(this.$D,te.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},k.set=function(A,C){return this.clone().$set(A,C)},k.get=function(A){return this[R.p(A)]()},k.add=function(A,C){var D,z=this;A=Number(A);var P=R.p(C),K=function(q){var $=I(z);return R.w($.date($.date()+Math.round(q*A)),z)};if(P===d)return this.set(d,this.$M+A);if(P===g)return this.set(g,this.$y+A);if(P===h)return K(1);if(P===f)return K(7);var Z=(D={},D[c]=s,D[u]=o,D[l]=1e3,D)[P]||1,te=this.$d.getTime()+A*Z;return R.w(te,this)},k.subtract=function(A,C){return this.add(-1*A,C)},k.format=function(A){var C=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var z=A||"YYYY-MM-DDTHH:mm:ssZ",P=R.z(this),K=this.$H,Z=this.$m,te=this.$M,q=D.weekdays,$=D.months,N=D.meridiem,T=function(re,se,B,ne){return re&&(re[se]||re(C,z))||B[se].slice(0,ne)},V=function(re){return R.s(K%12||12,re,"0")},J=N||function(re,se,B){var ne=re<12?"AM":"PM";return B?ne.toLowerCase():ne};return z.replace(b,function(re,se){return se||function(B){switch(B){case"YY":return String(C.$y).slice(-2);case"YYYY":return R.s(C.$y,4,"0");case"M":return te+1;case"MM":return R.s(te+1,2,"0");case"MMM":return T(D.monthsShort,te,$,3);case"MMMM":return T($,te);case"D":return C.$D;case"DD":return R.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return T(D.weekdaysMin,C.$W,q,2);case"ddd":return T(D.weekdaysShort,C.$W,q,3);case"dddd":return q[C.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return J(K,Z,!0);case"A":return J(K,Z,!1);case"m":return String(Z);case"mm":return R.s(Z,2,"0");case"s":return String(C.$s);case"ss":return R.s(C.$s,2,"0");case"SSS":return R.s(C.$ms,3,"0");case"Z":return P}return null}(re)||P.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(A,C,D){var z,P=this,K=R.p(C),Z=I(A),te=(Z.utcOffset()-this.utcOffset())*s,q=this-Z,$=function(){return R.m(P,Z)};switch(K){case g:z=$()/12;break;case d:z=$();break;case p:z=$()/3;break;case f:z=(q-te)/6048e5;break;case h:z=(q-te)/864e5;break;case u:z=q/o;break;case c:z=q/s;break;case l:z=q/1e3;break;default:z=q}return D?z:R.a(z)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return L[this.$L]},k.locale=function(A,C){if(!A)return this.$L;var D=this.clone(),z=G(A,C,!0);return z&&(D.$L=z),D},k.clone=function(){return R.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},E}(),j=S.prototype;return I.prototype=j,[["$ms",a],["$s",l],["$m",c],["$H",u],["$W",h],["$M",d],["$y",g],["$D",m]].forEach(function(E){j[E[1]]=function(k){return this.$g(k,E[0],E[1])}}),I.extend=function(E,k){return E.$i||(E(k,S,I),E.$i=!0),I},I.locale=G,I.isDayjs=H,I.unix=function(E){return I(1e3*E)},I.en=L[U],I.Ls=L,I.p={},I})},{}],392:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},h=function(y){return(y=+y)+(y>68?1900:2e3)},f=function(y){return function(b){this[y]=+b}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),_=60*x[1]+(+x[2]||0);return _===0?0:x[0]==="+"?-_:_}(y)}],p=function(y){var b=u[y];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(y,b){var x,_=u.meridiem;if(_){for(var M=1;M<=24;M+=1)if(y.indexOf(_(M,0,b))>-1){x=M>12;break}}else x=y===(b?"pm":"PM");return x},m={A:[c,function(y){this.afternoon=g(y,!1)}],a:[c,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[a,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,f("seconds")],ss:[l,f("seconds")],m:[l,f("minutes")],mm:[l,f("minutes")],H:[l,f("hours")],h:[l,f("hours")],HH:[l,f("hours")],hh:[l,f("hours")],D:[l,f("day")],DD:[a,f("day")],Do:[c,function(y){var b=u.ordinal,x=y.match(/\d+/);if(this.day=x[0],b)for(var _=1;_<=31;_+=1)b(_).replace(/\[|\]/g,"")===y&&(this.day=_)}],M:[l,f("month")],MM:[a,f("month")],MMM:[c,function(y){var b=p("months"),x=(p("monthsShort")||b.map(function(_){return _.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[c,function(y){var b=p("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,f("year")],YY:[a,function(y){this.year=h(y)}],YYYY:[/\d{4}/,f("year")],Z:d,ZZ:d};function v(y){var b,x;b=y,x=u&&u.formats;for(var _=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,R,S){var j=S&&S.toUpperCase();return R||x[S]||s[S]||x[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,k,A){return k||A.slice(1)})})).match(o),M=_.length,U=0;U<M;U+=1){var L=_[U],O=m[L],H=O&&O[0],G=O&&O[1];_[U]=G?{regex:H,parser:G}:L.replace(/^\[|\]$/g,"")}return function(I){for(var R={},S=0,j=0;S<M;S+=1){var E=_[S];if(typeof E=="string")j+=E.length;else{var k=E.regex,A=E.parser,C=I.slice(j),D=k.exec(C)[0];A.call(R,D),I=I.replace(D,"")}}return function(z){var P=z.afternoon;if(P!==void 0){var K=z.hours;P?K<12&&(z.hours+=12):K===12&&(z.hours=0),delete z.afternoon}}(R),R}}return function(y,b,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(h=y.parseTwoDigitYear);var _=b.prototype,M=_.parse;_.parse=function(U){var L=U.date,O=U.utc,H=U.args;this.$u=O;var G=H[1];if(typeof G=="string"){var I=H[2]===!0,R=H[3]===!0,S=I||R,j=H[2];R&&(j=H[2]),u=this.$locale(),!I&&j&&(u=x.Ls[j]),this.$d=function(C,D,z){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*C);var P=v(D)(C),K=P.year,Z=P.month,te=P.day,q=P.hours,$=P.minutes,N=P.seconds,T=P.milliseconds,V=P.zone,J=new Date,re=te||(K||Z?1:J.getDate()),se=K||J.getFullYear(),B=0;K&&!Z||(B=Z>0?Z-1:J.getMonth());var ne=q||0,ee=$||0,F=N||0,W=T||0;return V?new Date(Date.UTC(se,B,re,ne,ee,F,W+60*V.offset*1e3)):z?new Date(Date.UTC(se,B,re,ne,ee,F,W)):new Date(se,B,re,ne,ee,F,W)}catch{return new Date("")}}(L,G,O),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),S&&L!=this.format(G)&&(this.$d=new Date("")),u={}}else if(G instanceof Array)for(var E=G.length,k=1;k<=E;k+=1){H[1]=G[k-1];var A=x.apply(this,H);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}k===E&&(this.$d=new Date(""))}else M.call(this,U)}}})},{}],393:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,c,u){var h=c.prototype;u.utc=function(y){var b={date:y,utc:!0,args:arguments};return new c(b)},h.utc=function(y){var b=u(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),s):b},h.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=h.parse;h.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),f.call(this,y)};var d=h.init;h.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var p=h.utcOffset;h.utcOffset=function(y,b){var x=this.$utils().u;if(x(y))return this.$u?0:x(this.$offset)?p.call(this):this.$offset;if(typeof y=="string"&&(y=function(L){L===void 0&&(L="");var O=L.match(o);if(!O)return null;var H=(""+O[0]).match(a)||["-",0,0],G=H[0],I=60*+H[1]+ +H[2];return I===0?0:G==="+"?I:-I}(y))===null)return this;var _=Math.abs(y)<=16?60*y:y,M=this;if(b)return M.$offset=_,M.$u=y===0,M;if(y!==0){var U=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(_+U,s)).$offset=_,M.$x.$localOffset=U}else M=this.utc();return M};var g=h.format;h.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,b)},h.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var m=h.toDate;h.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=h.diff;h.diff=function(y,b,x){if(y&&this.$u===y.$u)return v.call(this,y,b,x);var _=this.local(),M=u(y).local();return v.call(_,M,b,x)}}})},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a={};function l(c){s.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}i.instantiate=function(c){function u(p){c.call(this,p),this._cbcInit()}o(u,c);for(var h=Object.keys(a),f=0;f<h.length;f++){var d=h[f];u.prototype[d]=a[d]}return u.create=function(p){return new u(p)},u},a._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},a._update=function(c,u,h,f){var d=this._cbcState,p=this.constructor.super_.prototype,g=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=c[u+m];for(p._update.call(this,g,0,h,f),m=0;m<this.blockSize;m++)g[m]=h[f+m]}else{for(p._update.call(this,c,u,h,f),m=0;m<this.blockSize;m++)h[f+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=c[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var s=r("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,l){for(var c=Math.min(this.buffer.length-this.bufferOff,a.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=a[l+u];return this.bufferOff+=c,c},o.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var l=0,c=0,u=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var f=a.length-(a.length-l)%this.blockSize;l<f;l+=this.blockSize)this._update(a,l,h,c),c+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return h},o.prototype._updateDecrypt=function(a){for(var l=0,c=0,u=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(a,l),c+=this._flushBuffer(h,c);return l+=this._buffer(a,l),h},o.prototype.final=function(a){var l,c;return a&&(l=this.update(a)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},o.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./utils"),l=r("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(f){l.call(this,f);var d=new c;this._desState=d,this.deriveKeys(d,f.key)}o(u,l),n.exports=u,u.create=function(f){return new u(f)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(f,d){f.keys=new Array(32),s.equal(d.length,this.blockSize,"Invalid key length");var p=a.readUInt32BE(d,0),g=a.readUInt32BE(d,4);a.pc1(p,g,f.tmp,0),p=f.tmp[0],g=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=h[m>>>1];p=a.r28shl(p,v),g=a.r28shl(g,v),a.pc2(p,g,f.keys,m)}},u.prototype._update=function(f,d,p,g){var m=this._desState,v=a.readUInt32BE(f,d),y=a.readUInt32BE(f,d+4);a.ip(v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,y,m.tmp,0):this._decrypt(m,v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],a.writeUInt32BE(p,v,g),a.writeUInt32BE(p,y,g+4)},u.prototype._pad=function(f,d){if(this.padding===!1)return!1;for(var p=f.length-d,g=d;g<f.length;g++)f[g]=p;return!0},u.prototype._unpad=function(f){if(this.padding===!1)return f;for(var d=f[f.length-1],p=f.length-d;p<f.length;p++)s.equal(f[p],d);return f.slice(0,f.length-d)},u.prototype._encrypt=function(f,d,p,g,m){for(var v=d,y=p,b=0;b<f.keys.length;b+=2){var x=f.keys[b],_=f.keys[b+1];a.expand(y,f.tmp,0),x^=f.tmp[0],_^=f.tmp[1];var M=a.substitute(x,_),U=y;y=(v^a.permute(M))>>>0,v=U}a.rip(y,v,g,m)},u.prototype._decrypt=function(f,d,p,g,m){for(var v=p,y=d,b=f.keys.length-2;b>=0;b-=2){var x=f.keys[b],_=f.keys[b+1];a.expand(v,f.tmp,0),x^=f.tmp[0],_^=f.tmp[1];var M=a.substitute(x,_),U=v;v=(y^a.permute(M))>>>0,y=U}a.rip(v,y,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./cipher"),l=r("./des");function c(h,f){s.equal(f.length,24,"Invalid key length");var d=f.slice(0,8),p=f.slice(8,16),g=f.slice(16,24);this.ciphers=h==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:d})]}function u(h){a.call(this,h);var f=new c(this.type,this.options.key);this._edeState=f}o(u,a),n.exports=u,u.create=function(h){return new u(h)},u.prototype._update=function(h,f,d,p){var g=this._edeState;g.ciphers[0]._update(h,f,d,p),g.ciphers[1]._update(d,p,d,p),g.ciphers[2]._update(d,p,d,p)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},i.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},i.ip=function(l,c,u,h){for(var f=0,d=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)f<<=1,f|=c>>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)d<<=1,d|=c>>>g+p&1;for(g=1;g<=25;g+=8)d<<=1,d|=l>>>g+p&1}u[h+0]=f>>>0,u[h+1]=d>>>0},i.rip=function(l,c,u,h){for(var f=0,d=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)f<<=1,f|=c>>>g+p&1,f<<=1,f|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)d<<=1,d|=c>>>g+p&1,d<<=1,d|=l>>>g+p&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.pc1=function(l,c,u,h){for(var f=0,d=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)f<<=1,f|=c>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1}for(g=0;g<=24;g+=8)f<<=1,f|=c>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)d<<=1,d|=c>>g+p&1;for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1}for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,c,u,h){for(var f=0,d=0,p=s.length>>>1,g=0;g<p;g++)f<<=1,f|=l>>>s[g]&1;for(g=p;g<s.length;g++)d<<=1,d|=c>>>s[g]&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.expand=function(l,c,u){var h=0,f=0;h=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)h<<=6,h|=l>>>d&63;for(d=11;d>=3;d-=4)f|=l>>>d&63,f<<=6;f|=(31&l)<<1|l>>>31,c[u+0]=h>>>0,c[u+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,c){for(var u=0,h=0;h<4;h++)u<<=4,u|=o[64*h+(l>>>18-6*h&63)];for(h=0;h<4;h++)u<<=4,u|=o[256+64*h+(c>>>18-6*h&63)];return u>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var c=0,u=0;u<a.length;u++)c<<=1,c|=l>>>a[u]&1;return c>>>0},i.padSplit=function(l,c,u){for(var h=l.toString(2);h.length<c;)h="0"+h;for(var f=[],d=0;d<c;d+=u)f.push(h.slice(d,d+u));return f.join(" ")}},{}],400:[function(r,n,i){(function(s){(function(){var o=r("./lib/generatePrime"),a=r("./lib/primes.json"),l=r("./lib/dh"),c={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var h=new s(a[u].prime,"hex"),f=new s(a[u].gen,"hex");return new l(h,f)},i.createDiffieHellman=i.DiffieHellman=function u(h,f,d,p){return s.isBuffer(f)||c[f]===void 0?u(h,"binary",f,d):(f=f||"binary",p=p||"binary",d=d||new s([2]),s.isBuffer(d)||(d=new s(d,p)),typeof h=="number"?new l(o(h,d),d,!0):(s.isBuffer(h)||(h=new s(h,f)),new l(h,d,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=new(r("miller-rabin")),l=new o(24),c=new o(11),u=new o(10),h=new o(3),f=new o(7),d=r("./generatePrime"),p=r("randombytes");function g(x,_){return _=_||"utf8",s.isBuffer(x)||(x=new s(x,_)),this._pub=new o(x),this}function m(x,_){return _=_||"utf8",s.isBuffer(x)||(x=new s(x,_)),this._priv=new o(x),this}n.exports=y;var v={};function y(x,_,M){this.setGenerator(_),this.__prime=new o(x),this._prime=o.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,M?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function b(x,_){var M=new s(x.toArray());return _?M.toString(_):M}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,_){var M=_.toString("hex"),U=[M,x.toString(16)].join("_");if(U in v)return v[U];var L,O=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!a.test(x))return O+=1,O+=M==="02"||M==="05"?8:4,v[U]=O,O;switch(a.test(x.shrn(1))||(O+=2),M){case"02":x.mod(l).cmp(c)&&(O+=8);break;case"05":(L=x.mod(u)).cmp(h)&&L.cmp(f)&&(O+=8);break;default:O+=4}return v[U]=O,O}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new o(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(x){var _=(x=(x=new o(x)).toRed(this._prime)).redPow(this._priv).fromRed(),M=new s(_.toArray()),U=this.getPrime();if(M.length<U.length){var L=new s(U.length-M.length);L.fill(0),M=s.concat([L,M])}return M},y.prototype.getPublicKey=function(x){return b(this._pub,x)},y.prototype.getPrivateKey=function(x){return b(this._priv,x)},y.prototype.getPrime=function(x){return b(this.__prime,x)},y.prototype.getGenerator=function(x){return b(this._gen,x)},y.prototype.setGenerator=function(x,_){return _=_||"utf8",s.isBuffer(x)||(x=new s(x,_)),this.__gen=x,this._gen=new o(x),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var s=r("randombytes");n.exports=x,x.simpleSieve=y,x.fermatTest=b;var o=r("bn.js"),a=new o(24),l=new(r("miller-rabin")),c=new o(1),u=new o(2),h=new o(5),f=(new o(16),new o(8),new o(10)),d=new o(3),p=(new o(7),new o(11)),g=new o(4),m=(new o(12),null);function v(){if(m!==null)return m;var _=[];_[0]=2;for(var M=1,U=3;U<1048576;U+=2){for(var L=Math.ceil(Math.sqrt(U)),O=0;O<M&&_[O]<=L&&U%_[O]!=0;O++);M!==O&&_[O]<=L||(_[M++]=U)}return m=_,_}function y(_){for(var M=v(),U=0;U<M.length;U++)if(_.modn(M[U])===0)return _.cmpn(M[U])===0;return!0}function b(_){var M=o.mont(_);return u.toRed(M).redPow(_.subn(1)).fromRed().cmpn(1)===0}function x(_,M){if(_<16)return new o(M===2||M===5?[140,123]:[140,39]);var U,L;for(M=new o(M);;){for(U=new o(s(Math.ceil(_/8)));U.bitLength()>_;)U.ishrn(1);if(U.isEven()&&U.iadd(c),U.testn(1)||U.iadd(u),M.cmp(u)){if(!M.cmp(h))for(;U.mod(f).cmp(d);)U.iadd(g)}else for(;U.mod(a).cmp(p);)U.iadd(g);if(y(L=U.shrn(1))&&y(U)&&b(L)&&b(U)&&l.test(L)&&l.test(U))return U}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var s=i;s.version=r("../package.json").version,s.utils=r("./elliptic/utils"),s.rand=r("brorand"),s.curve=r("./elliptic/curve"),s.curves=r("./elliptic/curves"),s.ec=r("./elliptic/ec"),s.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.getNAF,l=o.getJSF,c=o.assert;function u(f,d){this.type=f,this.p=new s(d.p,16),this.red=d.prime?s.red(d.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=d.n&&new s(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(f,d){this.curve=f,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(f,d){c(f.precomputed);var p=f._getDoubles(),g=a(d,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var v,y,b=[];for(v=0;v<g.length;v+=p.step){y=0;for(var x=v+p.step-1;x>=v;x--)y=(y<<1)+g[x];b.push(y)}for(var _=this.jpoint(null,null,null),M=this.jpoint(null,null,null),U=m;U>0;U--){for(v=0;v<b.length;v++)(y=b[v])===U?M=M.mixedAdd(p.points[v]):y===-U&&(M=M.mixedAdd(p.points[v].neg()));_=_.add(M)}return _.toP()},u.prototype._wnafMul=function(f,d){var p=4,g=f._getNAFPoints(p);p=g.wnd;for(var m=g.points,v=a(d,p,this._bitLength),y=this.jpoint(null,null,null),b=v.length-1;b>=0;b--){for(var x=0;b>=0&&v[b]===0;b--)x++;if(b>=0&&x++,y=y.dblp(x),b<0)break;var _=v[b];c(_!==0),y=f.type==="affine"?_>0?y.mixedAdd(m[_-1>>1]):y.mixedAdd(m[-_-1>>1].neg()):_>0?y.add(m[_-1>>1]):y.add(m[-_-1>>1].neg())}return f.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(f,d,p,g,m){var v,y,b,x=this._wnafT1,_=this._wnafT2,M=this._wnafT3,U=0;for(v=0;v<g;v++){var L=(b=d[v])._getNAFPoints(f);x[v]=L.wnd,_[v]=L.points}for(v=g-1;v>=1;v-=2){var O=v-1,H=v;if(x[O]===1&&x[H]===1){var G=[d[O],null,null,d[H]];d[O].y.cmp(d[H].y)===0?(G[1]=d[O].add(d[H]),G[2]=d[O].toJ().mixedAdd(d[H].neg())):d[O].y.cmp(d[H].y.redNeg())===0?(G[1]=d[O].toJ().mixedAdd(d[H]),G[2]=d[O].add(d[H].neg())):(G[1]=d[O].toJ().mixedAdd(d[H]),G[2]=d[O].toJ().mixedAdd(d[H].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],R=l(p[O],p[H]);for(U=Math.max(R[0].length,U),M[O]=new Array(U),M[H]=new Array(U),y=0;y<U;y++){var S=0|R[0][y],j=0|R[1][y];M[O][y]=I[3*(S+1)+(j+1)],M[H][y]=0,_[O]=G}}else M[O]=a(p[O],x[O],this._bitLength),M[H]=a(p[H],x[H],this._bitLength),U=Math.max(M[O].length,U),U=Math.max(M[H].length,U)}var E=this.jpoint(null,null,null),k=this._wnafT4;for(v=U;v>=0;v--){for(var A=0;v>=0;){var C=!0;for(y=0;y<g;y++)k[y]=0|M[y][v],k[y]!==0&&(C=!1);if(!C)break;A++,v--}if(v>=0&&A++,E=E.dblp(A),v<0)break;for(y=0;y<g;y++){var D=k[y];D!==0&&(D>0?b=_[y][D-1>>1]:D<0&&(b=_[y][-D-1>>1].neg()),E=b.type==="affine"?E.mixedAdd(b):E.add(b))}}for(v=0;v<g;v++)_[v]=null;return m?E:E.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(f,d){f=o.toArray(f,d);var p=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*p)return f[0]===6?c(f[f.length-1]%2==0):f[0]===7&&c(f[f.length-1]%2==1),this.point(f.slice(1,1+p),f.slice(1+p,1+2*p));if((f[0]===2||f[0]===3)&&f.length-1===p)return this.pointFromX(f.slice(1,1+p),f[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(f){return this.encode(f,!0)},h.prototype._encode=function(f){var d=this.curve.p.byteLength(),p=this.getX().toArray("be",d);return f?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",d))},h.prototype.encode=function(f,d){return o.encode(this._encode(d),f)},h.prototype.precompute=function(f){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,f),d.beta=this._getBeta(),this.precomputed=d,this},h.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((f.bitLength()+1)/d.step)},h.prototype._getDoubles=function(f,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<d;m+=f){for(var v=0;v<f;v++)g=g.dbl();p.push(g)}return{step:f,points:p}},h.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],p=(1<<f)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)d[m]=d[m-1].add(g);return{wnd:f,points:d}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(f){for(var d=this,p=0;p<f;p++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function h(f,d,p,g,m){l.BasePoint.call(this,f,"projective"),d===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(d,16),this.y=new o(p,16),this.z=g?new o(g,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,l),n.exports=u,u.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},u.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},u.prototype.jpoint=function(f,d,p,g){return this.point(f,d,p,g)},u.prototype.pointFromX=function(f,d){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),v=g.redMul(m.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(d&&!b||!d&&b)&&(y=y.redNeg()),this.point(f,y)},u.prototype.pointFromY=function(f,d){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,f)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,f)},u.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var d=f.x.redSqr(),p=f.y.redSqr(),g=d.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(p)));return g.cmp(m)===0},a(h,l.BasePoint),u.prototype.pointFromJSON=function(f){return h.fromJSON(this,f)},u.prototype.point=function(f,d,p,g){return new h(this,f,d,p,g)},h.fromJSON=function(f,d){return new h(f,d[0],d[1],d[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var f=this.x.redSqr(),d=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(d),v=g.redAdd(d),y=v.redSub(p),b=g.redSub(d),x=m.redMul(y),_=v.redMul(b),M=m.redMul(b),U=y.redMul(v);return this.curve.point(x,_,U,M)},h.prototype._projDbl=function(){var f,d,p,g,m,v,y=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var _=(g=this.curve._mulA(b)).redAdd(x);this.zOne?(f=y.redSub(b).redSub(x).redMul(_.redSub(this.curve.two)),d=_.redMul(g.redSub(x)),p=_.redSqr().redSub(_).redSub(_)):(m=this.z.redSqr(),v=_.redSub(m).redISub(m),f=y.redSub(b).redISub(x).redMul(v),d=_.redMul(g.redSub(x)),p=_.redMul(v))}else g=b.redAdd(x),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),f=this.curve._mulC(y.redISub(g)).redMul(v),d=this.curve._mulC(g).redMul(b.redISub(x)),p=g.redMul(v);return this.curve.point(f,d,p)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(f){var d=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),p=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),g=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=p.redSub(d),y=m.redSub(g),b=m.redAdd(g),x=p.redAdd(d),_=v.redMul(y),M=b.redMul(x),U=v.redMul(x),L=y.redMul(b);return this.curve.point(_,M,L,U)},h.prototype._projAdd=function(f){var d,p,g=this.z.redMul(f.z),m=g.redSqr(),v=this.x.redMul(f.x),y=this.y.redMul(f.y),b=this.curve.d.redMul(v).redMul(y),x=m.redSub(b),_=m.redAdd(b),M=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(y),U=g.redMul(x).redMul(M);return this.curve.twisted?(d=g.redMul(_).redMul(y.redSub(this.curve._mulA(v))),p=x.redMul(_)):(d=g.redMul(_).redMul(y.redSub(v)),p=this.curve._mulC(x).redMul(_)),this.curve.point(U,d,p)},h.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},h.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,d,p){return this.curve._wnafMulAdd(1,[this,d],[f,p],2,!1)},h.prototype.jmulAdd=function(f,d,p){return this.curve._wnafMulAdd(1,[this,d],[f,p],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},h.prototype.eqXToP=function(f){var d=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var p=f.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var s=i;s.base=r("./base"),s.short=r("./short"),s.mont=r("./mont"),s.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var s=r("bn.js"),o=r("inherits"),a=r("./base"),l=r("../utils");function c(h){a.call(this,"mont",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(h,f,d){a.BasePoint.call(this,h,"projective"),f===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(f,16),this.z=new s(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(c,a),n.exports=c,c.prototype.validate=function(h){var f=h.normalize().x,d=f.redSqr(),p=d.redMul(f).redAdd(d.redMul(this.a)).redAdd(f);return p.redSqrt().redSqr().cmp(p)===0},o(u,a.BasePoint),c.prototype.decodePoint=function(h,f){return this.point(l.toArray(h,f),1)},c.prototype.point=function(h,f){return new u(this,h,f)},c.prototype.pointFromJSON=function(h){return u.fromJSON(this,h)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(h,f){return new u(h,f[0],f[1]||h.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),d=h.redSub(f),p=h.redMul(f),g=d.redMul(f.redAdd(this.curve.a24.redMul(d)));return this.curve.point(p,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(h,f){var d=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=h.x.redAdd(h.z),m=h.x.redSub(h.z).redMul(d),v=g.redMul(p),y=f.z.redMul(m.redAdd(v).redSqr()),b=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(y,b)},u.prototype.mul=function(h){for(var f=h.clone(),d=this,p=this.curve.point(null,null),g=[];f.cmpn(0)!==0;f.iushrn(1))g.push(f.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(d=d.diffAdd(p,this),p=p.dbl()):(p=d.diffAdd(p,this),d=d.dbl());return p},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(d){l.call(this,"short",d),this.a=new o(d.a,16).toRed(this.red),this.b=new o(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(d,p,g,m){l.BasePoint.call(this,d,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(p,16),this.y=new o(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(d,p,g,m){l.BasePoint.call(this,d,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(p,16),this.y=new o(g,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,l),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(d.beta)p=new o(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)g=new o(d.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(p))===0?g=v[0]:(g=v[1],c(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:d.basis?d.basis.map(function(y){return{a:new o(y.a,16),b:new o(y.b,16)}}):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(d){var p=d===this.p?this.red:o.mont(d),g=new o(2).toRed(p).redInvm(),m=g.redNeg(),v=new o(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(d){for(var p,g,m,v,y,b,x,_,M,U=this.n.ushrn(Math.floor(this.n.bitLength()/2)),L=d,O=this.n.clone(),H=new o(1),G=new o(0),I=new o(0),R=new o(1),S=0;L.cmpn(0)!==0;){var j=O.div(L);_=O.sub(j.mul(L)),M=I.sub(j.mul(H));var E=R.sub(j.mul(G));if(!m&&_.cmp(U)<0)p=x.neg(),g=H,m=_.neg(),v=M;else if(m&&++S==2)break;x=_,O=L,L=_,I=H,H=M,R=G,G=E}y=_.neg(),b=M;var k=m.sqr().add(v.sqr());return y.sqr().add(b.sqr()).cmp(k)>=0&&(y=p,b=g),m.negative&&(m=m.neg(),v=v.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:m,b:v},{a:y,b}]},u.prototype._endoSplit=function(d){var p=this.endo.basis,g=p[0],m=p[1],v=m.b.mul(d).divRound(this.n),y=g.b.neg().mul(d).divRound(this.n),b=v.mul(g.a),x=y.mul(m.a),_=v.mul(g.b),M=y.mul(m.b);return{k1:d.sub(b).sub(x),k2:_.add(M).neg()}},u.prototype.pointFromX=function(d,p){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(p&&!v||!p&&v)&&(m=m.redNeg()),this.point(d,m)},u.prototype.validate=function(d){if(d.inf)return!0;var p=d.x,g=d.y,m=this.a.redMul(p),v=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,p,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,y=0;y<d.length;y++){var b=this._endoSplit(p[y]),x=d[y],_=x._getBeta();b.k1.negative&&(b.k1.ineg(),x=x.neg(!0)),b.k2.negative&&(b.k2.ineg(),_=_.neg(!0)),m[2*y]=x,m[2*y+1]=_,v[2*y]=b.k1,v[2*y+1]=b.k2}for(var M=this._wnafMulAdd(1,m,v,2*y,g),U=0;U<2*y;U++)m[U]=null,v[U]=null;return M},a(h,l.BasePoint),u.prototype.point=function(d,p,g){return new h(this,d,p,g)},u.prototype.pointFromJSON=function(d,p){return h.fromJSON(this,d,p)},h.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};d.beta=p,p.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return p}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(d,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=d.point(p[0],p[1],g);if(!p[2])return m;function v(b){return d.point(b[0],b[1],g)}var y=p[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(v))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var p=this.y.redSub(d.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(d.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(d.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},h.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=d.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),y=v.redSqr().redISub(this.x.redAdd(this.x)),b=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(d){return d=new o(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,p,g){var m=[this,p],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},h.prototype.jmulAdd=function(d,p,g){var m=[this,p],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},h.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},h.prototype.neg=function(d){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(f,l.BasePoint),u.prototype.jpoint=function(d,p,g){return new f(this,d,p,g)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),p=d.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(d);return this.curve.point(g,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var p=d.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),v=d.x.redMul(g),y=this.y.redMul(p.redMul(d.z)),b=d.y.redMul(g.redMul(this.z)),x=m.redSub(v),_=y.redSub(b);if(x.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=x.redSqr(),U=M.redMul(x),L=m.redMul(M),O=_.redSqr().redIAdd(U).redISub(L).redISub(L),H=_.redMul(L.redISub(O)).redISub(y.redMul(U)),G=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(O,H,G)},f.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=d.x.redMul(p),v=this.y,y=d.y.redMul(p).redMul(this.z),b=g.redSub(m),x=v.redSub(y);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=b.redSqr(),M=_.redMul(b),U=g.redMul(_),L=x.redSqr().redIAdd(M).redISub(U).redISub(U),O=x.redMul(U.redISub(L)).redISub(v.redMul(M)),H=this.z.redMul(b);return this.curve.jpoint(L,O,H)},f.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<d;p++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,y=this.x,b=this.y,x=this.z,_=x.redSqr().redSqr(),M=b.redAdd(b);for(p=0;p<d;p++){var U=y.redSqr(),L=M.redSqr(),O=L.redSqr(),H=U.redAdd(U).redIAdd(U).redIAdd(m.redMul(_)),G=y.redMul(L),I=H.redSqr().redISub(G.redAdd(G)),R=G.redISub(I),S=H.redMul(R);S=S.redIAdd(S).redISub(O);var j=M.redMul(x);p+1<d&&(_=_.redMul(O)),y=I,x=j,M=S}return this.curve.jpoint(y,M.redMul(v),x)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(m).redISub(y);b=b.redIAdd(b);var x=m.redAdd(m).redIAdd(m),_=x.redSqr().redISub(b).redISub(b),M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),d=_,p=x.redMul(b.redISub(_)).redISub(M),g=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),L=this.y.redSqr(),O=L.redSqr(),H=this.x.redAdd(L).redSqr().redISub(U).redISub(O);H=H.redIAdd(H);var G=U.redAdd(U).redIAdd(U),I=G.redSqr(),R=O.redIAdd(O);R=(R=R.redIAdd(R)).redIAdd(R),d=I.redISub(H).redISub(H),p=G.redMul(H.redISub(d)).redISub(R),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(d,p,g)},f.prototype._threeDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(m).redISub(y);b=b.redIAdd(b);var x=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),_=x.redSqr().redISub(b).redISub(b);d=_;var M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),p=x.redMul(b.redISub(_)).redISub(M),g=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),L=this.y.redSqr(),O=this.x.redMul(L),H=this.x.redSub(U).redMul(this.x.redAdd(U));H=H.redAdd(H).redIAdd(H);var G=O.redIAdd(O),I=(G=G.redIAdd(G)).redAdd(G);d=H.redSqr().redISub(I),g=this.y.redAdd(this.z).redSqr().redISub(L).redISub(U);var R=L.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),p=H.redMul(G.redISub(d)).redISub(R)}return this.curve.jpoint(d,p,g)},f.prototype._dbl=function(){var d=this.curve.a,p=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),y=p.redSqr(),b=g.redSqr(),x=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(v)),_=p.redAdd(p),M=(_=_.redIAdd(_)).redMul(b),U=x.redSqr().redISub(M.redAdd(M)),L=M.redISub(U),O=b.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var H=x.redMul(L).redISub(O),G=g.redAdd(g).redMul(m);return this.curve.jpoint(U,H,G)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),v=d.redAdd(d).redIAdd(d),y=v.redSqr(),b=this.x.redAdd(p).redSqr().redISub(d).redISub(m),x=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(y)).redSqr(),_=m.redIAdd(m);_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var M=v.redIAdd(b).redSqr().redISub(y).redISub(x).redISub(_),U=p.redMul(M);U=(U=U.redIAdd(U)).redIAdd(U);var L=this.x.redMul(x).redISub(U);L=(L=L.redIAdd(L)).redIAdd(L);var O=this.y.redMul(M.redMul(_.redISub(M)).redISub(b.redMul(x)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var H=this.z.redAdd(b).redSqr().redISub(g).redISub(x);return this.curve.jpoint(L,O,H)},f.prototype.mul=function(d,p){return d=new o(d,p),this.curve._wnafMul(this,d)},f.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var p=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),v=g.redMul(d.z);return this.y.redMul(v).redISub(d.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(d){var p=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=d.clone(),v=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var s,o=i,a=r("hash.js"),l=r("./curve"),c=r("./utils").assert;function u(f){f.type==="short"?this.curve=new l.short(f):f.type==="edwards"?this.curve=new l.edwards(f):this.curve=new l.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(f,d){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var p=new u(d);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:p}),p}})}o.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=r("./precomputed/secp256k1")}catch{s=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var s=r("bn.js"),o=r("hmac-drbg"),a=r("../utils"),l=r("../curves"),c=r("brorand"),u=a.assert,h=r("./key"),f=r("./signature");function d(p){if(!(this instanceof d))return new d(p);typeof p=="string"&&(u(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}n.exports=d,d.prototype.keyPair=function(p){return new h(this,p)},d.prototype.keyFromPrivate=function(p,g){return h.fromPrivate(this,p,g)},d.prototype.keyFromPublic=function(p,g){return h.fromPublic(this,p,g)},d.prototype.genKeyPair=function(p){p||(p={});for(var g=new o({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||c(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new s(2));;){var y=new s(g.generate(m));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},d.prototype.sign=function(p,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new s(p,16));for(var y=this.n.byteLength(),b=g.getPrivate().toArray("be",y),x=p.toArray("be",y),_=new o({hash:this.hash,entropy:b,nonce:x,pers:v.pers,persEnc:v.persEnc||"utf8"}),M=this.n.sub(new s(1)),U=0;;U++){var L=v.k?v.k(U):new s(_.generate(this.n.byteLength()));if(!((L=this._truncateToN(L,!0)).cmpn(1)<=0||L.cmp(M)>=0)){var O=this.g.mul(L);if(!O.isInfinity()){var H=O.getX(),G=H.umod(this.n);if(G.cmpn(0)!==0){var I=L.invm(this.n).mul(G.mul(g.getPrivate()).iadd(p));if((I=I.umod(this.n)).cmpn(0)!==0){var R=(O.getY().isOdd()?1:0)|(H.cmp(G)!==0?2:0);return v.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),R^=1),new f({r:G,s:I,recoveryParam:R})}}}}}},d.prototype.verify=function(p,g,m,v){p=this._truncateToN(new s(p,16)),m=this.keyFromPublic(m,v);var y=(g=new f(g,"hex")).r,b=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var x,_=b.invm(this.n),M=_.mul(p).umod(this.n),U=_.mul(y).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(M,m.getPublic(),U)).isInfinity()&&x.eqXToP(y):!(x=this.g.mulAdd(M,m.getPublic(),U)).isInfinity()&&x.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(p,g,m,v){u((3&m)===m,"The recovery param is more than two bits"),g=new f(g,v);var y=this.n,b=new s(p),x=g.r,_=g.s,M=1&m,U=m>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&U)throw new Error("Unable to find sencond key candinate");x=U?this.curve.pointFromX(x.add(this.curve.n),M):this.curve.pointFromX(x,M);var L=g.r.invm(y),O=y.sub(b).mul(L).umod(y),H=_.mul(L).umod(y);return this.g.mulAdd(O,x,H)},d.prototype.getKeyRecoveryParam=function(p,g,m,v){if((g=new f(g,v)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(p,g,y)}catch{continue}if(b.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var s=r("bn.js"),o=r("../utils").assert;function a(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=a,a.fromPublic=function(l,c,u){return c instanceof a?c:new a(l,{pub:c,pubEnc:u})},a.fromPrivate=function(l,c,u){return c instanceof a?c:new a(l,{priv:c,privEnc:u})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,c){this.priv=new s(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},a.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},a.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert;function l(d,p){if(d instanceof l)return d;this._importDER(d,p)||(a(d.r&&d.s,"Signature without r or s"),this.r=new s(d.r,16),this.s=new s(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function c(){this.place=0}function u(d,p){var g=d[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,y=0,b=p.place;y<m;y++,b++)v<<=8,v|=d[b],v>>>=0;return!(v<=127)&&(p.place=b,v)}function h(d){for(var p=0,g=d.length-1;!d[p]&&!(128&d[p+1])&&p<g;)p++;return p===0?d:d.slice(p)}function f(d,p){if(p<128)d.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(d.push(128|g);--g;)d.push(p>>>(g<<3)&255);d.push(p)}}n.exports=l,l.prototype._importDER=function(d,p){d=o.toArray(d,p);var g=new c;if(d[g.place++]!==48)return!1;var m=u(d,g);if(m===!1||m+g.place!==d.length||d[g.place++]!==2)return!1;var v=u(d,g);if(v===!1)return!1;var y=d.slice(g.place,v+g.place);if(g.place+=v,d[g.place++]!==2)return!1;var b=u(d,g);if(b===!1||d.length!==b+g.place)return!1;var x=d.slice(g.place,b+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new s(y),this.s=new s(x),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=h(p),g=h(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];f(m,p.length),(m=m.concat(p)).push(2),f(m,g.length);var v=m.concat(g),y=[48];return f(y,v.length),y=y.concat(v),o.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var s=r("hash.js"),o=r("../curves"),a=r("../utils"),l=a.assert,c=a.parseBytes,u=r("./key"),h=r("./signature");function f(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(d);d=o[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=s.sha512}n.exports=f,f.prototype.sign=function(d,p){d=c(d);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),d),v=this.g.mul(m),y=this.encodePoint(v),b=this.hashInt(y,g.pubBytes(),d).mul(g.priv()),x=m.add(b).umod(this.curve.n);return this.makeSignature({R:v,S:x,Rencoded:y})},f.prototype.verify=function(d,p,g){d=c(d),p=this.makeSignature(p);var m=this.keyFromPublic(g),v=this.hashInt(p.Rencoded(),m.pubBytes(),d),y=this.g.mul(p.S());return p.R().add(m.pub().mul(v)).eq(y)},f.prototype.hashInt=function(){for(var d=this.hash(),p=0;p<arguments.length;p++)d.update(arguments[p]);return a.intFromLE(d.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},f.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},f.prototype.makeSignature=function(d){return d instanceof h?d:new h(this,d)},f.prototype.encodePoint=function(d){var p=d.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=d.getX().isOdd()?128:0,p},f.prototype.decodePoint=function(d){var p=(d=a.parseBytes(d)).length-1,g=d.slice(0,p).concat(-129&d[p]),m=(128&d[p])!=0,v=a.intFromLE(g);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(d){return a.intFromLE(d)},f.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var s=r("../utils"),o=s.assert,a=s.parseBytes,l=s.cachedProperty;function c(u,h){this.eddsa=u,this._secret=a(h.secret),u.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=a(h.pub)}c.fromPublic=function(u,h){return h instanceof c?h:new c(u,{pub:h})},c.fromSecret=function(u,h){return h instanceof c?h:new c(u,{secret:h})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,h=this.hash(),f=u.encodingLength-1,d=h.slice(0,u.encodingLength);return d[0]&=248,d[f]&=127,d[f]|=64,d}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,h){return this.eddsa.verify(u,h,this)},c.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},c.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert,l=o.cachedProperty,c=o.parseBytes;function u(h,f){this.eddsa=h,typeof f!="object"&&(f=c(f)),Array.isArray(f)&&(f={R:f.slice(0,h.encodingLength),S:f.slice(h.encodingLength)}),a(f.R&&f.S,"Signature without R or S"),h.isPoint(f.R)&&(this._R=f.R),f.S instanceof s&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var s=i,o=r("bn.js"),a=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");s.assert=a,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(c,u,h){var f=new Array(Math.max(c.bitLength(),h)+1);f.fill(0);for(var d=1<<u+1,p=c.clone(),g=0;g<f.length;g++){var m,v=p.andln(d-1);p.isOdd()?(m=v>(d>>1)-1?(d>>1)-v:v,p.isubn(m)):m=0,f[g]=m,p.iushrn(1)}return f},s.getJSF=function(c,u){var h=[[],[]];c=c.clone(),u=u.clone();for(var f,d=0,p=0;c.cmpn(-d)>0||u.cmpn(-p)>0;){var g,m,v=c.andln(3)+d&3,y=u.andln(3)+p&3;v===3&&(v=-1),y===3&&(y=-1),g=1&v?(f=c.andln(7)+d&7)!==3&&f!==5||y!==2?v:-v:0,h[0].push(g),m=1&y?(f=u.andln(7)+p&7)!==3&&f!==5||v!==2?y:-y:0,h[1].push(m),2*d===g+1&&(d=1-d),2*p===m+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return h},s.cachedProperty=function(c,u,h){var f="_"+u;c.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new o(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var s=Object.create||function(L){var O=function(){};return O.prototype=L,new O},o=Object.keys||function(L){var O=[];for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&O.push(H);return H},a=Function.prototype.bind||function(L){var O=this;return function(){return O.apply(L,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),c=h.x===0}catch{c=!1}function f(L){return L._maxListeners===void 0?l.defaultMaxListeners:L._maxListeners}function d(L,O,H){if(O)L.call(H);else for(var G=L.length,I=U(L,G),R=0;R<G;++R)I[R].call(H)}function p(L,O,H,G){if(O)L.call(H,G);else for(var I=L.length,R=U(L,I),S=0;S<I;++S)R[S].call(H,G)}function g(L,O,H,G,I){if(O)L.call(H,G,I);else for(var R=L.length,S=U(L,R),j=0;j<R;++j)S[j].call(H,G,I)}function m(L,O,H,G,I,R){if(O)L.call(H,G,I,R);else for(var S=L.length,j=U(L,S),E=0;E<S;++E)j[E].call(H,G,I,R)}function v(L,O,H,G){if(O)L.apply(H,G);else for(var I=L.length,R=U(L,I),S=0;S<I;++S)R[S].apply(H,G)}function y(L,O,H,G){var I,R,S;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((R=L._events)?(R.newListener&&(L.emit("newListener",O,H.listener?H.listener:H),R=L._events),S=R[O]):(R=L._events=s(null),L._eventsCount=0),S){if(typeof S=="function"?S=R[O]=G?[H,S]:[S,H]:G?S.unshift(H):S.push(H),!S.warned&&(I=f(L))&&I>0&&S.length>I){S.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');j.name="MaxListenersExceededWarning",j.emitter=L,j.type=O,j.count=S.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",j.name,j.message)}}else S=R[O]=H,++L._eventsCount;return L}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var L=new Array(arguments.length),O=0;O<L.length;++O)L[O]=arguments[O];this.listener.apply(this.target,L)}}function x(L,O,H){var G={fired:!1,wrapFn:void 0,target:L,type:O,listener:H},I=a.call(b,G);return I.listener=H,G.wrapFn=I,I}function _(L,O,H){var G=L._events;if(!G)return[];var I=G[O];return I?typeof I=="function"?H?[I.listener||I]:[I]:H?function(R){for(var S=new Array(R.length),j=0;j<S.length;++j)S[j]=R[j].listener||R[j];return S}(I):U(I,I.length):[]}function M(L){var O=this._events;if(O){var H=O[L];if(typeof H=="function")return 1;if(H)return H.length}return 0}function U(L,O){for(var H=new Array(O),G=0;G<O;++G)H[G]=L[G];return H}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(L){if(typeof L!="number"||L<0||L!=L)throw new TypeError('"defaultMaxListeners" must be a positive number');u=L}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||isNaN(L))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=L,this},l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(L){var O,H,G,I,R,S,j=L==="error";if(S=this._events)j=j&&S.error==null;else if(!j)return!1;if(j){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var E=new Error('Unhandled "error" event. ('+O+")");throw E.context=O,E}if(!(H=S[L]))return!1;var k=typeof H=="function";switch(G=arguments.length){case 1:d(H,k,this);break;case 2:p(H,k,this,arguments[1]);break;case 3:g(H,k,this,arguments[1],arguments[2]);break;case 4:m(H,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(G-1),R=1;R<G;R++)I[R-1]=arguments[R];v(H,k,this,I)}return!0},l.prototype.addListener=function(L,O){return y(this,L,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(L,O){return y(this,L,O,!0)},l.prototype.once=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(L,x(this,L,O)),this},l.prototype.prependOnceListener=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(L,x(this,L,O)),this},l.prototype.removeListener=function(L,O){var H,G,I,R,S;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(H=G[L]))return this;if(H===O||H.listener===O)--this._eventsCount==0?this._events=s(null):(delete G[L],G.removeListener&&this.emit("removeListener",L,H.listener||O));else if(typeof H!="function"){for(I=-1,R=H.length-1;R>=0;R--)if(H[R]===O||H[R].listener===O){S=H[R].listener,I=R;break}if(I<0)return this;I===0?H.shift():function(j,E){for(var k=E,A=k+1,C=j.length;A<C;k+=1,A+=1)j[k]=j[A];j.pop()}(H,I),H.length===1&&(G[L]=H[0]),G.removeListener&&this.emit("removeListener",L,S||O)}return this},l.prototype.removeAllListeners=function(L){var O,H,G;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):H[L]&&(--this._eventsCount==0?this._events=s(null):delete H[L]),this;if(arguments.length===0){var I,R=o(H);for(G=0;G<R.length;++G)(I=R[G])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(O=H[L])=="function")this.removeListener(L,O);else if(O)for(G=O.length-1;G>=0;G--)this.removeListener(L,O[G]);return this},l.prototype.listeners=function(L){return _(this,L,!0)},l.prototype.rawListeners=function(L){return _(this,L,!1)},l.listenerCount=function(L,O){return typeof L.listenerCount=="function"?L.listenerCount(O):M.call(L,O)},l.prototype.listenerCount=M,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("md5.js");n.exports=function(a,l,c,u){if(s.isBuffer(a)||(a=s.from(a,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,f=s.alloc(h),d=s.alloc(u||0),p=s.alloc(0);h>0||u>0;){var g=new o;g.update(p),g.update(a),l&&g.update(l),p=g.digest();var m=0;if(h>0){var v=f.length-h;m=Math.min(h,p.length),p.copy(f,v,0,m),h-=m}if(m<p.length&&u>0){var y=d.length-u,b=Math.min(u,p.length-m);p.copy(d,y,m,m+b),u-=b}}return p.fill(0),{key:f,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function a(l){o.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,o),a.prototype._transform=function(l,c,u){var h=null;try{this.update(l,c)}catch(f){h=f}u(h)},a.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},a.prototype.update=function(l,c){if(function(g,m){if(!s.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,c));for(var u=this._block,h=0;this._blockOffset+l.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f++]=l[h++];this._update(),this._blockOffset=0}for(;h<l.length;)u[this._blockOffset++]=l[h++];for(var d=0,p=8*l.length;p>0;++d)this._length[d]+=p,(p=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*p);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var s=i;s.utils=r("./hash/utils"),s.common=r("./hash/common"),s.sha=r("./hash/sha"),s.ripemd=r("./hash/ripemd"),s.hmac=r("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=a,a.prototype.update=function(l,c){if(l=s.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var h=0;h<l.length;h+=this._delta32)this._update(l,h,h+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,h=new Array(u+this.padLength);h[0]=128;for(var f=1;f<u;f++)h[f]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)h[f++]=0;h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=l>>>24&255,h[f++]=l>>>16&255,h[f++]=l>>>8&255,h[f++]=255&l}else for(h[f++]=255&l,h[f++]=l>>>8&255,h[f++]=l>>>16&255,h[f++]=l>>>24&255,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,d=8;d<this.padLength;d++)h[f++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(l,c,u){if(!(this instanceof a))return new a(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,u))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,c){return this.inner.update(l,c),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var s=r("./utils"),o=r("./common"),a=s.rotl32,l=s.sum32,c=s.sum32_3,u=s.sum32_4,h=o.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,_,M,U){return x<=15?_^M^U:x<=31?_&M|~_&U:x<=47?(_|~M)^U:x<=63?_&U|M&~U:_^(M|~U)}function p(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function g(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}s.inherits(f,h),i.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(x,_){for(var M=this.h[0],U=this.h[1],L=this.h[2],O=this.h[3],H=this.h[4],G=M,I=U,R=L,S=O,j=H,E=0;E<80;E++){var k=l(a(u(M,d(E,U,L,O),x[m[E]+_],p(E)),y[E]),H);M=H,H=O,O=a(L,10),L=U,U=k,k=l(a(u(G,d(79-E,I,R,S),x[v[E]+_],g(E)),b[E]),j),G=j,j=S,S=a(R,10),R=I,I=k}k=c(this.h[1],L,S),this.h[1]=c(this.h[2],O,j),this.h[2]=c(this.h[3],H,G),this.h[3]=c(this.h[4],M,I),this.h[4]=c(this.h[0],U,R),this.h[0]=k},f.prototype._digest=function(x){return x==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=s.rotl32,c=s.sum32,u=s.sum32_5,h=a.ft_1,f=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(p,f),n.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var v=this.W,y=0;y<16;y++)v[y]=g[m+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var b=this.h[0],x=this.h[1],_=this.h[2],M=this.h[3],U=this.h[4];for(y=0;y<v.length;y++){var L=~~(y/20),O=u(l(b,5),h(L,x,_,M),U,v[y],d[L]);U=M,M=_,_=l(x,30),x=b,b=O}this.h[0]=c(this.h[0],b),this.h[1]=c(this.h[1],x),this.h[2]=c(this.h[2],_),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],U)},p.prototype._digest=function(g){return g==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var s=r("../utils"),o=r("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=r("minimalistic-assert"),c=s.sum32,u=s.sum32_4,h=s.sum32_5,f=a.ch32,d=a.maj32,p=a.s0_256,g=a.s1_256,m=a.g0_256,v=a.g1_256,y=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}s.inherits(x,y),n.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(_,M){for(var U=this.W,L=0;L<16;L++)U[L]=_[M+L];for(;L<U.length;L++)U[L]=u(v(U[L-2]),U[L-7],m(U[L-15]),U[L-16]);var O=this.h[0],H=this.h[1],G=this.h[2],I=this.h[3],R=this.h[4],S=this.h[5],j=this.h[6],E=this.h[7];for(l(this.k.length===U.length),L=0;L<U.length;L++){var k=h(E,g(R),f(R,S,j),this.k[L],U[L]),A=c(p(O),d(O,H,G));E=j,j=S,S=R,R=c(I,k),I=G,G=H,H=O,O=c(k,A)}this.h[0]=c(this.h[0],O),this.h[1]=c(this.h[1],H),this.h[2]=c(this.h[2],G),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],R),this.h[5]=c(this.h[5],S),this.h[6]=c(this.h[6],j),this.h[7]=c(this.h[7],E)},x.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var s=r("../utils"),o=r("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("minimalistic-assert"),l=s.rotr64_hi,c=s.rotr64_lo,u=s.shr64_hi,h=s.shr64_lo,f=s.sum64,d=s.sum64_hi,p=s.sum64_lo,g=s.sum64_4_hi,m=s.sum64_4_lo,v=s.sum64_5_hi,y=s.sum64_5_lo,b=o.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function M(A,C,D,z,P){var K=A&D^~A&P;return K<0&&(K+=4294967296),K}function U(A,C,D,z,P,K){var Z=C&z^~C&K;return Z<0&&(Z+=4294967296),Z}function L(A,C,D,z,P){var K=A&D^A&P^D&P;return K<0&&(K+=4294967296),K}function O(A,C,D,z,P,K){var Z=C&z^C&K^z&K;return Z<0&&(Z+=4294967296),Z}function H(A,C){var D=l(A,C,28)^l(C,A,2)^l(C,A,7);return D<0&&(D+=4294967296),D}function G(A,C){var D=c(A,C,28)^c(C,A,2)^c(C,A,7);return D<0&&(D+=4294967296),D}function I(A,C){var D=l(A,C,14)^l(A,C,18)^l(C,A,9);return D<0&&(D+=4294967296),D}function R(A,C){var D=c(A,C,14)^c(A,C,18)^c(C,A,9);return D<0&&(D+=4294967296),D}function S(A,C){var D=l(A,C,1)^l(A,C,8)^u(A,C,7);return D<0&&(D+=4294967296),D}function j(A,C){var D=c(A,C,1)^c(A,C,8)^h(A,C,7);return D<0&&(D+=4294967296),D}function E(A,C){var D=l(A,C,19)^l(C,A,29)^u(A,C,6);return D<0&&(D+=4294967296),D}function k(A,C){var D=c(A,C,19)^c(C,A,29)^h(A,C,6);return D<0&&(D+=4294967296),D}s.inherits(_,b),n.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(A,C){for(var D=this.W,z=0;z<32;z++)D[z]=A[C+z];for(;z<D.length;z+=2){var P=E(D[z-4],D[z-3]),K=k(D[z-4],D[z-3]),Z=D[z-14],te=D[z-13],q=S(D[z-30],D[z-29]),$=j(D[z-30],D[z-29]),N=D[z-32],T=D[z-31];D[z]=g(P,K,Z,te,q,$,N,T),D[z+1]=m(P,K,Z,te,q,$,N,T)}},_.prototype._update=function(A,C){this._prepareBlock(A,C);var D=this.W,z=this.h[0],P=this.h[1],K=this.h[2],Z=this.h[3],te=this.h[4],q=this.h[5],$=this.h[6],N=this.h[7],T=this.h[8],V=this.h[9],J=this.h[10],re=this.h[11],se=this.h[12],B=this.h[13],ne=this.h[14],ee=this.h[15];a(this.k.length===D.length);for(var F=0;F<D.length;F+=2){var W=ne,Y=ee,ae=I(T,V),ce=R(T,V),le=M(T,V,J,re,se),de=U(T,V,J,re,se,B),me=this.k[F],ge=this.k[F+1],ke=D[F],Re=D[F+1],je=v(W,Y,ae,ce,le,de,me,ge,ke,Re),We=y(W,Y,ae,ce,le,de,me,ge,ke,Re);W=H(z,P),Y=G(z,P),ae=L(z,P,K,Z,te),ce=O(z,P,K,Z,te,q);var Je=d(W,Y,ae,ce),qe=p(W,Y,ae,ce);ne=se,ee=B,se=J,B=re,J=T,re=V,T=d($,N,je,We),V=p(N,N,je,We),$=te,N=q,te=K,q=Z,K=z,Z=P,z=d(je,We,Je,qe),P=p(je,We,Je,qe)}f(this.h,0,z,P),f(this.h,2,K,Z),f(this.h,4,te,q),f(this.h,6,$,N),f(this.h,8,T,V),f(this.h,10,J,re),f(this.h,12,se,B),f(this.h,14,ne,ee)},_.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var s=r("../utils").rotr32;function o(c,u,h){return c&u^~c&h}function a(c,u,h){return c&u^c&h^u&h}function l(c,u,h){return c^u^h}i.ft_1=function(c,u,h,f){return c===0?o(u,h,f):c===1||c===3?l(u,h,f):c===2?a(u,h,f):void 0},i.ch32=o,i.maj32=a,i.p32=l,i.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},i.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},i.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},i.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},{"../utils":437}],437:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits");function a(h,f){return(64512&h.charCodeAt(f))==55296&&!(f<0||f+1>=h.length)&&(64512&h.charCodeAt(f+1))==56320}function l(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function c(h){return h.length===1?"0"+h:h}function u(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}i.inherits=o,i.toArray=function(h,f){if(Array.isArray(h))return h.slice();if(!h)return[];var d=[];if(typeof h=="string")if(f){if(f==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),g=0;g<h.length;g+=2)d.push(parseInt(h[g]+h[g+1],16))}else for(var p=0,g=0;g<h.length;g++){var m=h.charCodeAt(g);m<128?d[p++]=m:m<2048?(d[p++]=m>>6|192,d[p++]=63&m|128):a(h,g)?(m=65536+((1023&m)<<10)+(1023&h.charCodeAt(++g)),d[p++]=m>>18|240,d[p++]=m>>12&63|128,d[p++]=m>>6&63|128,d[p++]=63&m|128):(d[p++]=m>>12|224,d[p++]=m>>6&63|128,d[p++]=63&m|128)}else for(g=0;g<h.length;g++)d[g]=0|h[g];return d},i.toHex=function(h){for(var f="",d=0;d<h.length;d++)f+=c(h[d].toString(16));return f},i.htonl=l,i.toHex32=function(h,f){for(var d="",p=0;p<h.length;p++){var g=h[p];f==="little"&&(g=l(g)),d+=u(g.toString(16))}return d},i.zero2=c,i.zero8=u,i.join32=function(h,f,d,p){var g=d-f;s(g%4==0);for(var m=new Array(g/4),v=0,y=f;v<m.length;v++,y+=4){var b;b=p==="big"?h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3]:h[y+3]<<24|h[y+2]<<16|h[y+1]<<8|h[y],m[v]=b>>>0}return m},i.split32=function(h,f){for(var d=new Array(4*h.length),p=0,g=0;p<h.length;p++,g+=4){var m=h[p];f==="big"?(d[g]=m>>>24,d[g+1]=m>>>16&255,d[g+2]=m>>>8&255,d[g+3]=255&m):(d[g+3]=m>>>24,d[g+2]=m>>>16&255,d[g+1]=m>>>8&255,d[g]=255&m)}return d},i.rotr32=function(h,f){return h>>>f|h<<32-f},i.rotl32=function(h,f){return h<<f|h>>>32-f},i.sum32=function(h,f){return h+f>>>0},i.sum32_3=function(h,f,d){return h+f+d>>>0},i.sum32_4=function(h,f,d,p){return h+f+d+p>>>0},i.sum32_5=function(h,f,d,p,g){return h+f+d+p+g>>>0},i.sum64=function(h,f,d,p){var g=h[f],m=p+h[f+1]>>>0,v=(m<p?1:0)+d+g;h[f]=v>>>0,h[f+1]=m},i.sum64_hi=function(h,f,d,p){return(f+p>>>0<f?1:0)+h+d>>>0},i.sum64_lo=function(h,f,d,p){return f+p>>>0},i.sum64_4_hi=function(h,f,d,p,g,m,v,y){var b=0,x=f;return b+=(x=x+p>>>0)<f?1:0,b+=(x=x+m>>>0)<m?1:0,h+d+g+v+(b+=(x=x+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(h,f,d,p,g,m,v,y){return f+p+m+y>>>0},i.sum64_5_hi=function(h,f,d,p,g,m,v,y,b,x){var _=0,M=f;return _+=(M=M+p>>>0)<f?1:0,_+=(M=M+m>>>0)<m?1:0,_+=(M=M+y>>>0)<y?1:0,h+d+g+v+b+(_+=(M=M+x>>>0)<x?1:0)>>>0},i.sum64_5_lo=function(h,f,d,p,g,m,v,y,b,x){return f+p+m+y+x>>>0},i.rotr64_hi=function(h,f,d){return(f<<32-d|h>>>d)>>>0},i.rotr64_lo=function(h,f,d){return(h<<32-d|f>>>d)>>>0},i.shr64_hi=function(h,f,d){return h>>>d},i.shr64_lo=function(h,f,d){return(h<<32-d|f>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var s=r("hash.js"),o=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(c.entropy,c.entropyEnc||"hex"),h=o.toArray(c.nonce,c.nonceEnc||"hex"),f=o.toArray(c.pers,c.persEnc||"hex");a(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,h,f)}n.exports=l,l.prototype._init=function(c,u,h){var f=c.concat(u).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,h,f){typeof u!="string"&&(f=h,h=u,u=null),c=o.toArray(c,u),h=o.toArray(h,f),a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},l.prototype.generate=function(c,u,h,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=h,h=u,u=null),h&&(h=o.toArray(h,f||"hex"),this._update(h));for(var d=[];d.length<c;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var p=d.slice(0,c);return this._update(h),this._reseed++,o.encode(p,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,a,l,c){var u,h,f=8*c-l-1,d=(1<<f)-1,p=d>>1,g=-7,m=a?c-1:0,v=a?-1:1,y=s[o+m];for(m+=v,u=y&(1<<-g)-1,y>>=-g,g+=f;g>0;u=256*u+s[o+m],m+=v,g-=8);for(h=u&(1<<-g)-1,u>>=-g,g+=l;g>0;h=256*h+s[o+m],m+=v,g-=8);if(u===0)u=1-p;else{if(u===d)return h?NaN:1/0*(y?-1:1);h+=Math.pow(2,l),u-=p}return(y?-1:1)*h*Math.pow(2,u-l)},i.write=function(s,o,a,l,c,u){var h,f,d,p=8*u-c-1,g=(1<<p)-1,m=g>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:u-1,b=l?1:-1,x=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,h=g):(h=Math.floor(Math.log(o)/Math.LN2),o*(d=Math.pow(2,-h))<1&&(h--,d*=2),(o+=h+m>=1?v/d:v*Math.pow(2,1-m))*d>=2&&(h++,d/=2),h+m>=g?(f=0,h=g):h+m>=1?(f=(o*d-1)*Math.pow(2,c),h+=m):(f=o*Math.pow(2,m-1)*Math.pow(2,c),h=0));c>=8;s[a+y]=255&f,y+=b,f/=256,c-=8);for(h=h<<c|f,p+=c;p>0;s[a+y]=255&h,y+=b,h/=256,p-=8);s[a+y-b]|=128*x}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}}},{}],441:[function(r,n,i){(function(s,o,a,l,c,u,h,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(p,g,m){function v(x,_){if(!g[x]){if(!p[x]){var M=typeof r=="function"&&r;if(!_&&M)return M(x,!0);if(y)return y(x,!0);var U=new Error("Cannot find module '"+x+"'");throw U.code="MODULE_NOT_FOUND",U}var L=g[x]={exports:{}};p[x][0].call(L.exports,function(O){return v(p[x][1][O]||O)},L,L.exports,d,p,g,m)}return g[x].exports}for(var y=typeof r=="function"&&r,b=0;b<m.length;b++)v(m[b]);return v}({1:[function(d,p,g){var m=d("./utils"),v=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(b){for(var x,_,M,U,L,O,H,G=[],I=0,R=b.length,S=R,j=m.getTypeOf(b)!=="string";I<b.length;)S=R-I,M=j?(x=b[I++],_=I<R?b[I++]:0,I<R?b[I++]:0):(x=b.charCodeAt(I++),_=I<R?b.charCodeAt(I++):0,I<R?b.charCodeAt(I++):0),U=x>>2,L=(3&x)<<4|_>>4,O=1<S?(15&_)<<2|M>>6:64,H=2<S?63&M:64,G.push(y.charAt(U)+y.charAt(L)+y.charAt(O)+y.charAt(H));return G.join("")},g.decode=function(b){var x,_,M,U,L,O,H=0,G=0,I="data:";if(b.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var R,S=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===y.charAt(64)&&S--,b.charAt(b.length-2)===y.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=v.uint8array?new Uint8Array(0|S):new Array(0|S);H<b.length;)x=y.indexOf(b.charAt(H++))<<2|(U=y.indexOf(b.charAt(H++)))>>4,_=(15&U)<<4|(L=y.indexOf(b.charAt(H++)))>>2,M=(3&L)<<6|(O=y.indexOf(b.charAt(H++))),R[G++]=x,L!==64&&(R[G++]=_),O!==64&&(R[G++]=M);return R}},{"./support":30,"./utils":32}],2:[function(d,p,g){var m=d("./external"),v=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),b=d("./stream/DataLengthProbe");function x(_,M,U,L,O){this.compressedSize=_,this.uncompressedSize=M,this.crc32=U,this.compression=L,this.compressedContent=O}x.prototype={getContentWorker:function(){var _=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),M=this;return _.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(_,M,U){return _.pipe(new y).pipe(new b("uncompressedSize")).pipe(M.compressWorker(U)).pipe(new b("compressedSize")).withStreamInfo("compression",M)},p.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,p,g){var m=d("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,p,g){var m=d("./utils"),v=function(){for(var y,b=[],x=0;x<256;x++){y=x;for(var _=0;_<8;_++)y=1&y?3988292384^y>>>1:y>>>1;b[x]=y}return b}();p.exports=function(y,b){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(x,_,M,U){var L=v,O=0+M;x^=-1;for(var H=0;H<O;H++)x=x>>>8^L[255&(x^_[H])];return-1^x}(0|b,y,y.length):function(x,_,M,U){var L=v,O=0+M;x^=-1;for(var H=0;H<O;H++)x=x>>>8^L[255&(x^_.charCodeAt(H))];return-1^x}(0|b,y,y.length):0}},{"./utils":32}],5:[function(d,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(d,p,g){var m;m=typeof Promise<"u"?Promise:d("lie"),p.exports={Promise:m}},{lie:37}],7:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=d("pako"),y=d("./utils"),b=d("./stream/GenericWorker"),x=m?"uint8array":"array";function _(M,U){b.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=U,this.meta={}}g.magic="\b\0",y.inherits(_,b),_.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(x,M.data),!1)},_.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(U){M.push({data:U,meta:M.meta})}},g.compressWorker=function(M){return new _("Deflate",M)},g.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,p,g){function m(L,O){var H,G="";for(H=0;H<O;H++)G+=String.fromCharCode(255&L),L>>>=8;return G}function v(L,O,H,G,I,R){var S,j,E=L.file,k=L.compression,A=R!==x.utf8encode,C=y.transformTo("string",R(E.name)),D=y.transformTo("string",x.utf8encode(E.name)),z=E.comment,P=y.transformTo("string",R(z)),K=y.transformTo("string",x.utf8encode(z)),Z=D.length!==E.name.length,te=K.length!==z.length,q="",$="",N="",T=E.dir,V=E.date,J={crc32:0,compressedSize:0,uncompressedSize:0};O&&!H||(J.crc32=L.crc32,J.compressedSize=L.compressedSize,J.uncompressedSize=L.uncompressedSize);var re=0;O&&(re|=8),A||!Z&&!te||(re|=2048);var se=0,B=0;T&&(se|=16),I==="UNIX"?(B=798,se|=function(ee,F){var W=ee;return ee||(W=F?16893:33204),(65535&W)<<16}(E.unixPermissions,T)):(B=20,se|=function(ee){return 63&(ee||0)}(E.dosPermissions)),S=V.getUTCHours(),S<<=6,S|=V.getUTCMinutes(),S<<=5,S|=V.getUTCSeconds()/2,j=V.getUTCFullYear()-1980,j<<=4,j|=V.getUTCMonth()+1,j<<=5,j|=V.getUTCDate(),Z&&($=m(1,1)+m(_(C),4)+D,q+="up"+m($.length,2)+$),te&&(N=m(1,1)+m(_(P),4)+K,q+="uc"+m(N.length,2)+N);var ne="";return ne+=`
\0`,ne+=m(re,2),ne+=k.magic,ne+=m(S,2),ne+=m(j,2),ne+=m(J.crc32,4),ne+=m(J.compressedSize,4),ne+=m(J.uncompressedSize,4),ne+=m(C.length,2),ne+=m(q.length,2),{fileRecord:M.LOCAL_FILE_HEADER+ne+C+q,dirRecord:M.CENTRAL_FILE_HEADER+m(B,2)+ne+m(P.length,2)+"\0\0\0\0"+m(se,4)+m(G,4)+C+q+P}}var y=d("../utils"),b=d("../stream/GenericWorker"),x=d("../utf8"),_=d("../crc32"),M=d("../signature");function U(L,O,H,G){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=H,this.encodeFileName=G,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(U,b),U.prototype.push=function(L){var O=L.meta.percent||0,H=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,b.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:H?(O+100*(H-G-1))/H:100}}))},U.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var O=this.streamFiles&&!L.file.dir;if(O){var H=v(L,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},U.prototype.closedSource=function(L){this.accumulate=!1;var O=this.streamFiles&&!L.file.dir,H=v(L,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),O)this.push({data:function(G){return M.DATA_DESCRIPTOR+m(G.crc32,4)+m(G.compressedSize,4)+m(G.uncompressedSize,4)}(L),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},U.prototype.flush=function(){for(var L=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var H=this.bytesWritten-L,G=function(I,R,S,j,E){var k=y.transformTo("string",E(j));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(I,2)+m(I,2)+m(R,4)+m(S,4)+m(k.length,2)+k}(this.dirRecords.length,H,L,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},U.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},U.prototype.registerPrevious=function(L){this._sources.push(L);var O=this;return L.on("data",function(H){O.processChunk(H)}),L.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),L.on("error",function(H){O.error(H)}),this},U.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},U.prototype.error=function(L){var O=this._sources;if(!b.prototype.error.call(this,L))return!1;for(var H=0;H<O.length;H++)try{O[H].error(L)}catch{}return!0},U.prototype.lock=function(){b.prototype.lock.call(this);for(var L=this._sources,O=0;O<L.length;O++)L[O].lock()},p.exports=U},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,p,g){var m=d("../compressions"),v=d("./ZipFileWorker");g.generateWorker=function(y,b,x){var _=new v(b.streamFiles,x,b.platform,b.encodeFileName),M=0;try{y.forEach(function(U,L){M++;var O=function(R,S){var j=R||S,E=m[j];if(!E)throw new Error(j+" is not a valid compression method !");return E}(L.options.compression,b.compression),H=L.options.compressionOptions||b.compressionOptions||{},G=L.dir,I=L.date;L._compressWorker(O,H).withStreamInfo("file",{name:U,dir:G,date:I,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(_)}),_.entriesCount=M}catch(U){_.error(U)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(v,y){return new m().loadAsync(v,y)},m.external=d("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,p,g){var m=d("./utils"),v=d("./external"),y=d("./utf8"),b=d("./zipEntries"),x=d("./stream/Crc32Probe"),_=d("./nodejsUtils");function M(U){return new v.Promise(function(L,O){var H=U.decompressed.getContentWorker().pipe(new x);H.on("error",function(G){O(G)}).on("end",function(){H.streamInfo.crc32!==U.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}p.exports=function(U,L){var O=this;return L=m.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),_.isNode&&_.isStream(U)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",U,!0,L.optimizedBinaryString,L.base64).then(function(H){var G=new b(L);return G.load(H),G}).then(function(H){var G=[v.Promise.resolve(H)],I=H.files;if(L.checkCRC32)for(var R=0;R<I.length;R++)G.push(M(I[R]));return v.Promise.all(G)}).then(function(H){for(var G=H.shift(),I=G.files,R=0;R<I.length;R++){var S=I[R],j=S.fileNameStr,E=m.resolve(S.fileNameStr);O.file(E,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:L.createFolders}),S.dir||(O.file(E).unsafeOriginalName=j)}return G.zipComment.length&&(O.comment=G.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,p,g){var m=d("../utils"),v=d("../stream/GenericWorker");function y(b,x){v.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(x)}m.inherits(y,v),y.prototype._bindStream=function(b){var x=this;(this._stream=b).pause(),b.on("data",function(_){x.push({data:_,meta:{percent:0}})}).on("error",function(_){x.isPaused?this.generatedError=_:x.error(_)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,p,g){var m=d("readable-stream").Readable;function v(y,b,x){m.call(this,b),this._helper=y;var _=this;y.on("data",function(M,U){_.push(M)||_._helper.pause(),x&&x(U)}).on("error",function(M){_.emit("error",M)}).on("end",function(){_.push(null)})}d("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},p.exports=v},{"../utils":32,"readable-stream":16}],14:[function(d,p,g){p.exports={isNode:a!==void 0,newBufferFrom:function(m,v){if(a.from&&a.from!==Uint8Array.from)return a.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new a(m,v)},allocBuffer:function(m){if(a.alloc)return a.alloc(m);var v=new a(m);return v.fill(0),v},isBuffer:function(m){return a.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,p,g){function m(E,k,A){var C,D=y.getTypeOf(k),z=y.extend(A||{},_);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(E=I(E)),z.createFolders&&(C=G(E))&&R.call(this,C,!0);var P=D==="string"&&z.binary===!1&&z.base64===!1;A&&A.binary!==void 0||(z.binary=!P),(k instanceof M&&k.uncompressedSize===0||z.dir||!k||k.length===0)&&(z.base64=!1,z.binary=!0,k="",z.compression="STORE",D="string");var K;K=k instanceof M||k instanceof b?k:O.isNode&&O.isStream(k)?new H(E,k):y.prepareContent(E,k,z.binary,z.optimizedBinaryString,z.base64);var Z=new U(E,K,z);this.files[E]=Z}var v=d("./utf8"),y=d("./utils"),b=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),_=d("./defaults"),M=d("./compressedObject"),U=d("./zipObject"),L=d("./generate"),O=d("./nodejsUtils"),H=d("./nodejs/NodejsStreamInputAdapter"),G=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var k=E.lastIndexOf("/");return 0<k?E.substring(0,k):""},I=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},R=function(E,k){return k=k!==void 0?k:_.createFolders,E=I(E),this.files[E]||m.call(this,E,null,{dir:!0,createFolders:k}),this.files[E]};function S(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var k,A,C;for(k in this.files)C=this.files[k],(A=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&E(A,C)},filter:function(E){var k=[];return this.forEach(function(A,C){E(A,C)&&k.push(C)}),k},file:function(E,k,A){if(arguments.length!==1)return E=this.root+E,m.call(this,E,k,A),this;if(S(E)){var C=E;return this.filter(function(z,P){return!P.dir&&C.test(z)})}var D=this.files[this.root+E];return D&&!D.dir?D:null},folder:function(E){if(!E)return this;if(S(E))return this.filter(function(D,z){return z.dir&&E.test(D)});var k=this.root+E,A=R.call(this,k),C=this.clone();return C.root=A.name,C},remove:function(E){E=this.root+E;var k=this.files[E];if(k||(E.slice(-1)!=="/"&&(E+="/"),k=this.files[E]),k&&!k.dir)delete this.files[E];else for(var A=this.filter(function(D,z){return z.name.slice(0,E.length)===E}),C=0;C<A.length;C++)delete this.files[A[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var k,A={};try{if((A=y.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");y.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var C=A.comment||this.comment||"";k=L.generateWorker(this,A,C)}catch(D){(k=new b("error")).error(D)}return new x(k,A.type||"string",A.mimeType)},generateAsync:function(E,k){return this.generateInternalStream(E).accumulate(k)},generateNodeStream:function(E,k){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(k)}};p.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,p,g){p.exports=d("stream")},{stream:void 0}],17:[function(d,p,g){var m=d("./DataReader");function v(y){m.call(this,y);for(var b=0;b<this.data.length;b++)y[b]=255&y[b]}d("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var b=y.charCodeAt(0),x=y.charCodeAt(1),_=y.charCodeAt(2),M=y.charCodeAt(3),U=this.length-4;0<=U;--U)if(this.data[U]===b&&this.data[U+1]===x&&this.data[U+2]===_&&this.data[U+3]===M)return U-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var b=y.charCodeAt(0),x=y.charCodeAt(1),_=y.charCodeAt(2),M=y.charCodeAt(3),U=this.readData(4);return b===U[0]&&x===U[1]&&_===U[2]&&M===U[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./DataReader":18}],18:[function(d,p,g){var m=d("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var b,x=0;for(this.checkOffset(y),b=this.index+y-1;b>=this.index;b--)x=(x<<8)+this.byteAt(b);return this.index+=y,x},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},p.exports=v},{"../utils":32}],19:[function(d,p,g){var m=d("./Uint8ArrayReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,p,g){var m=d("./DataReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./DataReader":18}],21:[function(d,p,g){var m=d("./ArrayReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(d,p,g){var m=d("../utils"),v=d("../support"),y=d("./ArrayReader"),b=d("./StringReader"),x=d("./NodeBufferReader"),_=d("./Uint8ArrayReader");p.exports=function(M){var U=m.getTypeOf(M);return m.checkSupport(U),U!=="string"||v.uint8array?U==="nodebuffer"?new x(M):v.uint8array?new _(m.transformTo("uint8array",M)):new y(m.transformTo("array",M)):new b(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,p,g){var m=d("./GenericWorker"),v=d("../utils");function y(b){m.call(this,"ConvertWorker to "+b),this.destType=b}v.inherits(y,m),y.prototype.processChunk=function(b){this.push({data:v.transformTo(this.destType,b.data),meta:b.meta})},p.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,p,g){var m=d("./GenericWorker"),v=d("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,m),y.prototype.processChunk=function(b){this.streamInfo.crc32=v(b.data,this.streamInfo.crc32||0),this.push(b)},p.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,p,g){var m=d("../utils"),v=d("./GenericWorker");function y(b){v.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}m.inherits(y,v),y.prototype.processChunk=function(b){if(b){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+b.data.length}v.prototype.processChunk.call(this,b)},p.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,p,g){var m=d("../utils"),v=d("./GenericWorker");function y(b){v.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(_){x.dataIsReady=!0,x.data=_,x.max=_&&_.length||0,x.type=m.getTypeOf(_),x.isPaused||x._tickAndRepeat()},function(_){x.error(_)})}m.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,x);break;case"uint8array":b=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":b=this.data.slice(this.index,x)}return this.index=x,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,p,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var b=0;b<this._listeners[v].length;b++)this._listeners[v][b].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(b){y.processChunk(b)}),v.on("end",function(){y.end()}),v.on("error",function(b){y.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},p.exports=m},{}],29:[function(d,p,g){var m=d("../utils"),v=d("./ConvertWorker"),y=d("./GenericWorker"),b=d("../base64"),x=d("../support"),_=d("../external"),M=null;if(x.nodestream)try{M=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function U(L,O,H){var G=O;switch(O){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=O,this._mimeType=H,m.checkSupport(G),this._worker=L.pipe(new v(G)),L.lock()}catch(I){this._worker=new y("error"),this._worker.error(I)}}U.prototype={accumulate:function(L){return function(O,H){return new _.Promise(function(G,I){var R=[],S=O._internalType,j=O._outputType,E=O._mimeType;O.on("data",function(k,A){R.push(k),H&&H(A)}).on("error",function(k){R=[],I(k)}).on("end",function(){try{var k=function(A,C,D){switch(A){case"blob":return m.newBlob(m.transformTo("arraybuffer",C),D);case"base64":return b.encode(C);default:return m.transformTo(A,C)}}(j,function(A,C){var D,z=0,P=null,K=0;for(D=0;D<C.length;D++)K+=C[D].length;switch(A){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(P=new Uint8Array(K),D=0;D<C.length;D++)P.set(C[D],z),z+=C[D].length;return P;case"nodebuffer":return a.concat(C);default:throw new Error("concat : unsupported type '"+A+"'")}}(S,R),E);G(k)}catch(A){I(A)}R=[]}).resume()})}(this,L)},on:function(L,O){var H=this;return L==="data"?this._worker.on(L,function(G){O.call(H,G.data,G.meta)}):this._worker.on(L,function(){m.delay(O,arguments,H)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},L)}},p.exports=U},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=a!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!d("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(d,p,g){for(var m=d("./utils"),v=d("./support"),y=d("./nodejsUtils"),b=d("./stream/GenericWorker"),x=new Array(256),_=0;_<256;_++)x[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function M(){b.call(this,"utf-8 decode"),this.leftOver=null}function U(){b.call(this,"utf-8 encode")}x[254]=x[254]=1,g.utf8encode=function(L){return v.nodebuffer?y.newBufferFrom(L,"utf-8"):function(O){var H,G,I,R,S,j=O.length,E=0;for(R=0;R<j;R++)(64512&(G=O.charCodeAt(R)))==55296&&R+1<j&&(64512&(I=O.charCodeAt(R+1)))==56320&&(G=65536+(G-55296<<10)+(I-56320),R++),E+=G<128?1:G<2048?2:G<65536?3:4;for(H=v.uint8array?new Uint8Array(E):new Array(E),R=S=0;S<E;R++)(64512&(G=O.charCodeAt(R)))==55296&&R+1<j&&(64512&(I=O.charCodeAt(R+1)))==56320&&(G=65536+(G-55296<<10)+(I-56320),R++),G<128?H[S++]=G:(G<2048?H[S++]=192|G>>>6:(G<65536?H[S++]=224|G>>>12:(H[S++]=240|G>>>18,H[S++]=128|G>>>12&63),H[S++]=128|G>>>6&63),H[S++]=128|63&G);return H}(L)},g.utf8decode=function(L){return v.nodebuffer?m.transformTo("nodebuffer",L).toString("utf-8"):function(O){var H,G,I,R,S=O.length,j=new Array(2*S);for(H=G=0;H<S;)if((I=O[H++])<128)j[G++]=I;else if(4<(R=x[I]))j[G++]=65533,H+=R-1;else{for(I&=R===2?31:R===3?15:7;1<R&&H<S;)I=I<<6|63&O[H++],R--;1<R?j[G++]=65533:I<65536?j[G++]=I:(I-=65536,j[G++]=55296|I>>10&1023,j[G++]=56320|1023&I)}return j.length!==G&&(j.subarray?j=j.subarray(0,G):j.length=G),m.applyFromCharCode(j)}(L=m.transformTo(v.uint8array?"uint8array":"array",L))},m.inherits(M,b),M.prototype.processChunk=function(L){var O=m.transformTo(v.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var H=O;(O=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),O.set(H,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var G=function(R,S){var j;for((S=S||R.length)>R.length&&(S=R.length),j=S-1;0<=j&&(192&R[j])==128;)j--;return j<0||j===0?S:j+x[R[j]]>S?j:S}(O),I=O;G!==O.length&&(v.uint8array?(I=O.subarray(0,G),this.leftOver=O.subarray(G,O.length)):(I=O.slice(0,G),this.leftOver=O.slice(G,O.length))),this.push({data:g.utf8decode(I),meta:L.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=M,m.inherits(U,b),U.prototype.processChunk=function(L){this.push({data:g.utf8encode(L.data),meta:L.meta})},g.Utf8EncodeWorker=U},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,p,g){var m=d("./support"),v=d("./base64"),y=d("./nodejsUtils"),b=d("./external");function x(H){return H}function _(H,G){for(var I=0;I<H.length;++I)G[I]=255&H.charCodeAt(I);return G}d("setimmediate"),g.newBlob=function(H,G){g.checkSupport("blob");try{return new Blob([H],{type:G})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(H),I.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(H,G,I){var R=[],S=0,j=H.length;if(j<=I)return String.fromCharCode.apply(null,H);for(;S<j;)G==="array"||G==="nodebuffer"?R.push(String.fromCharCode.apply(null,H.slice(S,Math.min(S+I,j)))):R.push(String.fromCharCode.apply(null,H.subarray(S,Math.min(S+I,j)))),S+=I;return R.join("")},stringifyByChar:function(H){for(var G="",I=0;I<H.length;I++)G+=String.fromCharCode(H[I]);return G},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function U(H){var G=65536,I=g.getTypeOf(H),R=!0;if(I==="uint8array"?R=M.applyCanBeUsed.uint8array:I==="nodebuffer"&&(R=M.applyCanBeUsed.nodebuffer),R)for(;1<G;)try{return M.stringifyByChunk(H,I,G)}catch{G=Math.floor(G/2)}return M.stringifyByChar(H)}function L(H,G){for(var I=0;I<H.length;I++)G[I]=H[I];return G}g.applyFromCharCode=U;var O={};O.string={string:x,array:function(H){return _(H,new Array(H.length))},arraybuffer:function(H){return O.string.uint8array(H).buffer},uint8array:function(H){return _(H,new Uint8Array(H.length))},nodebuffer:function(H){return _(H,y.allocBuffer(H.length))}},O.array={string:U,array:x,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return y.newBufferFrom(H)}},O.arraybuffer={string:function(H){return U(new Uint8Array(H))},array:function(H){return L(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:x,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return y.newBufferFrom(new Uint8Array(H))}},O.uint8array={string:U,array:function(H){return L(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:x,nodebuffer:function(H){return y.newBufferFrom(H)}},O.nodebuffer={string:U,array:function(H){return L(H,new Array(H.length))},arraybuffer:function(H){return O.nodebuffer.uint8array(H).buffer},uint8array:function(H){return L(H,new Uint8Array(H.length))},nodebuffer:x},g.transformTo=function(H,G){if(G=G||"",!H)return G;g.checkSupport(H);var I=g.getTypeOf(G);return O[I][H](G)},g.resolve=function(H){for(var G=H.split("/"),I=[],R=0;R<G.length;R++){var S=G[R];S==="."||S===""&&R!==0&&R!==G.length-1||(S===".."?I.pop():I.push(S))}return I.join("/")},g.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(H)?"nodebuffer":m.uint8array&&H instanceof Uint8Array?"uint8array":m.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(H){if(!m[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(H){var G,I,R="";for(I=0;I<(H||"").length;I++)R+="\\x"+((G=H.charCodeAt(I))<16?"0":"")+G.toString(16).toUpperCase();return R},g.delay=function(H,G,I){f(function(){H.apply(I||null,G||[])})},g.inherits=function(H,G){function I(){}I.prototype=G.prototype,H.prototype=new I},g.extend=function(){var H,G,I={};for(H=0;H<arguments.length;H++)for(G in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],G)&&I[G]===void 0&&(I[G]=arguments[H][G]);return I},g.prepareContent=function(H,G,I,R,S){return b.Promise.resolve(G).then(function(j){return m.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new b.Promise(function(E,k){var A=new FileReader;A.onload=function(C){E(C.target.result)},A.onerror=function(C){k(C.target.error)},A.readAsArrayBuffer(j)}):j}).then(function(j){var E=g.getTypeOf(j);return E?(E==="arraybuffer"?j=g.transformTo("uint8array",j):E==="string"&&(S?j=v.decode(j):I&&R!==!0&&(j=function(k){return _(k,m.uint8array?new Uint8Array(k.length):new Array(k.length))}(j))),j):b.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,p,g){var m=d("./reader/readerFor"),v=d("./utils"),y=d("./signature"),b=d("./zipEntry"),x=d("./support");function _(M){this.files=[],this.loadOptions=M}_.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var U=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(U)+", expected "+v.pretty(M)+")")}},isSignature:function(M,U){var L=this.reader.index;this.reader.setIndex(M);var O=this.reader.readString(4)===U;return this.reader.setIndex(L),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),U=x.uint8array?"uint8array":"array",L=v.transformTo(U,M);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,U,L,O=this.zip64EndOfCentralSize-44;0<O;)M=this.reader.readInt(2),U=this.reader.readInt(4),L=this.reader.readData(U),this.zip64ExtensibleData[M]={id:M,length:U,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,U;for(M=0;M<this.files.length;M++)U=this.files[M],this.reader.setIndex(U.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),U.readLocalPart(this.reader),U.handleUTF8(),U.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(M=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var U=M;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var O=U-L;if(0<O)this.isSignature(U,y.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(M){this.reader=m(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,p,g){var m=d("./reader/readerFor"),v=d("./utils"),y=d("./compressedObject"),b=d("./crc32"),x=d("./utf8"),_=d("./compressions"),M=d("./support");function U(L,O){this.options=L,this.loadOptions=O}U.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var O,H;if(L.skip(22),this.fileNameLength=L.readInt(2),H=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=function(G){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)&&_[I].magic===G)return _[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,O,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var O=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(O),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var O,H,G,I=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<I;)O=L.readInt(2),H=L.readInt(2),G=L.readData(H),this.extraFields[O]={id:O,length:H,value:G};L.setIndex(I)},handleUTF8:function(){var L=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var H=v.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var I=v.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var O=m(L.value);return O.readInt(1)!==1||b(this.fileName)!==O.readInt(4)?null:x.utf8decode(O.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var O=m(L.value);return O.readInt(1)!==1||b(this.fileComment)!==O.readInt(4)?null:x.utf8decode(O.readData(L.length-5))}return null}},p.exports=U},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,p,g){function m(O,H,G){this.name=O,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=H,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var v=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),b=d("./utf8"),x=d("./compressedObject"),_=d("./stream/GenericWorker");m.prototype={internalStream:function(O){var H=null,G="string";try{if(!O)throw new Error("No output type specified.");var I=(G=O.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),H=this._decompressWorker();var R=!this._dataBinary;R&&!I&&(H=H.pipe(new b.Utf8EncodeWorker)),!R&&I&&(H=H.pipe(new b.Utf8DecodeWorker))}catch(S){(H=new _("error")).error(S)}return new v(H,G,"")},async:function(O,H){return this.internalStream(O).accumulate(H)},nodeStream:function(O,H){return this.internalStream(O||"nodebuffer").toNodejsStream(H)},_compressWorker:function(O,H){if(this._data instanceof x&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new b.Utf8EncodeWorker)),x.createWorkerFrom(G,O,H)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof _?this._data:new y(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],U=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<M.length;L++)m.prototype[M[L]]=U;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,p,g){(function(m){var v,y,b=m.MutationObserver||m.WebKitMutationObserver;if(b){var x=0,_=new b(O),M=m.document.createTextNode("");_.observe(M,{characterData:!0}),v=function(){M.data=x=++x%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var H=m.document.createElement("script");H.onreadystatechange=function(){O(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},m.document.documentElement.appendChild(H)}:function(){setTimeout(O,0)};else{var U=new m.MessageChannel;U.port1.onmessage=O,v=function(){U.port2.postMessage(0)}}var L=[];function O(){var H,G;y=!0;for(var I=L.length;I;){for(G=L,L=[],H=-1;++H<I;)G[H]();I=L.length}y=!1}p.exports=function(H){L.push(H)!==1||y||v()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,p,g){var m=d("immediate");function v(){}var y={},b=["REJECTED"],x=["FULFILLED"],_=["PENDING"];function M(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,I!==v&&H(this,I)}function U(I,R,S){this.promise=I,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function L(I,R,S){m(function(){var j;try{j=R(S)}catch(E){return y.reject(I,E)}j===I?y.reject(I,new TypeError("Cannot resolve promise with itself")):y.resolve(I,j)})}function O(I){var R=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof R=="function")return function(){R.apply(I,arguments)}}function H(I,R){var S=!1;function j(A){S||(S=!0,y.reject(I,A))}function E(A){S||(S=!0,y.resolve(I,A))}var k=G(function(){R(E,j)});k.status==="error"&&j(k.value)}function G(I,R){var S={};try{S.value=I(R),S.status="success"}catch(j){S.status="error",S.value=j}return S}(p.exports=M).prototype.finally=function(I){if(typeof I!="function")return this;var R=this.constructor;return this.then(function(S){return R.resolve(I()).then(function(){return S})},function(S){return R.resolve(I()).then(function(){throw S})})},M.prototype.catch=function(I){return this.then(null,I)},M.prototype.then=function(I,R){if(typeof I!="function"&&this.state===x||typeof R!="function"&&this.state===b)return this;var S=new this.constructor(v);return this.state!==_?L(S,this.state===x?I:R,this.outcome):this.queue.push(new U(S,I,R)),S},U.prototype.callFulfilled=function(I){y.resolve(this.promise,I)},U.prototype.otherCallFulfilled=function(I){L(this.promise,this.onFulfilled,I)},U.prototype.callRejected=function(I){y.reject(this.promise,I)},U.prototype.otherCallRejected=function(I){L(this.promise,this.onRejected,I)},y.resolve=function(I,R){var S=G(O,R);if(S.status==="error")return y.reject(I,S.value);var j=S.value;if(j)H(I,j);else{I.state=x,I.outcome=R;for(var E=-1,k=I.queue.length;++E<k;)I.queue[E].callFulfilled(R)}return I},y.reject=function(I,R){I.state=b,I.outcome=R;for(var S=-1,j=I.queue.length;++S<j;)I.queue[S].callRejected(R);return I},M.resolve=function(I){return I instanceof this?I:y.resolve(new this(v),I)},M.reject=function(I){var R=new this(v);return y.reject(R,I)},M.all=function(I){var R=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,j=!1;if(!S)return this.resolve([]);for(var E=new Array(S),k=0,A=-1,C=new this(v);++A<S;)D(I[A],A);return C;function D(z,P){R.resolve(z).then(function(K){E[P]=K,++k!==S||j||(j=!0,y.resolve(C,E))},function(K){j||(j=!0,y.reject(C,K))})}},M.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=I.length,S=!1;if(!R)return this.resolve([]);for(var j,E=-1,k=new this(v);++E<R;)j=I[E],this.resolve(j).then(function(A){S||(S=!0,y.resolve(k,A))},function(A){S||(S=!0,y.reject(k,A))});return k}},{immediate:36}],38:[function(d,p,g){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,p,g){var m=d("./zlib/deflate"),v=d("./utils/common"),y=d("./utils/strings"),b=d("./zlib/messages"),x=d("./zlib/zstream"),_=Object.prototype.toString;function M(L){if(!(this instanceof M))return new M(L);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},L||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var H=m.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(H!==0)throw new Error(b[H]);if(O.header&&m.deflateSetHeader(this.strm,O.header),O.dictionary){var G;if(G=typeof O.dictionary=="string"?y.string2buf(O.dictionary):_.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(H=m.deflateSetDictionary(this.strm,G))!==0)throw new Error(b[H]);this._dict_set=!0}}function U(L,O){var H=new M(O);if(H.push(L,!0),H.err)throw H.msg||b[H.err];return H.result}M.prototype.push=function(L,O){var H,G,I=this.strm,R=this.options.chunkSize;if(this.ended)return!1;G=O===~~O?O:O===!0?4:0,typeof L=="string"?I.input=y.string2buf(L):_.call(L)==="[object ArrayBuffer]"?I.input=new Uint8Array(L):I.input=L,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new v.Buf8(R),I.next_out=0,I.avail_out=R),(H=m.deflate(I,G))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(I.output,I.next_out))):this.onData(v.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&H!==1);return G===4?(H=m.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):G!==2||(this.onEnd(0),!(I.avail_out=0))},M.prototype.onData=function(L){this.chunks.push(L)},M.prototype.onEnd=function(L){L===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},g.Deflate=M,g.deflate=U,g.deflateRaw=function(L,O){return(O=O||{}).raw=!0,U(L,O)},g.gzip=function(L,O){return(O=O||{}).gzip=!0,U(L,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,p,g){var m=d("./zlib/inflate"),v=d("./utils/common"),y=d("./utils/strings"),b=d("./zlib/constants"),x=d("./zlib/messages"),_=d("./zlib/zstream"),M=d("./zlib/gzheader"),U=Object.prototype.toString;function L(H){if(!(this instanceof L))return new L(H);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},H||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||H&&H.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var I=m.inflateInit2(this.strm,G.windowBits);if(I!==b.Z_OK)throw new Error(x[I]);this.header=new M,m.inflateGetHeader(this.strm,this.header)}function O(H,G){var I=new L(G);if(I.push(H,!0),I.err)throw I.msg||x[I.err];return I.result}L.prototype.push=function(H,G){var I,R,S,j,E,k,A=this.strm,C=this.options.chunkSize,D=this.options.dictionary,z=!1;if(this.ended)return!1;R=G===~~G?G:G===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof H=="string"?A.input=y.binstring2buf(H):U.call(H)==="[object ArrayBuffer]"?A.input=new Uint8Array(H):A.input=H,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new v.Buf8(C),A.next_out=0,A.avail_out=C),(I=m.inflate(A,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&D&&(k=typeof D=="string"?y.string2buf(D):U.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,I=m.inflateSetDictionary(this.strm,k)),I===b.Z_BUF_ERROR&&z===!0&&(I=b.Z_OK,z=!1),I!==b.Z_STREAM_END&&I!==b.Z_OK)return this.onEnd(I),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&I!==b.Z_STREAM_END&&(A.avail_in!==0||R!==b.Z_FINISH&&R!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=y.utf8border(A.output,A.next_out),j=A.next_out-S,E=y.buf2string(A.output,S),A.next_out=j,A.avail_out=C-j,j&&v.arraySet(A.output,A.output,S,j,0),this.onData(E)):this.onData(v.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(z=!0)}while((0<A.avail_in||A.avail_out===0)&&I!==b.Z_STREAM_END);return I===b.Z_STREAM_END&&(R=b.Z_FINISH),R===b.Z_FINISH?(I=m.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===b.Z_OK):R!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(A.avail_out=0))},L.prototype.onData=function(H){this.chunks.push(H)},L.prototype.onEnd=function(H){H===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},g.Inflate=L,g.inflate=O,g.inflateRaw=function(H,G){return(G=G||{}).raw=!0,O(H,G)},g.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(b){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var _=x.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var M in _)_.hasOwnProperty(M)&&(b[M]=_[M])}}return b},g.shrinkBuf=function(b,x){return b.length===x?b:b.subarray?b.subarray(0,x):(b.length=x,b)};var v={arraySet:function(b,x,_,M,U){if(x.subarray&&b.subarray)b.set(x.subarray(_,_+M),U);else for(var L=0;L<M;L++)b[U+L]=x[_+L]},flattenChunks:function(b){var x,_,M,U,L,O;for(x=M=0,_=b.length;x<_;x++)M+=b[x].length;for(O=new Uint8Array(M),x=U=0,_=b.length;x<_;x++)L=b[x],O.set(L,U),U+=L.length;return O}},y={arraySet:function(b,x,_,M,U){for(var L=0;L<M;L++)b[U+L]=x[_+L]},flattenChunks:function(b){return[].concat.apply([],b)}};g.setTyped=function(b){b?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(m)},{}],42:[function(d,p,g){var m=d("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var b=new m.Buf8(256),x=0;x<256;x++)b[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function _(M,U){if(U<65537&&(M.subarray&&y||!M.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(M,U));for(var L="",O=0;O<U;O++)L+=String.fromCharCode(M[O]);return L}b[254]=b[254]=1,g.string2buf=function(M){var U,L,O,H,G,I=M.length,R=0;for(H=0;H<I;H++)(64512&(L=M.charCodeAt(H)))==55296&&H+1<I&&(64512&(O=M.charCodeAt(H+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),H++),R+=L<128?1:L<2048?2:L<65536?3:4;for(U=new m.Buf8(R),H=G=0;G<R;H++)(64512&(L=M.charCodeAt(H)))==55296&&H+1<I&&(64512&(O=M.charCodeAt(H+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),H++),L<128?U[G++]=L:(L<2048?U[G++]=192|L>>>6:(L<65536?U[G++]=224|L>>>12:(U[G++]=240|L>>>18,U[G++]=128|L>>>12&63),U[G++]=128|L>>>6&63),U[G++]=128|63&L);return U},g.buf2binstring=function(M){return _(M,M.length)},g.binstring2buf=function(M){for(var U=new m.Buf8(M.length),L=0,O=U.length;L<O;L++)U[L]=M.charCodeAt(L);return U},g.buf2string=function(M,U){var L,O,H,G,I=U||M.length,R=new Array(2*I);for(L=O=0;L<I;)if((H=M[L++])<128)R[O++]=H;else if(4<(G=b[H]))R[O++]=65533,L+=G-1;else{for(H&=G===2?31:G===3?15:7;1<G&&L<I;)H=H<<6|63&M[L++],G--;1<G?R[O++]=65533:H<65536?R[O++]=H:(H-=65536,R[O++]=55296|H>>10&1023,R[O++]=56320|1023&H)}return _(R,O)},g.utf8border=function(M,U){var L;for((U=U||M.length)>M.length&&(U=M.length),L=U-1;0<=L&&(192&M[L])==128;)L--;return L<0||L===0?U:L+b[M[L]]>U?L:U}},{"./common":41}],43:[function(d,p,g){p.exports=function(m,v,y,b){for(var x=65535&m|0,_=m>>>16&65535|0,M=0;y!==0;){for(y-=M=2e3<y?2e3:y;_=_+(x=x+v[b++]|0)|0,--M;);x%=65521,_%=65521}return x|_<<16|0}},{}],44:[function(d,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,p,g){var m=function(){for(var v,y=[],b=0;b<256;b++){v=b;for(var x=0;x<8;x++)v=1&v?3988292384^v>>>1:v>>>1;y[b]=v}return y}();p.exports=function(v,y,b,x){var _=m,M=x+b;v^=-1;for(var U=x;U<M;U++)v=v>>>8^_[255&(v^y[U])];return-1^v}},{}],46:[function(d,p,g){var m,v=d("../utils/common"),y=d("./trees"),b=d("./adler32"),x=d("./crc32"),_=d("./messages"),M=-2,U=258,L=262,O=113;function H(q,$){return q.msg=_[$],$}function G(q){return(q<<1)-(4<q?9:0)}function I(q){for(var $=q.length;0<=--$;)q[$]=0}function R(q){var $=q.state,N=$.pending;N>q.avail_out&&(N=q.avail_out),N!==0&&(v.arraySet(q.output,$.pending_buf,$.pending_out,N,q.next_out),q.next_out+=N,$.pending_out+=N,q.total_out+=N,q.avail_out-=N,$.pending-=N,$.pending===0&&($.pending_out=0))}function S(q,$){y._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,$),q.block_start=q.strstart,R(q.strm)}function j(q,$){q.pending_buf[q.pending++]=$}function E(q,$){q.pending_buf[q.pending++]=$>>>8&255,q.pending_buf[q.pending++]=255&$}function k(q,$){var N,T,V=q.max_chain_length,J=q.strstart,re=q.prev_length,se=q.nice_match,B=q.strstart>q.w_size-L?q.strstart-(q.w_size-L):0,ne=q.window,ee=q.w_mask,F=q.prev,W=q.strstart+U,Y=ne[J+re-1],ae=ne[J+re];q.prev_length>=q.good_match&&(V>>=2),se>q.lookahead&&(se=q.lookahead);do if(ne[(N=$)+re]===ae&&ne[N+re-1]===Y&&ne[N]===ne[J]&&ne[++N]===ne[J+1]){J+=2,N++;do;while(ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&J<W);if(T=U-(W-J),J=W-U,re<T){if(q.match_start=$,se<=(re=T))break;Y=ne[J+re-1],ae=ne[J+re]}}while(($=F[$&ee])>B&&--V!=0);return re<=q.lookahead?re:q.lookahead}function A(q){var $,N,T,V,J,re,se,B,ne,ee,F=q.w_size;do{if(V=q.window_size-q.lookahead-q.strstart,q.strstart>=F+(F-L)){for(v.arraySet(q.window,q.window,F,F,0),q.match_start-=F,q.strstart-=F,q.block_start-=F,$=N=q.hash_size;T=q.head[--$],q.head[$]=F<=T?T-F:0,--N;);for($=N=F;T=q.prev[--$],q.prev[$]=F<=T?T-F:0,--N;);V+=F}if(q.strm.avail_in===0)break;if(re=q.strm,se=q.window,B=q.strstart+q.lookahead,ee=void 0,(ne=V)<(ee=re.avail_in)&&(ee=ne),N=ee===0?0:(re.avail_in-=ee,v.arraySet(se,re.input,re.next_in,ee,B),re.state.wrap===1?re.adler=b(re.adler,se,ee,B):re.state.wrap===2&&(re.adler=x(re.adler,se,ee,B)),re.next_in+=ee,re.total_in+=ee,ee),q.lookahead+=N,q.lookahead+q.insert>=3)for(J=q.strstart-q.insert,q.ins_h=q.window[J],q.ins_h=(q.ins_h<<q.hash_shift^q.window[J+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[J+3-1])&q.hash_mask,q.prev[J&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=J,J++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<L&&q.strm.avail_in!==0)}function C(q,$){for(var N,T;;){if(q.lookahead<L){if(A(q),q.lookahead<L&&$===0)return 1;if(q.lookahead===0)break}if(N=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),N!==0&&q.strstart-N<=q.w_size-L&&(q.match_length=k(q,N)),q.match_length>=3)if(T=y._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else T=y._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(T&&(S(q,!1),q.strm.avail_out===0))return 1}return q.insert=q.strstart<2?q.strstart:2,$===4?(S(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(S(q,!1),q.strm.avail_out===0)?1:2}function D(q,$){for(var N,T,V;;){if(q.lookahead<L){if(A(q),q.lookahead<L&&$===0)return 1;if(q.lookahead===0)break}if(N=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,N!==0&&q.prev_length<q.max_lazy_match&&q.strstart-N<=q.w_size-L&&(q.match_length=k(q,N),q.match_length<=5&&(q.strategy===1||q.match_length===3&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(V=q.strstart+q.lookahead-3,T=y._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=V&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=2,q.strstart++,T&&(S(q,!1),q.strm.avail_out===0))return 1}else if(q.match_available){if((T=y._tr_tally(q,0,q.window[q.strstart-1]))&&S(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(T=y._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,$===4?(S(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(S(q,!1),q.strm.avail_out===0)?1:2}function z(q,$,N,T,V){this.good_length=q,this.max_lazy=$,this.nice_length=N,this.max_chain=T,this.func=V}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(q){var $;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,($=q.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:O,q.adler=$.wrap===2?0:1,$.last_flush=0,y._tr_init($),0):H(q,M)}function Z(q){var $=K(q);return $===0&&function(N){N.window_size=2*N.w_size,I(N.head),N.max_lazy_match=m[N.level].max_lazy,N.good_match=m[N.level].good_length,N.nice_match=m[N.level].nice_length,N.max_chain_length=m[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=2,N.match_available=0,N.ins_h=0}(q.state),$}function te(q,$,N,T,V,J){if(!q)return M;var re=1;if($===-1&&($=6),T<0?(re=0,T=-T):15<T&&(re=2,T-=16),V<1||9<V||N!==8||T<8||15<T||$<0||9<$||J<0||4<J)return H(q,M);T===8&&(T=9);var se=new P;return(q.state=se).strm=q,se.wrap=re,se.gzhead=null,se.w_bits=T,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=V+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+3-1)/3),se.window=new v.Buf8(2*se.w_size),se.head=new v.Buf16(se.hash_size),se.prev=new v.Buf16(se.w_size),se.lit_bufsize=1<<V+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new v.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=$,se.strategy=J,se.method=N,Z(q)}m=[new z(0,0,0,0,function(q,$){var N=65535;for(N>q.pending_buf_size-5&&(N=q.pending_buf_size-5);;){if(q.lookahead<=1){if(A(q),q.lookahead===0&&$===0)return 1;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var T=q.block_start+N;if((q.strstart===0||q.strstart>=T)&&(q.lookahead=q.strstart-T,q.strstart=T,S(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-L&&(S(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,$===4?(S(q,!0),q.strm.avail_out===0?3:4):(q.strstart>q.block_start&&(S(q,!1),q.strm.avail_out),1)}),new z(4,4,8,4,C),new z(4,5,16,8,C),new z(4,6,32,32,C),new z(4,4,16,16,D),new z(8,16,32,32,D),new z(8,16,128,128,D),new z(8,32,128,256,D),new z(32,128,258,1024,D),new z(32,258,258,4096,D)],g.deflateInit=function(q,$){return te(q,$,8,15,8,0)},g.deflateInit2=te,g.deflateReset=Z,g.deflateResetKeep=K,g.deflateSetHeader=function(q,$){return q&&q.state?q.state.wrap!==2?M:(q.state.gzhead=$,0):M},g.deflate=function(q,$){var N,T,V,J;if(!q||!q.state||5<$||$<0)return q?H(q,M):M;if(T=q.state,!q.output||!q.input&&q.avail_in!==0||T.status===666&&$!==4)return H(q,q.avail_out===0?-5:M);if(T.strm=q,N=T.last_flush,T.last_flush=$,T.status===42)if(T.wrap===2)q.adler=0,j(T,31),j(T,139),j(T,8),T.gzhead?(j(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),j(T,255&T.gzhead.time),j(T,T.gzhead.time>>8&255),j(T,T.gzhead.time>>16&255),j(T,T.gzhead.time>>24&255),j(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),j(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(j(T,255&T.gzhead.extra.length),j(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(q.adler=x(q.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(j(T,0),j(T,0),j(T,0),j(T,0),j(T,0),j(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),j(T,3),T.status=O);else{var re=8+(T.w_bits-8<<4)<<8;re|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(re|=32),re+=31-re%31,T.status=O,E(T,re),T.strstart!==0&&(E(T,q.adler>>>16),E(T,65535&q.adler)),q.adler=1}if(T.status===69)if(T.gzhead.extra){for(V=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending!==T.pending_buf_size));)j(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){V=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending===T.pending_buf_size)){J=1;break}J=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,j(T,J)}while(J!==0);T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),J===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){V=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending===T.pending_buf_size)){J=1;break}J=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,j(T,J)}while(J!==0);T.gzhead.hcrc&&T.pending>V&&(q.adler=x(q.adler,T.pending_buf,T.pending-V,V)),J===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&R(q),T.pending+2<=T.pending_buf_size&&(j(T,255&q.adler),j(T,q.adler>>8&255),q.adler=0,T.status=O)):T.status=O),T.pending!==0){if(R(q),q.avail_out===0)return T.last_flush=-1,0}else if(q.avail_in===0&&G($)<=G(N)&&$!==4)return H(q,-5);if(T.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||T.lookahead!==0||$!==0&&T.status!==666){var se=T.strategy===2?function(B,ne){for(var ee;;){if(B.lookahead===0&&(A(B),B.lookahead===0)){if(ne===0)return 1;break}if(B.match_length=0,ee=y._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ee&&(S(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,ne===4?(S(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(S(B,!1),B.strm.avail_out===0)?1:2}(T,$):T.strategy===3?function(B,ne){for(var ee,F,W,Y,ae=B.window;;){if(B.lookahead<=U){if(A(B),B.lookahead<=U&&ne===0)return 1;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=3&&0<B.strstart&&(F=ae[W=B.strstart-1])===ae[++W]&&F===ae[++W]&&F===ae[++W]){Y=B.strstart+U;do;while(F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&W<Y);B.match_length=U-(Y-W),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=3?(ee=y._tr_tally(B,1,B.match_length-3),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ee=y._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ee&&(S(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,ne===4?(S(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(S(B,!1),B.strm.avail_out===0)?1:2}(T,$):m[T.level].func(T,$);if(se!==3&&se!==4||(T.status=666),se===1||se===3)return q.avail_out===0&&(T.last_flush=-1),0;if(se===2&&($===1?y._tr_align(T):$!==5&&(y._tr_stored_block(T,0,0,!1),$===3&&(I(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),R(q),q.avail_out===0))return T.last_flush=-1,0}return $!==4?0:T.wrap<=0?1:(T.wrap===2?(j(T,255&q.adler),j(T,q.adler>>8&255),j(T,q.adler>>16&255),j(T,q.adler>>24&255),j(T,255&q.total_in),j(T,q.total_in>>8&255),j(T,q.total_in>>16&255),j(T,q.total_in>>24&255)):(E(T,q.adler>>>16),E(T,65535&q.adler)),R(q),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?0:1)},g.deflateEnd=function(q){var $;return q&&q.state?($=q.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==103&&$!==O&&$!==666?H(q,M):(q.state=null,$===O?H(q,-3):0):M},g.deflateSetDictionary=function(q,$){var N,T,V,J,re,se,B,ne,ee=$.length;if(!q||!q.state||(J=(N=q.state).wrap)===2||J===1&&N.status!==42||N.lookahead)return M;for(J===1&&(q.adler=b(q.adler,$,ee,0)),N.wrap=0,ee>=N.w_size&&(J===0&&(I(N.head),N.strstart=0,N.block_start=0,N.insert=0),ne=new v.Buf8(N.w_size),v.arraySet(ne,$,ee-N.w_size,N.w_size,0),$=ne,ee=N.w_size),re=q.avail_in,se=q.next_in,B=q.input,q.avail_in=ee,q.next_in=0,q.input=$,A(N);N.lookahead>=3;){for(T=N.strstart,V=N.lookahead-2;N.ins_h=(N.ins_h<<N.hash_shift^N.window[T+3-1])&N.hash_mask,N.prev[T&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=T,T++,--V;);N.strstart=T,N.lookahead=2,A(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,q.next_in=se,q.input=B,q.avail_in=re,N.wrap=J,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,p,g){p.exports=function(m,v){var y,b,x,_,M,U,L,O,H,G,I,R,S,j,E,k,A,C,D,z,P,K,Z,te,q;y=m.state,b=m.next_in,te=m.input,x=b+(m.avail_in-5),_=m.next_out,q=m.output,M=_-(v-m.avail_out),U=_+(m.avail_out-257),L=y.dmax,O=y.wsize,H=y.whave,G=y.wnext,I=y.window,R=y.hold,S=y.bits,j=y.lencode,E=y.distcode,k=(1<<y.lenbits)-1,A=(1<<y.distbits)-1;e:do{S<15&&(R+=te[b++]<<S,S+=8,R+=te[b++]<<S,S+=8),C=j[R&k];t:for(;;){if(R>>>=D=C>>>24,S-=D,(D=C>>>16&255)==0)q[_++]=65535&C;else{if(!(16&D)){if(!(64&D)){C=j[(65535&C)+(R&(1<<D)-1)];continue t}if(32&D){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}z=65535&C,(D&=15)&&(S<D&&(R+=te[b++]<<S,S+=8),z+=R&(1<<D)-1,R>>>=D,S-=D),S<15&&(R+=te[b++]<<S,S+=8,R+=te[b++]<<S,S+=8),C=E[R&A];r:for(;;){if(R>>>=D=C>>>24,S-=D,!(16&(D=C>>>16&255))){if(!(64&D)){C=E[(65535&C)+(R&(1<<D)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if(P=65535&C,S<(D&=15)&&(R+=te[b++]<<S,(S+=8)<D&&(R+=te[b++]<<S,S+=8)),L<(P+=R&(1<<D)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(R>>>=D,S-=D,(D=_-M)<P){if(H<(D=P-D)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(Z=I,(K=0)===G){if(K+=O-D,D<z){for(z-=D;q[_++]=I[K++],--D;);K=_-P,Z=q}}else if(G<D){if(K+=O+G-D,(D-=G)<z){for(z-=D;q[_++]=I[K++],--D;);if(K=0,G<z){for(z-=D=G;q[_++]=I[K++],--D;);K=_-P,Z=q}}}else if(K+=G-D,D<z){for(z-=D;q[_++]=I[K++],--D;);K=_-P,Z=q}for(;2<z;)q[_++]=Z[K++],q[_++]=Z[K++],q[_++]=Z[K++],z-=3;z&&(q[_++]=Z[K++],1<z&&(q[_++]=Z[K++]))}else{for(K=_-P;q[_++]=q[K++],q[_++]=q[K++],q[_++]=q[K++],2<(z-=3););z&&(q[_++]=q[K++],1<z&&(q[_++]=q[K++]))}break}}break}}while(b<x&&_<U);b-=z=S>>3,R&=(1<<(S-=z<<3))-1,m.next_in=b,m.next_out=_,m.avail_in=b<x?x-b+5:5-(b-x),m.avail_out=_<U?U-_+257:257-(_-U),y.hold=R,y.bits=S}},{}],49:[function(d,p,g){var m=d("../utils/common"),v=d("./adler32"),y=d("./crc32"),b=d("./inffast"),x=d("./inftrees"),_=-2;function M(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(k){var A;return k&&k.state?(A=k.state,k.total_in=k.total_out=A.total=0,k.msg="",A.wrap&&(k.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new m.Buf32(852),A.distcode=A.distdyn=new m.Buf32(592),A.sane=1,A.back=-1,0):_}function O(k){var A;return k&&k.state?((A=k.state).wsize=0,A.whave=0,A.wnext=0,L(k)):_}function H(k,A){var C,D;return k&&k.state?(D=k.state,A<0?(C=0,A=-A):(C=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?_:(D.window!==null&&D.wbits!==A&&(D.window=null),D.wrap=C,D.wbits=A,O(k))):_}function G(k,A){var C,D;return k?(D=new U,(k.state=D).window=null,(C=H(k,A))!==0&&(k.state=null),C):_}var I,R,S=!0;function j(k){if(S){var A;for(I=new m.Buf32(512),R=new m.Buf32(32),A=0;A<144;)k.lens[A++]=8;for(;A<256;)k.lens[A++]=9;for(;A<280;)k.lens[A++]=7;for(;A<288;)k.lens[A++]=8;for(x(1,k.lens,0,288,I,0,k.work,{bits:9}),A=0;A<32;)k.lens[A++]=5;x(2,k.lens,0,32,R,0,k.work,{bits:5}),S=!1}k.lencode=I,k.lenbits=9,k.distcode=R,k.distbits=5}function E(k,A,C,D){var z,P=k.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new m.Buf8(P.wsize)),D>=P.wsize?(m.arraySet(P.window,A,C-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(D<(z=P.wsize-P.wnext)&&(z=D),m.arraySet(P.window,A,C-D,z,P.wnext),(D-=z)?(m.arraySet(P.window,A,C-D,D,0),P.wnext=D,P.whave=P.wsize):(P.wnext+=z,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=z))),0}g.inflateReset=O,g.inflateReset2=H,g.inflateResetKeep=L,g.inflateInit=function(k){return G(k,15)},g.inflateInit2=G,g.inflate=function(k,A){var C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W,Y,ae,ce,le,de=0,me=new m.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return _;(C=k.state).mode===12&&(C.mode=13),K=k.next_out,z=k.output,te=k.avail_out,P=k.next_in,D=k.input,Z=k.avail_in,q=C.hold,$=C.bits,N=Z,T=te,ae=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(2&C.wrap&&q===35615){me[C.check=0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0),$=q=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&q)<<8)+(q>>8))%31){k.msg="incorrect header check",C.mode=30;break}if((15&q)!=8){k.msg="unknown compression method",C.mode=30;break}if($-=4,Y=8+(15&(q>>>=4)),C.wbits===0)C.wbits=Y;else if(Y>C.wbits){k.msg="invalid window size",C.mode=30;break}C.dmax=1<<Y,k.adler=C.check=1,C.mode=512&q?10:12,$=q=0;break;case 2:for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(C.flags=q,(255&C.flags)!=8){k.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){k.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=q>>8&1),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0,C.mode=3;case 3:for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.head&&(C.head.time=q),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,me[2]=q>>>16&255,me[3]=q>>>24&255,C.check=y(C.check,me,4,0)),$=q=0,C.mode=4;case 4:for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.head&&(C.head.xflags=255&q,C.head.os=q>>8),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0,C.mode=5;case 5:if(1024&C.flags){for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.length=q,C.head&&(C.head.extra_len=q),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Z<(V=C.length)&&(V=Z),V&&(C.head&&(Y=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),m.arraySet(C.head.extra,D,P,V,Y)),512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,C.length-=V),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Z===0)break e;for(V=0;Y=D[P+V++],C.head&&Y&&C.length<65536&&(C.head.name+=String.fromCharCode(Y)),Y&&V<Z;);if(512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,Y)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Z===0)break e;for(V=0;Y=D[P+V++],C.head&&Y&&C.length<65536&&(C.head.comment+=String.fromCharCode(Y)),Y&&V<Z;);if(512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,Y)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q!==(65535&C.check)){k.msg="header crc mismatch",C.mode=30;break}$=q=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),k.adler=C.check=0,C.mode=12;break;case 10:for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}k.adler=C.check=M(q),$=q=0,C.mode=11;case 11:if(C.havedict===0)return k.next_out=K,k.avail_out=te,k.next_in=P,k.avail_in=Z,C.hold=q,C.bits=$,2;k.adler=C.check=1,C.mode=12;case 12:if(A===5||A===6)break e;case 13:if(C.last){q>>>=7&$,$-=7&$,C.mode=27;break}for(;$<3;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}switch(C.last=1&q,$-=1,3&(q>>>=1)){case 0:C.mode=14;break;case 1:if(j(C),C.mode=20,A!==6)break;q>>>=2,$-=2;break e;case 2:C.mode=17;break;case 3:k.msg="invalid block type",C.mode=30}q>>>=2,$-=2;break;case 14:for(q>>>=7&$,$-=7&$;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if((65535&q)!=(q>>>16^65535)){k.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&q,$=q=0,C.mode=15,A===6)break e;case 15:C.mode=16;case 16:if(V=C.length){if(Z<V&&(V=Z),te<V&&(V=te),V===0)break e;m.arraySet(z,D,P,V,K),Z-=V,P+=V,te-=V,K+=V,C.length-=V;break}C.mode=12;break;case 17:for(;$<14;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(C.nlen=257+(31&q),q>>>=5,$-=5,C.ndist=1+(31&q),q>>>=5,$-=5,C.ncode=4+(15&q),q>>>=4,$-=4,286<C.nlen||30<C.ndist){k.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;$<3;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.lens[ge[C.have++]]=7&q,q>>>=3,$-=3}for(;C.have<19;)C.lens[ge[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},ae=x(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ae){k.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;B=(de=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(ne<16)q>>>=se,$-=se,C.lens[C.have++]=ne;else{if(ne===16){for(le=se+2;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q>>>=se,$-=se,C.have===0){k.msg="invalid bit length repeat",C.mode=30;break}Y=C.lens[C.have-1],V=3+(3&q),q>>>=2,$-=2}else if(ne===17){for(le=se+3;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}$-=se,Y=0,V=3+(7&(q>>>=se)),q>>>=3,$-=3}else{for(le=se+7;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}$-=se,Y=0,V=11+(127&(q>>>=se)),q>>>=7,$-=7}if(C.have+V>C.nlen+C.ndist){k.msg="invalid bit length repeat",C.mode=30;break}for(;V--;)C.lens[C.have++]=Y}}if(C.mode===30)break;if(C.lens[256]===0){k.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},ae=x(1,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ae){k.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},ae=x(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,ae){k.msg="invalid distances set",C.mode=30;break}if(C.mode=20,A===6)break e;case 20:C.mode=21;case 21:if(6<=Z&&258<=te){k.next_out=K,k.avail_out=te,k.next_in=P,k.avail_in=Z,C.hold=q,C.bits=$,b(k,T),K=k.next_out,z=k.output,te=k.avail_out,P=k.next_in,D=k.input,Z=k.avail_in,q=C.hold,$=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;B=(de=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(B&&!(240&B)){for(ee=se,F=B,W=ne;B=(de=C.lencode[W+((q&(1<<ee+F)-1)>>ee)])>>>16&255,ne=65535&de,!(ee+(se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}q>>>=ee,$-=ee,C.back+=ee}if(q>>>=se,$-=se,C.back+=se,C.length=ne,B===0){C.mode=26;break}if(32&B){C.back=-1,C.mode=12;break}if(64&B){k.msg="invalid literal/length code",C.mode=30;break}C.extra=15&B,C.mode=22;case 22:if(C.extra){for(le=C.extra;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.length+=q&(1<<C.extra)-1,q>>>=C.extra,$-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;B=(de=C.distcode[q&(1<<C.distbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(!(240&B)){for(ee=se,F=B,W=ne;B=(de=C.distcode[W+((q&(1<<ee+F)-1)>>ee)])>>>16&255,ne=65535&de,!(ee+(se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}q>>>=ee,$-=ee,C.back+=ee}if(q>>>=se,$-=se,C.back+=se,64&B){k.msg="invalid distance code",C.mode=30;break}C.offset=ne,C.extra=15&B,C.mode=24;case 24:if(C.extra){for(le=C.extra;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.offset+=q&(1<<C.extra)-1,q>>>=C.extra,$-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){k.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(te===0)break e;if(V=T-te,C.offset>V){if((V=C.offset-V)>C.whave&&C.sane){k.msg="invalid distance too far back",C.mode=30;break}J=V>C.wnext?(V-=C.wnext,C.wsize-V):C.wnext-V,V>C.length&&(V=C.length),re=C.window}else re=z,J=K-C.offset,V=C.length;for(te<V&&(V=te),te-=V,C.length-=V;z[K++]=re[J++],--V;);C.length===0&&(C.mode=21);break;case 26:if(te===0)break e;z[K++]=C.length,te--,C.mode=21;break;case 27:if(C.wrap){for(;$<32;){if(Z===0)break e;Z--,q|=D[P++]<<$,$+=8}if(T-=te,k.total_out+=T,C.total+=T,T&&(k.adler=C.check=C.flags?y(C.check,z,T,K-T):v(C.check,z,T,K-T)),T=te,(C.flags?q:M(q))!==C.check){k.msg="incorrect data check",C.mode=30;break}$=q=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q!==(4294967295&C.total)){k.msg="incorrect length check",C.mode=30;break}$=q=0}C.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return _}return k.next_out=K,k.avail_out=te,k.next_in=P,k.avail_in=Z,C.hold=q,C.bits=$,(C.wsize||T!==k.avail_out&&C.mode<30&&(C.mode<27||A!==4))&&E(k,k.output,k.next_out,T-k.avail_out)?(C.mode=31,-4):(N-=k.avail_in,T-=k.avail_out,k.total_in+=N,k.total_out+=T,C.total+=T,C.wrap&&T&&(k.adler=C.check=C.flags?y(C.check,z,T,k.next_out-T):v(C.check,z,T,k.next_out-T)),k.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(N==0&&T===0||A===4)&&ae===0&&(ae=-5),ae)},g.inflateEnd=function(k){if(!k||!k.state)return _;var A=k.state;return A.window&&(A.window=null),k.state=null,0},g.inflateGetHeader=function(k,A){var C;return k&&k.state&&2&(C=k.state).wrap?((C.head=A).done=!1,0):_},g.inflateSetDictionary=function(k,A){var C,D=A.length;return k&&k.state?(C=k.state).wrap!==0&&C.mode!==11?_:C.mode===11&&v(1,A,D,0)!==C.check?-3:E(k,A,D,D)?(C.mode=31,-4):(C.havedict=1,0):_},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,p,g){var m=d("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(_,M,U,L,O,H,G,I){var R,S,j,E,k,A,C,D,z,P=I.bits,K=0,Z=0,te=0,q=0,$=0,N=0,T=0,V=0,J=0,re=0,se=null,B=0,ne=new m.Buf16(16),ee=new m.Buf16(16),F=null,W=0;for(K=0;K<=15;K++)ne[K]=0;for(Z=0;Z<L;Z++)ne[M[U+Z]]++;for($=P,q=15;1<=q&&ne[q]===0;q--);if(q<$&&($=q),q===0)return O[H++]=20971520,O[H++]=20971520,I.bits=1,0;for(te=1;te<q&&ne[te]===0;te++);for($<te&&($=te),K=V=1;K<=15;K++)if(V<<=1,(V-=ne[K])<0)return-1;if(0<V&&(_===0||q!==1))return-1;for(ee[1]=0,K=1;K<15;K++)ee[K+1]=ee[K]+ne[K];for(Z=0;Z<L;Z++)M[U+Z]!==0&&(G[ee[M[U+Z]]++]=Z);if(A=_===0?(se=F=G,19):_===1?(se=v,B-=257,F=y,W-=257,256):(se=b,F=x,-1),K=te,k=H,T=Z=re=0,j=-1,E=(J=1<<(N=$))-1,_===1&&852<J||_===2&&592<J)return 1;for(;;){for(C=K-T,z=G[Z]<A?(D=0,G[Z]):G[Z]>A?(D=F[W+G[Z]],se[B+G[Z]]):(D=96,0),R=1<<K-T,te=S=1<<N;O[k+(re>>T)+(S-=R)]=C<<24|D<<16|z|0,S!==0;);for(R=1<<K-1;re&R;)R>>=1;if(R!==0?(re&=R-1,re+=R):re=0,Z++,--ne[K]==0){if(K===q)break;K=M[U+G[Z]]}if($<K&&(re&E)!==j){for(T===0&&(T=$),k+=te,V=1<<(N=K-T);N+T<q&&!((V-=ne[N+T])<=0);)N++,V<<=1;if(J+=1<<N,_===1&&852<J||_===2&&592<J)return 1;O[j=re&E]=$<<24|N<<16|k-H|0}}return re!==0&&(O[k+re]=K-T<<24|64<<16|0),I.bits=$,0}},{"../utils/common":41}],51:[function(d,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,p,g){var m=d("../utils/common");function v(F){for(var W=F.length;0<=--W;)F[W]=0}var y=256,b=286,x=30,_=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);v(H);var G=new Array(60);v(G);var I=new Array(512);v(I);var R=new Array(256);v(R);var S=new Array(29);v(S);var j,E,k,A=new Array(x);function C(F,W,Y,ae,ce){this.static_tree=F,this.extra_bits=W,this.extra_base=Y,this.elems=ae,this.max_length=ce,this.has_stree=F&&F.length}function D(F,W){this.dyn_tree=F,this.max_code=0,this.stat_desc=W}function z(F){return F<256?I[F]:I[256+(F>>>7)]}function P(F,W){F.pending_buf[F.pending++]=255&W,F.pending_buf[F.pending++]=W>>>8&255}function K(F,W,Y){F.bi_valid>16-Y?(F.bi_buf|=W<<F.bi_valid&65535,P(F,F.bi_buf),F.bi_buf=W>>16-F.bi_valid,F.bi_valid+=Y-16):(F.bi_buf|=W<<F.bi_valid&65535,F.bi_valid+=Y)}function Z(F,W,Y){K(F,Y[2*W],Y[2*W+1])}function te(F,W){for(var Y=0;Y|=1&F,F>>>=1,Y<<=1,0<--W;);return Y>>>1}function q(F,W,Y){var ae,ce,le=new Array(16),de=0;for(ae=1;ae<=_;ae++)le[ae]=de=de+Y[ae-1]<<1;for(ce=0;ce<=W;ce++){var me=F[2*ce+1];me!==0&&(F[2*ce]=te(le[me]++,me))}}function $(F){var W;for(W=0;W<b;W++)F.dyn_ltree[2*W]=0;for(W=0;W<x;W++)F.dyn_dtree[2*W]=0;for(W=0;W<19;W++)F.bl_tree[2*W]=0;F.dyn_ltree[512]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function N(F){8<F.bi_valid?P(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function T(F,W,Y,ae){var ce=2*W,le=2*Y;return F[ce]<F[le]||F[ce]===F[le]&&ae[W]<=ae[Y]}function V(F,W,Y){for(var ae=F.heap[Y],ce=Y<<1;ce<=F.heap_len&&(ce<F.heap_len&&T(W,F.heap[ce+1],F.heap[ce],F.depth)&&ce++,!T(W,ae,F.heap[ce],F.depth));)F.heap[Y]=F.heap[ce],Y=ce,ce<<=1;F.heap[Y]=ae}function J(F,W,Y){var ae,ce,le,de,me=0;if(F.last_lit!==0)for(;ae=F.pending_buf[F.d_buf+2*me]<<8|F.pending_buf[F.d_buf+2*me+1],ce=F.pending_buf[F.l_buf+me],me++,ae===0?Z(F,ce,W):(Z(F,(le=R[ce])+y+1,W),(de=M[le])!==0&&K(F,ce-=S[le],de),Z(F,le=z(--ae),Y),(de=U[le])!==0&&K(F,ae-=A[le],de)),me<F.last_lit;);Z(F,256,W)}function re(F,W){var Y,ae,ce,le=W.dyn_tree,de=W.stat_desc.static_tree,me=W.stat_desc.has_stree,ge=W.stat_desc.elems,ke=-1;for(F.heap_len=0,F.heap_max=573,Y=0;Y<ge;Y++)le[2*Y]!==0?(F.heap[++F.heap_len]=ke=Y,F.depth[Y]=0):le[2*Y+1]=0;for(;F.heap_len<2;)le[2*(ce=F.heap[++F.heap_len]=ke<2?++ke:0)]=1,F.depth[ce]=0,F.opt_len--,me&&(F.static_len-=de[2*ce+1]);for(W.max_code=ke,Y=F.heap_len>>1;1<=Y;Y--)V(F,le,Y);for(ce=ge;Y=F.heap[1],F.heap[1]=F.heap[F.heap_len--],V(F,le,1),ae=F.heap[1],F.heap[--F.heap_max]=Y,F.heap[--F.heap_max]=ae,le[2*ce]=le[2*Y]+le[2*ae],F.depth[ce]=(F.depth[Y]>=F.depth[ae]?F.depth[Y]:F.depth[ae])+1,le[2*Y+1]=le[2*ae+1]=ce,F.heap[1]=ce++,V(F,le,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(Re,je){var We,Je,qe,pt,$e,Ue,Ke=je.dyn_tree,rt=je.max_code,Ze=je.stat_desc.static_tree,Et=je.stat_desc.has_stree,wt=je.stat_desc.extra_bits,bt=je.stat_desc.extra_base,Wt=je.stat_desc.max_length,_t=0;for(pt=0;pt<=_;pt++)Re.bl_count[pt]=0;for(Ke[2*Re.heap[Re.heap_max]+1]=0,We=Re.heap_max+1;We<573;We++)Wt<(pt=Ke[2*Ke[2*(Je=Re.heap[We])+1]+1]+1)&&(pt=Wt,_t++),Ke[2*Je+1]=pt,rt<Je||(Re.bl_count[pt]++,$e=0,bt<=Je&&($e=wt[Je-bt]),Ue=Ke[2*Je],Re.opt_len+=Ue*(pt+$e),Et&&(Re.static_len+=Ue*(Ze[2*Je+1]+$e)));if(_t!==0){do{for(pt=Wt-1;Re.bl_count[pt]===0;)pt--;Re.bl_count[pt]--,Re.bl_count[pt+1]+=2,Re.bl_count[Wt]--,_t-=2}while(0<_t);for(pt=Wt;pt!==0;pt--)for(Je=Re.bl_count[pt];Je!==0;)rt<(qe=Re.heap[--We])||(Ke[2*qe+1]!==pt&&(Re.opt_len+=(pt-Ke[2*qe+1])*Ke[2*qe],Ke[2*qe+1]=pt),Je--)}}(F,W),q(le,ke,F.bl_count)}function se(F,W,Y){var ae,ce,le=-1,de=W[1],me=0,ge=7,ke=4;for(de===0&&(ge=138,ke=3),W[2*(Y+1)+1]=65535,ae=0;ae<=Y;ae++)ce=de,de=W[2*(ae+1)+1],++me<ge&&ce===de||(me<ke?F.bl_tree[2*ce]+=me:ce!==0?(ce!==le&&F.bl_tree[2*ce]++,F.bl_tree[32]++):me<=10?F.bl_tree[34]++:F.bl_tree[36]++,le=ce,ke=(me=0)===de?(ge=138,3):ce===de?(ge=6,3):(ge=7,4))}function B(F,W,Y){var ae,ce,le=-1,de=W[1],me=0,ge=7,ke=4;for(de===0&&(ge=138,ke=3),ae=0;ae<=Y;ae++)if(ce=de,de=W[2*(ae+1)+1],!(++me<ge&&ce===de)){if(me<ke)for(;Z(F,ce,F.bl_tree),--me!=0;);else ce!==0?(ce!==le&&(Z(F,ce,F.bl_tree),me--),Z(F,16,F.bl_tree),K(F,me-3,2)):me<=10?(Z(F,17,F.bl_tree),K(F,me-3,3)):(Z(F,18,F.bl_tree),K(F,me-11,7));le=ce,ke=(me=0)===de?(ge=138,3):ce===de?(ge=6,3):(ge=7,4)}}v(A);var ne=!1;function ee(F,W,Y,ae){K(F,0+(ae?1:0),3),function(ce,le,de,me){N(ce),P(ce,de),P(ce,~de),m.arraySet(ce.pending_buf,ce.window,le,de,ce.pending),ce.pending+=de}(F,W,Y)}g._tr_init=function(F){ne||(function(){var W,Y,ae,ce,le,de=new Array(16);for(ce=ae=0;ce<28;ce++)for(S[ce]=ae,W=0;W<1<<M[ce];W++)R[ae++]=ce;for(R[ae-1]=ce,ce=le=0;ce<16;ce++)for(A[ce]=le,W=0;W<1<<U[ce];W++)I[le++]=ce;for(le>>=7;ce<x;ce++)for(A[ce]=le<<7,W=0;W<1<<U[ce]-7;W++)I[256+le++]=ce;for(Y=0;Y<=_;Y++)de[Y]=0;for(W=0;W<=143;)H[2*W+1]=8,W++,de[8]++;for(;W<=255;)H[2*W+1]=9,W++,de[9]++;for(;W<=279;)H[2*W+1]=7,W++,de[7]++;for(;W<=287;)H[2*W+1]=8,W++,de[8]++;for(q(H,287,de),W=0;W<x;W++)G[2*W+1]=5,G[2*W]=te(W,5);j=new C(H,M,257,b,_),E=new C(G,U,0,x,_),k=new C(new Array(0),L,0,19,7)}(),ne=!0),F.l_desc=new D(F.dyn_ltree,j),F.d_desc=new D(F.dyn_dtree,E),F.bl_desc=new D(F.bl_tree,k),F.bi_buf=0,F.bi_valid=0,$(F)},g._tr_stored_block=ee,g._tr_flush_block=function(F,W,Y,ae){var ce,le,de=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(me){var ge,ke=4093624447;for(ge=0;ge<=31;ge++,ke>>>=1)if(1&ke&&me.dyn_ltree[2*ge]!==0)return 0;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return 1;for(ge=32;ge<y;ge++)if(me.dyn_ltree[2*ge]!==0)return 1;return 0}(F)),re(F,F.l_desc),re(F,F.d_desc),de=function(me){var ge;for(se(me,me.dyn_ltree,me.l_desc.max_code),se(me,me.dyn_dtree,me.d_desc.max_code),re(me,me.bl_desc),ge=18;3<=ge&&me.bl_tree[2*O[ge]+1]===0;ge--);return me.opt_len+=3*(ge+1)+5+5+4,ge}(F),ce=F.opt_len+3+7>>>3,(le=F.static_len+3+7>>>3)<=ce&&(ce=le)):ce=le=Y+5,Y+4<=ce&&W!==-1?ee(F,W,Y,ae):F.strategy===4||le===ce?(K(F,2+(ae?1:0),3),J(F,H,G)):(K(F,4+(ae?1:0),3),function(me,ge,ke,Re){var je;for(K(me,ge-257,5),K(me,ke-1,5),K(me,Re-4,4),je=0;je<Re;je++)K(me,me.bl_tree[2*O[je]+1],3);B(me,me.dyn_ltree,ge-1),B(me,me.dyn_dtree,ke-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,de+1),J(F,F.dyn_ltree,F.dyn_dtree)),$(F),ae&&N(F)},g._tr_tally=function(F,W,Y){return F.pending_buf[F.d_buf+2*F.last_lit]=W>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&W,F.pending_buf[F.l_buf+F.last_lit]=255&Y,F.last_lit++,W===0?F.dyn_ltree[2*Y]++:(F.matches++,W--,F.dyn_ltree[2*(R[Y]+y+1)]++,F.dyn_dtree[2*z(W)]++),F.last_lit===F.lit_bufsize-1},g._tr_align=function(F){K(F,2,3),Z(F,256,H),function(W){W.bi_valid===16?(P(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(d,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,p,g){(function(m){(function(v,y){if(!v.setImmediate){var b,x,_,M,U=1,L={},O=!1,H=v.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(v);G=G&&G.setTimeout?G:v,b={}.toString.call(v.process)==="[object process]"?function(j){s.nextTick(function(){R(j)})}:function(){if(v.postMessage&&!v.importScripts){var j=!0,E=v.onmessage;return v.onmessage=function(){j=!1},v.postMessage("","*"),v.onmessage=E,j}}()?(M="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",S,!1):v.attachEvent("onmessage",S),function(j){v.postMessage(M+j,"*")}):v.MessageChannel?((_=new MessageChannel).port1.onmessage=function(j){R(j.data)},function(j){_.port2.postMessage(j)}):H&&"onreadystatechange"in H.createElement("script")?(x=H.documentElement,function(j){var E=H.createElement("script");E.onreadystatechange=function(){R(j),E.onreadystatechange=null,x.removeChild(E),E=null},x.appendChild(E)}):function(j){setTimeout(R,0,j)},G.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var E=new Array(arguments.length-1),k=0;k<E.length;k++)E[k]=arguments[k+1];var A={callback:j,args:E};return L[U]=A,b(U),U++},G.clearImmediate=I}function I(j){delete L[j]}function R(j){if(O)setTimeout(R,0,j);else{var E=L[j];if(E){O=!0;try{(function(k){var A=k.callback,C=k.args;switch(C.length){case 0:A();break;case 1:A(C[0]);break;case 2:A(C[0],C[1]);break;case 3:A(C[0],C[1],C[2]);break;default:A.apply(void 0,C)}})(E)}finally{I(j),O=!1}}}}function S(j){j.source===v&&typeof j.data=="string"&&j.data.indexOf(M)===0&&R(+j.data.slice(M.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,f=u.Symbol,d=f?f.prototype:void 0,p=d?d.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(b){return!!b&&typeof b=="object"}(y)&&h.call(y)=="[object Symbol]"}(m))return p?p.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&a.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[o]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[a]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof s=="object"&&s&&s.Object===Object&&s,b=typeof self=="object"&&self&&self.Object===Object&&self,x=y||b||Function("return this")(),_=typeof i=="object"&&i&&!i.nodeType&&i,M=_&&typeof n=="object"&&n&&!n.nodeType&&n,U=M&&M.exports===_&&y.process,L=function(){try{return U&&U.binding("util")}catch{}}(),O=L&&L.isTypedArray;function H(xe,Le,et,it){for(var Nt=-1,mt=xe?xe.length:0;++Nt<mt;){var yt=xe[Nt];Le(it,yt,et(yt),xe)}return it}function G(xe,Le){for(var et=-1,it=xe?xe.length:0;++et<it;)if(Le(xe[et],et,xe))return!0;return!1}function I(xe){var Le=!1;if(xe!=null&&typeof xe.toString!="function")try{Le=!!(xe+"")}catch{}return Le}function R(xe){var Le=-1,et=Array(xe.size);return xe.forEach(function(it,Nt){et[++Le]=[Nt,it]}),et}function S(xe){var Le=-1,et=Array(xe.size);return xe.forEach(function(it){et[++Le]=it}),et}var j,E,k,A=Array.prototype,C=Function.prototype,D=Object.prototype,z=x["__core-js_shared__"],P=(j=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",K=C.toString,Z=D.hasOwnProperty,te=D.toString,q=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=x.Symbol,N=x.Uint8Array,T=D.propertyIsEnumerable,V=A.splice,J=(E=Object.keys,k=Object,function(xe){return E(k(xe))}),re=jt(x,"DataView"),se=jt(x,"Map"),B=jt(x,"Promise"),ne=jt(x,"Set"),ee=jt(x,"WeakMap"),F=jt(Object,"create"),W=Pe(re),Y=Pe(se),ae=Pe(B),ce=Pe(ne),le=Pe(ee),de=$?$.prototype:void 0,me=de?de.valueOf:void 0,ge=de?de.toString:void 0;function ke(xe){var Le=-1,et=xe?xe.length:0;for(this.clear();++Le<et;){var it=xe[Le];this.set(it[0],it[1])}}function Re(xe){var Le=-1,et=xe?xe.length:0;for(this.clear();++Le<et;){var it=xe[Le];this.set(it[0],it[1])}}function je(xe){var Le=-1,et=xe?xe.length:0;for(this.clear();++Le<et;){var it=xe[Le];this.set(it[0],it[1])}}function We(xe){var Le=-1,et=xe?xe.length:0;for(this.__data__=new je;++Le<et;)this.add(xe[Le])}function Je(xe){this.__data__=new Re(xe)}function qe(xe,Le){var et=It(xe)||Ft(xe)?function(yt,xr){for(var lr=-1,fr=Array(yt);++lr<yt;)fr[lr]=xr(lr);return fr}(xe.length,String):[],it=et.length,Nt=!!it;for(var mt in xe)!Z.call(xe,mt)||Nt&&(mt=="length"||Cr(mt,it))||et.push(mt);return et}function pt(xe,Le){for(var et=xe.length;et--;)if(vt(xe[et][0],Le))return et;return-1}function $e(xe,Le,et,it){return Ke(xe,function(Nt,mt,yt){Le(it,Nt,et(Nt),yt)}),it}ke.prototype.clear=function(){this.__data__=F?F(null):{}},ke.prototype.delete=function(xe){return this.has(xe)&&delete this.__data__[xe]},ke.prototype.get=function(xe){var Le=this.__data__;if(F){var et=Le[xe];return et==="__lodash_hash_undefined__"?void 0:et}return Z.call(Le,xe)?Le[xe]:void 0},ke.prototype.has=function(xe){var Le=this.__data__;return F?Le[xe]!==void 0:Z.call(Le,xe)},ke.prototype.set=function(xe,Le){return this.__data__[xe]=F&&Le===void 0?"__lodash_hash_undefined__":Le,this},Re.prototype.clear=function(){this.__data__=[]},Re.prototype.delete=function(xe){var Le=this.__data__,et=pt(Le,xe);return!(et<0)&&(et==Le.length-1?Le.pop():V.call(Le,et,1),!0)},Re.prototype.get=function(xe){var Le=this.__data__,et=pt(Le,xe);return et<0?void 0:Le[et][1]},Re.prototype.has=function(xe){return pt(this.__data__,xe)>-1},Re.prototype.set=function(xe,Le){var et=this.__data__,it=pt(et,xe);return it<0?et.push([xe,Le]):et[it][1]=Le,this},je.prototype.clear=function(){this.__data__={hash:new ke,map:new(se||Re),string:new ke}},je.prototype.delete=function(xe){return Er(this,xe).delete(xe)},je.prototype.get=function(xe){return Er(this,xe).get(xe)},je.prototype.has=function(xe){return Er(this,xe).has(xe)},je.prototype.set=function(xe,Le){return Er(this,xe).set(xe,Le),this},We.prototype.add=We.prototype.push=function(xe){return this.__data__.set(xe,"__lodash_hash_undefined__"),this},We.prototype.has=function(xe){return this.__data__.has(xe)},Je.prototype.clear=function(){this.__data__=new Re},Je.prototype.delete=function(xe){return this.__data__.delete(xe)},Je.prototype.get=function(xe){return this.__data__.get(xe)},Je.prototype.has=function(xe){return this.__data__.has(xe)},Je.prototype.set=function(xe,Le){var et=this.__data__;if(et instanceof Re){var it=et.__data__;if(!se||it.length<199)return it.push([xe,Le]),this;et=this.__data__=new je(it)}return et.set(xe,Le),this};var Ue,Ke=(Ue=function(xe,Le){return xe&&rt(xe,Le,gn)},function(xe,Le){if(xe==null)return xe;if(!Tt(xe))return Ue(xe,Le);for(var et=xe.length,it=-1,Nt=Object(xe);++it<et&&Le(Nt[it],it,Nt)!==!1;);return xe}),rt=function(xe){return function(Le,et,it){for(var Nt=-1,mt=Object(Le),yt=it(Le),xr=yt.length;xr--;){var lr=yt[++Nt];if(et(mt[lr],lr,mt)===!1)break}return Le}}();function Ze(xe,Le){for(var et=0,it=(Le=dt(Le,xe)?[Le]:ot(Le)).length;xe!=null&&et<it;)xe=xe[Ne(Le[et++])];return et&&et==it?xe:void 0}function Et(xe,Le){return xe!=null&&Le in Object(xe)}function wt(xe,Le,et,it,Nt){return xe===Le||(xe==null||Le==null||!ar(xe)&&!Gr(Le)?xe!=xe&&Le!=Le:function(mt,yt,xr,lr,fr,Xt){var Dr=It(mt),Hr=It(yt),ir="[object Array]",ln="[object Array]";Dr||(ir=(ir=hr(mt))==o?l:ir),Hr||(ln=(ln=hr(yt))==o?l:ln);var In=ir==l&&!I(mt),_n=ln==l&&!I(yt),wi=ir==ln;if(wi&&!In)return Xt||(Xt=new Je),Dr||mn(mt)?qt(mt,yt,xr,lr,fr,Xt):function(Wr,Mr,Aa,Di,yl,Bi,Fi){switch(Aa){case"[object DataView]":if(Wr.byteLength!=Mr.byteLength||Wr.byteOffset!=Mr.byteOffset)return!1;Wr=Wr.buffer,Mr=Mr.buffer;case"[object ArrayBuffer]":return!(Wr.byteLength!=Mr.byteLength||!Di(new N(Wr),new N(Mr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+Wr,+Mr);case"[object Error]":return Wr.name==Mr.name&&Wr.message==Mr.message;case"[object RegExp]":case"[object String]":return Wr==Mr+"";case a:var Ls=R;case c:var bl=2&Bi;if(Ls||(Ls=S),Wr.size!=Mr.size&&!bl)return!1;var vc=Fi.get(Wr);if(vc)return vc==Mr;Bi|=1,Fi.set(Wr,Mr);var Ro=qt(Ls(Wr),Ls(Mr),Di,yl,Bi,Fi);return Fi.delete(Wr),Ro;case"[object Symbol]":if(me)return me.call(Wr)==me.call(Mr)}return!1}(mt,yt,ir,xr,lr,fr,Xt);if(!(2&fr)){var xi=In&&Z.call(mt,"__wrapped__"),Ms=_n&&Z.call(yt,"__wrapped__");if(xi||Ms){var cn=xi?mt.value():mt,Na=Ms?yt.value():yt;return Xt||(Xt=new Je),xr(cn,Na,lr,fr,Xt)}}return wi?(Xt||(Xt=new Je),function(Wr,Mr,Aa,Di,yl,Bi){var Fi=2&yl,Ls=gn(Wr),bl=Ls.length,vc=gn(Mr).length;if(bl!=vc&&!Fi)return!1;for(var Ro=bl;Ro--;){var Ds=Ls[Ro];if(!(Fi?Ds in Mr:Z.call(Mr,Ds)))return!1}var Po=Bi.get(Wr);if(Po&&Bi.get(Mr))return Po==Mr;var na=!0;Bi.set(Wr,Mr),Bi.set(Mr,Wr);for(var Xu=Fi;++Ro<bl;){Ds=Ls[Ro];var Ca=Wr[Ds],Oo=Mr[Ds];if(Di)var or=Fi?Di(Oo,Ca,Ds,Mr,Wr,Bi):Di(Ca,Oo,Ds,Wr,Mr,Bi);if(!(or===void 0?Ca===Oo||Aa(Ca,Oo,Di,yl,Bi):or)){na=!1;break}Xu||(Xu=Ds=="constructor")}if(na&&!Xu){var yc=Wr.constructor,bc=Mr.constructor;yc==bc||!("constructor"in Wr)||!("constructor"in Mr)||typeof yc=="function"&&yc instanceof yc&&typeof bc=="function"&&bc instanceof bc||(na=!1)}return Bi.delete(Wr),Bi.delete(Mr),na}(mt,yt,xr,lr,fr,Xt)):!1}(xe,Le,wt,et,it,Nt))}function bt(xe){return!(!ar(xe)||function(Le){return!!P&&P in Le}(xe))&&(Kt(xe)||I(xe)?q:g).test(Pe(xe))}function Wt(xe){return typeof xe=="function"?xe:xe==null?Qn:typeof xe=="object"?It(xe)?function(it,Nt){return dt(it)&&wr(Nt)?jr(Ne(it),Nt):function(mt){var yt=function(xr,lr,fr){var Xt=xr==null?void 0:Ze(xr,lr);return Xt===void 0?fr:Xt}(mt,it);return yt===void 0&&yt===Nt?function(xr,lr){return xr!=null&&function(fr,Xt,Dr){Xt=dt(Xt,fr)?[Xt]:ot(Xt);for(var Hr,ir=-1,ln=Xt.length;++ir<ln;){var In=Ne(Xt[ir]);if(!(Hr=fr!=null&&Dr(fr,In)))break;fr=fr[In]}return Hr||!!(ln=fr?fr.length:0)&&zt(ln)&&Cr(In,ln)&&(It(fr)||Ft(fr))}(xr,lr,Et)}(mt,it):wt(Nt,yt,void 0,3)}}(xe[0],xe[1]):function(it){var Nt=function(mt){for(var yt=gn(mt),xr=yt.length;xr--;){var lr=yt[xr],fr=mt[lr];yt[xr]=[lr,fr,wr(fr)]}return yt}(it);return Nt.length==1&&Nt[0][2]?jr(Nt[0][0],Nt[0][1]):function(mt){return mt===it||function(yt,xr,lr,fr){var Xt=lr.length,Dr=Xt;if(yt==null)return!Dr;for(yt=Object(yt);Xt--;){var Hr=lr[Xt];if(Hr[2]?Hr[1]!==yt[Hr[0]]:!(Hr[0]in yt))return!1}for(;++Xt<Dr;){var ir=(Hr=lr[Xt])[0],ln=yt[ir],In=Hr[1];if(Hr[2]){if(ln===void 0&&!(ir in yt))return!1}else{var _n=new Je,wi;if(!(wi===void 0?wt(In,ln,fr,3,_n):wi))return!1}}return!0}(mt,it,Nt)}}(xe):dt(Le=xe)?(et=Ne(Le),function(it){return it==null?void 0:it[et]}):function(it){return function(Nt){return Ze(Nt,it)}}(Le);var Le,et}function _t(xe){if(et=(Le=xe)&&Le.constructor,it=typeof et=="function"&&et.prototype||D,Le!==it)return J(xe);var Le,et,it,Nt=[];for(var mt in Object(xe))Z.call(xe,mt)&&mt!="constructor"&&Nt.push(mt);return Nt}function ot(xe){return It(xe)?xe:Gt(xe)}function qt(xe,Le,et,it,Nt,mt){var yt=2&Nt,xr=xe.length,lr=Le.length;if(xr!=lr&&!(yt&&lr>xr))return!1;var fr=mt.get(xe);if(fr&&mt.get(Le))return fr==Le;var Xt=-1,Dr=!0,Hr=1&Nt?new We:void 0;for(mt.set(xe,Le),mt.set(Le,xe);++Xt<xr;){var ir=xe[Xt],ln=Le[Xt];if(it)var In=yt?it(ln,ir,Xt,Le,xe,mt):it(ir,ln,Xt,xe,Le,mt);if(In!==void 0){if(In)continue;Dr=!1;break}if(Hr){if(!G(Le,function(_n,wi){if(!Hr.has(wi)&&(ir===_n||et(ir,_n,it,Nt,mt)))return Hr.add(wi)})){Dr=!1;break}}else if(ir!==ln&&!et(ir,ln,it,Nt,mt)){Dr=!1;break}}return mt.delete(xe),mt.delete(Le),Dr}function Er(xe,Le){var et,it,Nt=xe.__data__;return((it=typeof(et=Le))=="string"||it=="number"||it=="symbol"||it=="boolean"?et!=="__proto__":et===null)?Nt[typeof Le=="string"?"string":"hash"]:Nt.map}function jt(xe,Le){var et=function(it,Nt){return it==null?void 0:it[Nt]}(xe,Le);return bt(et)?et:void 0}var hr=function(xe){return te.call(xe)};function Cr(xe,Le){return!!(Le=Le??9007199254740991)&&(typeof xe=="number"||m.test(xe))&&xe>-1&&xe%1==0&&xe<Le}function dt(xe,Le){if(It(xe))return!1;var et=typeof xe;return!(et!="number"&&et!="symbol"&&et!="boolean"&&xe!=null&&!zr(xe))||h.test(xe)||!u.test(xe)||Le!=null&&xe in Object(Le)}function wr(xe){return xe==xe&&!ar(xe)}function jr(xe,Le){return function(et){return et!=null&&et[xe]===Le&&(Le!==void 0||xe in Object(et))}}(re&&hr(new re(new ArrayBuffer(1)))!="[object DataView]"||se&&hr(new se)!=a||B&&hr(B.resolve())!="[object Promise]"||ne&&hr(new ne)!=c||ee&&hr(new ee)!="[object WeakMap]")&&(hr=function(xe){var Le=te.call(xe),et=Le==l?xe.constructor:void 0,it=et?Pe(et):void 0;if(it)switch(it){case W:return"[object DataView]";case Y:return a;case ae:return"[object Promise]";case ce:return c;case le:return"[object WeakMap]"}return Le});var Gt=Bt(function(xe){var Le;xe=(Le=xe)==null?"":function(it){if(typeof it=="string")return it;if(zr(it))return ge?ge.call(it):"";var Nt=it+"";return Nt=="0"&&1/it==-1/0?"-0":Nt}(Le);var et=[];return f.test(xe)&&et.push(""),xe.replace(d,function(it,Nt,mt,yt){et.push(mt?yt.replace(p,"$1"):Nt||it)}),et});function Ne(xe){if(typeof xe=="string"||zr(xe))return xe;var Le=xe+"";return Le=="0"&&1/xe==-1/0?"-0":Le}function Pe(xe){if(xe!=null){try{return K.call(xe)}catch{}try{return xe+""}catch{}}return""}var He,ct=(He=function(xe,Le,et){Z.call(xe,et)?xe[et].push(Le):xe[et]=[Le]},function(xe,Le){var et=It(xe)?H:$e,it={};return et(xe,He,Wt(Le),it)});function Bt(xe,Le){if(typeof xe!="function"||Le&&typeof Le!="function")throw new TypeError("Expected a function");var et=function(){var it=arguments,Nt=Le?Le.apply(this,it):it[0],mt=et.cache;if(mt.has(Nt))return mt.get(Nt);var yt=xe.apply(this,it);return et.cache=mt.set(Nt,yt),yt};return et.cache=new(Bt.Cache||je),et}function vt(xe,Le){return xe===Le||xe!=xe&&Le!=Le}function Ft(xe){return function(Le){return Gr(Le)&&Tt(Le)}(xe)&&Z.call(xe,"callee")&&(!T.call(xe,"callee")||te.call(xe)==o)}Bt.Cache=je;var It=Array.isArray;function Tt(xe){return xe!=null&&zt(xe.length)&&!Kt(xe)}function Kt(xe){var Le=ar(xe)?te.call(xe):"";return Le=="[object Function]"||Le=="[object GeneratorFunction]"}function zt(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=9007199254740991}function ar(xe){var Le=typeof xe;return!!xe&&(Le=="object"||Le=="function")}function Gr(xe){return!!xe&&typeof xe=="object"}function zr(xe){return typeof xe=="symbol"||Gr(xe)&&te.call(xe)=="[object Symbol]"}var mn=O?function(xe){return function(Le){return xe(Le)}}(O):function(xe){return Gr(xe)&&zt(xe.length)&&!!v[te.call(xe)]};function gn(xe){return Tt(xe)?qe(xe):_t(xe)}function Qn(xe){return xe}n.exports=ct}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[a]=f["[object Number]"]=f[l]=f["[object RegExp]"]=f[c]=f["[object String]"]=f["[object WeakMap]"]=!1;var d=typeof s=="object"&&s&&s.Object===Object&&s,p=typeof self=="object"&&self&&self.Object===Object&&self,g=d||p||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===m,b=y&&d.process,x=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),_=x&&x.isTypedArray;function M(Ne,Pe){for(var He=-1,ct=Ne==null?0:Ne.length;++He<ct;)if(Pe(Ne[He],He,Ne))return!0;return!1}function U(Ne){var Pe=-1,He=Array(Ne.size);return Ne.forEach(function(ct,Bt){He[++Pe]=[Bt,ct]}),He}function L(Ne){var Pe=-1,He=Array(Ne.size);return Ne.forEach(function(ct){He[++Pe]=ct}),He}var O,H,G,I=Array.prototype,R=Function.prototype,S=Object.prototype,j=g["__core-js_shared__"],E=R.toString,k=S.hasOwnProperty,A=(O=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",C=S.toString,D=RegExp("^"+E.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=y?g.Buffer:void 0,P=g.Symbol,K=g.Uint8Array,Z=S.propertyIsEnumerable,te=I.splice,q=P?P.toStringTag:void 0,$=Object.getOwnPropertySymbols,N=z?z.isBuffer:void 0,T=(H=Object.keys,G=Object,function(Ne){return H(G(Ne))}),V=Et(g,"DataView"),J=Et(g,"Map"),re=Et(g,"Promise"),se=Et(g,"Set"),B=Et(g,"WeakMap"),ne=Et(Object,"create"),ee=_t(V),F=_t(J),W=_t(re),Y=_t(se),ae=_t(B),ce=P?P.prototype:void 0,le=ce?ce.valueOf:void 0;function de(Ne){var Pe=-1,He=Ne==null?0:Ne.length;for(this.clear();++Pe<He;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function me(Ne){var Pe=-1,He=Ne==null?0:Ne.length;for(this.clear();++Pe<He;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function ge(Ne){var Pe=-1,He=Ne==null?0:Ne.length;for(this.clear();++Pe<He;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function ke(Ne){var Pe=-1,He=Ne==null?0:Ne.length;for(this.__data__=new ge;++Pe<He;)this.add(Ne[Pe])}function Re(Ne){var Pe=this.__data__=new me(Ne);this.size=Pe.size}function je(Ne,Pe){var He=Er(Ne),ct=!He&&qt(Ne),Bt=!He&&!ct&&jt(Ne),vt=!He&&!ct&&!Bt&&jr(Ne),Ft=He||ct||Bt||vt,It=Ft?function(zt,ar){for(var Gr=-1,zr=Array(zt);++Gr<zt;)zr[Gr]=ar(Gr);return zr}(Ne.length,String):[],Tt=It.length;for(var Kt in Ne)!k.call(Ne,Kt)||Ft&&(Kt=="length"||Bt&&(Kt=="offset"||Kt=="parent")||vt&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||Wt(Kt,Tt))||It.push(Kt);return It}function We(Ne,Pe){for(var He=Ne.length;He--;)if(ot(Ne[He][0],Pe))return He;return-1}function Je(Ne){return Ne==null?Ne===void 0?"[object Undefined]":"[object Null]":q&&q in Object(Ne)?function(Pe){var He=k.call(Pe,q),ct=Pe[q];try{Pe[q]=void 0;var Bt=!0}catch{}var vt=C.call(Pe);return Bt&&(He?Pe[q]=ct:delete Pe[q]),vt}(Ne):function(Pe){return C.call(Pe)}(Ne)}function qe(Ne){return wr(Ne)&&Je(Ne)==o}function pt(Ne,Pe,He,ct,Bt){return Ne===Pe||(Ne==null||Pe==null||!wr(Ne)&&!wr(Pe)?Ne!=Ne&&Pe!=Pe:function(vt,Ft,It,Tt,Kt,zt){var ar=Er(vt),Gr=Er(Ft),zr=ar?"[object Array]":bt(vt),mn=Gr?"[object Array]":bt(Ft),gn=(zr=zr==o?l:zr)==l,Qn=(mn=mn==o?l:mn)==l,xe=zr==mn;if(xe&&jt(vt)){if(!jt(Ft))return!1;ar=!0,gn=!1}if(xe&&!gn)return zt||(zt=new Re),ar||jr(vt)?Ke(vt,Ft,It,Tt,Kt,zt):function(mt,yt,xr,lr,fr,Xt,Dr){switch(xr){case"[object DataView]":if(mt.byteLength!=yt.byteLength||mt.byteOffset!=yt.byteOffset)return!1;mt=mt.buffer,yt=yt.buffer;case"[object ArrayBuffer]":return!(mt.byteLength!=yt.byteLength||!Xt(new K(mt),new K(yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ot(+mt,+yt);case"[object Error]":return mt.name==yt.name&&mt.message==yt.message;case"[object RegExp]":case"[object String]":return mt==yt+"";case a:var Hr=U;case c:var ir=1&lr;if(Hr||(Hr=L),mt.size!=yt.size&&!ir)return!1;var ln=Dr.get(mt);if(ln)return ln==yt;lr|=2,Dr.set(mt,yt);var In=Ke(Hr(mt),Hr(yt),lr,fr,Xt,Dr);return Dr.delete(mt),In;case"[object Symbol]":if(le)return le.call(mt)==le.call(yt)}return!1}(vt,Ft,zr,It,Tt,Kt,zt);if(!(1&It)){var Le=gn&&k.call(vt,"__wrapped__"),et=Qn&&k.call(Ft,"__wrapped__");if(Le||et){var it=Le?vt.value():vt,Nt=et?Ft.value():Ft;return zt||(zt=new Re),Kt(it,Nt,It,Tt,zt)}}return xe?(zt||(zt=new Re),function(mt,yt,xr,lr,fr,Xt){var Dr=1&xr,Hr=rt(mt),ir=Hr.length,ln=rt(yt).length;if(ir!=ln&&!Dr)return!1;for(var In=ir;In--;){var _n=Hr[In];if(!(Dr?_n in yt:k.call(yt,_n)))return!1}var wi=Xt.get(mt);if(wi&&Xt.get(yt))return wi==yt;var xi=!0;Xt.set(mt,yt),Xt.set(yt,mt);for(var Ms=Dr;++In<ir;){_n=Hr[In];var cn=mt[_n],Na=yt[_n];if(lr)var Wr=Dr?lr(Na,cn,_n,yt,mt,Xt):lr(cn,Na,_n,mt,yt,Xt);if(!(Wr===void 0?cn===Na||fr(cn,Na,xr,lr,Xt):Wr)){xi=!1;break}Ms||(Ms=_n=="constructor")}if(xi&&!Ms){var Mr=mt.constructor,Aa=yt.constructor;Mr==Aa||!("constructor"in mt)||!("constructor"in yt)||typeof Mr=="function"&&Mr instanceof Mr&&typeof Aa=="function"&&Aa instanceof Aa||(xi=!1)}return Xt.delete(mt),Xt.delete(yt),xi}(vt,Ft,It,Tt,Kt,zt)):!1}(Ne,Pe,He,ct,pt,Bt))}function $e(Ne){return!(!dt(Ne)||function(Pe){return!!A&&A in Pe}(Ne))&&(hr(Ne)?D:u).test(_t(Ne))}function Ue(Ne){if(He=(Pe=Ne)&&Pe.constructor,ct=typeof He=="function"&&He.prototype||S,Pe!==ct)return T(Ne);var Pe,He,ct,Bt=[];for(var vt in Object(Ne))k.call(Ne,vt)&&vt!="constructor"&&Bt.push(vt);return Bt}function Ke(Ne,Pe,He,ct,Bt,vt){var Ft=1&He,It=Ne.length,Tt=Pe.length;if(It!=Tt&&!(Ft&&Tt>It))return!1;var Kt=vt.get(Ne);if(Kt&&vt.get(Pe))return Kt==Pe;var zt=-1,ar=!0,Gr=2&He?new ke:void 0;for(vt.set(Ne,Pe),vt.set(Pe,Ne);++zt<It;){var zr=Ne[zt],mn=Pe[zt];if(ct)var gn=Ft?ct(mn,zr,zt,Pe,Ne,vt):ct(zr,mn,zt,Ne,Pe,vt);if(gn!==void 0){if(gn)continue;ar=!1;break}if(Gr){if(!M(Pe,function(Qn,xe){if(Le=xe,!Gr.has(Le)&&(zr===Qn||Bt(zr,Qn,He,ct,vt)))return Gr.push(xe);var Le})){ar=!1;break}}else if(zr!==mn&&!Bt(zr,mn,He,ct,vt)){ar=!1;break}}return vt.delete(Ne),vt.delete(Pe),ar}function rt(Ne){return function(Pe,He,ct){var Bt=He(Pe);return Er(Pe)?Bt:function(vt,Ft){for(var It=-1,Tt=Ft.length,Kt=vt.length;++It<Tt;)vt[Kt+It]=Ft[It];return vt}(Bt,ct(Pe))}(Ne,Gt,wt)}function Ze(Ne,Pe){var He,ct,Bt=Ne.__data__;return((ct=typeof(He=Pe))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?He!=="__proto__":He===null)?Bt[typeof Pe=="string"?"string":"hash"]:Bt.map}function Et(Ne,Pe){var He=function(ct,Bt){return ct==null?void 0:ct[Bt]}(Ne,Pe);return $e(He)?He:void 0}de.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},de.prototype.delete=function(Ne){var Pe=this.has(Ne)&&delete this.__data__[Ne];return this.size-=Pe?1:0,Pe},de.prototype.get=function(Ne){var Pe=this.__data__;if(ne){var He=Pe[Ne];return He==="__lodash_hash_undefined__"?void 0:He}return k.call(Pe,Ne)?Pe[Ne]:void 0},de.prototype.has=function(Ne){var Pe=this.__data__;return ne?Pe[Ne]!==void 0:k.call(Pe,Ne)},de.prototype.set=function(Ne,Pe){var He=this.__data__;return this.size+=this.has(Ne)?0:1,He[Ne]=ne&&Pe===void 0?"__lodash_hash_undefined__":Pe,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(Ne){var Pe=this.__data__,He=We(Pe,Ne);return!(He<0)&&(He==Pe.length-1?Pe.pop():te.call(Pe,He,1),--this.size,!0)},me.prototype.get=function(Ne){var Pe=this.__data__,He=We(Pe,Ne);return He<0?void 0:Pe[He][1]},me.prototype.has=function(Ne){return We(this.__data__,Ne)>-1},me.prototype.set=function(Ne,Pe){var He=this.__data__,ct=We(He,Ne);return ct<0?(++this.size,He.push([Ne,Pe])):He[ct][1]=Pe,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(J||me),string:new de}},ge.prototype.delete=function(Ne){var Pe=Ze(this,Ne).delete(Ne);return this.size-=Pe?1:0,Pe},ge.prototype.get=function(Ne){return Ze(this,Ne).get(Ne)},ge.prototype.has=function(Ne){return Ze(this,Ne).has(Ne)},ge.prototype.set=function(Ne,Pe){var He=Ze(this,Ne),ct=He.size;return He.set(Ne,Pe),this.size+=He.size==ct?0:1,this},ke.prototype.add=ke.prototype.push=function(Ne){return this.__data__.set(Ne,"__lodash_hash_undefined__"),this},ke.prototype.has=function(Ne){return this.__data__.has(Ne)},Re.prototype.clear=function(){this.__data__=new me,this.size=0},Re.prototype.delete=function(Ne){var Pe=this.__data__,He=Pe.delete(Ne);return this.size=Pe.size,He},Re.prototype.get=function(Ne){return this.__data__.get(Ne)},Re.prototype.has=function(Ne){return this.__data__.has(Ne)},Re.prototype.set=function(Ne,Pe){var He=this.__data__;if(He instanceof me){var ct=He.__data__;if(!J||ct.length<199)return ct.push([Ne,Pe]),this.size=++He.size,this;He=this.__data__=new ge(ct)}return He.set(Ne,Pe),this.size=He.size,this};var wt=$?function(Ne){return Ne==null?[]:(Ne=Object(Ne),function(Pe,He){for(var ct=-1,Bt=Pe==null?0:Pe.length,vt=0,Ft=[];++ct<Bt;){var It=Pe[ct];He(It,ct,Pe)&&(Ft[vt++]=It)}return Ft}($(Ne),function(Pe){return Z.call(Ne,Pe)}))}:function(){return[]},bt=Je;function Wt(Ne,Pe){return!!(Pe=Pe??9007199254740991)&&(typeof Ne=="number"||h.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Pe}function _t(Ne){if(Ne!=null){try{return E.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function ot(Ne,Pe){return Ne===Pe||Ne!=Ne&&Pe!=Pe}(V&&bt(new V(new ArrayBuffer(1)))!="[object DataView]"||J&&bt(new J)!=a||re&&bt(re.resolve())!="[object Promise]"||se&&bt(new se)!=c||B&&bt(new B)!="[object WeakMap]")&&(bt=function(Ne){var Pe=Je(Ne),He=Pe==l?Ne.constructor:void 0,ct=He?_t(He):"";if(ct)switch(ct){case ee:return"[object DataView]";case F:return a;case W:return"[object Promise]";case Y:return c;case ae:return"[object WeakMap]"}return Pe});var qt=qe(function(){return arguments}())?qe:function(Ne){return wr(Ne)&&k.call(Ne,"callee")&&!Z.call(Ne,"callee")},Er=Array.isArray,jt=N||function(){return!1};function hr(Ne){if(!dt(Ne))return!1;var Pe=Je(Ne);return Pe=="[object Function]"||Pe=="[object GeneratorFunction]"||Pe=="[object AsyncFunction]"||Pe=="[object Proxy]"}function Cr(Ne){return typeof Ne=="number"&&Ne>-1&&Ne%1==0&&Ne<=9007199254740991}function dt(Ne){var Pe=typeof Ne;return Ne!=null&&(Pe=="object"||Pe=="function")}function wr(Ne){return Ne!=null&&typeof Ne=="object"}var jr=_?function(Ne){return function(Pe){return Ne(Pe)}}(_):function(Ne){return wr(Ne)&&Cr(Ne.length)&&!!f[Je(Ne)]};function Gt(Ne){return(Pe=Ne)!=null&&Cr(Pe.length)&&!hr(Pe)?je(Ne):Ue(Ne);var Pe}n.exports=function(Ne,Pe){return pt(Ne,Pe)}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,h=c.toString,f=l.Symbol,d=f?f.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?function(m){var v=u.call(m,d),y=m[d];try{m[d]=void 0;var b=!0}catch{}var x=h.call(m);return b&&(v?m[d]=y:delete m[d]),x}(g):function(m){return h.call(m)}(g)}n.exports=function(g){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(s){return s==null}},{}],448:[function(r,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(r,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")();function u(P,K){return!!(P&&P.length)&&function(Z,te,q){if(te!=te)return function(T,V,J,re){for(var se=T.length,B=J+-1;++B<se;)if(V(T[B],B,T))return B;return-1}(Z,h,q);for(var $=q-1,N=Z.length;++$<N;)if(Z[$]===te)return $;return-1}(P,K,0)>-1}function h(P){return P!=P}function f(P,K){return P.has(K)}function d(P){var K=-1,Z=Array(P.size);return P.forEach(function(te){Z[++K]=te}),Z}var p,g=Array.prototype,m=Function.prototype,v=Object.prototype,y=c["__core-js_shared__"],b=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",x=m.toString,_=v.hasOwnProperty,M=v.toString,U=RegExp("^"+x.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=g.splice,O=D(c,"Map"),H=D(c,"Set"),G=D(Object,"create");function I(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function R(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function S(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function j(P){var K=-1,Z=P?P.length:0;for(this.__data__=new S;++K<Z;)this.add(P[K])}function E(P,K){for(var Z,te,q=P.length;q--;)if((Z=P[q][0])===(te=K)||Z!=Z&&te!=te)return q;return-1}function k(P){return!(!z(P)||(K=P,b&&b in K))&&(function(Z){var te=z(Z)?M.call(Z):"";return te=="[object Function]"||te=="[object GeneratorFunction]"}(P)||function(Z){var te=!1;if(Z!=null&&typeof Z.toString!="function")try{te=!!(Z+"")}catch{}return te}(P)?U:o).test(function(Z){if(Z!=null){try{return x.call(Z)}catch{}try{return Z+""}catch{}}return""}(P));var K}I.prototype.clear=function(){this.__data__=G?G(null):{}},I.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},I.prototype.get=function(P){var K=this.__data__;if(G){var Z=K[P];return Z==="__lodash_hash_undefined__"?void 0:Z}return _.call(K,P)?K[P]:void 0},I.prototype.has=function(P){var K=this.__data__;return G?K[P]!==void 0:_.call(K,P)},I.prototype.set=function(P,K){return this.__data__[P]=G&&K===void 0?"__lodash_hash_undefined__":K,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(P){var K=this.__data__,Z=E(K,P);return!(Z<0)&&(Z==K.length-1?K.pop():L.call(K,Z,1),!0)},R.prototype.get=function(P){var K=this.__data__,Z=E(K,P);return Z<0?void 0:K[Z][1]},R.prototype.has=function(P){return E(this.__data__,P)>-1},R.prototype.set=function(P,K){var Z=this.__data__,te=E(Z,P);return te<0?Z.push([P,K]):Z[te][1]=K,this},S.prototype.clear=function(){this.__data__={hash:new I,map:new(O||R),string:new I}},S.prototype.delete=function(P){return C(this,P).delete(P)},S.prototype.get=function(P){return C(this,P).get(P)},S.prototype.has=function(P){return C(this,P).has(P)},S.prototype.set=function(P,K){return C(this,P).set(P,K),this},j.prototype.add=j.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},j.prototype.has=function(P){return this.__data__.has(P)};var A=H&&1/d(new H([,-0]))[1]==1/0?function(P){return new H(P)}:function(){};function C(P,K){var Z,te,q=P.__data__;return((te=typeof(Z=K))=="string"||te=="number"||te=="symbol"||te=="boolean"?Z!=="__proto__":Z===null)?q[typeof K=="string"?"string":"hash"]:q.map}function D(P,K){var Z=function(te,q){return te==null?void 0:te[q]}(P,K);return k(Z)?Z:void 0}function z(P){var K=typeof P;return!!P&&(K=="object"||K=="function")}n.exports=function(P){return P&&P.length?function(K,Z,te){var q=-1,$=u,N=K.length,T=!0,V=[],J=V;if(N>=200){var re=A(K);if(re)return d(re);T=!1,$=f,J=new j}else J=V;e:for(;++q<N;){var se=K[q],B=se;if(se=se!==0?se:0,T&&B==B){for(var ne=J.length;ne--;)if(J[ne]===B)continue e;V.push(se)}else $(J,B,te)||(J!==V&&J.push(B),V.push(se))}return V}(P):[]}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var s=r("inherits"),o=r("hash-base"),a=r("safe-buffer").Buffer,l=new Array(16);function c(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,m){return g<<m|g>>>32-m}function h(g,m,v,y,b,x,_){return u(g+(m&v|~m&y)+b+x|0,_)+m|0}function f(g,m,v,y,b,x,_){return u(g+(m&y|v&~y)+b+x|0,_)+m|0}function d(g,m,v,y,b,x,_){return u(g+(m^v^y)+b+x|0,_)+m|0}function p(g,m,v,y,b,x,_){return u(g+(v^(m|~y))+b+x|0,_)+m|0}s(c,o),c.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,y=this._b,b=this._c,x=this._d;v=h(v,y,b,x,g[0],3614090360,7),x=h(x,v,y,b,g[1],3905402710,12),b=h(b,x,v,y,g[2],606105819,17),y=h(y,b,x,v,g[3],3250441966,22),v=h(v,y,b,x,g[4],4118548399,7),x=h(x,v,y,b,g[5],1200080426,12),b=h(b,x,v,y,g[6],2821735955,17),y=h(y,b,x,v,g[7],4249261313,22),v=h(v,y,b,x,g[8],1770035416,7),x=h(x,v,y,b,g[9],2336552879,12),b=h(b,x,v,y,g[10],4294925233,17),y=h(y,b,x,v,g[11],2304563134,22),v=h(v,y,b,x,g[12],1804603682,7),x=h(x,v,y,b,g[13],4254626195,12),b=h(b,x,v,y,g[14],2792965006,17),v=f(v,y=h(y,b,x,v,g[15],1236535329,22),b,x,g[1],4129170786,5),x=f(x,v,y,b,g[6],3225465664,9),b=f(b,x,v,y,g[11],643717713,14),y=f(y,b,x,v,g[0],3921069994,20),v=f(v,y,b,x,g[5],3593408605,5),x=f(x,v,y,b,g[10],38016083,9),b=f(b,x,v,y,g[15],3634488961,14),y=f(y,b,x,v,g[4],3889429448,20),v=f(v,y,b,x,g[9],568446438,5),x=f(x,v,y,b,g[14],3275163606,9),b=f(b,x,v,y,g[3],4107603335,14),y=f(y,b,x,v,g[8],1163531501,20),v=f(v,y,b,x,g[13],2850285829,5),x=f(x,v,y,b,g[2],4243563512,9),b=f(b,x,v,y,g[7],1735328473,14),v=d(v,y=f(y,b,x,v,g[12],2368359562,20),b,x,g[5],4294588738,4),x=d(x,v,y,b,g[8],2272392833,11),b=d(b,x,v,y,g[11],1839030562,16),y=d(y,b,x,v,g[14],4259657740,23),v=d(v,y,b,x,g[1],2763975236,4),x=d(x,v,y,b,g[4],1272893353,11),b=d(b,x,v,y,g[7],4139469664,16),y=d(y,b,x,v,g[10],3200236656,23),v=d(v,y,b,x,g[13],681279174,4),x=d(x,v,y,b,g[0],3936430074,11),b=d(b,x,v,y,g[3],3572445317,16),y=d(y,b,x,v,g[6],76029189,23),v=d(v,y,b,x,g[9],3654602809,4),x=d(x,v,y,b,g[12],3873151461,11),b=d(b,x,v,y,g[15],530742520,16),v=p(v,y=d(y,b,x,v,g[2],3299628645,23),b,x,g[0],4096336452,6),x=p(x,v,y,b,g[7],1126891415,10),b=p(b,x,v,y,g[14],2878612391,15),y=p(y,b,x,v,g[5],4237533241,21),v=p(v,y,b,x,g[12],1700485571,6),x=p(x,v,y,b,g[3],2399980690,10),b=p(b,x,v,y,g[10],4293915773,15),y=p(y,b,x,v,g[1],2240044497,21),v=p(v,y,b,x,g[8],1873313359,6),x=p(x,v,y,b,g[15],4264355552,10),b=p(b,x,v,y,g[6],2734768916,15),y=p(y,b,x,v,g[13],1309151649,21),v=p(v,y,b,x,g[4],4149444226,6),x=p(x,v,y,b,g[11],3174756917,10),b=p(b,x,v,y,g[2],718787259,15),y=p(y,b,x,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+b|0,this._d=this._d+x|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=a.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var s=r("bn.js"),o=r("brorand");function a(l){this.rand=l||new o.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var h=new s(this.rand.generate(u));while(h.cmp(l)>=0);return h},a.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},a.prototype.test=function(l,c,u){var h=l.bitLength(),f=s.mont(l),d=new s(1).toRed(f);c||(c=Math.max(1,h/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),v=p.toRed(f);c>0;c--){var y=this._randrange(new s(2),p);u&&u(y);var b=y.toRed(f).redPow(m);if(b.cmp(d)!==0&&b.cmp(v)!==0){for(var x=1;x<g;x++){if((b=b.redSqr()).cmp(d)===0)return!1;if(b.cmp(v)===0)break}if(x===g)return!1}}return!0},a.prototype.getDivisor=function(l,c){var u=l.bitLength(),h=s.mont(l),f=new s(1).toRed(h);c||(c=Math.max(1,u/48|0));for(var d=l.subn(1),p=0;!d.testn(p);p++);for(var g=l.shrn(p),m=d.toRed(h);c>0;c--){var v=this._randrange(new s(2),d),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var b=v.toRed(h).redPow(g);if(b.cmp(f)!==0&&b.cmp(m)!==0){for(var x=1;x<p;x++){if((b=b.redSqr()).cmp(f)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(m)===0)break}if(x===p)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function s(o,a){if(!o)throw new Error(a||"Assertion failed")}n.exports=s,s.equal=function(o,a,l){if(o!=a)throw new Error(l||"Assertion failed: "+o+" != "+a)}},{}],454:[function(r,n,i){var s=i;function o(l){return l.length===1?"0"+l:l}function a(l){for(var c="",u=0;u<l.length;u++)c+=o(l[u].toString(16));return c}s.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var h=0;h<l.length;h++)u[h]=0|l[h];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),h=0;h<l.length;h+=2)u.push(parseInt(l[h]+l[h+1],16));else for(h=0;h<l.length;h++){var f=l.charCodeAt(h),d=f>>8,p=255&f;d?u.push(d,p):u.push(p)}return u},s.zero2=o,s.toHex=a,s.encode=function(l,c){return c==="hex"?a(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var s=r("asn1.js");i.certificate=r("./certificate");var o=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var a=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=a;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var h=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=h;var f=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=f,i.DSAparam=s.define("DSAparam",function(){this.int()});var d=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=d;var p=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var s=r("asn1.js"),o=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(a)}),h=s.define("RDNSequence",function(){this.seqof(u)}),f=s.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),d=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),p=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(f),this.key("validity").use(d),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(r,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),c=r("browserify-aes"),u=r("safe-buffer").Buffer;n.exports=function(h,f){var d,p=h.toString(),g=p.match(s);if(g){var m="aes"+g[1],v=u.from(g[2],"hex"),y=u.from(g[3].replace(/[\r\n]/g,""),"base64"),b=l(f,v.slice(0,8),parseInt(g[1],10)).key,x=[],_=c.createDecipheriv(m,b,v);x.push(_.update(y)),x.push(_.final()),d=u.concat(x)}else{var M=p.match(a);d=u.from(M[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(o)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var s=r("./asn1"),o=r("./aesid.json"),a=r("./fixProc"),l=r("browserify-aes"),c=r("pbkdf2"),u=r("safe-buffer").Buffer;function h(f){var d;typeof f!="object"||u.isBuffer(f)||(d=f.passphrase,f=f.key),typeof f=="string"&&(f=u.from(f));var p,g,m=a(f,d),v=m.tag,y=m.data;switch(v){case"CERTIFICATE":g=s.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=s.PublicKey.decode(y,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=s.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=function(b,x){var _=b.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),U=o[b.algorithm.decrypt.cipher.algo.join(".")],L=b.algorithm.decrypt.cipher.iv,O=b.subjectPrivateKey,H=parseInt(U.split("-")[1],10)/8,G=c.pbkdf2Sync(x,_,M,H,"sha1"),I=l.createDecipheriv(U,G,L),R=[];return R.push(I.update(O)),R.push(I.final()),u.concat(R)}(y=s.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(p=(g=s.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:s.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=s.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=s.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=h,h.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(s){(function(){var o,a,l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./sync"),f=r("./to-buffer"),d=s.crypto&&s.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return a||(a=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function v(y,b,x,_,M){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(U){return d.deriveBits({name:"PBKDF2",salt:b,iterations:x,hash:{name:M}},U,_<<3)}).then(function(U){return l.from(U)})}n.exports=function(y,b,x,_,M,U){typeof M=="function"&&(U=M,M=void 0);var L=p[(M=M||"sha1").toLowerCase()];if(L&&typeof s.Promise=="function"){if(c(x,_),y=f(y,u,"Password"),b=f(b,u,"Salt"),typeof U!="function")throw new Error("No callback provided to pbkdf2");(function(O,H){O.then(function(G){m()(function(){H(null,G)})},function(G){m()(function(){H(G)})})})(function(O){if(s.process&&!s.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(g[O]!==void 0)return g[O];var H=v(o=o||l.alloc(8),o,10,128,O).then(function(){return!0}).catch(function(){return!1});return g[O]=H,H}(L).then(function(O){return O?v(y,b,x,_,L):h(y,b,x,_,M)}),U)}else m()(function(){var O;try{O=h(y,b,x,_,M)}catch(H){return U(H)}U(null,O)})}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(s,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>s||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var s=r("create-hash/md5"),o=r("ripemd160"),a=r("sha.js"),l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./to-buffer"),f=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,v){var y=function(L){function O(H){return a(L).update(H).digest()}return L==="rmd160"||L==="ripemd160"?function(H){return new o().update(H).digest()}:L==="md5"?s:O}(g),b=g==="sha512"||g==="sha384"?128:64;m.length>b?m=y(m):m.length<b&&(m=l.concat([m,f],b));for(var x=l.allocUnsafe(b+d[g]),_=l.allocUnsafe(b+d[g]),M=0;M<b;M++)x[M]=54^m[M],_[M]=92^m[M];var U=l.allocUnsafe(b+v+4);x.copy(U,0,0,b),this.ipad1=U,this.ipad2=x,this.opad=_,this.alg=g,this.blocksize=b,this.hash=y,this.size=d[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,m,v,y,b){c(v,y);var x=new p(b=b||"sha1",g=h(g,u,"Password"),(m=h(m,u,"Salt")).length),_=l.allocUnsafe(y),M=l.allocUnsafe(m.length+4);m.copy(M,0,0,m.length);for(var U=0,L=d[b],O=Math.ceil(y/L),H=1;H<=O;H++){M.writeUInt32BE(H,m.length);for(var G=x.run(M,x.ipad1),I=G,R=1;R<v;R++){I=x.run(I,x.ipad2);for(var S=0;S<L;S++)G[S]^=I[S]}G.copy(_,U),U+=L}return _}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var s=r("safe-buffer").Buffer;n.exports=function(o,a,l){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,a);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,a,l,c){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,h,f=arguments.length;switch(f){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick(function(){o.call(null,a)});case 3:return s.nextTick(function(){o.call(null,a,l)});case 4:return s.nextTick(function(){o.call(null,a,l,c)});default:for(u=new Array(f-1),h=0;h<u.length;)u[h++]=arguments[h];return s.nextTick(function(){o.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var s,o,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(b){if(s===setTimeout)return setTimeout(b,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:c}catch{o=c}})();var h,f=[],d=!1,p=-1;function g(){d&&h&&(d=!1,h.length?f=h.concat(f):p=-1,f.length&&m())}function m(){if(!d){var b=u(g);d=!0;for(var x=f.length;x;){for(h=f,f=[];++p<x;)h&&h[p].run();p=-1,x=f.length}h=null,d=!1,function(_){if(o===clearTimeout)return clearTimeout(_);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}(b)}}function v(b,x){this.fun=b,this.array=x}function y(){}a.nextTick=function(b){var x=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)x[_-1]=arguments[_];f.push(new v(b,x)),f.length!==1||d||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(b){return[]},a.binding=function(b){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(b){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var s=r("create-hash"),o=r("safe-buffer").Buffer;function a(l){var c=o.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,h=o.alloc(0),f=0;h.length<c;)u=a(f++),h=o.concat([h,s("sha1").update(l).update(u).digest()]);return h.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var s=r("parse-asn1"),o=r("./mgf"),a=r("./xor"),l=r("bn.js"),c=r("browserify-rsa"),u=r("create-hash"),h=r("./withPublic"),f=r("safe-buffer").Buffer;n.exports=function(d,p,g){var m;m=d.padding?d.padding:g?1:4;var v,y=s(d),b=y.modulus.byteLength();if(p.length>b||new l(p).cmp(y.modulus)>=0)throw new Error("decryption error");v=g?h(new l(p),y):c(p,y);var x=f.alloc(b-v.length);if(v=f.concat([x,v],b),m===4)return function(_,M){var U=_.modulus.byteLength(),L=u("sha1").update(f.alloc(0)).digest(),O=L.length;if(M[0]!==0)throw new Error("decryption error");var H=M.slice(1,O+1),G=M.slice(O+1),I=a(H,o(G,O)),R=a(G,o(I,U-O-1));if(function(j,E){j=f.from(j),E=f.from(E);var k=0,A=j.length;j.length!==E.length&&(k++,A=Math.min(j.length,E.length));for(var C=-1;++C<A;)k+=j[C]^E[C];return k}(L,R.slice(0,O)))throw new Error("decryption error");for(var S=O;R[S]===0;)S++;if(R[S++]!==1)throw new Error("decryption error");return R.slice(S)}(y,v);if(m===1)return function(_,M,U){for(var L=M.slice(0,2),O=2,H=0;M[O++]!==0;)if(O>=M.length){H++;break}var G=M.slice(2,O-1);if((L.toString("hex")!=="0002"&&!U||L.toString("hex")!=="0001"&&U)&&H++,G.length<8&&H++,H)throw new Error("decryption error");return M.slice(O)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var s=r("parse-asn1"),o=r("randombytes"),a=r("create-hash"),l=r("./mgf"),c=r("./xor"),u=r("bn.js"),h=r("./withPublic"),f=r("browserify-rsa"),d=r("safe-buffer").Buffer;n.exports=function(p,g,m){var v;v=p.padding?p.padding:m?1:4;var y,b=s(p);if(v===4)y=function(x,_){var M=x.modulus.byteLength(),U=_.length,L=a("sha1").update(d.alloc(0)).digest(),O=L.length,H=2*O;if(U>M-H-2)throw new Error("message too long");var G=d.alloc(M-U-H-2),I=M-O-1,R=o(O),S=c(d.concat([L,G,d.alloc(1,1),_],I),l(R,I)),j=c(R,l(S,O));return new u(d.concat([d.alloc(1),j,S],M))}(b,g);else if(v===1)y=function(x,_,M){var U,L=_.length,O=x.modulus.byteLength();if(L>O-11)throw new Error("message too long");return U=M?d.alloc(O-L-3,255):function(H){for(var G,I=d.allocUnsafe(H),R=0,S=o(2*H),j=0;R<H;)j===S.length&&(S=o(2*H),j=0),(G=S[j++])&&(I[R++]=G);return I}(O-L-3),new u(d.concat([d.from([0,M?1:2]),U,d.alloc(1),_],O))}(b,g,m);else{if(v!==3)throw new Error("unknown padding");if((y=new u(g)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return m?f(y,b):h(y,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var s=r("bn.js"),o=r("safe-buffer").Buffer;n.exports=function(a,l){return o.from(a.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(s,o){for(var a=s.length,l=-1;++l<a;)s[l]^=o[l];return s}},{}],475:[function(r,n,i){(function(s,o){(function(){var a=r("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var h=a.allocUnsafe(c);if(c>0)if(c>65536)for(var f=0;f<c;f+=65536)l.getRandomValues(h.slice(f,f+65536));else l.getRandomValues(h);return typeof u=="function"?s.nextTick(function(){u(null,h)}):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(s,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),c=r("randombytes"),u=l.Buffer,h=l.kMaxLength,f=o.crypto||o.msCrypto,d=Math.pow(2,32)-1;function p(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>d||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>y)throw new RangeError("offset out of range")}function g(v,y,b){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>d||v<0)throw new TypeError("size must be a uint32");if(v+y>b||v>h)throw new RangeError("buffer too small")}function m(v,y,b,x){if(s.browser){var _=v.buffer,M=new Uint8Array(_,y,b);return f.getRandomValues(M),x?void s.nextTick(function(){x(null,v)}):v}if(!x)return c(b).copy(v,y),v;c(b,function(U,L){if(U)return x(U);L.copy(v,y),x(null,v)})}f&&f.getRandomValues||!s.browser?(i.randomFill=function(v,y,b,x){if(!(u.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")x=y,y=0,b=v.length;else if(typeof b=="function")x=b,b=v.length-y;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return p(y,v.length),g(b,y,v.length),m(v,y,b,x)},i.randomFillSync=function(v,y,b){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(y,v.length),b===void 0&&(b=v.length-y),g(b,y,v.length),m(v,y,b)}):(i.randomFill=a,i.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var s={};function o(l,c,u){u||(u=Error);var h=function(f){var d,p;function g(m,v,y){return f.call(this,function(b,x,_){return typeof c=="string"?c:c(b,x,_)}(m,v,y))||this}return p=f,(d=g).prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p,g}(u);h.prototype.name=u.name,h.prototype.code=l,s[l]=h}function a(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(h){return String(h)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,c,u){var h,f,d;if(typeof c=="string"&&(f="not ",c.substr(0,f.length)===f)?(h="must not be",c=c.replace(/^not /,"")):h="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))d="The ".concat(l," ").concat(h," ").concat(a(c,"type"));else{var p=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(p," ").concat(h," ").concat(a(c,"type"))}return d+=". Received type ".concat(typeof u)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(r,n,i){(function(s){(function(){var o=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};n.exports=f;var a=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(f,a);for(var c=o(l.prototype),u=0;u<c.length;u++){var h=c[u];f.prototype[h]||(f.prototype[h]=l.prototype[h])}function f(g){if(!(this instanceof f))return new f(g);a.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||s.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=o;var s=r("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);s.call(this,a)}r("inherits")(o,s),o.prototype._transform=function(a,l,c){c(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(s,o){(function(){var a;n.exports=I,I.ReadableState=G,r("events").EventEmitter;var l=function(N,T){return N.listeners(T).length},c=r("./internal/streams/stream"),u=r("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,d=r("util");f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g,m,v=r("./internal/streams/buffer_list"),y=r("./internal/streams/destroy"),b=r("./internal/streams/state").getHighWaterMark,x=r("../errors").codes,_=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,U=x.ERR_METHOD_NOT_IMPLEMENTED,L=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(I,c);var O=y.errorOrDestroy,H=["error","close","destroy","pause","resume"];function G(N,T,V){a=a||r("./_stream_duplex"),N=N||{},typeof V!="boolean"&&(V=T instanceof a),this.objectMode=!!N.objectMode,V&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=b(this,N,"readableHighWaterMark",V),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(p||(p=r("string_decoder/").StringDecoder),this.decoder=new p(N.encoding),this.encoding=N.encoding)}function I(N){if(a=a||r("./_stream_duplex"),!(this instanceof I))return new I(N);var T=this instanceof a;this._readableState=new G(N,this,T),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),c.call(this)}function R(N,T,V,J,re){f("readableAddChunk",T);var se,B=N._readableState;if(T===null)B.reading=!1,function(ne,ee){if(f("onEofChunk"),!ee.ended){if(ee.decoder){var F=ee.decoder.end();F&&F.length&&(ee.buffer.push(F),ee.length+=ee.objectMode?1:F.length)}ee.ended=!0,ee.sync?E(ne):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,k(ne)))}}(N,B);else if(re||(se=function(ne,ee){var F;W=ee,u.isBuffer(W)||W instanceof h||typeof ee=="string"||ee===void 0||ne.objectMode||(F=new _("chunk",["string","Buffer","Uint8Array"],ee));var W;return F}(B,T)),se)O(N,se);else if(B.objectMode||T&&T.length>0)if(typeof T=="string"||B.objectMode||Object.getPrototypeOf(T)===u.prototype||(T=function(ne){return u.from(ne)}(T)),J)B.endEmitted?O(N,new L):S(N,B,T,!0);else if(B.ended)O(N,new M);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!V?(T=B.decoder.write(T),B.objectMode||T.length!==0?S(N,B,T,!1):A(N,B)):S(N,B,T,!1)}else J||(B.reading=!1,A(N,B));return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function S(N,T,V,J){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,N.emit("data",V)):(T.length+=T.objectMode?1:V.length,J?T.buffer.unshift(V):T.buffer.push(V),T.needReadable&&E(N)),A(N,T)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(N,T){T(N)},I.prototype.push=function(N,T){var V,J=this._readableState;return J.objectMode?V=!0:typeof N=="string"&&((T=T||J.defaultEncoding)!==J.encoding&&(N=u.from(N,T),T=""),V=!0),R(this,N,T,!1,V)},I.prototype.unshift=function(N){return R(this,N,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(N){p||(p=r("string_decoder/").StringDecoder);var T=new p(N);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,J="";V!==null;)J+=T.write(V.data),V=V.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function j(N,T){return N<=0||T.length===0&&T.ended?0:T.objectMode?1:N!=N?T.flowing&&T.length?T.buffer.head.data.length:T.length:(N>T.highWaterMark&&(T.highWaterMark=function(V){return V>=1073741824?V=1073741824:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(N)),N<=T.length?N:T.ended?T.length:(T.needReadable=!0,0))}function E(N){var T=N._readableState;f("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(f("emitReadable",T.flowing),T.emittedReadable=!0,s.nextTick(k,N))}function k(N){var T=N._readableState;f("emitReadable_",T.destroyed,T.length,T.ended),T.destroyed||!T.length&&!T.ended||(N.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,K(N)}function A(N,T){T.readingMore||(T.readingMore=!0,s.nextTick(C,N,T))}function C(N,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var V=T.length;if(f("maybeReadMore read 0"),N.read(0),V===T.length)break}T.readingMore=!1}function D(N){var T=N._readableState;T.readableListening=N.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:N.listenerCount("data")>0&&N.resume()}function z(N){f("readable nexttick read 0"),N.read(0)}function P(N,T){f("resume",T.reading),T.reading||N.read(0),T.resumeScheduled=!1,N.emit("resume"),K(N),T.flowing&&!T.reading&&N.read(0)}function K(N){var T=N._readableState;for(f("flow",T.flowing);T.flowing&&N.read()!==null;);}function Z(N,T){return T.length===0?null:(T.objectMode?V=T.buffer.shift():!N||N>=T.length?(V=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.first():T.buffer.concat(T.length),T.buffer.clear()):V=T.buffer.consume(N,T.decoder),V);var V}function te(N){var T=N._readableState;f("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,s.nextTick(q,T,N))}function q(N,T){if(f("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,T.readable=!1,T.emit("end"),N.autoDestroy)){var V=T._writableState;(!V||V.autoDestroy&&V.finished)&&T.destroy()}}function $(N,T){for(var V=0,J=N.length;V<J;V++)if(N[V]===T)return V;return-1}I.prototype.read=function(N){f("read",N),N=parseInt(N,10);var T=this._readableState,V=N;if(N!==0&&(T.emittedReadable=!1),N===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return f("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?te(this):E(this),null;if((N=j(N,T))===0&&T.ended)return T.length===0&&te(this),null;var J,re=T.needReadable;return f("need readable",re),(T.length===0||T.length-N<T.highWaterMark)&&f("length less than watermark",re=!0),T.ended||T.reading?f("reading or ended",re=!1):re&&(f("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(N=j(V,T))),(J=N>0?Z(N,T):null)===null?(T.needReadable=T.length<=T.highWaterMark,N=0):(T.length-=N,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),V!==N&&T.ended&&te(this)),J!==null&&this.emit("data",J),J},I.prototype._read=function(N){O(this,new U("_read()"))},I.prototype.pipe=function(N,T){var V=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=N;break;case 1:J.pipes=[J.pipes,N];break;default:J.pipes.push(N)}J.pipesCount+=1,f("pipe count=%d opts=%j",J.pipesCount,T);var re=(!T||T.end!==!1)&&N!==s.stdout&&N!==s.stderr?B:ce;function se(le,de){f("onunpipe"),le===V&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,f("cleanup"),N.removeListener("close",Y),N.removeListener("finish",ae),N.removeListener("drain",ne),N.removeListener("error",W),N.removeListener("unpipe",se),V.removeListener("end",B),V.removeListener("end",ce),V.removeListener("data",F),ee=!0,!J.awaitDrain||N._writableState&&!N._writableState.needDrain||ne())}function B(){f("onend"),N.end()}J.endEmitted?s.nextTick(re):V.once("end",re),N.on("unpipe",se);var ne=function(le){return function(){var de=le._readableState;f("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&l(le,"data")&&(de.flowing=!0,K(le))}}(V);N.on("drain",ne);var ee=!1;function F(le){f("ondata");var de=N.write(le);f("dest.write",de),de===!1&&((J.pipesCount===1&&J.pipes===N||J.pipesCount>1&&$(J.pipes,N)!==-1)&&!ee&&(f("false write response, pause",J.awaitDrain),J.awaitDrain++),V.pause())}function W(le){f("onerror",le),ce(),N.removeListener("error",W),l(N,"error")===0&&O(N,le)}function Y(){N.removeListener("finish",ae),ce()}function ae(){f("onfinish"),N.removeListener("close",Y),ce()}function ce(){f("unpipe"),V.unpipe(N)}return V.on("data",F),function(le,de,me){if(typeof le.prependListener=="function")return le.prependListener(de,me);le._events&&le._events[de]?Array.isArray(le._events[de])?le._events[de].unshift(me):le._events[de]=[me,le._events[de]]:le.on(de,me)}(N,"error",W),N.once("close",Y),N.once("finish",ae),N.emit("pipe",V),J.flowing||(f("pipe resume"),V.resume()),N},I.prototype.unpipe=function(N){var T=this._readableState,V={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return N&&N!==T.pipes||(N||(N=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,N&&N.emit("unpipe",this,V)),this;if(!N){var J=T.pipes,re=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var se=0;se<re;se++)J[se].emit("unpipe",this,{hasUnpiped:!1});return this}var B=$(T.pipes,N);return B===-1||(T.pipes.splice(B,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),N.emit("unpipe",this,V)),this},I.prototype.on=function(N,T){var V=c.prototype.on.call(this,N,T),J=this._readableState;return N==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):N==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,f("on readable",J.length,J.reading),J.length?E(this):J.reading||s.nextTick(z,this))),V},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(N,T){var V=c.prototype.removeListener.call(this,N,T);return N==="readable"&&s.nextTick(D,this),V},I.prototype.removeAllListeners=function(N){var T=c.prototype.removeAllListeners.apply(this,arguments);return N!=="readable"&&N!==void 0||s.nextTick(D,this),T},I.prototype.resume=function(){var N=this._readableState;return N.flowing||(f("resume"),N.flowing=!N.readableListening,function(T,V){V.resumeScheduled||(V.resumeScheduled=!0,s.nextTick(P,T,V))}(this,N)),N.paused=!1,this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(N){var T=this,V=this._readableState,J=!1;for(var re in N.on("end",function(){if(f("wrapped end"),V.decoder&&!V.ended){var B=V.decoder.end();B&&B.length&&T.push(B)}T.push(null)}),N.on("data",function(B){f("wrapped data"),V.decoder&&(B=V.decoder.write(B)),V.objectMode&&B==null||(V.objectMode||B&&B.length)&&(T.push(B)||(J=!0,N.pause()))}),N)this[re]===void 0&&typeof N[re]=="function"&&(this[re]=function(B){return function(){return N[B].apply(N,arguments)}}(re));for(var se=0;se<H.length;se++)N.on(H[se],this.emit.bind(this,H[se]));return this._read=function(B){f("wrapped _read",B),J&&(J=!1,N.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=r("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),I._fromList=Z,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(I.from=function(N,T){return m===void 0&&(m=r("./internal/streams/from")),m(I,N,T)})}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=f;var s=r("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,a=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,u=r("./_stream_duplex");function h(g,m){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new a);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),y(g);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function f(g){if(!(this instanceof f))return new f(g);u.call(this,g),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,v){p(g,m,v)})}function p(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new c;if(g._transformState.transforming)throw new l;return g.push(null)}r("inherits")(f,u),f.prototype.push=function(g,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,m)},f.prototype._transform=function(g,m,v){v(new o("_transform()"))},f.prototype._write=function(g,m,v){var y=this._transformState;if(y.writecb=v,y.writechunk=g,y.writeencoding=m,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},f.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(g,m){u.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(s,o){(function(){function a(C){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(z,P,K){var Z=z.entry;for(z.entry=null;Z;){var te=Z.callback;P.pendingcb--,te(K),Z=Z.next}P.corkedRequestsFree.next=z})(D,C)}}var l;n.exports=I,I.WritableState=G;var c={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),h=r("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,p=r("./internal/streams/destroy"),g=r("./internal/streams/state").getHighWaterMark,m=r("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_STREAM_CANNOT_PIPE,_=m.ERR_STREAM_DESTROYED,M=m.ERR_STREAM_NULL_VALUES,U=m.ERR_STREAM_WRITE_AFTER_END,L=m.ERR_UNKNOWN_ENCODING,O=p.errorOrDestroy;function H(){}function G(C,D,z){l=l||r("./_stream_duplex"),C=C||{},typeof z!="boolean"&&(z=D instanceof l),this.objectMode=!!C.objectMode,z&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=g(this,C,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=C.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,te){var q=Z._writableState,$=q.sync,N=q.writecb;if(typeof N!="function")throw new b;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(q),te)(function(V,J,re,se,B){--J.pendingcb,re?(s.nextTick(B,se),s.nextTick(A,V,J),V._writableState.errorEmitted=!0,O(V,se)):(B(se),V._writableState.errorEmitted=!0,O(V,se),A(V,J))})(Z,q,$,te,N);else{var T=E(q)||Z.destroyed;T||q.corked||q.bufferProcessing||!q.bufferedRequest||j(Z,q),$?s.nextTick(S,Z,q,T,N):S(Z,q,T,N)}})(D,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function I(C){var D=this instanceof(l=l||r("./_stream_duplex"));if(!D&&!d.call(I,this))return new I(C);this._writableState=new G(C,this,D),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),u.call(this)}function R(C,D,z,P,K,Z,te){D.writelen=P,D.writecb=te,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new _("write")):z?C._writev(K,D.onwrite):C._write(K,Z,D.onwrite),D.sync=!1}function S(C,D,z,P){z||function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))}(C,D),D.pendingcb--,P(),A(C,D)}function j(C,D){D.bufferProcessing=!0;var z=D.bufferedRequest;if(C._writev&&z&&z.next){var P=D.bufferedRequestCount,K=new Array(P),Z=D.corkedRequestsFree;Z.entry=z;for(var te=0,q=!0;z;)K[te]=z,z.isBuf||(q=!1),z=z.next,te+=1;K.allBuffers=q,R(C,D,!0,D.length,K,"",Z.finish),D.pendingcb++,D.lastBufferedRequest=null,Z.next?(D.corkedRequestsFree=Z.next,Z.next=null):D.corkedRequestsFree=new a(D),D.bufferedRequestCount=0}else{for(;z;){var $=z.chunk,N=z.encoding,T=z.callback;if(R(C,D,!1,D.objectMode?1:$.length,$,N,T),z=z.next,D.bufferedRequestCount--,D.writing)break}z===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=z,D.bufferProcessing=!1}function E(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function k(C,D){C._final(function(z){D.pendingcb--,z&&O(C,z),D.prefinished=!0,C.emit("prefinish"),A(C,D)})}function A(C,D){var z=E(D);if(z&&(function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,s.nextTick(k,K,Z)))}(C,D),D.pendingcb===0&&(D.finished=!0,C.emit("finish"),D.autoDestroy))){var P=C._readableState;(!P||P.autoDestroy&&P.endEmitted)&&C.destroy()}return z}r("inherits")(I,u),G.prototype.getBuffer=function(){for(var C=this.bufferedRequest,D=[];C;)D.push(C),C=C.next;return D},function(){try{Object.defineProperty(G.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(C){return!!d.call(this,C)||this===I&&C&&C._writableState instanceof G}})):d=function(C){return C instanceof this},I.prototype.pipe=function(){O(this,new x)},I.prototype.write=function(C,D,z){var P,K=this._writableState,Z=!1,te=!K.objectMode&&(P=C,h.isBuffer(P)||P instanceof f);return te&&!h.isBuffer(C)&&(C=function(q){return h.from(q)}(C)),typeof D=="function"&&(z=D,D=null),te?D="buffer":D||(D=K.defaultEncoding),typeof z!="function"&&(z=H),K.ending?function(q,$){var N=new U;O(q,N),s.nextTick($,N)}(this,z):(te||function(q,$,N,T){var V;return N===null?V=new M:typeof N=="string"||$.objectMode||(V=new v("chunk",["string","Buffer"],N)),!V||(O(q,V),s.nextTick(T,V),!1)}(this,K,C,z))&&(K.pendingcb++,Z=function(q,$,N,T,V,J){if(!N){var re=function(ee,F,W){return ee.objectMode||ee.decodeStrings===!1||typeof F!="string"||(F=h.from(F,W)),F}($,T,V);T!==re&&(N=!0,V="buffer",T=re)}var se=$.objectMode?1:T.length;$.length+=se;var B=$.length<$.highWaterMark;if(B||($.needDrain=!0),$.writing||$.corked){var ne=$.lastBufferedRequest;$.lastBufferedRequest={chunk:T,encoding:V,isBuf:N,callback:J,next:null},ne?ne.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else R(q,$,!1,se,T,V,J);return B}(this,K,te,C,D,z)),Z},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||j(this,C))},I.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new L(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(C,D,z){z(new y("_write()"))},I.prototype._writev=null,I.prototype.end=function(C,D,z){var P=this._writableState;return typeof C=="function"?(z=C,C=null,D=null):typeof D=="function"&&(z=D,D=null),C!=null&&this.write(C,D),P.corked&&(P.corked=1,this.uncork()),P.ending||function(K,Z,te){Z.ending=!0,A(K,Z),te&&(Z.finished?s.nextTick(te):K.once("finish",te)),Z.ended=!0,K.writable=!1}(this,P,z),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(C,D){D(C)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(s){(function(){var o;function a(_,M,U){return(M=function(L){var O=function(H,G){if(typeof H!="object"||H===null)return H;var I=H[Symbol.toPrimitive];if(I!==void 0){var R=I.call(H,G||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(H)}(L,"string");return typeof O=="symbol"?O:String(O)}(M))in _?Object.defineProperty(_,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):_[M]=U,_}var l=r("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(_,M){return{value:_,done:M}}function v(_){var M=_[c];if(M!==null){var U=_[g].read();U!==null&&(_[d]=null,_[c]=null,_[u]=null,M(m(U,!1)))}}function y(_){s.nextTick(v,_)}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((a(o={get stream(){return this[g]},next:function(){var _=this,M=this[h];if(M!==null)return Promise.reject(M);if(this[f])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(H,G){s.nextTick(function(){_[h]?G(_[h]):H(m(void 0,!0))})});var U,L=this[d];if(L)U=new Promise(function(H,G){return function(I,R){H.then(function(){G[f]?I(m(void 0,!0)):G[p](I,R)},R)}}(L,this));else{var O=this[g].read();if(O!==null)return Promise.resolve(m(O,!1));U=new Promise(this[p])}return this[d]=U,U}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var _=this;return new Promise(function(M,U){_[g].destroy(null,function(L){L?U(L):M(m(void 0,!0))})})}),o),b);n.exports=function(_){var M,U=Object.create(x,(a(M={},g,{value:_,writable:!0}),a(M,c,{value:null,writable:!0}),a(M,u,{value:null,writable:!0}),a(M,h,{value:null,writable:!0}),a(M,f,{value:_._readableState.endEmitted,writable:!0}),a(M,p,{value:function(L,O){var H=U[g].read();H?(U[d]=null,U[c]=null,U[u]=null,L(m(H,!1))):(U[c]=L,U[u]=O)},writable:!0}),M));return U[d]=null,l(_,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=U[u];return O!==null&&(U[d]=null,U[c]=null,U[u]=null,O(L)),void(U[h]=L)}var H=U[c];H!==null&&(U[d]=null,U[c]=null,U[u]=null,H(m(void 0,!0))),U[f]=!0}),_.on("readable",y.bind(null,U)),U}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function s(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);p&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,m)}return g}function o(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?s(Object(g),!0).forEach(function(m){a(d,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(g,m))})}return d}function a(d,p,g){return(p=c(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function l(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,c(m.key),m)}}function c(d){var p=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var y=v.call(g,m||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(d,"string");return typeof p=="symbol"?p:String(p)}var u=r("buffer").Buffer,h=r("util").inspect,f=h&&h.custom||"inspect";n.exports=function(){function d(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var p,g;return p=d,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=m+v.data;return y}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var v,y,b,x=u.allocUnsafe(m>>>0),_=this.head,M=0;_;)v=_.data,y=x,b=M,u.prototype.copy.call(v,y,b),M+=_.data.length,_=_.next;return x}},{key:"consume",value:function(m,v){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,y=1,b=v.data;for(m-=b.length;v=v.next;){var x=v.data,_=m>x.length?x.length:m;if(_===x.length?b+=x:b+=x.slice(0,m),(m-=_)==0){_===x.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=x.slice(_));break}++y}return this.length-=y,b}},{key:"_getBuffer",value:function(m){var v=u.allocUnsafe(m),y=this.head,b=1;for(y.data.copy(v),m-=y.data.length;y=y.next;){var x=y.data,_=m>x.length?x.length:m;if(x.copy(v,v.length-m,0,_),(m-=_)==0){_===x.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=x.slice(_));break}++b}return this.length-=b,v}},{key:f,value:function(m,v){return h(this,o(o({},v),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(r,n,i){(function(s){(function(){function o(c,u){l(c,u),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var h=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,c)):s.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(p){!u&&p?h._writableState?h._writableState.errorEmitted?s.nextTick(a,h):(h._writableState.errorEmitted=!0,s.nextTick(o,h,p)):s.nextTick(o,h,p):u?(s.nextTick(a,h),u(p)):s.nextTick(a,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var h=c._readableState,f=c._writableState;h&&h.autoDestroy||f&&f.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var s=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function a(l,c,u){if(typeof c=="function")return a(l,null,c);c||(c={}),u=function(_){var M=!1;return function(){if(!M){M=!0;for(var U=arguments.length,L=new Array(U),O=0;O<U;O++)L[O]=arguments[O];_.apply(this,L)}}}(u||o);var h=c.readable||c.readable!==!1&&l.readable,f=c.writable||c.writable!==!1&&l.writable,d=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){f=!1,p=!0,h||u.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){h=!1,m=!0,f||u.call(l)},y=function(_){u.call(l,_)},b=function(){var _;return h&&!m?(l._readableState&&l._readableState.ended||(_=new s),u.call(l,_)):f&&!p?(l._writableState&&l._writableState.ended||(_=new s),u.call(l,_)):void 0},x=function(){l.req.on("finish",g)};return function(_){return _.setHeader&&typeof _.abort=="function"}(l)?(l.on("complete",g),l.on("abort",b),l.req?x():l.on("request",x)):f&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",v),l.on("finish",g),c.error!==!1&&l.on("error",y),l.on("close",b),function(){l.removeListener("complete",g),l.removeListener("abort",b),l.removeListener("request",x),l.req&&l.req.removeListener("finish",g),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var s,o=r("../../../errors").codes,a=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function c(p){if(p)throw p}function u(p,g,m,v){v=function(x){var _=!1;return function(){_||(_=!0,x.apply(void 0,arguments))}}(v);var y=!1;p.on("close",function(){y=!0}),s===void 0&&(s=r("./end-of-stream")),s(p,{readable:g,writable:m},function(x){if(x)return v(x);y=!0,v()});var b=!1;return function(x){if(!y&&!b)return b=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void v(x||new l("pipe"))}}function h(p){p()}function f(p,g){return p.pipe(g)}function d(p){return p.length?typeof p[p.length-1]!="function"?c:p.pop():c}n.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var v,y=d(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new a("streams");var b=g.map(function(x,_){var M=_<g.length-1;return u(x,M,_>0,function(U){v||(v=U),U&&b.forEach(h),M||(b.forEach(h),y(v))})});return g.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,a,l,c){var u=function(h,f,d){return h.highWaterMark!=null?h.highWaterMark:f?h[d]:null}(a,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(c?l:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var s=function(o){var a=Object.prototype,l=a.hasOwnProperty,c=Object.defineProperty||function(A,C,D){A[C]=D.value},u=typeof Symbol=="function"?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(A,C,D){return Object.defineProperty(A,C,{value:D,enumerable:!0,configurable:!0,writable:!0}),A[C]}try{p({},"")}catch{p=function(C,D,z){return C[D]=z}}function g(A,C,D,z){var P=C&&C.prototype instanceof y?C:y,K=Object.create(P.prototype),Z=new j(z||[]);return c(K,"_invoke",{value:G(A,D,Z)}),K}function m(A,C,D){try{return{type:"normal",arg:A.call(C,D)}}catch(z){return{type:"throw",arg:z}}}o.wrap=g;var v={};function y(){}function b(){}function x(){}var _={};p(_,h,function(){return this});var M=Object.getPrototypeOf,U=M&&M(M(E([])));U&&U!==a&&l.call(U,h)&&(_=U);var L=x.prototype=y.prototype=Object.create(_);function O(A){["next","throw","return"].forEach(function(C){p(A,C,function(D){return this._invoke(C,D)})})}function H(A,C){var D;c(this,"_invoke",{value:function(z,P){function K(){return new C(function(Z,te){(function q($,N,T,V){var J=m(A[$],A,N);if(J.type!=="throw"){var re=J.arg,se=re.value;return se&&typeof se=="object"&&l.call(se,"__await")?C.resolve(se.__await).then(function(B){q("next",B,T,V)},function(B){q("throw",B,T,V)}):C.resolve(se).then(function(B){re.value=B,T(re)},function(B){return q("throw",B,T,V)})}V(J.arg)})(z,P,Z,te)})}return D=D?D.then(K,K):K()}})}function G(A,C,D){var z="suspendedStart";return function(P,K){if(z==="executing")throw new Error("Generator is already running");if(z==="completed"){if(P==="throw")throw K;return k()}for(D.method=P,D.arg=K;;){var Z=D.delegate;if(Z){var te=I(Z,D);if(te){if(te===v)continue;return te}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(z==="suspendedStart")throw z="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);z="executing";var q=m(A,C,D);if(q.type==="normal"){if(z=D.done?"completed":"suspendedYield",q.arg===v)continue;return{value:q.arg,done:D.done}}q.type==="throw"&&(z="completed",D.method="throw",D.arg=q.arg)}}}function I(A,C){var D=C.method,z=A.iterator[D];if(z===void 0)return C.delegate=null,D==="throw"&&A.iterator.return&&(C.method="return",C.arg=void 0,I(A,C),C.method==="throw")||D!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var P=m(z,A.iterator,C.arg);if(P.type==="throw")return C.method="throw",C.arg=P.arg,C.delegate=null,v;var K=P.arg;return K?K.done?(C[A.resultName]=K.value,C.next=A.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,v):K:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,v)}function R(A){var C={tryLoc:A[0]};1 in A&&(C.catchLoc=A[1]),2 in A&&(C.finallyLoc=A[2],C.afterLoc=A[3]),this.tryEntries.push(C)}function S(A){var C=A.completion||{};C.type="normal",delete C.arg,A.completion=C}function j(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(R,this),this.reset(!0)}function E(A){if(A){var C=A[h];if(C)return C.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var D=-1,z=function P(){for(;++D<A.length;)if(l.call(A,D))return P.value=A[D],P.done=!1,P;return P.value=void 0,P.done=!0,P};return z.next=z}}return{next:k}}function k(){return{value:void 0,done:!0}}return b.prototype=x,c(L,"constructor",{value:x,configurable:!0}),c(x,"constructor",{value:b,configurable:!0}),b.displayName=p(x,d,"GeneratorFunction"),o.isGeneratorFunction=function(A){var C=typeof A=="function"&&A.constructor;return!!C&&(C===b||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,x):(A.__proto__=x,p(A,d,"GeneratorFunction")),A.prototype=Object.create(L),A},o.awrap=function(A){return{__await:A}},O(H.prototype),p(H.prototype,f,function(){return this}),o.AsyncIterator=H,o.async=function(A,C,D,z,P){P===void 0&&(P=Promise);var K=new H(g(A,C,D,z),P);return o.isGeneratorFunction(C)?K:K.next().then(function(Z){return Z.done?Z.value:K.next()})},O(L),p(L,d,"Generator"),p(L,h,function(){return this}),p(L,"toString",function(){return"[object Generator]"}),o.keys=function(A){var C=Object(A),D=[];for(var z in C)D.push(z);return D.reverse(),function P(){for(;D.length;){var K=D.pop();if(K in C)return P.value=K,P.done=!1,P}return P.done=!0,P}},o.values=E,j.prototype={constructor:j,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!A)for(var C in this)C.charAt(0)==="t"&&l.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var C=this;function D(q,$){return K.type="throw",K.arg=A,C.next=q,$&&(C.method="next",C.arg=void 0),!!$}for(var z=this.tryEntries.length-1;z>=0;--z){var P=this.tryEntries[z],K=P.completion;if(P.tryLoc==="root")return D("end");if(P.tryLoc<=this.prev){var Z=l.call(P,"catchLoc"),te=l.call(P,"finallyLoc");if(Z&&te){if(this.prev<P.catchLoc)return D(P.catchLoc,!0);if(this.prev<P.finallyLoc)return D(P.finallyLoc)}else if(Z){if(this.prev<P.catchLoc)return D(P.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return D(P.finallyLoc)}}}},abrupt:function(A,C){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.tryLoc<=this.prev&&l.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var P=z;break}}P&&(A==="break"||A==="continue")&&P.tryLoc<=C&&C<=P.finallyLoc&&(P=null);var K=P?P.completion:{};return K.type=A,K.arg=C,P?(this.method="next",this.next=P.finallyLoc,v):this.complete(K)},complete:function(A,C){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&C&&(this.next=C),v},finish:function(A){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.finallyLoc===A)return this.complete(D.completion,D.afterLoc),S(D),v}},catch:function(A){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.tryLoc===A){var z=D.completion;if(z.type==="throw"){var P=z.arg;S(D)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(A,C,D){return this.delegate={iterator:E(A),resultName:C,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(r,n,i){var s=r("buffer").Buffer,o=r("inherits"),a=r("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(M,U){return M<<U|M>>>32-U}function v(M,U,L,O,H,G,I,R){return m(M+(U^L^O)+G+I|0,R)+H|0}function y(M,U,L,O,H,G,I,R){return m(M+(U&L|~U&O)+G+I|0,R)+H|0}function b(M,U,L,O,H,G,I,R){return m(M+((U|~L)^O)+G+I|0,R)+H|0}function x(M,U,L,O,H,G,I,R){return m(M+(U&O|L&~O)+G+I|0,R)+H|0}function _(M,U,L,O,H,G,I,R){return m(M+(U^(L|~O))+G+I|0,R)+H|0}o(g,a),g.prototype._update=function(){for(var M=l,U=0;U<16;++U)M[U]=this._block.readInt32LE(4*U);for(var L=0|this._a,O=0|this._b,H=0|this._c,G=0|this._d,I=0|this._e,R=0|this._a,S=0|this._b,j=0|this._c,E=0|this._d,k=0|this._e,A=0;A<80;A+=1){var C,D;A<16?(C=v(L,O,H,G,I,M[c[A]],d[0],h[A]),D=_(R,S,j,E,k,M[u[A]],p[0],f[A])):A<32?(C=y(L,O,H,G,I,M[c[A]],d[1],h[A]),D=x(R,S,j,E,k,M[u[A]],p[1],f[A])):A<48?(C=b(L,O,H,G,I,M[c[A]],d[2],h[A]),D=b(R,S,j,E,k,M[u[A]],p[2],f[A])):A<64?(C=x(L,O,H,G,I,M[c[A]],d[3],h[A]),D=y(R,S,j,E,k,M[u[A]],p[3],f[A])):(C=_(L,O,H,G,I,M[c[A]],d[4],h[A]),D=v(R,S,j,E,k,M[u[A]],p[4],f[A])),L=I,I=G,G=m(H,10),H=O,O=C,R=k,k=E,E=m(j,10),j=S,S=D}var z=this._b+H+E|0;this._b=this._c+G+k|0,this._c=this._d+I+R|0,this._d=this._e+L+S|0,this._e=this._a+O+j|0,this._a=z},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var M=s.alloc?s.alloc(20):new s(20);return M.writeInt32LE(this._a,0),M.writeInt32LE(this._b,4),M.writeInt32LE(this._c,8),M.writeInt32LE(this._d,12),M.writeInt32LE(this._e,16),M},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),l.prototype=Object.create(o.prototype),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=o(c);return u!==void 0?typeof h=="string"?f.fill(u,h):f.fill(u):f.fill(0),f},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],495:[function(r,n,i){(function(s){(function(){var o,a=r("buffer"),l=a.Buffer,c={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(c[o]=a[o]);var u=c.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=l[o]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(h,f,d){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return l(h,f,d)}),u.alloc||(u.alloc=function(h,f,d){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var p=l(h);return f&&f.length!==0?typeof d=="string"?p.fill(f,d):p.fill(f):p.fill(0),p}),!c.kStringMaxLength)try{c.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=r("xmlchars/xml/1.0/ed5"),o=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var l=s.isS,c=s.isChar,u=s.isNameStartChar,h=s.isNameChar,f=s.S_LIST,d=s.NAME_RE,p=o.isChar,g=a.isNCNameStartChar,m=a.isNCNameChar,v=a.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:y,xmlns:b},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},M=E=>E===34||E===39,U=[34,39],L=[...U,91,62],O=[...U,60,93],H=[61,63,...f],G=[...f,62,38,60];function I(E,k,A){switch(k){case"xml":A!==y&&E.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":A!==b&&E.fail(`xmlns prefix must be bound to ${b}.`)}switch(A){case b:E.fail(k===""?`the default namespace may not be set to ${A}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case y:switch(k){case"xml":break;case"":E.fail(`the default namespace may not be set to ${A}.`);break;default:E.fail("may not assign the xml namespace to another prefix.")}}}const R=E=>v.test(E),S=E=>d.test(E);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const j={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(E){this.opt=E??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=g,this.nameCheck=m,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);const A=this.opt.additionalNamespaces;A!=null&&(function(C,D){for(const z of Object.keys(D))I(C,z,D[z])}(this,A),Object.assign(this.ns,A))}else this.nameStartCheck=u,this.nameCheck=h,this.isName=S,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var E;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:A}=this.opt;if(A===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");A="1.0"}this.setXMLVersion(A),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(E=this.readyHandler)===null||E===void 0||E.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(E,k){this[j[E]]=k}off(E){this[j[E]]=void 0}makeError(E){var k;let A=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(A.length>0&&(A+=":"),A+=`${this.line}:${this.column}`),A.length>0&&(A+=": "),new Error(A+E)}fail(E){const k=this.makeError(E),A=this.errorHandler;if(A===void 0)throw k;return A(k),this}write(E){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;E===null?(k=!0,E=""):typeof E=="object"&&(E=E.toString()),this.carriedFromPrevious!==void 0&&(E=`${this.carriedFromPrevious}${E}`,this.carriedFromPrevious=void 0);let A=E.length;const C=E.charCodeAt(A-1);!k&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=E[A-1],A--,E=E.slice(0,A));const{stateTable:D}=this;for(this.chunk=E,this.i=0;this.i<A;)D[this.state].call(this);return this.chunkPosition+=A,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:E,i:k}=this;if(this.prevI=k,this.i=k+1,k>=E.length)return-1;const A=E.charCodeAt(k);if(this.column++,A<55296){if(A>=32||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return E.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const C=65536+1024*(A-55296)+(E.charCodeAt(k+1)-56320);return this.i=k+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:E,i:k}=this;if(this.prevI=k,this.i=k+1,k>=E.length)return-1;const A=E.charCodeAt(k);if(this.column++,A<55296){if(A>31&&A<127||A>159&&A!==8232||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=E.charCodeAt(k+1);D!==10&&D!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const C=65536+1024*(A-55296)+(E.charCodeAt(k+1)-56320);return this.i=k+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const E=this.getCode();return E===-2?10:E}unget(){this.i=this.prevI,this.column--}captureTo(E){let{i:k}=this;const{chunk:A}=this;for(;;){const C=this.getCode(),D=C===-2,z=D?10:C;if(z===-1||E.includes(z))return this.text+=A.slice(k,this.prevI),z;D&&(this.text+=A.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(E){let{i:k}=this;const{chunk:A}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=A.slice(k,this.prevI)+`
`,k=this.i,C=10;break;case-1:return this.text+=A.slice(k),!1}if(C===E)return this.text+=A.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:E,i:k}=this;for(;;){const A=this.getCode();if(A===-1)return this.name+=E.slice(k),-1;if(!h(A))return this.name+=E.slice(k,this.prevI),A===-2?10:A}}skipSpaces(){for(;;){const E=this.getCodeNorm();if(E===-1||!l(E))return E}}setXMLVersion(E){this.currentXMLVersion=E,E==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const E=this.i,k=this.skipSpaces();switch(this.prevI!==E&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var E;const k=this.captureTo(L);switch(k){case 62:(E=this.doctypeHandler)===null||E===void 0||E.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:M(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const E=this.q;this.captureToChar(E)&&(this.text+=String.fromCodePoint(E),this.q=null,this.state=2)}sDTD(){const E=this.captureTo(O);E!==-1&&(this.text+=String.fromCodePoint(E),E===93?this.state=2:E===60?this.state=6:M(E)&&(this.state=5,this.q=E))}sDTDQuoted(){const E=this.q;this.captureToChar(E)&&(this.text+=String.fromCodePoint(E),this.state=4,this.q=null)}sDTDOpenWaka(){const E=this.getCodeNorm();switch(this.text+=String.fromCodePoint(E),E){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const E=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=E;this.text+=E,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const E=this.getCodeNorm();this.text+=String.fromCodePoint(E),this.state=E===45?10:8}sDTDCommentEnded(){const E=this.getCodeNorm();this.text+=String.fromCodePoint(E),E===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const E=this.getCodeNorm();this.text+=String.fromCodePoint(E),E===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:E}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(E,this.prevI)+`
`,E=this.i;break;case 59:{const{entityReturnState:A}=this,C=this.entity+k.slice(E,this.prevI);let D;this.state=A,C===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(C),this.entity=""),A===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=k.slice(E);break e}}sOpenWaka(){const E=this.getCode();if(u(E))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(E){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var E;const k=this.getCodeNorm();k===45?(this.state=19,(E=this.commentHandler)===null||E===void 0||E.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const E=this.getCodeNorm();E!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(E),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const E=this.getCodeNorm();E===93?this.state=22:(this.text+="]"+String.fromCodePoint(E),this.state=20)}sCDataEnding2(){var E;const k=this.getCodeNorm();switch(k){case 62:(E=this.cdataHandler)===null||E===void 0||E.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const E=this.getCodeNorm();this.nameStartCheck(E)?(this.piTarget+=String.fromCodePoint(E),this.state=24):E===63||l(E)?(this.fail("processing instruction without a target."),this.state=E===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(E),this.state=24)}sPIRest(){const{chunk:E,i:k}=this;for(;;){const A=this.getCodeNorm();if(A===-1)return void(this.piTarget+=E.slice(k));if(!this.nameCheck(A)){this.piTarget+=E.slice(k,this.prevI);const C=A===63;C||l(A)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(A));break}}}sPIBody(){if(this.text.length===0){const E=this.getCodeNorm();E===63?this.state=26:l(E)||(this.text=String.fromCodePoint(E))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var E;const k=this.getCodeNorm();if(k===62){const{piTarget:A}=this;A.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(E=this.piHandler)===null||E===void 0||E.call(this,{target:A,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const E=this.skipSpaces();E!==63?E!==-1&&(this.state=28,this.name=String.fromCodePoint(E)):this.state=33}sXMLDeclName(){const E=this.captureTo(H);if(E===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(E)||E===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=E===61?30:29}}sXMLDeclEq(){const E=this.getCodeNorm();if(E===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(E)||(E!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const E=this.getCodeNorm();if(E===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(E)||(M(E)?this.q=E:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const E=this.captureTo([this.q,63]);if(E===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(E===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const A=k;this.xmlDecl.version=A,/^1\.[0-9]+$/.test(A)?this.opt.forceXMLVersion||this.setXMLVersion(A):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const E=this.getCodeNorm();E!==63?(l(E)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var E;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(E=this.xmldeclHandler)===null||E===void 0||E.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var E;const k=this.captureNameChars();if(k===-1)return;const A=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=A.ns=Object.create(null)),(E=this.openTagStartHandler)===null||E===void 0||E.call(this,A),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:l(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const E=this.skipSpaces();E!==-1&&(u(E)?(this.unget(),this.state=37):E===62?this.openTag():E===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const E=this.captureNameChars();E===61?this.state=39:l(E)?this.state=38:E===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):E!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const E=this.skipSpaces();switch(E){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",E===62?this.openTag():u(E)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const E=this.getCodeNorm();M(E)?(this.q=E,this.state=40):l(E)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:E,chunk:k}=this;let{i:A}=this;for(;;)switch(this.getCode()){case E:return this.pushAttrib(this.name,this.text+k.slice(A,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(A,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(A,this.prevI)+" ",A=this.i;break;case 60:return this.text+=k.slice(A,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(A))}}sAttribValueClosed(){const E=this.getCodeNorm();l(E)?this.state=36:E===62?this.openTag():E===47?this.state=35:u(E)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const E=this.captureTo(G);switch(E){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",E===62?this.openTag():this.state=36}}sCloseTag(){const E=this.captureNameChars();E===62?this.closeTag():l(E)?this.state=44:E!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:E,forbiddenState:k}=this;const{chunk:A,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:D}=this,z=A.slice(E,this.prevI);D.length!==0?(C(D+z),this.text=""):z.length!==0&&C(z)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=A.slice(E,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:C!==void 0&&(this.text+=A.slice(E,this.prevI)+`
`),E=this.i,k=0;break;case-1:C!==void 0&&(this.text+=A.slice(E));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:E}=this;const{chunk:k,textHandler:A}=this;let C=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,A!==void 0){const{text:z}=this,P=k.slice(E,this.prevI);z.length!==0?(A(z+P),this.text=""):P.length!==0&&A(P)}break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=k.slice(E,this.prevI)),C=!0;break e;case-2:A!==void 0&&(this.text+=k.slice(E,this.prevI)+`
`),E=this.i;break;case-1:A!==void 0&&(this.text+=k.slice(E));break e;default:l(D)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(E,k){var A;const{prefix:C,local:D}=this.qname(E),z={name:E,prefix:C,local:D,value:k};if(this.attribList.push(z),(A=this.attributeHandler)===null||A===void 0||A.call(this,z),C==="xmlns"){const P=k.trim();this.currentXMLVersion==="1.0"&&P===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=P,I(this,D,P)}else if(E==="xmlns"){const P=k.trim();this.topNS[""]=P,I(this,"",P)}}pushAttribPlain(E,k){var A;const C={name:E,value:k};this.attribList.push(C),(A=this.attributeHandler)===null||A===void 0||A.call(this,C)}end(){var E,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:A}=this;for(;A.length>0;){const D=A.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((E=this.textHandler)===null||E===void 0||E.call(this,C),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(E){var k,A;let C=this.topNS[E];if(C!==void 0)return C;const{tags:D}=this;for(let z=D.length-1;z>=0;z--)if(C=D[z].ns[E],C!==void 0)return C;return C=this.ns[E],C!==void 0?C:(A=(k=this.opt).resolvePrefix)===null||A===void 0?void 0:A.call(k,E)}qname(E){const k=E.indexOf(":");if(k===-1)return{prefix:"",local:E};const A=E.slice(k+1),C=E.slice(0,k);return(C===""||A===""||A.includes(":"))&&this.fail(`malformed name: ${E}.`),{prefix:C,local:A}}processAttribsNS(){var E;const{attribList:k}=this,A=this.tag;{const{prefix:z,local:P}=this.qname(A.name);A.prefix=z,A.local=P;const K=A.uri=(E=this.resolve(z))!==null&&E!==void 0?E:"";z!==""&&(z==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),A.uri=z))}if(k.length===0)return;const{attributes:C}=A,D=new Set;for(const z of k){const{name:P,prefix:K,local:Z}=z;let te,q;K===""?(te=P==="xmlns"?b:"",q=P):(te=this.resolve(K),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),te=K),q=`{${te}}${Z}`),D.has(q)&&this.fail(`duplicate attribute: ${q}.`),D.add(q),z.uri=te,C[P]=z}this.attribList=[]}processAttribsPlain(){const{attribList:E}=this,k=this.tag.attributes;for(const{name:A,value:C}of E)k[A]!==void 0&&this.fail(`duplicate attribute: ${A}.`),k[A]=C;this.attribList=[]}openTag(){var E;this.processAttribs();const{tags:k}=this,A=this.tag;A.isSelfClosing=!1,(E=this.openTagHandler)===null||E===void 0||E.call(this,A),k.push(A),this.state=13,this.name=""}openSelfClosingTag(){var E,k,A;this.processAttribs();const{tags:C}=this,D=this.tag;D.isSelfClosing=!0,(E=this.openTagHandler)===null||E===void 0||E.call(this,D),(k=this.closeTagHandler)===null||k===void 0||k.call(this,D),(this.tag=(A=C[C.length-1])!==null&&A!==void 0?A:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:E,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const A=this.closeTagHandler;let C=E.length;for(;C-- >0;){const D=this.tag=E.pop();if(this.topNS=D.ns,A==null||A(D),D.name===k)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(E){if(E[0]!=="#"){const A=this.ENTITIES[E];return A!==void 0?A:(this.fail(this.isName(E)?"undefined entity.":"disallowed character in entity name."),`&${E};`)}let k=NaN;return E[1]==="x"&&/^#x[0-9a-f]+$/i.test(E)?k=parseInt(E.slice(2),16):/^#[0-9]+$/.test(E)&&(k=parseInt(E.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${E};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l){this._block=s.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}o.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=s.from(a,l));for(var c=this._block,u=this._blockSize,h=a.length,f=this._len,d=0;d<h;){for(var p=f%u,g=Math.min(h-d,u-p),m=0;m<g;m++)c[p+m]=a[d+m];d+=g,(f+=g)%u==0&&this._update(c)}return this._len+=h,this},o.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,h=(c-u)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return a?f.toString(a):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(r,n,i){var s=n.exports=function(o){o=o.toLowerCase();var a=s[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};s.sha=r("./sha"),s.sha1=r("./sha1"),s.sha224=r("./sha224"),s.sha256=r("./sha256"),s.sha384=r("./sha384"),s.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(d){return d<<30|d>>>2}function f(d,p,g,m){return d===0?p&g|~p&m:d===2?p&g|p&m|g&m:p^g^m}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var p,g=this._w,m=0|this._a,v=0|this._b,y=0|this._c,b=0|this._d,x=0|this._e,_=0;_<16;++_)g[_]=d.readInt32BE(4*_);for(;_<80;++_)g[_]=g[_-3]^g[_-8]^g[_-14]^g[_-16];for(var M=0;M<80;++M){var U=~~(M/20),L=0|((p=m)<<5|p>>>27)+f(U,v,y,b)+x+g[M]+l[U];x=b,b=y,y=h(v),v=m,m=L}this._a=m+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=x+this._e|0},u.prototype._hash=function(){var d=a.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(p){return p<<5|p>>>27}function f(p){return p<<30|p>>>2}function d(p,g,m,v){return p===0?g&m|~g&v:p===2?g&m|g&v|m&v:g^m^v}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(p){for(var g,m=this._w,v=0|this._a,y=0|this._b,b=0|this._c,x=0|this._d,_=0|this._e,M=0;M<16;++M)m[M]=p.readInt32BE(4*M);for(;M<80;++M)m[M]=(g=m[M-3]^m[M-8]^m[M-14]^m[M-16])<<1|g>>>31;for(var U=0;U<80;++U){var L=~~(U/20),O=h(v)+d(L,y,b,x)+_+m[U]+l[L]|0;_=x,x=b,b=f(y),y=v,v=O}this._a=v+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=_+this._e|0},u.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var s=r("inherits"),o=r("./sha256"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}s(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(m,v,y){return y^m&(v^y)}function f(m,v,y){return m&v|y&(m|v)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}s(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var v,y=this._w,b=0|this._a,x=0|this._b,_=0|this._c,M=0|this._d,U=0|this._e,L=0|this._f,O=0|this._g,H=0|this._h,G=0;G<16;++G)y[G]=m.readInt32BE(4*G);for(;G<64;++G)y[G]=0|(((v=y[G-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[G-7]+g(y[G-15])+y[G-16];for(var I=0;I<64;++I){var R=H+p(U)+h(U,L,O)+l[I]+y[I]|0,S=d(b)+f(b,x,_)|0;H=O,O=L,L=U,U=M+R|0,M=_,_=x,x=b,b=R+S|0}this._a=b+this._a|0,this._b=x+this._b|0,this._c=_+this._c|0,this._d=M+this._d|0,this._e=U+this._e|0,this._f=L+this._f|0,this._g=O+this._g|0,this._h=H+this._h|0},u.prototype._hash=function(){var m=a.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var s=r("inherits"),o=r("./sha512"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}s(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(48);function f(d,p,g){h.writeInt32BE(d,g),h.writeInt32BE(p,g+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),h},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}function h(x,_,M){return M^x&(_^M)}function f(x,_,M){return x&_|M&(x|_)}function d(x,_){return(x>>>28|_<<4)^(_>>>2|x<<30)^(_>>>7|x<<25)}function p(x,_){return(x>>>14|_<<18)^(x>>>18|_<<14)^(_>>>9|x<<23)}function g(x,_){return(x>>>1|_<<31)^(x>>>8|_<<24)^x>>>7}function m(x,_){return(x>>>1|_<<31)^(x>>>8|_<<24)^(x>>>7|_<<25)}function v(x,_){return(x>>>19|_<<13)^(_>>>29|x<<3)^x>>>6}function y(x,_){return(x>>>19|_<<13)^(_>>>29|x<<3)^(x>>>6|_<<26)}function b(x,_){return x>>>0<_>>>0?1:0}s(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(x){for(var _=this._w,M=0|this._ah,U=0|this._bh,L=0|this._ch,O=0|this._dh,H=0|this._eh,G=0|this._fh,I=0|this._gh,R=0|this._hh,S=0|this._al,j=0|this._bl,E=0|this._cl,k=0|this._dl,A=0|this._el,C=0|this._fl,D=0|this._gl,z=0|this._hl,P=0;P<32;P+=2)_[P]=x.readInt32BE(4*P),_[P+1]=x.readInt32BE(4*P+4);for(;P<160;P+=2){var K=_[P-30],Z=_[P-30+1],te=g(K,Z),q=m(Z,K),$=v(K=_[P-4],Z=_[P-4+1]),N=y(Z,K),T=_[P-14],V=_[P-14+1],J=_[P-32],re=_[P-32+1],se=q+V|0,B=te+T+b(se,q)|0;B=(B=B+$+b(se=se+N|0,N)|0)+J+b(se=se+re|0,re)|0,_[P]=B,_[P+1]=se}for(var ne=0;ne<160;ne+=2){B=_[ne],se=_[ne+1];var ee=f(M,U,L),F=f(S,j,E),W=d(M,S),Y=d(S,M),ae=p(H,A),ce=p(A,H),le=l[ne],de=l[ne+1],me=h(H,G,I),ge=h(A,C,D),ke=z+ce|0,Re=R+ae+b(ke,z)|0;Re=(Re=(Re=Re+me+b(ke=ke+ge|0,ge)|0)+le+b(ke=ke+de|0,de)|0)+B+b(ke=ke+se|0,se)|0;var je=Y+F|0,We=W+ee+b(je,Y)|0;R=I,z=D,I=G,D=C,G=H,C=A,H=O+Re+b(A=k+ke|0,k)|0,O=L,k=E,L=U,E=j,U=M,j=S,M=Re+We+b(S=ke+je|0,ke)|0}this._al=this._al+S|0,this._bl=this._bl+j|0,this._cl=this._cl+E|0,this._dl=this._dl+k|0,this._el=this._el+A|0,this._fl=this._fl+C|0,this._gl=this._gl+D|0,this._hl=this._hl+z|0,this._ah=this._ah+M+b(this._al,S)|0,this._bh=this._bh+U+b(this._bl,j)|0,this._ch=this._ch+L+b(this._cl,E)|0,this._dh=this._dh+O+b(this._dl,k)|0,this._eh=this._eh+H+b(this._el,A)|0,this._fh=this._fh+G+b(this._fl,C)|0,this._gh=this._gh+I+b(this._gl,D)|0,this._hh=this._hh+R+b(this._hl,z)|0},u.prototype._hash=function(){var x=a.allocUnsafe(64);function _(M,U,L){x.writeInt32BE(M,L),x.writeInt32BE(U,L+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),x},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=o;var s=r("events").EventEmitter;function o(){s.call(this)}r("inherits")(o,s),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,l){var c=this;function u(v){a.writable&&a.write(v)===!1&&c.pause&&c.pause()}function h(){c.readable&&c.resume&&c.resume()}c.on("data",u),a.on("drain",h),a._isStdio||l&&l.end===!1||(c.on("end",d),c.on("close",p));var f=!1;function d(){f||(f=!0,a.end())}function p(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function g(v){if(m(),s.listenerCount(this,"error")===0)throw v}function m(){c.removeListener("data",u),a.removeListener("drain",h),c.removeListener("end",d),c.removeListener("close",p),c.removeListener("error",g),a.removeListener("error",g),c.removeListener("end",m),c.removeListener("close",m),a.removeListener("close",m)}return c.on("error",g),a.on("error",g),c.on("end",m),c.on("close",m),a.on("close",m),a.emit("pipe",c),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var s=r("process-nextick-args"),o=Object.keys||function(m){var v=[];for(var y in m)v.push(y);return v};n.exports=d;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l=r("./_stream_readable"),c=r("./_stream_writable");a.inherits(d,l);for(var u=o(c.prototype),h=0;h<u.length;h++){var f=u[h];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(m){if(!(this instanceof d))return new d(m);l.call(this,m),c.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||s.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,v){this.push(null),this.end(),s.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=a;var s=r("./_stream_transform"),o=Object.create(r("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);s.call(this,l)}o.inherits=r("inherits"),o.inherits(a,s),a.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(s,o){(function(){var a=r("process-nextick-args");n.exports=M;var l,c=r("isarray");M.ReadableState=_,r("events").EventEmitter;var u=function(z,P){return z.listeners(P).length},h=r("./internal/streams/stream"),f=r("safe-buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(r("core-util-is"));p.inherits=r("inherits");var g=r("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,y=r("./internal/streams/BufferList"),b=r("./internal/streams/destroy");p.inherits(M,h);var x=["error","close","destroy","pause","resume"];function _(z,P){z=z||{};var K=P instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!z.objectMode,K&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var Z=z.highWaterMark,te=z.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(te||te===0)?te:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(v||(v=r("string_decoder/").StringDecoder),this.decoder=new v(z.encoding),this.encoding=z.encoding)}function M(z){if(l=l||r("./_stream_duplex"),!(this instanceof M))return new M(z);this._readableState=new _(z,this),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}function U(z,P,K,Z,te){var q,$=z._readableState;return P===null?($.reading=!1,function(N,T){if(!T.ended){if(T.decoder){var V=T.decoder.end();V&&V.length&&(T.buffer.push(V),T.length+=T.objectMode?1:V.length)}T.ended=!0,H(N)}}(z,$)):(te||(q=function(N,T){var V;J=T,f.isBuffer(J)||J instanceof d||typeof T=="string"||T===void 0||N.objectMode||(V=new TypeError("Invalid non-string/buffer chunk"));var J;return V}($,P)),q?z.emit("error",q):$.objectMode||P&&P.length>0?(typeof P=="string"||$.objectMode||Object.getPrototypeOf(P)===f.prototype||(P=function(N){return f.from(N)}(P)),Z?$.endEmitted?z.emit("error",new Error("stream.unshift() after end event")):L(z,$,P,!0):$.ended?z.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!K?(P=$.decoder.write(P),$.objectMode||P.length!==0?L(z,$,P,!1):I(z,$)):L(z,$,P,!1))):Z||($.reading=!1)),function(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}($)}function L(z,P,K,Z){P.flowing&&P.length===0&&!P.sync?(z.emit("data",K),z.read(0)):(P.length+=P.objectMode?1:K.length,Z?P.buffer.unshift(K):P.buffer.push(K),P.needReadable&&H(z)),I(z,P)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),M.prototype.destroy=b.destroy,M.prototype._undestroy=b.undestroy,M.prototype._destroy=function(z,P){this.push(null),P(z)},M.prototype.push=function(z,P){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof z=="string"&&((P=P||Z.defaultEncoding)!==Z.encoding&&(z=f.from(z,P),P=""),K=!0),U(this,z,P,!1,K)},M.prototype.unshift=function(z){return U(this,z,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(z){return v||(v=r("string_decoder/").StringDecoder),this._readableState.decoder=new v(z),this._readableState.encoding=z,this};function O(z,P){return z<=0||P.length===0&&P.ended?0:P.objectMode?1:z!=z?P.flowing&&P.length?P.buffer.head.data.length:P.length:(z>P.highWaterMark&&(P.highWaterMark=function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(z)),z<=P.length?z:P.ended?P.length:(P.needReadable=!0,0))}function H(z){var P=z._readableState;P.needReadable=!1,P.emittedReadable||(m("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?a.nextTick(G,z):G(z))}function G(z){m("emit readable"),z.emit("readable"),E(z)}function I(z,P){P.readingMore||(P.readingMore=!0,a.nextTick(R,z,P))}function R(z,P){for(var K=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(m("maybeReadMore read 0"),z.read(0),K!==P.length);)K=P.length;P.readingMore=!1}function S(z){m("readable nexttick read 0"),z.read(0)}function j(z,P){P.reading||(m("resume read 0"),z.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,z.emit("resume"),E(z),P.flowing&&!P.reading&&z.read(0)}function E(z){var P=z._readableState;for(m("flow",P.flowing);P.flowing&&z.read()!==null;);}function k(z,P){return P.length===0?null:(P.objectMode?K=P.buffer.shift():!z||z>=P.length?(K=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):K=function(Z,te,q){var $;return Z<te.head.data.length?($=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):$=Z===te.head.data.length?te.shift():q?function(N,T){var V=T.head,J=1,re=V.data;for(N-=re.length;V=V.next;){var se=V.data,B=N>se.length?se.length:N;if(B===se.length?re+=se:re+=se.slice(0,N),(N-=B)===0){B===se.length?(++J,V.next?T.head=V.next:T.head=T.tail=null):(T.head=V,V.data=se.slice(B));break}++J}return T.length-=J,re}(Z,te):function(N,T){var V=f.allocUnsafe(N),J=T.head,re=1;for(J.data.copy(V),N-=J.data.length;J=J.next;){var se=J.data,B=N>se.length?se.length:N;if(se.copy(V,V.length-N,0,B),(N-=B)===0){B===se.length?(++re,J.next?T.head=J.next:T.head=T.tail=null):(T.head=J,J.data=se.slice(B));break}++re}return T.length-=re,V}(Z,te),$}(z,P.buffer,P.decoder),K);var K}function A(z){var P=z._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,a.nextTick(C,P,z))}function C(z,P){z.endEmitted||z.length!==0||(z.endEmitted=!0,P.readable=!1,P.emit("end"))}function D(z,P){for(var K=0,Z=z.length;K<Z;K++)if(z[K]===P)return K;return-1}M.prototype.read=function(z){m("read",z),z=parseInt(z,10);var P=this._readableState,K=z;if(z!==0&&(P.emittedReadable=!1),z===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return m("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?A(this):H(this),null;if((z=O(z,P))===0&&P.ended)return P.length===0&&A(this),null;var Z,te=P.needReadable;return m("need readable",te),(P.length===0||P.length-z<P.highWaterMark)&&m("length less than watermark",te=!0),P.ended||P.reading?m("reading or ended",te=!1):te&&(m("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(z=O(K,P))),(Z=z>0?k(z,P):null)===null?(P.needReadable=!0,z=0):P.length-=z,P.length===0&&(P.ended||(P.needReadable=!0),K!==z&&P.ended&&A(this)),Z!==null&&this.emit("data",Z),Z},M.prototype._read=function(z){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(z,P){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=z;break;case 1:Z.pipes=[Z.pipes,z];break;default:Z.pipes.push(z)}Z.pipesCount+=1,m("pipe count=%d opts=%j",Z.pipesCount,P);var te=(!P||P.end!==!1)&&z!==s.stdout&&z!==s.stderr?$:ne;function q(ee,F){m("onunpipe"),ee===K&&F&&F.hasUnpiped===!1&&(F.hasUnpiped=!0,m("cleanup"),z.removeListener("close",se),z.removeListener("finish",B),z.removeListener("drain",N),z.removeListener("error",re),z.removeListener("unpipe",q),K.removeListener("end",$),K.removeListener("end",ne),K.removeListener("data",J),T=!0,!Z.awaitDrain||z._writableState&&!z._writableState.needDrain||N())}function $(){m("onend"),z.end()}Z.endEmitted?a.nextTick(te):K.once("end",te),z.on("unpipe",q);var N=function(ee){return function(){var F=ee._readableState;m("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,F.awaitDrain===0&&u(ee,"data")&&(F.flowing=!0,E(ee))}}(K);z.on("drain",N);var T=!1,V=!1;function J(ee){m("ondata"),V=!1,z.write(ee)!==!1||V||((Z.pipesCount===1&&Z.pipes===z||Z.pipesCount>1&&D(Z.pipes,z)!==-1)&&!T&&(m("false write response, pause",Z.awaitDrain),Z.awaitDrain++,V=!0),K.pause())}function re(ee){m("onerror",ee),ne(),z.removeListener("error",re),u(z,"error")===0&&z.emit("error",ee)}function se(){z.removeListener("finish",B),ne()}function B(){m("onfinish"),z.removeListener("close",se),ne()}function ne(){m("unpipe"),K.unpipe(z)}return K.on("data",J),function(ee,F,W){if(typeof ee.prependListener=="function")return ee.prependListener(F,W);ee._events&&ee._events[F]?c(ee._events[F])?ee._events[F].unshift(W):ee._events[F]=[W,ee._events[F]]:ee.on(F,W)}(z,"error",re),z.once("close",se),z.once("finish",B),z.emit("pipe",K),Z.flowing||(m("pipe resume"),K.resume()),z},M.prototype.unpipe=function(z){var P=this._readableState,K={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return z&&z!==P.pipes||(z||(z=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,z&&z.emit("unpipe",this,K)),this;if(!z){var Z=P.pipes,te=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var q=0;q<te;q++)Z[q].emit("unpipe",this,{hasUnpiped:!1});return this}var $=D(P.pipes,z);return $===-1||(P.pipes.splice($,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),z.emit("unpipe",this,K)),this},M.prototype.on=function(z,P){var K=h.prototype.on.call(this,z,P);if(z==="data")this._readableState.flowing!==!1&&this.resume();else if(z==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&H(this):a.nextTick(S,this))}return K},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var z=this._readableState;return z.flowing||(m("resume"),z.flowing=!0,function(P,K){K.resumeScheduled||(K.resumeScheduled=!0,a.nextTick(j,P,K))}(this,z)),this},M.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(z){var P=this,K=this._readableState,Z=!1;for(var te in z.on("end",function(){if(m("wrapped end"),K.decoder&&!K.ended){var $=K.decoder.end();$&&$.length&&P.push($)}P.push(null)}),z.on("data",function($){m("wrapped data"),K.decoder&&($=K.decoder.write($)),K.objectMode&&$==null||(K.objectMode||$&&$.length)&&(P.push($)||(Z=!0,z.pause()))}),z)this[te]===void 0&&typeof z[te]=="function"&&(this[te]=function($){return function(){return z[$].apply(z,arguments)}}(te));for(var q=0;q<x.length;q++)z.on(x[q],this.emit.bind(this,x[q]));return this._read=function($){m("wrapped _read",$),Z&&(Z=!1,z.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=k}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var s=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function a(h,f){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,f!=null&&this.push(f),p(h);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"?this._flush(function(f,d){u(h,f,d)}):u(this,null,null)}function u(h,f,d){if(f)return h.emit("error",f);if(d!=null&&h.push(d),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=r("inherits"),o.inherits(l,s),l.prototype.push=function(h,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,f)},l.prototype._transform=function(h,f,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(h,f,d){var p=this._transformState;if(p.writecb=d,p.writechunk=h,p.writeencoding=f,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},l.prototype._destroy=function(h,f){var d=this;s.prototype._destroy.call(this,h,function(p){f(p),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(s,o,a){(function(){var l=r("process-nextick-args");function c(I){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(S,j,E){var k=S.entry;for(S.entry=null;k;){var A=k.callback;j.pendingcb--,A(E),k=k.next}j.corkedRequestsFree.next=S})(R,I)}}n.exports=_;var u,h=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?a:l.nextTick;_.WritableState=x;var f=Object.create(r("core-util-is"));f.inherits=r("inherits");var d={deprecate:r("util-deprecate")},p=r("./internal/streams/stream"),g=r("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=r("./internal/streams/destroy");function b(){}function x(I,R){u=u||r("./_stream_duplex"),I=I||{};var S=R instanceof u;this.objectMode=!!I.objectMode,S&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var j=I.highWaterMark,E=I.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:S&&(E||E===0)?E:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=I.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(D,z){var P=D._writableState,K=P.sync,Z=P.writecb;if(function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}(P),z)(function(q,$,N,T,V){--$.pendingcb,N?(l.nextTick(V,T),l.nextTick(G,q,$),q._writableState.errorEmitted=!0,q.emit("error",T)):(V(T),q._writableState.errorEmitted=!0,q.emit("error",T),G(q,$))})(D,P,K,z,Z);else{var te=O(P);te||P.corked||P.bufferProcessing||!P.bufferedRequest||L(D,P),K?h(U,D,P,te,Z):U(D,P,te,Z)}})(R,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function _(I){if(u=u||r("./_stream_duplex"),!(v.call(_,this)||this instanceof u))return new _(I);this._writableState=new x(I,this),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),p.call(this)}function M(I,R,S,j,E,k,A){R.writelen=j,R.writecb=A,R.writing=!0,R.sync=!0,S?I._writev(E,R.onwrite):I._write(E,k,R.onwrite),R.sync=!1}function U(I,R,S,j){S||function(E,k){k.length===0&&k.needDrain&&(k.needDrain=!1,E.emit("drain"))}(I,R),R.pendingcb--,j(),G(I,R)}function L(I,R){R.bufferProcessing=!0;var S=R.bufferedRequest;if(I._writev&&S&&S.next){var j=R.bufferedRequestCount,E=new Array(j),k=R.corkedRequestsFree;k.entry=S;for(var A=0,C=!0;S;)E[A]=S,S.isBuf||(C=!1),S=S.next,A+=1;E.allBuffers=C,M(I,R,!0,R.length,E,"",k.finish),R.pendingcb++,R.lastBufferedRequest=null,k.next?(R.corkedRequestsFree=k.next,k.next=null):R.corkedRequestsFree=new c(R),R.bufferedRequestCount=0}else{for(;S;){var D=S.chunk,z=S.encoding,P=S.callback;if(M(I,R,!1,R.objectMode?1:D.length,D,z,P),S=S.next,R.bufferedRequestCount--,R.writing)break}S===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=S,R.bufferProcessing=!1}function O(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function H(I,R){I._final(function(S){R.pendingcb--,S&&I.emit("error",S),R.prefinished=!0,I.emit("prefinish"),G(I,R)})}function G(I,R){var S=O(R);return S&&(function(j,E){E.prefinished||E.finalCalled||(typeof j._final=="function"?(E.pendingcb++,E.finalCalled=!0,l.nextTick(H,j,E)):(E.prefinished=!0,j.emit("prefinish")))}(I,R),R.pendingcb===0&&(R.finished=!0,I.emit("finish"))),S}f.inherits(_,p),x.prototype.getBuffer=function(){for(var I=this.bufferedRequest,R=[];I;)R.push(I),I=I.next;return R},function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(I){return!!v.call(this,I)||this===_&&I&&I._writableState instanceof x}})):v=function(I){return I instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(I,R,S){var j,E=this._writableState,k=!1,A=!E.objectMode&&(j=I,g.isBuffer(j)||j instanceof m);return A&&!g.isBuffer(I)&&(I=function(C){return g.from(C)}(I)),typeof R=="function"&&(S=R,R=null),A?R="buffer":R||(R=E.defaultEncoding),typeof S!="function"&&(S=b),E.ended?function(C,D){var z=new Error("write after end");C.emit("error",z),l.nextTick(D,z)}(this,S):(A||function(C,D,z,P){var K=!0,Z=!1;return z===null?Z=new TypeError("May not write null values to stream"):typeof z=="string"||z===void 0||D.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(C.emit("error",Z),l.nextTick(P,Z),K=!1),K}(this,E,I,S))&&(E.pendingcb++,k=function(C,D,z,P,K,Z){if(!z){var te=function(T,V,J){return T.objectMode||T.decodeStrings===!1||typeof V!="string"||(V=g.from(V,J)),V}(D,P,K);P!==te&&(z=!0,K="buffer",P=te)}var q=D.objectMode?1:P.length;D.length+=q;var $=D.length<D.highWaterMark;if($||(D.needDrain=!0),D.writing||D.corked){var N=D.lastBufferedRequest;D.lastBufferedRequest={chunk:P,encoding:K,isBuf:z,callback:Z,next:null},N?N.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else M(C,D,!1,q,P,K,Z);return $}(this,E,A,I,R,S)),k},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||L(this,I))},_.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(I,R,S){S(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(I,R,S){var j=this._writableState;typeof I=="function"?(S=I,I=null,R=null):typeof R=="function"&&(S=R,R=null),I!=null&&this.write(I,R),j.corked&&(j.corked=1,this.uncork()),j.ending||function(E,k,A){k.ending=!0,G(E,k),A&&(k.finished?l.nextTick(A):E.once("finish",A)),k.ended=!0,E.writable=!1}(this,j,S)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(I,R){this.end(),R(I)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("util");n.exports=function(){function a(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},a.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},a.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var c,u,h,f=s.allocUnsafe(l>>>0),d=this.head,p=0;d;)c=d.data,u=f,h=p,c.copy(u,h),p+=d.data.length,d=d.next;return f},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var s=r("process-nextick-args");function o(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return u||h?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,a)):s.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,s.nextTick(o,c,f)):s.nextTick(o,c,f):l&&l(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(s,o){(function(){var a=r("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},h=0;function f(d,p){this._id=d,this._clearFn=p}i.setTimeout=function(){return new f(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new f(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,p){clearTimeout(d._idleTimeoutId),d._idleTimeout=p},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var p=d._idleTimeout;p>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},p))},i.setImmediate=typeof s=="function"?s:function(d){var p=h++,g=!(arguments.length<2)&&c.call(arguments,1);return u[p]=!0,a(function(){u[p]&&(g?d.apply(null,g):d.call(null),i.clearImmediate(p))}),p},i.clearImmediate=typeof o=="function"?o:function(d){delete u[d]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(s){(function(){function o(a){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(o("noDeprecation"))return a;var c=!1;return function(){if(!c){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}},{}],526:[function(r,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(r,n,i){(function(s,o){(function(){var a=/%[sdj%]/g;i.format=function(E){if(!x(E)){for(var k=[],A=0;A<arguments.length;A++)k.push(u(arguments[A]));return k.join(" ")}A=1;for(var C=arguments,D=C.length,z=String(E).replace(a,function(K){if(K==="%%")return"%";if(A>=D)return K;switch(K){case"%s":return String(C[A++]);case"%d":return Number(C[A++]);case"%j":try{return JSON.stringify(C[A++])}catch{return"[Circular]"}default:return K}}),P=C[A];A<D;P=C[++A])y(P)||!U(P)?z+=" "+P:z+=" "+u(P);return z},i.deprecate=function(E,k){if(_(o.process))return function(){return i.deprecate(E,k).apply(this,arguments)};if(s.noDeprecation===!0)return E;var A=!1;return function(){if(!A){if(s.throwDeprecation)throw new Error(k);s.traceDeprecation?console.trace(k):console.error(k),A=!0}return E.apply(this,arguments)}};var l,c={};function u(E,k){var A={seen:[],stylize:f};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),v(k)?A.showHidden=k:k&&i._extend(A,k),_(A.showHidden)&&(A.showHidden=!1),_(A.depth)&&(A.depth=2),_(A.colors)&&(A.colors=!1),_(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=h),d(A,E,A.depth)}function h(E,k){var A=u.styles[k];return A?"\x1B["+u.colors[A][0]+"m"+E+"\x1B["+u.colors[A][1]+"m":E}function f(E,k){return E}function d(E,k,A){if(E.customInspect&&k&&H(k.inspect)&&k.inspect!==i.inspect&&(!k.constructor||k.constructor.prototype!==k)){var C=k.inspect(A,E);return x(C)||(C=d(E,C,A)),C}var D=function(N,T){if(_(T))return N.stylize("undefined","undefined");if(x(T)){var V="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(V,"string")}if(b(T))return N.stylize(""+T,"number");if(v(T))return N.stylize(""+T,"boolean");if(y(T))return N.stylize("null","null")}(E,k);if(D)return D;var z=Object.keys(k),P=function(N){var T={};return N.forEach(function(V,J){T[V]=!0}),T}(z);if(E.showHidden&&(z=Object.getOwnPropertyNames(k)),O(k)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return p(k);if(z.length===0){if(H(k)){var K=k.name?": "+k.name:"";return E.stylize("[Function"+K+"]","special")}if(M(k))return E.stylize(RegExp.prototype.toString.call(k),"regexp");if(L(k))return E.stylize(Date.prototype.toString.call(k),"date");if(O(k))return p(k)}var Z,te="",q=!1,$=["{","}"];return m(k)&&(q=!0,$=["[","]"]),H(k)&&(te=" [Function"+(k.name?": "+k.name:"")+"]"),M(k)&&(te=" "+RegExp.prototype.toString.call(k)),L(k)&&(te=" "+Date.prototype.toUTCString.call(k)),O(k)&&(te=" "+p(k)),z.length!==0||q&&k.length!=0?A<0?M(k)?E.stylize(RegExp.prototype.toString.call(k),"regexp"):E.stylize("[Object]","special"):(E.seen.push(k),Z=q?function(N,T,V,J,re){for(var se=[],B=0,ne=T.length;B<ne;++B)j(T,String(B))?se.push(g(N,T,V,J,String(B),!0)):se.push("");return re.forEach(function(ee){ee.match(/^\d+$/)||se.push(g(N,T,V,J,ee,!0))}),se}(E,k,A,P,z):z.map(function(N){return g(E,k,A,P,N,q)}),E.seen.pop(),function(N,T,V){return N.reduce(function(J,re){return re.indexOf(`
`)>=0,J+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?V[0]+(T===""?"":T+`
 `)+" "+N.join(`,
  `)+" "+V[1]:V[0]+T+" "+N.join(", ")+" "+V[1]}(Z,te,$)):$[0]+te+$[1]}function p(E){return"["+Error.prototype.toString.call(E)+"]"}function g(E,k,A,C,D,z){var P,K,Z;if((Z=Object.getOwnPropertyDescriptor(k,D)||{value:k[D]}).get?K=Z.set?E.stylize("[Getter/Setter]","special"):E.stylize("[Getter]","special"):Z.set&&(K=E.stylize("[Setter]","special")),j(C,D)||(P="["+D+"]"),K||(E.seen.indexOf(Z.value)<0?(K=y(A)?d(E,Z.value,null):d(E,Z.value,A-1)).indexOf(`
`)>-1&&(K=z?K.split(`
`).map(function(te){return"  "+te}).join(`
`).substr(2):`
`+K.split(`
`).map(function(te){return"   "+te}).join(`
`)):K=E.stylize("[Circular]","special")),_(P)){if(z&&D.match(/^\d+$/))return K;(P=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=E.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=E.stylize(P,"string"))}return P+": "+K}function m(E){return Array.isArray(E)}function v(E){return typeof E=="boolean"}function y(E){return E===null}function b(E){return typeof E=="number"}function x(E){return typeof E=="string"}function _(E){return E===void 0}function M(E){return U(E)&&G(E)==="[object RegExp]"}function U(E){return typeof E=="object"&&E!==null}function L(E){return U(E)&&G(E)==="[object Date]"}function O(E){return U(E)&&(G(E)==="[object Error]"||E instanceof Error)}function H(E){return typeof E=="function"}function G(E){return Object.prototype.toString.call(E)}function I(E){return E<10?"0"+E.toString(10):E.toString(10)}i.debuglog=function(E){if(_(l)&&(l=s.env.NODE_DEBUG||""),E=E.toUpperCase(),!c[E])if(new RegExp("\\b"+E+"\\b","i").test(l)){var k=s.pid;c[E]=function(){var A=i.format.apply(i,arguments);console.error("%s %d: %s",E,k,A)}}else c[E]=function(){};return c[E]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=v,i.isNull=y,i.isNullOrUndefined=function(E){return E==null},i.isNumber=b,i.isString=x,i.isSymbol=function(E){return typeof E=="symbol"},i.isUndefined=_,i.isRegExp=M,i.isObject=U,i.isDate=L,i.isError=O,i.isFunction=H,i.isPrimitive=function(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||E===void 0},i.isBuffer=r("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var E=new Date,k=[I(E.getHours()),I(E.getMinutes()),I(E.getSeconds())].join(":");return[E.getDate(),R[E.getMonth()],k].join(" ")}function j(E,k){return Object.prototype.hasOwnProperty.call(E,k)}i.log=function(){console.log("%s - %s",S(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(E,k){if(!k||!U(k))return E;for(var A=Object.keys(k),C=A.length;C--;)E[A[C]]=k[A[C]];return E}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var s=p(r("./v1.js")),o=p(r("./v3.js")),a=p(r("./v4.js")),l=p(r("./v5.js")),c=p(r("./nil.js")),u=p(r("./version.js")),h=p(r("./validate.js")),f=p(r("./stringify.js")),d=p(r("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function s(d){return 14+(d+64>>>9<<4)+1}function o(d,p){const g=(65535&d)+(65535&p);return(d>>16)+(p>>16)+(g>>16)<<16|65535&g}function a(d,p,g,m,v,y){return o((b=o(o(p,d),o(m,y)))<<(x=v)|b>>>32-x,g);var b,x}function l(d,p,g,m,v,y,b){return a(p&g|~p&m,d,p,v,y,b)}function c(d,p,g,m,v,y,b){return a(p&m|g&~m,d,p,v,y,b)}function u(d,p,g,m,v,y,b){return a(p^g^m,d,p,v,y,b)}function h(d,p,g,m,v,y,b){return a(g^(p|~m),d,p,v,y,b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var f=function(d){if(typeof d=="string"){const p=unescape(encodeURIComponent(d));d=new Uint8Array(p.length);for(let g=0;g<p.length;++g)d[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let v=0;v<m;v+=8){const y=p[v>>5]>>>v%32&255,b=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(b)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[s(g)-1]=g;let m=1732584193,v=-271733879,y=-1732584194,b=271733878;for(let x=0;x<p.length;x+=16){const _=m,M=v,U=y,L=b;m=l(m,v,y,b,p[x],7,-680876936),b=l(b,m,v,y,p[x+1],12,-389564586),y=l(y,b,m,v,p[x+2],17,606105819),v=l(v,y,b,m,p[x+3],22,-1044525330),m=l(m,v,y,b,p[x+4],7,-176418897),b=l(b,m,v,y,p[x+5],12,1200080426),y=l(y,b,m,v,p[x+6],17,-1473231341),v=l(v,y,b,m,p[x+7],22,-45705983),m=l(m,v,y,b,p[x+8],7,1770035416),b=l(b,m,v,y,p[x+9],12,-1958414417),y=l(y,b,m,v,p[x+10],17,-42063),v=l(v,y,b,m,p[x+11],22,-1990404162),m=l(m,v,y,b,p[x+12],7,1804603682),b=l(b,m,v,y,p[x+13],12,-40341101),y=l(y,b,m,v,p[x+14],17,-1502002290),v=l(v,y,b,m,p[x+15],22,1236535329),m=c(m,v,y,b,p[x+1],5,-165796510),b=c(b,m,v,y,p[x+6],9,-1069501632),y=c(y,b,m,v,p[x+11],14,643717713),v=c(v,y,b,m,p[x],20,-373897302),m=c(m,v,y,b,p[x+5],5,-701558691),b=c(b,m,v,y,p[x+10],9,38016083),y=c(y,b,m,v,p[x+15],14,-660478335),v=c(v,y,b,m,p[x+4],20,-405537848),m=c(m,v,y,b,p[x+9],5,568446438),b=c(b,m,v,y,p[x+14],9,-1019803690),y=c(y,b,m,v,p[x+3],14,-187363961),v=c(v,y,b,m,p[x+8],20,1163531501),m=c(m,v,y,b,p[x+13],5,-1444681467),b=c(b,m,v,y,p[x+2],9,-51403784),y=c(y,b,m,v,p[x+7],14,1735328473),v=c(v,y,b,m,p[x+12],20,-1926607734),m=u(m,v,y,b,p[x+5],4,-378558),b=u(b,m,v,y,p[x+8],11,-2022574463),y=u(y,b,m,v,p[x+11],16,1839030562),v=u(v,y,b,m,p[x+14],23,-35309556),m=u(m,v,y,b,p[x+1],4,-1530992060),b=u(b,m,v,y,p[x+4],11,1272893353),y=u(y,b,m,v,p[x+7],16,-155497632),v=u(v,y,b,m,p[x+10],23,-1094730640),m=u(m,v,y,b,p[x+13],4,681279174),b=u(b,m,v,y,p[x],11,-358537222),y=u(y,b,m,v,p[x+3],16,-722521979),v=u(v,y,b,m,p[x+6],23,76029189),m=u(m,v,y,b,p[x+9],4,-640364487),b=u(b,m,v,y,p[x+12],11,-421815835),y=u(y,b,m,v,p[x+15],16,530742520),v=u(v,y,b,m,p[x+2],23,-995338651),m=h(m,v,y,b,p[x],6,-198630844),b=h(b,m,v,y,p[x+7],10,1126891415),y=h(y,b,m,v,p[x+14],15,-1416354905),v=h(v,y,b,m,p[x+5],21,-57434055),m=h(m,v,y,b,p[x+12],6,1700485571),b=h(b,m,v,y,p[x+3],10,-1894986606),y=h(y,b,m,v,p[x+10],15,-1051523),v=h(v,y,b,m,p[x+1],21,-2054922799),m=h(m,v,y,b,p[x+8],6,1873313359),b=h(b,m,v,y,p[x+15],10,-30611744),y=h(y,b,m,v,p[x+6],15,-1560198380),v=h(v,y,b,m,p[x+13],21,1309151649),m=h(m,v,y,b,p[x+4],6,-145523070),b=h(b,m,v,y,p[x+11],10,-1120210379),y=h(y,b,m,v,p[x+2],15,718787259),v=h(v,y,b,m,p[x+9],21,-343485551),m=o(m,_),v=o(v,M),y=o(y,U),b=o(b,L)}return[m,v,y,b]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(s(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&p[v/8])<<v%32;return m}(d),8*d.length))};i.default=f},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};i.default=a},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(r,n,i){function s(l,c,u,h){switch(l){case 0:return c&u^~c&h;case 1:return c^u^h;case 2:return c&u^c&h^u&h;case 3:return c^u^h}}function o(l,c){return l<<c|l>>>32-c}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const h=l.length/4+2,f=Math.ceil(h/16),d=new Array(f);for(let p=0;p<f;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];d[p]=g}d[f-1][14]=8*(l.length-1)/Math.pow(2,32),d[f-1][14]=Math.floor(d[f-1][14]),d[f-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<f;++p){const g=new Uint32Array(80);for(let _=0;_<16;++_)g[_]=d[p][_];for(let _=16;_<80;++_)g[_]=o(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);let m=u[0],v=u[1],y=u[2],b=u[3],x=u[4];for(let _=0;_<80;++_){const M=Math.floor(_/20),U=o(m,5)+s(M,v,y,b)+x+c[M]+g[_]>>>0;x=b,b=y,y=o(v,30)>>>0,v=m,m=U}u[0]=u[0]+m>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+b>>>0,u[4]=u[4]+x>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=a},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s};const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(a[c[u+0]]+a[c[u+1]]+a[c[u+2]]+a[c[u+3]]+"-"+a[c[u+4]]+a[c[u+5]]+"-"+a[c[u+6]]+a[c[u+7]]+"-"+a[c[u+8]]+a[c[u+9]]+"-"+a[c[u+10]]+a[c[u+11]]+a[c[u+12]]+a[c[u+13]]+a[c[u+14]]+a[c[u+15]]).toLowerCase();if(!(0,o.default)(h))throw TypeError("Stringified UUID is invalid");return h};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(d){return d&&d.__esModule?d:{default:d}}let l,c,u=0,h=0;var f=function(d,p,g){let m=p&&g||0;const v=p||new Array(16);let y=(d=d||{}).node||l,b=d.clockseq!==void 0?d.clockseq:c;if(y==null||b==null){const O=d.random||(d.rng||s.default)();y==null&&(y=l=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),b==null&&(b=c=16383&(O[6]<<8|O[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),_=d.nsecs!==void 0?d.nsecs:h+1;const M=x-u+(_-h)/1e4;if(M<0&&d.clockseq===void 0&&(b=b+1&16383),(M<0||x>u)&&d.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=x,h=_,c=b,x+=122192928e5;const U=(1e4*(268435455&x)+_)%4294967296;v[m++]=U>>>24&255,v[m++]=U>>>16&255,v[m++]=U>>>8&255,v[m++]=255&U;const L=x/4294967296*1e4&268435455;v[m++]=L>>>8&255,v[m++]=255&L,v[m++]=L>>>24&15|16,v[m++]=L>>>16&255,v[m++]=b>>>8|128,v[m++]=255&b;for(let O=0;O<6;++O)v[m+O]=y[O];return p||(0,o.default)(v)};i.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./md5.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,h,f){function d(p,g,m,v){if(typeof p=="string"&&(p=function(b){b=unescape(encodeURIComponent(b));const x=[];for(let _=0;_<b.length;++_)x.push(b.charCodeAt(_));return x}(p)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+p.length);if(y.set(g),y.set(p,g.length),y=f(y),y[6]=15&y[6]|h,y[8]=63&y[8]|128,m){v=v||0;for(let b=0;b<16;++b)m[v+b]=y[b];return m}return(0,s.default)(y)}try{d.name=u}catch{}return d.DNS=l,d.URL=c,d},i.URL=i.DNS=void 0;var s=a(r("./stringify.js")),o=a(r("./parse.js"));function a(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,h){const f=(c=c||{}).random||(c.rng||s.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,u){h=h||0;for(let d=0;d<16;++d)u[h+d]=f[d];return u}return(0,o.default)(f)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./sha1.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./regex.js"))&&s.__esModule?s:{default:s},a=function(l){return typeof l=="string"&&o.default.test(l)};i.default=a},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=a},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(K0e);var X0e={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof iu=="function"&&iu;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){var g=n[c][1][p];return o(g||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof iu=="function"&&iu,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,f,d,p,g,m=[],v=0,y=l.length,b=y,x=s.getTypeOf(l)!=="string";v<l.length;)b=y-v,h=x?(c=l[v++],u=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),u=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=c>>2,d=(3&c)<<4|u>>4,p=1<b?(15&u)<<2|h>>6:64,g=2<b?63&h:64,m.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return m.join("")},i.decode=function(l){var c,u,h,f,d,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|b):new Array(0|b);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,u=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),y[m++]=c,d!==64&&(y[m++]=u),p!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,f,d,p){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u[g])];return-1^c}(0|l,a,a.length,0):function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function o(d,p,g,m,v,y){var b,x,_=d.file,M=d.compression,U=y!==c.utf8encode,L=a.transformTo("string",y(_.name)),O=a.transformTo("string",c.utf8encode(_.name)),H=_.comment,G=a.transformTo("string",y(H)),I=a.transformTo("string",c.utf8encode(H)),R=O.length!==_.name.length,S=I.length!==H.length,j="",E="",k="",A=_.dir,C=_.date,D={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(D.crc32=d.crc32,D.compressedSize=d.compressedSize,D.uncompressedSize=d.uncompressedSize);var z=0;p&&(z|=8),U||!R&&!S||(z|=2048);var P=0,K=0;A&&(P|=16),v==="UNIX"?(K=798,P|=function(te,q){var $=te;return te||($=q?16893:33204),(65535&$)<<16}(_.unixPermissions,A)):(K=20,P|=function(te){return 63&(te||0)}(_.dosPermissions)),b=C.getUTCHours(),b<<=6,b|=C.getUTCMinutes(),b<<=5,b|=C.getUTCSeconds()/2,x=C.getUTCFullYear()-1980,x<<=4,x|=C.getUTCMonth()+1,x<<=5,x|=C.getUTCDate(),R&&(E=s(1,1)+s(u(L),4)+O,j+="up"+s(E.length,2)+E),S&&(k=s(1,1)+s(u(G),4)+I,j+="uc"+s(k.length,2)+k);var Z="";return Z+=`
\0`,Z+=s(z,2),Z+=M.magic,Z+=s(b,2),Z+=s(x,2),Z+=s(D.crc32,4),Z+=s(D.compressedSize,4),Z+=s(D.uncompressedSize,4),Z+=s(L.length,2),Z+=s(j.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Z+L+j,dirRecord:h.CENTRAL_FILE_HEADER+s(K,2)+Z+s(G.length,2)+"\0\0\0\0"+s(P,4)+s(m,4)+L+j+G}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function f(d,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return h.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,m=function(v,y,b,x,_){var M=a.transformTo("string",_(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(y,4)+s(b,4)+s(M.length,2)+M}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,d){h++;var p=function(y,b){var x=y||b,_=s[x];if(!_)throw new Error(x+" is not a valid compression method !");return _}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:m,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new l(d);return m.load(g),m}).then(function(g){var m=[o.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var y=0;y<v.length;y++)m.push(h(v[y]));return o.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,y=0;y<v.length;y++){var b=v[y],x=b.fileNameStr,_=s.resolve(b.fileNameStr);p.file(_,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:d.createFolders}),b.dir||(p.file(_).unsafeOriginalName=x)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(_,M,U){var L,O=a.getTypeOf(M),H=a.extend(U||{},u);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(_=v(_)),H.createFolders&&(L=m(_))&&y.call(this,L,!0);var G=O==="string"&&H.binary===!1&&H.base64===!1;U&&U.binary!==void 0||(H.binary=!G),(M instanceof h&&M.uncompressedSize===0||H.dir||!M||M.length===0)&&(H.base64=!1,H.binary=!0,M="",H.compression="STORE",O="string");var I=null;I=M instanceof h||M instanceof l?M:p.isNode&&p.isStream(M)?new g(_,M):a.prepareContent(_,M,H.binary,H.optimizedBinaryString,H.base64);var R=new f(_,I,H);this.files[_]=R}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),m=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var M=_.lastIndexOf("/");return 0<M?_.substring(0,M):""},v=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,M){return M=M!==void 0?M:u.createFolders,_=v(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:M}),this.files[_]};function b(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var M,U,L;for(M in this.files)L=this.files[M],(U=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&_(U,L)},filter:function(_){var M=[];return this.forEach(function(U,L){_(U,L)&&M.push(L)}),M},file:function(_,M,U){if(arguments.length!==1)return _=this.root+_,s.call(this,_,M,U),this;if(b(_)){var L=_;return this.filter(function(H,G){return!G.dir&&L.test(H)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(b(_))return this.filter(function(O,H){return H.dir&&_.test(O)});var M=this.root+_,U=y.call(this,M),L=this.clone();return L.root=U.name,L},remove:function(_){_=this.root+_;var M=this.files[_];if(M||(_.slice(-1)!=="/"&&(_+="/"),M=this.files[_]),M&&!M.dir)delete this.files[_];else for(var U=this.filter(function(O,H){return H.name.slice(0,_.length)===_}),L=0;L<U.length;L++)delete this.files[U[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var M,U={};try{if((U=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");a.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var L=U.comment||this.comment||"";M=d.generateWorker(this,U,L)}catch(O){(M=new l("error")).error(O)}return new c(M,U.type||"string",U.mimeType)},generateAsync:function(_,M){return this.generateInternalStream(_).accumulate(M)},generateNodeStream:function(_,M){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(M)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new u.Promise(function(m,v){var y=[],b=p._internalType,x=p._outputType,_=p._mimeType;p.on("data",function(M,U){y.push(M),g&&g(U)}).on("error",function(M){y=[],v(M)}).on("end",function(){try{var M=function(U,L,O){switch(U){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),O);case"base64":return l.encode(L);default:return s.transformTo(U,L)}}(x,function(U,L){var O,H=0,G=null,I=0;for(O=0;O<L.length;O++)I+=L[O].length;switch(U){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(G=new Uint8Array(I),O=0;O<L.length;O++)G.set(L[O],H),H+=L[O].length;return G;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+U+"'")}}(b,y),_);m(M)}catch(U){v(U)}y=[]}).resume()})}function d(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,s.checkSupport(v),this._worker=p.pipe(new o(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,m,v,y,b,x=p.length,_=0;for(y=0;y<x;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(g=o.uint8array?new Uint8Array(_):new Array(_),y=b=0;b<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[b++]=m:(m<2048?g[b++]=192|m>>>6:(m<65536?g[b++]=224|m>>>12:(g[b++]=240|m>>>18,g[b++]=128|m>>>12&63),g[b++]=128|m>>>6&63),g[b++]=128|63&m);return g}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,m,v,y,b=p.length,x=new Array(2*b);for(g=m=0;g<b;)if((v=p[g++])<128)x[m++]=v;else if(4<(y=c[v]))x[m++]=65533,g+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&g<b;)v=v<<6|63&p[g++],y--;1<y?x[m++]=65533:v<65536?x[m++]=v:(v-=65536,x[m++]=55296|v>>10&1023,x[m++]=56320|1023&v)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),s.applyFromCharCode(x)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,b){var x;for((b=b||y.length)>y.length&&(b=y.length),x=b-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?b:x+c[y[x]]>b?x:b}(p),v=p;m!==p.length&&(o.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(v),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}r("setimmediate"),i.newBlob=function(g,m){i.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,m,v){var y=[],b=0,x=g.length;if(x<=v)return String.fromCharCode.apply(null,g);for(;b<x;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+v,x)))):y.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+v,x)))),b+=v;return y.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var m=65536,v=i.getTypeOf(g),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(g)}function d(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}i.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,m){if(m=m||"",!g)return m;i.checkSupport(g);var v=i.getTypeOf(m);return p[v][g](m)},i.resolve=function(g){for(var m=g.split("/"),v=[],y=0;y<m.length;y++){var b=m[y];b==="."||b===""&&y!==0&&y!==m.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var m,v,y="";for(v=0;v<(g||"").length;v++)y+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},i.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},i.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},i.prepareContent=function(g,m,v,y,b){return l.Promise.resolve(m).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,M){var U=new FileReader;U.onload=function(L){_(L.target.result)},U.onerror=function(L){M(L.target.error)},U.readAsArrayBuffer(x)}):x}).then(function(x){var _=i.getTypeOf(x);return _?(_==="arraybuffer"?x=i.transformTo("uint8array",x):_==="string"&&(b?x=o.decode(x):v&&y!==!0&&(x=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===m)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,m,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[p]={id:p,length:g,value:m};d.setIndex(v)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(b){(g=new u("error")).error(b)}return new o(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(p),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,m;a=!0;for(var v=d.length;v;){for(m=d,d=[],g=-1;++g<v;)m[g]();v=d.length}a=!1}n.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==o&&g(this,v)}function f(v,y,b){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(v,y,b){s(function(){var x;try{x=y(b)}catch(_){return a.reject(v,_)}x===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,x)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function g(v,y){var b=!1;function x(U){b||(b=!0,a.reject(v,U))}function _(U){b||(b=!0,a.resolve(v,U))}var M=m(function(){y(_,x)});M.status==="error"&&x(M.value)}function m(v,y){var b={};try{b.value=v(y),b.status="success"}catch(x){b.status="error",b.value=x}return b}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(v()).then(function(){return b})},function(b){return y.resolve(v()).then(function(){throw b})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==u?d(b,this.state===c?v:y,this.outcome):this.queue.push(new f(b,v,y)),b},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},a.resolve=function(v,y){var b=m(p,y);if(b.status==="error")return a.reject(v,b.value);var x=b.value;if(x)g(v,x);else{v.state=c,v.outcome=y;for(var _=-1,M=v.queue.length;++_<M;)v.queue[_].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var b=-1,x=v.queue.length;++b<x;)v.queue[b].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},h.reject=function(v){var y=new this(o);return a.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var _=new Array(b),M=0,U=-1,L=new this(o);++U<b;)O(v[U],U);return L;function O(H,G){y.resolve(H).then(function(I){_[G]=I,++M!==b||x||(x=!0,a.resolve(L,_))},function(I){x||(x=!0,a.reject(L,I))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var _=-1,M=new this(o);++_<b;)U=v[_],y.resolve(U).then(function(L){x||(x=!0,a.resolve(M,L))},function(L){x||(x=!0,a.reject(M,L))});var U;return M}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==h)throw new Error(l[b]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=s.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[b]);this._dict_set=!0}}function m(v,y){var b=new g(y);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}g.prototype.push=function(v,y){var b,x,_=this.strm,M=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof v=="string"?_.input=a.string2buf(v):u.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(M),_.next_out=0,_.avail_out=M),(b=s.deflate(_,x))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&b!==1);return x===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):x!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=m,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,m(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,m(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new d(m);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(g,m){var v,y,b,x,_,M,U=this.strm,L=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?U.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?U.input=new Uint8Array(g):U.input=g,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(L),U.next_out=0,U.avail_out=L),(v=s.inflate(U,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(M=typeof O=="string"?a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,v=s.inflateSetDictionary(this.strm,M)),v===l.Z_BUF_ERROR&&H===!0&&(v=l.Z_OK,H=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&v!==l.Z_STREAM_END&&(U.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(U.output,U.next_out),x=U.next_out-b,_=a.buf2string(U.output,b),U.next_out=x,U.avail_out=L-x,x&&o.arraySet(U.output,U.output,b,x,0),this.onData(_)):this.onData(o.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(H=!0)}while((0<U.avail_in||U.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(U.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){var c,u,h,f,d,p;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(p=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,u,h,f){for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,m,v=h.length,y=0;for(g=0;g<v;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),y+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(y),g=m=0;m<y;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[m++]=d:(d<2048?f[m++]=192|d>>>6:(d<65536?f[m++]=224|d>>>12:(f[m++]=240|d>>>18,f[m++]=128|d>>>12&63),f[m++]=128|d>>>6&63),f[m++]=128|63&d);return f},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,m,v=f||h.length,y=new Array(2*v);for(d=p=0;d<v;)if((g=h[d++])<128)y[p++]=g;else if(4<(m=l[g]))y[p++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<v;)g=g<<6|63&h[d++],m--;1<m?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return u(y,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var f=c;f<h;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,m=4,v=2,y=8,b=9,x=286,_=30,M=19,U=2*x+1,L=15,O=3,H=258,G=H+O+1,I=42,R=113,S=1,j=2,E=3,k=4;function A(B,ne){return B.msg=u[ne],ne}function C(B){return(B<<1)-(4<B?9:0)}function D(B){for(var ne=B.length;0<=--ne;)B[ne]=0}function z(B){var ne=B.state,ee=ne.pending;ee>B.avail_out&&(ee=B.avail_out),ee!==0&&(o.arraySet(B.output,ne.pending_buf,ne.pending_out,ee,B.next_out),B.next_out+=ee,ne.pending_out+=ee,B.total_out+=ee,B.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function P(B,ne){a._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ne),B.block_start=B.strstart,z(B.strm)}function K(B,ne){B.pending_buf[B.pending++]=ne}function Z(B,ne){B.pending_buf[B.pending++]=ne>>>8&255,B.pending_buf[B.pending++]=255&ne}function te(B,ne){var ee,F,W=B.max_chain_length,Y=B.strstart,ae=B.prev_length,ce=B.nice_match,le=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,de=B.window,me=B.w_mask,ge=B.prev,ke=B.strstart+H,Re=de[Y+ae-1],je=de[Y+ae];B.prev_length>=B.good_match&&(W>>=2),ce>B.lookahead&&(ce=B.lookahead);do if(de[(ee=ne)+ae]===je&&de[ee+ae-1]===Re&&de[ee]===de[Y]&&de[++ee]===de[Y+1]){Y+=2,ee++;do;while(de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&Y<ke);if(F=H-(ke-Y),Y=ke-H,ae<F){if(B.match_start=ne,ce<=(ae=F))break;Re=de[Y+ae-1],je=de[Y+ae]}}while((ne=ge[ne&me])>le&&--W!=0);return ae<=B.lookahead?ae:B.lookahead}function q(B){var ne,ee,F,W,Y,ae,ce,le,de,me,ge=B.w_size;do{if(W=B.window_size-B.lookahead-B.strstart,B.strstart>=ge+(ge-G)){for(o.arraySet(B.window,B.window,ge,ge,0),B.match_start-=ge,B.strstart-=ge,B.block_start-=ge,ne=ee=B.hash_size;F=B.head[--ne],B.head[ne]=ge<=F?F-ge:0,--ee;);for(ne=ee=ge;F=B.prev[--ne],B.prev[ne]=ge<=F?F-ge:0,--ee;);W+=ge}if(B.strm.avail_in===0)break;if(ae=B.strm,ce=B.window,le=B.strstart+B.lookahead,de=W,me=void 0,me=ae.avail_in,de<me&&(me=de),ee=me===0?0:(ae.avail_in-=me,o.arraySet(ce,ae.input,ae.next_in,me,le),ae.state.wrap===1?ae.adler=l(ae.adler,ce,me,le):ae.state.wrap===2&&(ae.adler=c(ae.adler,ce,me,le)),ae.next_in+=me,ae.total_in+=me,me),B.lookahead+=ee,B.lookahead+B.insert>=O)for(Y=B.strstart-B.insert,B.ins_h=B.window[Y],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+O-1])&B.hash_mask,B.prev[Y&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Y,Y++,B.insert--,!(B.lookahead+B.insert<O)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function $(B,ne){for(var ee,F;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ee!==0&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee)),B.match_length>=O)if(F=a._tr_tally(B,B.strstart-B.match_start,B.match_length-O),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=O){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else F=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(F&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function N(B,ne){for(var ee,F,W;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=O-1,ee!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee),B.match_length<=5&&(B.strategy===1||B.match_length===O&&4096<B.strstart-B.match_start)&&(B.match_length=O-1)),B.prev_length>=O&&B.match_length<=B.prev_length){for(W=B.strstart+B.lookahead-O,F=a._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-O),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=W&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=O-1,B.strstart++,F&&(P(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((F=a._tr_tally(B,0,B.window[B.strstart-1]))&&P(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(F=a._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function T(B,ne,ee,F,W){this.good_length=B,this.max_lazy=ne,this.nice_length=ee,this.max_chain=F,this.func=W}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*U),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*x+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(B){var ne;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ne=B.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:R,B.adler=ne.wrap===2?0:1,ne.last_flush=h,a._tr_init(ne),d):A(B,p)}function re(B){var ne=J(B);return ne===d&&function(ee){ee.window_size=2*ee.w_size,D(ee.head),ee.max_lazy_match=s[ee.level].max_lazy,ee.good_match=s[ee.level].good_length,ee.nice_match=s[ee.level].nice_length,ee.max_chain_length=s[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,ee.ins_h=0}(B.state),ne}function se(B,ne,ee,F,W,Y){if(!B)return p;var ae=1;if(ne===g&&(ne=6),F<0?(ae=0,F=-F):15<F&&(ae=2,F-=16),W<1||b<W||ee!==y||F<8||15<F||ne<0||9<ne||Y<0||m<Y)return A(B,p);F===8&&(F=9);var ce=new V;return(B.state=ce).strm=B,ce.wrap=ae,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=W+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+O-1)/O),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<W+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=Y,ce.method=ee,re(B)}s=[new T(0,0,0,0,function(B,ne){var ee=65535;for(ee>B.pending_buf_size-5&&(ee=B.pending_buf_size-5);;){if(B.lookahead<=1){if(q(B),B.lookahead===0&&ne===h)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var F=B.block_start+ee;if((B.strstart===0||B.strstart>=F)&&(B.lookahead=B.strstart-F,B.strstart=F,P(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ne===f?(P(B,!0),B.strm.avail_out===0?E:k):(B.strstart>B.block_start&&(P(B,!1),B.strm.avail_out),S)}),new T(4,4,8,4,$),new T(4,5,16,8,$),new T(4,6,32,32,$),new T(4,4,16,16,N),new T(8,16,32,32,N),new T(8,16,128,128,N),new T(8,32,128,256,N),new T(32,128,258,1024,N),new T(32,258,258,4096,N)],i.deflateInit=function(B,ne){return se(B,ne,y,15,8,0)},i.deflateInit2=se,i.deflateReset=re,i.deflateResetKeep=J,i.deflateSetHeader=function(B,ne){return B&&B.state?B.state.wrap!==2?p:(B.state.gzhead=ne,d):p},i.deflate=function(B,ne){var ee,F,W,Y;if(!B||!B.state||5<ne||ne<0)return B?A(B,p):p;if(F=B.state,!B.output||!B.input&&B.avail_in!==0||F.status===666&&ne!==f)return A(B,B.avail_out===0?-5:p);if(F.strm=B,ee=F.last_flush,F.last_flush=ne,F.status===I)if(F.wrap===2)B.adler=0,K(F,31),K(F,139),K(F,8),F.gzhead?(K(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),K(F,255&F.gzhead.time),K(F,F.gzhead.time>>8&255),K(F,F.gzhead.time>>16&255),K(F,F.gzhead.time>>24&255),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(K(F,255&F.gzhead.extra.length),K(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(B.adler=c(B.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(K(F,0),K(F,0),K(F,0),K(F,0),K(F,0),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,3),F.status=R);else{var ae=y+(F.w_bits-8<<4)<<8;ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ae|=32),ae+=31-ae%31,F.status=R,Z(F,ae),F.strstart!==0&&(Z(F,B.adler>>>16),Z(F,65535&B.adler)),B.adler=1}if(F.status===69)if(F.gzhead.extra){for(W=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending!==F.pending_buf_size));)K(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&z(B),F.pending+2<=F.pending_buf_size&&(K(F,255&B.adler),K(F,B.adler>>8&255),B.adler=0,F.status=R)):F.status=R),F.pending!==0){if(z(B),B.avail_out===0)return F.last_flush=-1,d}else if(B.avail_in===0&&C(ne)<=C(ee)&&ne!==f)return A(B,-5);if(F.status===666&&B.avail_in!==0)return A(B,-5);if(B.avail_in!==0||F.lookahead!==0||ne!==h&&F.status!==666){var ce=F.strategy===2?function(le,de){for(var me;;){if(le.lookahead===0&&(q(le),le.lookahead===0)){if(de===h)return S;break}if(le.match_length=0,me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?E:k):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):F.strategy===3?function(le,de){for(var me,ge,ke,Re,je=le.window;;){if(le.lookahead<=H){if(q(le),le.lookahead<=H&&de===h)return S;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=O&&0<le.strstart&&(ge=je[ke=le.strstart-1])===je[++ke]&&ge===je[++ke]&&ge===je[++ke]){Re=le.strstart+H;do;while(ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ke<Re);le.match_length=H-(Re-ke),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=O?(me=a._tr_tally(le,1,le.match_length-O),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?E:k):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):s[F.level].func(F,ne);if(ce!==E&&ce!==k||(F.status=666),ce===S||ce===E)return B.avail_out===0&&(F.last_flush=-1),d;if(ce===j&&(ne===1?a._tr_align(F):ne!==5&&(a._tr_stored_block(F,0,0,!1),ne===3&&(D(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),z(B),B.avail_out===0))return F.last_flush=-1,d}return ne!==f?d:F.wrap<=0?1:(F.wrap===2?(K(F,255&B.adler),K(F,B.adler>>8&255),K(F,B.adler>>16&255),K(F,B.adler>>24&255),K(F,255&B.total_in),K(F,B.total_in>>8&255),K(F,B.total_in>>16&255),K(F,B.total_in>>24&255)):(Z(F,B.adler>>>16),Z(F,65535&B.adler)),z(B),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?d:1)},i.deflateEnd=function(B){var ne;return B&&B.state?(ne=B.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==R&&ne!==666?A(B,p):(B.state=null,ne===R?A(B,-3):d):p},i.deflateSetDictionary=function(B,ne){var ee,F,W,Y,ae,ce,le,de,me=ne.length;if(!B||!B.state||(Y=(ee=B.state).wrap)===2||Y===1&&ee.status!==I||ee.lookahead)return p;for(Y===1&&(B.adler=l(B.adler,ne,me,0)),ee.wrap=0,me>=ee.w_size&&(Y===0&&(D(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),de=new o.Buf8(ee.w_size),o.arraySet(de,ne,me-ee.w_size,ee.w_size,0),ne=de,me=ee.w_size),ae=B.avail_in,ce=B.next_in,le=B.input,B.avail_in=me,B.next_in=0,B.input=ne,q(ee);ee.lookahead>=O;){for(F=ee.strstart,W=ee.lookahead-(O-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[F+O-1])&ee.hash_mask,ee.prev[F&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=F,F++,--W;);ee.strstart=F,ee.lookahead=O-1,q(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,B.next_in=ce,B.input=le,B.avail_in=ae,ee.wrap=Y,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,c,u,h,f,d,p,g,m,v,y,b,x,_,M,U,L,O,H,G,I,R,S,j;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,j=s.output,h=u-(o-s.avail_out),f=u+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,m=a.wnext,v=a.window,y=a.hold,b=a.bits,x=a.lencode,_=a.distcode,M=(1<<a.lenbits)-1,U=(1<<a.distbits)-1;e:do{b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),L=x[y&M];t:for(;;){if(y>>>=O=L>>>24,b-=O,(O=L>>>16&255)===0)j[u++]=65535&L;else{if(!(16&O)){if(!(64&O)){L=x[(65535&L)+(y&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}H=65535&L,(O&=15)&&(b<O&&(y+=S[l++]<<b,b+=8),H+=y&(1<<O)-1,y>>>=O,b-=O),b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),L=_[y&U];r:for(;;){if(y>>>=O=L>>>24,b-=O,!(16&(O=L>>>16&255))){if(!(64&O)){L=_[(65535&L)+(y&(1<<O)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(G=65535&L,b<(O&=15)&&(y+=S[l++]<<b,(b+=8)<O&&(y+=S[l++]<<b,b+=8)),d<(G+=y&(1<<O)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=O,b-=O,(O=u-h)<G){if(g<(O=G-O)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(R=v,(I=0)===m){if(I+=p-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}}else if(m<O){if(I+=p+m-O,(O-=m)<H){for(H-=O;j[u++]=v[I++],--O;);if(I=0,m<H){for(H-=O=m;j[u++]=v[I++],--O;);I=u-G,R=j}}}else if(I+=m-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}for(;2<H;)j[u++]=R[I++],j[u++]=R[I++],j[u++]=R[I++],H-=3;H&&(j[u++]=R[I++],1<H&&(j[u++]=R[I++]))}else{for(I=u-G;j[u++]=j[I++],j[u++]=j[I++],j[u++]=j[I++],2<(H-=3););H&&(j[u++]=j[I++],1<H&&(j[u++]=j[I++]))}break}}break}}while(l<c&&u<f);l-=H=b>>3,y&=(1<<(b-=H<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=y,a.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,f=0,d=-2,p=1,g=852,m=592;function v(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(I){var R;return I&&I.state?(R=I.state,I.total_in=I.total_out=R.total=0,I.msg="",R.wrap&&(I.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(g),R.distcode=R.distdyn=new s.Buf32(m),R.sane=1,R.back=-1,f):d}function x(I){var R;return I&&I.state?((R=I.state).wsize=0,R.whave=0,R.wnext=0,b(I)):d}function _(I,R){var S,j;return I&&I.state?(j=I.state,R<0?(S=0,R=-R):(S=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?d:(j.window!==null&&j.wbits!==R&&(j.window=null),j.wrap=S,j.wbits=R,x(I))):d}function M(I,R){var S,j;return I?(j=new y,(I.state=j).window=null,(S=_(I,R))!==f&&(I.state=null),S):d}var U,L,O=!0;function H(I){if(O){var R;for(U=new s.Buf32(512),L=new s.Buf32(32),R=0;R<144;)I.lens[R++]=8;for(;R<256;)I.lens[R++]=9;for(;R<280;)I.lens[R++]=7;for(;R<288;)I.lens[R++]=8;for(c(u,I.lens,0,288,U,0,I.work,{bits:9}),R=0;R<32;)I.lens[R++]=5;c(h,I.lens,0,32,L,0,I.work,{bits:5}),O=!1}I.lencode=U,I.lenbits=9,I.distcode=L,I.distbits=5}function G(I,R,S,j){var E,k=I.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new s.Buf8(k.wsize)),j>=k.wsize?(s.arraySet(k.window,R,S-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(j<(E=k.wsize-k.wnext)&&(E=j),s.arraySet(k.window,R,S-j,E,k.wnext),(j-=E)?(s.arraySet(k.window,R,S-j,j,0),k.wnext=j,k.whave=k.wsize):(k.wnext+=E,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=E))),0}i.inflateReset=x,i.inflateReset2=_,i.inflateResetKeep=b,i.inflateInit=function(I){return M(I,15)},i.inflateInit2=M,i.inflate=function(I,R){var S,j,E,k,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W=0,Y=new s.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(S=I.state).mode===12&&(S.mode=13),A=I.next_out,E=I.output,D=I.avail_out,k=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,K=C,Z=D,ne=f;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(2&S.wrap&&z===35615){Y[S.check=0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0),P=z=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&z)<<8)+(z>>8))%31){I.msg="incorrect header check",S.mode=30;break}if((15&z)!=8){I.msg="unknown compression method",S.mode=30;break}if(P-=4,B=8+(15&(z>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){I.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,I.adler=S.check=1,S.mode=512&z?10:12,P=z=0;break;case 2:for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(S.flags=z,(255&S.flags)!=8){I.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){I.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=z>>8&1),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=3;case 3:for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.head&&(S.head.time=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,Y[2]=z>>>16&255,Y[3]=z>>>24&255,S.check=a(S.check,Y,4,0)),P=z=0,S.mode=4;case 4:for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.head&&(S.head.xflags=255&z,S.head.os=z>>8),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=5;case 5:if(1024&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.length=z,S.head&&(S.head.extra_len=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(C<(te=S.length)&&(te=C),te&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,j,k,te,B)),512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,S.length-=te),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(C===0)break e;for(te=0;B=j[k+te++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(C===0)break e;for(te=0;B=j[k+te++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,k)),C-=te,k+=te,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z!==(65535&S.check)){I.msg="header crc mismatch",S.mode=30;break}P=z=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),I.adler=S.check=0,S.mode=12;break;case 10:for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}I.adler=S.check=v(z),P=z=0,S.mode=11;case 11:if(S.havedict===0)return I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,2;I.adler=S.check=1,S.mode=12;case 12:if(R===5||R===6)break e;case 13:if(S.last){z>>>=7&P,P-=7&P,S.mode=27;break}for(;P<3;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}switch(S.last=1&z,P-=1,3&(z>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,R!==6)break;z>>>=2,P-=2;break e;case 2:S.mode=17;break;case 3:I.msg="invalid block type",S.mode=30}z>>>=2,P-=2;break;case 14:for(z>>>=7&P,P-=7&P;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if((65535&z)!=(z>>>16^65535)){I.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&z,P=z=0,S.mode=15,R===6)break e;case 15:S.mode=16;case 16:if(te=S.length){if(C<te&&(te=C),D<te&&(te=D),te===0)break e;s.arraySet(E,j,k,te,A),C-=te,k+=te,D-=te,A+=te,S.length-=te;break}S.mode=12;break;case 17:for(;P<14;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(S.nlen=257+(31&z),z>>>=5,P-=5,S.ndist=1+(31&z),z>>>=5,P-=5,S.ncode=4+(15&z),z>>>=4,P-=4,286<S.nlen||30<S.ndist){I.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;P<3;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.lens[ae[S.have++]]=7&z,z>>>=3,P-=3}for(;S.have<19;)S.lens[ae[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ee={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(V<16)z>>>=N,P-=N,S.lens[S.have++]=V;else{if(V===16){for(F=N+2;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z>>>=N,P-=N,S.have===0){I.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],te=3+(3&z),z>>>=2,P-=2}else if(V===17){for(F=N+3;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}P-=N,B=0,te=3+(7&(z>>>=N)),z>>>=3,P-=3}else{for(F=N+7;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}P-=N,B=0,te=11+(127&(z>>>=N)),z>>>=7,P-=7}if(S.have+te>S.nlen+S.ndist){I.msg="invalid bit length repeat",S.mode=30;break}for(;te--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){I.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ee={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ee={bits:S.distbits},ne=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ee),S.distbits=ee.bits,ne){I.msg="invalid distances set",S.mode=30;break}if(S.mode=20,R===6)break e;case 20:S.mode=21;case 21:if(6<=C&&258<=D){I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,l(I,Z),A=I.next_out,E=I.output,D=I.avail_out,k=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(T&&!(240&T)){for(J=N,re=T,se=V;T=(W=S.lencode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,S.length=V,T===0){S.mode=26;break}if(32&T){S.back=-1,S.mode=12;break}if(64&T){I.msg="invalid literal/length code",S.mode=30;break}S.extra=15&T,S.mode=22;case 22:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.length+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;T=(W=S.distcode[z&(1<<S.distbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(!(240&T)){for(J=N,re=T,se=V;T=(W=S.distcode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,64&T){I.msg="invalid distance code",S.mode=30;break}S.offset=V,S.extra=15&T,S.mode=24;case 24:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}S.offset+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){I.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(D===0)break e;if(te=Z-D,S.offset>te){if((te=S.offset-te)>S.whave&&S.sane){I.msg="invalid distance too far back",S.mode=30;break}q=te>S.wnext?(te-=S.wnext,S.wsize-te):S.wnext-te,te>S.length&&(te=S.length),$=S.window}else $=E,q=A-S.offset,te=S.length;for(D<te&&(te=D),D-=te,S.length-=te;E[A++]=$[q++],--te;);S.length===0&&(S.mode=21);break;case 26:if(D===0)break e;E[A++]=S.length,D--,S.mode=21;break;case 27:if(S.wrap){for(;P<32;){if(C===0)break e;C--,z|=j[k++]<<P,P+=8}if(Z-=D,I.total_out+=Z,S.total+=Z,Z&&(I.adler=S.check=S.flags?a(S.check,E,Z,A-Z):o(S.check,E,Z,A-Z)),Z=D,(S.flags?z:v(z))!==S.check){I.msg="incorrect data check",S.mode=30;break}P=z=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;P<32;){if(C===0)break e;C--,z+=j[k++]<<P,P+=8}if(z!==(4294967295&S.total)){I.msg="incorrect length check",S.mode=30;break}P=z=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=A,I.avail_out=D,I.next_in=k,I.avail_in=C,S.hold=z,S.bits=P,(S.wsize||Z!==I.avail_out&&S.mode<30&&(S.mode<27||R!==4))&&G(I,I.output,I.next_out,Z-I.avail_out)?(S.mode=31,-4):(K-=I.avail_in,Z-=I.avail_out,I.total_in+=K,I.total_out+=Z,S.total+=Z,S.wrap&&Z&&(I.adler=S.check=S.flags?a(S.check,E,Z,I.next_out-Z):o(S.check,E,Z,I.next_out-Z)),I.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(K==0&&Z===0||R===4)&&ne===f&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return d;var R=I.state;return R.window&&(R.window=null),I.state=null,f},i.inflateGetHeader=function(I,R){var S;return I&&I.state&&2&(S=I.state).wrap?((S.head=R).done=!1,f):d},i.inflateSetDictionary=function(I,R){var S,j=R.length;return I&&I.state?(S=I.state).wrap!==0&&S.mode!==11?d:S.mode===11&&o(1,R,j,0)!==S.check?-3:G(I,R,j,j)?(S.mode=31,-4):(S.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,f,d,p,g,m,v){var y,b,x,_,M,U,L,O,H,G=v.bits,I=0,R=0,S=0,j=0,E=0,k=0,A=0,C=0,D=0,z=0,P=null,K=0,Z=new s.Buf16(16),te=new s.Buf16(16),q=null,$=0;for(I=0;I<=15;I++)Z[I]=0;for(R=0;R<d;R++)Z[h[f+R]]++;for(E=G,j=15;1<=j&&Z[j]===0;j--);if(j<E&&(E=j),j===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(S=1;S<j&&Z[S]===0;S++);for(E<S&&(E=S),I=C=1;I<=15;I++)if(C<<=1,(C-=Z[I])<0)return-1;if(0<C&&(u===0||j!==1))return-1;for(te[1]=0,I=1;I<15;I++)te[I+1]=te[I]+Z[I];for(R=0;R<d;R++)h[f+R]!==0&&(m[te[h[f+R]]++]=R);if(U=u===0?(P=q=m,19):u===1?(P=o,K-=257,q=a,$-=257,256):(P=l,q=c,-1),I=S,M=g,A=R=z=0,x=-1,_=(D=1<<(k=E))-1,u===1&&852<D||u===2&&592<D)return 1;for(;;){for(L=I-A,H=m[R]<U?(O=0,m[R]):m[R]>U?(O=q[$+m[R]],P[K+m[R]]):(O=96,0),y=1<<I-A,S=b=1<<k;p[M+(z>>A)+(b-=y)]=L<<24|O<<16|H|0,b!==0;);for(y=1<<I-1;z&y;)y>>=1;if(y!==0?(z&=y-1,z+=y):z=0,R++,--Z[I]==0){if(I===j)break;I=h[f+m[R]]}if(E<I&&(z&_)!==x){for(A===0&&(A=E),M+=S,C=1<<(k=I-A);k+A<j&&!((C-=Z[k+A])<=0);)k++,C<<=1;if(D+=1<<k,u===1&&852<D||u===2&&592<D)return 1;p[x=z&_]=E<<24|k<<16|M-g|0}}return z!==0&&(p[M+z]=I-A<<24|64<<16|0),v.bits=E,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(W){for(var Y=W.length;0<=--Y;)W[Y]=0}var c=0,u=29,h=256,f=h+1+u,d=30,p=19,g=2*f+1,m=15,v=16,y=7,b=256,x=16,_=17,M=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(f+2));l(G);var I=new Array(2*d);l(I);var R=new Array(512);l(R);var S=new Array(256);l(S);var j=new Array(u);l(j);var E,k,A,C=new Array(d);function D(W,Y,ae,ce,le){this.static_tree=W,this.extra_bits=Y,this.extra_base=ae,this.elems=ce,this.max_length=le,this.has_stree=W&&W.length}function z(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function P(W){return W<256?R[W]:R[256+(W>>>7)]}function K(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function Z(W,Y,ae){W.bi_valid>v-ae?(W.bi_buf|=Y<<W.bi_valid&65535,K(W,W.bi_buf),W.bi_buf=Y>>v-W.bi_valid,W.bi_valid+=ae-v):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=ae)}function te(W,Y,ae){Z(W,ae[2*Y],ae[2*Y+1])}function q(W,Y){for(var ae=0;ae|=1&W,W>>>=1,ae<<=1,0<--Y;);return ae>>>1}function $(W,Y,ae){var ce,le,de=new Array(m+1),me=0;for(ce=1;ce<=m;ce++)de[ce]=me=me+ae[ce-1]<<1;for(le=0;le<=Y;le++){var ge=W[2*le+1];ge!==0&&(W[2*le]=q(de[ge]++,ge))}}function N(W){var Y;for(Y=0;Y<f;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<d;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<p;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[2*b]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function T(W){8<W.bi_valid?K(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function V(W,Y,ae,ce){var le=2*Y,de=2*ae;return W[le]<W[de]||W[le]===W[de]&&ce[Y]<=ce[ae]}function J(W,Y,ae){for(var ce=W.heap[ae],le=ae<<1;le<=W.heap_len&&(le<W.heap_len&&V(Y,W.heap[le+1],W.heap[le],W.depth)&&le++,!V(Y,ce,W.heap[le],W.depth));)W.heap[ae]=W.heap[le],ae=le,le<<=1;W.heap[ae]=ce}function re(W,Y,ae){var ce,le,de,me,ge=0;if(W.last_lit!==0)for(;ce=W.pending_buf[W.d_buf+2*ge]<<8|W.pending_buf[W.d_buf+2*ge+1],le=W.pending_buf[W.l_buf+ge],ge++,ce===0?te(W,le,Y):(te(W,(de=S[le])+h+1,Y),(me=U[de])!==0&&Z(W,le-=j[de],me),te(W,de=P(--ce),ae),(me=L[de])!==0&&Z(W,ce-=C[de],me)),ge<W.last_lit;);te(W,b,Y)}function se(W,Y){var ae,ce,le,de=Y.dyn_tree,me=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,ke=Y.stat_desc.elems,Re=-1;for(W.heap_len=0,W.heap_max=g,ae=0;ae<ke;ae++)de[2*ae]!==0?(W.heap[++W.heap_len]=Re=ae,W.depth[ae]=0):de[2*ae+1]=0;for(;W.heap_len<2;)de[2*(le=W.heap[++W.heap_len]=Re<2?++Re:0)]=1,W.depth[le]=0,W.opt_len--,ge&&(W.static_len-=me[2*le+1]);for(Y.max_code=Re,ae=W.heap_len>>1;1<=ae;ae--)J(W,de,ae);for(le=ke;ae=W.heap[1],W.heap[1]=W.heap[W.heap_len--],J(W,de,1),ce=W.heap[1],W.heap[--W.heap_max]=ae,W.heap[--W.heap_max]=ce,de[2*le]=de[2*ae]+de[2*ce],W.depth[le]=(W.depth[ae]>=W.depth[ce]?W.depth[ae]:W.depth[ce])+1,de[2*ae+1]=de[2*ce+1]=le,W.heap[1]=le++,J(W,de,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(je,We){var Je,qe,pt,$e,Ue,Ke,rt=We.dyn_tree,Ze=We.max_code,Et=We.stat_desc.static_tree,wt=We.stat_desc.has_stree,bt=We.stat_desc.extra_bits,Wt=We.stat_desc.extra_base,_t=We.stat_desc.max_length,ot=0;for($e=0;$e<=m;$e++)je.bl_count[$e]=0;for(rt[2*je.heap[je.heap_max]+1]=0,Je=je.heap_max+1;Je<g;Je++)_t<($e=rt[2*rt[2*(qe=je.heap[Je])+1]+1]+1)&&($e=_t,ot++),rt[2*qe+1]=$e,Ze<qe||(je.bl_count[$e]++,Ue=0,Wt<=qe&&(Ue=bt[qe-Wt]),Ke=rt[2*qe],je.opt_len+=Ke*($e+Ue),wt&&(je.static_len+=Ke*(Et[2*qe+1]+Ue)));if(ot!==0){do{for($e=_t-1;je.bl_count[$e]===0;)$e--;je.bl_count[$e]--,je.bl_count[$e+1]+=2,je.bl_count[_t]--,ot-=2}while(0<ot);for($e=_t;$e!==0;$e--)for(qe=je.bl_count[$e];qe!==0;)Ze<(pt=je.heap[--Je])||(rt[2*pt+1]!==$e&&(je.opt_len+=($e-rt[2*pt+1])*rt[2*pt],rt[2*pt+1]=$e),qe--)}}(W,Y),$(de,Re,W.bl_count)}function B(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),Y[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)le=me,me=Y[2*(ce+1)+1],++ge<ke&&le===me||(ge<Re?W.bl_tree[2*le]+=ge:le!==0?(le!==de&&W.bl_tree[2*le]++,W.bl_tree[2*x]++):ge<=10?W.bl_tree[2*_]++:W.bl_tree[2*M]++,de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4))}function ne(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),ce=0;ce<=ae;ce++)if(le=me,me=Y[2*(ce+1)+1],!(++ge<ke&&le===me)){if(ge<Re)for(;te(W,le,W.bl_tree),--ge!=0;);else le!==0?(le!==de&&(te(W,le,W.bl_tree),ge--),te(W,x,W.bl_tree),Z(W,ge-3,2)):ge<=10?(te(W,_,W.bl_tree),Z(W,ge-3,3)):(te(W,M,W.bl_tree),Z(W,ge-11,7));de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4)}}l(C);var ee=!1;function F(W,Y,ae,ce){Z(W,(c<<1)+(ce?1:0),3),function(le,de,me,ge){T(le),K(le,me),K(le,~me),s.arraySet(le.pending_buf,le.window,de,me,le.pending),le.pending+=me}(W,Y,ae)}i._tr_init=function(W){ee||(function(){var Y,ae,ce,le,de,me=new Array(m+1);for(le=ce=0;le<u-1;le++)for(j[le]=ce,Y=0;Y<1<<U[le];Y++)S[ce++]=le;for(S[ce-1]=le,le=de=0;le<16;le++)for(C[le]=de,Y=0;Y<1<<L[le];Y++)R[de++]=le;for(de>>=7;le<d;le++)for(C[le]=de<<7,Y=0;Y<1<<L[le]-7;Y++)R[256+de++]=le;for(ae=0;ae<=m;ae++)me[ae]=0;for(Y=0;Y<=143;)G[2*Y+1]=8,Y++,me[8]++;for(;Y<=255;)G[2*Y+1]=9,Y++,me[9]++;for(;Y<=279;)G[2*Y+1]=7,Y++,me[7]++;for(;Y<=287;)G[2*Y+1]=8,Y++,me[8]++;for($(G,f+1,me),Y=0;Y<d;Y++)I[2*Y+1]=5,I[2*Y]=q(Y,5);E=new D(G,U,h+1,f,m),k=new D(I,L,0,d,m),A=new D(new Array(0),O,0,p,y)}(),ee=!0),W.l_desc=new z(W.dyn_ltree,E),W.d_desc=new z(W.dyn_dtree,k),W.bl_desc=new z(W.bl_tree,A),W.bi_buf=0,W.bi_valid=0,N(W)},i._tr_stored_block=F,i._tr_flush_block=function(W,Y,ae,ce){var le,de,me=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ge){var ke,Re=4093624447;for(ke=0;ke<=31;ke++,Re>>>=1)if(1&Re&&ge.dyn_ltree[2*ke]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(ke=32;ke<h;ke++)if(ge.dyn_ltree[2*ke]!==0)return a;return o}(W)),se(W,W.l_desc),se(W,W.d_desc),me=function(ge){var ke;for(B(ge,ge.dyn_ltree,ge.l_desc.max_code),B(ge,ge.dyn_dtree,ge.d_desc.max_code),se(ge,ge.bl_desc),ke=p-1;3<=ke&&ge.bl_tree[2*H[ke]+1]===0;ke--);return ge.opt_len+=3*(ke+1)+5+5+4,ke}(W),le=W.opt_len+3+7>>>3,(de=W.static_len+3+7>>>3)<=le&&(le=de)):le=de=ae+5,ae+4<=le&&Y!==-1?F(W,Y,ae,ce):W.strategy===4||de===le?(Z(W,2+(ce?1:0),3),re(W,G,I)):(Z(W,4+(ce?1:0),3),function(ge,ke,Re,je){var We;for(Z(ge,ke-257,5),Z(ge,Re-1,5),Z(ge,je-4,4),We=0;We<je;We++)Z(ge,ge.bl_tree[2*H[We]+1],3);ne(ge,ge.dyn_ltree,ke-1),ne(ge,ge.dyn_dtree,Re-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,me+1),re(W,W.dyn_ltree,W.dyn_dtree)),N(W),ce&&T(W)},i._tr_tally=function(W,Y,ae){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&ae,W.last_lit++,Y===0?W.dyn_ltree[2*ae]++:(W.matches++,Y--,W.dyn_ltree[2*(S[ae]+h+1)]++,W.dyn_dtree[2*P(Y)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){Z(W,2,3),te(W,b,G),function(Y){Y.bi_valid===16?(K(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,f=1,d={},p=!1,g=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){y(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,_=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=_,x}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(x){o.postMessage(h+x,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(x){y(x.data)},function(x){u.port2.postMessage(x)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(x){var _=g.createElement("script");_.onreadystatechange=function(){y(x),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(x){setTimeout(y,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var _=new Array(arguments.length-1),M=0;M<_.length;M++)_[M]=arguments[M+1];var U={callback:x,args:_};return d[f]=U,l(f),f++},m.clearImmediate=v}function v(x){delete d[x]}function y(x){if(p)setTimeout(y,0,x);else{var _=d[x];if(_){p=!0;try{(function(M){var U=M.callback,L=M.args;switch(L.length){case 0:U();break;case 1:U(L[0]);break;case 2:U(L[0],L[1]);break;case 3:U(L[0],L[1],L[2]);break;default:U.apply(a,L)}})(_)}finally{v(x),p=!1}}}}function b(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(h)===0&&y(+x.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(X0e);var RR;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(RR||(RR={}));var PR;(function(e){e.b="b",e.ctr="ctr",e.t="t"})(PR||(PR={}));var OR;(function(e){e.arraybuffer="arraybuffer",e.base64="base64",e.binarystring="binarystring",e.blob="blob",e.nodebuffer="nodebuffer",e.uint8array="uint8array"})(OR||(OR={}));var IR;(function(e){e.area="area",e.bar="bar",e.bar3d="bar3D",e.bubble="bubble",e.bubble3d="bubble3D",e.doughnut="doughnut",e.line="line",e.pie="pie",e.radar="radar",e.scatter="scatter"})(IR||(IR={}));var MR;(function(e){e.accentBorderCallout1="accentBorderCallout1",e.accentBorderCallout2="accentBorderCallout2",e.accentBorderCallout3="accentBorderCallout3",e.accentCallout1="accentCallout1",e.accentCallout2="accentCallout2",e.accentCallout3="accentCallout3",e.actionButtonBackPrevious="actionButtonBackPrevious",e.actionButtonBeginning="actionButtonBeginning",e.actionButtonBlank="actionButtonBlank",e.actionButtonDocument="actionButtonDocument",e.actionButtonEnd="actionButtonEnd",e.actionButtonForwardNext="actionButtonForwardNext",e.actionButtonHelp="actionButtonHelp",e.actionButtonHome="actionButtonHome",e.actionButtonInformation="actionButtonInformation",e.actionButtonMovie="actionButtonMovie",e.actionButtonReturn="actionButtonReturn",e.actionButtonSound="actionButtonSound",e.arc="arc",e.bentArrow="bentArrow",e.bentUpArrow="bentUpArrow",e.bevel="bevel",e.blockArc="blockArc",e.borderCallout1="borderCallout1",e.borderCallout2="borderCallout2",e.borderCallout3="borderCallout3",e.bracePair="bracePair",e.bracketPair="bracketPair",e.callout1="callout1",e.callout2="callout2",e.callout3="callout3",e.can="can",e.chartPlus="chartPlus",e.chartStar="chartStar",e.chartX="chartX",e.chevron="chevron",e.chord="chord",e.circularArrow="circularArrow",e.cloud="cloud",e.cloudCallout="cloudCallout",e.corner="corner",e.cornerTabs="cornerTabs",e.cube="cube",e.curvedDownArrow="curvedDownArrow",e.curvedLeftArrow="curvedLeftArrow",e.curvedRightArrow="curvedRightArrow",e.curvedUpArrow="curvedUpArrow",e.custGeom="custGeom",e.decagon="decagon",e.diagStripe="diagStripe",e.diamond="diamond",e.dodecagon="dodecagon",e.donut="donut",e.doubleWave="doubleWave",e.downArrow="downArrow",e.downArrowCallout="downArrowCallout",e.ellipse="ellipse",e.ellipseRibbon="ellipseRibbon",e.ellipseRibbon2="ellipseRibbon2",e.flowChartAlternateProcess="flowChartAlternateProcess",e.flowChartCollate="flowChartCollate",e.flowChartConnector="flowChartConnector",e.flowChartDecision="flowChartDecision",e.flowChartDelay="flowChartDelay",e.flowChartDisplay="flowChartDisplay",e.flowChartDocument="flowChartDocument",e.flowChartExtract="flowChartExtract",e.flowChartInputOutput="flowChartInputOutput",e.flowChartInternalStorage="flowChartInternalStorage",e.flowChartMagneticDisk="flowChartMagneticDisk",e.flowChartMagneticDrum="flowChartMagneticDrum",e.flowChartMagneticTape="flowChartMagneticTape",e.flowChartManualInput="flowChartManualInput",e.flowChartManualOperation="flowChartManualOperation",e.flowChartMerge="flowChartMerge",e.flowChartMultidocument="flowChartMultidocument",e.flowChartOfflineStorage="flowChartOfflineStorage",e.flowChartOffpageConnector="flowChartOffpageConnector",e.flowChartOnlineStorage="flowChartOnlineStorage",e.flowChartOr="flowChartOr",e.flowChartPredefinedProcess="flowChartPredefinedProcess",e.flowChartPreparation="flowChartPreparation",e.flowChartProcess="flowChartProcess",e.flowChartPunchedCard="flowChartPunchedCard",e.flowChartPunchedTape="flowChartPunchedTape",e.flowChartSort="flowChartSort",e.flowChartSummingJunction="flowChartSummingJunction",e.flowChartTerminator="flowChartTerminator",e.folderCorner="folderCorner",e.frame="frame",e.funnel="funnel",e.gear6="gear6",e.gear9="gear9",e.halfFrame="halfFrame",e.heart="heart",e.heptagon="heptagon",e.hexagon="hexagon",e.homePlate="homePlate",e.horizontalScroll="horizontalScroll",e.irregularSeal1="irregularSeal1",e.irregularSeal2="irregularSeal2",e.leftArrow="leftArrow",e.leftArrowCallout="leftArrowCallout",e.leftBrace="leftBrace",e.leftBracket="leftBracket",e.leftCircularArrow="leftCircularArrow",e.leftRightArrow="leftRightArrow",e.leftRightArrowCallout="leftRightArrowCallout",e.leftRightCircularArrow="leftRightCircularArrow",e.leftRightRibbon="leftRightRibbon",e.leftRightUpArrow="leftRightUpArrow",e.leftUpArrow="leftUpArrow",e.lightningBolt="lightningBolt",e.line="line",e.lineInv="lineInv",e.mathDivide="mathDivide",e.mathEqual="mathEqual",e.mathMinus="mathMinus",e.mathMultiply="mathMultiply",e.mathNotEqual="mathNotEqual",e.mathPlus="mathPlus",e.moon="moon",e.noSmoking="noSmoking",e.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",e.notchedRightArrow="notchedRightArrow",e.octagon="octagon",e.parallelogram="parallelogram",e.pentagon="pentagon",e.pie="pie",e.pieWedge="pieWedge",e.plaque="plaque",e.plaqueTabs="plaqueTabs",e.plus="plus",e.quadArrow="quadArrow",e.quadArrowCallout="quadArrowCallout",e.rect="rect",e.ribbon="ribbon",e.ribbon2="ribbon2",e.rightArrow="rightArrow",e.rightArrowCallout="rightArrowCallout",e.rightBrace="rightBrace",e.rightBracket="rightBracket",e.round1Rect="round1Rect",e.round2DiagRect="round2DiagRect",e.round2SameRect="round2SameRect",e.roundRect="roundRect",e.rtTriangle="rtTriangle",e.smileyFace="smileyFace",e.snip1Rect="snip1Rect",e.snip2DiagRect="snip2DiagRect",e.snip2SameRect="snip2SameRect",e.snipRoundRect="snipRoundRect",e.squareTabs="squareTabs",e.star10="star10",e.star12="star12",e.star16="star16",e.star24="star24",e.star32="star32",e.star4="star4",e.star5="star5",e.star6="star6",e.star7="star7",e.star8="star8",e.stripedRightArrow="stripedRightArrow",e.sun="sun",e.swooshArrow="swooshArrow",e.teardrop="teardrop",e.trapezoid="trapezoid",e.triangle="triangle",e.upArrow="upArrow",e.upArrowCallout="upArrowCallout",e.upDownArrow="upDownArrow",e.upDownArrowCallout="upDownArrowCallout",e.uturnArrow="uturnArrow",e.verticalScroll="verticalScroll",e.wave="wave",e.wedgeEllipseCallout="wedgeEllipseCallout",e.wedgeRectCallout="wedgeRectCallout",e.wedgeRoundRectCallout="wedgeRoundRectCallout"})(MR||(MR={}));var LR;(function(e){e.text1="tx1",e.text2="tx2",e.background1="bg1",e.background2="bg2",e.accent1="accent1",e.accent2="accent2",e.accent3="accent3",e.accent4="accent4",e.accent5="accent5",e.accent6="accent6"})(LR||(LR={}));var DR;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(DR||(DR={}));var BR;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(BR||(BR={}));var FR;(function(e){e.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",e.ACTION_BUTTON_BEGINNING="actionButtonBeginning",e.ACTION_BUTTON_CUSTOM="actionButtonBlank",e.ACTION_BUTTON_DOCUMENT="actionButtonDocument",e.ACTION_BUTTON_END="actionButtonEnd",e.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",e.ACTION_BUTTON_HELP="actionButtonHelp",e.ACTION_BUTTON_HOME="actionButtonHome",e.ACTION_BUTTON_INFORMATION="actionButtonInformation",e.ACTION_BUTTON_MOVIE="actionButtonMovie",e.ACTION_BUTTON_RETURN="actionButtonReturn",e.ACTION_BUTTON_SOUND="actionButtonSound",e.ARC="arc",e.BALLOON="wedgeRoundRectCallout",e.BENT_ARROW="bentArrow",e.BENT_UP_ARROW="bentUpArrow",e.BEVEL="bevel",e.BLOCK_ARC="blockArc",e.CAN="can",e.CHART_PLUS="chartPlus",e.CHART_STAR="chartStar",e.CHART_X="chartX",e.CHEVRON="chevron",e.CHORD="chord",e.CIRCULAR_ARROW="circularArrow",e.CLOUD="cloud",e.CLOUD_CALLOUT="cloudCallout",e.CORNER="corner",e.CORNER_TABS="cornerTabs",e.CROSS="plus",e.CUBE="cube",e.CURVED_DOWN_ARROW="curvedDownArrow",e.CURVED_DOWN_RIBBON="ellipseRibbon",e.CURVED_LEFT_ARROW="curvedLeftArrow",e.CURVED_RIGHT_ARROW="curvedRightArrow",e.CURVED_UP_ARROW="curvedUpArrow",e.CURVED_UP_RIBBON="ellipseRibbon2",e.CUSTOM_GEOMETRY="custGeom",e.DECAGON="decagon",e.DIAGONAL_STRIPE="diagStripe",e.DIAMOND="diamond",e.DODECAGON="dodecagon",e.DONUT="donut",e.DOUBLE_BRACE="bracePair",e.DOUBLE_BRACKET="bracketPair",e.DOUBLE_WAVE="doubleWave",e.DOWN_ARROW="downArrow",e.DOWN_ARROW_CALLOUT="downArrowCallout",e.DOWN_RIBBON="ribbon",e.EXPLOSION1="irregularSeal1",e.EXPLOSION2="irregularSeal2",e.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",e.FLOWCHART_CARD="flowChartPunchedCard",e.FLOWCHART_COLLATE="flowChartCollate",e.FLOWCHART_CONNECTOR="flowChartConnector",e.FLOWCHART_DATA="flowChartInputOutput",e.FLOWCHART_DECISION="flowChartDecision",e.FLOWCHART_DELAY="flowChartDelay",e.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",e.FLOWCHART_DISPLAY="flowChartDisplay",e.FLOWCHART_DOCUMENT="flowChartDocument",e.FLOWCHART_EXTRACT="flowChartExtract",e.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",e.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",e.FLOWCHART_MANUAL_INPUT="flowChartManualInput",e.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",e.FLOWCHART_MERGE="flowChartMerge",e.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",e.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",e.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",e.FLOWCHART_OR="flowChartOr",e.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",e.FLOWCHART_PREPARATION="flowChartPreparation",e.FLOWCHART_PROCESS="flowChartProcess",e.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",e.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",e.FLOWCHART_SORT="flowChartSort",e.FLOWCHART_STORED_DATA="flowChartOnlineStorage",e.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",e.FLOWCHART_TERMINATOR="flowChartTerminator",e.FOLDED_CORNER="folderCorner",e.FRAME="frame",e.FUNNEL="funnel",e.GEAR_6="gear6",e.GEAR_9="gear9",e.HALF_FRAME="halfFrame",e.HEART="heart",e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.HORIZONTAL_SCROLL="horizontalScroll",e.ISOSCELES_TRIANGLE="triangle",e.LEFT_ARROW="leftArrow",e.LEFT_ARROW_CALLOUT="leftArrowCallout",e.LEFT_BRACE="leftBrace",e.LEFT_BRACKET="leftBracket",e.LEFT_CIRCULAR_ARROW="leftCircularArrow",e.LEFT_RIGHT_ARROW="leftRightArrow",e.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",e.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",e.LEFT_RIGHT_RIBBON="leftRightRibbon",e.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",e.LEFT_UP_ARROW="leftUpArrow",e.LIGHTNING_BOLT="lightningBolt",e.LINE_CALLOUT_1="borderCallout1",e.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",e.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",e.LINE_CALLOUT_1_NO_BORDER="callout1",e.LINE_CALLOUT_2="borderCallout2",e.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",e.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",e.LINE_CALLOUT_2_NO_BORDER="callout2",e.LINE_CALLOUT_3="borderCallout3",e.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",e.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",e.LINE_CALLOUT_3_NO_BORDER="callout3",e.LINE_CALLOUT_4="borderCallout4",e.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",e.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",e.LINE_CALLOUT_4_NO_BORDER="callout4",e.LINE="line",e.LINE_INVERSE="lineInv",e.MATH_DIVIDE="mathDivide",e.MATH_EQUAL="mathEqual",e.MATH_MINUS="mathMinus",e.MATH_MULTIPLY="mathMultiply",e.MATH_NOT_EQUAL="mathNotEqual",e.MATH_PLUS="mathPlus",e.MOON="moon",e.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",e.NOTCHED_RIGHT_ARROW="notchedRightArrow",e.NO_SYMBOL="noSmoking",e.OCTAGON="octagon",e.OVAL="ellipse",e.OVAL_CALLOUT="wedgeEllipseCallout",e.PARALLELOGRAM="parallelogram",e.PENTAGON="homePlate",e.PIE="pie",e.PIE_WEDGE="pieWedge",e.PLAQUE="plaque",e.PLAQUE_TABS="plaqueTabs",e.QUAD_ARROW="quadArrow",e.QUAD_ARROW_CALLOUT="quadArrowCallout",e.RECTANGLE="rect",e.RECTANGULAR_CALLOUT="wedgeRectCallout",e.REGULAR_PENTAGON="pentagon",e.RIGHT_ARROW="rightArrow",e.RIGHT_ARROW_CALLOUT="rightArrowCallout",e.RIGHT_BRACE="rightBrace",e.RIGHT_BRACKET="rightBracket",e.RIGHT_TRIANGLE="rtTriangle",e.ROUNDED_RECTANGLE="roundRect",e.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",e.ROUND_1_RECTANGLE="round1Rect",e.ROUND_2_DIAG_RECTANGLE="round2DiagRect",e.ROUND_2_SAME_RECTANGLE="round2SameRect",e.SMILEY_FACE="smileyFace",e.SNIP_1_RECTANGLE="snip1Rect",e.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",e.SNIP_2_SAME_RECTANGLE="snip2SameRect",e.SNIP_ROUND_RECTANGLE="snipRoundRect",e.SQUARE_TABS="squareTabs",e.STAR_10_POINT="star10",e.STAR_12_POINT="star12",e.STAR_16_POINT="star16",e.STAR_24_POINT="star24",e.STAR_32_POINT="star32",e.STAR_4_POINT="star4",e.STAR_5_POINT="star5",e.STAR_6_POINT="star6",e.STAR_7_POINT="star7",e.STAR_8_POINT="star8",e.STRIPED_RIGHT_ARROW="stripedRightArrow",e.SUN="sun",e.SWOOSH_ARROW="swooshArrow",e.TEAR="teardrop",e.TRAPEZOID="trapezoid",e.UP_ARROW="upArrow",e.UP_ARROW_CALLOUT="upArrowCallout",e.UP_DOWN_ARROW="upDownArrow",e.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",e.UP_RIBBON="ribbon2",e.U_TURN_ARROW="uturnArrow",e.VERTICAL_SCROLL="verticalScroll",e.WAVE="wave"})(FR||(FR={}));var zR;(function(e){e.AREA="area",e.BAR="bar",e.BAR3D="bar3D",e.BUBBLE="bubble",e.BUBBLE3D="bubble3D",e.DOUGHNUT="doughnut",e.LINE="line",e.PIE="pie",e.RADAR="radar",e.SCATTER="scatter"})(zR||(zR={}));var UR;(function(e){e.TEXT1="tx1",e.TEXT2="tx2",e.BACKGROUND1="bg1",e.BACKGROUND2="bg2",e.ACCENT1="accent1",e.ACCENT2="accent2",e.ACCENT3="accent3",e.ACCENT4="accent4",e.ACCENT5="accent5",e.ACCENT6="accent6"})(UR||(UR={}));var $R;(function(e){e.chart="chart",e.image="image",e.line="line",e.rect="rect",e.text="text",e.placeholder="placeholder"})($R||($R={}));var HR;(function(e){e.chart="chart",e.hyperlink="hyperlink",e.image="image",e.media="media",e.online="online",e.placeholder="placeholder",e.table="table",e.tablecell="tablecell",e.text="text",e.notes="notes"})(HR||(HR={}));var WR;(function(e){e.title="title",e.body="body",e.image="pic",e.chart="chart",e.table="tbl",e.media="media"})(WR||(WR={}));var qR;(function(e){e.DEFAULT="&#x2022;",e.CHECK="&#x2713;",e.STAR="&#x2605;",e.TRIANGLE="&#x25B6;"})(qR||(qR={}));async function Z0e(e,t,r){const n=new Dt,i=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),o=20;let a=o;n.setFontSize(20),n.setFont("helvetica","bold"),n.text(r.title,i/2,a,{align:"center"}),a+=15,r.subtitle&&(n.setFontSize(12),n.setFont("helvetica","normal"),n.text(r.subtitle,i/2,a,{align:"center"}),a+=10),n.setFontSize(10),n.setFont("helvetica","italic");const l=(r.date||new Date).toLocaleDateString();n.text(`Generated: ${l}`,i/2,a,{align:"center"}),a+=15,n.setLineWidth(.5),n.line(o,a,i-o,a),a+=10,a=await Y0e(n,e,a,o,i,s),n.setFontSize(8),n.setFont("helvetica","italic");const c=n.internal.pages.length-1;for(let u=1;u<=c;u++)n.setPage(u),n.text(`Page ${u} of ${c}`,i/2,s-10,{align:"center"});return n.output("blob")}async function Y0e(e,t,r,n,i,s){e.setFontSize(11),e.setFont("helvetica","normal");const o=t.split(`

`);let a=r;for(const l of o){if(!l.trim())continue;const u=l.split(`
`)[0];a>s-40&&(e.addPage(),a=n),u.match(/^[A-Z\s]+:/)||u.match(/^\d+\./)?(e.setFont("helvetica","bold"),e.setFontSize(12)):(e.setFont("helvetica","normal"),e.setFontSize(11));const h=e.splitTextToSize(l,i-2*n);for(const f of h)a>s-30&&(e.addPage(),a=n),e.text(f,n,a),a+=7;a+=5}return a}async function J0e(e,t,r){const n=[];n.push(new Ul({text:r.title,heading:vR.HEADING_1,alignment:pa.CENTER,spacing:{after:200}})),r.subtitle&&n.push(new Ul({text:r.subtitle,alignment:pa.CENTER,spacing:{after:100}})),n.push(new Ul({text:`Generated: ${(r.date||new Date).toLocaleDateString()}`,alignment:pa.CENTER,italics:!0,spacing:{after:400}}));{const s=(typeof e=="string"?e:JSON.stringify(e,null,2)).split(`

`);for(const o of s){if(!o.trim())continue;const a=o.split(`
`),l=a[0];if(l.match(/^[A-Z\s]+:/)||l.match(/^\d+\./)){n.push(new Ul({text:l,heading:vR.HEADING_2,spacing:{before:200,after:100}}));for(let c=1;c<a.length;c++)a[c].trim()&&n.push(new Ul({text:a[c],spacing:{after:100}}))}else n.push(new Ul({text:o,spacing:{after:200}}))}}const i=new P0e({sections:[{properties:{},children:n}]});return await G0e.toBlob(i)}const Q0e=({bucket:e,path:t,onUploadComplete:r,accept:n="*",maxSizeMB:i=10})=>{const[s,o]=Be.useState(!1),[a,l]=Be.useState(null),c=async u=>{var d;const h=(d=u.target.files)==null?void 0:d[0];if(!h)return;const f=i*1024*1024;if(h.size>f){l(`File size must be less than ${i}MB`);return}l(null),o(!0);try{const p=h.name.split(".").pop(),g=`${t}/${Date.now()}.${p}`,m=(h.size/(1024*1024)).toFixed(2),{data:{user:v}}=await Ve.auth.getUser();if(!v)throw new Error("User not authenticated");const y=new FileReader;y.onload=async b=>{var U;const x=(U=b.target)==null?void 0:U.result,{data:_,error:M}=await Ve.from("process_documents").insert({document_name:h.name,document_type:h.type||"application/octet-stream",file_size_mb:parseFloat(m),storage_path:g,storage_url:x,uploaded_by:v.id,upload_status:"uploaded",parsing_status:"pending"}).select().single();if(M)throw M;r(x,h.name),o(!1)},y.onerror=()=>{throw new Error("Failed to read file")},y.readAsDataURL(h)}catch(p){l(p.message||"Upload failed"),o(!1)}};return w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"block",children:[w.jsx("div",{className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:s?w.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[w.jsx(qV,{size:20,className:"animate-spin"}),w.jsx("span",{children:"Uploading..."})]}):w.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[w.jsx(c8,{size:20}),w.jsx("span",{children:"Click to upload file"})]})}),w.jsx("input",{type:"file",onChange:c,accept:n,disabled:s,className:"hidden"})]}),a&&w.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[w.jsx(ic,{size:16}),w.jsx("span",{children:a})]})]})};function ege(){const{user:e}=Za(),[t,r]=Be.useState([]),[n,i]=Be.useState([]),[s,o]=Be.useState(!0),[a,l]=Be.useState(!1),[c,u]=Be.useState(!1),[h,f]=Be.useState(null),[d,p]=Be.useState(!1),[g,m]=Be.useState(!1),[v,y]=Be.useState({title:"",content:"",version:"1.0",changeDescription:""});Be.useEffect(()=>{b()},[]),Be.useEffect(()=>{h&&x(h.id)},[h]);const b=async()=>{try{const{data:E,error:k}=await Ve.from("sops").select("*").order("updated_at",{ascending:!1});if(k)throw k;r(E||[])}catch(E){console.error("Error loading SOPs:",E)}finally{o(!1)}},x=async E=>{try{const{data:k,error:A}=await Ve.from("sop_versions").select("*").eq("sop_id",E).order("created_at",{ascending:!1});if(A)throw A;i(k||[])}catch(k){console.error("Error loading versions:",k)}},_=async()=>{if(!(!v.title||!v.content||!e))try{const{data:E,error:k}=await Ve.from("sops").insert({title:v.title,content:v.content,version:v.version,status:"draft",created_by:e.id}).select().single();if(k)throw k;await Z3(E.id,v.content,v.changeDescription||"Initial version"),y({title:"",content:"",version:"1.0",changeDescription:""}),l(!1),b()}catch(E){console.error("Error creating SOP:",E),alert("Failed to create SOP")}},M=async()=>{if(!(!h||!e))try{const E=h.version.split("."),k=`${E[0]}.${parseInt(E[1])+1}`,{error:A}=await Ve.from("sops").update({content:v.content,version:k,status:"draft",updated_at:new Date().toISOString()}).eq("id",h.id);if(A)throw A;await Z3(h.id,v.content,v.changeDescription||"Updated content"),p(!1),f(null),b()}catch(E){console.error("Error updating SOP:",E),alert("Failed to update SOP")}},U=async E=>{if(e)try{await UI("sop",E,e.id,"sop_approval"),alert("Approval request submitted successfully"),b()}catch(k){console.error("Error requesting approval:",k),alert("Failed to request approval")}},L=async E=>{try{const{error:k}=await Ve.from("sops").update({status:"published",approved_by:e==null?void 0:e.id,approved_at:new Date().toISOString()}).eq("id",E);if(k)throw k;b()}catch(k){console.error("Error publishing SOP:",k),alert("Failed to publish SOP")}},O=async E=>{if(confirm("Are you sure you want to delete this SOP?"))try{const{error:k}=await Ve.from("sops").delete().eq("id",E);if(k)throw k;b()}catch(k){console.error("Error deleting SOP:",k),alert("Failed to delete SOP")}},H=async E=>{try{const k={title:E.title,subtitle:`Version ${E.version}`,author:"OllieProcess",date:new Date},A=await Z0e(E,"sop",k),C=window.URL.createObjectURL(A),D=document.createElement("a");D.href=C,D.download=`${E.title.replace(/\s+/g,"_")}_v${E.version}.pdf`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(C),document.body.removeChild(D)}catch(k){console.error("Error exporting PDF:",k),alert("Failed to export PDF")}},G=async E=>{try{const k={title:E.title,subtitle:`Version ${E.version}`,author:"OllieProcess",date:new Date},A=await J0e(E,"sop",k),C=window.URL.createObjectURL(A),D=document.createElement("a");D.href=C,D.download=`${E.title.replace(/\s+/g,"_")}_v${E.version}.docx`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(C),document.body.removeChild(D)}catch(k){console.error("Error exporting DOCX:",k),alert("Failed to export DOCX")}},I=async E=>{const k=E[0];if(!k)return;const A=new FileReader;A.onload=async C=>{var z;const D=(z=C.target)==null?void 0:z.result;y({...v,title:k.name.replace(/\.(docx|pdf|txt)$/i,""),content:D}),m(!1),l(!0)},k.type==="text/plain"?A.readAsText(k):alert("Please upload a text file. DOCX and PDF parsing will be available soon.")},R=E=>{f(E),y({title:E.title,content:E.content,version:E.version,changeDescription:""}),p(!0)},S=E=>{f(E),p(!1)},j=E=>{switch(E){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-gray-100 text-gray-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}};return s?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h&&!d?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("button",{onClick:()=>{f(null),u(!1)},className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to SOPs"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:()=>u(!c),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[w.jsx(vs,{className:"w-4 h-4"}),"Version History"]}),w.jsxs("button",{onClick:()=>R(h),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[w.jsx(qN,{className:"w-4 h-4"}),"Edit"]}),w.jsxs("button",{onClick:()=>G(h),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[w.jsx($V,{className:"w-4 h-4"}),"Export DOCX"]}),w.jsxs("button",{onClick:()=>H(h),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(R0,{className:"w-4 h-4"}),"Export PDF"]})]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[w.jsx("div",{className:"flex items-start justify-between mb-6",children:w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:h.title}),w.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[w.jsxs("span",{className:"flex items-center gap-1",children:["Version ",h.version]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(h.status)}`,children:h.status.replace("_"," ").toUpperCase()})]})]})}),w.jsx("div",{className:"prose max-w-none",children:w.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:h.content})}),h.status==="draft"&&w.jsxs("div",{className:"mt-8 pt-6 border-t flex gap-3",children:[w.jsx("button",{onClick:()=>U(h.id),className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Request Approval"}),w.jsx("button",{onClick:()=>L(h.id),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Publish Now"})]})]}),c&&n.length>0&&w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Version History"}),w.jsx("div",{className:"space-y-3",children:n.map(E=>w.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsxs("h3",{className:"font-semibold text-gray-900",children:["Version ",E.version_number]}),w.jsx("span",{className:"text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()})]}),E.change_description&&w.jsx("p",{className:"text-sm text-gray-600",children:E.change_description})]},E.id))})]})]}):a||d?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d?"Edit SOP":"Create New SOP"}),w.jsx("button",{onClick:()=>{l(!1),p(!1),f(null),y({title:"",content:"",version:"1.0",changeDescription:""})},className:"text-gray-500 hover:text-gray-700",children:w.jsx(ic,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOP Title"}),w.jsx("input",{type:"text",value:v.title,onChange:E=>y({...v,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter SOP title..."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),w.jsx("textarea",{value:v.content,onChange:E=>y({...v,content:E.target.value}),rows:20,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"Enter SOP content..."})]}),d&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Description"}),w.jsx("input",{type:"text",value:v.changeDescription,onChange:E=>y({...v,changeDescription:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe what changed in this version..."})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>{l(!1),p(!1),f(null),y({title:"",content:"",version:"1.0",changeDescription:""})},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),w.jsxs("button",{onClick:d?M:_,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[w.jsx(Rb,{className:"w-4 h-4"}),d?"Save Changes":"Create SOP"]})]})]})]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[w.jsx(Ii,{className:"w-7 h-7 text-blue-600"}),"SOP Builder"]}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage Standard Operating Procedures"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[w.jsx(c8,{className:"w-4 h-4"}),"Upload Document"]}),w.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[w.jsx(P0,{className:"w-4 h-4"}),"New SOP"]})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(E=>w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-blue-500",children:[w.jsx("div",{className:"flex items-start justify-between mb-4",children:w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:E.title}),w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsxs("span",{className:"text-xs text-gray-500",children:["v",E.version]}),w.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j(E.status)}`,children:E.status.replace("_"," ")})]})]})}),w.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[E.content.substring(0,150),"..."]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:()=>S(E),className:"flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm flex items-center justify-center gap-2",children:[w.jsx(Ly,{className:"w-4 h-4"}),"View"]}),w.jsx("button",{onClick:()=>R(E),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",title:"Edit",children:w.jsx(qN,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>H(E),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",title:"Export PDF",children:w.jsx(R0,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>O(E.id),className:"px-3 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50",title:"Delete",children:w.jsx(Ob,{className:"w-4 h-4"})})]})]},E.id))}),t.length===0&&w.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[w.jsx(Ii,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No SOPs found"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Create your first Standard Operating Procedure"})]}),g&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload Document"}),w.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:w.jsx(ic,{className:"w-6 h-6"})})]}),w.jsx(Q0e,{onUpload:I,accept:".txt,.docx,.pdf",maxSize:10*1024*1024}),w.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported formats: TXT, DOCX, PDF (up to 10MB)"})]})})]})}const VR="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",tge="https://api.openai.com/v1/chat/completions";function rge({currentModule:e,currentModuleName:t}){const{user:r}=Za(),[n,i]=Be.useState(!1),[s,o]=Be.useState(!1),[a,l]=Be.useState([]),[c,u]=Be.useState(""),[h,f]=Be.useState(!1),[d,p]=Be.useState(null),[g,m]=Be.useState(!1),v=Be.useRef(null);Be.useEffect(()=>{n&&!d&&x()},[n]),Be.useEffect(()=>{y()},[a]),Be.useEffect(()=>{n&&m(!1)},[n]);const y=()=>{var G;(G=v.current)==null||G.scrollIntoView({behavior:"smooth"})},b=()=>{const I={dashboard:["Show me critical alerts","What are the pending approvals?","Show ticket trends","Display CSAT scores"],"integrated-contact-center":["How do I create a new ticket?","Show me my open tickets","What are the ticket priorities?","How do I assign tickets?"],"integrated-complaints":["How do I file a complaint?","Show me critical complaints","What is the escalation process?","How do I resolve complaints?"],"process-mapping":["How do I create a new process?","Show me all active processes","Find processes related to onboarding","Explain BPMN notation"],"knowledge-base":["How do I create an article?","Search for training materials","Show me SOPs","Find troubleshooting guides"],"workforce-management":["How do I create a schedule?","Show me team capacity","Explain shift management","How do I request time off?"]}[e||""]||["Show me all active processes","How do I create a new process?","Find SOPs for client onboarding","What are my pending tasks?"];return{contextMessage:t?`Hi! I'm your AI Support Assistant. I can see you're on the ${t} module. How can I help you?`:"Hi! I'm your AI Support Assistant. I can help you find processes, SOPs, knowledge articles, and guide you through any procedures. What can I help you with today?",suggestions:I}},x=async()=>{if(r)try{const{data:G,error:I}=await Ve.from("support_conversations").insert({user_id:r.id,conversation_type:"support",conversation_title:`${t||"General"} Support`,context_module:e}).select().single();if(I)throw I;p(G.id);const{contextMessage:R,suggestions:S}=b();l([{id:"welcome",type:"assistant",content:R,suggestions:S,timestamp:new Date}])}catch(G){console.error("Error starting conversation:",G)}},_=async(G,I)=>{const S=[{role:"system",content:`You are a helpful AI assistant for OllieProcess, a Business Process Management platform.

Current Module: ${t||"Dashboard"}

You help users with:
- Understanding platform features and navigation
- Answering questions about process management, SOPs, BPMN, workflows
- Providing guidance on using different modules
- Explaining how to accomplish tasks in the platform

Key Platform Features:
- Process Management: Upload documents, AI generates BPMN, SOPs, RACI, Risk matrices
- SOP Builder: Create, edit SOPs with version control and approvals
- Visual BPMN: Create and edit process diagrams
- Knowledge Management: Create and search knowledge articles
- Process Analytics: Track performance and bottlenecks
- Workflow Execution: Run and monitor process instances

Be concise, helpful, and specific to the user's question. Provide step-by-step guidance when appropriate.`},...I.slice(-6).map(j=>({role:j.type==="user"?"user":"assistant",content:j.content})),{role:"user",content:G}];try{const j=await fetch(tge,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${VR}`},body:JSON.stringify({model:"gpt-4o-mini",messages:S,temperature:.7,max_tokens:1e3})});if(!j.ok)throw new Error(`OpenAI API error: ${j.statusText}`);return(await j.json()).choices[0].message.content}catch(j){throw console.error("OpenAI call failed:",j),j}},M=(G,I)=>{const R=G.toLowerCase(),S={"process-management":{keywords:["upload","document","manage","do","can","what"],response:`On the Process Management screen, you can:

• **Upload Documents**: Upload process documents (PDF, DOCX, PPTX, VSDX) for AI analysis
• **AI Processing**: The system automatically generates BPMN diagrams, SOPs, RACI matrices, and risk controls
• **View Artifacts**: Access all generated artifacts from uploaded documents
• **Version Control**: Track versions of your processes
• **Approvals**: Request and manage approval workflows
• **Create SOPs**: Click "Create SOP" on any artifact to add it to the SOP Builder with full version control`,suggestions:["How do I upload a process document?","What artifacts are generated?","How do I create an SOP from an artifact?","Tell me about the approval workflow"]},dashboard:{keywords:["show","view","display","what"],response:`The Dashboard provides:

• **Process Overview**: View all active processes and their status
• **Key Metrics**: See completion rates, average cycle times, and performance indicators
• **Pending Tasks**: Quick access to items requiring your attention
• **Recent Activity**: Latest updates across all modules
• **Analytics**: Visual charts showing trends and insights`,suggestions:["Show me pending tasks","What are the key metrics?","Show recent activity","Display process analytics"]},"sop-builder":{keywords:["create","upload","export","version"],response:`In the SOP Builder, you can:

• **Create SOPs**: Build new Standard Operating Procedures from scratch
• **Upload Documents**: Import existing SOPs from TXT, DOCX, or PDF files
• **Version Control**: Track all changes with automatic versioning
• **Approval Workflow**: Request approval and publish SOPs
• **Export**: Download SOPs as PDF or DOCX with professional formatting
• **Link to Processes**: SOPs can be created from process artifacts`,suggestions:["How do I create a new SOP?","How do I upload an existing document?","How does version control work?","How do I export an SOP?"]},"knowledge-management":{keywords:["article","search","create","find"],response:`In Knowledge Management, you can:

• **Create Articles**: Write and publish knowledge base articles
• **Organize Content**: Use categories and tags for easy navigation
• **Search**: Find articles quickly with full-text search
• **Vote & Rate**: Mark articles as helpful to improve quality
• **Track Usage**: See view counts and effectiveness metrics
• **Link to Processes**: Connect articles to relevant processes`,suggestions:["How do I create a knowledge article?","How do I search for information?","How do I organize articles?","What are article categories?"]}},j=S[I||""]||S.dashboard;return j.keywords.some(k=>R.includes(k))||R.includes("help")||R.includes("how")?{content:j.response,suggestions:j.suggestions}:{content:"I'm your AI assistant for OllieProcess. I can help you navigate the platform, understand features, and find information. What would you like to know?",suggestions:j.suggestions}},U=async()=>{if(!c.trim()||!d||!r)return;const G={id:Date.now().toString(),type:"user",content:c,timestamp:new Date};l(R=>[...R,G]);const I=c;u(""),f(!0);try{await Ve.from("support_messages").insert({conversation_id:d,message_type:"user_query",message_content:I,sender_type:"user",context_module:e});let R,S=[];if(VR)try{R=await _(I,a);const{suggestions:E}=M(I,e);S=E}catch(E){console.warn("OpenAI call failed, using fallback:",E);const k=M(I,e);R=k.content,S=k.suggestions}const j={id:(Date.now()+1).toString(),type:"assistant",content:R,suggestions:S,timestamp:new Date};l(E=>[...E,j]),n||m(!0),await Ve.from("support_messages").insert({conversation_id:d,message_type:"ai_response",message_content:R,sender_type:"assistant",referenced_items:null}),await Ve.from("support_conversations").update({last_message_at:new Date().toISOString()}).eq("id",d)}catch(R){console.error("Error sending message:",R);const S={id:(Date.now()+1).toString(),type:"assistant",content:"I apologize, but I'm having trouble processing your request. Please try again or rephrase your question.",timestamp:new Date};l(j=>[...j,S])}finally{f(!1)}},L=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),U())},O=G=>{u(G)},H=G=>{if(!G)return null;const{processes:I=[],sops:R=[],knowledge:S=[],artifacts:j=[]}=G;return[...I,...R,...S,...j].length===0?null:w.jsxs("div",{className:"mt-3 space-y-2",children:[I.map((k,A)=>w.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(zI,{className:"w-4 h-4 text-blue-600 mt-1 flex-shrink-0"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:k.title}),w.jsx("p",{className:"text-xs text-blue-700 line-clamp-2",children:k.description}),w.jsx("span",{className:"text-xs text-blue-600",children:"Process"})]})]})},`process-${A}`)),R.map((k,A)=>w.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(Ii,{className:"w-4 h-4 text-purple-600 mt-1 flex-shrink-0"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h4",{className:"font-semibold text-purple-900 text-sm",children:k.title}),w.jsx("p",{className:"text-xs text-purple-700 line-clamp-2",children:k.content}),w.jsx("span",{className:"text-xs text-purple-600",children:"SOP"})]})]})},`sop-${A}`)),S.map((k,A)=>w.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(C0,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h4",{className:"font-semibold text-green-900 text-sm",children:k.title}),w.jsx("p",{className:"text-xs text-green-700 line-clamp-2",children:k.content}),w.jsx("span",{className:"text-xs text-green-600",children:"Knowledge Article"})]})]})},`knowledge-${A}`))]})};return n?w.jsxs("div",{className:`fixed bg-white rounded-2xl shadow-2xl z-50 flex flex-col transition-all duration-300 ${s?"inset-4":"bottom-6 right-6 w-96 h-[600px]"}`,style:{maxHeight:s?"100vh":"600px"},children:[w.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-2xl flex items-center justify-between flex-shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[w.jsx("div",{className:"p-2 bg-white/20 rounded-lg flex-shrink-0",children:w.jsx($a,{className:"w-5 h-5"})}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h3",{className:"font-bold",children:"AI Support Assistant"}),w.jsxs("p",{className:"text-xs text-blue-100 flex items-center gap-1 truncate",children:[t&&w.jsxs(w.Fragment,{children:[w.jsx(VV,{className:"w-3 h-3 flex-shrink-0"}),w.jsx("span",{className:"truncate",children:t})]}),!t&&"Always here to help"]})]})]}),w.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.jsx("button",{onClick:()=>o(!s),className:"p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":s?"Minimize":"Maximize",children:s?w.jsx(KV,{className:"w-4 h-4"}):w.jsx(DI,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close",children:w.jsx(ic,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[a.map(G=>w.jsx("div",{className:`flex ${G.type==="user"?"justify-end":"justify-start"}`,children:w.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 ${G.type==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"}`,children:[w.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.content}),G.results&&H(G.results),G.suggestions&&G.suggestions.length>0&&w.jsxs("div",{className:"mt-3 space-y-2",children:[w.jsx("p",{className:"text-xs opacity-75",children:"Suggested questions:"}),G.suggestions.map((I,R)=>w.jsx("button",{onClick:()=>O(I),className:`block w-full text-left px-3 py-2 rounded-lg text-xs transition-colors ${G.type==="user"?"bg-white/10 hover:bg-white/20":"bg-white hover:bg-slate-50 border border-slate-200"}`,children:I},R))]}),w.jsx("p",{className:"text-xs opacity-50 mt-2",children:G.timestamp.toLocaleTimeString()})]})},G.id)),h&&w.jsx("div",{className:"flex justify-start",children:w.jsx("div",{className:"bg-slate-100 rounded-2xl p-3",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),w.jsx("span",{className:"text-sm text-slate-600",children:"Thinking..."})]})})}),w.jsx("div",{ref:v})]}),w.jsxs("div",{className:"p-4 border-t border-slate-200 flex-shrink-0",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("textarea",{value:c,onChange:G=>u(G.target.value),onKeyPress:L,placeholder:"Ask me anything...",rows:1,className:"flex-1 px-4 py-3 border border-slate-300 rounded-xl resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",style:{minHeight:"44px",maxHeight:"120px"}}),w.jsx("button",{onClick:U,disabled:!c.trim()||h,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex-shrink-0","aria-label":"Send message",children:w.jsx(YV,{className:"w-5 h-5"})})]}),w.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["AI-powered support • Context-aware help for ",t||"all modules"]})]})]}):w.jsxs("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-200 z-50 group","aria-label":"Open AI Assistant",children:[w.jsx(GV,{className:"w-6 h-6"}),g&&w.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),w.jsx("span",{className:"absolute right-full mr-3 px-3 py-2 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"AI Assistant - Always here to help"})]})}const q5=[{id:"dashboard",label:"Dashboard",icon:w.jsx(WV,{size:20}),component:w.jsx(hG,{}),category:"Overview"},{id:"process-management",label:"Process Management",icon:w.jsx(Ud,{size:20}),component:w.jsx(bde,{}),category:"Core"},{id:"process-mapping",label:"Process Mapping",icon:w.jsx(Ib,{size:20}),component:w.jsx(fG,{}),category:"Core"},{id:"visual-bpmn",label:"Visual BPMN Editor",icon:w.jsx(Ud,{size:20}),component:w.jsx(Rde,{}),category:"Core"},{id:"my-tasks",label:"My Process Tasks",icon:w.jsx(Ar,{size:20}),component:w.jsx(Ude,{}),category:"Core"},{id:"process-execution",label:"Process Execution",icon:w.jsx(BI,{size:20}),component:w.jsx(Pde,{}),category:"Execution"},{id:"dynamic-orchestrator",label:"Process Orchestrator",icon:w.jsx(Ts,{size:20}),component:w.jsx(Vde,{}),category:"Execution"},{id:"approvals",label:"Approvals Queue",icon:w.jsx(Ar,{size:20}),component:w.jsx(Yde,{}),category:"Execution"},{id:"process-analytics",label:"Process Analytics",icon:w.jsx(A0,{size:20}),component:w.jsx(Fde,{}),category:"Analytics"},{id:"process-performance",label:"Process Performance",icon:w.jsx(Pb,{size:20}),component:w.jsx(zde,{}),category:"Analytics"},{id:"bottleneck-detection",label:"Bottleneck Detection",icon:w.jsx(il,{size:20}),component:w.jsx(Gde,{}),category:"Analytics"},{id:"process-discovery",label:"Process Discovery & Mining",icon:w.jsx(j0,{size:20}),component:w.jsx($de,{}),category:"AI & Intelligence"},{id:"ai-optimization",label:"AI Optimization",icon:w.jsx($a,{size:20}),component:w.jsx(Hde,{}),category:"AI & Intelligence"},{id:"ai-recommendations",label:"AI Recommendations",icon:w.jsx(Dy,{size:20}),component:w.jsx(Xde,{}),category:"AI & Intelligence"},{id:"process-simulation",label:"Process Simulation",icon:w.jsx(js,{size:20}),component:w.jsx(Wde,{}),category:"Advanced"},{id:"compliance",label:"Compliance Hub",icon:w.jsx(zI,{size:20}),component:w.jsx(qde,{}),category:"Advanced"},{id:"knowledge-management",label:"Knowledge Base",icon:w.jsx(C0,{size:20}),component:w.jsx(ihe,{}),category:"Knowledge"},{id:"smart-knowledge",label:"Smart Knowledge AI",icon:w.jsx($a,{size:20}),component:w.jsx(she,{}),category:"Knowledge"},{id:"technical-specs",label:"Technical Specs & SOPs",icon:w.jsx(Ii,{size:20}),component:w.jsx(ahe,{}),category:"Knowledge"},{id:"sop-builder",label:"SOP Builder",icon:w.jsx(Ii,{size:20}),component:w.jsx(ege,{}),category:"Knowledge"}],nge=()=>{var f;const{user:e,signOut:t}=Za(),[r,n]=Be.useState("dashboard"),[i,s]=Be.useState(!0),[o,a]=Be.useState(""),l=async()=>{console.log("Sign out clicked");try{await t(),console.log("Sign out successful")}catch(d){console.error("Sign out failed:",d)}};if(!e)return w.jsx(nG,{});const c=q5.find(d=>d.id===r),h=q5.filter(d=>d.label.toLowerCase().includes(o.toLowerCase())).reduce((d,p)=>(d[p.category]||(d[p.category]=[]),d[p.category].push(p),d),{});return w.jsxs("div",{className:"flex h-screen bg-slate-50",children:[w.jsxs("aside",{className:`${i?"w-72":"w-20"} bg-white border-r border-slate-200 transition-all duration-300 flex flex-col`,children:[w.jsx("div",{className:"p-6 border-b border-slate-200",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-2.5 rounded-xl",children:w.jsx(Ib,{size:24,className:"text-white"})}),i&&w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"OllieProcess"}),w.jsx("p",{className:"text-xs text-slate-500",children:"Process Management"})]})]}),w.jsx("button",{onClick:()=>s(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:w.jsx(Ud,{size:18,className:"text-slate-600"})})]})}),i&&w.jsx("div",{className:"px-4 py-3 border-b border-slate-200",children:w.jsxs("div",{className:"relative",children:[w.jsx(o8,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),w.jsx("input",{type:"text",placeholder:"Search modules...",value:o,onChange:d=>a(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),w.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:i?w.jsx("div",{className:"space-y-6",children:Object.entries(h).map(([d,p])=>w.jsxs("div",{children:[w.jsx("h3",{className:"px-6 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:d}),w.jsx("div",{className:"space-y-1 px-3",children:p.map(g=>w.jsxs("button",{onClick:()=>n(g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${r===g.id?"bg-blue-50 text-blue-600 font-medium shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[g.icon,w.jsx("span",{className:"text-sm",children:g.label})]},g.id))})]},d))}):w.jsx("div",{className:"space-y-2 px-3",children:q5.map(d=>w.jsx("button",{onClick:()=>n(d.id),className:`w-full flex items-center justify-center p-3 rounded-lg transition-all ${r===d.id?"bg-blue-50 text-blue-600":"text-slate-600 hover:bg-slate-50"}`,title:d.label,children:d.icon},d.id))})}),w.jsx("div",{className:"p-4 border-t border-slate-200",children:i?w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:(f=e.email)==null?void 0:f.charAt(0).toUpperCase()}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e.email}),w.jsx("p",{className:"text-xs text-slate-500",children:"Process Manager"})]})]}),w.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors font-medium text-sm",children:[w.jsx(WN,{size:16}),"Sign Out"]})]}):w.jsx("button",{onClick:l,className:"w-full p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-600 hover:text-red-600",title:"Sign out",children:w.jsx(WN,{size:18})})})]}),w.jsx("main",{className:"flex-1 overflow-auto",children:w.jsx("div",{className:"p-8",children:c==null?void 0:c.component})}),w.jsx(rge,{currentModule:r,currentModuleName:c==null?void 0:c.label})]})};function ige(){return w.jsx(PV,{children:w.jsx(nge,{})})}aI(document.getElementById("root")).render(w.jsx(Be.StrictMode,{children:w.jsx(ige,{})}));export{an as _,tr as c,age as g};
