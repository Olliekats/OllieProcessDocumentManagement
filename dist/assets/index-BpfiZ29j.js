var ZU=Object.defineProperty;var YU=(e,t,r)=>t in e?ZU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sn=(e,t,r)=>YU(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var eP={exports:{}},gb={},tP={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=Symbol.for("react.element"),QU=Symbol.for("react.portal"),e$=Symbol.for("react.fragment"),t$=Symbol.for("react.strict_mode"),r$=Symbol.for("react.profiler"),n$=Symbol.for("react.provider"),i$=Symbol.for("react.context"),s$=Symbol.for("react.forward_ref"),a$=Symbol.for("react.suspense"),o$=Symbol.for("react.memo"),l$=Symbol.for("react.lazy"),xk=Symbol.iterator;function c$(e){return e===null||typeof e!="object"?null:(e=xk&&e[xk]||e["@@iterator"],typeof e=="function"?e:null)}var rP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nP=Object.assign,iP={};function lp(e,t,r){this.props=e,this.context=t,this.refs=iP,this.updater=r||rP}lp.prototype.isReactComponent={};lp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sP(){}sP.prototype=lp.prototype;function h6(e,t,r){this.props=e,this.context=t,this.refs=iP,this.updater=r||rP}var f6=h6.prototype=new sP;f6.constructor=h6;nP(f6,lp.prototype);f6.isPureReactComponent=!0;var wk=Array.isArray,aP=Object.prototype.hasOwnProperty,p6={current:null},oP={key:!0,ref:!0,__self:!0,__source:!0};function lP(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)aP.call(t,n)&&!oP.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:tg,type:e,key:s,ref:o,props:i,_owner:p6.current}}function u$(e,t){return{$$typeof:tg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m6(e){return typeof e=="object"&&e!==null&&e.$$typeof===tg}function d$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _k=/\/+/g;function Sx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d$(""+e.key):t.toString(36)}function Bv(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tg:case QU:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Sx(o,0):n,wk(i)?(r="",e!=null&&(r=e.replace(_k,"$&/")+"/"),Bv(i,t,r,"",function(c){return c})):i!=null&&(m6(i)&&(i=u$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_k,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",wk(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Sx(s,a);o+=Bv(s,t,r,l,i)}else if(l=c$(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Sx(s,a++),o+=Bv(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function x1(e,t,r){if(e==null)return e;var n=[],i=0;return Bv(e,n,"","",function(s){return t.call(r,s,i++)}),n}function h$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ps={current:null},Fv={transition:null},f$={ReactCurrentDispatcher:Ps,ReactCurrentBatchConfig:Fv,ReactCurrentOwner:p6};function cP(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:x1,forEach:function(e,t,r){x1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return x1(e,function(){t++}),t},toArray:function(e){return x1(e,function(t){return t})||[]},only:function(e){if(!m6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fr.Component=lp;Fr.Fragment=e$;Fr.Profiler=r$;Fr.PureComponent=h6;Fr.StrictMode=t$;Fr.Suspense=a$;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f$;Fr.act=cP;Fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nP({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=p6.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)aP.call(t,l)&&!oP.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:tg,type:e.type,key:i,ref:s,props:n,_owner:o}};Fr.createContext=function(e){return e={$$typeof:i$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n$,_context:e},e.Consumer=e};Fr.createElement=lP;Fr.createFactory=function(e){var t=lP.bind(null,e);return t.type=e,t};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(e){return{$$typeof:s$,render:e}};Fr.isValidElement=m6;Fr.lazy=function(e){return{$$typeof:l$,_payload:{_status:-1,_result:e},_init:h$}};Fr.memo=function(e,t){return{$$typeof:o$,type:e,compare:t===void 0?null:t}};Fr.startTransition=function(e){var t=Fv.transition;Fv.transition={};try{e()}finally{Fv.transition=t}};Fr.unstable_act=cP;Fr.useCallback=function(e,t){return Ps.current.useCallback(e,t)};Fr.useContext=function(e){return Ps.current.useContext(e)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(e){return Ps.current.useDeferredValue(e)};Fr.useEffect=function(e,t){return Ps.current.useEffect(e,t)};Fr.useId=function(){return Ps.current.useId()};Fr.useImperativeHandle=function(e,t,r){return Ps.current.useImperativeHandle(e,t,r)};Fr.useInsertionEffect=function(e,t){return Ps.current.useInsertionEffect(e,t)};Fr.useLayoutEffect=function(e,t){return Ps.current.useLayoutEffect(e,t)};Fr.useMemo=function(e,t){return Ps.current.useMemo(e,t)};Fr.useReducer=function(e,t,r){return Ps.current.useReducer(e,t,r)};Fr.useRef=function(e){return Ps.current.useRef(e)};Fr.useState=function(e){return Ps.current.useState(e)};Fr.useSyncExternalStore=function(e,t,r){return Ps.current.useSyncExternalStore(e,t,r)};Fr.useTransition=function(){return Ps.current.useTransition()};Fr.version="18.3.1";tP.exports=Fr;var Me=tP.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p$=Me,m$=Symbol.for("react.element"),g$=Symbol.for("react.fragment"),v$=Object.prototype.hasOwnProperty,y$=p$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b$={key:!0,ref:!0,__self:!0,__source:!0};function uP(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)v$.call(t,n)&&!b$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:m$,type:e,key:s,ref:o,props:i,_owner:y$.current}}gb.Fragment=g$;gb.jsx=uP;gb.jsxs=uP;eP.exports=gb;var b=eP.exports,dP={exports:{}},_a={},hP={exports:{}},fP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var D=A.length;A.push(C);e:for(;0<D;){var z=D-1>>>1,P=A[z];if(0<i(P,C))A[z]=C,A[D]=P,D=z;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var C=A[0],D=A.pop();if(D!==C){A[0]=D;e:for(var z=0,P=A.length,K=P>>>1;z<K;){var Z=2*(z+1)-1,te=A[Z],q=Z+1,$=A[q];if(0>i(te,D))q<P&&0>i($,te)?(A[z]=$,A[q]=D,z=q):(A[z]=te,A[Z]=D,z=Z);else if(q<P&&0>i($,D))A[z]=$,A[q]=D,z=q;else break e}}return C}function i(A,C){var D=A.sortIndex-C.sortIndex;return D!==0?D:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var C=r(c);C!==null;){if(C.callback===null)n(c);else if(C.startTime<=A)n(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=r(c)}}function w(A){if(g=!1,x(A),!p)if(r(l)!==null)p=!0,k(_);else{var C=r(c);C!==null&&E(w,C.startTime-A)}}function _(A,C){p=!1,g&&(g=!1,v(L),L=-1),d=!0;var D=f;try{for(x(C),h=r(l);h!==null&&(!(h.expirationTime>C)||A&&!G());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var P=z(h.expirationTime<=C);C=e.unstable_now(),typeof P=="function"?h.callback=P:h===r(l)&&n(l),x(C)}else n(l);h=r(l)}if(h!==null)var K=!0;else{var Z=r(c);Z!==null&&E(w,Z.startTime-C),K=!1}return K}finally{h=null,f=D,d=!1}}var M=!1,U=null,L=-1,O=5,H=-1;function G(){return!(e.unstable_now()-H<O)}function I(){if(U!==null){var A=e.unstable_now();H=A;var C=!0;try{C=U(!0,A)}finally{C?R():(M=!1,U=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,j=S.port2;S.port1.onmessage=I,R=function(){j.postMessage(null)}}else R=function(){m(I,0)};function k(A){U=A,M||(M=!0,R())}function E(A,C){L=m(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,k(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var D=f;f=C;try{return A()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=f;f=A;try{return C()}finally{f=D}},e.unstable_scheduleCallback=function(A,C,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=D+P,A={id:u++,callback:C,priorityLevel:A,startTime:D,expirationTime:P,sortIndex:-1},D>z?(A.sortIndex=D,t(c,A),r(l)===null&&A===r(c)&&(g?(v(L),L=-1):g=!0,E(w,D-z))):(A.sortIndex=P,t(l,A),p||d||(p=!0,k(_))),A},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(A){var C=f;return function(){var D=f;f=C;try{return A.apply(this,arguments)}finally{f=D}}}})(fP);hP.exports=fP;var x$=hP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w$=Me,wa=x$;function gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pP=new Set,h0={};function lh(e,t){Pf(e,t),Pf(e+"Capture",t)}function Pf(e,t){for(h0[e]=t,e=0;e<t.length;e++)pP.add(t[e])}var nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z5=Object.prototype.hasOwnProperty,_$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sk={},Ek={};function S$(e){return Z5.call(Ek,e)?!0:Z5.call(Sk,e)?!1:_$.test(e)?Ek[e]=!0:(Sk[e]=!0,!1)}function E$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k$(e,t,r,n){if(t===null||typeof t>"u"||E$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Os(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Os(e,5,!1,e.toLowerCase(),null,!1,!1)});var g6=/[\-:]([a-z])/g;function v6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g6,v6);ss[t]=new Os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g6,v6);ss[t]=new Os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g6,v6);ss[t]=new Os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Os(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Os(e,1,!1,e.toLowerCase(),null,!0,!0)});function y6(e,t,r,n){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k$(t,r,i,n)&&(r=null),n||i===null?S$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var lc=w$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w1=Symbol.for("react.element"),lf=Symbol.for("react.portal"),cf=Symbol.for("react.fragment"),b6=Symbol.for("react.strict_mode"),Y5=Symbol.for("react.profiler"),mP=Symbol.for("react.provider"),gP=Symbol.for("react.context"),x6=Symbol.for("react.forward_ref"),J5=Symbol.for("react.suspense"),Q5=Symbol.for("react.suspense_list"),w6=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),vP=Symbol.for("react.offscreen"),kk=Symbol.iterator;function em(e){return e===null||typeof e!="object"?null:(e=kk&&e[kk]||e["@@iterator"],typeof e=="function"?e:null)}var Fn=Object.assign,Ex;function Tm(e){if(Ex===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ex=t&&t[1]||""}return`
`+Ex+e}var kx=!1;function Nx(e,t){if(!e||kx)return"";kx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{kx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tm(e):""}function N$(e){switch(e.tag){case 5:return Tm(e.type);case 16:return Tm("Lazy");case 13:return Tm("Suspense");case 19:return Tm("SuspenseList");case 0:case 2:case 15:return e=Nx(e.type,!1),e;case 11:return e=Nx(e.type.render,!1),e;case 1:return e=Nx(e.type,!0),e;default:return""}}function e3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cf:return"Fragment";case lf:return"Portal";case Y5:return"Profiler";case b6:return"StrictMode";case J5:return"Suspense";case Q5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gP:return(e.displayName||"Context")+".Consumer";case mP:return(e._context.displayName||"Context")+".Provider";case x6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w6:return t=e.displayName||null,t!==null?t:e3(e.type)||"Memo";case Gc:t=e._payload,e=e._init;try{return e3(e(t))}catch{}}return null}function A$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e3(t);case 8:return t===b6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _u(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C$(e){var t=yP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _1(e){e._valueTracker||(e._valueTracker=C$(e))}function bP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function my(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function t3(e,t){var r=t.checked;return Fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_u(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xP(e,t){t=t.checked,t!=null&&y6(e,"checked",t,!1)}function r3(e,t){xP(e,t);var r=_u(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n3(e,t.type,r):t.hasOwnProperty("defaultValue")&&n3(e,t.type,_u(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ak(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function n3(e,t,r){(t!=="number"||my(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rm=Array.isArray;function xf(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_u(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function i3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ck(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gt(92));if(Rm(r)){if(1<r.length)throw Error(gt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_u(r)}}function wP(e,t){var r=_u(t.value),n=_u(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _P(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_P(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var S1,SP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(S1=S1||document.createElement("div"),S1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=S1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function f0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j$=["Webkit","ms","Moz","O"];Object.keys(Bm).forEach(function(e){j$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bm[t]=Bm[e]})});function EP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bm.hasOwnProperty(e)&&Bm[e]?(""+t).trim():t+"px"}function kP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var T$=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a3(e,t){if(t){if(T$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function o3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l3=null;function _6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var c3=null,wf=null,_f=null;function Tk(e){if(e=ig(e)){if(typeof c3!="function")throw Error(gt(280));var t=e.stateNode;t&&(t=wb(t),c3(e.stateNode,e.type,t))}}function NP(e){wf?_f?_f.push(e):_f=[e]:wf=e}function AP(){if(wf){var e=wf,t=_f;if(_f=wf=null,Tk(e),t)for(e=0;e<t.length;e++)Tk(t[e])}}function CP(e,t){return e(t)}function jP(){}var Ax=!1;function TP(e,t,r){if(Ax)return e(t,r);Ax=!0;try{return CP(e,t,r)}finally{Ax=!1,(wf!==null||_f!==null)&&(jP(),AP())}}function p0(e,t){var r=e.stateNode;if(r===null)return null;var n=wb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gt(231,t,typeof r));return r}var u3=!1;if(nc)try{var tm={};Object.defineProperty(tm,"passive",{get:function(){u3=!0}}),window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{u3=!1}function R$(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Fm=!1,gy=null,vy=!1,d3=null,P$={onError:function(e){Fm=!0,gy=e}};function O$(e,t,r,n,i,s,o,a,l){Fm=!1,gy=null,R$.apply(P$,arguments)}function I$(e,t,r,n,i,s,o,a,l){if(O$.apply(this,arguments),Fm){if(Fm){var c=gy;Fm=!1,gy=null}else throw Error(gt(198));vy||(vy=!0,d3=c)}}function ch(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function RP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rk(e){if(ch(e)!==e)throw Error(gt(188))}function M$(e){var t=e.alternate;if(!t){if(t=ch(e),t===null)throw Error(gt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Rk(i),e;if(s===n)return Rk(i),t;s=s.sibling}throw Error(gt(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(gt(189))}}if(r.alternate!==n)throw Error(gt(190))}if(r.tag!==3)throw Error(gt(188));return r.stateNode.current===r?e:t}function PP(e){return e=M$(e),e!==null?OP(e):null}function OP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OP(e);if(t!==null)return t;e=e.sibling}return null}var IP=wa.unstable_scheduleCallback,Pk=wa.unstable_cancelCallback,L$=wa.unstable_shouldYield,D$=wa.unstable_requestPaint,ai=wa.unstable_now,B$=wa.unstable_getCurrentPriorityLevel,S6=wa.unstable_ImmediatePriority,MP=wa.unstable_UserBlockingPriority,yy=wa.unstable_NormalPriority,F$=wa.unstable_LowPriority,LP=wa.unstable_IdlePriority,vb=null,rl=null;function z$(e){if(rl&&typeof rl.onCommitFiberRoot=="function")try{rl.onCommitFiberRoot(vb,e,void 0,(e.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:H$,U$=Math.log,$$=Math.LN2;function H$(e){return e>>>=0,e===0?32:31-(U$(e)/$$|0)|0}var E1=64,k1=4194304;function Pm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function by(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Pm(a):(s&=o,s!==0&&(n=Pm(s)))}else o=r&~i,o!==0?n=Pm(o):s!==0&&(n=Pm(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yo(t),i=1<<r,n|=e[r],t&=~i;return n}function W$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-yo(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=W$(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function h3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DP(){var e=E1;return E1<<=1,!(E1&4194240)&&(E1=64),e}function Cx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yo(t),e[t]=r}function V$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-yo(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function E6(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var on=0;function BP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FP,k6,zP,UP,$P,f3=!1,N1=[],ou=null,lu=null,cu=null,m0=new Map,g0=new Map,Zc=[],G$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ok(e,t){switch(e){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":lu=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":m0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(t.pointerId)}}function rm(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ig(t),t!==null&&k6(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K$(e,t,r,n,i){switch(t){case"focusin":return ou=rm(ou,e,t,r,n,i),!0;case"dragenter":return lu=rm(lu,e,t,r,n,i),!0;case"mouseover":return cu=rm(cu,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return m0.set(s,rm(m0.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,g0.set(s,rm(g0.get(s)||null,e,t,r,n,i)),!0}return!1}function HP(e){var t=Rd(e.target);if(t!==null){var r=ch(t);if(r!==null){if(t=r.tag,t===13){if(t=RP(r),t!==null){e.blockedOn=t,$P(e.priority,function(){zP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=p3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);l3=n,r.target.dispatchEvent(n),l3=null}else return t=ig(r),t!==null&&k6(t),e.blockedOn=r,!1;t.shift()}return!0}function Ik(e,t,r){zv(e)&&r.delete(t)}function X$(){f3=!1,ou!==null&&zv(ou)&&(ou=null),lu!==null&&zv(lu)&&(lu=null),cu!==null&&zv(cu)&&(cu=null),m0.forEach(Ik),g0.forEach(Ik)}function nm(e,t){e.blockedOn===t&&(e.blockedOn=null,f3||(f3=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,X$)))}function v0(e){function t(i){return nm(i,e)}if(0<N1.length){nm(N1[0],e);for(var r=1;r<N1.length;r++){var n=N1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ou!==null&&nm(ou,e),lu!==null&&nm(lu,e),cu!==null&&nm(cu,e),m0.forEach(t),g0.forEach(t),r=0;r<Zc.length;r++)n=Zc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zc.length&&(r=Zc[0],r.blockedOn===null);)HP(r),r.blockedOn===null&&Zc.shift()}var Sf=lc.ReactCurrentBatchConfig,xy=!0;function Z$(e,t,r,n){var i=on,s=Sf.transition;Sf.transition=null;try{on=1,N6(e,t,r,n)}finally{on=i,Sf.transition=s}}function Y$(e,t,r,n){var i=on,s=Sf.transition;Sf.transition=null;try{on=4,N6(e,t,r,n)}finally{on=i,Sf.transition=s}}function N6(e,t,r,n){if(xy){var i=p3(e,t,r,n);if(i===null)Bx(e,t,n,wy,r),Ok(e,n);else if(K$(i,e,t,r,n))n.stopPropagation();else if(Ok(e,n),t&4&&-1<G$.indexOf(e)){for(;i!==null;){var s=ig(i);if(s!==null&&FP(s),s=p3(e,t,r,n),s===null&&Bx(e,t,n,wy,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Bx(e,t,n,null,r)}}var wy=null;function p3(e,t,r,n){if(wy=null,e=_6(n),e=Rd(e),e!==null)if(t=ch(e),t===null)e=null;else if(r=t.tag,r===13){if(e=RP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wy=e,null}function WP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B$()){case S6:return 1;case MP:return 4;case yy:case F$:return 16;case LP:return 536870912;default:return 16}default:return 16}}var tu=null,A6=null,Uv=null;function qP(){if(Uv)return Uv;var e,t=A6,r=t.length,n,i="value"in tu?tu.value:tu.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Uv=i.slice(e,1<n?1-n:void 0)}function $v(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function A1(){return!0}function Mk(){return!1}function Sa(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?A1:Mk,this.isPropagationStopped=Mk,this}return Fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=A1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=A1)},persist:function(){},isPersistent:A1}),t}var cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C6=Sa(cp),ng=Fn({},cp,{view:0,detail:0}),J$=Sa(ng),jx,Tx,im,yb=Fn({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==im&&(im&&e.type==="mousemove"?(jx=e.screenX-im.screenX,Tx=e.screenY-im.screenY):Tx=jx=0,im=e),jx)},movementY:function(e){return"movementY"in e?e.movementY:Tx}}),Lk=Sa(yb),Q$=Fn({},yb,{dataTransfer:0}),eH=Sa(Q$),tH=Fn({},ng,{relatedTarget:0}),Rx=Sa(tH),rH=Fn({},cp,{animationName:0,elapsedTime:0,pseudoElement:0}),nH=Sa(rH),iH=Fn({},cp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sH=Sa(iH),aH=Fn({},cp,{data:0}),Dk=Sa(aH),oH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cH[e])?!!t[e]:!1}function j6(){return uH}var dH=Fn({},ng,{key:function(e){if(e.key){var t=oH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$v(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j6,charCode:function(e){return e.type==="keypress"?$v(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$v(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hH=Sa(dH),fH=Fn({},yb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bk=Sa(fH),pH=Fn({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j6}),mH=Sa(pH),gH=Fn({},cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),vH=Sa(gH),yH=Fn({},yb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bH=Sa(yH),xH=[9,13,27,32],T6=nc&&"CompositionEvent"in window,zm=null;nc&&"documentMode"in document&&(zm=document.documentMode);var wH=nc&&"TextEvent"in window&&!zm,VP=nc&&(!T6||zm&&8<zm&&11>=zm),Fk=" ",zk=!1;function GP(e,t){switch(e){case"keyup":return xH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uf=!1;function _H(e,t){switch(e){case"compositionend":return KP(t);case"keypress":return t.which!==32?null:(zk=!0,Fk);case"textInput":return e=t.data,e===Fk&&zk?null:e;default:return null}}function SH(e,t){if(uf)return e==="compositionend"||!T6&&GP(e,t)?(e=qP(),Uv=A6=tu=null,uf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VP&&t.locale!=="ko"?null:t.data;default:return null}}var EH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EH[e.type]:t==="textarea"}function XP(e,t,r,n){NP(n),t=_y(t,"onChange"),0<t.length&&(r=new C6("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Um=null,y0=null;function kH(e){aO(e,0)}function bb(e){var t=ff(e);if(bP(t))return e}function NH(e,t){if(e==="change")return t}var ZP=!1;if(nc){var Px;if(nc){var Ox="oninput"in document;if(!Ox){var $k=document.createElement("div");$k.setAttribute("oninput","return;"),Ox=typeof $k.oninput=="function"}Px=Ox}else Px=!1;ZP=Px&&(!document.documentMode||9<document.documentMode)}function Hk(){Um&&(Um.detachEvent("onpropertychange",YP),y0=Um=null)}function YP(e){if(e.propertyName==="value"&&bb(y0)){var t=[];XP(t,y0,e,_6(e)),TP(kH,t)}}function AH(e,t,r){e==="focusin"?(Hk(),Um=t,y0=r,Um.attachEvent("onpropertychange",YP)):e==="focusout"&&Hk()}function CH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bb(y0)}function jH(e,t){if(e==="click")return bb(t)}function TH(e,t){if(e==="input"||e==="change")return bb(t)}function RH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eo=typeof Object.is=="function"?Object.is:RH;function b0(e,t){if(Eo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Z5.call(t,i)||!Eo(e[i],t[i]))return!1}return!0}function Wk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qk(e,t){var r=Wk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wk(r)}}function JP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QP(){for(var e=window,t=my();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=my(e.document)}return t}function R6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PH(e){var t=QP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&JP(r.ownerDocument.documentElement,r)){if(n!==null&&R6(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=qk(r,s);var o=qk(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OH=nc&&"documentMode"in document&&11>=document.documentMode,df=null,m3=null,$m=null,g3=!1;function Vk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g3||df==null||df!==my(n)||(n=df,"selectionStart"in n&&R6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$m&&b0($m,n)||($m=n,n=_y(m3,"onSelect"),0<n.length&&(t=new C6("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=df)))}function C1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hf={animationend:C1("Animation","AnimationEnd"),animationiteration:C1("Animation","AnimationIteration"),animationstart:C1("Animation","AnimationStart"),transitionend:C1("Transition","TransitionEnd")},Ix={},eO={};nc&&(eO=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function xb(e){if(Ix[e])return Ix[e];if(!hf[e])return e;var t=hf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eO)return Ix[e]=t[r];return e}var tO=xb("animationend"),rO=xb("animationiteration"),nO=xb("animationstart"),iO=xb("transitionend"),sO=new Map,Gk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cu(e,t){sO.set(e,t),lh(t,[e])}for(var Mx=0;Mx<Gk.length;Mx++){var Lx=Gk[Mx],IH=Lx.toLowerCase(),MH=Lx[0].toUpperCase()+Lx.slice(1);Cu(IH,"on"+MH)}Cu(tO,"onAnimationEnd");Cu(rO,"onAnimationIteration");Cu(nO,"onAnimationStart");Cu("dblclick","onDoubleClick");Cu("focusin","onFocus");Cu("focusout","onBlur");Cu(iO,"onTransitionEnd");Pf("onMouseEnter",["mouseout","mouseover"]);Pf("onMouseLeave",["mouseout","mouseover"]);Pf("onPointerEnter",["pointerout","pointerover"]);Pf("onPointerLeave",["pointerout","pointerover"]);lh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lh("onBeforeInput",["compositionend","keypress","textInput","paste"]);lh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Om="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Om));function Kk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,I$(n,t,void 0,e),e.currentTarget=null}function aO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Kk(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Kk(i,a,c),s=l}}}if(vy)throw e=d3,vy=!1,d3=null,e}function En(e,t){var r=t[w3];r===void 0&&(r=t[w3]=new Set);var n=e+"__bubble";r.has(n)||(oO(t,e,2,!1),r.add(n))}function Dx(e,t,r){var n=0;t&&(n|=4),oO(r,e,n,t)}var j1="_reactListening"+Math.random().toString(36).slice(2);function x0(e){if(!e[j1]){e[j1]=!0,pP.forEach(function(r){r!=="selectionchange"&&(LH.has(r)||Dx(r,!1,e),Dx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[j1]||(t[j1]=!0,Dx("selectionchange",!1,t))}}function oO(e,t,r,n){switch(WP(t)){case 1:var i=Z$;break;case 4:i=Y$;break;default:i=N6}r=i.bind(null,t,r,e),i=void 0,!u3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Bx(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rd(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}TP(function(){var c=s,u=_6(r),h=[];e:{var f=sO.get(e);if(f!==void 0){var d=C6,p=e;switch(e){case"keypress":if($v(r)===0)break e;case"keydown":case"keyup":d=hH;break;case"focusin":p="focus",d=Rx;break;case"focusout":p="blur",d=Rx;break;case"beforeblur":case"afterblur":d=Rx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=eH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=mH;break;case tO:case rO:case nO:d=nH;break;case iO:d=vH;break;case"scroll":d=J$;break;case"wheel":d=bH;break;case"copy":case"cut":case"paste":d=sH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Bk}var g=(t&4)!==0,m=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=p0(y,v),w!=null&&g.push(w0(y,w,x)))),m)break;y=y.return}0<g.length&&(f=new d(f,p,null,r,u),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==l3&&(p=r.relatedTarget||r.fromElement)&&(Rd(p)||p[ic]))break e;if((d||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=c,p=p?Rd(p):null,p!==null&&(m=ch(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(g=Lk,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Bk,w="onPointerLeave",v="onPointerEnter",y="pointer"),m=d==null?f:ff(d),x=p==null?f:ff(p),f=new g(w,y+"leave",d,r,u),f.target=m,f.relatedTarget=x,w=null,Rd(u)===c&&(g=new g(v,y+"enter",p,r,u),g.target=x,g.relatedTarget=m,w=g),m=w,d&&p)t:{for(g=d,v=p,y=0,x=g;x;x=Lh(x))y++;for(x=0,w=v;w;w=Lh(w))x++;for(;0<y-x;)g=Lh(g),y--;for(;0<x-y;)v=Lh(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Lh(g),v=Lh(v)}g=null}else g=null;d!==null&&Xk(h,f,d,g,!1),p!==null&&m!==null&&Xk(h,m,p,g,!0)}}e:{if(f=c?ff(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var _=NH;else if(Uk(f))if(ZP)_=TH;else{_=CH;var M=AH}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=jH);if(_&&(_=_(e,c))){XP(h,_,r,u);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&n3(f,"number",f.value)}switch(M=c?ff(c):window,e){case"focusin":(Uk(M)||M.contentEditable==="true")&&(df=M,m3=c,$m=null);break;case"focusout":$m=m3=df=null;break;case"mousedown":g3=!0;break;case"contextmenu":case"mouseup":case"dragend":g3=!1,Vk(h,r,u);break;case"selectionchange":if(OH)break;case"keydown":case"keyup":Vk(h,r,u)}var U;if(T6)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else uf?GP(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(VP&&r.locale!=="ko"&&(uf||L!=="onCompositionStart"?L==="onCompositionEnd"&&uf&&(U=qP()):(tu=u,A6="value"in tu?tu.value:tu.textContent,uf=!0)),M=_y(c,L),0<M.length&&(L=new Dk(L,e,null,r,u),h.push({event:L,listeners:M}),U?L.data=U:(U=KP(r),U!==null&&(L.data=U)))),(U=wH?_H(e,r):SH(e,r))&&(c=_y(c,"onBeforeInput"),0<c.length&&(u=new Dk("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=U))}aO(h,t)})}function w0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _y(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=p0(e,r),s!=null&&n.unshift(w0(e,s,i)),s=p0(e,t),s!=null&&n.push(w0(e,s,i))),e=e.return}return n}function Lh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xk(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=p0(r,s),l!=null&&o.unshift(w0(r,l,a))):i||(l=p0(r,s),l!=null&&o.push(w0(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var DH=/\r\n?/g,BH=/\u0000|\uFFFD/g;function Zk(e){return(typeof e=="string"?e:""+e).replace(DH,`
`).replace(BH,"")}function T1(e,t,r){if(t=Zk(t),Zk(e)!==t&&r)throw Error(gt(425))}function Sy(){}var v3=null,y3=null;function b3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var x3=typeof setTimeout=="function"?setTimeout:void 0,FH=typeof clearTimeout=="function"?clearTimeout:void 0,Yk=typeof Promise=="function"?Promise:void 0,zH=typeof queueMicrotask=="function"?queueMicrotask:typeof Yk<"u"?function(e){return Yk.resolve(null).then(e).catch(UH)}:x3;function UH(e){setTimeout(function(){throw e})}function Fx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),v0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);v0(t)}function uu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var up=Math.random().toString(36).slice(2),Yo="__reactFiber$"+up,_0="__reactProps$"+up,ic="__reactContainer$"+up,w3="__reactEvents$"+up,$H="__reactListeners$"+up,HH="__reactHandles$"+up;function Rd(e){var t=e[Yo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ic]||r[Yo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jk(e);e!==null;){if(r=e[Yo])return r;e=Jk(e)}return t}e=r,r=e.parentNode}return null}function ig(e){return e=e[Yo]||e[ic],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ff(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gt(33))}function wb(e){return e[_0]||null}var _3=[],pf=-1;function ju(e){return{current:e}}function Nn(e){0>pf||(e.current=_3[pf],_3[pf]=null,pf--)}function xn(e,t){pf++,_3[pf]=e.current,e.current=t}var Su={},ys=ju(Su),Xs=ju(!1),Zd=Su;function Of(e,t){var r=e.type.contextTypes;if(!r)return Su;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zs(e){return e=e.childContextTypes,e!=null}function Ey(){Nn(Xs),Nn(ys)}function Qk(e,t,r){if(ys.current!==Su)throw Error(gt(168));xn(ys,t),xn(Xs,r)}function lO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(gt(108,A$(e)||"Unknown",i));return Fn({},r,n)}function ky(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Su,Zd=ys.current,xn(ys,e),xn(Xs,Xs.current),!0}function eN(e,t,r){var n=e.stateNode;if(!n)throw Error(gt(169));r?(e=lO(e,t,Zd),n.__reactInternalMemoizedMergedChildContext=e,Nn(Xs),Nn(ys),xn(ys,e)):Nn(Xs),xn(Xs,r)}var zl=null,_b=!1,zx=!1;function cO(e){zl===null?zl=[e]:zl.push(e)}function WH(e){_b=!0,cO(e)}function Tu(){if(!zx&&zl!==null){zx=!0;var e=0,t=on;try{var r=zl;for(on=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zl=null,_b=!1}catch(i){throw zl!==null&&(zl=zl.slice(e+1)),IP(S6,Tu),i}finally{on=t,zx=!1}}return null}var mf=[],gf=0,Ny=null,Ay=0,Ba=[],Fa=0,Yd=null,ql=1,Vl="";function Sd(e,t){mf[gf++]=Ay,mf[gf++]=Ny,Ny=e,Ay=t}function uO(e,t,r){Ba[Fa++]=ql,Ba[Fa++]=Vl,Ba[Fa++]=Yd,Yd=e;var n=ql;e=Vl;var i=32-yo(n)-1;n&=~(1<<i),r+=1;var s=32-yo(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ql=1<<32-yo(t)+i|r<<i|n,Vl=s+e}else ql=1<<s|r<<i|n,Vl=e}function P6(e){e.return!==null&&(Sd(e,1),uO(e,1,0))}function O6(e){for(;e===Ny;)Ny=mf[--gf],mf[gf]=null,Ay=mf[--gf],mf[gf]=null;for(;e===Yd;)Yd=Ba[--Fa],Ba[Fa]=null,Vl=Ba[--Fa],Ba[Fa]=null,ql=Ba[--Fa],Ba[Fa]=null}var xa=null,va=null,Pn=!1,po=null;function dO(e,t){var r=$a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xa=e,va=uu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xa=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yd!==null?{id:ql,overflow:Vl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xa=e,va=null,!0):!1;default:return!1}}function S3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E3(e){if(Pn){var t=va;if(t){var r=t;if(!tN(e,t)){if(S3(e))throw Error(gt(418));t=uu(r.nextSibling);var n=xa;t&&tN(e,t)?dO(n,r):(e.flags=e.flags&-4097|2,Pn=!1,xa=e)}}else{if(S3(e))throw Error(gt(418));e.flags=e.flags&-4097|2,Pn=!1,xa=e}}}function rN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xa=e}function R1(e){if(e!==xa)return!1;if(!Pn)return rN(e),Pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!b3(e.type,e.memoizedProps)),t&&(t=va)){if(S3(e))throw hO(),Error(gt(418));for(;t;)dO(e,t),t=uu(t.nextSibling)}if(rN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=uu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=xa?uu(e.stateNode.nextSibling):null;return!0}function hO(){for(var e=va;e;)e=uu(e.nextSibling)}function If(){va=xa=null,Pn=!1}function I6(e){po===null?po=[e]:po.push(e)}var qH=lc.ReactCurrentBatchConfig;function sm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gt(309));var n=r.stateNode}if(!n)throw Error(gt(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(gt(284));if(!r._owner)throw Error(gt(290,e))}return e}function P1(e,t){throw e=Object.prototype.toString.call(t),Error(gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nN(e){var t=e._init;return t(e._payload)}function fO(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=pu(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,w){return y===null||y.tag!==6?(y=Gx(x,v.mode,w),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,w){var _=x.type;return _===cf?u(v,y,x.props.children,w,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gc&&nN(_)===y.type)?(w=i(y,x.props),w.ref=sm(v,y,x),w.return=v,w):(w=Xv(x.type,x.key,x.props,null,v.mode,w),w.ref=sm(v,y,x),w.return=v,w)}function c(v,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Kx(x,v.mode,w),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function u(v,y,x,w,_){return y===null||y.tag!==7?(y=Hd(x,v.mode,w,_),y.return=v,y):(y=i(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gx(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case w1:return x=Xv(y.type,y.key,y.props,null,v.mode,x),x.ref=sm(v,null,y),x.return=v,x;case lf:return y=Kx(y,v.mode,x),y.return=v,y;case Gc:var w=y._init;return h(v,w(y._payload),x)}if(Rm(y)||em(y))return y=Hd(y,v.mode,x,null),y.return=v,y;P1(v,y)}return null}function f(v,y,x,w){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w1:return x.key===_?l(v,y,x,w):null;case lf:return x.key===_?c(v,y,x,w):null;case Gc:return _=x._init,f(v,y,_(x._payload),w)}if(Rm(x)||em(x))return _!==null?null:u(v,y,x,w,null);P1(v,x)}return null}function d(v,y,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,a(y,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case w1:return v=v.get(w.key===null?x:w.key)||null,l(y,v,w,_);case lf:return v=v.get(w.key===null?x:w.key)||null,c(y,v,w,_);case Gc:var M=w._init;return d(v,y,x,M(w._payload),_)}if(Rm(w)||em(w))return v=v.get(x)||null,u(y,v,w,_,null);P1(y,w)}return null}function p(v,y,x,w){for(var _=null,M=null,U=y,L=y=0,O=null;U!==null&&L<x.length;L++){U.index>L?(O=U,U=null):O=U.sibling;var H=f(v,U,x[L],w);if(H===null){U===null&&(U=O);break}e&&U&&H.alternate===null&&t(v,U),y=s(H,y,L),M===null?_=H:M.sibling=H,M=H,U=O}if(L===x.length)return r(v,U),Pn&&Sd(v,L),_;if(U===null){for(;L<x.length;L++)U=h(v,x[L],w),U!==null&&(y=s(U,y,L),M===null?_=U:M.sibling=U,M=U);return Pn&&Sd(v,L),_}for(U=n(v,U);L<x.length;L++)O=d(U,v,L,x[L],w),O!==null&&(e&&O.alternate!==null&&U.delete(O.key===null?L:O.key),y=s(O,y,L),M===null?_=O:M.sibling=O,M=O);return e&&U.forEach(function(G){return t(v,G)}),Pn&&Sd(v,L),_}function g(v,y,x,w){var _=em(x);if(typeof _!="function")throw Error(gt(150));if(x=_.call(x),x==null)throw Error(gt(151));for(var M=_=null,U=y,L=y=0,O=null,H=x.next();U!==null&&!H.done;L++,H=x.next()){U.index>L?(O=U,U=null):O=U.sibling;var G=f(v,U,H.value,w);if(G===null){U===null&&(U=O);break}e&&U&&G.alternate===null&&t(v,U),y=s(G,y,L),M===null?_=G:M.sibling=G,M=G,U=O}if(H.done)return r(v,U),Pn&&Sd(v,L),_;if(U===null){for(;!H.done;L++,H=x.next())H=h(v,H.value,w),H!==null&&(y=s(H,y,L),M===null?_=H:M.sibling=H,M=H);return Pn&&Sd(v,L),_}for(U=n(v,U);!H.done;L++,H=x.next())H=d(U,v,L,H.value,w),H!==null&&(e&&H.alternate!==null&&U.delete(H.key===null?L:H.key),y=s(H,y,L),M===null?_=H:M.sibling=H,M=H);return e&&U.forEach(function(I){return t(v,I)}),Pn&&Sd(v,L),_}function m(v,y,x,w){if(typeof x=="object"&&x!==null&&x.type===cf&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case w1:e:{for(var _=x.key,M=y;M!==null;){if(M.key===_){if(_=x.type,_===cf){if(M.tag===7){r(v,M.sibling),y=i(M,x.props.children),y.return=v,v=y;break e}}else if(M.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gc&&nN(_)===M.type){r(v,M.sibling),y=i(M,x.props),y.ref=sm(v,M,x),y.return=v,v=y;break e}r(v,M);break}else t(v,M);M=M.sibling}x.type===cf?(y=Hd(x.props.children,v.mode,w,x.key),y.return=v,v=y):(w=Xv(x.type,x.key,x.props,null,v.mode,w),w.ref=sm(v,y,x),w.return=v,v=w)}return o(v);case lf:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Kx(x,v.mode,w),y.return=v,v=y}return o(v);case Gc:return M=x._init,m(v,y,M(x._payload),w)}if(Rm(x))return p(v,y,x,w);if(em(x))return g(v,y,x,w);P1(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,x),y.return=v,v=y):(r(v,y),y=Gx(x,v.mode,w),y.return=v,v=y),o(v)):r(v,y)}return m}var Mf=fO(!0),pO=fO(!1),Cy=ju(null),jy=null,vf=null,M6=null;function L6(){M6=vf=jy=null}function D6(e){var t=Cy.current;Nn(Cy),e._currentValue=t}function k3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ef(e,t){jy=e,M6=vf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vs=!0),e.firstContext=null)}function Va(e){var t=e._currentValue;if(M6!==e)if(e={context:e,memoizedValue:t,next:null},vf===null){if(jy===null)throw Error(gt(308));vf=e,jy.dependencies={lanes:0,firstContext:e}}else vf=vf.next=e;return t}var Pd=null;function B6(e){Pd===null?Pd=[e]:Pd.push(e)}function mO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,B6(t)):(r.next=i.next,i.next=r),t.interleaved=r,sc(e,n)}function sc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kc=!1;function F6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function du(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,sc(e,r)}return i=n.interleaved,i===null?(t.next=t,B6(n)):(t.next=i.next,i.next=t),n.interleaved=t,sc(e,r)}function Hv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E6(e,r)}}function iN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ty(e,t,r,n){var i=e.updateQueue;Kc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,d=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Fn({},h,f);break e;case 2:Kc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Qd|=o,e.lanes=o,e.memoizedState=h}}function sN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(gt(191,i));i.call(n)}}}var sg={},nl=ju(sg),S0=ju(sg),E0=ju(sg);function Od(e){if(e===sg)throw Error(gt(174));return e}function z6(e,t){switch(xn(E0,t),xn(S0,e),xn(nl,sg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s3(t,e)}Nn(nl),xn(nl,t)}function Lf(){Nn(nl),Nn(S0),Nn(E0)}function vO(e){Od(E0.current);var t=Od(nl.current),r=s3(t,e.type);t!==r&&(xn(S0,e),xn(nl,r))}function U6(e){S0.current===e&&(Nn(nl),Nn(S0))}var Ln=ju(0);function Ry(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ux=[];function $6(){for(var e=0;e<Ux.length;e++)Ux[e]._workInProgressVersionPrimary=null;Ux.length=0}var Wv=lc.ReactCurrentDispatcher,$x=lc.ReactCurrentBatchConfig,Jd=0,Bn=null,ji=null,Ui=null,Py=!1,Hm=!1,k0=0,VH=0;function ds(){throw Error(gt(321))}function H6(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Eo(e[r],t[r]))return!1;return!0}function W6(e,t,r,n,i,s){if(Jd=s,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wv.current=e===null||e.memoizedState===null?ZH:YH,e=r(n,i),Hm){s=0;do{if(Hm=!1,k0=0,25<=s)throw Error(gt(301));s+=1,Ui=ji=null,t.updateQueue=null,Wv.current=JH,e=r(n,i)}while(Hm)}if(Wv.current=Oy,t=ji!==null&&ji.next!==null,Jd=0,Ui=ji=Bn=null,Py=!1,t)throw Error(gt(300));return e}function q6(){var e=k0!==0;return k0=0,e}function Wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?Bn.memoizedState=Ui=e:Ui=Ui.next=e,Ui}function Ga(){if(ji===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=ji.next;var t=Ui===null?Bn.memoizedState:Ui.next;if(t!==null)Ui=t,ji=e;else{if(e===null)throw Error(gt(310));ji=e,e={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},Ui===null?Bn.memoizedState=Ui=e:Ui=Ui.next=e}return Ui}function N0(e,t){return typeof t=="function"?t(e):t}function Hx(e){var t=Ga(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=ji,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Jd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Bn.lanes|=u,Qd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Eo(n,t.memoizedState)||(Vs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Bn.lanes|=s,Qd|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wx(e){var t=Ga(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Eo(s,t.memoizedState)||(Vs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function yO(){}function bO(e,t){var r=Bn,n=Ga(),i=t(),s=!Eo(n.memoizedState,i);if(s&&(n.memoizedState=i,Vs=!0),n=n.queue,V6(_O.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ui!==null&&Ui.memoizedState.tag&1){if(r.flags|=2048,A0(9,wO.bind(null,r,n,i,t),void 0,null),Hi===null)throw Error(gt(349));Jd&30||xO(r,t,i)}return i}function xO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wO(e,t,r,n){t.value=r,t.getSnapshot=n,SO(t)&&EO(e)}function _O(e,t,r){return r(function(){SO(t)&&EO(e)})}function SO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Eo(e,r)}catch{return!0}}function EO(e){var t=sc(e,1);t!==null&&bo(t,e,1,-1)}function aN(e){var t=Wo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:e},t.queue=e,e=e.dispatch=XH.bind(null,Bn,e),[t.memoizedState,e]}function A0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kO(){return Ga().memoizedState}function qv(e,t,r,n){var i=Wo();Bn.flags|=e,i.memoizedState=A0(1|t,r,void 0,n===void 0?null:n)}function Sb(e,t,r,n){var i=Ga();n=n===void 0?null:n;var s=void 0;if(ji!==null){var o=ji.memoizedState;if(s=o.destroy,n!==null&&H6(n,o.deps)){i.memoizedState=A0(t,r,s,n);return}}Bn.flags|=e,i.memoizedState=A0(1|t,r,s,n)}function oN(e,t){return qv(8390656,8,e,t)}function V6(e,t){return Sb(2048,8,e,t)}function NO(e,t){return Sb(4,2,e,t)}function AO(e,t){return Sb(4,4,e,t)}function CO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jO(e,t,r){return r=r!=null?r.concat([e]):null,Sb(4,4,CO.bind(null,t,e),r)}function G6(){}function TO(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H6(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function RO(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H6(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function PO(e,t,r){return Jd&21?(Eo(r,t)||(r=DP(),Bn.lanes|=r,Qd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vs=!0),e.memoizedState=r)}function GH(e,t){var r=on;on=r!==0&&4>r?r:4,e(!0);var n=$x.transition;$x.transition={};try{e(!1),t()}finally{on=r,$x.transition=n}}function OO(){return Ga().memoizedState}function KH(e,t,r){var n=fu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IO(e))MO(t,r);else if(r=mO(e,t,r,n),r!==null){var i=js();bo(r,e,n,i),LO(r,t,n)}}function XH(e,t,r){var n=fu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IO(e))MO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Eo(a,o)){var l=t.interleaved;l===null?(i.next=i,B6(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=mO(e,t,i,n),r!==null&&(i=js(),bo(r,e,n,i),LO(r,t,n))}}function IO(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function MO(e,t){Hm=Py=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function LO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E6(e,r)}}var Oy={readContext:Va,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useInsertionEffect:ds,useLayoutEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useMutableSource:ds,useSyncExternalStore:ds,useId:ds,unstable_isNewReconciler:!1},ZH={readContext:Va,useCallback:function(e,t){return Wo().memoizedState=[e,t===void 0?null:t],e},useContext:Va,useEffect:oN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qv(4194308,4,CO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qv(4194308,4,e,t)},useInsertionEffect:function(e,t){return qv(4,2,e,t)},useMemo:function(e,t){var r=Wo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KH.bind(null,Bn,e),[n.memoizedState,e]},useRef:function(e){var t=Wo();return e={current:e},t.memoizedState=e},useState:aN,useDebugValue:G6,useDeferredValue:function(e){return Wo().memoizedState=e},useTransition:function(){var e=aN(!1),t=e[0];return e=GH.bind(null,e[1]),Wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bn,i=Wo();if(Pn){if(r===void 0)throw Error(gt(407));r=r()}else{if(r=t(),Hi===null)throw Error(gt(349));Jd&30||xO(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,oN(_O.bind(null,n,s,e),[e]),n.flags|=2048,A0(9,wO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Wo(),t=Hi.identifierPrefix;if(Pn){var r=Vl,n=ql;r=(n&~(1<<32-yo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=k0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=VH++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YH={readContext:Va,useCallback:TO,useContext:Va,useEffect:V6,useImperativeHandle:jO,useInsertionEffect:NO,useLayoutEffect:AO,useMemo:RO,useReducer:Hx,useRef:kO,useState:function(){return Hx(N0)},useDebugValue:G6,useDeferredValue:function(e){var t=Ga();return PO(t,ji.memoizedState,e)},useTransition:function(){var e=Hx(N0)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:yO,useSyncExternalStore:bO,useId:OO,unstable_isNewReconciler:!1},JH={readContext:Va,useCallback:TO,useContext:Va,useEffect:V6,useImperativeHandle:jO,useInsertionEffect:NO,useLayoutEffect:AO,useMemo:RO,useReducer:Wx,useRef:kO,useState:function(){return Wx(N0)},useDebugValue:G6,useDeferredValue:function(e){var t=Ga();return ji===null?t.memoizedState=e:PO(t,ji.memoizedState,e)},useTransition:function(){var e=Wx(N0)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:yO,useSyncExternalStore:bO,useId:OO,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){t=Fn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function N3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Eb={isMounted:function(e){return(e=e._reactInternals)?ch(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=js(),i=fu(e),s=Jl(n,i);s.payload=t,r!=null&&(s.callback=r),t=du(e,s,i),t!==null&&(bo(t,e,i,n),Hv(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=js(),i=fu(e),s=Jl(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=du(e,s,i),t!==null&&(bo(t,e,i,n),Hv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=js(),n=fu(e),i=Jl(r,n);i.tag=2,t!=null&&(i.callback=t),t=du(e,i,n),t!==null&&(bo(t,e,n,r),Hv(t,e,n))}};function lN(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!b0(r,n)||!b0(i,s):!0}function DO(e,t,r){var n=!1,i=Su,s=t.contextType;return typeof s=="object"&&s!==null?s=Va(s):(i=Zs(t)?Zd:ys.current,n=t.contextTypes,s=(n=n!=null)?Of(e,i):Su),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function cN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Eb.enqueueReplaceState(t,t.state,null)}function A3(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},F6(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Va(s):(s=Zs(t)?Zd:ys.current,i.context=Of(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(N3(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Eb.enqueueReplaceState(i,i.state,null),Ty(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Df(e,t){try{var r="",n=t;do r+=N$(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function C3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QH=typeof WeakMap=="function"?WeakMap:Map;function BO(e,t,r){r=Jl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){My||(My=!0,B3=n),C3(e,t)},r}function FO(e,t,r){r=Jl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){C3(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){C3(e,t),typeof n!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function uN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QH;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=fW.bind(null,e,t,r),t.then(e,e))}function dN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jl(-1,1),t.tag=2,du(r,t,1))),r.lanes|=1),e)}var eW=lc.ReactCurrentOwner,Vs=!1;function Ns(e,t,r,n){t.child=e===null?pO(t,null,r,n):Mf(t,e.child,r,n)}function fN(e,t,r,n,i){r=r.render;var s=t.ref;return Ef(t,i),n=W6(e,t,r,n,s,i),r=q6(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(Pn&&r&&P6(t),t.flags|=1,Ns(e,t,n,i),t.child)}function pN(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!t8(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,zO(e,t,s,n,i)):(e=Xv(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:b0,r(o,n)&&e.ref===t.ref)return ac(e,t,i)}return t.flags|=1,e=pu(s,n),e.ref=t.ref,e.return=t,t.child=e}function zO(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(b0(s,n)&&e.ref===t.ref)if(Vs=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Vs=!0);else return t.lanes=e.lanes,ac(e,t,i)}return j3(e,t,r,n,i)}function UO(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(bf,ga),ga|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xn(bf,ga),ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xn(bf,ga),ga|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,xn(bf,ga),ga|=n;return Ns(e,t,i,r),t.child}function $O(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j3(e,t,r,n,i){var s=Zs(r)?Zd:ys.current;return s=Of(t,s),Ef(t,i),r=W6(e,t,r,n,s,i),n=q6(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(Pn&&n&&P6(t),t.flags|=1,Ns(e,t,r,i),t.child)}function mN(e,t,r,n,i){if(Zs(r)){var s=!0;ky(t)}else s=!1;if(Ef(t,i),t.stateNode===null)Vv(e,t),DO(t,r,n),A3(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Va(c):(c=Zs(r)?Zd:ys.current,c=Of(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&cN(t,o,n,c),Kc=!1;var f=t.memoizedState;o.state=f,Ty(t,n,o,i),l=t.memoizedState,a!==n||f!==l||Xs.current||Kc?(typeof u=="function"&&(N3(t,r,u,n),l=t.memoizedState),(a=Kc||lN(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,gO(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:uo(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Va(l):(l=Zs(r)?Zd:ys.current,l=Of(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&cN(t,o,n,l),Kc=!1,f=t.memoizedState,o.state=f,Ty(t,n,o,i);var p=t.memoizedState;a!==h||f!==p||Xs.current||Kc?(typeof d=="function"&&(N3(t,r,d,n),p=t.memoizedState),(c=Kc||lN(t,r,c,n,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return T3(e,t,r,n,s,i)}function T3(e,t,r,n,i,s){$O(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&eN(t,r,!1),ac(e,t,s);n=t.stateNode,eW.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Mf(t,e.child,null,s),t.child=Mf(t,null,a,s)):Ns(e,t,a,s),t.memoizedState=n.state,i&&eN(t,r,!0),t.child}function HO(e){var t=e.stateNode;t.pendingContext?Qk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qk(e,t.context,!1),z6(e,t.containerInfo)}function gN(e,t,r,n,i){return If(),I6(i),t.flags|=256,Ns(e,t,r,n),t.child}var R3={dehydrated:null,treeContext:null,retryLane:0};function P3(e){return{baseLanes:e,cachePool:null,transitions:null}}function WO(e,t,r){var n=t.pendingProps,i=Ln.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xn(Ln,i&1),e===null)return E3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ab(o,n,0,null),e=Hd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=P3(r),t.memoizedState=R3,e):K6(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tW(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=pu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pu(a,s):(s=Hd(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?P3(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=R3,n}return s=e.child,e=s.sibling,n=pu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function K6(e,t){return t=Ab({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function O1(e,t,r,n){return n!==null&&I6(n),Mf(t,e.child,null,r),e=K6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tW(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=qx(Error(gt(422))),O1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Ab({mode:"visible",children:n.children},i,0,null),s=Hd(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Mf(t,e.child,null,o),t.child.memoizedState=P3(o),t.memoizedState=R3,s);if(!(t.mode&1))return O1(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(gt(419)),n=qx(s,n,void 0),O1(e,t,o,n)}if(a=(o&e.childLanes)!==0,Vs||a){if(n=Hi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sc(e,i),bo(n,e,i,-1))}return e8(),n=qx(Error(gt(421))),O1(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pW.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,va=uu(i.nextSibling),xa=t,Pn=!0,po=null,e!==null&&(Ba[Fa++]=ql,Ba[Fa++]=Vl,Ba[Fa++]=Yd,ql=e.id,Vl=e.overflow,Yd=t),t=K6(t,n.children),t.flags|=4096,t)}function vN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),k3(e.return,t,r)}function Vx(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qO(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ns(e,t,n.children,r),n=Ln.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vN(e,r,t);else if(e.tag===19)vN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xn(Ln,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ry(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Vx(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ry(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Vx(t,!0,r,null,s);break;case"together":Vx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(gt(153));if(t.child!==null){for(e=t.child,r=pu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rW(e,t,r){switch(t.tag){case 3:HO(t),If();break;case 5:vO(t);break;case 1:Zs(t.type)&&ky(t);break;case 4:z6(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;xn(Cy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xn(Ln,Ln.current&1),t.flags|=128,null):r&t.child.childLanes?WO(e,t,r):(xn(Ln,Ln.current&1),e=ac(e,t,r),e!==null?e.sibling:null);xn(Ln,Ln.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(Ln,Ln.current),n)break;return null;case 22:case 23:return t.lanes=0,UO(e,t,r)}return ac(e,t,r)}var VO,O3,GO,KO;VO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};O3=function(){};GO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Od(nl.current);var s=null;switch(r){case"input":i=t3(e,i),n=t3(e,n),s=[];break;case"select":i=Fn({},i,{value:void 0}),n=Fn({},n,{value:void 0}),s=[];break;case"textarea":i=i3(e,i),n=i3(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sy)}a3(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(h0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(h0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};KO=function(e,t,r,n){r!==n&&(t.flags|=4)};function am(e,t){if(!Pn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nW(e,t,r){var n=t.pendingProps;switch(O6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(t),null;case 1:return Zs(t.type)&&Ey(),hs(t),null;case 3:return n=t.stateNode,Lf(),Nn(Xs),Nn(ys),$6(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(R1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,po!==null&&(U3(po),po=null))),O3(e,t),hs(t),null;case 5:U6(t);var i=Od(E0.current);if(r=t.type,e!==null&&t.stateNode!=null)GO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return hs(t),null}if(e=Od(nl.current),R1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yo]=t,n[_0]=s,e=(t.mode&1)!==0,r){case"dialog":En("cancel",n),En("close",n);break;case"iframe":case"object":case"embed":En("load",n);break;case"video":case"audio":for(i=0;i<Om.length;i++)En(Om[i],n);break;case"source":En("error",n);break;case"img":case"image":case"link":En("error",n),En("load",n);break;case"details":En("toggle",n);break;case"input":Nk(n,s),En("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},En("invalid",n);break;case"textarea":Ck(n,s),En("invalid",n)}a3(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&T1(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&T1(n.textContent,a,e),i=["children",""+a]):h0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",n)}switch(r){case"input":_1(n),Ak(n,s,!0);break;case"textarea":_1(n),jk(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_P(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yo]=t,e[_0]=n,VO(e,t,!1,!1),t.stateNode=e;e:{switch(o=o3(r,n),r){case"dialog":En("cancel",e),En("close",e),i=n;break;case"iframe":case"object":case"embed":En("load",e),i=n;break;case"video":case"audio":for(i=0;i<Om.length;i++)En(Om[i],e);i=n;break;case"source":En("error",e),i=n;break;case"img":case"image":case"link":En("error",e),En("load",e),i=n;break;case"details":En("toggle",e),i=n;break;case"input":Nk(e,n),i=t3(e,n),En("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Fn({},n,{value:void 0}),En("invalid",e);break;case"textarea":Ck(e,n),i=i3(e,n),En("invalid",e);break;default:i=n}a3(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kP(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SP(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&f0(e,l):typeof l=="number"&&f0(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(h0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",e):l!=null&&y6(e,s,l,o))}switch(r){case"input":_1(e),Ak(e,n,!1);break;case"textarea":_1(e),jk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_u(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?xf(e,!!n.multiple,s,!1):n.defaultValue!=null&&xf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hs(t),null;case 6:if(e&&t.stateNode!=null)KO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(r=Od(E0.current),Od(nl.current),R1(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yo]=t,(s=n.nodeValue!==r)&&(e=xa,e!==null))switch(e.tag){case 3:T1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&T1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yo]=t,t.stateNode=n}return hs(t),null;case 13:if(Nn(Ln),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pn&&va!==null&&t.mode&1&&!(t.flags&128))hO(),If(),t.flags|=98560,s=!1;else if(s=R1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(gt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(gt(317));s[Yo]=t}else If(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hs(t),s=!1}else po!==null&&(U3(po),po=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ln.current&1?Oi===0&&(Oi=3):e8())),t.updateQueue!==null&&(t.flags|=4),hs(t),null);case 4:return Lf(),O3(e,t),e===null&&x0(t.stateNode.containerInfo),hs(t),null;case 10:return D6(t.type._context),hs(t),null;case 17:return Zs(t.type)&&Ey(),hs(t),null;case 19:if(Nn(Ln),s=t.memoizedState,s===null)return hs(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)am(s,!1);else{if(Oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ry(e),o!==null){for(t.flags|=128,am(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xn(Ln,Ln.current&1|2),t.child}e=e.sibling}s.tail!==null&&ai()>Bf&&(t.flags|=128,n=!0,am(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ry(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),am(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return hs(t),null}else 2*ai()-s.renderingStartTime>Bf&&r!==1073741824&&(t.flags|=128,n=!0,am(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ai(),t.sibling=null,r=Ln.current,xn(Ln,n?r&1|2:r&1),t):(hs(t),null);case 22:case 23:return Q6(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ga&1073741824&&(hs(t),t.subtreeFlags&6&&(t.flags|=8192)):hs(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function iW(e,t){switch(O6(t),t.tag){case 1:return Zs(t.type)&&Ey(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lf(),Nn(Xs),Nn(ys),$6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return U6(t),null;case 13:if(Nn(Ln),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));If()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nn(Ln),null;case 4:return Lf(),null;case 10:return D6(t.type._context),null;case 22:case 23:return Q6(),null;case 24:return null;default:return null}}var I1=!1,vs=!1,sW=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function yf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gn(e,t,n)}else r.current=null}function I3(e,t,r){try{r()}catch(n){Gn(e,t,n)}}var yN=!1;function aW(e,t){if(v3=xy,e=QP(),R6(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(y3={focusedElem:e,selectionRange:r},xy=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(w){Gn(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return p=yN,yN=!1,p}function Wm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&I3(t,r,s)}i=i.next}while(i!==n)}}function kb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function M3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function XO(e){var t=e.alternate;t!==null&&(e.alternate=null,XO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yo],delete t[_0],delete t[w3],delete t[$H],delete t[HH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZO(e){return e.tag===5||e.tag===3||e.tag===4}function bN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function L3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sy));else if(n!==4&&(e=e.child,e!==null))for(L3(e,t,r),e=e.sibling;e!==null;)L3(e,t,r),e=e.sibling}function D3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(D3(e,t,r),e=e.sibling;e!==null;)D3(e,t,r),e=e.sibling}var Xi=null,ho=!1;function Lc(e,t,r){for(r=r.child;r!==null;)YO(e,t,r),r=r.sibling}function YO(e,t,r){if(rl&&typeof rl.onCommitFiberUnmount=="function")try{rl.onCommitFiberUnmount(vb,r)}catch{}switch(r.tag){case 5:vs||yf(r,t);case 6:var n=Xi,i=ho;Xi=null,Lc(e,t,r),Xi=n,ho=i,Xi!==null&&(ho?(e=Xi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xi.removeChild(r.stateNode));break;case 18:Xi!==null&&(ho?(e=Xi,r=r.stateNode,e.nodeType===8?Fx(e.parentNode,r):e.nodeType===1&&Fx(e,r),v0(e)):Fx(Xi,r.stateNode));break;case 4:n=Xi,i=ho,Xi=r.stateNode.containerInfo,ho=!0,Lc(e,t,r),Xi=n,ho=i;break;case 0:case 11:case 14:case 15:if(!vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&I3(r,t,o),i=i.next}while(i!==n)}Lc(e,t,r);break;case 1:if(!vs&&(yf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gn(r,t,a)}Lc(e,t,r);break;case 21:Lc(e,t,r);break;case 22:r.mode&1?(vs=(n=vs)||r.memoizedState!==null,Lc(e,t,r),vs=n):Lc(e,t,r);break;default:Lc(e,t,r)}}function xN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sW),t.forEach(function(n){var i=mW.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ao(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xi=a.stateNode,ho=!1;break e;case 3:Xi=a.stateNode.containerInfo,ho=!0;break e;case 4:Xi=a.stateNode.containerInfo,ho=!0;break e}a=a.return}if(Xi===null)throw Error(gt(160));YO(s,o,i),Xi=null,ho=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JO(t,e),t=t.sibling}function JO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ao(t,e),Fo(e),n&4){try{Wm(3,e,e.return),kb(3,e)}catch(g){Gn(e,e.return,g)}try{Wm(5,e,e.return)}catch(g){Gn(e,e.return,g)}}break;case 1:ao(t,e),Fo(e),n&512&&r!==null&&yf(r,r.return);break;case 5:if(ao(t,e),Fo(e),n&512&&r!==null&&yf(r,r.return),e.flags&32){var i=e.stateNode;try{f0(i,"")}catch(g){Gn(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xP(i,s),o3(a,o);var c=o3(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?kP(i,h):u==="dangerouslySetInnerHTML"?SP(i,h):u==="children"?f0(i,h):y6(i,u,h,c)}switch(a){case"input":r3(i,s);break;case"textarea":wP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?xf(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?xf(i,!!s.multiple,s.defaultValue,!0):xf(i,!!s.multiple,s.multiple?[]:"",!1))}i[_0]=s}catch(g){Gn(e,e.return,g)}}break;case 6:if(ao(t,e),Fo(e),n&4){if(e.stateNode===null)throw Error(gt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Gn(e,e.return,g)}}break;case 3:if(ao(t,e),Fo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{v0(t.containerInfo)}catch(g){Gn(e,e.return,g)}break;case 4:ao(t,e),Fo(e);break;case 13:ao(t,e),Fo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Y6=ai())),n&4&&xN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(vs=(c=vs)||u,ao(t,e),vs=c):ao(t,e),Fo(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Rt=e,u=e.child;u!==null;){for(h=Rt=u;Rt!==null;){switch(f=Rt,d=f.child,f.tag){case 0:case 11:case 14:case 15:Wm(4,f,f.return);break;case 1:yf(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Gn(n,r,g)}}break;case 5:yf(f,f.return);break;case 22:if(f.memoizedState!==null){_N(h);continue}}d!==null?(d.return=f,Rt=d):_N(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EP("display",o))}catch(g){Gn(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Gn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ao(t,e),Fo(e),n&4&&xN(e);break;case 21:break;default:ao(t,e),Fo(e)}}function Fo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ZO(r)){var n=r;break e}r=r.return}throw Error(gt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(f0(i,""),n.flags&=-33);var s=bN(e);D3(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=bN(e);L3(e,a,o);break;default:throw Error(gt(161))}}catch(l){Gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oW(e,t,r){Rt=e,QO(e)}function QO(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var i=Rt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||I1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vs;a=I1;var c=vs;if(I1=o,(vs=l)&&!c)for(Rt=i;Rt!==null;)o=Rt,l=o.child,o.tag===22&&o.memoizedState!==null?SN(i):l!==null?(l.return=o,Rt=l):SN(i);for(;s!==null;)Rt=s,QO(s),s=s.sibling;Rt=i,I1=a,vs=c}wN(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Rt=s):wN(e)}}function wN(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vs||kb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vs)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:uo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sN(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&v0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}vs||t.flags&512&&M3(t)}catch(f){Gn(t,t.return,f)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function _N(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function SN(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kb(4,t)}catch(l){Gn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Gn(t,i,l)}}var s=t.return;try{M3(t)}catch(l){Gn(t,s,l)}break;case 5:var o=t.return;try{M3(t)}catch(l){Gn(t,o,l)}}}catch(l){Gn(t,t.return,l)}if(t===e){Rt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Rt=a;break}Rt=t.return}}var lW=Math.ceil,Iy=lc.ReactCurrentDispatcher,X6=lc.ReactCurrentOwner,Wa=lc.ReactCurrentBatchConfig,Xr=0,Hi=null,vi=null,rs=0,ga=0,bf=ju(0),Oi=0,C0=null,Qd=0,Nb=0,Z6=0,qm=null,Ws=null,Y6=0,Bf=1/0,Bl=null,My=!1,B3=null,hu=null,M1=!1,ru=null,Ly=0,Vm=0,F3=null,Gv=-1,Kv=0;function js(){return Xr&6?ai():Gv!==-1?Gv:Gv=ai()}function fu(e){return e.mode&1?Xr&2&&rs!==0?rs&-rs:qH.transition!==null?(Kv===0&&(Kv=DP()),Kv):(e=on,e!==0||(e=window.event,e=e===void 0?16:WP(e.type)),e):1}function bo(e,t,r,n){if(50<Vm)throw Vm=0,F3=null,Error(gt(185));rg(e,r,n),(!(Xr&2)||e!==Hi)&&(e===Hi&&(!(Xr&2)&&(Nb|=r),Oi===4&&Yc(e,rs)),Ys(e,n),r===1&&Xr===0&&!(t.mode&1)&&(Bf=ai()+500,_b&&Tu()))}function Ys(e,t){var r=e.callbackNode;q$(e,t);var n=by(e,e===Hi?rs:0);if(n===0)r!==null&&Pk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pk(r),t===1)e.tag===0?WH(EN.bind(null,e)):cO(EN.bind(null,e)),zH(function(){!(Xr&6)&&Tu()}),r=null;else{switch(BP(n)){case 1:r=S6;break;case 4:r=MP;break;case 16:r=yy;break;case 536870912:r=LP;break;default:r=yy}r=oI(r,eI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eI(e,t){if(Gv=-1,Kv=0,Xr&6)throw Error(gt(327));var r=e.callbackNode;if(kf()&&e.callbackNode!==r)return null;var n=by(e,e===Hi?rs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Dy(e,n);else{t=n;var i=Xr;Xr|=2;var s=rI();(Hi!==e||rs!==t)&&(Bl=null,Bf=ai()+500,$d(e,t));do try{dW();break}catch(a){tI(e,a)}while(!0);L6(),Iy.current=s,Xr=i,vi!==null?t=0:(Hi=null,rs=0,t=Oi)}if(t!==0){if(t===2&&(i=h3(e),i!==0&&(n=i,t=z3(e,i))),t===1)throw r=C0,$d(e,0),Yc(e,n),Ys(e,ai()),r;if(t===6)Yc(e,n);else{if(i=e.current.alternate,!(n&30)&&!cW(i)&&(t=Dy(e,n),t===2&&(s=h3(e),s!==0&&(n=s,t=z3(e,s))),t===1))throw r=C0,$d(e,0),Yc(e,n),Ys(e,ai()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:Ed(e,Ws,Bl);break;case 3:if(Yc(e,n),(n&130023424)===n&&(t=Y6+500-ai(),10<t)){if(by(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){js(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=x3(Ed.bind(null,e,Ws,Bl),t);break}Ed(e,Ws,Bl);break;case 4:if(Yc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-yo(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ai()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lW(n/1960))-n,10<n){e.timeoutHandle=x3(Ed.bind(null,e,Ws,Bl),n);break}Ed(e,Ws,Bl);break;case 5:Ed(e,Ws,Bl);break;default:throw Error(gt(329))}}}return Ys(e,ai()),e.callbackNode===r?eI.bind(null,e):null}function z3(e,t){var r=qm;return e.current.memoizedState.isDehydrated&&($d(e,t).flags|=256),e=Dy(e,t),e!==2&&(t=Ws,Ws=r,t!==null&&U3(t)),e}function U3(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function cW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Eo(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yc(e,t){for(t&=~Z6,t&=~Nb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yo(t),n=1<<r;e[r]=-1,t&=~n}}function EN(e){if(Xr&6)throw Error(gt(327));kf();var t=by(e,0);if(!(t&1))return Ys(e,ai()),null;var r=Dy(e,t);if(e.tag!==0&&r===2){var n=h3(e);n!==0&&(t=n,r=z3(e,n))}if(r===1)throw r=C0,$d(e,0),Yc(e,t),Ys(e,ai()),r;if(r===6)throw Error(gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ed(e,Ws,Bl),Ys(e,ai()),null}function J6(e,t){var r=Xr;Xr|=1;try{return e(t)}finally{Xr=r,Xr===0&&(Bf=ai()+500,_b&&Tu())}}function eh(e){ru!==null&&ru.tag===0&&!(Xr&6)&&kf();var t=Xr;Xr|=1;var r=Wa.transition,n=on;try{if(Wa.transition=null,on=1,e)return e()}finally{on=n,Wa.transition=r,Xr=t,!(Xr&6)&&Tu()}}function Q6(){ga=bf.current,Nn(bf)}function $d(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,FH(r)),vi!==null)for(r=vi.return;r!==null;){var n=r;switch(O6(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ey();break;case 3:Lf(),Nn(Xs),Nn(ys),$6();break;case 5:U6(n);break;case 4:Lf();break;case 13:Nn(Ln);break;case 19:Nn(Ln);break;case 10:D6(n.type._context);break;case 22:case 23:Q6()}r=r.return}if(Hi=e,vi=e=pu(e.current,null),rs=ga=t,Oi=0,C0=null,Z6=Nb=Qd=0,Ws=qm=null,Pd!==null){for(t=0;t<Pd.length;t++)if(r=Pd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Pd=null}return e}function tI(e,t){do{var r=vi;try{if(L6(),Wv.current=Oy,Py){for(var n=Bn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Py=!1}if(Jd=0,Ui=ji=Bn=null,Hm=!1,k0=0,X6.current=null,r===null||r.return===null){Oi=1,C0=t,vi=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=rs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=dN(o);if(d!==null){d.flags&=-257,hN(d,o,a,s,t),d.mode&1&&uN(s,c,t),t=d,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){uN(s,c,t),e8();break e}l=Error(gt(426))}}else if(Pn&&a.mode&1){var m=dN(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),hN(m,o,a,s,t),I6(Df(l,a));break e}}s=l=Df(l,a),Oi!==4&&(Oi=2),qm===null?qm=[s]:qm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=BO(s,l,t);iN(s,v);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hu===null||!hu.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=FO(s,a,t);iN(s,w);break e}}s=s.return}while(s!==null)}iI(r)}catch(_){t=_,vi===r&&r!==null&&(vi=r=r.return);continue}break}while(!0)}function rI(){var e=Iy.current;return Iy.current=Oy,e===null?Oy:e}function e8(){(Oi===0||Oi===3||Oi===2)&&(Oi=4),Hi===null||!(Qd&268435455)&&!(Nb&268435455)||Yc(Hi,rs)}function Dy(e,t){var r=Xr;Xr|=2;var n=rI();(Hi!==e||rs!==t)&&(Bl=null,$d(e,t));do try{uW();break}catch(i){tI(e,i)}while(!0);if(L6(),Xr=r,Iy.current=n,vi!==null)throw Error(gt(261));return Hi=null,rs=0,Oi}function uW(){for(;vi!==null;)nI(vi)}function dW(){for(;vi!==null&&!L$();)nI(vi)}function nI(e){var t=aI(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?iI(e):vi=t,X6.current=null}function iI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iW(r,t),r!==null){r.flags&=32767,vi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oi=6,vi=null;return}}else if(r=nW(r,t,ga),r!==null){vi=r;return}if(t=t.sibling,t!==null){vi=t;return}vi=t=e}while(t!==null);Oi===0&&(Oi=5)}function Ed(e,t,r){var n=on,i=Wa.transition;try{Wa.transition=null,on=1,hW(e,t,r,n)}finally{Wa.transition=i,on=n}return null}function hW(e,t,r,n){do kf();while(ru!==null);if(Xr&6)throw Error(gt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(gt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(V$(e,s),e===Hi&&(vi=Hi=null,rs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||M1||(M1=!0,oI(yy,function(){return kf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var o=on;on=1;var a=Xr;Xr|=4,X6.current=null,aW(e,r),JO(r,e),PH(y3),xy=!!v3,y3=v3=null,e.current=r,oW(r),D$(),Xr=a,on=o,Wa.transition=s}else e.current=r;if(M1&&(M1=!1,ru=e,Ly=i),s=e.pendingLanes,s===0&&(hu=null),z$(r.stateNode),Ys(e,ai()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(My)throw My=!1,e=B3,B3=null,e;return Ly&1&&e.tag!==0&&kf(),s=e.pendingLanes,s&1?e===F3?Vm++:(Vm=0,F3=e):Vm=0,Tu(),null}function kf(){if(ru!==null){var e=BP(Ly),t=Wa.transition,r=on;try{if(Wa.transition=null,on=16>e?16:e,ru===null)var n=!1;else{if(e=ru,ru=null,Ly=0,Xr&6)throw Error(gt(331));var i=Xr;for(Xr|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Wm(8,u,s)}var h=u.child;if(h!==null)h.return=u,Rt=h;else for(;Rt!==null;){u=Rt;var f=u.sibling,d=u.return;if(XO(u),u===c){Rt=null;break}if(f!==null){f.return=d,Rt=f;break}Rt=d}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wm(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Rt=v;break e}Rt=s.return}}var y=e.current;for(Rt=y;Rt!==null;){o=Rt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Rt=x;else e:for(o=y;Rt!==null;){if(a=Rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kb(9,a)}}catch(_){Gn(a,a.return,_)}if(a===o){Rt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Rt=w;break e}Rt=a.return}}if(Xr=i,Tu(),rl&&typeof rl.onPostCommitFiberRoot=="function")try{rl.onPostCommitFiberRoot(vb,e)}catch{}n=!0}return n}finally{on=r,Wa.transition=t}}return!1}function kN(e,t,r){t=Df(r,t),t=BO(e,t,1),e=du(e,t,1),t=js(),e!==null&&(rg(e,1,t),Ys(e,t))}function Gn(e,t,r){if(e.tag===3)kN(e,e,r);else for(;t!==null;){if(t.tag===3){kN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hu===null||!hu.has(n))){e=Df(r,e),e=FO(t,e,1),t=du(t,e,1),e=js(),t!==null&&(rg(t,1,e),Ys(t,e));break}}t=t.return}}function fW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=js(),e.pingedLanes|=e.suspendedLanes&r,Hi===e&&(rs&r)===r&&(Oi===4||Oi===3&&(rs&130023424)===rs&&500>ai()-Y6?$d(e,0):Z6|=r),Ys(e,t)}function sI(e,t){t===0&&(e.mode&1?(t=k1,k1<<=1,!(k1&130023424)&&(k1=4194304)):t=1);var r=js();e=sc(e,t),e!==null&&(rg(e,t,r),Ys(e,r))}function pW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sI(e,r)}function mW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),sI(e,r)}var aI;aI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xs.current)Vs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vs=!1,rW(e,t,r);Vs=!!(e.flags&131072)}else Vs=!1,Pn&&t.flags&1048576&&uO(t,Ay,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vv(e,t),e=t.pendingProps;var i=Of(t,ys.current);Ef(t,r),i=W6(null,t,n,e,i,r);var s=q6();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zs(n)?(s=!0,ky(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,F6(t),i.updater=Eb,t.stateNode=i,i._reactInternals=t,A3(t,n,e,r),t=T3(null,t,n,!0,s,r)):(t.tag=0,Pn&&s&&P6(t),Ns(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vv(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=vW(n),e=uo(n,e),i){case 0:t=j3(null,t,n,e,r);break e;case 1:t=mN(null,t,n,e,r);break e;case 11:t=fN(null,t,n,e,r);break e;case 14:t=pN(null,t,n,uo(n.type,e),r);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uo(n,i),j3(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uo(n,i),mN(e,t,n,i,r);case 3:e:{if(HO(t),e===null)throw Error(gt(387));n=t.pendingProps,s=t.memoizedState,i=s.element,gO(e,t),Ty(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Df(Error(gt(423)),t),t=gN(e,t,n,r,i);break e}else if(n!==i){i=Df(Error(gt(424)),t),t=gN(e,t,n,r,i);break e}else for(va=uu(t.stateNode.containerInfo.firstChild),xa=t,Pn=!0,po=null,r=pO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(If(),n===i){t=ac(e,t,r);break e}Ns(e,t,n,r)}t=t.child}return t;case 5:return vO(t),e===null&&E3(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,b3(n,i)?o=null:s!==null&&b3(n,s)&&(t.flags|=32),$O(e,t),Ns(e,t,o,r),t.child;case 6:return e===null&&E3(t),null;case 13:return WO(e,t,r);case 4:return z6(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mf(t,null,n,r):Ns(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uo(n,i),fN(e,t,n,i,r);case 7:return Ns(e,t,t.pendingProps,r),t.child;case 8:return Ns(e,t,t.pendingProps.children,r),t.child;case 12:return Ns(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,xn(Cy,n._currentValue),n._currentValue=o,s!==null)if(Eo(s.value,o)){if(s.children===i.children&&!Xs.current){t=ac(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Jl(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),k3(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(gt(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),k3(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ns(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ef(t,r),i=Va(i),n=n(i),t.flags|=1,Ns(e,t,n,r),t.child;case 14:return n=t.type,i=uo(n,t.pendingProps),i=uo(n.type,i),pN(e,t,n,i,r);case 15:return zO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uo(n,i),Vv(e,t),t.tag=1,Zs(n)?(e=!0,ky(t)):e=!1,Ef(t,r),DO(t,n,i),A3(t,n,i,r),T3(null,t,n,!0,e,r);case 19:return qO(e,t,r);case 22:return UO(e,t,r)}throw Error(gt(156,t.tag))};function oI(e,t){return IP(e,t)}function gW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(e,t,r,n){return new gW(e,t,r,n)}function t8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vW(e){if(typeof e=="function")return t8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x6)return 11;if(e===w6)return 14}return 2}function pu(e,t){var r=e.alternate;return r===null?(r=$a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xv(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")t8(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cf:return Hd(r.children,i,s,t);case b6:o=8,i|=8;break;case Y5:return e=$a(12,r,t,i|2),e.elementType=Y5,e.lanes=s,e;case J5:return e=$a(13,r,t,i),e.elementType=J5,e.lanes=s,e;case Q5:return e=$a(19,r,t,i),e.elementType=Q5,e.lanes=s,e;case vP:return Ab(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mP:o=10;break e;case gP:o=9;break e;case x6:o=11;break e;case w6:o=14;break e;case Gc:o=16,n=null;break e}throw Error(gt(130,e==null?e:typeof e,""))}return t=$a(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Hd(e,t,r,n){return e=$a(7,e,n,t),e.lanes=r,e}function Ab(e,t,r,n){return e=$a(22,e,n,t),e.elementType=vP,e.lanes=r,e.stateNode={isHidden:!1},e}function Gx(e,t,r){return e=$a(6,e,null,t),e.lanes=r,e}function Kx(e,t,r){return t=$a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yW(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cx(0),this.expirationTimes=Cx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r8(e,t,r,n,i,s,o,a,l){return e=new yW(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$a(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},F6(s),e}function bW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lI(e){if(!e)return Su;e=e._reactInternals;e:{if(ch(e)!==e||e.tag!==1)throw Error(gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(e.tag===1){var r=e.type;if(Zs(r))return lO(e,r,t)}return t}function cI(e,t,r,n,i,s,o,a,l){return e=r8(r,n,!0,e,i,s,o,a,l),e.context=lI(null),r=e.current,n=js(),i=fu(r),s=Jl(n,i),s.callback=t??null,du(r,s,i),e.current.lanes=i,rg(e,i,n),Ys(e,n),e}function Cb(e,t,r,n){var i=t.current,s=js(),o=fu(i);return r=lI(r),t.context===null?t.context=r:t.pendingContext=r,t=Jl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=du(i,t,o),e!==null&&(bo(e,i,o,s),Hv(e,i,o)),o}function By(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n8(e,t){NN(e,t),(e=e.alternate)&&NN(e,t)}function xW(){return null}var uI=typeof reportError=="function"?reportError:function(e){console.error(e)};function i8(e){this._internalRoot=e}jb.prototype.render=i8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(gt(409));Cb(e,t,null,null)};jb.prototype.unmount=i8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eh(function(){Cb(null,e,null,null)}),t[ic]=null}};function jb(e){this._internalRoot=e}jb.prototype.unstable_scheduleHydration=function(e){if(e){var t=UP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zc.length&&t!==0&&t<Zc[r].priority;r++);Zc.splice(r,0,e),r===0&&HP(e)}};function s8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function AN(){}function wW(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=By(o);s.call(c)}}var o=cI(t,n,e,0,null,!1,!1,"",AN);return e._reactRootContainer=o,e[ic]=o.current,x0(e.nodeType===8?e.parentNode:e),eh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=By(l);a.call(c)}}var l=r8(e,0,!1,null,null,!1,!1,"",AN);return e._reactRootContainer=l,e[ic]=l.current,x0(e.nodeType===8?e.parentNode:e),eh(function(){Cb(t,l,r,n)}),l}function Rb(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=By(o);a.call(l)}}Cb(t,o,e,i)}else o=wW(r,t,e,i,n);return By(o)}FP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pm(t.pendingLanes);r!==0&&(E6(t,r|1),Ys(t,ai()),!(Xr&6)&&(Bf=ai()+500,Tu()))}break;case 13:eh(function(){var n=sc(e,1);if(n!==null){var i=js();bo(n,e,1,i)}}),n8(e,1)}};k6=function(e){if(e.tag===13){var t=sc(e,134217728);if(t!==null){var r=js();bo(t,e,134217728,r)}n8(e,134217728)}};zP=function(e){if(e.tag===13){var t=fu(e),r=sc(e,t);if(r!==null){var n=js();bo(r,e,t,n)}n8(e,t)}};UP=function(){return on};$P=function(e,t){var r=on;try{return on=e,t()}finally{on=r}};c3=function(e,t,r){switch(t){case"input":if(r3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wb(n);if(!i)throw Error(gt(90));bP(n),r3(n,i)}}}break;case"textarea":wP(e,r);break;case"select":t=r.value,t!=null&&xf(e,!!r.multiple,t,!1)}};CP=J6;jP=eh;var _W={usingClientEntryPoint:!1,Events:[ig,ff,wb,NP,AP,J6]},om={findFiberByHostInstance:Rd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SW={bundleType:om.bundleType,version:om.version,rendererPackageName:om.rendererPackageName,rendererConfig:om.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PP(e),e===null?null:e.stateNode},findFiberByHostInstance:om.findFiberByHostInstance||xW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L1.isDisabled&&L1.supportsFiber)try{vb=L1.inject(SW),rl=L1}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_W;_a.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s8(t))throw Error(gt(200));return bW(e,t,null,r)};_a.createRoot=function(e,t){if(!s8(e))throw Error(gt(299));var r=!1,n="",i=uI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=r8(e,1,!1,null,null,r,!1,n,i),e[ic]=t.current,x0(e.nodeType===8?e.parentNode:e),new i8(t)};_a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(gt(188)):(e=Object.keys(e).join(","),Error(gt(268,e)));return e=PP(t),e=e===null?null:e.stateNode,e};_a.flushSync=function(e){return eh(e)};_a.hydrate=function(e,t,r){if(!Tb(t))throw Error(gt(200));return Rb(null,e,t,!0,r)};_a.hydrateRoot=function(e,t,r){if(!s8(e))throw Error(gt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=uI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cI(t,null,e,1,r??null,i,!1,s,o),e[ic]=t.current,x0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jb(t)};_a.render=function(e,t,r){if(!Tb(t))throw Error(gt(200));return Rb(null,e,t,!1,r)};_a.unmountComponentAtNode=function(e){if(!Tb(e))throw Error(gt(40));return e._reactRootContainer?(eh(function(){Rb(null,null,e,!1,function(){e._reactRootContainer=null,e[ic]=null})}),!0):!1};_a.unstable_batchedUpdates=J6;_a.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tb(r))throw Error(gt(200));if(e==null||e._reactInternals===void 0)throw Error(gt(38));return Rb(e,t,r,!1,n)};_a.version="18.3.1-next-f1338f8080-20240426";function dI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dI)}catch(e){console.error(e)}}dI(),dP.exports=_a;var hI=dP.exports,fI,CN=hI;fI=CN.createRoot,CN.hydrateRoot;const EW="modulepreload",kW=function(e){return"/"+e},jN={},Ql=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=kW(l),l in jN)return;jN[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":EW,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},NW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>dp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class a8 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class AW extends a8{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class TN extends a8{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class RN extends a8{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $3;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($3||($3={}));var CW=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class jW{constructor(t,{headers:r={},customFetch:n,region:i=$3.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=NW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return CW(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(g=>{throw new AW(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new TN(h);if(!h.ok)throw new RN(h);let d=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield h.json():d==="application/octet-stream"?p=yield h.blob():d==="text/event-stream"?p=h:d==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof RN||i instanceof TN?i.context:void 0}}})}}var qs={},o8={},Pb={},ag={},Ob={},Ib={},TW=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ff=TW();const RW=Ff.fetch,pI=Ff.fetch.bind(Ff),mI=Ff.Headers,PW=Ff.Request,OW=Ff.Response,dp=Object.freeze(Object.defineProperty({__proto__:null,Headers:mI,Request:PW,Response:OW,default:pI,fetch:RW},Symbol.toStringTag,{value:"Module"})),IW=JU(dp);var Mb={};Object.defineProperty(Mb,"__esModule",{value:!0});let MW=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Mb.default=MW;var gI=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ib,"__esModule",{value:!0});const LW=gI(IW),DW=gI(Mb);let BW=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LW.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,c;let u=null,h=null,f=null,d=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,d=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(h=[],u=null,d=200,p="OK")}catch{s.status===404&&m===""?(d=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,p="OK"),u&&this.shouldThrowOnError)throw new DW.default(u)}return{error:u,data:h,count:f,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Ib.default=BW;var FW=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ob,"__esModule",{value:!0});const zW=FW(Ib);let UW=class extends zW.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ob.default=UW;var $W=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ag,"__esModule",{value:!0});const HW=$W(Ob);let WW=class extends HW.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ag.default=WW;var qW=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pb,"__esModule",{value:!0});const lm=qW(ag);let VW=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new lm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new lm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new lm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new lm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new lm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Pb.default=VW;var vI=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o8,"__esModule",{value:!0});const GW=vI(Pb),KW=vI(ag);let XW=class yI{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new GW.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=r);const u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new KW.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};o8.default=XW;var hp=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qs,"__esModule",{value:!0});qs.PostgrestError=qs.PostgrestBuilder=qs.PostgrestTransformBuilder=qs.PostgrestFilterBuilder=qs.PostgrestQueryBuilder=qs.PostgrestClient=void 0;const bI=hp(o8);qs.PostgrestClient=bI.default;const xI=hp(Pb);qs.PostgrestQueryBuilder=xI.default;const wI=hp(ag);qs.PostgrestFilterBuilder=wI.default;const _I=hp(Ob);qs.PostgrestTransformBuilder=_I.default;const SI=hp(Ib);qs.PostgrestBuilder=SI.default;const EI=hp(Mb);qs.PostgrestError=EI.default;var ZW=qs.default={PostgrestClient:bI.default,PostgrestQueryBuilder:xI.default,PostgrestFilterBuilder:wI.default,PostgrestTransformBuilder:_I.default,PostgrestBuilder:SI.default,PostgrestError:EI.default};const{PostgrestClient:YW,PostgrestQueryBuilder:Ige,PostgrestFilterBuilder:Mge,PostgrestTransformBuilder:Lge,PostgrestBuilder:Dge,PostgrestError:Bge}=ZW;class JW{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QW="2.15.5",eq=`realtime-js/${QW}`,tq="1.0.0",H3=1e4,rq=1e3,nq=100;var Gm;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gm||(Gm={}));var Ai;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ai||(Ai={}));var fo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fo||(fo={}));var W3;(function(e){e.websocket="websocket"})(W3||(W3={}));var jd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jd||(jd={}));class iq{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class kI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bn||(bn={}));const PN=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=sq(o,e,t,i),s),{})},sq=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?NI(s,o):q3(o)},NI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cq(t,r)}switch(e){case bn.bool:return aq(t);case bn.float4:case bn.float8:case bn.int2:case bn.int4:case bn.int8:case bn.numeric:case bn.oid:return oq(t);case bn.json:case bn.jsonb:return lq(t);case bn.timestamp:return uq(t);case bn.abstime:case bn.date:case bn.daterange:case bn.int4range:case bn.int8range:case bn.money:case bn.reltime:case bn.text:case bn.time:case bn.timestamptz:case bn.timetz:case bn.tsrange:case bn.tstzrange:return q3(t);default:return q3(t)}},q3=e=>e,aq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cq=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>NI(t,a))}return e},uq=e=>typeof e=="string"?e.replace(" ","T"):e,AI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xx{constructor(t,r,n={},i=H3){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ON;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ON||(ON={}));class Km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Km.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Km.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Km.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const f=u.map(m=>m.presence_ref),d=h.map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0),g=h.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IN||(IN={}));var Xm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xm||(Xm={}));var Fl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fl||(Fl={}));class l8{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ai.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xx(this,fo.join,this.params,this.timeout),this.rejoinTimer=new kI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ai.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ai.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fo.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Km(this),this.broadcastEndpointURL=AI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ai.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Xm.PRESENCE]&&this.bindings[Xm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(Fl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Fl.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(Fl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let y=0;y<m;y++){const x=g[y],{filter:{event:w,schema:_,table:M,filter:U}}=x,L=d&&d[y];if(L&&L.event===w&&L.schema===_&&L.table===M&&L.filter===U)v.push(Object.assign(Object.assign({},x),{id:L.id}));else{this.unsubscribe(),this.state=Ai.errored,t==null||t(Fl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Fl.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ai.errored,t==null||t(Fl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ai.joined&&t===Xm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ai.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xx(this,fo.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ai.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xx(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=fo;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var p,g,m;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=d.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(d=>d.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var p,g,m,v,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const w=d.id,_=(p=d.filter)===null||p===void 0?void 0:p.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const w=(y=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:v,type:y,errors:x}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}d.callback(f,n)})}_isClosed(){return this.state===Ai.closed}_isJoined(){return this.state===Ai.joined}_isJoining(){return this.state===Ai.joining}_isLeaving(){return this.state===Ai.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&l8.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fo.close,{},t)}_onError(t){this._on(fo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ai.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=PN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=PN(t.columns,t.old_record)),r}}const Zx=()=>{},D1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dq=[1e3,2e3,5e3,1e4],hq=1e4,fq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H3,this.transport=null,this.heartbeatIntervalMs=D1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zx,this.ref=0,this.reconnectTimer=null,this.logger=Zx,this.conn=null,this.sendBuffer=[],this.serializer=new iq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Ql(async()=>{const{default:a}=await Promise.resolve().then(()=>dp);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${W3.websocket}`,this.httpEndpoint=AI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tq}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gm.connecting:return jd.Connecting;case Gm.open:return jd.Open;case Gm.closing:return jd.Closing;default:return jd.Closed}}isConnected(){return this.connectionState()===jd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new l8(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},D1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:eq};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(fo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},D1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,a,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:H3,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:D1.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Zx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>dq[h-1]||hq,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class c8 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ci(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mq extends c8{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V3 extends c8{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var gq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>dp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vq=()=>gq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ql(()=>Promise.resolve().then(()=>dp),void 0)).Response:Response}),G3=e=>{if(Array.isArray(e))return e.map(r=>G3(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=G3(n)}),t},yq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var uh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Yx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bq=(e,t,r)=>uh(void 0,void 0,void 0,function*(){const n=yield vq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new mq(Yx(i),s,o))}).catch(i=>{t(new V3(Yx(i),i))}):t(new V3(Yx(e),e))}),xq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(yq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function og(e,t,r,n,i,s){return uh(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,xq(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bq(l,a,n))})})}function Fy(e,t,r,n){return uh(this,void 0,void 0,function*(){return og(e,"GET",t,r,n)})}function qo(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return og(e,"POST",t,n,i,r)})}function K3(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return og(e,"PUT",t,n,i,r)})}function wq(e,t,r,n){return uh(this,void 0,void 0,function*(){return og(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jI(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return og(e,"DELETE",t,n,i,r)})}var Es=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const _q={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sq{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=CI(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Es(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},MN),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(t=="PUT"?K3:qo)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ci(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Es(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Es(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:MN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield K3(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ci(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Es(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield qo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new c8("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}update(t,r,n){return Es(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Es(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Es(this,void 0,void 0,function*(){try{return{data:{path:(yield qo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Es(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield qo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Es(this,void 0,void 0,function*(){try{const i=yield qo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}download(t,r){return Es(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Fy(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ci(a))return{data:null,error:a};throw a}})}info(t){return Es(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:G3(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}exists(t){return Es(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n)&&n instanceof V3){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Es(this,void 0,void 0,function*(){try{return{data:yield jI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}list(t,r,n){return Es(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_q),r),{prefix:t||""});return{data:yield qo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ci(i))return{data:null,error:i};throw i}})}listV2(t,r){return Es(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield qo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Eq="2.12.1",kq={"X-Client-Info":`storage-js/${Eq}`};var Dh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Nq{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},kq),r),this.fetch=CI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Dh(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ci(t))return{data:null,error:t};throw t}})}getBucket(t){return Dh(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Dh(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Dh(this,void 0,void 0,function*(){try{return{data:yield K3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Dh(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Dh(this,void 0,void 0,function*(){try{return{data:yield jI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}}class Aq extends Nq{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Sq(this.url,this.headers,t,this.fetch)}}const Cq="2.57.4";let Im="";typeof Deno<"u"?Im="deno":typeof document<"u"?Im="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Im="react-native":Im="node";const jq={"X-Client-Info":`supabase-js-${Im}/${Cq}`},Tq={headers:jq},Rq={schema:"public"},Pq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oq={};var Iq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Mq=e=>{let t;return e?t=e:typeof fetch>"u"?t=pI:t=fetch,(...r)=>t(...r)},Lq=()=>typeof Headers>"u"?mI:Headers,Dq=(e,t,r)=>{const n=Mq(r),i=Lq();return(s,o)=>Iq(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var Bq=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Fq(e){return e.endsWith("/")?e:e+"/"}function zq(e,t){var r,n;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Bq(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Uq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TI="2.71.1",rf=30*1e3,X3=3,Jx=X3*rf,$q="http://localhost:9999",Hq="supabase.auth.token",Wq={"X-Client-Info":`gotrue-js/${TI}`},Z3="X-Supabase-Api-Version",RI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vq=10*60*1e3;class u8 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Sr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gq extends u8{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Kq(e){return Sr(e)&&e.name==="AuthApiError"}class PI extends u8{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ru extends u8{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Vc extends Ru{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xq(e){return Sr(e)&&e.name==="AuthSessionMissingError"}class B1 extends Ru{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class F1 extends Ru{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class z1 extends Ru{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zq(e){return Sr(e)&&e.name==="AuthImplicitGrantRedirectError"}class LN extends Ru{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y3 extends Ru{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qx(e){return Sr(e)&&e.name==="AuthRetryableFetchError"}class DN extends Ru{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class J3 extends Ru{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BN=` 	
\r=`.split(""),Yq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BN.length;t+=1)e[BN[t].charCodeAt(0)]=-2;for(let t=0;t<zy.length;t+=1)e[zy[t].charCodeAt(0)]=t;return e})();function FN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zy[n]),t.queuedBits-=6}}function OI(e,t,r){const n=Yq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{eV(o,n,r)};for(let o=0;o<e.length;o+=1)OI(e.charCodeAt(o),i,s);return t.join("")}function Jq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Qq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Jq(n,t)}}function eV(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tV(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)OI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function rV(e){const t=[];return Qq(e,r=>t.push(r)),new Uint8Array(t)}function nV(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>FN(i,r,n)),FN(null,r,n),t.join("")}function iV(e){return Math.round(Date.now()/1e3)+e}function sV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const co=()=>typeof window<"u"&&typeof document<"u",md={tested:!1,writable:!1},II=()=>{if(!co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(md.tested)return md.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),md.tested=!0,md.writable=!0}catch{md.tested=!0,md.writable=!1}return md.writable};function aV(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const MI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>dp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},oV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dc=async(e,t)=>{await e.removeItem(t)};class Lb{constructor(){this.promise=new Lb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lb.promiseConstructor=Promise;function ew(e){const t=e.split(".");if(t.length!==3)throw new J3("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qq.test(t[n]))throw new J3("JWT not in base64url format");return{header:JSON.parse(zN(t[0])),payload:JSON.parse(zN(t[1])),signature:tV(t[2]),raw:{header:t[0],payload:t[1]}}}async function lV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cV(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function uV(e){return("0"+e.toString(16)).substr(-2)}function dV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,uV).join("")}async function hV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function fV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bh(e,t,r=!1){const n=dV();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await nf(e,`${t}-code-verifier`,i);const s=await fV(n);return[s,n===s?"plain":"s256"]}const pV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mV(e){const t=e.headers.get(Z3);if(!t||!t.match(pV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fh(e){if(!yV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UN(e){return JSON.parse(JSON.stringify(e))}var bV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const kd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xV=[502,503,504];async function $N(e){var t;if(!oV(e))throw new Y3(kd(e),0);if(xV.includes(e.status))throw new Y3(kd(e),e.status);let r;try{r=await e.json()}catch(s){throw new PI(kd(s),s)}let n;const i=mV(e);if(i&&i.getTime()>=RI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new DN(kd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new DN(kd(r),e.status,r.weak_password.reasons);throw new Gq(kd(r),e.status||500,n)}const wV=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Br(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Z3]||(s[Z3]=RI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _V(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _V(e,t,r,n,i,s){const o=wV(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Y3(kd(l),0)}if(a.ok||await $N(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $N(l)}}function Ll(e){var t;let r=null;NV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iV(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HN(e){const t=Ll(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SV(e){return{data:e,error:null}}function EV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=bV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function kV(e){return e}function NV(e){return e.access_token&&e.refresh_token&&e.expires_in}const rw=["global","local","others"];var AV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class CV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=rw[0]){if(rw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rw.join(", ")}`);try{return await Br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Br(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jc})}catch(n){if(Sr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=AV(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EV,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Sr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Br(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jc})}catch(r){if(Sr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:kV});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Sr(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Fh(t);try{return await Br(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jc})}catch(r){if(Sr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fh(t);try{return await Br(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jc})}catch(n){if(Sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fh(t);try{return await Br(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jc})}catch(n){if(Sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fh(t.userId);try{const{data:r,error:n}=await Br(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Sr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fh(t.userId),Fh(t.id);try{return{data:await Br(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}}}function WN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function jV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zh={debug:!!(globalThis&&II()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TV extends LI{}async function RV(e,t,r){zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jV();const PV={url:$q,storageKey:Hq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qN(e,t,r){return await r()}const Uh={};class j0{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=j0.nextInstanceID,j0.nextInstanceID+=1,this.instanceID>0&&co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PV),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CV({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=MI(i.fetch),this.lock=i.lock||qN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:co()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RV:this.lock=qN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:II()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WN(this.memoryStorage)),co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Uh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Uh[this.storageKey]=Object.assign(Object.assign({},Uh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Uh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uh[this.storageKey]=Object.assign(Object.assign({},Uh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=aV(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),co()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Zq(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Sr(r)?{error:r}:{error:new PI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ll}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Sr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:u,password:h,options:f}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Bh(this.storage,this.storageKey)),s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},xform:Ll})}else if("phone"in t){const{phone:u,password:h,options:f}=t;s=await Br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ll})}else throw new F1("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Sr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await Br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HN})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await Br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HN})}else throw new F1("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new B1}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,a,l,c,u,h,f,d;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:x}=t;let w;if(co())if(typeof v=="object")w=v;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))w=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const M=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let U;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")U=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)U=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)p=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),g=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const M=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=M}}try{const{data:m,error:v}=await Br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:nV(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ll});if(v)throw v;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new B1}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:v})}catch(m){if(Sr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const r=await gd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ll});if(await Dc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new B1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Sr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await Br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ll}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new B1}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Bh(this.storage,this.storageKey));const{error:h}=await Br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new F1("You must provide either an email or phone number.")}catch(a){if(Sr(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ll});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Sr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Bh(this.storage,this.storageKey)),await Br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:SV})}catch(s){if(Sr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vc;const{error:i}=await Br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Sr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await Br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new F1("You must provide either an email or phone number and a type")}catch(r){if(Sr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await gd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=tw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vc}:await Br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Jc})})}catch(r){if(Sr(r))return Xq(r)&&(await this._removeSession(),await Dc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Vc;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Bh(this.storage,this.storageKey));const{data:c,error:u}=await Br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Jc});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Sr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=ew(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Sr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Sr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!co())throw new z1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new z1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new z1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LN("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new z1("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=rf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:m}=await this._getUser(s);if(m)throw m;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Sr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Kq(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Dc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=sV(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Bh(this.storage,this.storageKey,!0));try{return await Br(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Sr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:f}=s;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Br(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return co()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Sr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Br(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Sr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cV(async i=>(i>0&&await lV(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ll})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Qx(s)&&Date.now()+o-n<rf})}catch(n){if(this._debug(r,"error",n),Sr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),co()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await gd(this.storage,this.storageKey);if(i&&this.userStorage){let o=await gd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await nf(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:tw()}else if(i&&!i.user&&!i.user){const o=await gd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Dc(this.storage,this.storageKey+"-user"),await nf(this.storage,this.storageKey,i)):i.user=tw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jx;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Jx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Qx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lb;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Vc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Sr(s)){const o={session:null,error:s};return Qx(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=UN(i);await nf(this.storage,this.storageKey,s)}else{const i=UN(r);await nf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Dc(this.storage,this.storageKey),await Dc(this.storage,this.storageKey+"-code-verifier"),await Dc(this.storage,this.storageKey+"-user"),this.userStorage&&await Dc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&co()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/rf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rf}ms, refresh threshold is ${X3} ticks`),i<=X3&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!co()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Bh(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Br(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Sr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Br(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Sr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await Br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ew(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Vq>i)return n;const{data:s,error:o}=await Br(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:d,error:p}=await this.getSession();if(p||!d.session)return{data:null,error:p};n=d.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=ew(n);r!=null&&r.allowExpired||gV(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:s,header:i,signature:o},error:null}}const u=vV(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,rV(`${a}.${l}`)))throw new J3("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}}}j0.nextInstanceID=0;const OV=j0;class IV extends OV{constructor(t){super(t)}}var MV=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class LV{constructor(t,r,n){var i,s,o;this.supabaseUrl=t,this.supabaseKey=r;const a=Uq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Rq,realtime:Oq,auth:Object.assign(Object.assign({},Pq),{storageKey:l}),global:Tq},u=zq(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Dq(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new YW(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Aq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new jW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return MV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IV({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DV=(e,t,r)=>new LV(e,t,r);function BV(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}BV()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DI="https://etyrsvklkspnyjhcphcn.supabase.co",FV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0eXJzdmtsa3NwbnlqaGNwaGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMDExMDQsImV4cCI6MjA3NTU3NzEwNH0.9lT6AZ3gk7zsRFE1rcMWchJ_MHtjOe5sJEAxIg5DV7I";console.log("✅ Supabase initialized successfully from environment variables");console.log("🔗 Connected to:",DI);const He=DV(DI,FV),BI=Me.createContext(void 0),Is=()=>{const e=Me.useContext(BI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},zV=({children:e})=>{const[t,r]=Me.useState(null),[n,i]=Me.useState(null),[s,o]=Me.useState(!0);Me.useEffect(()=>{He.auth.getSession().then(({data:{session:h}})=>{i(h),r((h==null?void 0:h.user)??null),o(!1)});const{data:{subscription:u}}=He.auth.onAuthStateChange((h,f)=>{(async()=>(i(f),r((f==null?void 0:f.user)??null),o(!1)))()});return()=>u.unsubscribe()},[]);const a=async(u,h)=>{const{error:f}=await He.auth.signInWithPassword({email:u,password:h});if(f)throw f},l=async(u,h,f)=>{const{data:d,error:p}=await He.auth.signUp({email:u,password:h});if(p)throw p;if(d.user){const{error:g}=await He.from("users_profile").insert({id:d.user.id,full_name:f,role:"user"});if(g)throw g}},c=async()=>{try{console.log("Attempting to sign out...");const{error:u}=await He.auth.signOut();if(u)throw console.error("Supabase signOut error:",u),u;console.log("Supabase signOut successful, clearing state..."),r(null),i(null)}catch(u){console.error("Sign out error:",u),r(null),i(null)}};return b.jsx(BI.Provider,{value:{user:t,session:n,loading:s,signIn:a,signUp:l,signOut:c},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),bt=(e,t)=>{const r=Me.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>Me.createElement("svg",{ref:u,...UV,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$V(e)}`,a].join(" "),...c},[...t.map(([h,f])=>Me.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=bt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=bt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=bt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=bt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=bt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=bt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=bt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=bt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=bt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=bt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=bt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=bt("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=bt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=bt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=bt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=bt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=bt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=bt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=bt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=bt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=bt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=bt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=bt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=bt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=bt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=bt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=bt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=bt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=bt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=bt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=bt("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=bt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=bt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=bt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=bt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=bt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=bt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=bt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=bt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=bt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=bt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=bt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=bt("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=bt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=bt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=bt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=bt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),bG=()=>{const[e,t]=Me.useState("checking"),[r,n]=Me.useState("");return Me.useEffect(()=>{t("connected"),n(`Connected to ${"https://etyrsvklkspnyjhcphcn.supabase.co".replace("https://","").split(".")[0]}...supabase.co`)},[]),e==="checking"?b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[b.jsx(ol,{size:14}),b.jsx("span",{children:"Checking connection..."})]}):e==="disconnected"?b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[b.jsx($f,{size:14}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold",children:"Not Connected"}),b.jsx("p",{children:r})]})]}):b.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-3 py-2 rounded-lg text-xs flex items-center gap-2",children:[b.jsx(br,{size:14}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold",children:"Connected"}),b.jsx("p",{children:r})]})]})},xG=()=>{const[e,t]=Me.useState(!1),[r,n]=Me.useState(""),[i,s]=Me.useState(""),[o,a]=Me.useState(""),[l,c]=Me.useState(""),[u,h]=Me.useState(!1),[f,d]=Me.useState(!1),{signIn:p,signUp:g}=Is(),m=async v=>{var y,x,w;v.preventDefault(),c(""),h(!0);try{e?await g(r,i,o):await p(r,i)}catch(_){console.error("Authentication error:",_);let M="An error occurred";(y=_.message)!=null&&y.includes("fetch")?M="Unable to connect to the server. Please check your connection and try again.":(x=_.message)!=null&&x.includes("Invalid login credentials")?M="Invalid email or password. Please try again.":(w=_.message)!=null&&w.includes("Email not confirmed")?M="Please check your email and confirm your account.":_.message&&(M=_.message),c(M)}finally{h(!1)}};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-cyan-100 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md",children:[b.jsx("div",{className:"flex items-center justify-center mb-6",children:b.jsx("img",{src:"/3 cats with blue and company name.png",alt:"OllieShip Consulting OÜ",className:"h-24 w-auto object-contain"})}),b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-800 mb-2",children:"OllieProcess"}),b.jsx("p",{className:"text-center text-slate-600 mb-4",children:e?"Create your account":"Sign in to continue"}),b.jsx("div",{className:"mb-6",children:b.jsx(bG,{})}),b.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx("input",{id:"fullName",type:"text",value:o,onChange:v=>a(v.target.value),required:e,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:r,onChange:v=>n(v.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:i,onChange:v=>s(v.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),l&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{children:l}),l.includes("Unable to connect")&&b.jsx("button",{type:"button",onClick:()=>d(!f),className:"text-red-600 hover:text-red-800 text-xs underline ml-2",children:f?"Hide Help":"Help?"})]}),f&&l.includes("Unable to connect")&&b.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 text-xs",children:[b.jsx("p",{className:"font-semibold mb-2",children:"Troubleshooting Connection Issues:"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[b.jsx("li",{children:"The development server may need to be restarted"}),b.jsx("li",{children:"Check if Supabase environment variables are loaded"}),b.jsx("li",{children:"Verify your internet connection is stable"}),b.jsx("li",{children:"Check browser console (F12) for detailed errors"})]}),b.jsxs("p",{className:"mt-2 text-red-600",children:[b.jsx("strong",{children:"Quick Fix:"})," Restart the dev server to reload environment variables"]})]})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Please wait...":e?"Create Account":"Sign In"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{type:"button",onClick:()=>{t(!e),c("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})},ZN={init:()=>{document.addEventListener("keydown",YN)},destroy:()=>{document.removeEventListener("keydown",YN)}},YN=e=>{var t,r;if(e.altKey||e.metaKey||e.ctrlKey)switch(e.key.toLowerCase()){case"h":e.preventDefault(),JN("dashboard");break;case"n":e.preventDefault(),(t=document.querySelector('[aria-label="Notifications"]'))==null||t.click();break;case"s":e.preventDefault(),JN("settings");break;case"/":e.preventDefault(),(r=document.querySelector('input[type="search"]'))==null||r.focus();break;case"?":e.preventDefault(),EG();break}e.key==="Escape"&&(wG(),_G()),e.key==="Tab"&&SG()},JN=e=>{const t=document.querySelector(`[data-module-id="${e}"]`);t==null||t.click()},wG=()=>{document.querySelectorAll('[role="dialog"]').forEach(t=>{const r=t.querySelector('[aria-label="Close"]');r==null||r.click()})},_G=()=>{var e;(e=document.activeElement)==null||e.blur()},SG=()=>{document.body.classList.add("keyboard-navigating")},EG=()=>{var r;const e=[{keys:"Alt + H",action:"Go to Dashboard"},{keys:"Alt + N",action:"Open Notifications"},{keys:"Alt + S",action:"Open Settings"},{keys:"Alt + /",action:"Focus Search"},{keys:"Alt + ?",action:"Show this help"},{keys:"Tab",action:"Navigate forward"},{keys:"Shift + Tab",action:"Navigate backward"},{keys:"Enter",action:"Activate focused element"},{keys:"Escape",action:"Close dialogs/clear focus"},{keys:"Arrow Keys",action:"Navigate lists"}],t=document.createElement("div");t.setAttribute("role","dialog"),t.setAttribute("aria-label","Keyboard Shortcuts"),t.className="fixed inset-0 bg-black/50 flex items-center justify-center z-50",t.innerHTML=`
    <div class="bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold text-slate-800">Keyboard Shortcuts</h2>
        <button
          class="p-2 hover:bg-slate-100 rounded-lg"
          aria-label="Close"
          onclick="this.closest('[role=dialog]').remove()"
        >
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"/>
          </svg>
        </button>
      </div>
      <div class="grid grid-cols-2 gap-4">
        ${e.map(n=>`
          <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
            <span class="text-sm text-slate-600">${n.action}</span>
            <kbd class="px-3 py-1 bg-white border border-slate-300 rounded text-sm font-mono text-slate-700">${n.keys}</kbd>
          </div>
        `).join("")}
      </div>
      <p class="text-sm text-slate-500 mt-4">
        Press <kbd class="px-2 py-1 bg-slate-100 rounded text-xs">Esc</kbd> to close this dialog
      </p>
    </div>
  `,document.body.appendChild(t),t.addEventListener("click",n=>{n.target===t&&t.remove()}),(r=t.querySelector("button"))==null||r.focus()};class kG{constructor(){this.synth=null,this.enabled=!1,this.rate=1,this.pitch=1,this.volume=1,this.voice=null,this.queue=[],this.isSpeaking=!1,typeof window<"u"&&"speechSynthesis"in window?(this.synth=window.speechSynthesis,this.loadVoices(),this.synth&&(this.synth.onvoiceschanged=()=>{this.loadVoices()})):console.warn("Speech Synthesis not supported in this browser")}loadVoices(){if(!this.synth)return;const t=this.synth.getVoices();this.voice=t.find(r=>r.lang.startsWith("en"))||t[0]||null}isSupported(){return this.synth!==null}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t,t||this.stop(),t&&this.synth&&this.speak("Screen reader enabled")}setRate(t){this.rate=Math.max(.1,Math.min(10,t))}setPitch(t){this.pitch=Math.max(0,Math.min(2,t))}setVolume(t){this.volume=Math.max(0,Math.min(1,t))}setVoice(t){if(!this.synth)return;const r=this.synth.getVoices();this.voice=r.find(n=>n.name===t)||this.voice}getVoices(){return this.synth?this.synth.getVoices():[]}speak(t,r="normal"){if(!this.enabled||!this.synth||!t.trim())return;const n=this.cleanText(t);r==="high"?(this.stop(),this.speakNow(n)):r==="normal"?this.isSpeaking?this.queue.push(n):this.speakNow(n):(this.queue.push(n),this.isSpeaking||this.processQueue())}cleanText(t){return t.replace(/<[^>]*>/g,"").replace(/&[^;]+;/g," ").replace(/\s+/g," ").trim()}speakNow(t){if(!this.synth)return;const r=new SpeechSynthesisUtterance(t);r.rate=this.rate,r.pitch=this.pitch,r.volume=this.volume,this.voice&&(r.voice=this.voice),this.isSpeaking=!0,r.onend=()=>{this.isSpeaking=!1,this.processQueue()},r.onerror=n=>{console.error("Speech synthesis error:",n),this.isSpeaking=!1,this.processQueue()},this.synth.speak(r)}processQueue(){if(this.queue.length>0&&!this.isSpeaking){const t=this.queue.shift();t&&this.speakNow(t)}}stop(){this.synth&&(this.synth.cancel(),this.queue=[],this.isSpeaking=!1)}pause(){this.synth&&this.synth.pause()}resume(){this.synth&&this.synth.resume()}announceNavigation(t){this.speak(`Navigated to ${t}`,"normal")}announceNotification(t,r){this.speak(`New notification: ${t}. ${r}`,"high")}announceButton(t){this.speak(`${t} button`,"low")}announceAction(t){this.speak(t,"normal")}announceError(t){this.speak(`Error: ${t}`,"high")}announceSuccess(t){this.speak(`Success: ${t}`,"normal")}announceFormField(t,r){const n=r?`${t}, ${r}`:t;this.speak(n,"low")}announceModalOpen(t){this.speak(`Dialog opened: ${t}`,"normal")}announceModalClose(){this.speak("Dialog closed","low")}announcePageLoad(t){this.speak(`Page loaded: ${t}`,"normal")}describeElement(t){var i;const r=t.getAttribute("role")||t.tagName.toLowerCase(),n=t.getAttribute("aria-label")||t.getAttribute("title")||((i=t.textContent)==null?void 0:i.substring(0,100))||"unlabeled element";this.speak(`${r}: ${n}`,"low")}}const U1=new kG,NG=({searchTerm:e,onSearchChange:t,filters:r,activeFilters:n,onFilterChange:i,onClearFilters:s})=>{const o=Object.values(n).some(a=>a!==""&&a!==null);return b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 space-y-4",children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx(h8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),b.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:a=>t(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.length>0&&b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(HI,{size:20,className:"text-slate-400"}),b.jsx("span",{className:"text-sm text-slate-600",children:"Filters"})]})]}),r.length>0&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.map(a=>{var l;return b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:a.label}),a.type==="select"?b.jsxs("select",{value:n[a.name]||"",onChange:c=>i(a.name,c.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"",children:"All"}),(l=a.options)==null?void 0:l.map(c=>b.jsx("option",{value:c.value,children:c.label},c.value))]}):a.type==="date"?b.jsx("input",{type:"date",value:n[a.name]||"",onChange:c=>i(a.name,c.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):null]},a.name)}),o&&b.jsx("div",{className:"flex items-end",children:b.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx(ll,{size:16}),"Clear"]})})]})]})},AG=({selectedIds:e,totalCount:t,onSelectAll:r,onDeselectAll:n,onBulkDelete:i,onBulkStatusChange:s,statusOptions:o})=>{const a=e.length,l=a===t&&t>0;return a===0?null:b.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:l?n:r,className:"flex items-center gap-2 text-blue-700 hover:text-blue-800 transition-colors",children:[l?b.jsx(zI,{size:20}):b.jsx(f8,{size:20}),b.jsxs("span",{className:"font-medium",children:[a," selected"]})]}),!l&&t>a&&b.jsxs("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-700 underline",children:["Select all ",t]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[s&&o&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(d8,{size:16,className:"text-slate-600"}),b.jsxs("select",{onChange:c=>s(c.target.value),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[b.jsx("option",{value:"",disabled:!0,children:"Change status..."}),o.map(c=>b.jsx("option",{value:c.value,children:c.label},c.value))]})]}),b.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[b.jsx(Bb,{size:16}),"Delete"]})]})]})},CG=({data:e,filename:t,columns:r})=>{const[n,i]=Me.useState(!1),s=()=>{const a=r.map(f=>f.label).join(","),l=e.map(f=>r.map(d=>{const p=f[d.key];return p==null?"":`"${String(p).replace(/"/g,'""')}"`}).join(",")),c=[a,...l].join(`
`),u=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download=`${t}.csv`,h.click(),i(!1)},o=()=>{const a=JSON.stringify(e,null,2),l=new Blob([a],{type:"application/json"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`${t}.json`,c.click(),i(!1)};return b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[b.jsx(I0,{size:20}),"Export"]}),n&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-20",children:[b.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-slate-700 hover:bg-slate-50 transition-colors",children:[b.jsx(JV,{size:18,className:"text-green-600"}),b.jsx("span",{children:"Export as CSV"})]}),b.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-slate-700 hover:bg-slate-50 transition-colors",children:[b.jsx(Ii,{size:18,className:"text-blue-600"}),b.jsx("span",{children:"Export as JSON"})]})]})]})]})},jG=async e=>{try{const{data:{session:t}}=await He.auth.getSession();if(!t)return console.error("No active session for email sending"),!1;const n=await fetch("https://etyrsvklkspnyjhcphcn.supabase.co/functions/v1/send-email",{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();return console.error("Email send failed:",s),!1}const i=await n.json();return console.log("Email sent:",i),!0}catch(t){return console.error("Error sending email:",t),!1}},TG={notification:(e,t,r)=>({subject:e,html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .button { display: inline-block; background: #3b82f6; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">${e}</h1>
            </div>
            <div class="content">
              <p>${t}</p>
              ${r?`<a href="${r}" class="button">View Details</a>`:""}
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
              <p>This is an automated notification. Please do not reply to this email.</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`${e}

${t}${r?`

View details: ${r}`:""}`}),approval:(e,t,r,n)=>({subject:`Approval Required: ${e}`,html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .info-box { background: white; padding: 15px; border-left: 4px solid #f59e0b; margin: 20px 0; }
            .button { display: inline-block; background: #f59e0b; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">⚠️ Approval Required</h1>
            </div>
            <div class="content">
              <p>A new ${e} requires your approval.</p>
              <div class="info-box">
                <strong>${e}:</strong> ${t}<br>
                <strong>Requested by:</strong> ${r}
              </div>
              <p>Please review and take action on this approval request.</p>
              ${n?`<a href="${n}" class="button">Review & Approve</a>`:""}
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`Approval Required: ${e}

${e}: ${t}
Requested by: ${r}

Please review and take action.${n?`

Review: ${n}`:""}`}),welcome:e=>({subject:"Welcome to BPO Management Platform",html:`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; }
            .content { background: #f9fafb; padding: 30px; border-radius: 0 0 8px 8px; }
            .features { list-style: none; padding: 0; }
            .features li { padding: 10px 0; border-bottom: 1px solid #e5e7eb; }
            .button { display: inline-block; background: #10b981; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin-top: 20px; }
            .footer { text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1 style="margin: 0;">🎉 Welcome to BPO Platform</h1>
            </div>
            <div class="content">
              <p>Hi ${e},</p>
              <p>Welcome to the BPO Management Platform! Your account has been successfully created.</p>
              <p>Here's what you can do:</p>
              <ul class="features">
                <li>📊 Manage processes and workflows</li>
                <li>📈 Track KPIs and performance metrics</li>
                <li>👥 Collaborate with your team</li>
                <li>📝 Create and manage SOPs</li>
                <li>🔄 Handle change initiatives</li>
              </ul>
            </div>
            <div class="footer">
              <p>BPO Management Platform</p>
            </div>
          </div>
        </body>
      </html>
    `,text:`Welcome to BPO Management Platform!

Hi ${e},

Your account has been successfully created. You can now manage processes, track KPIs, collaborate with your team, and more.`})},RG=async(e,t,r,n)=>{const i=TG.notification(t,r,n);return jG({to:e,...i})},$1=async e=>{const{userId:t,title:r,message:n,type:i="info",link:s,sendEmail:o=!1}=e,{error:a}=await He.from("notifications").insert({user_id:t,title:r,message:n,type:i,link:s});if(a){console.error("Failed to create notification:",a);return}if(o)try{const{data:l}=await He.from("users_profile").select("email").eq("id",t).maybeSingle();l!=null&&l.email&&await RG(l.email,r,n,s)}catch(l){console.error("Failed to send email notification:",l)}},cm={success:(e,t,r,n)=>$1({userId:e,title:t,message:r,type:"success",link:n}),error:(e,t,r,n)=>$1({userId:e,title:t,message:r,type:"error",link:n}),warning:(e,t,r,n)=>$1({userId:e,title:t,message:r,type:"warning",link:n}),info:(e,t,r,n)=>$1({userId:e,title:t,message:r,type:"info",link:n})},PG=({module:e})=>{const{user:t}=Is(),[r,n]=Me.useState([]),[i,s]=Me.useState(null);return Me.useEffect(()=>{if(!t)return;let o,a;const l=async()=>{const{data:h}=await He.from("users_profile").select("full_name").eq("id",t.id).maybeSingle(),f=(h==null?void 0:h.full_name)||t.email||"Anonymous",{data:d,error:p}=await He.from("active_users").insert({user_id:t.id,user_name:f,module:e,last_seen:new Date().toISOString()}).select().single();if(p){console.error("Error creating presence:",p);return}d&&s(d.id),c(),a=setInterval(async()=>{d!=null&&d.id&&await He.from("active_users").update({last_seen:new Date().toISOString()}).eq("id",d.id),u()},1e4),o=He.channel(`presence:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"active_users",filter:`module=eq.${e}`},()=>{c()}).subscribe()},c=async()=>{const{data:h}=await He.from("active_users").select("*").eq("module",e).neq("user_id",t.id).gte("last_seen",new Date(Date.now()-3e4).toISOString());h&&n(h)},u=async()=>{await He.from("active_users").delete().lt("last_seen",new Date(Date.now()-3e4).toISOString()),c()};return l(),()=>{i&&He.from("active_users").delete().eq("id",i),a&&clearInterval(a),o&&He.removeChannel(o)}},[t,e]),r.length===0?null:b.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[b.jsx(gu,{className:"w-4 h-4 text-green-600"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-sm text-green-800 font-medium",children:[r.length," ",r.length===1?"person":"people"," active"]}),b.jsxs("div",{className:"flex -space-x-2",children:[r.slice(0,3).map(o=>b.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-xs font-semibold border-2 border-white",title:o.user_name,children:o.user_name.charAt(0).toUpperCase()},o.id)),r.length>3&&b.jsxs("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-xs font-semibold border-2 border-white",children:["+",r.length-3]})]})]})]})},OG=e=>()=>{var C;const{user:t}=Is(),[r,n]=Me.useState([]),[i,s]=Me.useState(!0),[o,a]=Me.useState(!1),[l,c]=Me.useState(null),[u,h]=Me.useState(""),[f,d]=Me.useState({}),[p,g]=Me.useState([]),[m,v]=Me.useState(null),[y,x]=Me.useState(()=>{const D={};return e.fields.forEach(z=>{D[z.name]=z.defaultValue||""}),D});Me.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:D,error:z}=await He.from(e.tableName).select("*").order("created_at",{ascending:!1});if(z)throw z;D&&n(D)}catch(D){console.error("Error loading data:",D)}finally{s(!1)}},_=Me.useMemo(()=>{let D=[...r];if(u){const z=u.toLowerCase();D=D.filter(P=>e.fields.filter(K=>K.searchable!==!1).some(K=>{const Z=P[K.name];return Z&&String(Z).toLowerCase().includes(z)}))}return Object.entries(f).forEach(([z,P])=>{P&&(D=D.filter(K=>K[z]===P))}),m&&D.sort((z,P)=>{const K=z[m.field],Z=P[m.field];if(K===Z)return 0;const te=K<Z?-1:1;return m.direction==="asc"?te:-te}),D},[r,u,f,m]),M=(D,z)=>{d(P=>({...P,[D]:z}))},U=()=>{d({}),h("")},L=D=>{g(z=>z.includes(D)?z.filter(P=>P!==D):[...z,D])},O=()=>{g(_.map(D=>D.id))},H=()=>{g([])},G=async()=>{if(confirm(`Delete ${p.length} items?`))try{await He.from(e.tableName).delete().in("id",p),t!=null&&t.id&&await cm.info(t.id,"Bulk Delete Completed",`Successfully deleted ${p.length} ${e.title.toLowerCase()} item(s)`),g([]),w()}catch(D){console.error("Error deleting:",D),t!=null&&t.id&&await cm.error(t.id,"Bulk Delete Failed","Failed to delete items")}},I=async D=>{if(e.statusField)try{await He.from(e.tableName).update({[e.statusField]:D}).in("id",p),g([]),w()}catch(z){console.error("Error updating status:",z)}},R=async D=>{D.preventDefault();try{const z={...y};if(e.ownerField&&!l&&(z[e.ownerField]=t==null?void 0:t.id),l){const{error:P}=await He.from(e.tableName).update(z).eq("id",l);if(P)throw P;t!=null&&t.id&&await cm.success(t.id,`${e.title} Updated`,`Successfully updated ${e.title.toLowerCase()}`)}else{const{error:P}=await He.from(e.tableName).insert(z);if(P)throw P;t!=null&&t.id&&await cm.success(t.id,`${e.title} Created`,`Successfully created new ${e.title.toLowerCase()}`)}k(),w()}catch(z){console.error("Error saving:",z),alert(z.message),t!=null&&t.id&&await cm.error(t.id,`Error Saving ${e.title}`,z.message)}},S=D=>{c(D.id);const z={};e.fields.forEach(P=>{z[P.name]=D[P.name]||P.defaultValue||""}),x(z),a(!0)},j=async D=>{if(confirm("Delete this item?"))try{await He.from(e.tableName).delete().eq("id",D),w()}catch(z){console.error("Error deleting:",z)}},k=()=>{const D={};e.fields.forEach(z=>{D[z.name]=z.defaultValue||""}),x(D),a(!1),c(null)};if(i)return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const E=e.displayFields.map(D=>{var z;return{key:D,label:((z=e.fields.find(P=>P.name===D))==null?void 0:z.label)||D}}),A=e.statusField?(C=e.fields.find(D=>D.name===e.statusField))==null?void 0:C.options:void 0;return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:e.title}),b.jsx("p",{className:"text-slate-600 mt-1",children:e.description})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex gap-3",children:[b.jsx(CG,{data:_,filename:e.tableName,columns:E}),b.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[b.jsx(M0,{size:20}),"New"]})]}),b.jsx(PG,{module:e.tableName})]})]}),b.jsx(NG,{searchTerm:u,onSearchChange:h,filters:e.filters||[],activeFilters:f,onFilterChange:M,onClearFilters:U}),p.length>0&&b.jsx(AG,{selectedIds:p,totalCount:_.length,onSelectAll:O,onDeselectAll:H,onBulkDelete:G,onBulkStatusChange:e.statusField?I:void 0,statusOptions:A}),o&&b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[l?"Edit":"Create"," ",e.title]}),b.jsx("button",{onClick:k,className:"text-slate-400 hover:text-slate-600 transition-colors",children:b.jsx(ll,{size:20})})]}),b.jsxs("form",{onSubmit:R,className:"space-y-4",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.fields.map(D=>{var z;return b.jsxs("div",{className:D.type==="textarea"?"md:col-span-2":"",children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[D.label,D.required&&b.jsx("span",{className:"text-red-500",children:"*"})]}),D.type==="select"?b.jsxs("select",{value:y[D.name],onChange:P=>x({...y,[D.name]:P.target.value}),required:D.required,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"",children:"Select..."}),(z=D.options)==null?void 0:z.map(P=>b.jsx("option",{value:P.value,children:P.label},P.value))]}):D.type==="textarea"?b.jsx("textarea",{value:y[D.name],onChange:P=>x({...y,[D.name]:P.target.value}),required:D.required,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):b.jsx("input",{type:D.type,value:y[D.name],onChange:P=>x({...y,[D.name]:P.target.value}),required:D.required,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},D.name)})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[b.jsx(Gl,{size:20}),l?"Update":"Create"]}),b.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(D=>b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[b.jsx("button",{onClick:()=>L(D.id),className:"mt-1 text-slate-400 hover:text-blue-600 transition-colors",children:p.includes(D.id)?b.jsx(zI,{size:20,className:"text-blue-600"}):b.jsx(f8,{size:20})}),b.jsxs("div",{className:"flex-1 space-y-3",children:[e.displayFields.map(z=>{const P=e.fields.find(K=>K.name===z);return b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:(P==null?void 0:P.label)||z}),b.jsx("p",{className:"text-slate-800 font-medium",children:D[z]||"N/A"})]},z)}),e.statusField&&D[e.statusField]&&b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Status"}),b.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:D[e.statusField]})]})]})]}),b.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[b.jsxs("button",{onClick:()=>S(D),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:[b.jsx(d8,{size:16}),"Edit"]}),b.jsx("button",{onClick:()=>j(D.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm",children:b.jsx(Bb,{size:16})})]})]},D.id))}),_.length===0&&!o&&b.jsx("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-slate-300",children:b.jsx("p",{className:"text-slate-600",children:r.length===0?"No items yet. Create your first one!":"No items match your search criteria."})})]})},IG=()=>{const[e,t]=Me.useState({processes:0,activeProcesses:0,completedTasks:0,pendingApprovals:0,bottlenecks:0,improvements:0}),[r,n]=Me.useState([]),[i,s]=Me.useState(!0);Me.useEffect(()=>{o()},[]);const o=async()=>{var h,f;try{const[d,p,g,m,v]=await Promise.all([He.from("processes").select("id",{count:"exact",head:!0}),He.from("processes").select("id",{count:"exact",head:!0}).eq("status","active"),He.from("tasks").select("id",{count:"exact",head:!0}).eq("status","completed"),He.from("approvals").select("id",{count:"exact",head:!0}).eq("status","pending"),He.from("improvements").select("id",{count:"exact",head:!0})]);t({processes:d.count||0,activeProcesses:p.count||0,completedTasks:g.count||0,pendingApprovals:m.count||0,bottlenecks:0,improvements:v.count||0});const[y,x]=await Promise.all([He.from("processes").select("id, name, created_at").order("created_at",{ascending:!1}).limit(3),He.from("improvements").select("id, title, created_at").order("created_at",{ascending:!1}).limit(3)]),w=[];(h=y.data)==null||h.forEach(_=>{w.push({id:_.id,title:_.name,type:"Process Created",time:a(_.created_at),icon:b.jsx(Fb,{size:18}),color:"bg-blue-100 text-blue-600"})}),(f=x.data)==null||f.forEach(_=>{w.push({id:_.id,title:_.title,type:"Improvement Proposed",time:a(_.created_at),icon:b.jsx(Ts,{size:18}),color:"bg-green-100 text-green-600"})}),w.sort((_,M)=>M.time.localeCompare(_.time)),n(w.slice(0,5))}catch(d){console.error("Error loading dashboard data:",d)}finally{s(!1)}},a=h=>{const f=new Date(h),p=new Date().getTime()-f.getTime(),g=Math.floor(p/6e4),m=Math.floor(g/60),v=Math.floor(m/24);return v>0?`${v}d ago`:m>0?`${m}h ago`:g>0?`${g}m ago`:"Just now"},l=[{label:"Total Processes",value:e.processes,change:"+12%",trend:"up",icon:b.jsx(Wd,{size:24}),gradient:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-600"},{label:"Active Processes",value:e.activeProcesses,change:"+8%",trend:"up",icon:b.jsx(GI,{size:24}),gradient:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-600"},{label:"Completed Tasks",value:e.completedTasks,change:"+23%",trend:"up",icon:b.jsx(br,{size:24}),gradient:"from-teal-500 to-teal-600",bgColor:"bg-teal-50",textColor:"text-teal-600"},{label:"Pending Approvals",value:e.pendingApprovals,change:"+5%",trend:"up",icon:b.jsx(as,{size:24}),gradient:"from-amber-500 to-amber-600",bgColor:"bg-amber-50",textColor:"text-amber-600"},{label:"Process Improvements",value:e.improvements,change:"+15%",trend:"up",icon:b.jsx(Ts,{size:24}),gradient:"from-cyan-500 to-cyan-600",bgColor:"bg-cyan-50",textColor:"text-cyan-600"},{label:"Bottlenecks Detected",value:e.bottlenecks,change:"-3%",trend:"down",icon:b.jsx(xo,{size:24}),gradient:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-600"}],c=[{title:"Process Automation Opportunity",description:"AI identified 3 manual processes that can be fully automated to save 40% execution time",icon:b.jsx(ns,{className:"text-yellow-600",size:20}),action:"Review Now",priority:"high"},{title:"Bottleneck Detection",description:'Approval step in "Order Processing" is causing 2-day delays. Consider parallel routing',icon:b.jsx(il,{className:"text-red-600",size:20}),action:"Optimize",priority:"high"},{title:"Process Efficiency Insight",description:"Customer Onboarding process efficiency improved by 35% after recent optimization",icon:b.jsx(Ts,{className:"text-green-600",size:20}),action:"View Details",priority:"medium"},{title:"Compliance Alert",description:"2 processes need documentation updates to meet new compliance requirements",icon:b.jsx(xo,{className:"text-amber-600",size:20}),action:"Update",priority:"medium"}],u=[{title:"Process Performance Review",date:"Tomorrow",type:"Meeting"},{title:"Quarterly Process Audit",date:"In 3 days",type:"Audit"},{title:"Process Mapping Workshop",date:"Next Week",type:"Training"},{title:"Optimization Sprint Planning",date:"Next Week",type:"Planning"}];return i?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Process Management Dashboard"}),b.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor, analyze, and optimize your business processes."})]}),b.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[b.jsx(vo,{size:18}),b.jsx("span",{className:"font-medium",children:"AI Insights"})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((h,f)=>b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("div",{className:`${h.bgColor} p-3 rounded-xl`,children:b.jsx("div",{className:h.textColor,children:h.icon})}),b.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${h.trend==="up"?"text-green-600":"text-red-600"}`,children:[h.trend==="up"?b.jsx(WV,{size:16}):b.jsx(HV,{size:16}),h.change]})]}),b.jsx("p",{className:"text-slate-600 text-sm font-medium mb-1",children:h.label}),b.jsx("p",{className:"text-3xl font-bold text-slate-800",children:h.value}),b.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:`h-full bg-gradient-to-r ${h.gradient} rounded-full`,style:{width:"70%"}})})]},f))}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(vo,{className:"text-slate-600",size:24}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"AI-Powered Insights"})]}),b.jsx("span",{className:"text-xs font-medium px-3 py-1 bg-slate-100 text-slate-700 rounded-full",children:"Powered by AI"})]}),b.jsx("div",{className:"space-y-4",children:c.map((h,f)=>b.jsx("div",{className:`p-4 rounded-lg border-l-4 ${h.priority==="high"?"bg-amber-50 border-amber-600":"bg-slate-50 border-slate-500"} hover:shadow-md transition-shadow`,children:b.jsxs("div",{className:"flex items-start justify-between gap-4",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx("div",{className:"mt-1",children:h.icon}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:h.title}),b.jsx("p",{className:"text-sm text-slate-600",children:h.description})]})]}),b.jsx("button",{className:"px-4 py-2 bg-white hover:bg-slate-100 text-slate-800 font-medium text-sm rounded-lg border border-slate-300 transition-colors whitespace-nowrap shadow-sm",children:h.action})]})},f))})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(as,{className:"text-slate-600",size:20}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activity"})]}),b.jsx("div",{className:"space-y-3",children:r.length>0?r.map((h,f)=>b.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors cursor-pointer",children:[b.jsx("div",{className:`${h.color} p-2 rounded-lg`,children:h.icon}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:h.title}),b.jsx("p",{className:"text-xs text-slate-500",children:h.type})]}),b.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:h.time})]},f)):b.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No recent activity"})})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(GV,{className:"text-slate-600",size:20}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Upcoming"})]}),b.jsx("div",{className:"space-y-3",children:u.map((h,f)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors cursor-pointer",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-medium text-slate-800",children:h.title}),b.jsx("p",{className:"text-xs text-slate-500",children:h.type})]}),b.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-blue-100 text-blue-700 rounded",children:h.date})]},f))})]})]})]}),b.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-8 text-white",children:b.jsx("div",{className:"flex items-start justify-between",children:b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx(T0,{size:24}),b.jsx("h3",{className:"text-xl font-bold",children:"Process Performance Summary"})]}),b.jsx("p",{className:"text-blue-100 mb-4",children:"Your processes are performing excellently with 92% efficiency and 87% automation rate. Continue optimizing with AI-powered recommendations."}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[b.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Process Efficiency"}),b.jsx("p",{className:"text-2xl font-bold",children:"92%"})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[b.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Automation Rate"}),b.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[b.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Compliance Score"}),b.jsx("p",{className:"text-2xl font-bold",children:"95%"})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[b.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"On-Time Completion"}),b.jsx("p",{className:"text-2xl font-bold",children:"89%"})]})]})]})})})]})},MG=OG({title:"Process Mapping",description:"Document and manage business processes",tableName:"process_mapping",ownerField:"owner_id",statusField:"status",fields:[{name:"process_name",label:"Process Name",type:"text",required:!0,searchable:!0},{name:"description",label:"Description",type:"textarea",searchable:!0},{name:"department",label:"Department",type:"text",required:!0,searchable:!0},{name:"category",label:"Category",type:"select",required:!0,options:[{value:"core",label:"Core"},{value:"support",label:"Support"},{value:"management",label:"Management"}]},{name:"complexity",label:"Complexity",type:"select",required:!0,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]},{name:"status",label:"Status",type:"select",defaultValue:"draft",options:[{value:"draft",label:"Draft"},{value:"review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}]},{name:"cycle_time",label:"Cycle Time (hours)",type:"number"},{name:"last_review_date",label:"Last Review Date",type:"date"}],displayFields:["process_name","department","category"],filters:[{name:"status",label:"Status",type:"select",options:[{value:"draft",label:"Draft"},{value:"review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}]},{name:"category",label:"Category",type:"select",options:[{value:"core",label:"Core"},{value:"support",label:"Support"},{value:"management",label:"Management"}]},{name:"complexity",label:"Complexity",type:"select",options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]}]});async function lg(e,t=.7,r=4e3){throw new Error("OpenAI API key is not configured. Please add VITE_OPENAI_API_KEY to your .env file.")}async function LG(e){const t=[{role:"system",content:"You are an expert business process analyst. Analyze the provided process document and extract structured information about the business process. Return your analysis as valid JSON only, no additional text."},{role:"user",content:`Analyze this process document and extract:
1. Process name
2. Process description (2-3 sentences)
3. All process steps in order with descriptions
4. All roles/actors involved
5. All inputs required
6. All outputs produced
7. Any decision points with options

Document text:
${e}

Return valid JSON in this exact format:
{
  "processName": "string",
  "processDescription": "string",
  "steps": [{"name": "string", "description": "string", "order": number}],
  "roles": ["string"],
  "inputs": ["string"],
  "outputs": ["string"],
  "decisions": [{"question": "string", "options": ["string"]}]
}`}],r=await lg(t,.3);return JSON.parse(r)}async function DG(e){const t=[{role:"system",content:"You are an expert in BPMN 2.0 (Business Process Model and Notation). Generate valid BPMN XML from process descriptions. Include proper swimlanes for different roles, sequence flows, gateways for decisions, and follow BPMN best practices."},{role:"user",content:`Generate a complete BPMN 2.0 XML diagram from this process analysis:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps)}
Roles: ${JSON.stringify(e.roles)}
Decisions: ${JSON.stringify(e.decisions)}

Requirements:
1. Create swimlanes (lanes) for each role
2. Use proper BPMN elements: startEvent, task, exclusiveGateway, endEvent
3. Connect elements with sequenceFlow
4. Place tasks in appropriate swimlanes
5. Use gateways for decision points
6. Include proper IDs and names
7. Return ONLY valid BPMN 2.0 XML, no markdown or explanations

Return the complete BPMN XML starting with <?xml version="1.0"?>`}];return await lg(t,.2,6e3)}async function BG(e,t){const r=[{role:"system",content:"You are an expert technical writer specializing in Standard Operating Procedures (SOPs). Create comprehensive, clear, and actionable SOPs that follow industry best practices."},{role:"user",content:`Create a detailed Standard Operating Procedure (SOP) for this process:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}
Inputs: ${JSON.stringify(e.inputs)}
Outputs: ${JSON.stringify(e.outputs)}

Create a comprehensive SOP with these sections:

1. PURPOSE
   - Clear objective statement
   - Why this SOP exists

2. SCOPE
   - What is covered
   - What is not covered
   - Who this applies to

3. DEFINITIONS
   - Key terms and acronyms

4. RESPONSIBILITIES
   - Role-specific responsibilities
   - Who does what

5. PROCEDURE
   - Detailed step-by-step instructions
   - Include decision points
   - Specify inputs/outputs for each step
   - Include quality checkpoints

6. REFERENCES
   - Related documents
   - System references

7. REVISION HISTORY
   - Version 1.0 - Initial creation

Format the SOP professionally with clear headings and numbered steps.`}];return await lg(r,.4)}async function FG(e){const t=[{role:"system",content:"You are an expert in organizational structure and RACI matrices. Create clear, actionable RACI (Responsible, Accountable, Consulted, Informed) matrices that define roles and responsibilities."},{role:"user",content:`Generate a comprehensive RACI matrix for this process:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}

Create a RACI matrix that:
1. Lists each process step/activity
2. For each step, assign RACI codes to each role:
   - R (Responsible): Does the work
   - A (Accountable): Final authority, only ONE per activity
   - C (Consulted): Provides input
   - I (Informed): Kept updated

3. Include sub-processes where applicable
4. Ensure each activity has exactly ONE Accountable role
5. Format as a clear table

RACI MATRIX FORMAT:
Activity | ${e.roles.join(" | ")}
---
[For each step, show the RACI assignment]

Add explanatory notes at the end explaining key decision points and handoffs.`}];return await lg(t,.3)}async function zG(e){const t=[{role:"system",content:"You are an expert risk management consultant specializing in operational risk assessment and control design. Identify realistic risks and design effective controls."},{role:"user",content:`Analyze this business process and create a comprehensive Risk and Control Matrix:

Process: ${e.processName}
Description: ${e.processDescription}
Steps: ${JSON.stringify(e.steps,null,2)}
Roles: ${JSON.stringify(e.roles)}

For this process, identify:

1. KEY RISKS (at least 5-8 realistic risks):
   - Operational risks
   - Compliance risks
   - Quality risks
   - Security risks
   - Timing/SLA risks

2. For EACH risk, provide:
   - Risk Name
   - Risk Description
   - Risk Category (Operational/Compliance/Quality/Security/Financial)
   - Likelihood (High/Medium/Low)
   - Impact (High/Medium/Low)
   - Risk Score (High/Medium/Low)

3. For EACH risk, design CONTROLS:
   - Control Description (specific, actionable)
   - Control Type (Preventive/Detective/Corrective)
   - Control Owner (role responsible)
   - Implementation Method
   - Testing Frequency

4. MITIGATION STRATEGIES:
   - Additional risk mitigation steps
   - Contingency plans
   - Escalation procedures

Format as a professional Risk and Control Matrix with clear sections and tables.`}];return await lg(t,.4)}async function UG(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=async i=>{var o;const s=(o=i.target)==null?void 0:o.result;e.type==="text/plain"||e.name.endsWith(".txt")?t(s):e.type==="application/pdf"||e.name.endsWith(".pdf")?t(`[PDF Content from ${e.name}]

This is a placeholder for PDF text extraction. In production, this would use a PDF parsing library to extract the actual text content from the PDF file.

For now, please describe your process, and I'll analyze it.`):t(`[Document from ${e.name}]

Document type: ${e.type}
Size: ${(e.size/1024).toFixed(2)} KB

This document has been uploaded. Please provide a description of the process it contains, and I'll help analyze it.`)},n.onerror=()=>r(new Error("Failed to read file")),e.type.startsWith("text/")?n.readAsText(e):n.readAsDataURL(e)})}async function $G(e,t){if(e.size>26214400)throw new Error("File size must be less than 25MB");if(!["application/pdf","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.visio","application/vnd.ms-visio.drawing"].includes(e.type))throw new Error("File type must be PDF, PPTX, DOCX, or VSDX");const i=(await He.auth.getUser()).data.user;if(!i)throw new Error("User not authenticated");const s=e.name.split(".").pop(),o=`process-docs/${Date.now()}_${e.name}`,{error:a}=await He.storage.from("documents").upload(o,e);if(a)throw a.message.includes("tenant config")?new Error("Storage service is not fully configured. Please contact your administrator to enable Supabase Storage for this project."):a;const{data:{publicUrl:l}}=He.storage.from("documents").getPublicUrl(o),{data:c,error:u}=await He.from("process_documents").insert({process_id:t,document_name:e.name,document_type:(s==null?void 0:s.toUpperCase())||"UNKNOWN",file_size_mb:e.size/(1024*1024),storage_path:o,storage_url:l,uploaded_by:i.id}).select().single();if(u)throw u;return c.id}async function HG(e){let t=He.from("process_documents").select(`
      *,
      uploader:uploaded_by (
        email
      )
    `).order("uploaded_at",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return(r||[]).map(i=>{var s;return{...i,uploader_email:((s=i.uploader)==null?void 0:s.email)||"Unknown"}})}async function WG(e,t){try{await He.from("process_documents").update({parsing_status:"parsing"}).eq("id",e);let r="";if(t)r=await UG(t);else{const{data:i}=await He.from("process_documents").select("storage_url").eq("id",e).single();r=`Document stored at: ${i==null?void 0:i.storage_url}. Please analyze based on document type and content.`}const n=await LG(r);return await He.from("process_documents").update({parsing_status:"completed",parsed_at:new Date().toISOString(),parsed_data:n}).eq("id",e),n}catch(r){throw await He.from("process_documents").update({parsing_status:"failed"}).eq("id",e),r}}async function qG(e){try{const{data:t}=await He.from("process_documents").select("parsed_data, document_name").eq("id",e).single();if(!(t!=null&&t.parsed_data))throw new Error("Document must be parsed before converting to BPMN");const r=t.parsed_data,n=await DG(r);return await He.from("process_documents").update({bpmn_generated:!0,bpmn_xml:n}).eq("id",e),await He.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"bpmn",artifact_name:`BPMN Diagram: ${r.processName||t.document_name}`,artifact_data:{content:n,format:"xml"},generation_method:"openai",confidence_score:95}),n}catch(t){throw console.error("Error converting to BPMN:",t),t}}async function XI(e,t,r){const n=(await He.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{data:i,error:s}=await He.from("document_approvals").insert({document_type:e,document_id:t,version_id:r,requested_by:n.id,current_status:"pending"}).select().single();if(s)throw s;return i.id}async function VG(e,t){const r=(await He.auth.getUser()).data.user;if(!r)throw new Error("User not authenticated");const{error:n}=await He.from("document_approvals").update({current_status:"approved",approved_by:r.id,approved_at:new Date().toISOString(),comments:t}).eq("id",e);if(n)throw n}async function GG(e,t,r){const n=(await He.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{error:i}=await He.from("document_approvals").update({current_status:"rejected",rejected_by:n.id,rejected_at:new Date().toISOString(),rejection_reason:t,comments:r}).eq("id",e);if(i)throw i}async function KG(e,t,r){try{const{data:n}=await He.from("process_documents").select("parsed_data").eq("id",e).single(),i=(n==null?void 0:n.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[],inputs:[],outputs:[]},s=await BG(i,r),{data:o,error:a}=await He.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"sop",artifact_name:`SOP: ${t}`,artifact_data:{content:s},generation_method:"openai",confidence_score:92}).select().single();if(a)throw a;return o.id}catch(n){throw console.error("Error generating SOP:",n),n}}async function XG(e,t){try{const{data:r}=await He.from("process_documents").select("parsed_data").eq("id",e).single(),n=(r==null?void 0:r.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[]},i=await FG(n),{data:s,error:o}=await He.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"raci",artifact_name:`RACI Matrix: ${t}`,artifact_data:{content:i},generation_method:"openai",confidence_score:90}).select().single();if(o)throw o;return s.id}catch(r){throw console.error("Error generating RACI matrix:",r),r}}async function ZG(e,t){try{const{data:r}=await He.from("process_documents").select("parsed_data").eq("id",e).single(),n=(r==null?void 0:r.parsed_data)||{processName:t,processDescription:"Process description not available",steps:[],roles:[]},i=await zG(n),{data:s,error:o}=await He.from("generated_artifacts").insert({source_type:"process",source_id:e,artifact_type:"risk_control",artifact_name:`Risk & Control Matrix: ${t}`,artifact_data:{content:i},generation_method:"openai",confidence_score:88}).select().single();if(o)throw o;return s.id}catch(r){throw console.error("Error generating risk controls:",r),r}}async function YG(e,t){let r=He.from("generated_artifacts").select("*").eq("source_id",e).order("created_at",{ascending:!1});const{data:n,error:i}=await r;if(i)throw i;return n||[]}async function t4(e,t,r,n,i){const s=(await He.auth.getUser()).data.user;if(!s)throw new Error("User not authenticated");const{data:o,error:a}=await He.from("sop_versions").insert({sop_id:e,version_number:t,title:r,content:n,change_summary:i,created_by:s.id}).select().single();if(a)throw a;return o.id}async function JG(e){let t=He.from("document_approvals").select("*").eq("current_status","pending").order("requested_at",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return r||[]}function an(e){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}var ko=Uint8Array,ya=Uint16Array,m8=Int32Array,g8=new ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v8=new ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),QN=new ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZI=function(e,t){for(var r=new ya(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new m8(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},YI=ZI(g8,2),QG=YI.b,r4=YI.r;QG[28]=258,r4[258]=28;var eK=ZI(v8,0),e7=eK.r,n4=new ya(32768);for(var kn=0;kn<32768;++kn){var Bc=(kn&43690)>>1|(kn&21845)<<1;Bc=(Bc&52428)>>2|(Bc&13107)<<2,Bc=(Bc&61680)>>4|(Bc&3855)<<4,n4[kn]=((Bc&65280)>>8|(Bc&255)<<8)>>1}var Zm=function(e,t,r){for(var n=e.length,i=0,s=new ya(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new ya(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new ya(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],h=o[e[i]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)a[n4[h]>>l]=c}else for(a=new ya(n),i=0;i<n;++i)e[i]&&(a[i]=n4[o[e[i]-1]++]>>15-e[i]);return a},th=new ko(288);for(var kn=0;kn<144;++kn)th[kn]=8;for(var kn=144;kn<256;++kn)th[kn]=9;for(var kn=256;kn<280;++kn)th[kn]=7;for(var kn=280;kn<288;++kn)th[kn]=8;var Wy=new ko(32);for(var kn=0;kn<32;++kn)Wy[kn]=5;var tK=Zm(th,9,0),rK=Zm(Wy,5,0),JI=function(e){return(e+7)/8|0},nK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ko(e.subarray(t,r))},Pl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},um=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},aw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:eM,l:0};if(i==1){var o=new ko(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,M){return _.f-M.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var d=new ya(f+1),p=i4(r[u-1],d,0);if(p>t){var n=0,g=0,m=p-t,v=1<<m;for(s.sort(function(M,U){return d[U.s]-d[M.s]||M.f-U.f});n<i;++n){var y=s[n].s;if(d[y]>t)g+=v-(1<<p-d[y]),d[y]=t;else break}for(g>>=m;g>0;){var x=s[n].s;d[x]<t?g-=1<<t-d[x]++-1:++n}for(;n>=0&&g;--n){var w=s[n].s;d[w]==t&&(--d[w],++g)}p=t}return{t:new ko(d),l:p}},i4=function(e,t,r){return e.s==-1?Math.max(i4(e.l,t,r+1),i4(e.r,t,r+1)):t[e.s]=r},t7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ya(++t),n=0,i=e[0],s=1,o=function(l){r[n++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:r.subarray(0,n),n:t}},dm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},QI=function(e,t,r){var n=r.length,i=JI(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},r7=function(e,t,r,n,i,s,o,a,l,c,u){Pl(t,u++,r),++i[256];for(var h=aw(i,15),f=h.t,d=h.l,p=aw(s,15),g=p.t,m=p.l,v=t7(f),y=v.c,x=v.n,w=t7(g),_=w.c,M=w.n,U=new ya(19),L=0;L<y.length;++L)++U[y[L]&31];for(var L=0;L<_.length;++L)++U[_[L]&31];for(var O=aw(U,7),H=O.t,G=O.l,I=19;I>4&&!H[QN[I-1]];--I);var R=c+5<<3,S=dm(i,th)+dm(s,Wy)+o,j=dm(i,f)+dm(s,g)+o+14+3*I+dm(U,H)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&R<=S&&R<=j)return QI(t,u,e.subarray(l,l+c));var k,E,A,C;if(Pl(t,u,1+(j<S)),u+=2,j<S){k=Zm(f,d,0),E=f,A=Zm(g,m,0),C=g;var D=Zm(H,G,0);Pl(t,u,x-257),Pl(t,u+5,M-1),Pl(t,u+10,I-4),u+=14;for(var L=0;L<I;++L)Pl(t,u+3*L,H[QN[L]]);u+=3*I;for(var z=[y,_],P=0;P<2;++P)for(var K=z[P],L=0;L<K.length;++L){var Z=K[L]&31;Pl(t,u,D[Z]),u+=H[Z],Z>15&&(Pl(t,u,K[L]>>5&127),u+=K[L]>>12)}}else k=tK,E=th,A=rK,C=Wy;for(var L=0;L<a;++L){var te=n[L];if(te>255){var Z=te>>18&31;um(t,u,k[Z+257]),u+=E[Z+257],Z>7&&(Pl(t,u,te>>23&31),u+=g8[Z]);var q=te&31;um(t,u,A[q]),u+=C[q],q>3&&(um(t,u,te>>5&8191),u+=v8[q])}else um(t,u,k[te]),u+=E[te]}return um(t,u,k[256]),u+E[256]},iK=new m8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eM=new ko(0),sK=function(e,t,r,n,i,s){var o=s.z||e.length,a=new ko(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var h=iK[t-1],f=h>>13,d=h&8191,p=(1<<r)-1,g=s.p||new ya(32768),m=s.h||new ya(p+1),v=Math.ceil(r/3),y=2*v,x=function(B){return(e[B]^e[B+1]<<v^e[B+2]<<y)&p},w=new m8(25e3),_=new ya(288),M=new ya(32),U=0,L=0,O=s.i||0,H=0,G=s.w||0,I=0;O+2<o;++O){var R=x(O),S=O&32767,j=m[R];if(g[S]=j,m[R]=S,G<=O){var k=o-O;if((U>7e3||H>24576)&&(k>423||!c)){u=r7(e,l,0,w,_,M,L,H,I,O-I,u),H=U=L=0,I=O;for(var E=0;E<286;++E)_[E]=0;for(var E=0;E<30;++E)M[E]=0}var A=2,C=0,D=d,z=S-j&32767;if(k>2&&R==x(O-z))for(var P=Math.min(f,k)-1,K=Math.min(32767,O),Z=Math.min(258,k);z<=K&&--D&&S!=j;){if(e[O+A]==e[O+A-z]){for(var te=0;te<Z&&e[O+te]==e[O+te-z];++te);if(te>A){if(A=te,C=z,te>P)break;for(var q=Math.min(z,te-2),$=0,E=0;E<q;++E){var N=O-z+E&32767,T=g[N],V=N-T&32767;V>$&&($=V,j=N)}}}S=j,j=g[S],z+=S-j&32767}if(C){w[H++]=268435456|r4[A]<<18|e7[C];var J=r4[A]&31,re=e7[C]&31;L+=g8[J]+v8[re],++_[257+J],++M[re],G=O+A,++U}else w[H++]=e[O],++_[e[O]]}}for(O=Math.max(O,G);O<o;++O)w[H++]=e[O],++_[e[O]];u=r7(e,l,c,w,_,M,L,H,I,O-I,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=O,s.w=G)}else{for(var O=s.w||0;O<o+c;O+=65535){var se=O+65535;se>=o&&(l[u/8|0]=c,se=o),u=QI(l,u+1,e.subarray(O,se))}s.i=o}return nK(a,0,n+JI(u)+i)},tM=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},aK=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new ko(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return sK(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},rM=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},oK=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=tM();i.p(t.dictionary),rM(e,2,i.d())}};function s4(e,t){t||(t={});var r=tM();r.p(e);var n=aK(e,t,t.dictionary?6:2,4);return oK(n,t),rM(n,n.length-4,r.d()),n}var lK=typeof TextDecoder<"u"&&new TextDecoder,cK=0;try{lK.decode(eM,{stream:!0}),cK=1}catch{}function uK(e){if(Array.isArray(e))return e}function dK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function n7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hK(e,t){if(e){if(typeof e=="string")return n7(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n7(e,t):void 0}}function fK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(e,t){return uK(e)||dK(e,t)||hK(e,t)||fK()}function s7(e,t="utf8"){return new TextDecoder(t).decode(e)}const pK=new TextEncoder;function mK(e){return pK.encode(e)}const gK=1024*8,vK=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),ow={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class y8{constructor(t=gK,r={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof y8)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=ow[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===vK&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new ow[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new ow[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return s7(this.readBytes(t))}decodeText(t=1,r="utf8"){return s7(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(mK(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const yK=4,a7=0,o7=1,bK=2;function fp(e){let t=e.length;for(;--t>=0;)e[t]=0}const xK=0,nM=1,wK=2,_K=3,SK=258,b8=29,cg=256,L0=cg+1+b8,Nf=30,x8=19,iM=2*L0+1,Id=15,lw=16,EK=7,w8=256,sM=16,aM=17,oM=18,a4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Zv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kK=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),lM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NK=512,Ul=new Array((L0+2)*2);fp(Ul);const Ym=new Array(Nf*2);fp(Ym);const D0=new Array(NK);fp(D0);const B0=new Array(SK-_K+1);fp(B0);const _8=new Array(b8);fp(_8);const qy=new Array(Nf);fp(qy);function cw(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let cM,uM,dM;function uw(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const hM=e=>e<256?D0[e]:D0[256+(e>>>7)],F0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Gs=(e,t,r)=>{e.bi_valid>lw-r?(e.bi_buf|=t<<e.bi_valid&65535,F0(e,e.bi_buf),e.bi_buf=t>>lw-e.bi_valid,e.bi_valid+=r-lw):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Jo=(e,t,r)=>{Gs(e,r[t*2],r[t*2+1])},fM=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},AK=e=>{e.bi_valid===16?(F0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},CK=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,f,d,p,g=0;for(f=0;f<=Id;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<iM;c++)u=e.heap[c],f=r[r[u*2+1]*2+1]+1,f>l&&(f=l,g++),r[u*2+1]=f,!(u>n)&&(e.bl_count[f]++,d=0,u>=a&&(d=o[u-a]),p=r[u*2],e.opt_len+=p*(f+d),s&&(e.static_len+=p*(i[u*2+1]+d)));if(g!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(f=l;f!==0;f--)for(u=e.bl_count[f];u!==0;)h=e.heap[--c],!(h>n)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),u--)}},pM=(e,t,r)=>{const n=new Array(Id+1);let i=0,s,o;for(s=1;s<=Id;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=fM(n[a]++,a))}},jK=()=>{let e,t,r,n,i;const s=new Array(Id+1);for(r=0,n=0;n<b8-1;n++)for(_8[n]=r,e=0;e<1<<a4[n];e++)B0[r++]=n;for(B0[r-1]=n,i=0,n=0;n<16;n++)for(qy[n]=i,e=0;e<1<<Zv[n];e++)D0[i++]=n;for(i>>=7;n<Nf;n++)for(qy[n]=i<<7,e=0;e<1<<Zv[n]-7;e++)D0[256+i++]=n;for(t=0;t<=Id;t++)s[t]=0;for(e=0;e<=143;)Ul[e*2+1]=8,e++,s[8]++;for(;e<=255;)Ul[e*2+1]=9,e++,s[9]++;for(;e<=279;)Ul[e*2+1]=7,e++,s[7]++;for(;e<=287;)Ul[e*2+1]=8,e++,s[8]++;for(pM(Ul,L0+1,s),e=0;e<Nf;e++)Ym[e*2+1]=5,Ym[e*2]=fM(e,5);cM=new cw(Ul,a4,cg+1,L0,Id),uM=new cw(Ym,Zv,0,Nf,Id),dM=new cw(new Array(0),kK,0,x8,EK)},mM=e=>{let t;for(t=0;t<L0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Nf;t++)e.dyn_dtree[t*2]=0;for(t=0;t<x8;t++)e.bl_tree[t*2]=0;e.dyn_ltree[w8*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},gM=e=>{e.bi_valid>8?F0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},l7=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},dw=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&l7(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!l7(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},c7=(e,t,r)=>{let n,i,s=0,o,a;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?Jo(e,i,t):(o=B0[i],Jo(e,o+cg+1,t),a=a4[o],a!==0&&(i-=_8[o],Gs(e,i,a)),n--,o=hM(n),Jo(e,o,r),a=Zv[o],a!==0&&(n-=qy[o],Gs(e,n,a)));while(s<e.sym_next);Jo(e,w8,t)},o4=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=iM,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)dw(e,r,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],dw(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[c*2]=r[o*2]+r[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=c,e.heap[1]=c++,dw(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],CK(e,t),pM(r,l,e.bl_count)},u7=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[sM*2]++):a<=10?e.bl_tree[aM*2]++:e.bl_tree[oM*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},d7=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<l&&s===o)){if(a<c)do Jo(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Jo(e,s,e.bl_tree),a--),Jo(e,sM,e.bl_tree),Gs(e,a-3,2)):a<=10?(Jo(e,aM,e.bl_tree),Gs(e,a-3,3)):(Jo(e,oM,e.bl_tree),Gs(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},TK=e=>{let t;for(u7(e,e.dyn_ltree,e.l_desc.max_code),u7(e,e.dyn_dtree,e.d_desc.max_code),o4(e,e.bl_desc),t=x8-1;t>=3&&e.bl_tree[lM[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},RK=(e,t,r,n)=>{let i;for(Gs(e,t-257,5),Gs(e,r-1,5),Gs(e,n-4,4),i=0;i<n;i++)Gs(e,e.bl_tree[lM[i]*2+1],3);d7(e,e.dyn_ltree,t-1),d7(e,e.dyn_dtree,r-1)},PK=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return a7;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return o7;for(r=32;r<cg;r++)if(e.dyn_ltree[r*2]!==0)return o7;return a7};let h7=!1;const OK=e=>{h7||(jK(),h7=!0),e.l_desc=new uw(e.dyn_ltree,cM),e.d_desc=new uw(e.dyn_dtree,uM),e.bl_desc=new uw(e.bl_tree,dM),e.bi_buf=0,e.bi_valid=0,mM(e)},vM=(e,t,r,n)=>{Gs(e,(xK<<1)+(n?1:0),3),gM(e),F0(e,r),F0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},IK=e=>{Gs(e,nM<<1,3),Jo(e,w8,Ul),AK(e)},MK=(e,t,r,n)=>{let i,s,o=0;e.level>0?(e.strm.data_type===bK&&(e.strm.data_type=PK(e)),o4(e,e.l_desc),o4(e,e.d_desc),o=TK(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?vM(e,t,r,n):e.strategy===yK||s===i?(Gs(e,(nM<<1)+(n?1:0),3),c7(e,Ul,Ym)):(Gs(e,(wK<<1)+(n?1:0),3),RK(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),c7(e,e.dyn_ltree,e.dyn_dtree)),mM(e),n&&gM(e)},LK=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(B0[r]+cg+1)*2]++,e.dyn_dtree[hM(t)*2]++),e.sym_next===e.sym_end);var DK=OK,BK=vM,FK=MK,zK=LK,UK=IK,$K={_tr_init:DK,_tr_stored_block:BK,_tr_flush_block:FK,_tr_tally:zK,_tr_align:UK};const HK=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var z0=HK;const WK=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},qK=new Uint32Array(WK()),VK=(e,t,r,n)=>{const i=qK,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var zi=VK,Hf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ug={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:GK,_tr_stored_block:l4,_tr_flush_block:KK,_tr_tally:vu,_tr_align:XK}=$K,{Z_NO_FLUSH:yu,Z_PARTIAL_FLUSH:ZK,Z_FULL_FLUSH:YK,Z_FINISH:Ua,Z_BLOCK:f7,Z_OK:Zi,Z_STREAM_END:p7,Z_STREAM_ERROR:sl,Z_DATA_ERROR:JK,Z_BUF_ERROR:hw,Z_DEFAULT_COMPRESSION:QK,Z_FILTERED:eX,Z_HUFFMAN_ONLY:H1,Z_RLE:tX,Z_FIXED:rX,Z_DEFAULT_STRATEGY:nX,Z_UNKNOWN:iX,Z_DEFLATED:zb}=ug,sX=9,aX=15,oX=8,lX=29,cX=256,c4=cX+1+lX,uX=30,dX=19,hX=2*c4+1,fX=15,$r=3,nu=258,al=nu+$r+1,pX=32,Wf=42,S8=57,u4=69,d4=73,h4=91,f4=103,Md=113,Mm=666,As=1,pp=2,rh=3,mp=4,mX=3,Ld=(e,t)=>(e.msg=Hf[t],t),m7=e=>e*2-(e>4?9:0),Qc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},gX=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let vX=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,bu=vX;const pa=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ba=(e,t)=>{KK(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,pa(e.strm)},Yr=(e,t)=>{e.pending_buf[e.pending++]=t},hm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},p4=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=z0(e.adler,t,i,r):e.state.wrap===2&&(e.adler=zi(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},yM=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-al?e.strstart-(e.w_size-al):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+nu;let d=c[n+o-1],p=c[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==p||c[i+o-1]!==d||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<f);if(s=nu-(f-n),n=f-nu,s>o){if(e.match_start=t,o=s,s>=a)break;d=c[n+o-1],p=c[n+o]}}while((t=h[t&u])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead},qf=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-al)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),gX(e),n+=t),e.strm.avail_in===0)break;if(r=p4(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=$r)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=bu(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=bu(e,e.ins_h,e.window[i+$r-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<$r)););}while(e.lookahead<al&&e.strm.avail_in!==0)},bM=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,o=0,a=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==Ua||t===yu||n!==i+e.strm.avail_in)))break;o=t===Ua&&n===i+e.strm.avail_in?1:0,l4(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,pa(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(p4(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?mp:t!==yu&&t!==Ua&&e.strm.avail_in===0&&e.strstart===e.block_start?pp:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(p4(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===Ua)&&t!==yu&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=t===Ua&&e.strm.avail_in===0&&n===i?1:0,l4(e,e.block_start,n,o),e.block_start+=n,pa(e.strm)),o?rh:As)},fw=(e,t)=>{let r,n;for(;;){if(e.lookahead<al){if(qf(e),e.lookahead<al&&t===yu)return As;if(e.lookahead===0)break}if(r=0,e.lookahead>=$r&&(e.ins_h=bu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-al&&(e.match_length=yM(e,r)),e.match_length>=$r)if(n=vu(e,e.strstart-e.match_start,e.match_length-$r),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$r){e.match_length--;do e.strstart++,e.ins_h=bu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=bu(e,e.ins_h,e.window[e.strstart+1]);else n=vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ba(e,!1),e.strm.avail_out===0))return As}return e.insert=e.strstart<$r-1?e.strstart:$r-1,t===Ua?(ba(e,!0),e.strm.avail_out===0?rh:mp):e.sym_next&&(ba(e,!1),e.strm.avail_out===0)?As:pp},$h=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<al){if(qf(e),e.lookahead<al&&t===yu)return As;if(e.lookahead===0)break}if(r=0,e.lookahead>=$r&&(e.ins_h=bu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$r-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-al&&(e.match_length=yM(e,r),e.match_length<=5&&(e.strategy===eX||e.match_length===$r&&e.strstart-e.match_start>4096)&&(e.match_length=$r-1)),e.prev_length>=$r&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-$r,n=vu(e,e.strstart-1-e.prev_match,e.prev_length-$r),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=bu(e,e.ins_h,e.window[e.strstart+$r-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$r-1,e.strstart++,n&&(ba(e,!1),e.strm.avail_out===0))return As}else if(e.match_available){if(n=vu(e,0,e.window[e.strstart-1]),n&&ba(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return As}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=vu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$r-1?e.strstart:$r-1,t===Ua?(ba(e,!0),e.strm.avail_out===0?rh:mp):e.sym_next&&(ba(e,!1),e.strm.avail_out===0)?As:pp},yX=(e,t)=>{let r,n,i,s;const o=e.window;for(;;){if(e.lookahead<=nu){if(qf(e),e.lookahead<=nu&&t===yu)return As;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$r&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+nu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=nu-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$r?(r=vu(e,1,e.match_length-$r),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ba(e,!1),e.strm.avail_out===0))return As}return e.insert=0,t===Ua?(ba(e,!0),e.strm.avail_out===0?rh:mp):e.sym_next&&(ba(e,!1),e.strm.avail_out===0)?As:pp},bX=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(qf(e),e.lookahead===0)){if(t===yu)return As;break}if(e.match_length=0,r=vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ba(e,!1),e.strm.avail_out===0))return As}return e.insert=0,t===Ua?(ba(e,!0),e.strm.avail_out===0?rh:mp):e.sym_next&&(ba(e,!1),e.strm.avail_out===0)?As:pp};function zo(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Lm=[new zo(0,0,0,0,bM),new zo(4,4,8,4,fw),new zo(4,5,16,8,fw),new zo(4,6,32,32,fw),new zo(4,4,16,16,$h),new zo(8,16,32,32,$h),new zo(8,16,128,128,$h),new zo(8,32,128,256,$h),new zo(32,128,258,1024,$h),new zo(32,258,258,4096,$h)],xX=e=>{e.window_size=2*e.w_size,Qc(e.head),e.max_lazy_match=Lm[e.level].max_lazy,e.good_match=Lm[e.level].good_length,e.nice_match=Lm[e.level].nice_length,e.max_chain_length=Lm[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$r-1,e.match_available=0,e.ins_h=0};function wX(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(hX*2),this.dyn_dtree=new Uint16Array((2*uX+1)*2),this.bl_tree=new Uint16Array((2*dX+1)*2),Qc(this.dyn_ltree),Qc(this.dyn_dtree),Qc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(fX+1),this.heap=new Uint16Array(2*c4+1),Qc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*c4+1),Qc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const dg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Wf&&t.status!==S8&&t.status!==u4&&t.status!==d4&&t.status!==h4&&t.status!==f4&&t.status!==Md&&t.status!==Mm?1:0},xM=e=>{if(dg(e))return Ld(e,sl);e.total_in=e.total_out=0,e.data_type=iX;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?S8:t.wrap?Wf:Md,e.adler=t.wrap===2?0:1,t.last_flush=-2,GK(t),Zi},wM=e=>{const t=xM(e);return t===Zi&&xX(e.state),t},_X=(e,t)=>dg(e)||e.state.wrap!==2?sl:(e.state.gzhead=t,Zi),_M=(e,t,r,n,i,s)=>{if(!e)return sl;let o=1;if(t===QK&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>sX||r!==zb||n<8||n>15||t<0||t>9||s<0||s>rX||n===8&&o!==1)return Ld(e,sl);n===8&&(n=9);const a=new wX;return e.state=a,a.strm=e,a.status=Wf,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+$r-1)/$r),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=r,wM(e)},SX=(e,t)=>_M(e,t,zb,aX,oX,nX),EX=(e,t)=>{if(dg(e)||t>f7||t<0)return e?Ld(e,sl):sl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Mm&&t!==Ua)return Ld(e,e.avail_out===0?hw:sl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(pa(e),e.avail_out===0)return r.last_flush=-1,Zi}else if(e.avail_in===0&&m7(t)<=m7(n)&&t!==Ua)return Ld(e,hw);if(r.status===Mm&&e.avail_in!==0)return Ld(e,hw);if(r.status===Wf&&r.wrap===0&&(r.status=Md),r.status===Wf){let i=zb+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=H1||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=pX),i+=31-i%31,hm(r,i),r.strstart!==0&&(hm(r,e.adler>>>16),hm(r,e.adler&65535)),e.adler=1,r.status=Md,pa(e),r.pending!==0)return r.last_flush=-1,Zi}if(r.status===S8){if(e.adler=0,Yr(r,31),Yr(r,139),Yr(r,8),r.gzhead)Yr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Yr(r,r.gzhead.time&255),Yr(r,r.gzhead.time>>8&255),Yr(r,r.gzhead.time>>16&255),Yr(r,r.gzhead.time>>24&255),Yr(r,r.level===9?2:r.strategy>=H1||r.level<2?4:0),Yr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Yr(r,r.gzhead.extra.length&255),Yr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=zi(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=u4;else if(Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,0),Yr(r,r.level===9?2:r.strategy>=H1||r.level<2?4:0),Yr(r,mX),r.status=Md,pa(e),r.pending!==0)return r.last_flush=-1,Zi}if(r.status===u4){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=a,pa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0,s-=a}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=d4}if(r.status===d4){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),pa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Yr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=h4}if(r.status===h4){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i)),pa(e),r.pending!==0)return r.last_flush=-1,Zi;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Yr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=zi(e.adler,r.pending_buf,r.pending-i,i))}r.status=f4}if(r.status===f4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(pa(e),r.pending!==0))return r.last_flush=-1,Zi;Yr(r,e.adler&255),Yr(r,e.adler>>8&255),e.adler=0}if(r.status=Md,pa(e),r.pending!==0)return r.last_flush=-1,Zi}if(e.avail_in!==0||r.lookahead!==0||t!==yu&&r.status!==Mm){let i=r.level===0?bM(r,t):r.strategy===H1?bX(r,t):r.strategy===tX?yX(r,t):Lm[r.level].func(r,t);if((i===rh||i===mp)&&(r.status=Mm),i===As||i===rh)return e.avail_out===0&&(r.last_flush=-1),Zi;if(i===pp&&(t===ZK?XK(r):t!==f7&&(l4(r,0,0,!1),t===YK&&(Qc(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),pa(e),e.avail_out===0))return r.last_flush=-1,Zi}return t!==Ua?Zi:r.wrap<=0?p7:(r.wrap===2?(Yr(r,e.adler&255),Yr(r,e.adler>>8&255),Yr(r,e.adler>>16&255),Yr(r,e.adler>>24&255),Yr(r,e.total_in&255),Yr(r,e.total_in>>8&255),Yr(r,e.total_in>>16&255),Yr(r,e.total_in>>24&255)):(hm(r,e.adler>>>16),hm(r,e.adler&65535)),pa(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Zi:p7)},kX=e=>{if(dg(e))return sl;const t=e.state.status;return e.state=null,t===Md?Ld(e,JK):Zi},NX=(e,t)=>{let r=t.length;if(dg(e))return sl;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Wf||n.lookahead)return sl;if(i===1&&(e.adler=z0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Qc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,qf(n);n.lookahead>=$r;){let l=n.strstart,c=n.lookahead-($r-1);do n.ins_h=bu(n,n.ins_h,n.window[l+$r-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=$r-1,qf(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=$r-1,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,Zi};var AX=SX,CX=_M,jX=wM,TX=xM,RX=_X,PX=EX,OX=kX,IX=NX,MX="pako deflate (from Nodeca project)",Jm={deflateInit:AX,deflateInit2:CX,deflateReset:jX,deflateResetKeep:TX,deflateSetHeader:RX,deflate:PX,deflateEnd:OX,deflateSetDictionary:IX,deflateInfo:MX};const LX=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var DX=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)LX(r,n)&&(e[n]=r[n])}}return e},BX=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},Ub={assign:DX,flattenChunks:BX};let SM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{SM=!1}const U0=new Uint8Array(256);for(let e=0;e<256;e++)U0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;U0[254]=U0[254]=1;var FX=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const zX=(e,t)=>{if(t<65534&&e.subarray&&SM)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var UX=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let a=U0[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|e[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return zX(s,i)},$X=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+U0[e[r]]>t?r:t},$0={string2buf:FX,buf2string:UX,utf8border:$X};function HX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var EM=HX;const kM=Object.prototype.toString,{Z_NO_FLUSH:WX,Z_SYNC_FLUSH:qX,Z_FULL_FLUSH:VX,Z_FINISH:GX,Z_OK:Vy,Z_STREAM_END:KX,Z_DEFAULT_COMPRESSION:XX,Z_DEFAULT_STRATEGY:ZX,Z_DEFLATED:YX}=ug;function E8(e){this.options=Ub.assign({level:XX,method:YX,chunkSize:16384,windowBits:15,memLevel:8,strategy:ZX},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EM,this.strm.avail_out=0;let r=Jm.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Vy)throw new Error(Hf[r]);if(t.header&&Jm.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=$0.string2buf(t.dictionary):kM.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Jm.deflateSetDictionary(this.strm,n),r!==Vy)throw new Error(Hf[r]);this._dict_set=!0}}E8.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?GX:WX,typeof e=="string"?r.input=$0.string2buf(e):kM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===qX||s===VX)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Jm.deflate(r,s),i===KX)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Jm.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Vy;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};E8.prototype.onData=function(e){this.chunks.push(e)};E8.prototype.onEnd=function(e){e===Vy&&(this.result=Ub.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const W1=16209,JX=16191;var QX=function(t,r){let n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,x,w,_,M,U,L,O,H;const G=t.state;n=t.next_in,O=t.input,i=n+(t.avail_in-5),s=t.next_out,H=t.output,o=s-(r-t.avail_out),a=s+(t.avail_out-257),l=G.dmax,c=G.wsize,u=G.whave,h=G.wnext,f=G.window,d=G.hold,p=G.bits,g=G.lencode,m=G.distcode,v=(1<<G.lenbits)-1,y=(1<<G.distbits)-1;e:do{p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),x=g[d&v];t:for(;;){if(w=x>>>24,d>>>=w,p-=w,w=x>>>16&255,w===0)H[s++]=x&65535;else if(w&16){_=x&65535,w&=15,w&&(p<w&&(d+=O[n++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),x=m[d&y];r:for(;;){if(w=x>>>24,d>>>=w,p-=w,w=x>>>16&255,w&16){if(M=x&65535,w&=15,p<w&&(d+=O[n++]<<p,p+=8,p<w&&(d+=O[n++]<<p,p+=8)),M+=d&(1<<w)-1,M>l){t.msg="invalid distance too far back",G.mode=W1;break e}if(d>>>=w,p-=w,w=s-o,M>w){if(w=M-w,w>u&&G.sane){t.msg="invalid distance too far back",G.mode=W1;break e}if(U=0,L=f,h===0){if(U+=c-w,w<_){_-=w;do H[s++]=f[U++];while(--w);U=s-M,L=H}}else if(h<w){if(U+=c+h-w,w-=h,w<_){_-=w;do H[s++]=f[U++];while(--w);if(U=0,h<_){w=h,_-=w;do H[s++]=f[U++];while(--w);U=s-M,L=H}}}else if(U+=h-w,w<_){_-=w;do H[s++]=f[U++];while(--w);U=s-M,L=H}for(;_>2;)H[s++]=L[U++],H[s++]=L[U++],H[s++]=L[U++],_-=3;_&&(H[s++]=L[U++],_>1&&(H[s++]=L[U++]))}else{U=s-M;do H[s++]=H[U++],H[s++]=H[U++],H[s++]=H[U++],_-=3;while(_>2);_&&(H[s++]=H[U++],_>1&&(H[s++]=H[U++]))}}else if(w&64){t.msg="invalid distance code",G.mode=W1;break e}else{x=m[(x&65535)+(d&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){G.mode=JX;break e}else{t.msg="invalid literal/length code",G.mode=W1;break e}else{x=g[(x&65535)+(d&(1<<w)-1)];continue t}break}}while(n<i&&s<a);_=p>>3,n-=_,p-=_<<3,d&=(1<<p)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<a?257+(a-s):257-(s-a),G.hold=d,G.bits=p};const Hh=15,g7=852,v7=592,y7=0,pw=1,b7=2,eZ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tZ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rZ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nZ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iZ=(e,t,r,n,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,f=0,d=0,p=0,g=0,m=0,v=0,y=0,x,w,_,M,U,L=null,O;const H=new Uint16Array(Hh+1),G=new Uint16Array(Hh+1);let I=null,R,S,j;for(c=0;c<=Hh;c++)H[c]=0;for(u=0;u<n;u++)H[t[r+u]]++;for(d=l,f=Hh;f>=1&&H[f]===0;f--);if(d>f&&(d=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<f&&H[h]===0;h++);for(d<h&&(d=h),m=1,c=1;c<=Hh;c++)if(m<<=1,m-=H[c],m<0)return-1;if(m>0&&(e===y7||f!==1))return-1;for(G[1]=0,c=1;c<Hh;c++)G[c+1]=G[c]+H[c];for(u=0;u<n;u++)t[r+u]!==0&&(o[G[t[r+u]]++]=u);if(e===y7?(L=I=o,O=20):e===pw?(L=eZ,I=tZ,O=257):(L=rZ,I=nZ,O=0),y=0,u=0,c=h,U=s,p=d,g=0,_=-1,v=1<<d,M=v-1,e===pw&&v>g7||e===b7&&v>v7)return 1;for(;;){R=c-g,o[u]+1<O?(S=0,j=o[u]):o[u]>=O?(S=I[o[u]-O],j=L[o[u]-O]):(S=96,j=0),x=1<<c-g,w=1<<p,h=w;do w-=x,i[U+(y>>g)+w]=R<<24|S<<16|j|0;while(w!==0);for(x=1<<c-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,u++,--H[c]===0){if(c===f)break;c=t[r+o[u]]}if(c>d&&(y&M)!==_){for(g===0&&(g=d),U+=h,p=c-g,m=1<<p;p+g<f&&(m-=H[p+g],!(m<=0));)p++,m<<=1;if(v+=1<<p,e===pw&&v>g7||e===b7&&v>v7)return 1;_=y&M,i[_]=d<<24|p<<16|U-s|0}}return y!==0&&(i[U+y]=c-g<<24|64<<16|0),a.bits=d,0};var Qm=iZ;const sZ=0,NM=1,AM=2,{Z_FINISH:x7,Z_BLOCK:aZ,Z_TREES:q1,Z_OK:nh,Z_STREAM_END:oZ,Z_NEED_DICT:lZ,Z_STREAM_ERROR:Ka,Z_DATA_ERROR:CM,Z_MEM_ERROR:jM,Z_BUF_ERROR:cZ,Z_DEFLATED:w7}=ug,$b=16180,_7=16181,S7=16182,E7=16183,k7=16184,N7=16185,A7=16186,C7=16187,j7=16188,T7=16189,Gy=16190,Ol=16191,mw=16192,R7=16193,gw=16194,P7=16195,O7=16196,I7=16197,M7=16198,V1=16199,G1=16200,L7=16201,D7=16202,B7=16203,F7=16204,z7=16205,vw=16206,U7=16207,$7=16208,Rn=16209,TM=16210,RM=16211,uZ=852,dZ=592,hZ=15,fZ=hZ,H7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function pZ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<$b||t.mode>RM?1:0},PM=e=>{if(dh(e))return Ka;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=$b,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(uZ),t.distcode=t.distdyn=new Int32Array(dZ),t.sane=1,t.back=-1,nh},OM=e=>{if(dh(e))return Ka;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,PM(e)},IM=(e,t)=>{let r;if(dh(e))return Ka;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ka:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,OM(e))},MM=(e,t)=>{if(!e)return Ka;const r=new pZ;e.state=r,r.strm=e,r.window=null,r.mode=$b;const n=IM(e,t);return n!==nh&&(e.state=null),n},mZ=e=>MM(e,fZ);let W7=!0,yw,bw;const gZ=e=>{if(W7){yw=new Int32Array(512),bw=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Qm(NM,e.lens,0,288,yw,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Qm(AM,e.lens,0,32,bw,0,e.work,{bits:5}),W7=!1}e.lencode=yw,e.lenbits=9,e.distcode=bw,e.distbits=5},LM=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},vZ=(e,t)=>{let r,n,i,s,o,a,l,c,u,h,f,d,p,g,m=0,v,y,x,w,_,M,U,L;const O=new Uint8Array(4);let H,G;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dh(e)||!e.output||!e.input&&e.avail_in!==0)return Ka;r=e.state,r.mode===Ol&&(r.mode=mw),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,h=a,f=l,L=nh;e:for(;;)switch(r.mode){case $b:if(r.wrap===0){r.mode=mw;break}for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0),c=0,u=0,r.mode=_7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Rn;break}if((c&15)!==w7){e.msg="unknown compression method",r.mode=Rn;break}if(c>>>=4,u-=4,U=(c&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){e.msg="invalid window size",r.mode=Rn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?T7:Ol,c=0,u=0;break;case _7:for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==w7){e.msg="unknown compression method",r.mode=Rn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Rn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0,r.mode=S7;case S7:for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,r.check=zi(r.check,O,4,0)),c=0,u=0,r.mode=E7;case E7:for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0,r.mode=k7;case k7:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=zi(r.check,O,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=N7;case N7:if(r.flags&1024&&(d=r.length,d>a&&(d=a),d&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),U)),r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=A7;case A7:if(r.flags&2048){if(a===0)break e;d=0;do U=n[s+d++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=C7;case C7:if(r.flags&4096){if(a===0)break e;d=0;do U=n[s+d++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,d,s)),a-=d,s+=d,U)break e}else r.head&&(r.head.comment=null);r.mode=j7;case j7:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Rn;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ol;break;case T7:for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}e.adler=r.check=H7(c),c=0,u=0,r.mode=Gy;case Gy:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,lZ;e.adler=r.check=1,r.mode=Ol;case Ol:if(t===aZ||t===q1)break e;case mw:if(r.last){c>>>=u&7,u-=u&7,r.mode=vw;break}for(;u<3;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=R7;break;case 1:if(gZ(r),r.mode=V1,t===q1){c>>>=2,u-=2;break e}break;case 2:r.mode=O7;break;case 3:e.msg="invalid block type",r.mode=Rn}c>>>=2,u-=2;break;case R7:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Rn;break}if(r.length=c&65535,c=0,u=0,r.mode=gw,t===q1)break e;case gw:r.mode=P7;case P7:if(d=r.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;i.set(n.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,r.length-=d;break}r.mode=Ol;break;case O7:for(;u<14;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Rn;break}r.have=0,r.mode=I7;case I7:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.lens[I[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},L=Qm(sZ,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid code lengths set",r.mode=Rn;break}r.have=0,r.mode=M7;case M7:for(;r.have<r.nlen+r.ndist;){for(;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,y=m>>>16&255,x=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(x<16)c>>>=v,u-=v,r.lens[r.have++]=x;else{if(x===16){for(G=v+2;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(c>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Rn;break}U=r.lens[r.have-1],d=3+(c&3),c>>>=2,u-=2}else if(x===17){for(G=v+3;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,U=0,d=3+(c&7),c>>>=3,u-=3}else{for(G=v+7;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,U=0,d=11+(c&127),c>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Rn;break}for(;d--;)r.lens[r.have++]=U}}if(r.mode===Rn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Rn;break}if(r.lenbits=9,H={bits:r.lenbits},L=Qm(NM,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid literal/lengths set",r.mode=Rn;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},L=Qm(AM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,L){e.msg="invalid distances set",r.mode=Rn;break}if(r.mode=V1,t===q1)break e;case V1:r.mode=G1;case G1:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,QX(e,f),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,r.mode===Ol&&(r.back=-1);break}for(r.back=0;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,y=m>>>16&255,x=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(y&&!(y&240)){for(w=v,_=y,M=x;m=r.lencode[M+((c&(1<<w+_)-1)>>w)],v=m>>>24,y=m>>>16&255,x=m&65535,!(w+v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=v,u-=v,r.back+=v,r.length=x,y===0){r.mode=z7;break}if(y&32){r.back=-1,r.mode=Ol;break}if(y&64){e.msg="invalid literal/length code",r.mode=Rn;break}r.extra=y&15,r.mode=L7;case L7:if(r.extra){for(G=r.extra;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=D7;case D7:for(;m=r.distcode[c&(1<<r.distbits)-1],v=m>>>24,y=m>>>16&255,x=m&65535,!(v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(!(y&240)){for(w=v,_=y,M=x;m=r.distcode[M+((c&(1<<w+_)-1)>>w)],v=m>>>24,y=m>>>16&255,x=m&65535,!(w+v<=u);){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=v,u-=v,r.back+=v,y&64){e.msg="invalid distance code",r.mode=Rn;break}r.offset=x,r.extra=y&15,r.mode=B7;case B7:if(r.extra){for(G=r.extra;u<G;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Rn;break}r.mode=F7;case F7:if(l===0)break e;if(d=f-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Rn;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[o++]=g[p++];while(--d);r.length===0&&(r.mode=G1);break;case z7:if(l===0)break e;i[o++]=r.length,l--,r.mode=G1;break;case vw:if(r.wrap){for(;u<32;){if(a===0)break e;a--,c|=n[s++]<<u,u+=8}if(f-=l,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?zi(r.check,i,f,o-f):z0(r.check,i,f,o-f)),f=l,r.wrap&4&&(r.flags?c:H7(c))!==r.check){e.msg="incorrect data check",r.mode=Rn;break}c=0,u=0}r.mode=U7;case U7:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Rn;break}c=0,u=0}r.mode=$7;case $7:L=oZ;break e;case Rn:L=CM;break e;case TM:return jM;case RM:default:return Ka}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<Rn&&(r.mode<vw||t!==x7))&&LM(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?zi(r.check,i,f,e.next_out-f):z0(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ol?128:0)+(r.mode===V1||r.mode===gw?256:0),(h===0&&f===0||t===x7)&&L===nh&&(L=cZ),L},yZ=e=>{if(dh(e))return Ka;let t=e.state;return t.window&&(t.window=null),e.state=null,nh},bZ=(e,t)=>{if(dh(e))return Ka;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,nh):Ka},xZ=(e,t)=>{const r=t.length;let n,i,s;return dh(e)||(n=e.state,n.wrap!==0&&n.mode!==Gy)?Ka:n.mode===Gy&&(i=1,i=z0(i,t,r,0),i!==n.check)?CM:(s=LM(e,t,r,r),s?(n.mode=TM,jM):(n.havedict=1,nh))};var wZ=OM,_Z=IM,SZ=PM,EZ=mZ,kZ=MM,NZ=vZ,AZ=yZ,CZ=bZ,jZ=xZ,TZ="pako inflate (from Nodeca project)",$l={inflateReset:wZ,inflateReset2:_Z,inflateResetKeep:SZ,inflateInit:EZ,inflateInit2:kZ,inflate:NZ,inflateEnd:AZ,inflateGetHeader:CZ,inflateSetDictionary:jZ,inflateInfo:TZ};function RZ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PZ=RZ;const DM=Object.prototype.toString,{Z_NO_FLUSH:OZ,Z_FINISH:IZ,Z_OK:H0,Z_STREAM_END:xw,Z_NEED_DICT:ww,Z_STREAM_ERROR:MZ,Z_DATA_ERROR:q7,Z_MEM_ERROR:LZ}=ug;function hg(e){this.options=Ub.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EM,this.strm.avail_out=0;let r=$l.inflateInit2(this.strm,t.windowBits);if(r!==H0)throw new Error(Hf[r]);if(this.header=new PZ,$l.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=$0.string2buf(t.dictionary):DM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$l.inflateSetDictionary(this.strm,t.dictionary),r!==H0)))throw new Error(Hf[r])}hg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?IZ:OZ,DM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=$l.inflate(r,o),s===ww&&i&&(s=$l.inflateSetDictionary(r,i),s===H0?s=$l.inflate(r,o):s===q7&&(s=ww));r.avail_in>0&&s===xw&&r.state.wrap>0&&e[r.next_in]!==0;)$l.inflateReset(r),s=$l.inflate(r,o);switch(s){case MZ:case q7:case ww:case LZ:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===xw))if(this.options.to==="string"){let l=$0.utf8border(r.output,r.next_out),c=r.next_out-l,u=$0.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===H0&&a===0)){if(s===xw)return s=$l.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};hg.prototype.onData=function(e){this.chunks.push(e)};hg.prototype.onEnd=function(e){e===H0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ub.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function k8(e,t){const r=new hg(t);if(r.push(e),r.err)throw r.msg||Hf[r.err];return r.result}function DZ(e,t){return t=t||{},t.raw=!0,k8(e,t)}var BZ=hg,FZ=k8,zZ=DZ,UZ=k8,$Z=ug,HZ={Inflate:BZ,inflate:FZ,inflateRaw:zZ,ungzip:UZ,constants:$Z};const{Inflate:WZ,inflate:qZ,inflateRaw:Fge,ungzip:zge}=HZ;var V7=WZ,VZ=qZ;const BM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;BM[e]=t}const G7=4294967295;function GZ(e,t,r){let n=e;for(let i=0;i<r;i++)n=BM[(n^t[i])&255]^n>>>8;return n}function KZ(e,t){return(GZ(G7,e,t)^G7)>>>0}function K7(e,t,r){const n=e.readUint32(),i=KZ(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function FM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function zM(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function UM(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function $M(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function HM(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+XZ(t[s-i],r[s],r[s-i])&255}}function XZ(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return i<=s&&i<=o?e:s<=o?t:r}function ZZ(e,t,r,n,i,s){switch(e){case 0:FM(t,r,i);break;case 1:zM(t,r,i,s);break;case 2:UM(t,r,n,i);break;case 3:$M(t,r,n,i,s);break;case 4:HM(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const YZ=new Uint16Array([255]),JZ=new Uint8Array(YZ.buffer),QZ=JZ[0]===255;function eY(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(n*r*a);let c=0;for(let u=0;u<7;u++){const h=o[u],f=Math.ceil((r-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(f<=0||d<=0)continue;const p=f*a,g=new Uint8Array(p);for(let m=0;m<d;m++){const v=t[c++],y=t.subarray(c,c+p);c+=p;const x=new Uint8Array(p);ZZ(v,y,x,g,p,a),g.set(x);for(let w=0;w<f;w++){const _=h.x+w*h.xStep,M=h.y+m*h.yStep;if(!(_>=r||M>=n))for(let U=0;U<a;U++)l[(M*r+_)*a+U]=x[w*a+U]}}}if(s===16){const u=new Uint16Array(l.buffer);if(QZ)for(let h=0;h<u.length;h++)u[h]=tY(u[h]);return u}else return l}function tY(e){return(e&255)<<8|e>>8&255}const rY=new Uint16Array([255]),nY=new Uint8Array(rY.buffer),iY=nY[0]===255,sY=new Uint8Array(0);function X7(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),l=new Uint8Array(n*a);let c=sY,u=0,h,f;for(let d=0;d<n;d++){switch(h=t.subarray(u+1,u+1+a),f=l.subarray(d*a,(d+1)*a),t[u]){case 0:FM(h,f,a);break;case 1:zM(h,f,a,o);break;case 2:UM(h,f,c,a);break;case 3:$M(h,f,c,a,o);break;case 4:HM(h,f,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=f,u+=a+1}if(s===16){const d=new Uint16Array(l.buffer);if(iY)for(let p=0;p<d.length;p++)d[p]=aY(d[p]);return d}else return l}function aY(e){return(e&255)<<8|e>>8&255}const Yv=Uint8Array.of(137,80,78,71,13,10,26,10);function Z7(e){if(!oY(e.readBytes(Yv.length)))throw new Error("wrong PNG signature")}function oY(e){if(e.length<Yv.length)return!1;for(let t=0;t<Yv.length;t++)if(e[t]!==Yv[t])return!1;return!0}const lY="tEXt",cY=0,WM=new TextDecoder("latin1");function uY(e){if(hY(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const dY=/^[\u0000-\u00FF]*$/;function hY(e){if(!dY.test(e))throw new Error("invalid latin1 text")}function fY(e,t,r){const n=qM(t);e[n]=pY(t,r-n.length-1)}function qM(e){for(e.mark();e.readByte()!==cY;);const t=e.offset;e.reset();const r=WM.decode(e.readBytes(t-e.offset-1));return e.skip(1),uY(r),r}function pY(e,t){return WM.decode(e.readBytes(t))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_w={UNKNOWN:-1,DEFLATE:0},Y7={UNKNOWN:-1,ADAPTIVE:0},Sw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},K1={NONE:0,BACKGROUND:1,PREVIOUS:2},Ew={SOURCE:0,OVER:1};class mY extends y8{constructor(r,n={}){super(r);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new V7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_w.UNKNOWN,this._filterMethod=Y7.UNKNOWN,this._interlaceMethod=Sw.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z7(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Z7(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case lY:fY(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K7(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K7(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=gY(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case fa.GREYSCALE:i=1;break;case fa.TRUECOLOUR:i=3;break;case fa.INDEXED_COLOUR:i=1;break;case fa.GREYSCALE_ALPHA:i=2;break;case fa.TRUECOLOUR_ALPHA:i=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==_w.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=qM(this),i=this.readUint8();if(i!==_w.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:VZ(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=X7({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case K1.NONE:break;case K1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case K1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Ew.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Ew.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:n.data[c+u],d=Math.floor(h*f+(1-h)*r.data[l+u]);r.data[l+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Y7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sw.NO_INTERLACE)this._png.data=X7({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sw.ADAM7)this._png.data=eY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:K1.NONE,blendOp:Ew.SOURCE,data:r}),this._inflator=new V7,this._writingDataChunks=!1}}function gY(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var J7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(J7||(J7={}));function vY(e,t){return new mY(e,t).decode()}var cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kw(){cr.console&&typeof cr.console.log=="function"&&cr.console.log.apply(cr.console,arguments)}var pn={log:kw,warn:function(e){cr.console&&(typeof cr.console.warn=="function"?cr.console.warn.apply(cr.console,arguments):kw.call(null,arguments))},error:function(e){cr.console&&(typeof cr.console.error=="function"?cr.console.error.apply(cr.console,arguments):kw(e))}};function Nw(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Nd(n.response,t,r)},n.onerror=function(){pn.error("could not download file")},n.send()}function Q7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function X1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Nd=cr.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=cr.URL||cr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Q7(i.href)?Nw(e,t,r):X1(i,i.target="_blank"):X1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){X1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Q7(e))Nw(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){X1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:an(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Nw(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(cr.HTMLElement)||cr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(e)}else{var l=cr.URL||cr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Jv=cr.atob.bind(cr),eA=cr.btoa.bind(cr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Aw(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=fs(r,n,i,s,t[0],7,-680876936),s=fs(s,r,n,i,t[1],12,-389564586),i=fs(i,s,r,n,t[2],17,606105819),n=fs(n,i,s,r,t[3],22,-1044525330),r=fs(r,n,i,s,t[4],7,-176418897),s=fs(s,r,n,i,t[5],12,1200080426),i=fs(i,s,r,n,t[6],17,-1473231341),n=fs(n,i,s,r,t[7],22,-45705983),r=fs(r,n,i,s,t[8],7,1770035416),s=fs(s,r,n,i,t[9],12,-1958414417),i=fs(i,s,r,n,t[10],17,-42063),n=fs(n,i,s,r,t[11],22,-1990404162),r=fs(r,n,i,s,t[12],7,1804603682),s=fs(s,r,n,i,t[13],12,-40341101),i=fs(i,s,r,n,t[14],17,-1502002290),r=ps(r,n=fs(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ps(s,r,n,i,t[6],9,-1069501632),i=ps(i,s,r,n,t[11],14,643717713),n=ps(n,i,s,r,t[0],20,-373897302),r=ps(r,n,i,s,t[5],5,-701558691),s=ps(s,r,n,i,t[10],9,38016083),i=ps(i,s,r,n,t[15],14,-660478335),n=ps(n,i,s,r,t[4],20,-405537848),r=ps(r,n,i,s,t[9],5,568446438),s=ps(s,r,n,i,t[14],9,-1019803690),i=ps(i,s,r,n,t[3],14,-187363961),n=ps(n,i,s,r,t[8],20,1163531501),r=ps(r,n,i,s,t[13],5,-1444681467),s=ps(s,r,n,i,t[2],9,-51403784),i=ps(i,s,r,n,t[7],14,1735328473),r=ms(r,n=ps(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ms(s,r,n,i,t[8],11,-2022574463),i=ms(i,s,r,n,t[11],16,1839030562),n=ms(n,i,s,r,t[14],23,-35309556),r=ms(r,n,i,s,t[1],4,-1530992060),s=ms(s,r,n,i,t[4],11,1272893353),i=ms(i,s,r,n,t[7],16,-155497632),n=ms(n,i,s,r,t[10],23,-1094730640),r=ms(r,n,i,s,t[13],4,681279174),s=ms(s,r,n,i,t[0],11,-358537222),i=ms(i,s,r,n,t[3],16,-722521979),n=ms(n,i,s,r,t[6],23,76029189),r=ms(r,n,i,s,t[9],4,-640364487),s=ms(s,r,n,i,t[12],11,-421815835),i=ms(i,s,r,n,t[15],16,530742520),r=gs(r,n=ms(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=gs(s,r,n,i,t[7],10,1126891415),i=gs(i,s,r,n,t[14],15,-1416354905),n=gs(n,i,s,r,t[5],21,-57434055),r=gs(r,n,i,s,t[12],6,1700485571),s=gs(s,r,n,i,t[3],10,-1894986606),i=gs(i,s,r,n,t[10],15,-1051523),n=gs(n,i,s,r,t[1],21,-2054922799),r=gs(r,n,i,s,t[8],6,1873313359),s=gs(s,r,n,i,t[15],10,-30611744),i=gs(i,s,r,n,t[6],15,-1560198380),n=gs(n,i,s,r,t[13],21,1309151649),r=gs(r,n,i,s,t[4],6,-145523070),s=gs(s,r,n,i,t[11],10,-1120210379),i=gs(i,s,r,n,t[2],15,718787259),n=gs(n,i,s,r,t[9],21,-343485551),e[0]=iu(r,e[0]),e[1]=iu(n,e[1]),e[2]=iu(i,e[2]),e[3]=iu(s,e[3])}function Hb(e,t,r,n,i,s){return t=iu(iu(t,e),iu(n,s)),iu(t<<i|t>>>32-i,r)}function fs(e,t,r,n,i,s,o){return Hb(t&r|~t&n,e,t,i,s,o)}function ps(e,t,r,n,i,s,o){return Hb(t&n|r&~n,e,t,i,s,o)}function ms(e,t,r,n,i,s,o){return Hb(t^r^n,e,t,i,s,o)}function gs(e,t,r,n,i,s,o){return Hb(r^(t|~n),e,t,i,s,o)}function GM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Aw(n,yY(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Aw(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Aw(n,i),n}function yY(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var tA="0123456789abcdef".split("");function bY(e){for(var t="",r=0;r<4;r++)t+=tA[e>>8*r+4&15]+tA[e>>8*r&15];return t}function xY(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function m4(e){return GM(e).map(xY).join("")}var wY=function(e){for(var t=0;t<e.length;t++)e[t]=bY(e[t]);return e.join("")}(GM("hello"))!="5d41402abc4b2a76b9719d911017c592";function iu(e,t){if(wY){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g4(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}r=e,n=a}else a=n;var h=t.length,f=0,d=0,p="";for(l=0;l<h;l++)d=(d+(u=a[f=(f+1)%256]))%256,a[f]=a[d],a[d]=u,o=a[(a[f]+a[d])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rA={print:4,modify:8,copy:16,"annot-forms":32};function sf(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(rA.perm!==void 0)throw new Error("Invalid permission: "+a);i+=rA[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=m4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=g4(this.encryptionKey,this.padding)}function af(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function nA(e){if(an(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(a){cr.console&&pn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function W0(e){if(!(this instanceof W0))return new W0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function KM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function eu(e,t,r,n,i){if(!(this instanceof eu))return new eu(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,KM.call(this,n,i)}function Dd(e,t,r,n,i){if(!(this instanceof Dd))return new Dd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,KM.call(this,n,i)}function Dt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;an(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},d={internal:{},__private__:{}};d.__private__.PubSub=nA;var p="1.3",g=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(ie){p=ie};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return m};var v=d.__private__.getPageFormat=function(ie){return m[ie]};i=i||"a4";var y="compat",x="advanced",w=y;function _(){this.saveGraphicsState(),ne(new dt(Je,0,0,-Je,0,nd()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),c="n",w=x}function M(){this.restoreGraphicsState(),c="S",w=y}var U=d.__private__.combineFontStyleAndFontWeight=function(ie,fe){if(ie=="bold"&&fe=="normal"||ie=="bold"&&fe==400||ie=="normal"&&fe=="italic"||ie=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(ie=fe==400||fe==="normal"?ie==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||ie!=="normal"?(fe==700?"bold":fe)+""+ie:"bold"),ie};d.advancedAPI=function(ie){var fe=w===y;return fe&&_.call(this),typeof ie!="function"||(ie(this),fe&&M.call(this)),this},d.compatAPI=function(ie){var fe=w===x;return fe&&M.call(this),typeof ie!="function"||(ie(this),fe&&_.call(this)),this},d.isAdvancedAPI=function(){return w===x};var L,O=function(ie){if(w!==x)throw new Error(ie+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=d.roundToPrecision=d.__private__.roundToPrecision=function(ie,fe){var Ee=t||fe;if(isNaN(ie)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ie.toFixed(Ee).replace(/0+$/,"")};L=d.hpf=d.__private__.hpf=typeof l=="number"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,l)}:l==="smart"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,ie>-1&&ie<1?16:5)}:function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return H(ie,16)};var G=d.f2=d.__private__.f2=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f2");return H(ie,2)},I=d.__private__.f3=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f3");return H(ie,3)},R=d.scale=d.__private__.scale=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?ie*Je:w===x?ie:void 0},S=function(ie){return R(function(fe){return w===y?nd()-fe:w===x?fe:void 0}(ie))};d.__private__.setPrecision=d.setPrecision=function(ie){typeof parseInt(ie,10)=="number"&&(t=parseInt(ie,10))};var j,k="00000000000000000000000000000000",E=d.__private__.getFileId=function(){return k},A=d.__private__.setFileId=function(ie){return k=ie!==void 0&&/^[a-fA-F0-9]{32}$/.test(ie)?ie.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(cn=new sf(u.userPermissions,u.userPassword,u.ownerPassword,k)),k};d.setFileId=function(ie){return A(ie),this},d.getFileId=function(){return E()};var C=d.__private__.convertDateToPDFDate=function(ie){var fe=ie.getTimezoneOffset(),Ee=fe<0?"+":"-",Ae=Math.floor(Math.abs(fe/60)),Le=Math.abs(fe%60),Ye=[Ee,Z(Ae),"'",Z(Le),"'"].join("");return["D:",ie.getFullYear(),Z(ie.getMonth()+1),Z(ie.getDate()),Z(ie.getHours()),Z(ie.getMinutes()),Z(ie.getSeconds()),Ye].join("")},D=d.__private__.convertPDFDateToDate=function(ie){var fe=parseInt(ie.substr(2,4),10),Ee=parseInt(ie.substr(6,2),10)-1,Ae=parseInt(ie.substr(8,2),10),Le=parseInt(ie.substr(10,2),10),Ye=parseInt(ie.substr(12,2),10),st=parseInt(ie.substr(14,2),10);return new Date(fe,Ee,Ae,Le,Ye,st,0)},z=d.__private__.setCreationDate=function(ie){var fe;if(ie===void 0&&(ie=new Date),ie instanceof Date)fe=C(ie);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ie))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=ie}return j=fe},P=d.__private__.getCreationDate=function(ie){var fe=j;return ie==="jsDate"&&(fe=D(j)),fe};d.setCreationDate=function(ie){return z(ie),this},d.getCreationDate=function(ie){return P(ie)};var K,Z=d.__private__.padd2=function(ie){return("0"+parseInt(ie)).slice(-2)},te=d.__private__.padd2Hex=function(ie){return("00"+(ie=ie.toString())).substr(ie.length)},q=0,$=[],N=[],T=0,V=[],J=[],re=!1,se=N;d.__private__.setCustomOutputDestination=function(ie){re=!0,se=ie};var B=function(ie){re||(se=ie)};d.__private__.resetCustomOutputDestination=function(){re=!1,se=N};var ne=d.__private__.out=function(ie){return ie=ie.toString(),T+=ie.length+1,se.push(ie),se},ee=d.__private__.write=function(ie){return ne(arguments.length===1?ie.toString():Array.prototype.join.call(arguments," "))},F=d.__private__.getArrayBuffer=function(ie){for(var fe=ie.length,Ee=new ArrayBuffer(fe),Ae=new Uint8Array(Ee);fe--;)Ae[fe]=ie.charCodeAt(fe);return Ee},W=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return W};var Y=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(ie){return Y=w===x?ie/Je:ie,this};var ae,ce=d.__private__.getFontSize=d.getFontSize=function(){return w===y?Y:Y*Je},le=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(ie){return le=ie,this},d.__private__.getR2L=d.getR2L=function(){return le};var de,me=d.__private__.setZoomMode=function(ie){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ie))ae=ie;else if(isNaN(ie)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ie)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ie+'" is not recognized.');ae=ie}else ae=parseInt(ie,10)};d.__private__.getZoomMode=function(){return ae};var ge,ke=d.__private__.setPageMode=function(ie){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ie)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ie+'" is not recognized.');de=ie};d.__private__.getPageMode=function(){return de};var Re=d.__private__.setLayoutMode=function(ie){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ie)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ie+'" is not recognized.');ge=ie};d.__private__.getLayoutMode=function(){return ge},d.__private__.setDisplayMode=d.setDisplayMode=function(ie,fe,Ee){return me(ie),Re(fe),ke(Ee),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(ie){if(Object.keys(je).indexOf(ie)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[ie]},d.__private__.getDocumentProperties=function(){return je},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(ie){for(var fe in je)je.hasOwnProperty(fe)&&ie[fe]&&(je[fe]=ie[fe]);return this},d.__private__.setDocumentProperty=function(ie,fe){if(Object.keys(je).indexOf(ie)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[ie]=fe};var qe,Je,Ve,pt,$e,Ue={},Ke={},rt=[],Ze={},kt={},wt={},xt={},Wt=null,St=0,ot=[],qt=new nA(d),kr=e.hotfixes||[],jt={},hr={},Cr=[],dt=function ie(fe,Ee,Ae,Le,Ye,st){if(!(this instanceof ie))return new ie(fe,Ee,Ae,Le,Ye,st);isNaN(fe)&&(fe=1),isNaN(Ee)&&(Ee=0),isNaN(Ae)&&(Ae=0),isNaN(Le)&&(Le=1),isNaN(Ye)&&(Ye=0),isNaN(st)&&(st=0),this._matrix=[fe,Ee,Ae,Le,Ye,st]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(ie){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(ie)},dt.prototype.multiply=function(ie){var fe=ie.sx*this.sx+ie.shy*this.shx,Ee=ie.sx*this.shy+ie.shy*this.sy,Ae=ie.shx*this.sx+ie.sy*this.shx,Le=ie.shx*this.shy+ie.sy*this.sy,Ye=ie.tx*this.sx+ie.ty*this.shx+this.tx,st=ie.tx*this.shy+ie.ty*this.sy+this.ty;return new dt(fe,Ee,Ae,Le,Ye,st)},dt.prototype.decompose=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Le=this.tx,Ye=this.ty,st=Math.sqrt(ie*ie+fe*fe),Lt=(ie/=st)*Ee+(fe/=st)*Ae;Ee-=ie*Lt,Ae-=fe*Lt;var Vt=Math.sqrt(Ee*Ee+Ae*Ae);return Lt/=Vt,ie*(Ae/=Vt)<fe*(Ee/=Vt)&&(ie=-ie,fe=-fe,Lt=-Lt,st=-st),{scale:new dt(st,0,0,Vt,0,0),translate:new dt(1,0,0,1,Le,Ye),rotate:new dt(ie,fe,-fe,ie,0,0),skew:new dt(1,0,Lt,1,0,0)}},dt.prototype.toString=function(ie){return this.join(" ")},dt.prototype.inversed=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Le=this.tx,Ye=this.ty,st=1/(ie*Ae-fe*Ee),Lt=Ae*st,Vt=-fe*st,dr=-Ee*st,vr=ie*st;return new dt(Lt,Vt,dr,vr,-Lt*Le-dr*Ye,-Vt*Le-vr*Ye)},dt.prototype.applyToPoint=function(ie){var fe=ie.x*this.sx+ie.y*this.shx+this.tx,Ee=ie.x*this.shy+ie.y*this.sy+this.ty;return new td(fe,Ee)},dt.prototype.applyToRectangle=function(ie){var fe=this.applyToPoint(ie),Ee=this.applyToPoint(new td(ie.x+ie.w,ie.y+ie.h));return new Lp(fe.x,fe.y,Ee.x-fe.x,Ee.y-fe.y)},dt.prototype.clone=function(){var ie=this.sx,fe=this.shy,Ee=this.shx,Ae=this.sy,Le=this.tx,Ye=this.ty;return new dt(ie,fe,Ee,Ae,Le,Ye)},d.Matrix=dt;var wr=d.matrixMult=function(ie,fe){return fe.multiply(ie)},jr=new dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=jr;var Gt=function(ie,fe){if(!kt[ie]){var Ee=(fe instanceof eu?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);fe.id=Ee,kt[ie]=Ee,Ze[Ee]=fe,qt.publish("addPattern",fe)}};d.ShadingPattern=eu,d.TilingPattern=Dd,d.addShadingPattern=function(ie,fe){return O("addShadingPattern()"),Gt(ie,fe),this},d.beginTilingPattern=function(ie){O("beginTilingPattern()"),Dp(ie.boundingBox[0],ie.boundingBox[1],ie.boundingBox[2]-ie.boundingBox[0],ie.boundingBox[3]-ie.boundingBox[1],ie.matrix)},d.endTilingPattern=function(ie,fe){O("endTilingPattern()"),fe.stream=J[K].join(`
`),Gt(ie,fe),qt.publish("endTilingPattern",fe),Cr.pop().restore()};var Ne,Pe=d.__private__.newObject=function(){var ie=We();return ct(ie,!0),ie},We=d.__private__.newObjectDeferred=function(){return q++,$[q]=function(){return T},q},ct=function(ie,fe){return fe=typeof fe=="boolean"&&fe,$[ie]=T,fe&&ne(ie+" 0 obj"),ie},Bt=d.__private__.newAdditionalObject=function(){var ie={objId:We(),content:""};return V.push(ie),ie},vt=We(),Ft=We(),It=d.__private__.decodeColorString=function(ie){var fe=ie.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Ee=parseFloat(fe[0]);fe=[Ee,Ee,Ee,"r"]}for(var Ae="#",Le=0;Le<3;Le++)Ae+=("0"+Math.floor(255*parseFloat(fe[Le])).toString(16)).slice(-2);return Ae},Tt=d.__private__.encodeColorString=function(ie){var fe;typeof ie=="string"&&(ie={ch1:ie});var Ee=ie.ch1,Ae=ie.ch2,Le=ie.ch3,Ye=ie.ch4,st=ie.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Lt=new VM(Ee);if(Lt.ok)Ee=Lt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Vt=parseInt(Ee.substr(1),16);Ee=Vt>>16&255,Ae=Vt>>8&255,Le=255&Vt}if(Ae===void 0||Ye===void 0&&Ee===Ae&&Ae===Le)fe=typeof Ee=="string"?Ee+" "+st[0]:ie.precision===2?G(Ee/255)+" "+st[0]:I(Ee/255)+" "+st[0];else if(Ye===void 0||an(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",st[1]].join(" ");fe=typeof Ee=="string"?[Ee,Ae,Le,st[1]].join(" "):ie.precision===2?[G(Ee/255),G(Ae/255),G(Le/255),st[1]].join(" "):[I(Ee/255),I(Ae/255),I(Le/255),st[1]].join(" ")}else fe=typeof Ee=="string"?[Ee,Ae,Le,Ye,st[2]].join(" "):ie.precision===2?[G(Ee),G(Ae),G(Le),G(Ye),st[2]].join(" "):[I(Ee),I(Ae),I(Le),I(Ye),st[2]].join(" ");return fe},Kt=d.__private__.getFilters=function(){return o},zt=d.__private__.putStream=function(ie){var fe=(ie=ie||{}).data||"",Ee=ie.filters||Kt(),Ae=ie.alreadyAppliedFilters||[],Le=ie.addLength1||!1,Ye=fe.length,st=ie.objectId,Lt=function(_i){return _i};if(u!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Lt=cn.encryptor(st,0));var Vt={};Ee===!0&&(Ee=["FlateEncode"]);var dr=ie.additionalKeyValues||[],vr=(Vt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(fe,Ee):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Vt.data.length!==0&&(dr.push({key:"Length",value:Vt.data.length}),Le===!0&&dr.push({key:"Length1",value:Ye})),vr.length!=0)if(vr.split("/").length-1==1)dr.push({key:"Filter",value:vr});else{dr.push({key:"Filter",value:"["+vr+"]"});for(var Zr=0;Zr<dr.length;Zr+=1)if(dr[Zr].key==="DecodeParms"){for(var Mn=[],mi=0;mi<Vt.reverseChain.split("/").length-1;mi+=1)Mn.push("null");Mn.push(dr[Zr].value),dr[Zr].value="["+Mn.join(" ")+"]"}}ne("<<");for(var vn=0;vn<dr.length;vn++)ne("/"+dr[vn].key+" "+dr[vn].value);ne(">>"),Vt.data.length!==0&&(ne("stream"),ne(Lt(Vt.data)),ne("endstream"))},ar=d.__private__.putPage=function(ie){var fe=ie.number,Ee=ie.data,Ae=ie.objId,Le=ie.contentsObjId;ct(Ae,!0),ne("<</Type /Page"),ne("/Parent "+ie.rootDictionaryObjId+" 0 R"),ne("/Resources "+ie.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(L(ie.mediaBox.bottomLeftX))+" "+parseFloat(L(ie.mediaBox.bottomLeftY))+" "+L(ie.mediaBox.topRightX)+" "+L(ie.mediaBox.topRightY)+"]"),ie.cropBox!==null&&ne("/CropBox ["+L(ie.cropBox.bottomLeftX)+" "+L(ie.cropBox.bottomLeftY)+" "+L(ie.cropBox.topRightX)+" "+L(ie.cropBox.topRightY)+"]"),ie.bleedBox!==null&&ne("/BleedBox ["+L(ie.bleedBox.bottomLeftX)+" "+L(ie.bleedBox.bottomLeftY)+" "+L(ie.bleedBox.topRightX)+" "+L(ie.bleedBox.topRightY)+"]"),ie.trimBox!==null&&ne("/TrimBox ["+L(ie.trimBox.bottomLeftX)+" "+L(ie.trimBox.bottomLeftY)+" "+L(ie.trimBox.topRightX)+" "+L(ie.trimBox.topRightY)+"]"),ie.artBox!==null&&ne("/ArtBox ["+L(ie.artBox.bottomLeftX)+" "+L(ie.artBox.bottomLeftY)+" "+L(ie.artBox.topRightX)+" "+L(ie.artBox.topRightY)+"]"),typeof ie.userUnit=="number"&&ie.userUnit!==1&&ne("/UserUnit "+ie.userUnit),qt.publish("putPage",{objId:Ae,pageContext:ot[fe],pageNumber:fe,page:Ee}),ne("/Contents "+Le+" 0 R"),ne(">>"),ne("endobj");var Ye=Ee.join(`
`);return w===x&&(Ye+=`
Q`),ct(Le,!0),zt({data:Ye,filters:Kt(),objectId:Le}),ne("endobj"),Ae},Gr=d.__private__.putPages=function(){var ie,fe,Ee=[];for(ie=1;ie<=St;ie++)ot[ie].objId=We(),ot[ie].contentsObjId=We();for(ie=1;ie<=St;ie++)Ee.push(ar({number:ie,data:J[ie],objId:ot[ie].objId,contentsObjId:ot[ie].contentsObjId,mediaBox:ot[ie].mediaBox,cropBox:ot[ie].cropBox,bleedBox:ot[ie].bleedBox,trimBox:ot[ie].trimBox,artBox:ot[ie].artBox,userUnit:ot[ie].userUnit,rootDictionaryObjId:vt,resourceDictionaryObjId:Ft}));ct(vt,!0),ne("<</Type /Pages");var Ae="/Kids [";for(fe=0;fe<St;fe++)Ae+=Ee[fe]+" 0 R ";ne(Ae+"]"),ne("/Count "+St),ne(">>"),ne("endobj"),qt.publish("postPutPages")},zr=function(ie){qt.publish("putFont",{font:ie,out:ne,newObject:Pe,putStream:zt}),ie.isAlreadyPutted!==!0&&(ie.objectNumber=Pe(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+af(ie.postScriptName)),ne("/Subtype /Type1"),typeof ie.encoding=="string"&&ne("/Encoding /"+ie.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},mn=function(ie){ie.objectNumber=Pe();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[L(ie.x),L(ie.y),L(ie.x+ie.width),L(ie.y+ie.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"});var Ee=ie.pages[1].join(`
`);zt({data:Ee,additionalKeyValues:fe,objectId:ie.objectNumber}),ne("endobj")},gn=function(ie,fe){fe||(fe=21);var Ee=Pe(),Ae=function(st,Lt){var Vt,dr=[],vr=1/(Lt-1);for(Vt=0;Vt<1;Vt+=vr)dr.push(Vt);if(dr.push(1),st[0].offset!=0){var Zr={offset:0,color:st[0].color};st.unshift(Zr)}if(st[st.length-1].offset!=1){var Mn={offset:1,color:st[st.length-1].color};st.push(Mn)}for(var mi="",vn=0,_i=0;_i<dr.length;_i++){for(Vt=dr[_i];Vt>st[vn+1].offset;)vn++;var gi=st[vn].offset,qi=(Vt-gi)/(st[vn+1].offset-gi),Ta=st[vn].color,Fs=st[vn+1].color;mi+=te(Math.round((1-qi)*Ta[0]+qi*Fs[0]).toString(16))+te(Math.round((1-qi)*Ta[1]+qi*Fs[1]).toString(16))+te(Math.round((1-qi)*Ta[2]+qi*Fs[2]).toString(16))}return mi.trim()}(ie.colors,fe),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+fe+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zt({data:Ae,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ne("endobj"),ie.objectNumber=Pe(),ne("<< /ShadingType "+ie.type),ne("/ColorSpace /DeviceRGB");var Ye="/Coords ["+L(parseFloat(ie.coords[0]))+" "+L(parseFloat(ie.coords[1]))+" ";ie.type===2?Ye+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3])):Ye+=L(parseFloat(ie.coords[2]))+" "+L(parseFloat(ie.coords[3]))+" "+L(parseFloat(ie.coords[4]))+" "+L(parseFloat(ie.coords[5])),ne(Ye+="]"),ie.matrix&&ne("/Matrix ["+ie.matrix.toString()+"]"),ne("/Function "+Ee+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Qn=function(ie,fe){var Ee=We(),Ae=Pe();fe.push({resourcesOid:Ee,objectOid:Ae}),ie.objectNumber=Ae;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+ie.boundingBox.map(L).join(" ")+"]"}),Le.push({key:"XStep",value:L(ie.xStep)}),Le.push({key:"YStep",value:L(ie.yStep)}),Le.push({key:"Resources",value:Ee+" 0 R"}),ie.matrix&&Le.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"}),zt({data:ie.stream,additionalKeyValues:Le,objectId:ie.objectNumber}),ne("endobj")},we=function(ie){for(var fe in ie.objectNumber=Pe(),ne("<<"),ie)switch(fe){case"opacity":ne("/ca "+G(ie[fe]));break;case"stroke-opacity":ne("/CA "+G(ie[fe]))}ne(">>"),ne("endobj")},De=function(ie){ct(ie.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var fe in ne("/Font <<"),Ue)Ue.hasOwnProperty(fe)&&(h===!1||h===!0&&f.hasOwnProperty(fe))&&ne("/"+fe+" "+Ue[fe].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(Ze).length>0){for(var fe in ne("/Shading <<"),Ze)Ze.hasOwnProperty(fe)&&Ze[fe]instanceof eu&&Ze[fe].objectNumber>=0&&ne("/"+fe+" "+Ze[fe].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),ne(">>")}}(),function(fe){if(Object.keys(Ze).length>0){for(var Ee in ne("/Pattern <<"),Ze)Ze.hasOwnProperty(Ee)&&Ze[Ee]instanceof d.TilingPattern&&Ze[Ee].objectNumber>=0&&Ze[Ee].objectNumber<fe&&ne("/"+Ee+" "+Ze[Ee].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),ne(">>")}}(ie.objectOid),function(){if(Object.keys(wt).length>0){var fe;for(fe in ne("/ExtGState <<"),wt)wt.hasOwnProperty(fe)&&wt[fe].objectNumber>=0&&ne("/"+fe+" "+wt[fe].objectNumber+" 0 R");qt.publish("putGStateDict"),ne(">>")}}(),function(){for(var fe in ne("/XObject <<"),jt)jt.hasOwnProperty(fe)&&jt[fe].objectNumber>=0&&ne("/"+fe+" "+jt[fe].objectNumber+" 0 R");qt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},et=function(ie){Ke[ie.fontName]=Ke[ie.fontName]||{},Ke[ie.fontName][ie.fontStyle]=ie.id},it=function(ie,fe,Ee,Ae,Le){var Ye={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:ie,fontName:fe,fontStyle:Ee,encoding:Ae,isStandardFont:Le||!1,metadata:{}};return qt.publish("addFont",{font:Ye,instance:this}),Ue[Ye.id]=Ye,et(Ye),Ye.id},At=d.__private__.pdfEscape=d.pdfEscape=function(ie,fe){return function(Ee,Ae){var Le,Ye,st,Lt,Vt,dr,vr,Zr,Mn;if(st=(Ae=Ae||{}).sourceEncoding||"Unicode",Vt=Ae.outputEncoding,(Ae.autoencode||Vt)&&Ue[qe].metadata&&Ue[qe].metadata[st]&&Ue[qe].metadata[st].encoding&&(Lt=Ue[qe].metadata[st].encoding,!Vt&&Ue[qe].encoding&&(Vt=Ue[qe].encoding),!Vt&&Lt.codePages&&(Vt=Lt.codePages[0]),typeof Vt=="string"&&(Vt=Lt[Vt]),Vt)){for(vr=!1,dr=[],Le=0,Ye=Ee.length;Le<Ye;Le++)(Zr=Vt[Ee.charCodeAt(Le)])?dr.push(String.fromCharCode(Zr)):dr.push(Ee[Le]),dr[Le].charCodeAt(0)>>8&&(vr=!0);Ee=dr.join("")}for(Le=Ee.length;vr===void 0&&Le!==0;)Ee.charCodeAt(Le-1)>>8&&(vr=!0),Le--;if(!vr)return Ee;for(dr=Ae.noBOM?[]:[254,255],Le=0,Ye=Ee.length;Le<Ye;Le++){if((Mn=(Zr=Ee.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(Mn),dr.push(Zr-(Mn<<8))}return String.fromCharCode.apply(void 0,dr)}(ie,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mt=d.__private__.beginPage=function(ie){J[++St]=[],ot[St]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ie[0]),topRightY:Number(ie[1])}},lr(St),B(J[K])},yt=function(ie,fe){var Ee,Ae,Le;switch(r=fe||r,typeof ie=="string"&&(Ee=v(ie.toLowerCase()),Array.isArray(Ee)&&(Ae=Ee[0],Le=Ee[1])),Array.isArray(ie)&&(Ae=ie[0]*Je,Le=ie[1]*Je),isNaN(Ae)&&(Ae=i[0],Le=i[1]),(Ae>14400||Le>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Le=Math.min(14400,Le)),i=[Ae,Le],r.substr(0,1)){case"l":Le>Ae&&(i=[Le,Ae]);break;case"p":Ae>Le&&(i=[Le,Ae])}mt(i),xc(Mo),ne(Ah),Ip!==0&&ne(Ip+" J"),Mp!==0&&ne(Mp+" j"),qt.publish("addPage",{pageNumber:St})},_r=function(ie){ie>0&&ie<=St&&(J.splice(ie,1),ot.splice(ie,1),St--,K>St&&(K=St),this.setPage(K))},lr=function(ie){ie>0&&ie<=St&&(K=ie)},fr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return J.length-1},Xt=function(ie,fe,Ee){var Ae,Le=void 0;return Ee=Ee||{},ie=ie!==void 0?ie:Ue[qe].fontName,fe=fe!==void 0?fe:Ue[qe].fontStyle,Ae=ie.toLowerCase(),Ke[Ae]!==void 0&&Ke[Ae][fe]!==void 0?Le=Ke[Ae][fe]:Ke[ie]!==void 0&&Ke[ie][fe]!==void 0?Le=Ke[ie][fe]:Ee.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+ie+"', '"+fe+"'. Refer to getFontList() for available fonts."),Le||Ee.noFallback||(Le=Ke.times[fe])==null&&(Le=Ke.times.normal),Le},Dr=d.__private__.putInfo=function(){var ie=Pe(),fe=function(Ae){return Ae};for(var Ee in u!==null&&(fe=cn.encryptor(ie,0)),ne("<<"),ne("/Producer ("+At(fe("jsPDF "+Dt.version))+")"),je)je.hasOwnProperty(Ee)&&je[Ee]&&ne("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+At(fe(je[Ee]))+")");ne("/CreationDate ("+At(fe(j))+")"),ne(">>"),ne("endobj")},Hr=d.__private__.putCatalog=function(ie){var fe=(ie=ie||{}).rootDictionaryObjId||vt;switch(Pe(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+fe+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ae;Ee.substr(Ee.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+G(ae)+"]")}switch(ge||(ge="continuous"),ge){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}de&&ne("/PageMode /"+de),qt.publish("putCatalog"),ne(">>"),ne("endobj")},ir=d.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(q+1)),ne("/Root "+q+" 0 R"),ne("/Info "+(q-1)+" 0 R"),u!==null&&ne("/Encrypt "+cn.oid+" 0 R"),ne("/ID [ <"+k+"> <"+k+"> ]"),ne(">>")},ln=d.__private__.putHeader=function(){ne("%PDF-"+p),ne("%ºß¬à")},In=d.__private__.putXRef=function(){var ie="0000000000";ne("xref"),ne("0 "+(q+1)),ne("0000000000 65535 f ");for(var fe=1;fe<=q;fe++)typeof $[fe]=="function"?ne((ie+$[fe]()).slice(-10)+" 00000 n "):$[fe]!==void 0?ne((ie+$[fe]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},_n=d.__private__.buildDocument=function(){var ie;q=0,T=0,N=[],$=[],V=[],vt=We(),Ft=We(),B(N),qt.publish("buildDocument"),ln(),Gr(),function(){qt.publish("putAdditionalObjects");for(var Ee=0;Ee<V.length;Ee++){var Ae=V[Ee];ct(Ae.objId,!0),ne(Ae.content),ne("endobj")}qt.publish("postPutAdditionalObjects")}(),ie=[],function(){for(var Ee in Ue)Ue.hasOwnProperty(Ee)&&(h===!1||h===!0&&f.hasOwnProperty(Ee))&&zr(Ue[Ee])}(),function(){var Ee;for(Ee in wt)wt.hasOwnProperty(Ee)&&we(wt[Ee])}(),function(){for(var Ee in jt)jt.hasOwnProperty(Ee)&&mn(jt[Ee])}(),function(Ee){var Ae;for(Ae in Ze)Ze.hasOwnProperty(Ae)&&(Ze[Ae]instanceof eu?gn(Ze[Ae]):Ze[Ae]instanceof Dd&&Qn(Ze[Ae],Ee))}(ie),qt.publish("putResources"),ie.forEach(De),De({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),u!==null&&(cn.oid=Pe(),ne("<<"),ne("/Filter /Standard"),ne("/V "+cn.v),ne("/R "+cn.r),ne("/U <"+cn.toHexString(cn.U)+">"),ne("/O <"+cn.toHexString(cn.O)+">"),ne("/P "+cn.P),ne(">>"),ne("endobj")),Dr(),Hr();var fe=T;return In(),ir(),ne("startxref"),ne(""+fe),ne("%%EOF"),B(J[K]),N.join(`
`)},xi=d.__private__.getBlob=function(ie){return new Blob([F(ie)],{type:"application/pdf"})},wi=d.output=d.__private__.output=(Ne=function(ie,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",ie){case void 0:return _n();case"save":d.save(fe.filename);break;case"arraybuffer":return F(_n());case"blob":return xi(_n());case"bloburi":case"bloburl":if(cr.URL!==void 0&&typeof cr.URL.createObjectURL=="function")return cr.URL&&cr.URL.createObjectURL(xi(_n()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ae=_n();try{Ee=eA(Ae)}catch{Ee=eA(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(Le=fe.pdfObjectUrl,Ye="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Lt=cr.open();return Lt!==null&&Lt.document.write(st),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',dr=cr.open();if(dr!==null){dr.document.write(Vt);var vr=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=fe.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vr.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Zr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Mn=cr.open();if(Mn!==null&&(Mn.document.write(Zr),Mn.document.title=fe.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return cr.document.location.href=this.output("datauristring",fe);default:return null}},Ne.foo=function(){try{return Ne.apply(this,arguments)}catch(Ee){var ie=Ee.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var fe="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!cr.console)throw new Error(fe);cr.console.error(fe,Ee),cr.alert&&alert(fe)}},Ne.foo.bar=Ne,Ne.foo),Ls=function(ie){return Array.isArray(kr)===!0&&kr.indexOf(ie)>-1};switch(n){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Ls("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Je=n}var cn=null;z(),A();var Aa=d.__private__.getPageInfo=d.getPageInfo=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[ie].objId,pageNumber:ie,pageContext:ot[ie]}},Wr=d.__private__.getPageInfoByObjId=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in ot)if(ot[fe].objId===ie)break;return Aa(fe)},Mr=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ot[K].objId,pageNumber:K,pageContext:ot[K]}};d.addPage=function(){return yt.apply(this,arguments),this},d.setPage=function(){return lr.apply(this,arguments),B.call(this,J[K]),this},d.insertPage=function(ie){return this.addPage(),this.movePage(K,ie),this},d.movePage=function(ie,fe){var Ee,Ae;if(ie>fe){Ee=J[ie],Ae=ot[ie];for(var Le=ie;Le>fe;Le--)J[Le]=J[Le-1],ot[Le]=ot[Le-1];J[fe]=Ee,ot[fe]=Ae,this.setPage(fe)}else if(ie<fe){Ee=J[ie],Ae=ot[ie];for(var Ye=ie;Ye<fe;Ye++)J[Ye]=J[Ye+1],ot[Ye]=ot[Ye+1];J[fe]=Ee,ot[fe]=Ae,this.setPage(fe)}return this},d.deletePage=function(){return _r.apply(this,arguments),this},d.__private__.text=d.text=function(ie,fe,Ee,Ae,Le){var Ye,st,Lt,Vt,dr,vr,Zr,Mn,mi,vn=(Ae=Ae||{}).scope||this;if(typeof ie=="number"&&typeof fe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var _i=Ee;Ee=fe,fe=ie,ie=_i}if(arguments[3]instanceof dt==0?(Lt=arguments[4],Vt=arguments[5],an(Zr=arguments[3])==="object"&&Zr!==null||(typeof Lt=="string"&&(Vt=Lt,Lt=null),typeof Zr=="string"&&(Vt=Zr,Zr=null),typeof Zr=="number"&&(Lt=Zr,Zr=null),Ae={flags:Zr,angle:Lt,align:Vt})):(O("The transform parameter of text() with a Matrix value"),mi=Le),isNaN(fe)||isNaN(Ee)||ie==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ie.length===0)return vn;var gi,qi="",Ta=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ja,Fs=vn.internal.scaleFactor;function e1(tn){return tn=tn.split("	").join(Array(Ae.TabLen||9).join(" ")),At(tn,Zr)}function Rh(tn){for(var hn,ti=tn.concat(),Si=[],Cl=ti.length;Cl--;)typeof(hn=ti.shift())=="string"?Si.push(hn):Array.isArray(tn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?Si.push(hn[0]):Si.push([hn[0],hn[1],hn[2]]);return Si}function id(tn,hn){var ti;if(typeof tn=="string")ti=hn(tn)[0];else if(Array.isArray(tn)){for(var Si,Cl,Gp=tn.concat(),Ih=[],n1=Gp.length;n1--;)typeof(Si=Gp.shift())=="string"?Ih.push(hn(Si)[0]):Array.isArray(Si)&&typeof Si[0]=="string"&&(Cl=hn(Si[0],Si[1],Si[2]),Ih.push([Cl[0],Cl[1],Cl[2]]));ti=Ih}return ti}var _c=!1,sd=!0;if(typeof ie=="string")_c=!0;else if(Array.isArray(ie)){var ad=ie.concat();st=[];for(var od,cs=ad.length;cs--;)(typeof(od=ad.shift())!="string"||Array.isArray(od)&&typeof od[0]!="string")&&(sd=!1);_c=sd}if(_c===!1)throw new Error('Type of text must be string or Array. "'+ie+'" is not recognized.');typeof ie=="string"&&(ie=ie.match(/[\r?\n]/)?ie.split(/\r\n|\r|\n/g):[ie]);var ld=Y/vn.internal.scaleFactor,cd=ld*(Ta-1);switch(Ae.baseline){case"bottom":Ee-=cd;break;case"top":Ee+=ld-cd;break;case"hanging":Ee+=ld-2*cd;break;case"middle":Ee+=ld/2-cd}if((vr=Ae.maxWidth||0)>0&&(typeof ie=="string"?ie=vn.splitTextToSize(ie,vr):Object.prototype.toString.call(ie)==="[object Array]"&&(ie=ie.reduce(function(tn,hn){return tn.concat(vn.splitTextToSize(hn,vr))},[]))),Ye={text:ie,x:fe,y:Ee,options:Ae,mutex:{pdfEscape:At,activeFontKey:qe,fonts:Ue,activeFontSize:Y}},qt.publish("preProcessText",Ye),ie=Ye.text,Lt=(Ae=Ye.options).angle,mi instanceof dt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Ae.rotationDirection===0&&(Lt=-Lt),w===x&&(Lt=-Lt);var Bp=Math.cos(Lt),Fp=Math.sin(Lt);mi=new dt(Bp,Fp,-Fp,Bp,0,0)}else Lt&&Lt instanceof dt&&(mi=Lt);w!==x||mi||(mi=jr),(dr=Ae.charSpace||jh)!==void 0&&(qi+=L(R(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=Ae.horizontalScale)!==void 0&&(qi+=L(100*Mn)+` Tz
`),Ae.lang;var zn=-1,Nl=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Ph=vn.internal.getCurrentPageInfo().pageContext;switch(Nl){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var t1=Ph.usedRenderingMode!==void 0?Ph.usedRenderingMode:-1;zn!==-1?qi+=zn+` Tr
`:t1!==-1&&(qi+=`0 Tr
`),zn!==-1&&(Ph.usedRenderingMode=zn),Vt=Ae.align||"left";var Ra,ud=Y*Ta,zp=vn.internal.pageSize.getWidth(),Up=Ue[qe];dr=Ae.charSpace||jh,vr=Ae.maxWidth||0,Zr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Sc=[],dd=function(tn){return vn.getStringUnitWidth(tn,{font:Up,charSpace:dr,fontSize:Y,doKerning:!1})*Y/Fs};if(Object.prototype.toString.call(ie)==="[object Array]"){var sa;st=Rh(ie),Vt!=="left"&&(Ra=st.map(dd));var aa,Ec=0;if(Vt==="right"){fe-=Ra[0],ie=[],cs=st.length;for(var Al=0;Al<cs;Al++)Al===0?(aa=_l(fe),sa=Sl(Ee)):(aa=R(Ec-Ra[Al]),sa=-ud),ie.push([st[Al],aa,sa]),Ec=Ra[Al]}else if(Vt==="center"){fe-=Ra[0]/2,ie=[],cs=st.length;for(var kc=0;kc<cs;kc++)kc===0?(aa=_l(fe),sa=Sl(Ee)):(aa=R((Ec-Ra[kc])/2),sa=-ud),ie.push([st[kc],aa,sa]),Ec=Ra[kc]}else if(Vt==="left"){ie=[],cs=st.length;for(var $p=0;$p<cs;$p++)ie.push(st[$p])}else if(Vt==="justify"&&Up.encoding==="Identity-H"){ie=[],cs=st.length,vr=vr!==0?vr:zp;for(var Oh=0,ei=0;ei<cs;ei++)if(sa=ei===0?Sl(Ee):-ud,aa=ei===0?_l(fe):Oh,ei<cs-1){var r1=R((vr-Ra[ei])/(st[ei].split(" ").length-1)),Lo=st[ei].split(" ");ie.push([Lo[0]+" ",aa,sa]),Oh=0;for(var Do=1;Do<Lo.length;Do++){var Hp=(dd(Lo[Do-1]+" "+Lo[Do])-dd(Lo[Do]))*Fs+r1;Do==Lo.length-1?ie.push([Lo[Do],Hp,0]):ie.push([Lo[Do]+" ",Hp,0]),Oh-=Hp}}else ie.push([st[ei],aa,sa]);ie.push(["",Oh,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ie=[],cs=st.length,vr=vr!==0?vr:zp,ei=0;ei<cs;ei++){sa=ei===0?Sl(Ee):-ud,aa=ei===0?_l(fe):0;var Wp=st[ei].split(" ").length-1,qp=Wp>0?(vr-Ra[ei])/Wp:0;ei<cs-1?Sc.push(L(R(qp))):Sc.push(0),ie.push([st[ei],aa,sa])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:le)===!0&&(ie=id(ie,function(tn,hn,ti){return[tn.split("").reverse().join(""),hn,ti]})),Ye={text:ie,x:fe,y:Ee,options:Ae,mutex:{pdfEscape:At,activeFontKey:qe,fonts:Ue,activeFontSize:Y}},qt.publish("postProcessText",Ye),ie=Ye.text,gi=Ye.mutex.isHex||!1;var Vp=Ue[qe].encoding;Vp!=="WinAnsiEncoding"&&Vp!=="StandardEncoding"||(ie=id(ie,function(tn,hn,ti){return[e1(tn),hn,ti]})),st=Rh(ie),ie=[];for(var Nc,Ac,Cc,hd=Array.isArray(st[0])?1:0,jc="",fd=function(tn,hn,ti){var Si="";return ti instanceof dt?(ti=typeof Ae.angle=="number"?wr(ti,new dt(1,0,0,1,tn,hn)):wr(new dt(1,0,0,1,tn,hn),ti),w===x&&(ti=wr(new dt(1,0,0,-1,0,0),ti)),Si=ti.join(" ")+` Tm
`):Si=L(tn)+" "+L(hn)+` Td
`,Si},Pa=0;Pa<st.length;Pa++){switch(jc="",hd){case 1:Cc=(gi?"<":"(")+st[Pa][0]+(gi?">":")"),Nc=parseFloat(st[Pa][1]),Ac=parseFloat(st[Pa][2]);break;case 0:Cc=(gi?"<":"(")+st[Pa]+(gi?">":")"),Nc=_l(fe),Ac=Sl(Ee)}Sc!==void 0&&Sc[Pa]!==void 0&&(jc=Sc[Pa]+` Tw
`),Pa===0?ie.push(jc+fd(Nc,Ac,mi)+Cc):hd===0?ie.push(jc+Cc):hd===1&&ie.push(jc+fd(Nc,Ac,mi)+Cc)}ie=hd===0?ie.join(` Tj
T* `):ie.join(` Tj
`),ie+=` Tj
`;var Bo=`BT
/`;return Bo+=qe+" "+Y+` Tf
`,Bo+=L(Y*Ta)+` TL
`,Bo+=Qu+`
`,Bo+=qi,Bo+=ie,ne(Bo+="ET"),f[qe]=!0,vn};var Ca=d.__private__.clip=d.clip=function(ie){return ne(ie==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Ca("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ne("n"),this};var Di=d.__private__.isValidStyle=function(ie){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ie)!==-1&&(fe=!0),fe};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(ie){return Di(ie)&&(c=ie),this};var xl=d.__private__.getStyle=d.getStyle=function(ie){var fe=c;switch(ie){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=ie}return fe},Bi=d.close=function(){return ne("h"),this};d.stroke=function(){return ne("S"),this},d.fill=function(ie){return Fi("f",ie),this},d.fillEvenOdd=function(ie){return Fi("f*",ie),this},d.fillStroke=function(ie){return Fi("B",ie),this},d.fillStrokeEvenOdd=function(ie){return Fi("B*",ie),this};var Fi=function(ie,fe){an(fe)==="object"?bc(fe,ie):ne(ie)},Ds=function(ie){ie===null||w===x&&ie===void 0||(ie=xl(ie),ne(ie))};function wl(ie,fe,Ee,Ae,Le){var Ye=new Dd(fe||this.boundingBox,Ee||this.xStep,Ae||this.yStep,this.gState,Le||this.matrix);Ye.stream=this.stream;var st=ie+"$$"+this.cloneIndex+++"$$";return Gt(st,Ye),Ye}var bc=function(ie,fe){var Ee=kt[ie.key],Ae=Ze[Ee];if(Ae instanceof eu)ne("q"),ne(Oo(fe)),Ae.gState&&d.setGState(Ae.gState),ne(ie.matrix.toString()+" cm"),ne("/"+Ee+" sh"),ne("Q");else if(Ae instanceof Dd){var Le=new dt(1,0,0,-1,0,nd());ie.matrix&&(Le=Le.multiply(ie.matrix||jr),Ee=wl.call(Ae,ie.key,ie.boundingBox,ie.xStep,ie.yStep,Le).id),ne("q"),ne("/Pattern cs"),ne("/"+Ee+" scn"),Ae.gState&&d.setGState(Ae.gState),ne(fe),ne("Q")}},Oo=function(ie){switch(ie){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bs=d.moveTo=function(ie,fe){return ne(L(R(ie))+" "+L(S(fe))+" m"),this},Io=d.lineTo=function(ie,fe){return ne(L(R(ie))+" "+L(S(fe))+" l"),this},ia=d.curveTo=function(ie,fe,Ee,Ae,Le,Ye){return ne([L(R(ie)),L(S(fe)),L(R(Ee)),L(S(Ae)),L(R(Le)),L(S(Ye)),"c"].join(" ")),this};d.__private__.line=d.line=function(ie,fe,Ee,Ae,Le){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Le))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[Ee-ie,Ae-fe]],ie,fe,[1,1],Le||"S"):this.lines([[Ee-ie,Ae-fe]],ie,fe,[1,1]).stroke()},d.__private__.lines=d.lines=function(ie,fe,Ee,Ae,Le,Ye){var st,Lt,Vt,dr,vr,Zr,Mn,mi,vn,_i,gi,qi;if(typeof ie=="number"&&(qi=Ee,Ee=fe,fe=ie,ie=qi),Ae=Ae||[1,1],Ye=Ye||!1,isNaN(fe)||isNaN(Ee)||!Array.isArray(ie)||!Array.isArray(Ae)||!Di(Le)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bs(fe,Ee),st=Ae[0],Lt=Ae[1],dr=ie.length,_i=fe,gi=Ee,Vt=0;Vt<dr;Vt++)(vr=ie[Vt]).length===2?(_i=vr[0]*st+_i,gi=vr[1]*Lt+gi,Io(_i,gi)):(Zr=vr[0]*st+_i,Mn=vr[1]*Lt+gi,mi=vr[2]*st+_i,vn=vr[3]*Lt+gi,_i=vr[4]*st+_i,gi=vr[5]*Lt+gi,ia(Zr,Mn,mi,vn,_i,gi));return Ye&&Bi(),Ds(Le),this},d.path=function(ie){for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe],Ae=Ee.c;switch(Ee.op){case"m":Bs(Ae[0],Ae[1]);break;case"l":Io(Ae[0],Ae[1]);break;case"c":ia.apply(this,Ae);break;case"h":Bi()}}return this},d.__private__.rect=d.rect=function(ie,fe,Ee,Ae,Le){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(Ae=-Ae),ne([L(R(ie)),L(S(fe)),L(R(Ee)),L(R(Ae)),"re"].join(" ")),Ds(Le),this},d.__private__.triangle=d.triangle=function(ie,fe,Ee,Ae,Le,Ye,st){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||isNaN(Le)||isNaN(Ye)||!Di(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-ie,Ae-fe],[Le-Ee,Ye-Ae],[ie-Le,fe-Ye]],ie,fe,[1,1],st,!0),this},d.__private__.roundedRect=d.roundedRect=function(ie,fe,Ee,Ae,Le,Ye,st){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||isNaN(Le)||isNaN(Ye)||!Di(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*Ee),Ye=Math.min(Ye,.5*Ae),this.lines([[Ee-2*Le,0],[Le*Lt,0,Le,Ye-Ye*Lt,Le,Ye],[0,Ae-2*Ye],[0,Ye*Lt,-Le*Lt,Ye,-Le,Ye],[2*Le-Ee,0],[-Le*Lt,0,-Le,-Ye*Lt,-Le,-Ye],[0,2*Ye-Ae],[0,-Ye*Lt,Le*Lt,-Ye,Le,-Ye]],ie+Le,fe,[1,1],st,!0),this},d.__private__.ellipse=d.ellipse=function(ie,fe,Ee,Ae,Le){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||isNaN(Ae)||!Di(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*Ee,st=4/3*(Math.SQRT2-1)*Ae;return Bs(ie+Ee,fe),ia(ie+Ee,fe-st,ie+Ye,fe-Ae,ie,fe-Ae),ia(ie-Ye,fe-Ae,ie-Ee,fe-st,ie-Ee,fe),ia(ie-Ee,fe+st,ie-Ye,fe+Ae,ie,fe+Ae),ia(ie+Ye,fe+Ae,ie+Ee,fe+st,ie+Ee,fe),Ds(Le),this},d.__private__.circle=d.circle=function(ie,fe,Ee,Ae){if(isNaN(ie)||isNaN(fe)||isNaN(Ee)||!Di(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ie,fe,Ee,Ee,Ae)},d.setFont=function(ie,fe,Ee){return Ee&&(fe=U(fe,Ee)),qe=Xt(ie,fe,{disableWarning:!1}),this};var Ju=d.__private__.getFont=d.getFont=function(){return Ue[Xt.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var ie,fe,Ee={};for(ie in Ke)if(Ke.hasOwnProperty(ie))for(fe in Ee[ie]=[],Ke[ie])Ke[ie].hasOwnProperty(fe)&&Ee[ie].push(fe);return Ee},d.addFont=function(ie,fe,Ee,Ae,Le){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(Ee=U(Ee,Ae)),it.call(this,ie,fe,Ee,Le=Le||"Identity-H")};var ja,Mo=e.lineWidth||.200025,or=d.__private__.getLineWidth=d.getLineWidth=function(){return Mo},xc=d.__private__.setLineWidth=d.setLineWidth=function(ie){return Mo=ie,ne(L(R(ie))+" w"),this};d.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(ie,fe){if(ie=ie||[],fe=fe||0,isNaN(fe)||!Array.isArray(ie))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ie=ie.map(function(Ee){return L(R(Ee))}).join(" "),fe=L(R(fe)),ne("["+ie+"] "+fe+" d"),this};var wc=d.__private__.getLineHeight=d.getLineHeight=function(){return Y*ja};d.__private__.getLineHeight=d.getLineHeight=function(){return Y*ja};var rx=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(ie){return typeof(ie=ie||1.15)=="number"&&(ja=ie),this},nx=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ja};rx(e.lineHeight);var _l=d.__private__.getHorizontalCoordinate=function(ie){return R(ie)},Sl=d.__private__.getVerticalCoordinate=function(ie){return w===x?ie:ot[K].mediaBox.topRightY-ot[K].mediaBox.bottomLeftY-R(ie)},ix=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(ie){return L(_l(ie))},sx=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(ie){return L(Sl(ie))},Ah=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return It(Ah)},d.__private__.setStrokeColor=d.setDrawColor=function(ie,fe,Ee,Ae){return Ah=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"draw",precision:2}),ne(Ah),this};var Op=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return It(Op)},d.__private__.setFillColor=d.setFillColor=function(ie,fe,Ee,Ae){return Op=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"fill",precision:2}),ne(Op),this};var Qu=e.textColor||"0 g",Ch=d.__private__.getTextColor=d.getTextColor=function(){return It(Qu)};d.__private__.setTextColor=d.setTextColor=function(ie,fe,Ee,Ae){return Qu=Tt({ch1:ie,ch2:fe,ch3:Ee,ch4:Ae,pdfColorType:"text",precision:3}),this};var jh=e.charSpace,ax=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(jh||0)};d.__private__.setCharSpace=d.setCharSpace=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jh=ie,this};var Ip=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(ie){var fe=d.CapJoinStyles[ie];if(fe===void 0)throw new Error("Line cap style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ip=fe,ne(fe+" J"),this};var Mp=0;d.__private__.setLineJoin=d.setLineJoin=function(ie){var fe=d.CapJoinStyles[ie];if(fe===void 0)throw new Error("Line join style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mp=fe,ne(fe+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(ie){if(ie=ie||0,isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(L(R(ie))+" M"),this},d.GState=W0,d.setGState=function(ie){(ie=typeof ie=="string"?wt[xt[ie]]:ed(null,ie)).equals(Wt)||(ne("/"+ie.id+" gs"),Wt=ie)};var ed=function(ie,fe){if(!ie||!xt[ie]){var Ee=!1;for(var Ae in wt)if(wt.hasOwnProperty(Ae)&&wt[Ae].equals(fe)){Ee=!0;break}if(Ee)fe=wt[Ae];else{var Le="GS"+(Object.keys(wt).length+1).toString(10);wt[Le]=fe,fe.id=Le}return ie&&(xt[ie]=fe.id),qt.publish("addGState",fe),fe}};d.addGState=function(ie,fe){return ed(ie,fe),this},d.saveGraphicsState=function(){return ne("q"),rt.push({key:qe,size:Y,color:Qu}),this},d.restoreGraphicsState=function(){ne("Q");var ie=rt.pop();return qe=ie.key,Y=ie.size,Qu=ie.color,Wt=null,this},d.setCurrentTransformationMatrix=function(ie){return ne(ie.toString()+" cm"),this},d.comment=function(ie){return ne("#"+ie),this};var td=function(ie,fe){var Ee=ie||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(Ye){isNaN(Ye)||(Ee=parseFloat(Ye))}});var Ae=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ye){isNaN(Ye)||(Ae=parseFloat(Ye))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Ye){Le=Ye.toString()}}),this},Lp=function(ie,fe,Ee,Ae){td.call(this,ie,fe),this.type="rect";var Le=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(st){isNaN(st)||(Le=parseFloat(st))}});var Ye=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(st){isNaN(st)||(Ye=parseFloat(st))}}),this},Th=function(){this.page=St,this.currentPage=K,this.pages=J.slice(0),this.pagesContext=ot.slice(0),this.x=Ve,this.y=pt,this.matrix=$e,this.width=Xg(K),this.height=El(K),this.outputDestination=se,this.id="",this.objectNumber=-1};Th.prototype.restore=function(){St=this.page,K=this.currentPage,ot=this.pagesContext,J=this.pages,Ve=this.x,pt=this.y,$e=this.matrix,Zg(K,this.width),kl(K,this.height),se=this.outputDestination};var Dp=function(ie,fe,Ee,Ae,Le){Cr.push(new Th),St=K=0,J=[],Ve=ie,pt=fe,$e=Le,mt([Ee,Ae])};for(var rd in d.beginFormObject=function(ie,fe,Ee,Ae,Le){return Dp(ie,fe,Ee,Ae,Le),this},d.endFormObject=function(ie){return function(fe){if(hr[fe])Cr.pop().restore();else{var Ee=new Th,Ae="Xo"+(Object.keys(jt).length+1).toString(10);Ee.id=Ae,hr[fe]=Ae,jt[Ae]=Ee,qt.publish("addFormObject",Ee),Cr.pop().restore()}}(ie),this},d.doFormObject=function(ie,fe){var Ee=jt[hr[ie]];return ne("q"),ne(fe.toString()+" cm"),ne("/"+Ee.id+" Do"),ne("Q"),this},d.getFormObject=function(ie){var fe=jt[hr[ie]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},d.save=function(ie,fe){return ie=ie||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Nd(xi(_n()),ie),typeof Nd.unload=="function"&&cr.setTimeout&&setTimeout(Nd.unload,911),this):new Promise(function(Ee,Ae){try{var Le=Nd(xi(_n()),ie);typeof Nd.unload=="function"&&cr.setTimeout&&setTimeout(Nd.unload,911),Ee(Le)}catch(Ye){Ae(Ye.message)}})},Dt.API)Dt.API.hasOwnProperty(rd)&&(rd==="events"&&Dt.API.events.length?function(ie,fe){var Ee,Ae,Le;for(Le=fe.length-1;Le!==-1;Le--)Ee=fe[Le][0],Ae=fe[Le][1],ie.subscribe.apply(ie,[Ee].concat(typeof Ae=="function"?[Ae]:Ae))}(qt,Dt.API.events):d[rd]=Dt.API[rd]);function Xg(ie){return ot[ie].mediaBox.topRightX-ot[ie].mediaBox.bottomLeftX}function Zg(ie,fe){ot[ie].mediaBox.topRightX=fe+ot[ie].mediaBox.bottomLeftX}function El(ie){return ot[ie].mediaBox.topRightY-ot[ie].mediaBox.bottomLeftY}function kl(ie,fe){ot[ie].mediaBox.topRightY=fe+ot[ie].mediaBox.bottomLeftY}var Yg=d.getPageWidth=function(ie){return Xg(ie=ie||K)/Je},Jg=d.setPageWidth=function(ie,fe){Zg(ie,fe*Je)},nd=d.getPageHeight=function(ie){return El(ie=ie||K)/Je},Qg=d.setPageHeight=function(ie,fe){kl(ie,fe*Je)};return d.internal={pdfEscape:At,getStyle:xl,getFont:Ju,getFontSize:ce,getCharSpace:ax,getTextColor:Ch,getLineHeight:wc,getLineHeightFactor:nx,getLineWidth:or,write:ee,getHorizontalCoordinate:_l,getVerticalCoordinate:Sl,getCoordinateString:ix,getVerticalCoordinateString:sx,collections:{},newObject:Pe,newAdditionalObject:Bt,newObjectDeferred:We,newObjectDeferredBegin:ct,getFilters:Kt,putStream:zt,events:qt,scaleFactor:Je,pageSize:{getWidth:function(){return Yg(K)},setWidth:function(ie){Jg(K,ie)},getHeight:function(){return nd(K)},setHeight:function(ie){Qg(K,ie)}},encryptionOptions:u,encryption:cn,getEncryptor:function(ie){return u!==null?cn.encryptor(ie,0):function(fe){return fe}},output:wi,getNumberOfPages:fr,pages:J,out:ne,f2:G,f3:I,getPageInfo:Aa,getPageInfoByObjId:Wr,getCurrentPageInfo:Mr,getPDFVersion:g,Point:td,Rectangle:Lp,Matrix:dt,hasHotfix:Ls},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Yg(K)},set:function(ie){Jg(K,ie)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return nd(K)},set:function(ie){Qg(K,ie)},enumerable:!0,configurable:!0}),(function(ie){for(var fe=0,Ee=W.length;fe<Ee;fe++){var Ae=it.call(this,ie[fe][0],ie[fe][1],ie[fe][2],W[fe][3],!0);h===!1&&(f[Ae]=!0);var Le=ie[fe][0].split("-");et({id:Ae,fontName:Le[0],fontStyle:Le[1]||""})}qt.publish("addFonts",{fonts:Ue,dictionary:Ke})}).call(d,W),qe="F1",yt(i,r),qt.publish("initialized"),d}sf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},sf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},sf.prototype.processOwnerPassword=function(e,t){return g4(m4(t).substr(0,5),e)},sf.prototype.encryptor=function(e,t){var r=m4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return g4(r,n)}},W0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||an(e)!==an(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Dt.API={events:[]},Dt.version="3.0.3";var qn=Dt.API,N8=1,hh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},Fc=function(e){return e.toFixed(5)};qn.__acroform__={};var ta=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},iA=function(e){return e*N8},Ho=function(e){var t=new ZM,r=Ot.internal.getHeight(e)||0,n=Ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},_Y=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},SY=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},EY=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},oi=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EY(e,t-1)},li=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _Y(e,t-1)},ci=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return SY(e,t-1)},kY=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(yr(l.lowerLeft_X)),Number(yr(l.lowerLeft_Y)),Number(yr(l.upperRight_X)),Number(yr(l.upperRight_Y))]},NY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=v4(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Ho(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},v4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(G){return G.split(`
`)}):i.map(function(G){return[G]});var s=r,o=Ot.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ot.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(G,I,R){if(G+1<i.length){var S=I+" "+i[G+1][0];return Z1(S,e,R).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,h=Z1("3",e,s).height,f=e.multiline?o-s:(o-h)/2,d=f+=2,p=0,g=0,m=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Z1(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var w=!1;if(i[x].length!==1&&m!==i[x].length-1){if((h+2)*(y+2)+2>o)continue e;v+=i[x][m],w=!0,g=x,x--}else{v=(v+=i[x][m]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var _=parseInt(x),M=l(_,v,s),U=x>=i.length-1;if(M&&!U){v+=" ",m=0;continue}if(M||U){if(U)g=_;else if(e.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(y+2)+2>o)continue e;g=_}}for(var L="",O=p;O<=g;O++){var H=i[O];if(e.multiline){if(O===g){L+=H[m]+" ",m=(m+1)%H.length;continue}if(O===p){L+=H[H.length-1]+" ";continue}}L+=H[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=Z1(L,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=yr(c)+" "+yr(d)+` Td
`,t+="("+hh(L)+`) Tj
`,t+=-yr(c)+` 0 Td
`,d=-(s+2),u=0,p=w?g:g+1,y++,v=""}break}return n.text=t,n.fontSize=s,n},Z1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},AY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CY=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},jY=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Co.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(AY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&CY(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=kY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ot.createDefaultAppearanceStream(a),an(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=NY(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var d=a.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var p=d[o];typeof p=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=d)=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(g,m){for(var v in g)if(g.hasOwnProperty(v)){var y=v,x=g[v];m.internal.newObjectDeferredBegin(x.objId,!0),an(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete g[y]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},XM=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),an(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+hh(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cw=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+hh(n(e))+")"},Qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qo.prototype.toString=function(){return this.objId+" 0 R"},Qo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Qo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:XM(i,this.objId,this.scope)}):i instanceof Qo?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var ZM=function(){Qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ta(ZM,Qo);var YM=function(){Qo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hh(r(e))+")"}},set:function(r){e=r}})};ta(YM,Qo);var Co=function e(){Qo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oi(t,3)},set:function(v){v?this.F=li(t,3):this.F=ci(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ky)return;s="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+hh(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/N8:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Ky||this instanceof xu))return Cw(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ti==0?Cw(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Ti==0?v.substr(0,1)==="("?Wh(v.substr(1,v.length-2)):Wh(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?Wh(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Ti==1?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ti==0?Cw(d,this.objId,this.scope):d},set:function(v){v=v.toString(),d=this instanceof Ti==0?v.substr(0,1)==="("?Wh(v.substr(1,v.length-2)):Wh(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?Wh(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Ti==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,1)},set:function(v){v?this.Ff=li(this.Ff,1):this.Ff=ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,2)},set:function(v){v?this.Ff=li(this.Ff,2):this.Ff=ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,3)},set:function(v){v?this.Ff=li(this.Ff,3):this.Ff=ci(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');m=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(m){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};ta(Co,Qo);var qd=function(){Co.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XM(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,18)},set:function(r){r?this.Ff=li(this.Ff,18):this.Ff=ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=li(this.Ff,19):this.Ff=ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,20)},set:function(r){r?(this.Ff=li(this.Ff,20),t.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,22)},set:function(r){r?this.Ff=li(this.Ff,22):this.Ff=ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(r){r?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,27)},set:function(r){r?this.Ff=li(this.Ff,27):this.Ff=ci(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(qd,Co);var Vd=function(){qd.call(this),this.fontName="helvetica",this.combo=!1};ta(Vd,qd);var Gd=function(){Vd.call(this),this.combo=!0};ta(Gd,Vd);var e0=function(){Gd.call(this),this.edit=!0};ta(e0,Gd);var Ti=function(){Co.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,15)},set:function(r){r?this.Ff=li(this.Ff,15):this.Ff=ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,16)},set:function(r){r?this.Ff=li(this.Ff,16):this.Ff=ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,17)},set:function(r){r?this.Ff=li(this.Ff,17):this.Ff=ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(r){r?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+hh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){an(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ta(Ti,Co);var t0=function(){Ti.call(this),this.pushButton=!0};ta(t0,Ti);var Kd=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ta(Kd,Ti);var Ky=function(){var e,t;Co.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+hh(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta(Ky,Co),Kd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Kd.prototype.createOption=function(e){var t=new Ky;return t.Parent=this,t.optionName=e,this.Kids.push(t),TY.call(this.scope,t),t};var r0=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};ta(r0,Ti);var xu=function(){Co.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,13)},set:function(t){t?this.Ff=li(this.Ff,13):this.Ff=ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,21)},set:function(t){t?this.Ff=li(this.Ff,21):this.Ff=ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(t){t?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,24)},set:function(t){t?this.Ff=li(this.Ff,24):this.Ff=ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,25)},set:function(t){t?this.Ff=li(this.Ff,25):this.Ff=ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(t){t?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(xu,Co);var n0=function(){xu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,14)},set:function(e){e?this.Ff=li(this.Ff,14):this.Ff=ci(this.Ff,14)}}),this.password=!0};ta(n0,xu);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=v4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ho(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Ot.internal.getHeight(e),o=Ot.internal.getWidth(e),a=v4(e,e.caption);return i.push("1 g"),i.push("0 0 "+yr(o)+" "+yr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(o-1)+" "+yr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+yr(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ot.RadioButton.Circle.YesNormal,t.D[e]=Ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ho(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Ot.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Fc(Ot.internal.getWidth(e)/2)+" "+Fc(Ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ot.internal.Bezier_C).toFixed(5)),o=Number((n*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fc(Ot.internal.getWidth(e)/2)+" "+Fc(Ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Fc(Ot.internal.getWidth(e)/2)+" "+Fc(Ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=[],n=Ot.internal.getWidth(e)<=Ot.internal.getHeight(e)?Ot.internal.getWidth(e)/4:Ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fc(Ot.internal.getWidth(e)/2)+" "+Fc(Ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ot.RadioButton.Cross.YesNormal,t.D[e]=Ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ho(e);t.scope=e.scope;var r=[],n=Ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(Ot.internal.getWidth(e)-2)+" "+yr(Ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=Ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(Ot.internal.getWidth(e)-2)+" "+yr(Ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ho(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ot.internal.getWidth(e))+" "+yr(Ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ot.internal.getWidth(e),r=Ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ot.internal.getWidth=function(e){var t=0;return an(e)==="object"&&(t=iA(e.Rect[2])),t},Ot.internal.getHeight=function(e){var t=0;return an(e)==="object"&&(t=iA(e.Rect[3])),t};var TY=qn.addField=function(e){if(jY(this,e),!(e instanceof Co))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=qd,qn.AcroFormListBox=Vd,qn.AcroFormComboBox=Gd,qn.AcroFormEditBox=e0,qn.AcroFormButton=Ti,qn.AcroFormPushButton=t0,qn.AcroFormRadioButton=Kd,qn.AcroFormCheckBox=r0,qn.AcroFormTextField=xu,qn.AcroFormPasswordField=n0,qn.AcroFormAppearance=Ot,qn.AcroForm={ChoiceField:qd,ListBox:Vd,ComboBox:Gd,EditBox:e0,Button:Ti,PushButton:t0,RadioButton:Kd,CheckBox:r0,TextField:xu,PasswordField:n0,Appearance:Ot},Dt.AcroForm={ChoiceField:qd,ListBox:Vd,ComboBox:Gd,EditBox:e0,Button:Ti,PushButton:t0,RadioButton:Kd,CheckBox:r0,TextField:xu,PasswordField:n0,Appearance:Ot};Dt.AcroForm;function JM(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(G,I){var R,S,j,k,E,A=r;if((I=I||r)==="RGBA"||G.data!==void 0&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(M(G))for(E in n)for(j=n[E],R=0;R<j.length;R+=1){for(k=!0,S=0;S<j[R].length;S+=1)if(j[R][S]!==void 0&&j[R][S]!==G[S]){k=!1;break}if(k===!0){A=E;break}}else for(E in n)for(j=n[E],R=0;R<j.length;R+=1){for(k=!0,S=0;S<j[R].length;S+=1)if(j[R][S]!==void 0&&j[R][S]!==G.charCodeAt(S)){k=!1;break}if(k===!0){A=E;break}}return A===r&&I!==r&&(A=I),A},s=function G(I){for(var R=this.internal.write,S=this.internal.putStream,j=(0,this.internal.getFilters)();j.indexOf("FlateEncode")!==-1;)j.splice(j.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:I.width}),k.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&k.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var E="",A=0,C=I.transparency.length;A<C;A++)E+=I.transparency[A]+" "+I.transparency[A]+" ";k.push({key:"Mask",value:"["+E+"]"})}I.sMask!==void 0&&k.push({key:"SMask",value:I.objectId+1+" 0 R"});var D=I.filter!==void 0?["/"+I.filter]:void 0;if(S({data:I.data,additionalKeyValues:k,alreadyAppliedFilters:D,objectId:I.objectId}),R("endobj"),"sMask"in I&&I.sMask!==void 0){var z,P=(z=I.sMaskBitsPerComponent)!==null&&z!==void 0?z:I.bitsPerComponent,K={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:I.sMask};"filter"in I&&(K.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(I.width),K.filter=I.filter),G.call(this,K)}if(I.colorSpace===v.INDEXED){var Z=this.internal.newObject();S({data:L(new Uint8Array(I.palette)),objectId:Z}),R("endobj")}},o=function(){var G=this.internal.collections[t+"images"];for(var I in G)s.call(this,G[I])},a=function(){var G,I=this.internal.collections[t+"images"],R=this.internal.write;for(var S in I)R("/I"+(G=I[S]).index,G.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var G=this.internal.collections[t+"images"];return l.call(this),G},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(G){return typeof e["process"+G.toUpperCase()]=="function"},f=function(G){return an(G)==="object"&&G.nodeType===1},d=function(G,I){if(G.nodeName==="IMG"&&G.hasAttribute("src")){var R=""+G.getAttribute("src");if(R.indexOf("data:image/")===0)return Jv(unescape(R).split("base64,").pop());var S=e.loadFile(R,!0);if(S!==void 0)return S}if(G.nodeName==="CANVAS"){if(G.width===0||G.height===0)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var j;switch(I){case"PNG":j="image/png";break;case"WEBP":j="image/webp";break;default:j="image/jpeg"}return Jv(G.toDataURL(j,1).split("base64,").pop())}},p=function(G){var I=this.internal.collections[t+"images"];if(I){for(var R in I)if(G===I[R].alias)return I[R]}},g=function(G,I,R){return G||I||(G=-96,I=-96),G<0&&(G=-1*R.width*72/G/this.internal.scaleFactor),I<0&&(I=-1*R.height*72/I/this.internal.scaleFactor),G===0&&(G=I*R.width/R.height),I===0&&(I=G*R.height/R.width),[G,I]},m=function(G,I,R,S,j,k){var E=g.call(this,R,S,j),A=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,D=c.call(this);if(R=E[0],S=E[1],D[j.index]=j,k){k*=Math.PI/180;var z=Math.cos(k),P=Math.sin(k),K=function(te){return te.toFixed(4)},Z=[K(z),K(P),K(-1*P),K(z),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,A(G),C(I+S),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([A(R),"0","0",A(S),"0","0","cm"].join(" "))):this.internal.write([A(R),"0","0",A(S),A(G),C(I+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+j.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(G){var I,R,S=0;if(typeof G=="string")for(R=G.length,I=0;I<R;I++)S=(S<<5)-S+G.charCodeAt(I),S|=0;else if(M(G))for(R=G.byteLength/2,I=0;I<R;I++)S=(S<<5)-S+G[I],S|=0;return S},w=e.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var I=!0;return G.length===0&&(I=!1),G.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))===!1&&(I=!1),I},_=e.__addimage__.extractImageFromDataUrl=function(G){if(G==null||!(G=G.trim()).startsWith("data:"))return null;var I=G.indexOf(",");return I<0?null:G.substring(0,I).trim().endsWith("base64")?G.substring(I+1):null};e.__addimage__.isArrayBuffer=function(G){return G instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(G){return G instanceof Int8Array||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(G){for(var I=G.length,R=new Uint8Array(I),S=0;S<I;S++)R[S]=G.charCodeAt(S);return R},L=e.__addimage__.arrayBufferToBinaryString=function(G){for(var I="",R=M(G)?G:new Uint8Array(G),S=0;S<R.length;S+=8192)I+=String.fromCharCode.apply(null,R.subarray(S,S+8192));return I};e.addImage=function(){var G,I,R,S,j,k,E,A,C;if(typeof arguments[1]=="number"?(I=r,R=arguments[1],S=arguments[2],j=arguments[3],k=arguments[4],E=arguments[5],A=arguments[6],C=arguments[7]):(I=arguments[1],R=arguments[2],S=arguments[3],j=arguments[4],k=arguments[5],E=arguments[6],A=arguments[7],C=arguments[8]),an(G=arguments[0])==="object"&&!f(G)&&"imageData"in G){var D=G;G=D.imageData,I=D.format||I||r,R=D.x||R||0,S=D.y||S||0,j=D.w||D.width||j,k=D.h||D.height||k,E=D.alias||E,A=D.compression||A,C=D.rotation||D.angle||C}var z=this.internal.getFilters();if(A===void 0&&z.indexOf("FlateEncode")!==-1&&(A="SLOW"),isNaN(R)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=O.call(this,G,I,E,A);return m.call(this,R,S,j,k,P,C),this};var O=function(G,I,R,S){var j,k,E;if(typeof G=="string"&&i(G)===r){G=unescape(G);var A=H(G,!1);(A!==""||(A=e.loadFile(G,!0))!==void 0)&&(G=A)}if(f(G)&&(G=d(G,I)),I=i(G,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((E=R)==null||E.length===0)&&(R=function(C){return typeof C=="string"||M(C)?x(C):M(C.data)?x(C.data):null}(G)),(j=p.call(this,R))||(G instanceof Uint8Array||I==="RGBA"||(k=G,G=U(G)),j=this["process"+I.toUpperCase()](G,u.call(this),R,function(C){return C&&typeof C=="string"&&(C=C.toUpperCase()),C in e.image_compression?C:y.NONE}(S),k)),!j)throw new Error("An unknown error occurred whilst processing the image.");return j},H=e.__addimage__.convertBase64ToBinaryString=function(G,I){I=typeof I!="boolean"||I;var R,S="";if(typeof G=="string"){var j;R=(j=_(G))!==null&&j!==void 0?j:G;try{S=Jv(R)}catch(k){if(I)throw w(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};e.getImageProperties=function(G){var I,R,S="";if(f(G)&&(G=d(G)),typeof G=="string"&&i(G)===r&&((S=H(G,!1))===""&&(S=e.loadFile(G)||""),G=S),R=i(G),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(G instanceof Uint8Array||(G=U(G)),!(I=this["process"+R.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=R,I}})(Dt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(v(y))+") >>",g.content=s;var x=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(g.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var M=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(r,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,a,o,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Dt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var m=0,v=r,y="",x=0;for(m=0;m<g.length;m+=1)v[g.charCodeAt(m)]!==void 0?(x++,typeof(v=v[g.charCodeAt(m)])=="number"&&(y+=String.fromCharCode(v),v=r,x=0),m===g.length-1&&(v=r,y+=g.charAt(m-(x-1)),m-=x-1,x=0)):(v=r,y+=g.charAt(m-x),m-=x,x=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(g,m,v){return o(g)?s(g)===!1?-1:!c(g)||!o(m)&&!o(v)||!o(v)&&a(m)||a(g)&&!o(m)||a(g)&&l(m)||a(g)&&a(m)?0:u(g)&&o(m)&&!a(m)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},d=function(g){var m=0,v=0,y=0,x="",w="",_="",M=(g=g||"").split("\\s+"),U=[];for(m=0;m<M.length;m+=1){for(U.push(""),v=0;v<M[m].length;v+=1)x=M[m][v],w=M[m][v-1],_=M[m][v+1],o(x)?(y=f(x,w,_),U[m]+=y!==-1?String.fromCharCode(t[x.charCodeAt(0)][y]):x):U[m]+=x;U[m]=h(U[m])}return U.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(m)){var y=0;for(v=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?v.push([d(m[y][0]),m[y][1],m[y][2]]):v.push([d(m[y])]);g=v}else g=d(m);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Dt.API),Dt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Dt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,d=0,p=0,g=0,m=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,w){return x.concat(m.splitTextToSize(w,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(g=this.getStringUnitWidth(l[y],{font:h})*u)&&(d=g);return d!==0&&(p=l.length),{w:d/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,p,g,m,v=[],y=[],x=[],w={},_={},M=[],U=[],L=(f=f||{}).autoSize||!1,O=f.printHeaders!==!1,H=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,G=f.margins||Object.assign({width:this.getPageWidth()},t),I=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",S=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=S,this.setFontSize(H),h==null)y=v=Object.keys(u[0]),x=v.map(function(){return"left"});else if(Array.isArray(h)&&an(h[0])==="object")for(v=h.map(function(D){return D.name}),y=h.map(function(D){return D.prompt||D.name||""}),x=h.map(function(D){return D.align||"left"}),d=0;d<h.length;d+=1)_[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=v=h,x=v.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<v.length;d+=1){for(w[m=v[d]]=u.map(function(D){return D[m]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[m],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)M.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[m]=Math.max.apply(null,M)+I+I,M=[]}if(O){var j={};for(d=0;d<v.length;d+=1)j[v[d]]={},j[v[d]].text=y[d],j[v[d]].align=x[d];var k=a.call(this,j,_);U=v.map(function(D){return new s(l,c,_[D],k,j[D].text,void 0,j[D].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var E=h.reduce(function(D,z){return D[z.name]=z.align,D},{});for(d=0;d<u.length;d+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:d,data:u[d]},this);var A=a.call(this,u[d],_);for(g=0;g<v.length;g+=1){var C=u[d][v[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:d,col:g,data:C},this),o.call(this,new s(l,c,_[v[g]],A,C,d+2,E[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(d){var p=l[d];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/f+u+u},this).reduce(function(d,p){return Math.max(d,p)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Dt.API);var QM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y4=JM(eL),tL=[100,200,300,400,500,600,700,800,900],RY=JM(tL);function jw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return QM[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof y4[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function sA(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var PY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function lA(e){return e.trimLeft()}function OY(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function IY(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Y1,cA,uA,qh,J1,dA,hA,fA,Tw=["times"];function pA(e,t,r,n,i){var s=4,o=gA;switch(i){case Dt.API.image_compression.FAST:s=1,o=mA;break;case Dt.API.image_compression.MEDIUM:s=6,o=vA;break;case Dt.API.image_compression.SLOW:s=9,o=yA}e=function(l,c,u,h){for(var f,d=l.length/c,p=new Uint8Array(l.length+d),g=[MY,mA,gA,vA,yA],m=0;m<d;m+=1){var v=m*c,y=l.subarray(v,v+c);if(h)p.set(h(y,u,f),v+m);else{for(var x=g.length,w=[],_=0;_<x;_+=1)w[_]=g[_](y,u,f);var M=DY(w.concat());p.set(w[M],v+m)}f=y}return p}(e,t,Math.ceil(r*n/8),o);var a=s4(e,{level:s});return Dt.API.__addimage__.arrayBufferToBinaryString(a)}function MY(e){var t=Array.apply([],e);return t.unshift(0),t}function mA(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function gA(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=e[s]-o+256&255}return i}function vA(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,a=r&&r[s]||0;i[s+1]=e[s]+256-(o+a>>>1)&255}return i}function yA(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=LY(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function LY(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function DY(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Rw(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return rL(e,i)>>s&o}function bA(e,t,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,l=(t&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var f=h>>8&255;c.setUint8(u,f)}})(e,s,rL(e,s)&~(a<<o)&65535|l)}function rL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function BY(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],h=0,f=null,d=0,p=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],1&g||(f=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++],_=w>>6&1,M=1<<1+(7&w),U=a,L=l,O=!1;w>>7&&(O=!0,U=t,L=M,t+=3*M);var H=t;for(t++;;){var G;if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}u.push({x:m,y:v,width:y,height:x,has_local_palette:O,palette_offset:U,palette_size:L,data_offset:H,data_length:t-H,transparent_index:f,interlaced:!!_,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,R){var S=this.frameInfo(I),j=S.width*S.height,k=new Uint8Array(j);xA(e,S.data_offset,k,j);var E=S.palette_offset,A=S.transparent_index;A===null&&(A=256);var C=S.width,D=r-C,z=C,P=4*(S.y*r+S.x),K=4*((S.y+S.height)*r+S.x),Z=P,te=4*D;S.interlaced===!0&&(te+=4*r*7);for(var q=8,$=0,N=k.length;$<N;++$){var T=k[$];if(z===0&&(z=C,(Z+=te)>=K&&(te=4*D+4*r*(q-1),Z=P+(C+D)*(q<<1),q>>=1)),T===A)Z+=4;else{var V=e[E+3*T],J=e[E+3*T+1],re=e[E+3*T+2];R[Z++]=re,R[Z++]=J,R[Z++]=V,R[Z++]=255}--z}},this.decodeAndBlitFrameRGBA=function(I,R){var S=this.frameInfo(I),j=S.width*S.height,k=new Uint8Array(j);xA(e,S.data_offset,k,j);var E=S.palette_offset,A=S.transparent_index;A===null&&(A=256);var C=S.width,D=r-C,z=C,P=4*(S.y*r+S.x),K=4*((S.y+S.height)*r+S.x),Z=P,te=4*D;S.interlaced===!0&&(te+=4*r*7);for(var q=8,$=0,N=k.length;$<N;++$){var T=k[$];if(z===0&&(z=C,(Z+=te)>=K&&(te=4*D+4*r*(q-1),Z=P+(C+D)*(q<<1),q>>=1)),T===A)Z+=4;else{var V=e[E+3*T],J=e[E+3*T+1],re=e[E+3*T+2];R[Z++]=V,R[Z++]=J,R[Z++]=re,R[Z++]=255}--z}}}function xA(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,f=0,d=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&d!==0;)h|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var v=m<a?m:g,y=0,x=v;x>s;)x=p[x]>>8,++y;var w=x;if(f+y+(v!==m?1:0)>n)return void pn.log("Warning, gif stream longer than expected.");r[f++]=w;var _=f+=y;for(v!==m&&(r[f++]=w),x=v;y--;)x=p[x],r[--_]=255&x,x>>=8;g!==null&&a<4096&&(p[a++]=g<<8|w,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else a=o+1,c=(1<<(l=i+1))-1,g=null}return f!==n&&pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pw(e){var t,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),x=new Array(64),w=new Array(64),_=new Array(256),M=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(P,K){for(var Z=0,te=0,q=new Array,$=1;$<=16;$++){for(var N=1;N<=P[$];N++)q[K[te]]=[],q[K[te]][0]=Z,q[K[te]][1]=$,te++,Z++;Z*=2}return q}function E(P){for(var K=P[0],Z=P[1]-1;Z>=0;)K&1<<Z&&(m|=1<<v),Z--,--v<0&&(m==255?(A(255),A(0)):A(m),v=7,m=0)}function A(P){g.push(P)}function C(P){A(P>>8&255),A(255&P)}function D(P,K,Z,te,q){for(var $,N=q[0],T=q[240],V=function(Y,ae){var ce,le,de,me,ge,ke,Re,je,qe,Je,Ve=0;for(qe=0;qe<8;++qe){ce=Y[Ve],le=Y[Ve+1],de=Y[Ve+2],me=Y[Ve+3],ge=Y[Ve+4],ke=Y[Ve+5],Re=Y[Ve+6];var pt=ce+(je=Y[Ve+7]),$e=ce-je,Ue=le+Re,Ke=le-Re,rt=de+ke,Ze=de-ke,kt=me+ge,wt=me-ge,xt=pt+kt,Wt=pt-kt,St=Ue+rt,ot=Ue-rt;Y[Ve]=xt+St,Y[Ve+4]=xt-St;var qt=.707106781*(ot+Wt);Y[Ve+2]=Wt+qt,Y[Ve+6]=Wt-qt;var kr=.382683433*((xt=wt+Ze)-(ot=Ke+$e)),jt=.5411961*xt+kr,hr=1.306562965*ot+kr,Cr=.707106781*(St=Ze+Ke),dt=$e+Cr,wr=$e-Cr;Y[Ve+5]=wr+jt,Y[Ve+3]=wr-jt,Y[Ve+1]=dt+hr,Y[Ve+7]=dt-hr,Ve+=8}for(Ve=0,qe=0;qe<8;++qe){ce=Y[Ve],le=Y[Ve+8],de=Y[Ve+16],me=Y[Ve+24],ge=Y[Ve+32],ke=Y[Ve+40],Re=Y[Ve+48];var jr=ce+(je=Y[Ve+56]),Gt=ce-je,Ne=le+Re,Pe=le-Re,We=de+ke,ct=de-ke,Bt=me+ge,vt=me-ge,Ft=jr+Bt,It=jr-Bt,Tt=Ne+We,Kt=Ne-We;Y[Ve]=Ft+Tt,Y[Ve+32]=Ft-Tt;var zt=.707106781*(Kt+It);Y[Ve+16]=It+zt,Y[Ve+48]=It-zt;var ar=.382683433*((Ft=vt+ct)-(Kt=Pe+Gt)),Gr=.5411961*Ft+ar,zr=1.306562965*Kt+ar,mn=.707106781*(Tt=ct+Pe),gn=Gt+mn,Qn=Gt-mn;Y[Ve+40]=Qn+Gr,Y[Ve+24]=Qn-Gr,Y[Ve+8]=gn+zr,Y[Ve+56]=gn-zr,Ve++}for(qe=0;qe<64;++qe)Je=Y[qe]*ae[qe],d[qe]=Je>0?Je+.5|0:Je-.5|0;return d}(P,K),J=0;J<64;++J)p[U[J]]=V[J];var re=p[0]-Z;Z=p[0],re==0?E(te[0]):(E(te[f[$=32767+re]]),E(h[$]));for(var se=63;se>0&&p[se]==0;)se--;if(se==0)return E(N),Z;for(var B,ne=1;ne<=se;){for(var ee=ne;p[ne]==0&&ne<=se;)++ne;var F=ne-ee;if(F>=16){B=F>>4;for(var W=1;W<=B;++W)E(T);F&=15}$=32767+p[ne],E(q[(F<<4)+f[$]]),E(h[$]),ne++}return se!=63&&E(N),Z}function z(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var q=o((Z[te]*K+50)/100);q=Math.min(Math.max(q,1),255),a[U[te]]=q}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],N=0;N<64;N++){var T=o(($[N]*K+50)/100);T=Math.min(Math.max(T,1),255),l[U[N]]=T}for(var V=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,re=0;re<8;re++)for(var se=0;se<8;se++)c[J]=1/(a[U[J]]*V[re]*V[se]*8),u[J]=1/(l[U[J]]*V[re]*V[se]*8),J++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,K){K&&z(K),g=new Array,m=0,v=7,C(65496),C(65504),C(16),A(74),A(70),A(73),A(70),A(0),A(1),A(1),A(0),C(1),C(1),A(0),A(0),function(){C(65499),C(132),A(0);for(var le=0;le<64;le++)A(a[le]);A(1);for(var de=0;de<64;de++)A(l[de])}(),function(le,de){C(65472),C(17),A(8),C(de),C(le),A(3),A(1),A(17),A(0),A(2),A(17),A(1),A(3),A(17),A(1)}(P.width,P.height),function(){C(65476),C(418),A(0);for(var le=0;le<16;le++)A(L[le+1]);for(var de=0;de<=11;de++)A(O[de]);A(16);for(var me=0;me<16;me++)A(H[me+1]);for(var ge=0;ge<=161;ge++)A(G[ge]);A(1);for(var ke=0;ke<16;ke++)A(I[ke+1]);for(var Re=0;Re<=11;Re++)A(R[Re]);A(17);for(var je=0;je<16;je++)A(S[je+1]);for(var qe=0;qe<=161;qe++)A(j[qe])}(),C(65498),C(12),A(3),A(1),A(0),A(2),A(17),A(3),A(17),A(0),A(63),A(0);var Z=0,te=0,q=0;m=0,v=7,this.encode.displayName="_encode_";for(var $,N,T,V,J,re,se,B,ne,ee=P.data,F=P.width,W=P.height,Y=4*F,ae=0;ae<W;){for($=0;$<Y;){for(J=Y*ae+$,se=-1,B=0,ne=0;ne<64;ne++)re=J+(B=ne>>3)*Y+(se=4*(7&ne)),ae+B>=W&&(re-=Y*(ae+1+B-W)),$+se>=Y&&(re-=$+se-Y+4),N=ee[re++],T=ee[re++],V=ee[re++],y[ne]=(M[N]+M[T+256|0]+M[V+512|0]>>16)-128,x[ne]=(M[N+768|0]+M[T+1024|0]+M[V+1280|0]>>16)-128,w[ne]=(M[N+1280|0]+M[T+1536|0]+M[V+1792|0]>>16)-128;Z=D(y,c,Z,t,n),te=D(x,u,te,r,i),q=D(w,u,q,r,i),$+=32}ae+=8}if(v>=0){var ce=[];ce[1]=v+1,ce[0]=(1<<v+1)-1,E(ce)}return C(65497),new Uint8Array(g)},e=e||50,function(){for(var P=String.fromCharCode,K=0;K<256;K++)_[K]=P(K)}(),t=k(L,O),r=k(I,R),n=k(H,G),i=k(S,j),function(){for(var P=1,K=2,Z=1;Z<=15;Z++){for(var te=P;te<K;te++)f[32767+te]=Z,h[32767+te]=[],h[32767+te][1]=Z,h[32767+te][0]=te;for(var q=-(K-1);q<=-P;q++)f[32767+q]=Z,h[32767+q]=[],h[32767+q][1]=Z,h[32767+q][0]=K-1+q;P<<=1,K<<=1}}(),function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P}(),z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function oo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wA(e){function t(O){if(!O)throw Error("assert :P")}function r(O,H,G){for(var I=0;4>I;I++)if(O[H+I]!=G.charCodeAt(I))return!0;return!1}function n(O,H,G,I,R){for(var S=0;S<R;S++)O[H+S]=G[I+S]}function i(O,H,G,I){for(var R=0;R<I;R++)O[H+R]=G}function s(O){return new Int32Array(O)}function o(O,H){for(var G=[],I=0;I<O;I++)G.push(new H);return G}function a(O,H){var G=[];return function I(R,S,j){for(var k=j[S],E=0;E<k&&(R.push(j.length>S+1?[]:new H),!(j.length<S+1));E++)I(R[E],S+1,j)}(G,0,O),G}var l=function(){var O=this;function H(X,Q){for(var oe=1<<Q-1>>>0;X&oe;)oe>>>=1;return oe?(X&oe-1)+oe:X}function G(X,Q,oe,ue,pe){t(!(ue%oe));do X[Q+(ue-=oe)]=pe;while(0<ue)}function I(X,Q,oe,ue,pe){if(t(2328>=pe),512>=pe)var ve=s(512);else if((ve=s(pe))==null)return 0;return function(ye,be,xe,_e,Te,ze){var Se,Oe,Be=be,Ge=1<<xe,Fe=s(16),Xe=s(16);for(t(Te!=0),t(_e!=null),t(ye!=null),t(0<xe),Oe=0;Oe<Te;++Oe){if(15<_e[Oe])return 0;++Fe[_e[Oe]]}if(Fe[0]==Te)return 0;for(Xe[1]=0,Se=1;15>Se;++Se){if(Fe[Se]>1<<Se)return 0;Xe[Se+1]=Xe[Se]+Fe[Se]}for(Oe=0;Oe<Te;++Oe)Se=_e[Oe],0<_e[Oe]&&(ze[Xe[Se]++]=Oe);if(Xe[15]==1)return(_e=new R).g=0,_e.value=ze[0],G(ye,Be,1,Ge,_e),Ge;var Qe,ft=-1,nt=Ge-1,Zt=0,Pt=1,Nr=1,Ut=1<<xe;for(Oe=0,Se=1,Te=2;Se<=xe;++Se,Te<<=1){if(Pt+=Nr<<=1,0>(Nr-=Fe[Se]))return 0;for(;0<Fe[Se];--Fe[Se])(_e=new R).g=Se,_e.value=ze[Oe++],G(ye,Be+Zt,Te,Ut,_e),Zt=H(Zt,Se)}for(Se=xe+1,Te=2;15>=Se;++Se,Te<<=1){if(Pt+=Nr<<=1,0>(Nr-=Fe[Se]))return 0;for(;0<Fe[Se];--Fe[Se]){if(_e=new R,(Zt&nt)!=ft){for(Be+=Ut,Qe=1<<(ft=Se)-xe;15>ft&&!(0>=(Qe-=Fe[ft]));)++ft,Qe<<=1;Ge+=Ut=1<<(Qe=ft-xe),ye[be+(ft=Zt&nt)].g=Qe+xe,ye[be+ft].value=Be-be-ft}_e.g=Se-xe,_e.value=ze[Oe++],G(ye,Be+(Zt>>xe),Te,Ut,_e),Zt=H(Zt,Se)}}return Pt!=2*Xe[15]-1?0:Ge}(X,Q,oe,ue,pe,ve)}function R(){this.value=this.g=0}function S(){this.value=this.g=0}function j(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dd,S)}function k(X,Q,oe,ue){t(X!=null),t(Q!=null),t(2147483648>ue),X.Ca=254,X.I=0,X.b=-8,X.Ka=0,X.oa=Q,X.pa=oe,X.Jd=Q,X.Yc=oe+ue,X.Zc=4<=ue?oe+ue-4+1:oe,N(X)}function E(X,Q){for(var oe=0;0<Q--;)oe|=V(X,128)<<Q;return oe}function A(X,Q){var oe=E(X,Q);return T(X)?-oe:oe}function C(X,Q,oe,ue){var pe,ve=0;for(t(X!=null),t(Q!=null),t(4294967288>ue),X.Sb=ue,X.Ra=0,X.u=0,X.h=0,4<ue&&(ue=4),pe=0;pe<ue;++pe)ve+=Q[oe+pe]<<8*pe;X.Ra=ve,X.bb=ue,X.oa=Q,X.pa=oe}function D(X){for(;8<=X.u&&X.bb<X.Sb;)X.Ra>>>=8,X.Ra+=X.oa[X.pa+X.bb]<<Ec-8>>>0,++X.bb,X.u-=8;te(X)&&(X.h=1,X.u=0)}function z(X,Q){if(t(0<=Q),!X.h&&Q<=aa){var oe=Z(X)&sa[Q];return X.u+=Q,D(X),oe}return X.h=1,X.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(X){return X.Ra>>>(X.u&Ec-1)>>>0}function te(X){return t(X.bb<=X.Sb),X.h||X.bb==X.Sb&&X.u>Ec}function q(X,Q){X.u=Q,X.h=te(X)}function $(X){X.u>=Al&&(t(X.u>=Al),D(X))}function N(X){t(X!=null&&X.oa!=null),X.pa<X.Zc?(X.I=(X.oa[X.pa++]|X.I<<8)>>>0,X.b+=8):(t(X!=null&&X.oa!=null),X.pa<X.Yc?(X.b+=8,X.I=X.oa[X.pa++]|X.I<<8):X.Ka?X.b=0:(X.I<<=8,X.b+=8,X.Ka=1))}function T(X){return E(X,1)}function V(X,Q){var oe=X.Ca;0>X.b&&N(X);var ue=X.b,pe=oe*Q>>>8,ve=(X.I>>>ue>pe)+0;for(ve?(oe-=pe,X.I-=pe+1<<ue>>>0):oe=pe+1,ue=oe,pe=0;256<=ue;)pe+=8,ue>>=8;return ue=7^pe+kc[ue],X.b-=ue,X.Ca=(oe<<ue)-1,ve}function J(X,Q,oe){X[Q+0]=oe>>24&255,X[Q+1]=oe>>16&255,X[Q+2]=oe>>8&255,X[Q+3]=255&oe}function re(X,Q){return X[Q+0]|X[Q+1]<<8}function se(X,Q){return re(X,Q)|X[Q+2]<<16}function B(X,Q){return re(X,Q)|re(X,Q+2)<<16}function ne(X,Q){var oe=1<<Q;return t(X!=null),t(0<Q),X.X=s(oe),X.X==null?0:(X.Mb=32-Q,X.Xa=Q,1)}function ee(X,Q){t(X!=null),t(Q!=null),t(X.Xa==Q.Xa),n(Q.X,0,X.X,0,1<<Q.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function W(X,Q,oe,ue){t(oe!=null),t(ue!=null);var pe=oe[0],ve=ue[0];return pe==0&&(pe=(X*ve+Q/2)/Q),ve==0&&(ve=(Q*pe+X/2)/X),0>=pe||0>=ve?0:(oe[0]=pe,ue[0]=ve,1)}function Y(X,Q){return X+(1<<Q)-1>>>Q}function ae(X,Q){return((4278255360&X)+(4278255360&Q)>>>0&4278255360)+((16711935&X)+(16711935&Q)>>>0&16711935)>>>0}function ce(X,Q){O[Q]=function(oe,ue,pe,ve,ye,be,xe){var _e;for(_e=0;_e<ye;++_e){var Te=O[X](be[xe+_e-1],pe,ve+_e);be[xe+_e]=ae(oe[ue+_e],Te)}}}function le(){this.ud=this.hd=this.jd=0}function de(X,Q){return((4278124286&(X^Q))>>>1)+(X&Q)>>>0}function me(X){return 0<=X&&256>X?X:0>X?0:255<X?255:void 0}function ge(X,Q){return me(X+(X-Q+.5>>1))}function ke(X,Q,oe){return Math.abs(Q-oe)-Math.abs(X-oe)}function Re(X,Q,oe,ue,pe,ve,ye){for(ue=ve[ye-1],oe=0;oe<pe;++oe)ve[ye+oe]=ue=ae(X[Q+oe],ue)}function je(X,Q,oe,ue,pe){var ve;for(ve=0;ve<oe;++ve){var ye=X[Q+ve],be=ye>>8&255,xe=16711935&(xe=(xe=16711935&ye)+((be<<16)+be));ue[pe+ve]=(4278255360&ye)+xe>>>0}}function qe(X,Q){Q.jd=255&X,Q.hd=X>>8&255,Q.ud=X>>16&255}function Je(X,Q,oe,ue,pe,ve){var ye;for(ye=0;ye<ue;++ye){var be=Q[oe+ye],xe=be>>>8,_e=be,Te=255&(Te=(Te=be>>>16)+((X.jd<<24>>24)*(xe<<24>>24)>>>5));_e=255&(_e=(_e+=(X.hd<<24>>24)*(xe<<24>>24)>>>5)+((X.ud<<24>>24)*(Te<<24>>24)>>>5)),pe[ve+ye]=(4278255360&be)+(Te<<16)+_e}}function Ve(X,Q,oe,ue,pe){O[Q]=function(ve,ye,be,xe,_e,Te,ze,Se,Oe){for(xe=ze;xe<Se;++xe)for(ze=0;ze<Oe;++ze)_e[Te++]=pe(be[ue(ve[ye++])])},O[X]=function(ve,ye,be,xe,_e,Te,ze){var Se=8>>ve.b,Oe=ve.Ea,Be=ve.K[0],Ge=ve.w;if(8>Se)for(ve=(1<<ve.b)-1,Ge=(1<<Se)-1;ye<be;++ye){var Fe,Xe=0;for(Fe=0;Fe<Oe;++Fe)Fe&ve||(Xe=ue(xe[_e++])),Te[ze++]=pe(Be[Xe&Ge]),Xe>>=Se}else O["VP8LMapColor"+oe](xe,_e,Be,Ge,Te,ze,ye,be,Oe)}}function pt(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=ve>>16&255,ue[pe++]=ve>>8&255,ue[pe++]=255&ve}}function $e(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=ve>>16&255,ue[pe++]=ve>>8&255,ue[pe++]=255&ve,ue[pe++]=ve>>24&255}}function Ue(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=(ye=X[Q++])>>16&240|ye>>12&15,ye=240&ye|ye>>28&15;ue[pe++]=ve,ue[pe++]=ye}}function Ke(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=(ye=X[Q++])>>16&248|ye>>13&7,ye=ye>>5&224|ye>>3&31;ue[pe++]=ve,ue[pe++]=ye}}function rt(X,Q,oe,ue,pe){for(oe=Q+oe;Q<oe;){var ve=X[Q++];ue[pe++]=255&ve,ue[pe++]=ve>>8&255,ue[pe++]=ve>>16&255}}function Ze(X,Q,oe,ue,pe,ve){if(ve==0)for(oe=Q+oe;Q<oe;)J(ue,((ve=X[Q++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),pe+=32;else n(ue,pe,X,Q,oe)}function kt(X,Q){O[Q][0]=O[X+"0"],O[Q][1]=O[X+"1"],O[Q][2]=O[X+"2"],O[Q][3]=O[X+"3"],O[Q][4]=O[X+"4"],O[Q][5]=O[X+"5"],O[Q][6]=O[X+"6"],O[Q][7]=O[X+"7"],O[Q][8]=O[X+"8"],O[Q][9]=O[X+"9"],O[Q][10]=O[X+"10"],O[Q][11]=O[X+"11"],O[Q][12]=O[X+"12"],O[Q][13]=O[X+"13"],O[Q][14]=O[X+"0"],O[Q][15]=O[X+"0"]}function wt(X){return X==cx||X==ux||X==c1||X==dx}function xt(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function St(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new Wt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(X){return alert("todo:WebPSamplerProcessPlane"),X.T}function jt(X,Q){var oe=X.T,ue=Q.ba.f.RGBA,pe=ue.eb,ve=ue.fb+X.ka*ue.A,ye=Ia[Q.ba.S],be=X.y,xe=X.O,_e=X.f,Te=X.N,ze=X.ea,Se=X.W,Oe=Q.cc,Be=Q.dc,Ge=Q.Mc,Fe=Q.Nc,Xe=X.ka,Qe=X.ka+X.T,ft=X.U,nt=ft+1>>1;for(Xe==0?ye(be,xe,null,null,_e,Te,ze,Se,_e,Te,ze,Se,pe,ve,null,null,ft):(ye(Q.ec,Q.fc,be,xe,Oe,Be,Ge,Fe,_e,Te,ze,Se,pe,ve-ue.A,pe,ve,ft),++oe);Xe+2<Qe;Xe+=2)Oe=_e,Be=Te,Ge=ze,Fe=Se,Te+=X.Rc,Se+=X.Rc,ve+=2*ue.A,ye(be,(xe+=2*X.fa)-X.fa,be,xe,Oe,Be,Ge,Fe,_e,Te,ze,Se,pe,ve-ue.A,pe,ve,ft);return xe+=X.fa,X.j+Qe<X.o?(n(Q.ec,Q.fc,be,xe,ft),n(Q.cc,Q.dc,_e,Te,nt),n(Q.Mc,Q.Nc,ze,Se,nt),oe--):1&Qe||ye(be,xe,null,null,_e,Te,ze,Se,_e,Te,ze,Se,pe,ve+ue.A,null,null,ft),oe}function hr(X,Q,oe){var ue=X.F,pe=[X.J];if(ue!=null){var ve=X.U,ye=Q.ba.S,be=ye==l1||ye==c1;Q=Q.ba.f.RGBA;var xe=[0],_e=X.ka;xe[0]=X.T,X.Kb&&(_e==0?--xe[0]:(--_e,pe[0]-=X.width),X.j+X.ka+X.T==X.o&&(xe[0]=X.o-X.j-_e));var Te=Q.eb;_e=Q.fb+_e*Q.A,X=HE(ue,pe[0],X.width,ve,xe,Te,_e+(be?0:3),Q.A),t(oe==xe),X&&wt(ye)&&Kp(Te,_e,be,ve,xe,Q.A)}return 0}function Cr(X){var Q=X.ma,oe=Q.ba.S,ue=11>oe,pe=oe==a1||oe==o1||oe==l1||oe==lx||oe==12||wt(oe);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!zp(Q.Oa,X,pe?11:12))return 0;if(pe&&wt(oe)&&e1(),X.da)alert("todo:use_scaling");else{if(ue){if(Q.Ib=kr,X.Kb){if(oe=X.U+1>>1,Q.memory=s(X.U+2*oe),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+X.U,Q.Mc=Q.cc,Q.Nc=Q.dc+oe,Q.Ib=jt,e1()}}else alert("todo:EmitYUV");pe&&(Q.Jb=hr,ue&&Ta())}if(ue&&!ak){for(X=0;256>X;++X)RU[X]=89858*(X-128)+d1>>u1,IU[X]=-22014*(X-128)+d1,OU[X]=-45773*(X-128),PU[X]=113618*(X-128)+d1>>u1;for(X=Zp;X<px;++X)Q=76283*(X-16)+d1>>u1,MU[X-Zp]=zn(Q,255),LU[X-Zp]=zn(Q+8>>4,15);ak=1}return 1}function dt(X){var Q=X.ma,oe=X.U,ue=X.T;return t(!(1&X.ka)),0>=oe||0>=ue?0:(oe=Q.Ib(X,Q),Q.Jb!=null&&Q.Jb(X,Q,oe),Q.Dc+=oe,1)}function wr(X){X.ma.memory=null}function jr(X,Q,oe,ue){return z(X,8)!=47?0:(Q[0]=z(X,14)+1,oe[0]=z(X,14)+1,ue[0]=z(X,1),z(X,3)!=0?0:!X.h)}function Gt(X,Q){if(4>X)return X+1;var oe=X-2>>1;return(2+(1&X)<<oe)+z(Q,oe)+1}function Ne(X,Q){return 120<Q?Q-120:1<=(oe=((oe=vU[Q-1])>>4)*X+(8-(15&oe)))?oe:1;var oe}function Pe(X,Q,oe){var ue=Z(oe),pe=X[Q+=255&ue].g-8;return 0<pe&&(q(oe,oe.u+8),ue=Z(oe),Q+=X[Q].value,Q+=ue&(1<<pe)-1),q(oe,oe.u+X[Q].g),X[Q].value}function We(X,Q,oe){return oe.g+=X.g,oe.value+=X.value<<Q>>>0,t(8>=oe.g),X.g}function ct(X,Q,oe){var ue=X.xc;return t((Q=ue==0?0:X.vc[X.md*(oe>>ue)+(Q>>ue)])<X.Wb),X.Ya[Q]}function Bt(X,Q,oe,ue){var pe=X.ab,ve=X.c*Q,ye=X.C;Q=ye+Q;var be=oe,xe=ue;for(ue=X.Ta,oe=X.Ua;0<pe--;){var _e=X.gc[pe],Te=ye,ze=Q,Se=be,Oe=xe,Be=(xe=ue,be=oe,_e.Ea);switch(t(Te<ze),t(ze<=_e.nc),_e.hc){case 2:ei(Se,Oe,(ze-Te)*Be,xe,be);break;case 0:var Ge=Te,Fe=ze,Xe=xe,Qe=be,ft=(Ut=_e).Ea;Ge==0&&($p(Se,Oe,null,null,1,Xe,Qe),Re(Se,Oe+1,0,0,ft-1,Xe,Qe+1),Oe+=ft,Qe+=ft,++Ge);for(var nt=1<<Ut.b,Zt=nt-1,Pt=Y(ft,Ut.b),Nr=Ut.K,Ut=Ut.w+(Ge>>Ut.b)*Pt;Ge<Fe;){var Ur=Nr,Ei=Ut,Ar=1;for(Oh(Se,Oe,Xe,Qe-ft,1,Xe,Qe);Ar<ft;){var $t=(Ar&~Zt)+nt;$t>ft&&($t=ft),(0,Wp[Ur[Ei++]>>8&15])(Se,Oe+ +Ar,Xe,Qe+Ar-ft,$t-Ar,Xe,Qe+Ar),Ar=$t}Oe+=ft,Qe+=ft,++Ge&Zt||(Ut+=Pt)}ze!=_e.nc&&n(xe,be-Be,xe,be+(ze-Te-1)*Be,Be);break;case 1:for(Be=Se,Fe=Oe,ft=(Se=_e.Ea)-(Qe=Se&~(Xe=(Oe=1<<_e.b)-1)),Ge=Y(Se,_e.b),nt=_e.K,_e=_e.w+(Te>>_e.b)*Ge;Te<ze;){for(Zt=nt,Pt=_e,Nr=new le,Ut=Fe+Qe,Ur=Fe+Se;Fe<Ut;)qe(Zt[Pt++],Nr),qp(Nr,Be,Fe,Oe,xe,be),Fe+=Oe,be+=Oe;Fe<Ur&&(qe(Zt[Pt++],Nr),qp(Nr,Be,Fe,ft,xe,be),Fe+=ft,be+=ft),++Te&Xe||(_e+=Ge)}break;case 3:if(Se==xe&&Oe==be&&0<_e.b){for(Fe=xe,Se=Be=be+(ze-Te)*Be-(Qe=(ze-Te)*Y(_e.Ea,_e.b)),Oe=xe,Xe=be,Ge=[],Qe=(ft=Qe)-1;0<=Qe;--Qe)Ge[Qe]=Oe[Xe+Qe];for(Qe=ft-1;0<=Qe;--Qe)Fe[Se+Qe]=Ge[Qe];r1(_e,Te,ze,xe,Be,xe,be)}else r1(_e,Te,ze,Se,Oe,xe,be)}be=ue,xe=oe}xe!=oe&&n(ue,oe,be,xe,ve)}function vt(X,Q){var oe=X.V,ue=X.Ba+X.c*X.C,pe=Q-X.C;if(t(Q<=X.l.o),t(16>=pe),0<pe){var ve=X.l,ye=X.Ta,be=X.Ua,xe=ve.width;if(Bt(X,pe,oe,ue),pe=be=[be],t((oe=X.C)<(ue=Q)),t(ve.v<ve.va),ue>ve.o&&(ue=ve.o),oe<ve.j){var _e=ve.j-oe;oe=ve.j,pe[0]+=_e*xe}if(oe>=ue?oe=0:(pe[0]+=4*ve.v,ve.ka=oe-ve.j,ve.U=ve.va-ve.v,ve.T=ue-oe,oe=1),oe){if(be=be[0],11>(oe=X.ca).S){var Te=oe.f.RGBA,ze=(ue=oe.S,pe=ve.U,ve=ve.T,_e=Te.eb,Te.A),Se=ve;for(Te=Te.fb+X.Ma*Te.A;0<Se--;){var Oe=ye,Be=be,Ge=pe,Fe=_e,Xe=Te;switch(ue){case s1:Vp(Oe,Be,Ge,Fe,Xe);break;case a1:Nc(Oe,Be,Ge,Fe,Xe);break;case cx:Nc(Oe,Be,Ge,Fe,Xe),Kp(Fe,Xe,0,Ge,1,0);break;case ZE:hd(Oe,Be,Ge,Fe,Xe);break;case o1:Ze(Oe,Be,Ge,Fe,Xe,1);break;case ux:Ze(Oe,Be,Ge,Fe,Xe,1),Kp(Fe,Xe,0,Ge,1,0);break;case l1:Ze(Oe,Be,Ge,Fe,Xe,0);break;case c1:Ze(Oe,Be,Ge,Fe,Xe,0),Kp(Fe,Xe,1,Ge,1,0);break;case lx:Ac(Oe,Be,Ge,Fe,Xe);break;case dx:Ac(Oe,Be,Ge,Fe,Xe),$E(Fe,Xe,Ge,1,0);break;case YE:Cc(Oe,Be,Ge,Fe,Xe);break;default:t(0)}be+=xe,Te+=ze}X.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");t(X.Ma<=oe.height)}}X.C=Q,t(X.C<=X.i)}function Ft(X){var Q;if(0<X.ua)return 0;for(Q=0;Q<X.Wb;++Q){var oe=X.Ya[Q].G,ue=X.Ya[Q].H;if(0<oe[1][ue[1]+0].g||0<oe[2][ue[2]+0].g||0<oe[3][ue[3]+0].g)return 0}return 1}function It(X,Q,oe,ue,pe,ve){if(X.Z!=0){var ye=X.qd,be=X.rd;for(t(Rc[X.Z]!=null);Q<oe;++Q)Rc[X.Z](ye,be,ue,pe,ue,pe,ve),ye=ue,be=pe,pe+=ve;X.qd=ye,X.rd=be}}function Tt(X,Q){var oe=X.l.ma,ue=oe.Z==0||oe.Z==1?X.l.j:X.C;if(ue=X.C<ue?ue:X.C,t(Q<=X.l.o),Q>ue){var pe=X.l.width,ve=oe.ca,ye=oe.tb+pe*ue,be=X.V,xe=X.Ba+X.c*ue,_e=X.gc;t(X.ab==1),t(_e[0].hc==3),Do(_e[0],ue,Q,be,xe,ve,ye),It(oe,ue,Q,ve,ye,pe)}X.C=X.Ma=Q}function Kt(X,Q,oe,ue,pe,ve,ye){var be=X.$/ue,xe=X.$%ue,_e=X.m,Te=X.s,ze=oe+X.$,Se=ze;pe=oe+ue*pe;var Oe=oe+ue*ve,Be=280+Te.ua,Ge=X.Pb?be:16777216,Fe=0<Te.ua?Te.Wa:null,Xe=Te.wc,Qe=ze<Oe?ct(Te,xe,be):null;t(X.C<ve),t(Oe<=pe);var ft=!1;e:for(;;){for(;ft||ze<Oe;){var nt=0;if(be>=Ge){var Zt=ze-oe;t((Ge=X).Pb),Ge.wd=Ge.m,Ge.xd=Zt,0<Ge.s.ua&&ee(Ge.s.Wa,Ge.s.vb),Ge=be+bU}if(xe&Xe||(Qe=ct(Te,xe,be)),t(Qe!=null),Qe.Qb&&(Q[ze]=Qe.qb,ft=!0),!ft)if($(_e),Qe.jc){nt=_e,Zt=Q;var Pt=ze,Nr=Qe.pd[Z(nt)&dd-1];t(Qe.jc),256>Nr.g?(q(nt,nt.u+Nr.g),Zt[Pt]=Nr.value,nt=0):(q(nt,nt.u+Nr.g-256),t(256<=Nr.value),nt=Nr.value),nt==0&&(ft=!0)}else nt=Pe(Qe.G[0],Qe.H[0],_e);if(_e.h)break;if(ft||256>nt){if(!ft)if(Qe.nd)Q[ze]=(Qe.qb|nt<<8)>>>0;else{if($(_e),ft=Pe(Qe.G[1],Qe.H[1],_e),$(_e),Zt=Pe(Qe.G[2],Qe.H[2],_e),Pt=Pe(Qe.G[3],Qe.H[3],_e),_e.h)break;Q[ze]=(Pt<<24|ft<<16|nt<<8|Zt)>>>0}if(ft=!1,++ze,++xe>=ue&&(xe=0,++be,ye!=null&&be<=ve&&!(be%16)&&ye(X,be),Fe!=null))for(;Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt}else if(280>nt){if(nt=Gt(nt-256,_e),Zt=Pe(Qe.G[4],Qe.H[4],_e),$(_e),Zt=Ne(ue,Zt=Gt(Zt,_e)),_e.h)break;if(ze-oe<Zt||pe-ze<nt)break e;for(Pt=0;Pt<nt;++Pt)Q[ze+Pt]=Q[ze+Pt-Zt];for(ze+=nt,xe+=nt;xe>=ue;)xe-=ue,++be,ye!=null&&be<=ve&&!(be%16)&&ye(X,be);if(t(ze<=pe),xe&Xe&&(Qe=ct(Te,xe,be)),Fe!=null)for(;Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt}else{if(!(nt<Be))break e;for(ft=nt-280,t(Fe!=null);Se<ze;)nt=Q[Se++],Fe.X[(506832829*nt&4294967295)>>>Fe.Mb]=nt;nt=ze,t(!(ft>>>(Zt=Fe).Xa)),Q[nt]=Zt.X[ft],ft=!0}ft||t(_e.h==te(_e))}if(X.Pb&&_e.h&&ze<pe)t(X.m.h),X.a=5,X.m=X.wd,X.$=X.xd,0<X.s.ua&&ee(X.s.vb,X.s.Wa);else{if(_e.h)break e;ye!=null&&ye(X,be>ve?ve:be),X.a=0,X.$=ze-oe}return 1}return X.a=3,0}function zt(X){t(X!=null),X.vc=null,X.yc=null,X.Ya=null;var Q=X.Wa;Q!=null&&(Q.X=null),X.vb=null,t(X!=null)}function ar(){var X=new Vt;return X==null?null:(X.a=0,X.xb=ek,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),ei=je,qp=Je,Vp=pt,Nc=$e,Ac=Ue,Cc=Ke,hd=rt,O.VP8LMapColor32b=Lo,O.VP8LMapColor8b=Hp,X)}function Gr(X,Q,oe,ue,pe){var ve=1,ye=[X],be=[Q],xe=ue.m,_e=ue.s,Te=null,ze=0;e:for(;;){if(oe)for(;ve&&z(xe,1);){var Se=ye,Oe=be,Be=ue,Ge=1,Fe=Be.m,Xe=Be.gc[Be.ab],Qe=z(Fe,2);if(Be.Oc&1<<Qe)ve=0;else{switch(Be.Oc|=1<<Qe,Xe.hc=Qe,Xe.Ea=Se[0],Xe.nc=Oe[0],Xe.K=[null],++Be.ab,t(4>=Be.ab),Qe){case 0:case 1:Xe.b=z(Fe,3)+2,Ge=Gr(Y(Xe.Ea,Xe.b),Y(Xe.nc,Xe.b),0,Be,Xe.K),Xe.K=Xe.K[0];break;case 3:var ft,nt=z(Fe,8)+1,Zt=16<nt?0:4<nt?1:2<nt?2:3;if(Se[0]=Y(Xe.Ea,Zt),Xe.b=Zt,ft=Ge=Gr(nt,1,0,Be,Xe.K)){var Pt,Nr=nt,Ut=Xe,Ur=1<<(8>>Ut.b),Ei=s(Ur);if(Ei==null)ft=0;else{var Ar=Ut.K[0],$t=Ut.w;for(Ei[0]=Ut.K[0][0],Pt=1;Pt<1*Nr;++Pt)Ei[Pt]=ae(Ar[$t+Pt],Ei[Pt-1]);for(;Pt<4*Ur;++Pt)Ei[Pt]=0;Ut.K[0]=null,Ut.K[0]=Ei,ft=1}}Ge=ft;break;case 2:break;default:t(0)}ve=Ge}}if(ye=ye[0],be=be[0],ve&&z(xe,1)&&!(ve=1<=(ze=z(xe,4))&&11>=ze)){ue.a=3;break e}var _t;if(_t=ve)t:{var ri,xr,qr,Sn=ue,Vi=ye,ws=be,Un=ze,us=oe,_s=Sn.m,ki=Sn.s,Kr=[null],rn=1,$n=0,nn=yU[Un];r:for(;;){if(us&&z(_s,1)){var Gi=z(_s,3)+2,io=Y(Vi,Gi),ni=Y(ws,Gi),zs=io*ni;if(!Gr(io,ni,0,Sn,Kr))break r;for(Kr=Kr[0],ki.xc=Gi,ri=0;ri<zs;++ri){var fn=Kr[ri]>>8&65535;Kr[ri]=fn,fn>=rn&&(rn=fn+1)}}if(_s.h)break r;for(xr=0;5>xr;++xr){var Ni=JE[xr];!xr&&0<Un&&(Ni+=1<<Un),$n<Ni&&($n=Ni)}var la=o(rn*nn,R),Ss=rn,ca=o(Ss,j);if(ca==null)var ua=null;else t(65536>=Ss),ua=ca;var Us=s($n);if(ua==null||Us==null||la==null){Sn.a=1;break r}var da=la;for(ri=qr=0;ri<rn;++ri){var yn=ua[ri],ha=yn.G,so=yn.H,pd=0,Tl=1,Ki=0;for(xr=0;5>xr;++xr){Ni=JE[xr],ha[xr]=da,so[xr]=qr,!xr&&0<Un&&(Ni+=1<<Un);i:{var f1,mx=Ni,p1=Sn,Yp=Us,FU=da,zU=qr,gx=0,Pc=p1.m,UU=z(Pc,1);if(i(Yp,0,0,mx),UU){var $U=z(Pc,1)+1,HU=z(Pc,1),ck=z(Pc,HU==0?1:8);Yp[ck]=1,$U==2&&(Yp[ck=z(Pc,8)]=1);var m1=1}else{var uk=s(19),dk=z(Pc,4)+4;if(19<dk){p1.a=3;var g1=0;break i}for(f1=0;f1<dk;++f1)uk[gU[f1]]=z(Pc,3);var vx=void 0,Jp=void 0,hk=p1,WU=uk,v1=mx,fk=Yp,yx=0,Oc=hk.m,pk=8,mk=o(128,R);n:for(;I(mk,0,7,WU,19);){if(z(Oc,1)){var qU=2+2*z(Oc,3);if((vx=2+z(Oc,qU))>v1)break n}else vx=v1;for(Jp=0;Jp<v1&&vx--;){$(Oc);var gk=mk[0+(127&Z(Oc))];q(Oc,Oc.u+gk.g);var Mh=gk.value;if(16>Mh)fk[Jp++]=Mh,Mh!=0&&(pk=Mh);else{var VU=Mh==16,vk=Mh-16,GU=pU[vk],yk=z(Oc,fU[vk])+GU;if(Jp+yk>v1)break n;for(var KU=VU?pk:0;0<yk--;)fk[Jp++]=KU}}yx=1;break n}yx||(hk.a=3),m1=yx}(m1=m1&&!Pc.h)&&(gx=I(FU,zU,8,Yp,mx)),m1&&gx!=0?g1=gx:(p1.a=3,g1=0)}if(g1==0)break r;if(Tl&&mU[xr]==1&&(Tl=da[qr].g==0),pd+=da[qr].g,qr+=g1,3>=xr){var Qp,bx=Us[0];for(Qp=1;Qp<Ni;++Qp)Us[Qp]>bx&&(bx=Us[Qp]);Ki+=bx}}if(yn.nd=Tl,yn.Qb=0,Tl&&(yn.qb=(ha[3][so[3]+0].value<<24|ha[1][so[1]+0].value<<16|ha[2][so[2]+0].value)>>>0,pd==0&&256>ha[0][so[0]+0].value&&(yn.Qb=1,yn.qb+=ha[0][so[0]+0].value<<8)),yn.jc=!yn.Qb&&6>Ki,yn.jc){var y1,Rl=yn;for(y1=0;y1<dd;++y1){var Ic=y1,Mc=Rl.pd[Ic],b1=Rl.G[0][Rl.H[0]+Ic];256<=b1.value?(Mc.g=b1.g+256,Mc.value=b1.value):(Mc.g=0,Mc.value=0,Ic>>=We(b1,8,Mc),Ic>>=We(Rl.G[1][Rl.H[1]+Ic],16,Mc),Ic>>=We(Rl.G[2][Rl.H[2]+Ic],0,Mc),We(Rl.G[3][Rl.H[3]+Ic],24,Mc))}}}ki.vc=Kr,ki.Wb=rn,ki.Ya=ua,ki.yc=la,_t=1;break t}_t=0}if(!(ve=_t)){ue.a=3;break e}if(0<ze){if(_e.ua=1<<ze,!ne(_e.Wa,ze)){ue.a=1,ve=0;break e}}else _e.ua=0;var xx=ue,bk=ye,XU=be,wx=xx.s,_x=wx.xc;if(xx.c=bk,xx.i=XU,wx.md=Y(bk,_x),wx.wc=_x==0?-1:(1<<_x)-1,oe){ue.xb=NU;break e}if((Te=s(ye*be))==null){ue.a=1,ve=0;break e}ve=(ve=Kt(ue,Te,0,ye,be,be,null))&&!xe.h;break e}return ve?(pe!=null?pe[0]=Te:(t(Te==null),t(oe)),ue.$=0,oe||zt(_e)):zt(_e),ve}function zr(X,Q){var oe=X.c*X.i,ue=oe+Q+16*Q;return t(X.c<=Q),X.V=s(ue),X.V==null?(X.Ta=null,X.Ua=0,X.a=1,0):(X.Ta=X.V,X.Ua=X.Ba+oe+Q,1)}function mn(X,Q){var oe=X.C,ue=Q-oe,pe=X.V,ve=X.Ba+X.c*oe;for(t(Q<=X.l.o);0<ue;){var ye=16<ue?16:ue,be=X.l.ma,xe=X.l.width,_e=xe*ye,Te=be.ca,ze=be.tb+xe*oe,Se=X.Ta,Oe=X.Ua;Bt(X,ye,pe,ve),WE(Se,Oe,Te,ze,_e),It(be,oe,oe+ye,Te,ze,xe),ue-=ye,pe+=ye*X.c,oe+=ye}t(oe==Q),X.C=X.Ma=Q}function gn(){this.ub=this.yd=this.td=this.Rb=0}function Qn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function we(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function De(){this.Yb=function(){var X=[];return function Q(oe,ue,pe){for(var ve=pe[ue],ye=0;ye<ve&&(oe.push(pe.length>ue+1?[]:0),!(pe.length<ue+1));ye++)Q(oe[ye],ue+1,pe)}(X,0,[3,11]),X}()}function et(){this.jb=s(3),this.Wc=a([4,8],De),this.Xc=a([4,17],De)}function it(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function At(){this.ld=this.La=this.dd=this.tc=0}function mt(){this.Na=this.la=0}function yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _r(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lr(){this.uc=this.M=this.Nb=0,this.wa=Array(new At),this.Y=0,this.ya=Array(new _r),this.aa=0,this.l=new Dr}function fr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xt(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new gn,this.Kc=new Qn,this.ed=new it,this.Qa=new we,this.Ic=this.$c=this.Aa=0,this.D=new lr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,P),this.ia=0,this.pb=o(4,yt),this.Pa=new et,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fr),this.Hd=0,this.rb=Array(new mt),this.sb=0,this.wa=Array(new At),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _r),this.L=this.aa=0,this.gd=a([4,2],At),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hr(){var X=new Xt;return X!=null&&(X.a=0,X.sc="OK",X.cb=0,X.Xb=0,Xp||(Xp=_n)),X}function ir(X,Q,oe){return X.a==0&&(X.a=Q,X.sc=oe,X.cb=0),0}function ln(X,Q,oe){return 3<=oe&&X[Q+0]==157&&X[Q+1]==1&&X[Q+2]==42}function In(X,Q){if(X==null)return 0;if(X.a=0,X.sc="OK",Q==null)return ir(X,2,"null VP8Io passed to VP8GetHeaders()");var oe=Q.data,ue=Q.w,pe=Q.ha;if(4>pe)return ir(X,7,"Truncated header.");var ve=oe[ue+0]|oe[ue+1]<<8|oe[ue+2]<<16,ye=X.Od;if(ye.Rb=!(1&ve),ye.td=ve>>1&7,ye.yd=ve>>4&1,ye.ub=ve>>5,3<ye.td)return ir(X,3,"Incorrect keyframe parameters.");if(!ye.yd)return ir(X,4,"Frame not displayable.");ue+=3,pe-=3;var be=X.Kc;if(ye.Rb){if(7>pe)return ir(X,7,"cannot parse picture header");if(!ln(oe,ue,pe))return ir(X,3,"Bad code word");be.c=16383&(oe[ue+4]<<8|oe[ue+3]),be.Td=oe[ue+4]>>6,be.i=16383&(oe[ue+6]<<8|oe[ue+5]),be.Ud=oe[ue+6]>>6,ue+=7,pe-=7,X.za=be.c+15>>4,X.Ub=be.i+15>>4,Q.width=be.c,Q.height=be.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,i((ve=X.Pa).jb,0,255,ve.jb.length),t((ve=X.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,i(ve.Zb,0,0,ve.Zb.length),i(ve.Lb,0,0,ve.Lb)}if(ye.ub>pe)return ir(X,7,"bad partition length");k(ve=X.m,oe,ue,ye.ub),ue+=ye.ub,pe-=ye.ub,ye.Rb&&(be.Ld=T(ve),be.Kd=T(ve)),be=X.Qa;var xe,_e=X.Pa;if(t(ve!=null),t(be!=null),be.Cb=T(ve),be.Cb){if(be.Bb=T(ve),T(ve)){for(be.Fb=T(ve),xe=0;4>xe;++xe)be.Zb[xe]=T(ve)?A(ve,7):0;for(xe=0;4>xe;++xe)be.Lb[xe]=T(ve)?A(ve,6):0}if(be.Bb)for(xe=0;3>xe;++xe)_e.jb[xe]=T(ve)?E(ve,8):255}else be.Bb=0;if(ve.Ka)return ir(X,3,"cannot parse segment header");if((be=X.ed).zd=T(ve),be.Tb=E(ve,6),be.wb=E(ve,3),be.Pc=T(ve),be.Pc&&T(ve)){for(_e=0;4>_e;++_e)T(ve)&&(be.vd[_e]=A(ve,6));for(_e=0;4>_e;++_e)T(ve)&&(be.od[_e]=A(ve,6))}if(X.L=be.Tb==0?0:be.zd?1:2,ve.Ka)return ir(X,3,"cannot parse filter header");var Te=pe;if(pe=xe=ue,ue=xe+Te,be=Te,X.Xb=(1<<E(X.m,2))-1,Te<3*(_e=X.Xb))oe=7;else{for(xe+=3*_e,be-=3*_e,Te=0;Te<_e;++Te){var ze=oe[pe+0]|oe[pe+1]<<8|oe[pe+2]<<16;ze>be&&(ze=be),k(X.Jc[+Te],oe,xe,ze),xe+=ze,be-=ze,pe+=3}k(X.Jc[+_e],oe,xe,be),oe=xe<ue?0:5}if(oe!=0)return ir(X,oe,"cannot parse partitions");for(oe=E(xe=X.m,7),pe=T(xe)?A(xe,4):0,ue=T(xe)?A(xe,4):0,be=T(xe)?A(xe,4):0,_e=T(xe)?A(xe,4):0,xe=T(xe)?A(xe,4):0,Te=X.Qa,ze=0;4>ze;++ze){if(Te.Cb){var Se=Te.Zb[ze];Te.Fb||(Se+=oe)}else{if(0<ze){X.pb[ze]=X.pb[0];continue}Se=oe}var Oe=X.pb[ze];Oe.Sc[0]=hx[zn(Se+pe,127)],Oe.Sc[1]=fx[zn(Se+0,127)],Oe.Eb[0]=2*hx[zn(Se+ue,127)],Oe.Eb[1]=101581*fx[zn(Se+be,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=hx[zn(Se+_e,117)],Oe.Qc[1]=fx[zn(Se+xe,127)],Oe.lc=Se+xe}if(!ye.Rb)return ir(X,4,"Not a key frame.");for(T(ve),ye=X.Pa,oe=0;4>oe;++oe){for(pe=0;8>pe;++pe)for(ue=0;3>ue;++ue)for(be=0;11>be;++be)_e=V(ve,EU[oe][pe][ue][be])?E(ve,8):_U[oe][pe][ue][be],ye.Wc[oe][pe].Yb[ue][be]=_e;for(pe=0;17>pe;++pe)ye.Xc[oe][pe]=ye.Wc[oe][kU[pe]]}return X.kc=T(ve),X.kc&&(X.Bd=E(ve,8)),X.cb=1}function _n(X,Q,oe,ue,pe,ve,ye){var be=Q[pe].Yb[oe];for(oe=0;16>pe;++pe){if(!V(X,be[oe+0]))return pe;for(;!V(X,be[oe+1]);)if(be=Q[++pe].Yb[0],oe=0,pe==16)return 16;var xe=Q[pe+1].Yb;if(V(X,be[oe+2])){var _e=X,Te=0;if(V(_e,(Se=be)[(ze=oe)+3]))if(V(_e,Se[ze+6])){for(be=0,ze=2*(Te=V(_e,Se[ze+8]))+(Se=V(_e,Se[ze+9+Te])),Te=0,Se=xU[ze];Se[be];++be)Te+=Te+V(_e,Se[be]);Te+=3+(8<<ze)}else V(_e,Se[ze+7])?(Te=7+2*V(_e,165),Te+=V(_e,145)):Te=5+V(_e,159);else Te=V(_e,Se[ze+4])?3+V(_e,Se[ze+5]):2;be=xe[2]}else Te=1,be=xe[1];xe=ye+wU[pe],0>(_e=X).b&&N(_e);var ze,Se=_e.b,Oe=(ze=_e.Ca>>1)-(_e.I>>Se)>>31;--_e.b,_e.Ca+=Oe,_e.Ca|=1,_e.I-=(ze+1&Oe)<<Se,ve[xe]=((Te^Oe)-Oe)*ue[(0<pe)+0]}return 16}function xi(X){var Q=X.rb[X.sb-1];Q.la=0,Q.Na=0,i(X.zc,0,0,X.zc.length),X.ja=0}function wi(X,Q,oe,ue,pe){pe=X[Q+oe+32*ue]+(pe>>3),X[Q+oe+32*ue]=-256&pe?0>pe?0:255:pe}function Ls(X,Q,oe,ue,pe,ve){wi(X,Q,0,oe,ue+pe),wi(X,Q,1,oe,ue+ve),wi(X,Q,2,oe,ue-ve),wi(X,Q,3,oe,ue-pe)}function cn(X){return(20091*X>>16)+X}function Aa(X,Q,oe,ue){var pe,ve=0,ye=s(16);for(pe=0;4>pe;++pe){var be=X[Q+0]+X[Q+8],xe=X[Q+0]-X[Q+8],_e=(35468*X[Q+4]>>16)-cn(X[Q+12]),Te=cn(X[Q+4])+(35468*X[Q+12]>>16);ye[ve+0]=be+Te,ye[ve+1]=xe+_e,ye[ve+2]=xe-_e,ye[ve+3]=be-Te,ve+=4,Q++}for(pe=ve=0;4>pe;++pe)be=(X=ye[ve+0]+4)+ye[ve+8],xe=X-ye[ve+8],_e=(35468*ye[ve+4]>>16)-cn(ye[ve+12]),wi(oe,ue,0,0,be+(Te=cn(ye[ve+4])+(35468*ye[ve+12]>>16))),wi(oe,ue,1,0,xe+_e),wi(oe,ue,2,0,xe-_e),wi(oe,ue,3,0,be-Te),ve++,ue+=32}function Wr(X,Q,oe,ue){var pe=X[Q+0]+4,ve=35468*X[Q+4]>>16,ye=cn(X[Q+4]),be=35468*X[Q+1]>>16;Ls(oe,ue,0,pe+ye,X=cn(X[Q+1]),be),Ls(oe,ue,1,pe+ve,X,be),Ls(oe,ue,2,pe-ve,X,be),Ls(oe,ue,3,pe-ye,X,be)}function Mr(X,Q,oe,ue,pe){Aa(X,Q,oe,ue),pe&&Aa(X,Q+16,oe,ue+4)}function Ca(X,Q,oe,ue){fd(X,Q+0,oe,ue,1),fd(X,Q+32,oe,ue+128,1)}function Di(X,Q,oe,ue){var pe;for(X=X[Q+0]+4,pe=0;4>pe;++pe)for(Q=0;4>Q;++Q)wi(oe,ue,Q,pe,X)}function xl(X,Q,oe,ue){X[Q+0]&&tn(X,Q+0,oe,ue),X[Q+16]&&tn(X,Q+16,oe,ue+4),X[Q+32]&&tn(X,Q+32,oe,ue+128),X[Q+48]&&tn(X,Q+48,oe,ue+128+4)}function Bi(X,Q,oe,ue){var pe,ve=s(16);for(pe=0;4>pe;++pe){var ye=X[Q+0+pe]+X[Q+12+pe],be=X[Q+4+pe]+X[Q+8+pe],xe=X[Q+4+pe]-X[Q+8+pe],_e=X[Q+0+pe]-X[Q+12+pe];ve[0+pe]=ye+be,ve[8+pe]=ye-be,ve[4+pe]=_e+xe,ve[12+pe]=_e-xe}for(pe=0;4>pe;++pe)ye=(X=ve[0+4*pe]+3)+ve[3+4*pe],be=ve[1+4*pe]+ve[2+4*pe],xe=ve[1+4*pe]-ve[2+4*pe],_e=X-ve[3+4*pe],oe[ue+0]=ye+be>>3,oe[ue+16]=_e+xe>>3,oe[ue+32]=ye-be>>3,oe[ue+48]=_e-xe>>3,ue+=64}function Fi(X,Q,oe){var ue,pe=Q-32,ve=oa,ye=255-X[pe-1];for(ue=0;ue<oe;++ue){var be,xe=ve,_e=ye+X[Q-1];for(be=0;be<oe;++be)X[Q+be]=xe[_e+X[pe+be]];Q+=32}}function Ds(X,Q){Fi(X,Q,4)}function wl(X,Q){Fi(X,Q,8)}function bc(X,Q){Fi(X,Q,16)}function Oo(X,Q){var oe;for(oe=0;16>oe;++oe)n(X,Q+32*oe,X,Q-32,16)}function Bs(X,Q){var oe;for(oe=16;0<oe;--oe)i(X,Q,X[Q-1],16),Q+=32}function Io(X,Q,oe){var ue;for(ue=0;16>ue;++ue)i(Q,oe+32*ue,X,16)}function ia(X,Q){var oe,ue=16;for(oe=0;16>oe;++oe)ue+=X[Q-1+32*oe]+X[Q+oe-32];Io(ue>>5,X,Q)}function Ju(X,Q){var oe,ue=8;for(oe=0;16>oe;++oe)ue+=X[Q-1+32*oe];Io(ue>>4,X,Q)}function ja(X,Q){var oe,ue=8;for(oe=0;16>oe;++oe)ue+=X[Q+oe-32];Io(ue>>4,X,Q)}function Mo(X,Q){Io(128,X,Q)}function or(X,Q,oe){return X+2*Q+oe+2>>2}function xc(X,Q){var oe,ue=Q-32;for(ue=new Uint8Array([or(X[ue-1],X[ue+0],X[ue+1]),or(X[ue+0],X[ue+1],X[ue+2]),or(X[ue+1],X[ue+2],X[ue+3]),or(X[ue+2],X[ue+3],X[ue+4])]),oe=0;4>oe;++oe)n(X,Q+32*oe,ue,0,ue.length)}function wc(X,Q){var oe=X[Q-1],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96];J(X,Q+0,16843009*or(X[Q-1-32],oe,ue)),J(X,Q+32,16843009*or(oe,ue,pe)),J(X,Q+64,16843009*or(ue,pe,ve)),J(X,Q+96,16843009*or(pe,ve,ve))}function rx(X,Q){var oe,ue=4;for(oe=0;4>oe;++oe)ue+=X[Q+oe-32]+X[Q-1+32*oe];for(ue>>=3,oe=0;4>oe;++oe)i(X,Q+32*oe,ue,4)}function nx(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1-32],ye=X[Q+0-32],be=X[Q+1-32],xe=X[Q+2-32],_e=X[Q+3-32];X[Q+0+96]=or(ue,pe,X[Q-1+96]),X[Q+1+96]=X[Q+0+64]=or(oe,ue,pe),X[Q+2+96]=X[Q+1+64]=X[Q+0+32]=or(ve,oe,ue),X[Q+3+96]=X[Q+2+64]=X[Q+1+32]=X[Q+0+0]=or(ye,ve,oe),X[Q+3+64]=X[Q+2+32]=X[Q+1+0]=or(be,ye,ve),X[Q+3+32]=X[Q+2+0]=or(xe,be,ye),X[Q+3+0]=or(_e,xe,be)}function _l(X,Q){var oe=X[Q+1-32],ue=X[Q+2-32],pe=X[Q+3-32],ve=X[Q+4-32],ye=X[Q+5-32],be=X[Q+6-32],xe=X[Q+7-32];X[Q+0+0]=or(X[Q+0-32],oe,ue),X[Q+1+0]=X[Q+0+32]=or(oe,ue,pe),X[Q+2+0]=X[Q+1+32]=X[Q+0+64]=or(ue,pe,ve),X[Q+3+0]=X[Q+2+32]=X[Q+1+64]=X[Q+0+96]=or(pe,ve,ye),X[Q+3+32]=X[Q+2+64]=X[Q+1+96]=or(ve,ye,be),X[Q+3+64]=X[Q+2+96]=or(ye,be,xe),X[Q+3+96]=or(be,xe,xe)}function Sl(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1-32],ye=X[Q+0-32],be=X[Q+1-32],xe=X[Q+2-32],_e=X[Q+3-32];X[Q+0+0]=X[Q+1+64]=ve+ye+1>>1,X[Q+1+0]=X[Q+2+64]=ye+be+1>>1,X[Q+2+0]=X[Q+3+64]=be+xe+1>>1,X[Q+3+0]=xe+_e+1>>1,X[Q+0+96]=or(pe,ue,oe),X[Q+0+64]=or(ue,oe,ve),X[Q+0+32]=X[Q+1+96]=or(oe,ve,ye),X[Q+1+32]=X[Q+2+96]=or(ve,ye,be),X[Q+2+32]=X[Q+3+96]=or(ye,be,xe),X[Q+3+32]=or(be,xe,_e)}function ix(X,Q){var oe=X[Q+0-32],ue=X[Q+1-32],pe=X[Q+2-32],ve=X[Q+3-32],ye=X[Q+4-32],be=X[Q+5-32],xe=X[Q+6-32],_e=X[Q+7-32];X[Q+0+0]=oe+ue+1>>1,X[Q+1+0]=X[Q+0+64]=ue+pe+1>>1,X[Q+2+0]=X[Q+1+64]=pe+ve+1>>1,X[Q+3+0]=X[Q+2+64]=ve+ye+1>>1,X[Q+0+32]=or(oe,ue,pe),X[Q+1+32]=X[Q+0+96]=or(ue,pe,ve),X[Q+2+32]=X[Q+1+96]=or(pe,ve,ye),X[Q+3+32]=X[Q+2+96]=or(ve,ye,be),X[Q+3+64]=or(ye,be,xe),X[Q+3+96]=or(be,xe,_e)}function sx(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96];X[Q+0+0]=oe+ue+1>>1,X[Q+2+0]=X[Q+0+32]=ue+pe+1>>1,X[Q+2+32]=X[Q+0+64]=pe+ve+1>>1,X[Q+1+0]=or(oe,ue,pe),X[Q+3+0]=X[Q+1+32]=or(ue,pe,ve),X[Q+3+32]=X[Q+1+64]=or(pe,ve,ve),X[Q+3+64]=X[Q+2+64]=X[Q+0+96]=X[Q+1+96]=X[Q+2+96]=X[Q+3+96]=ve}function Ah(X,Q){var oe=X[Q-1+0],ue=X[Q-1+32],pe=X[Q-1+64],ve=X[Q-1+96],ye=X[Q-1-32],be=X[Q+0-32],xe=X[Q+1-32],_e=X[Q+2-32];X[Q+0+0]=X[Q+2+32]=oe+ye+1>>1,X[Q+0+32]=X[Q+2+64]=ue+oe+1>>1,X[Q+0+64]=X[Q+2+96]=pe+ue+1>>1,X[Q+0+96]=ve+pe+1>>1,X[Q+3+0]=or(be,xe,_e),X[Q+2+0]=or(ye,be,xe),X[Q+1+0]=X[Q+3+32]=or(oe,ye,be),X[Q+1+32]=X[Q+3+64]=or(ue,oe,ye),X[Q+1+64]=X[Q+3+96]=or(pe,ue,oe),X[Q+1+96]=or(ve,pe,ue)}function Op(X,Q){var oe;for(oe=0;8>oe;++oe)n(X,Q+32*oe,X,Q-32,8)}function Qu(X,Q){var oe;for(oe=0;8>oe;++oe)i(X,Q,X[Q-1],8),Q+=32}function Ch(X,Q,oe){var ue;for(ue=0;8>ue;++ue)i(Q,oe+32*ue,X,8)}function jh(X,Q){var oe,ue=8;for(oe=0;8>oe;++oe)ue+=X[Q+oe-32]+X[Q-1+32*oe];Ch(ue>>4,X,Q)}function ax(X,Q){var oe,ue=4;for(oe=0;8>oe;++oe)ue+=X[Q+oe-32];Ch(ue>>3,X,Q)}function Ip(X,Q){var oe,ue=4;for(oe=0;8>oe;++oe)ue+=X[Q-1+32*oe];Ch(ue>>3,X,Q)}function Mp(X,Q){Ch(128,X,Q)}function ed(X,Q,oe){var ue=X[Q-oe],pe=X[Q+0],ve=3*(pe-ue)+ox[1020+X[Q-2*oe]-X[Q+oe]],ye=i1[112+(ve+4>>3)];X[Q-oe]=oa[255+ue+i1[112+(ve+3>>3)]],X[Q+0]=oa[255+pe-ye]}function td(X,Q,oe,ue){var pe=X[Q+0],ve=X[Q+oe];return Oa[255+X[Q-2*oe]-X[Q-oe]]>ue||Oa[255+ve-pe]>ue}function Lp(X,Q,oe,ue){return 4*Oa[255+X[Q-oe]-X[Q+0]]+Oa[255+X[Q-2*oe]-X[Q+oe]]<=ue}function Th(X,Q,oe,ue,pe){var ve=X[Q-3*oe],ye=X[Q-2*oe],be=X[Q-oe],xe=X[Q+0],_e=X[Q+oe],Te=X[Q+2*oe],ze=X[Q+3*oe];return 4*Oa[255+be-xe]+Oa[255+ye-_e]>ue?0:Oa[255+X[Q-4*oe]-ve]<=pe&&Oa[255+ve-ye]<=pe&&Oa[255+ye-be]<=pe&&Oa[255+ze-Te]<=pe&&Oa[255+Te-_e]<=pe&&Oa[255+_e-xe]<=pe}function Dp(X,Q,oe,ue){var pe=2*ue+1;for(ue=0;16>ue;++ue)Lp(X,Q+ue,oe,pe)&&ed(X,Q+ue,oe)}function rd(X,Q,oe,ue){var pe=2*ue+1;for(ue=0;16>ue;++ue)Lp(X,Q+ue*oe,1,pe)&&ed(X,Q+ue*oe,1)}function Xg(X,Q,oe,ue){var pe;for(pe=3;0<pe;--pe)Dp(X,Q+=4*oe,oe,ue)}function Zg(X,Q,oe,ue){var pe;for(pe=3;0<pe;--pe)rd(X,Q+=4,oe,ue)}function El(X,Q,oe,ue,pe,ve,ye,be){for(ve=2*ve+1;0<pe--;){if(Th(X,Q,oe,ve,ye))if(td(X,Q,oe,be))ed(X,Q,oe);else{var xe=X,_e=Q,Te=oe,ze=xe[_e-2*Te],Se=xe[_e-Te],Oe=xe[_e+0],Be=xe[_e+Te],Ge=xe[_e+2*Te],Fe=27*(Qe=ox[1020+3*(Oe-Se)+ox[1020+ze-Be]])+63>>7,Xe=18*Qe+63>>7,Qe=9*Qe+63>>7;xe[_e-3*Te]=oa[255+xe[_e-3*Te]+Qe],xe[_e-2*Te]=oa[255+ze+Xe],xe[_e-Te]=oa[255+Se+Fe],xe[_e+0]=oa[255+Oe-Fe],xe[_e+Te]=oa[255+Be-Xe],xe[_e+2*Te]=oa[255+Ge-Qe]}Q+=ue}}function kl(X,Q,oe,ue,pe,ve,ye,be){for(ve=2*ve+1;0<pe--;){if(Th(X,Q,oe,ve,ye))if(td(X,Q,oe,be))ed(X,Q,oe);else{var xe=X,_e=Q,Te=oe,ze=xe[_e-Te],Se=xe[_e+0],Oe=xe[_e+Te],Be=i1[112+(4+(Ge=3*(Se-ze))>>3)],Ge=i1[112+(Ge+3>>3)],Fe=Be+1>>1;xe[_e-2*Te]=oa[255+xe[_e-2*Te]+Fe],xe[_e-Te]=oa[255+ze+Ge],xe[_e+0]=oa[255+Se-Be],xe[_e+Te]=oa[255+Oe-Fe]}Q+=ue}}function Yg(X,Q,oe,ue,pe,ve){El(X,Q,oe,1,16,ue,pe,ve)}function Jg(X,Q,oe,ue,pe,ve){El(X,Q,1,oe,16,ue,pe,ve)}function nd(X,Q,oe,ue,pe,ve){var ye;for(ye=3;0<ye;--ye)kl(X,Q+=4*oe,oe,1,16,ue,pe,ve)}function Qg(X,Q,oe,ue,pe,ve){var ye;for(ye=3;0<ye;--ye)kl(X,Q+=4,1,oe,16,ue,pe,ve)}function ie(X,Q,oe,ue,pe,ve,ye,be){El(X,Q,pe,1,8,ve,ye,be),El(oe,ue,pe,1,8,ve,ye,be)}function fe(X,Q,oe,ue,pe,ve,ye,be){El(X,Q,1,pe,8,ve,ye,be),El(oe,ue,1,pe,8,ve,ye,be)}function Ee(X,Q,oe,ue,pe,ve,ye,be){kl(X,Q+4*pe,pe,1,8,ve,ye,be),kl(oe,ue+4*pe,pe,1,8,ve,ye,be)}function Ae(X,Q,oe,ue,pe,ve,ye,be){kl(X,Q+4,1,pe,8,ve,ye,be),kl(oe,ue+4,1,pe,8,ve,ye,be)}function Le(){this.ba=new St,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new R}function Vt(){this.xb=this.a=0,this.l=new Dr,this.ca=new St,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=o(4,st),this.Oc=0}function dr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vr(X,Q,oe,ue,pe,ve,ye){for(X=X==null?0:X[Q+0],Q=0;Q<ye;++Q)pe[ve+Q]=X+oe[ue+Q]&255,X=pe[ve+Q]}function Zr(X,Q,oe,ue,pe,ve,ye){var be;if(X==null)vr(null,null,oe,ue,pe,ve,ye);else for(be=0;be<ye;++be)pe[ve+be]=X[Q+be]+oe[ue+be]&255}function Mn(X,Q,oe,ue,pe,ve,ye){if(X==null)vr(null,null,oe,ue,pe,ve,ye);else{var be,xe=X[Q+0],_e=xe,Te=xe;for(be=0;be<ye;++be)_e=Te+(xe=X[Q+be])-_e,Te=oe[ue+be]+(-256&_e?0>_e?0:255:_e)&255,_e=xe,pe[ve+be]=Te}}function mi(X,Q,oe,ue){var pe=Q.width,ve=Q.o;if(t(X!=null&&Q!=null),0>oe||0>=ue||oe+ue>ve)return null;if(!X.Cc){if(X.ga==null){var ye;if(X.ga=new dr,(ye=X.ga==null)||(ye=Q.width*Q.o,t(X.Gb.length==0),X.Gb=s(ye),X.Uc=0,X.Gb==null?ye=0:(X.mb=X.Gb,X.nb=X.Uc,X.rc=null,ye=1),ye=!ye),!ye){ye=X.ga;var be=X.Fa,xe=X.P,_e=X.qc,Te=X.mb,ze=X.nb,Se=xe+1,Oe=_e-1,Be=ye.l;if(t(be!=null&&Te!=null&&Q!=null),Rc[0]=null,Rc[1]=vr,Rc[2]=Zr,Rc[3]=Mn,ye.ca=Te,ye.tb=ze,ye.c=Q.width,ye.i=Q.height,t(0<ye.c&&0<ye.i),1>=_e)Q=0;else if(ye.$a=3&be[xe+0],ye.Z=be[xe+0]>>2&3,ye.Lc=be[xe+0]>>4&3,xe=be[xe+0]>>6&3,0>ye.$a||1<ye.$a||4<=ye.Z||1<ye.Lc||xe)Q=0;else if(Be.put=dt,Be.ac=Cr,Be.bc=wr,Be.ma=ye,Be.width=Q.width,Be.height=Q.height,Be.Da=Q.Da,Be.v=Q.v,Be.va=Q.va,Be.j=Q.j,Be.o=Q.o,ye.$a)e:{t(ye.$a==1),Q=ar();t:for(;;){if(Q==null){Q=0;break e}if(t(ye!=null),ye.mc=Q,Q.c=ye.c,Q.i=ye.i,Q.l=ye.l,Q.l.ma=ye,Q.l.width=ye.c,Q.l.height=ye.i,Q.a=0,C(Q.m,be,Se,Oe),!Gr(ye.c,ye.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&Ft(Q.s)?(ye.ic=1,be=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=s(be),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(ye.ic=0,Q=zr(Q,ye.c)),!Q))break t;Q=1;break e}ye.mc=null,Q=0}else Q=Oe>=ye.c*ye.i;ye=!Q}if(ye)return null;X.ga.Lc!=1?X.Ga=0:ue=ve-oe}t(X.ga!=null),t(oe+ue<=ve);e:{if(Q=(be=X.ga).c,ve=be.l.o,be.$a==0){if(Se=X.rc,Oe=X.Vc,Be=X.Fa,xe=X.P+1+oe*Q,_e=X.mb,Te=X.nb+oe*Q,t(xe<=X.P+X.qc),be.Z!=0)for(t(Rc[be.Z]!=null),ye=0;ye<ue;++ye)Rc[be.Z](Se,Oe,Be,xe,_e,Te,Q),Se=_e,Oe=Te,Te+=Q,xe+=Q;else for(ye=0;ye<ue;++ye)n(_e,Te,Be,xe,Q),Se=_e,Oe=Te,Te+=Q,xe+=Q;X.rc=Se,X.Vc=Oe}else{if(t(be.mc!=null),Q=oe+ue,t((ye=be.mc)!=null),t(Q<=ye.i),ye.C>=Q)Q=1;else if(be.ic||Ta(),be.ic){be=ye.V,Se=ye.Ba,Oe=ye.c;var Ge=ye.i,Fe=(Be=1,xe=ye.$/Oe,_e=ye.$%Oe,Te=ye.m,ze=ye.s,ye.$),Xe=Oe*Ge,Qe=Oe*Q,ft=ze.wc,nt=Fe<Qe?ct(ze,_e,xe):null;t(Fe<=Xe),t(Q<=Ge),t(Ft(ze));t:for(;;){for(;!Te.h&&Fe<Qe;){if(_e&ft||(nt=ct(ze,_e,xe)),t(nt!=null),$(Te),256>(Ge=Pe(nt.G[0],nt.H[0],Te)))be[Se+Fe]=Ge,++Fe,++_e>=Oe&&(_e=0,++xe<=Q&&!(xe%16)&&Tt(ye,xe));else{if(!(280>Ge)){Be=0;break t}Ge=Gt(Ge-256,Te);var Zt,Pt=Pe(nt.G[4],nt.H[4],Te);if($(Te),!(Fe>=(Pt=Ne(Oe,Pt=Gt(Pt,Te)))&&Xe-Fe>=Ge)){Be=0;break t}for(Zt=0;Zt<Ge;++Zt)be[Se+Fe+Zt]=be[Se+Fe+Zt-Pt];for(Fe+=Ge,_e+=Ge;_e>=Oe;)_e-=Oe,++xe<=Q&&!(xe%16)&&Tt(ye,xe);Fe<Qe&&_e&ft&&(nt=ct(ze,_e,xe))}t(Te.h==te(Te))}Tt(ye,xe>Q?Q:xe);break t}!Be||Te.h&&Fe<Xe?(Be=0,ye.a=Te.h?5:3):ye.$=Fe,Q=Be}else Q=Kt(ye,ye.V,ye.Ba,ye.c,ye.i,Q,mn);if(!Q){ue=0;break e}}oe+ue>=ve&&(X.Cc=1),ue=1}if(!ue)return null;if(X.Cc&&((ue=X.ga)!=null&&(ue.mc=null),X.ga=null,0<X.Ga))return alert("todo:WebPDequantizeLevels"),null}return X.nb+oe*pe}function vn(X,Q,oe,ue,pe,ve){for(;0<pe--;){var ye,be=X,xe=Q+(oe?1:0),_e=X,Te=Q+(oe?0:3);for(ye=0;ye<ue;++ye){var ze=_e[Te+4*ye];ze!=255&&(ze*=32897,be[xe+4*ye+0]=be[xe+4*ye+0]*ze>>23,be[xe+4*ye+1]=be[xe+4*ye+1]*ze>>23,be[xe+4*ye+2]=be[xe+4*ye+2]*ze>>23)}Q+=ve}}function _i(X,Q,oe,ue,pe){for(;0<ue--;){var ve;for(ve=0;ve<oe;++ve){var ye=X[Q+2*ve+0],be=15&(_e=X[Q+2*ve+1]),xe=4369*be,_e=(240&_e|_e>>4)*xe>>16;X[Q+2*ve+0]=(240&ye|ye>>4)*xe>>16&240|(15&ye|ye<<4)*xe>>16>>4&15,X[Q+2*ve+1]=240&_e|be}Q+=pe}}function gi(X,Q,oe,ue,pe,ve,ye,be){var xe,_e,Te=255;for(_e=0;_e<pe;++_e){for(xe=0;xe<ue;++xe){var ze=X[Q+xe];ve[ye+4*xe]=ze,Te&=ze}Q+=oe,ye+=be}return Te!=255}function qi(X,Q,oe,ue,pe){var ve;for(ve=0;ve<pe;++ve)oe[ue+ve]=X[Q+ve]>>8}function Ta(){Kp=vn,$E=_i,HE=gi,WE=qi}function Fs(X,Q,oe){O[X]=function(ue,pe,ve,ye,be,xe,_e,Te,ze,Se,Oe,Be,Ge,Fe,Xe,Qe,ft){var nt,Zt=ft-1>>1,Pt=be[xe+0]|_e[Te+0]<<16,Nr=ze[Se+0]|Oe[Be+0]<<16;t(ue!=null);var Ut=3*Pt+Nr+131074>>2;for(Q(ue[pe+0],255&Ut,Ut>>16,Ge,Fe),ve!=null&&(Ut=3*Nr+Pt+131074>>2,Q(ve[ye+0],255&Ut,Ut>>16,Xe,Qe)),nt=1;nt<=Zt;++nt){var Ur=be[xe+nt]|_e[Te+nt]<<16,Ei=ze[Se+nt]|Oe[Be+nt]<<16,Ar=Pt+Ur+Nr+Ei+524296,$t=Ar+2*(Ur+Nr)>>3;Ut=$t+Pt>>1,Pt=(Ar=Ar+2*(Pt+Ei)>>3)+Ur>>1,Q(ue[pe+2*nt-1],255&Ut,Ut>>16,Ge,Fe+(2*nt-1)*oe),Q(ue[pe+2*nt-0],255&Pt,Pt>>16,Ge,Fe+(2*nt-0)*oe),ve!=null&&(Ut=Ar+Nr>>1,Pt=$t+Ei>>1,Q(ve[ye+2*nt-1],255&Ut,Ut>>16,Xe,Qe+(2*nt-1)*oe),Q(ve[ye+2*nt+0],255&Pt,Pt>>16,Xe,Qe+(2*nt+0)*oe)),Pt=Ur,Nr=Ei}1&ft||(Ut=3*Pt+Nr+131074>>2,Q(ue[pe+ft-1],255&Ut,Ut>>16,Ge,Fe+(ft-1)*oe),ve!=null&&(Ut=3*Nr+Pt+131074>>2,Q(ve[ye+ft-1],255&Ut,Ut>>16,Xe,Qe+(ft-1)*oe)))}}function e1(){Ia[s1]=AU,Ia[a1]=tk,Ia[ZE]=CU,Ia[o1]=rk,Ia[l1]=nk,Ia[lx]=ik,Ia[YE]=jU,Ia[cx]=tk,Ia[ux]=rk,Ia[c1]=nk,Ia[dx]=ik}function Rh(X){return X&~TU?0>X?0:255:X>>sk}function id(X,Q){return Rh((19077*X>>8)+(26149*Q>>8)-14234)}function _c(X,Q,oe){return Rh((19077*X>>8)-(6419*Q>>8)-(13320*oe>>8)+8708)}function sd(X,Q){return Rh((19077*X>>8)+(33050*Q>>8)-17685)}function ad(X,Q,oe,ue,pe){ue[pe+0]=id(X,oe),ue[pe+1]=_c(X,Q,oe),ue[pe+2]=sd(X,Q)}function od(X,Q,oe,ue,pe){ue[pe+0]=sd(X,Q),ue[pe+1]=_c(X,Q,oe),ue[pe+2]=id(X,oe)}function cs(X,Q,oe,ue,pe){var ve=_c(X,Q,oe);Q=ve<<3&224|sd(X,Q)>>3,ue[pe+0]=248&id(X,oe)|ve>>5,ue[pe+1]=Q}function ld(X,Q,oe,ue,pe){var ve=240&sd(X,Q)|15;ue[pe+0]=240&id(X,oe)|_c(X,Q,oe)>>4,ue[pe+1]=ve}function cd(X,Q,oe,ue,pe){ue[pe+0]=255,ad(X,Q,oe,ue,pe+1)}function Bp(X,Q,oe,ue,pe){od(X,Q,oe,ue,pe),ue[pe+3]=255}function Fp(X,Q,oe,ue,pe){ad(X,Q,oe,ue,pe),ue[pe+3]=255}function zn(X,Q){return 0>X?0:X>Q?Q:X}function Nl(X,Q,oe){O[X]=function(ue,pe,ve,ye,be,xe,_e,Te,ze){for(var Se=Te+(-2&ze)*oe;Te!=Se;)Q(ue[pe+0],ve[ye+0],be[xe+0],_e,Te),Q(ue[pe+1],ve[ye+0],be[xe+0],_e,Te+oe),pe+=2,++ye,++xe,Te+=2*oe;1&ze&&Q(ue[pe+0],ve[ye+0],be[xe+0],_e,Te)}}function Ph(X,Q,oe){return oe==0?X==0?Q==0?6:5:Q==0?4:0:oe}function t1(X,Q,oe,ue,pe){switch(X>>>30){case 3:fd(Q,oe,ue,pe,0);break;case 2:Pa(Q,oe,ue,pe);break;case 1:tn(Q,oe,ue,pe)}}function Ra(X,Q){var oe,ue,pe=Q.M,ve=Q.Nb,ye=X.oc,be=X.pc+40,xe=X.oc,_e=X.pc+584,Te=X.oc,ze=X.pc+600;for(oe=0;16>oe;++oe)ye[be+32*oe-1]=129;for(oe=0;8>oe;++oe)xe[_e+32*oe-1]=129,Te[ze+32*oe-1]=129;for(0<pe?ye[be-1-32]=xe[_e-1-32]=Te[ze-1-32]=129:(i(ye,be-32-1,127,21),i(xe,_e-32-1,127,9),i(Te,ze-32-1,127,9)),ue=0;ue<X.za;++ue){var Se=Q.ya[Q.aa+ue];if(0<ue){for(oe=-1;16>oe;++oe)n(ye,be+32*oe-4,ye,be+32*oe+12,4);for(oe=-1;8>oe;++oe)n(xe,_e+32*oe-4,xe,_e+32*oe+4,4),n(Te,ze+32*oe-4,Te,ze+32*oe+4,4)}var Oe=X.Gd,Be=X.Hd+ue,Ge=Se.ad,Fe=Se.Hc;if(0<pe&&(n(ye,be-32,Oe[Be].y,0,16),n(xe,_e-32,Oe[Be].f,0,8),n(Te,ze-32,Oe[Be].ea,0,8)),Se.Za){var Xe=ye,Qe=be-32+16;for(0<pe&&(ue>=X.za-1?i(Xe,Qe,Oe[Be].y[15],4):n(Xe,Qe,Oe[Be+1].y,0,4)),oe=0;4>oe;oe++)Xe[Qe+128+oe]=Xe[Qe+256+oe]=Xe[Qe+384+oe]=Xe[Qe+0+oe];for(oe=0;16>oe;++oe,Fe<<=2)Xe=ye,Qe=be+ok[oe],no[Se.Ob[oe]](Xe,Qe),t1(Fe,Ge,16*+oe,Xe,Qe)}else if(Xe=Ph(ue,pe,Se.Ob[0]),Tc[Xe](ye,be),Fe!=0)for(oe=0;16>oe;++oe,Fe<<=2)t1(Fe,Ge,16*+oe,ye,be+ok[oe]);for(oe=Se.Gc,Xe=Ph(ue,pe,Se.Dd),jl[Xe](xe,_e),jl[Xe](Te,ze),Fe=Ge,Xe=xe,Qe=_e,255&(Se=0|oe)&&(170&Se?Bo(Fe,256,Xe,Qe):hn(Fe,256,Xe,Qe)),Se=Te,Fe=ze,255&(oe>>=8)&&(170&oe?Bo(Ge,320,Se,Fe):hn(Ge,320,Se,Fe)),pe<X.Ub-1&&(n(Oe[Be].y,0,ye,be+480,16),n(Oe[Be].f,0,xe,_e+224,8),n(Oe[Be].ea,0,Te,ze+224,8)),oe=8*ve*X.B,Oe=X.sa,Be=X.ta+16*ue+16*ve*X.R,Ge=X.qa,Se=X.ra+8*ue+oe,Fe=X.Ha,Xe=X.Ia+8*ue+oe,oe=0;16>oe;++oe)n(Oe,Be+oe*X.R,ye,be+32*oe,16);for(oe=0;8>oe;++oe)n(Ge,Se+oe*X.B,xe,_e+32*oe,8),n(Fe,Xe+oe*X.B,Te,ze+32*oe,8)}}function ud(X,Q,oe,ue,pe,ve,ye,be,xe){var _e=[0],Te=[0],ze=0,Se=xe!=null?xe.kd:0,Oe=xe??new Ye;if(X==null||12>oe)return 7;Oe.data=X,Oe.w=Q,Oe.ha=oe,Q=[Q],oe=[oe],Oe.gb=[Oe.gb];e:{var Be=Q,Ge=oe,Fe=Oe.gb;if(t(X!=null),t(Ge!=null),t(Fe!=null),Fe[0]=0,12<=Ge[0]&&!r(X,Be[0],"RIFF")){if(r(X,Be[0]+8,"WEBP")){Fe=3;break e}var Xe=B(X,Be[0]+4);if(12>Xe||4294967286<Xe){Fe=3;break e}if(Se&&Xe>Ge[0]-8){Fe=7;break e}Fe[0]=Xe,Be[0]+=12,Ge[0]-=12}Fe=0}if(Fe!=0)return Fe;for(Xe=0<Oe.gb[0],oe=oe[0];;){e:{var Qe=X;Ge=Q,Fe=oe;var ft=_e,nt=Te,Zt=Be=[0];if((Ut=ze=[ze])[0]=0,8>Fe[0])Fe=7;else{if(!r(Qe,Ge[0],"VP8X")){if(B(Qe,Ge[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var Pt=B(Qe,Ge[0]+8),Nr=1+se(Qe,Ge[0]+12);if(2147483648<=Nr*(Qe=1+se(Qe,Ge[0]+15))){Fe=3;break e}Zt!=null&&(Zt[0]=Pt),ft!=null&&(ft[0]=Nr),nt!=null&&(nt[0]=Qe),Ge[0]+=18,Fe[0]-=18,Ut[0]=1}Fe=0}}if(ze=ze[0],Be=Be[0],Fe!=0)return Fe;if(Ge=!!(2&Be),!Xe&&ze)return 3;if(ve!=null&&(ve[0]=!!(16&Be)),ye!=null&&(ye[0]=Ge),be!=null&&(be[0]=0),ye=_e[0],Be=Te[0],ze&&Ge&&xe==null){Fe=0;break}if(4>oe){Fe=7;break}if(Xe&&ze||!Xe&&!ze&&!r(X,Q[0],"ALPH")){oe=[oe],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Pt=X,Fe=Q,Xe=oe;var Ut=Oe.gb;ft=Oe.na,nt=Oe.P,Zt=Oe.Sa,Nr=22,t(Pt!=null),t(Xe!=null),Qe=Fe[0];var Ur=Xe[0];for(t(ft!=null),t(Zt!=null),ft[0]=null,nt[0]=null,Zt[0]=0;;){if(Fe[0]=Qe,Xe[0]=Ur,8>Ur){Fe=7;break e}var Ei=B(Pt,Qe+4);if(4294967286<Ei){Fe=3;break e}var Ar=8+Ei+1&-2;if(Nr+=Ar,0<Ut&&Nr>Ut){Fe=3;break e}if(!r(Pt,Qe,"VP8 ")||!r(Pt,Qe,"VP8L")){Fe=0;break e}if(Ur[0]<Ar){Fe=7;break e}r(Pt,Qe,"ALPH")||(ft[0]=Pt,nt[0]=Qe+8,Zt[0]=Ei),Qe+=Ar,Ur-=Ar}}if(oe=oe[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Fe!=0)break}oe=[oe],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Ut=X,Fe=Q,Xe=oe,ft=Oe.gb[0],nt=Oe.Ja,Zt=Oe.xa,Pt=Fe[0],Qe=!r(Ut,Pt,"VP8 "),Nr=!r(Ut,Pt,"VP8L"),t(Ut!=null),t(Xe!=null),t(nt!=null),t(Zt!=null),8>Xe[0])Fe=7;else{if(Qe||Nr){if(Ut=B(Ut,Pt+4),12<=ft&&Ut>ft-12){Fe=3;break e}if(Se&&Ut>Xe[0]-8){Fe=7;break e}nt[0]=Ut,Fe[0]+=8,Xe[0]-=8,Zt[0]=Nr}else Zt[0]=5<=Xe[0]&&Ut[Pt+0]==47&&!(Ut[Pt+4]>>5),nt[0]=Xe[0];Fe=0}if(oe=oe[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],Q=Q[0],Fe!=0)break;if(4294967286<Oe.Ja)return 3;if(be==null||Ge||(be[0]=Oe.xa?2:1),ye=[ye],Be=[Be],Oe.xa){if(5>oe){Fe=7;break}be=ye,Se=Be,Ge=ve,X==null||5>oe?X=0:5<=oe&&X[Q+0]==47&&!(X[Q+4]>>5)?(Xe=[0],Ut=[0],ft=[0],C(nt=new K,X,Q,oe),jr(nt,Xe,Ut,ft)?(be!=null&&(be[0]=Xe[0]),Se!=null&&(Se[0]=Ut[0]),Ge!=null&&(Ge[0]=ft[0]),X=1):X=0):X=0}else{if(10>oe){Fe=7;break}be=Be,X==null||10>oe||!ln(X,Q+3,oe-3)?X=0:(Se=X[Q+0]|X[Q+1]<<8|X[Q+2]<<16,Ge=16383&(X[Q+7]<<8|X[Q+6]),X=16383&(X[Q+9]<<8|X[Q+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Oe.Ja||!Ge||!X?X=0:(ye&&(ye[0]=Ge),be&&(be[0]=X),X=1))}if(!X||(ye=ye[0],Be=Be[0],ze&&(_e[0]!=ye||Te[0]!=Be)))return 3;xe!=null&&(xe[0]=Oe,xe.offset=Q-xe.w,t(4294967286>Q-xe.w),t(xe.offset==xe.ha-oe));break}return Fe==0||Fe==7&&ze&&xe==null?(ve!=null&&(ve[0]|=Oe.na!=null&&0<Oe.na.length),ue!=null&&(ue[0]=ye),pe!=null&&(pe[0]=Be),0):Fe}function zp(X,Q,oe){var ue=Q.width,pe=Q.height,ve=0,ye=0,be=ue,xe=pe;if(Q.Da=X!=null&&0<X.Da,Q.Da&&(be=X.cd,xe=X.bd,ve=X.v,ye=X.j,11>oe||(ve&=-2,ye&=-2),0>ve||0>ye||0>=be||0>=xe||ve+be>ue||ye+xe>pe))return 0;if(Q.v=ve,Q.j=ye,Q.va=ve+be,Q.o=ye+xe,Q.U=be,Q.T=xe,Q.da=X!=null&&0<X.da,Q.da){if(!W(be,xe,oe=[X.ib],ve=[X.hb]))return 0;Q.ib=oe[0],Q.hb=ve[0]}return Q.ob=X!=null&&X.ob,Q.Kb=X==null||!X.Sd,Q.da&&(Q.ob=Q.ib<3*ue/4&&Q.hb<3*pe/4,Q.Kb=0),1}function Up(X){if(X==null)return 2;if(11>X.S){var Q=X.f.RGBA;Q.fb+=(X.height-1)*Q.A,Q.A=-Q.A}else Q=X.f.kb,X=X.height,Q.O+=(X-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(X-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(X-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(X-1)*Q.lb,Q.lb=-Q.lb);return 0}function Sc(X,Q,oe,ue){if(ue==null||0>=X||0>=Q)return 2;if(oe!=null){if(oe.Da){var pe=oe.cd,ve=oe.bd,ye=-2&oe.v,be=-2&oe.j;if(0>ye||0>be||0>=pe||0>=ve||ye+pe>X||be+ve>Q)return 2;X=pe,Q=ve}if(oe.da){if(!W(X,Q,pe=[oe.ib],ve=[oe.hb]))return 2;X=pe[0],Q=ve[0]}}ue.width=X,ue.height=Q;e:{var xe=ue.width,_e=ue.height;if(X=ue.S,0>=xe||0>=_e||!(X>=s1&&13>X))X=2;else{if(0>=ue.Rd&&ue.sd==null){ye=ve=pe=Q=0;var Te=(be=xe*lk[X])*_e;if(11>X||(ve=(_e+1)/2*(Q=(xe+1)/2),X==12&&(ye=(pe=xe)*_e)),(_e=s(Te+2*ve+ye))==null){X=1;break e}ue.sd=_e,11>X?((xe=ue.f.RGBA).eb=_e,xe.fb=0,xe.A=be,xe.size=Te):((xe=ue.f.kb).y=_e,xe.O=0,xe.fa=be,xe.Fd=Te,xe.f=_e,xe.N=0+Te,xe.Ab=Q,xe.Cd=ve,xe.ea=_e,xe.W=0+Te+ve,xe.Db=Q,xe.Ed=ve,X==12&&(xe.F=_e,xe.J=0+Te+2*ve),xe.Tc=ye,xe.lb=pe)}if(Q=1,pe=ue.S,ve=ue.width,ye=ue.height,pe>=s1&&13>pe)if(11>pe)X=ue.f.RGBA,Q&=(be=Math.abs(X.A))*(ye-1)+ve<=X.size,Q&=be>=ve*lk[pe],Q&=X.eb!=null;else{X=ue.f.kb,be=(ve+1)/2,Te=(ye+1)/2,xe=Math.abs(X.fa),_e=Math.abs(X.Ab);var ze=Math.abs(X.Db),Se=Math.abs(X.lb),Oe=Se*(ye-1)+ve;Q&=xe*(ye-1)+ve<=X.Fd,Q&=_e*(Te-1)+be<=X.Cd,Q=(Q&=ze*(Te-1)+be<=X.Ed)&xe>=ve&_e>=be&ze>=be,Q&=X.y!=null,Q&=X.f!=null,Q&=X.ea!=null,pe==12&&(Q&=Se>=ve,Q&=Oe<=X.Tc,Q&=X.F!=null)}else Q=0;X=Q?0:2}}return X!=0||oe!=null&&oe.fd&&(X=Up(ue)),X}var dd=64,sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],aa=24,Ec=32,Al=8,kc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(X){return X},O.Predictor2=function(X,Q,oe){return Q[oe+0]},O.Predictor3=function(X,Q,oe){return Q[oe+1]},O.Predictor4=function(X,Q,oe){return Q[oe-1]},O.Predictor5=function(X,Q,oe){return de(de(X,Q[oe+1]),Q[oe+0])},O.Predictor6=function(X,Q,oe){return de(X,Q[oe-1])},O.Predictor7=function(X,Q,oe){return de(X,Q[oe+0])},O.Predictor8=function(X,Q,oe){return de(Q[oe-1],Q[oe+0])},O.Predictor9=function(X,Q,oe){return de(Q[oe+0],Q[oe+1])},O.Predictor10=function(X,Q,oe){return de(de(X,Q[oe-1]),de(Q[oe+0],Q[oe+1]))},O.Predictor11=function(X,Q,oe){var ue=Q[oe+0];return 0>=ke(ue>>24&255,X>>24&255,(Q=Q[oe-1])>>24&255)+ke(ue>>16&255,X>>16&255,Q>>16&255)+ke(ue>>8&255,X>>8&255,Q>>8&255)+ke(255&ue,255&X,255&Q)?ue:X},O.Predictor12=function(X,Q,oe){var ue=Q[oe+0];return(me((X>>24&255)+(ue>>24&255)-((Q=Q[oe-1])>>24&255))<<24|me((X>>16&255)+(ue>>16&255)-(Q>>16&255))<<16|me((X>>8&255)+(ue>>8&255)-(Q>>8&255))<<8|me((255&X)+(255&ue)-(255&Q)))>>>0},O.Predictor13=function(X,Q,oe){var ue=Q[oe-1];return(ge((X=de(X,Q[oe+0]))>>24&255,ue>>24&255)<<24|ge(X>>16&255,ue>>16&255)<<16|ge(X>>8&255,ue>>8&255)<<8|ge(255&X,255&ue))>>>0};var $p=O.PredictorAdd0;O.PredictorAdd1=Re,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Oh=O.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(X){return X>>8&255},function(X){return X}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(X){return X},function(X){return X>>8&255});var ei,r1=O.ColorIndexInverseTransform,Lo=O.MapARGB,Do=O.VP8LColorIndexInverseTransformAlpha,Hp=O.MapAlpha,Wp=O.VP8LPredictorsAdd=[];Wp.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var qp,Vp,Nc,Ac,Cc,hd,jc,fd,Pa,Bo,tn,hn,ti,Si,Cl,Gp,Ih,n1,LE,DE,BE,FE,zE,UE,Kp,$E,HE,WE,qE=s(511),VE=s(2041),GE=s(225),KE=s(767),XE=0,ox=VE,i1=GE,oa=KE,Oa=qE,s1=0,a1=1,ZE=2,o1=3,l1=4,lx=5,YE=6,cx=7,ux=8,c1=9,dx=10,fU=[2,3,7],pU=[3,3,11],JE=[280,256,256,256,40],mU=[0,1,1,1,0],gU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vU=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yU=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bU=8,hx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xp=null,xU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wU=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],QE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_U=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],SU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Tc=[],no=[],jl=[],NU=1,ek=2,Rc=[],Ia=[];Fs("UpsampleRgbLinePair",ad,3),Fs("UpsampleBgrLinePair",od,3),Fs("UpsampleRgbaLinePair",Fp,4),Fs("UpsampleBgraLinePair",Bp,4),Fs("UpsampleArgbLinePair",cd,4),Fs("UpsampleRgba4444LinePair",ld,2),Fs("UpsampleRgb565LinePair",cs,2);var AU=O.UpsampleRgbLinePair,CU=O.UpsampleBgrLinePair,tk=O.UpsampleRgbaLinePair,rk=O.UpsampleBgraLinePair,nk=O.UpsampleArgbLinePair,ik=O.UpsampleRgba4444LinePair,jU=O.UpsampleRgb565LinePair,u1=16,d1=1<<u1-1,Zp=-227,px=482,sk=6,TU=(256<<sk)-1,ak=0,RU=s(256),PU=s(256),OU=s(256),IU=s(256),MU=s(px-Zp),LU=s(px-Zp);Nl("YuvToRgbRow",ad,3),Nl("YuvToBgrRow",od,3),Nl("YuvToRgbaRow",Fp,4),Nl("YuvToBgraRow",Bp,4),Nl("YuvToArgbRow",cd,4),Nl("YuvToRgba4444Row",ld,2),Nl("YuvToRgb565Row",cs,2);var ok=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],h1=[0,2,8],DU=[8,7,6,4,4,2,2,2,1,1,1,1],BU=1;this.WebPDecodeRGBA=function(X,Q,oe,ue,pe){var ve=a1,ye=new Le,be=new St;ye.ba=be,be.S=ve,be.width=[be.width],be.height=[be.height];var xe=be.width,_e=be.height,Te=new ot;if(Te==null||X==null)var ze=2;else t(Te!=null),ze=ud(X,Q,oe,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(ze!=0?xe=0:(xe!=null&&(xe[0]=Te.width[0]),_e!=null&&(_e[0]=Te.height[0]),xe=1),xe){be.width=be.width[0],be.height=be.height[0],ue!=null&&(ue[0]=be.width),pe!=null&&(pe[0]=be.height);e:{if(ue=new Dr,(pe=new Ye).data=X,pe.w=Q,pe.ha=oe,pe.kd=1,Q=[0],t(pe!=null),((X=ud(pe.data,pe.w,pe.ha,null,null,null,Q,null,pe))==0||X==7)&&Q[0]&&(X=4),(Q=X)==0){if(t(ye!=null),ue.data=pe.data,ue.w=pe.w+pe.offset,ue.ha=pe.ha-pe.offset,ue.put=dt,ue.ac=Cr,ue.bc=wr,ue.ma=ye,pe.xa){if((X=ar())==null){ye=1;break e}if(function(Se,Oe){var Be=[0],Ge=[0],Fe=[0];t:for(;;){if(Se==null)return 0;if(Oe==null)return Se.a=2,0;if(Se.l=Oe,Se.a=0,C(Se.m,Oe.data,Oe.w,Oe.ha),!jr(Se.m,Be,Ge,Fe)){Se.a=3;break t}if(Se.xb=ek,Oe.width=Be[0],Oe.height=Ge[0],!Gr(Be[0],Ge[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(X,ue)){if(ue=(Q=Sc(ue.width,ue.height,ye.Oa,ye.ba))==0){t:{ue=X;r:for(;;){if(ue==null){ue=0;break t}if(t(ue.s.yc!=null),t(ue.s.Ya!=null),t(0<ue.s.Wb),t((oe=ue.l)!=null),t((pe=oe.ma)!=null),ue.xb!=0){if(ue.ca=pe.ba,ue.tb=pe.tb,t(ue.ca!=null),!zp(pe.Oa,oe,o1)){ue.a=2;break r}if(!zr(ue,oe.width)||oe.da)break r;if((oe.da||wt(ue.ca.S))&&Ta(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&Ta()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!ne(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!Kt(ue,ue.V,ue.Ba,ue.c,ue.i,oe.o,vt))break r;pe.Dc=ue.Ma,ue=1;break t}t(ue.a!=0),ue=0}ue=!ue}ue&&(Q=X.a)}else Q=X.a}else{if((X=new Hr)==null){ye=1;break e}if(X.Fa=pe.na,X.P=pe.P,X.qc=pe.Sa,In(X,ue)){if((Q=Sc(ue.width,ue.height,ye.Oa,ye.ba))==0){if(X.Aa=0,oe=ye.Oa,t((pe=X)!=null),oe!=null){if(0<(xe=0>(xe=oe.Md)?0:100<xe?255:255*xe/100)){for(_e=Te=0;4>_e;++_e)12>(ze=pe.pb[_e]).lc&&(ze.ia=xe*DU[0>ze.lc?0:ze.lc]>>3),Te|=ze.ia;Te&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=oe.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}(function(Se,Oe){if(Se==null)return 0;if(Oe==null)return ir(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!In(Se,Oe))return 0;if(t(Se.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(Se.L=0);var Be=h1[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Oe.v-Be>>4,Se.zb=Oe.j-Be>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Oe.o+15+Be>>4,Se.Hb=Oe.va+15+Be>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var Ge=Se.ed;for(Be=0;4>Be;++Be){var Fe;if(Se.Qa.Cb){var Xe=Se.Qa.Lb[Be];Se.Qa.Fb||(Xe+=Ge.Tb)}else Xe=Ge.Tb;for(Fe=0;1>=Fe;++Fe){var Qe=Se.gd[Be][Fe],ft=Xe;if(Ge.Pc&&(ft+=Ge.vd[0],Fe&&(ft+=Ge.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var nt=ft;0<Ge.wb&&(nt=4<Ge.wb?nt>>2:nt>>1)>9-Ge.wb&&(nt=9-Ge.wb),1>nt&&(nt=1),Qe.dd=nt,Qe.tc=2*ft+nt,Qe.ld=40<=ft?2:15<=ft?1:0}else Qe.tc=0;Qe.La=Fe}}}Be=0}else ir(Se,6,"Frame setup failed"),Be=Se.a;if(Be=Be==0){if(Be){Se.$c=0,0<Se.Aa||(Se.Ic=BU);t:{Be=Se.Ic,Ge=4*(nt=Se.za);var Zt=32*nt,Pt=nt+1,Nr=0<Se.L?nt*(0<Se.Aa?2:1):0,Ut=(Se.Aa==2?2:1)*nt;if((Qe=Ge+832+(Fe=3*(16*Be+h1[Se.L])/2*Zt)+(Xe=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=Qe)Be=0;else{if(Qe>Se.Vb){if(Se.Vb=0,Se.Ec=s(Qe),Se.Fc=0,Se.Ec==null){Be=ir(Se,1,"no memory during frame initialization.");break t}Se.Vb=Qe}Qe=Se.Ec,ft=Se.Fc,Se.Ac=Qe,Se.Bc=ft,ft+=Ge,Se.Gd=o(Zt,fr),Se.Hd=0,Se.rb=o(Pt+1,mt),Se.sb=1,Se.wa=Nr?o(Nr,At):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=nt),t(!0),Se.oc=Qe,Se.pc=ft,ft+=832,Se.ya=o(Ut,_r),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=nt),Se.R=16*nt,Se.B=8*nt,nt=(Zt=h1[Se.L])*Se.R,Zt=Zt/2*Se.B,Se.sa=Qe,Se.ta=ft+nt,Se.qa=Se.sa,Se.ra=Se.ta+16*Be*Se.R+Zt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Be*Se.B+Zt,Se.$c=0,ft+=Fe,Se.mb=Xe?Qe:null,Se.nb=Xe?ft:null,t(ft+Xe<=Se.Fc+Se.Vb),xi(Se),i(Se.Ac,Se.Bc,0,Ge),Be=1}}if(Be){if(Oe.ka=0,Oe.y=Se.sa,Oe.O=Se.ta,Oe.f=Se.qa,Oe.N=Se.ra,Oe.ea=Se.Ha,Oe.Vd=Se.Ia,Oe.fa=Se.R,Oe.Rc=Se.B,Oe.F=null,Oe.J=0,!XE){for(Be=-255;255>=Be;++Be)qE[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)VE[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)GE[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)KE[255+Be]=0>Be?0:255<Be?255:Be;XE=1}jc=Bi,fd=Mr,Bo=Ca,tn=Di,hn=xl,Pa=Wr,ti=Yg,Si=Jg,Cl=ie,Gp=fe,Ih=nd,n1=Qg,LE=Ee,DE=Ae,BE=Dp,FE=rd,zE=Xg,UE=Zg,no[0]=rx,no[1]=Ds,no[2]=xc,no[3]=wc,no[4]=nx,no[5]=Sl,no[6]=_l,no[7]=ix,no[8]=Ah,no[9]=sx,Tc[0]=ia,Tc[1]=bc,Tc[2]=Oo,Tc[3]=Bs,Tc[4]=Ju,Tc[5]=ja,Tc[6]=Mo,jl[0]=jh,jl[1]=wl,jl[2]=Op,jl[3]=Qu,jl[4]=Ip,jl[5]=ax,jl[6]=Mp,Be=1}else Be=0}Be&&(Be=function(Ur,Ei){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var Ar,$t=Ur.Jc[Ur.M&Ur.Xb],_t=Ur.m,ri=Ur;for(Ar=0;Ar<ri.za;++Ar){var xr=_t,qr=ri,Sn=qr.Ac,Vi=qr.Bc+4*Ar,ws=qr.zc,Un=qr.ya[qr.aa+Ar];if(qr.Qa.Bb?Un.$b=V(xr,qr.Pa.jb[0])?2+V(xr,qr.Pa.jb[2]):V(xr,qr.Pa.jb[1]):Un.$b=0,qr.kc&&(Un.Ad=V(xr,qr.Bd)),Un.Za=!V(xr,145)+0,Un.Za){var us=Un.Ob,_s=0;for(qr=0;4>qr;++qr){var ki,Kr=ws[0+qr];for(ki=0;4>ki;++ki){Kr=SU[Sn[Vi+ki]][Kr];for(var rn=QE[V(xr,Kr[0])];0<rn;)rn=QE[2*rn+V(xr,Kr[rn])];Kr=-rn,Sn[Vi+ki]=Kr}n(us,_s,Sn,Vi,4),_s+=4,ws[0+qr]=Kr}}else Kr=V(xr,156)?V(xr,128)?1:3:V(xr,163)?2:0,Un.Ob[0]=Kr,i(Sn,Vi,Kr,4),i(ws,0,Kr,4);Un.Dd=V(xr,142)?V(xr,114)?V(xr,183)?1:3:2:0}if(ri.m.Ka)return ir(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(ri=$t,xr=(_t=Ur).rb[_t.sb-1],Sn=_t.rb[_t.sb+_t.ja],Ar=_t.ya[_t.aa+_t.ja],Vi=_t.kc?Ar.Ad:0)xr.la=Sn.la=0,Ar.Za||(xr.Na=Sn.Na=0),Ar.Hc=0,Ar.Gc=0,Ar.ia=0;else{var $n,nn;if(xr=Sn,Sn=ri,Vi=_t.Pa.Xc,ws=_t.ya[_t.aa+_t.ja],Un=_t.pb[ws.$b],qr=ws.ad,us=0,_s=_t.rb[_t.sb-1],Kr=ki=0,i(qr,us,0,384),ws.Za)var Gi=0,io=Vi[3];else{rn=s(16);var ni=xr.Na+_s.Na;if(ni=Xp(Sn,Vi[1],ni,Un.Eb,0,rn,0),xr.Na=_s.Na=(0<ni)+0,1<ni)jc(rn,0,qr,us);else{var zs=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)qr[us+rn]=zs}Gi=1,io=Vi[0]}var fn=15&xr.la,Ni=15&_s.la;for(rn=0;4>rn;++rn){var la=1&Ni;for(zs=nn=0;4>zs;++zs)fn=fn>>1|(la=(ni=Xp(Sn,io,ni=la+(1&fn),Un.Sc,Gi,qr,us))>Gi)<<7,nn=nn<<2|(3<ni?3:1<ni?2:qr[us+0]!=0),us+=16;fn>>=4,Ni=Ni>>1|la<<7,ki=(ki<<8|nn)>>>0}for(io=fn,Gi=Ni>>4,$n=0;4>$n;$n+=2){for(nn=0,fn=xr.la>>4+$n,Ni=_s.la>>4+$n,rn=0;2>rn;++rn){for(la=1&Ni,zs=0;2>zs;++zs)ni=la+(1&fn),fn=fn>>1|(la=0<(ni=Xp(Sn,Vi[2],ni,Un.Qc,0,qr,us)))<<3,nn=nn<<2|(3<ni?3:1<ni?2:qr[us+0]!=0),us+=16;fn>>=2,Ni=Ni>>1|la<<5}Kr|=nn<<4*$n,io|=fn<<4<<$n,Gi|=(240&Ni)<<$n}xr.la=io,_s.la=Gi,ws.Hc=ki,ws.Gc=Kr,ws.ia=43690&Kr?0:Un.ia,Vi=!(ki|Kr)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[Ar.$b][Ar.Za],_t.wa[_t.Y+_t.ja].La|=!Vi),ri.Ka)return ir(Ur,7,"Premature end-of-file encountered.")}if(xi(Ur),_t=Ei,ri=1,Ar=($t=Ur).D,xr=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(Ar.M=$t.M,Ar.uc=xr,Ra($t,Ar),ri=1,Ar=(nn=$t.D).Nb,xr=(Kr=h1[$t.L])*$t.R,Sn=Kr/2*$t.B,rn=16*Ar*$t.R,zs=8*Ar*$t.B,Vi=$t.sa,ws=$t.ta-xr+rn,Un=$t.qa,qr=$t.ra-Sn+zs,us=$t.Ha,_s=$t.Ia-Sn+zs,Ni=(fn=nn.M)==0,ki=fn>=$t.Va-1,$t.Aa==2&&Ra($t,nn),nn.uc)for(la=(ni=$t).D.M,t(ni.D.uc),nn=ni.yb;nn<ni.Hb;++nn){Gi=nn,io=la;var Ss=(ca=(Ki=ni).D).Nb;$n=Ki.R;var ca=ca.wa[ca.Y+Gi],ua=Ki.sa,Us=Ki.ta+16*Ss*$n+16*Gi,da=ca.dd,yn=ca.tc;if(yn!=0)if(t(3<=yn),Ki.L==1)0<Gi&&FE(ua,Us,$n,yn+4),ca.La&&UE(ua,Us,$n,yn),0<io&&BE(ua,Us,$n,yn+4),ca.La&&zE(ua,Us,$n,yn);else{var ha=Ki.B,so=Ki.qa,pd=Ki.ra+8*Ss*ha+8*Gi,Tl=Ki.Ha,Ki=Ki.Ia+8*Ss*ha+8*Gi;Ss=ca.ld,0<Gi&&(Si(ua,Us,$n,yn+4,da,Ss),Gp(so,pd,Tl,Ki,ha,yn+4,da,Ss)),ca.La&&(n1(ua,Us,$n,yn,da,Ss),DE(so,pd,Tl,Ki,ha,yn,da,Ss)),0<io&&(ti(ua,Us,$n,yn+4,da,Ss),Cl(so,pd,Tl,Ki,ha,yn+4,da,Ss)),ca.La&&(Ih(ua,Us,$n,yn,da,Ss),LE(so,pd,Tl,Ki,ha,yn,da,Ss))}}if($t.ia&&alert("todo:DitherRow"),_t.put!=null){if(nn=16*fn,fn=16*(fn+1),Ni?(_t.y=$t.sa,_t.O=$t.ta+rn,_t.f=$t.qa,_t.N=$t.ra+zs,_t.ea=$t.Ha,_t.W=$t.Ia+zs):(nn-=Kr,_t.y=Vi,_t.O=ws,_t.f=Un,_t.N=qr,_t.ea=us,_t.W=_s),ki||(fn-=Kr),fn>_t.o&&(fn=_t.o),_t.F=null,_t.J=null,$t.Fa!=null&&0<$t.Fa.length&&nn<fn&&(_t.J=mi($t,_t,nn,fn-nn),_t.F=$t.mb,_t.F==null&&_t.F.length==0)){ri=ir($t,3,"Could not decode alpha data.");break t}nn<_t.j&&(Kr=_t.j-nn,nn=_t.j,t(!(1&Kr)),_t.O+=$t.R*Kr,_t.N+=$t.B*(Kr>>1),_t.W+=$t.B*(Kr>>1),_t.F!=null&&(_t.J+=_t.width*Kr)),nn<fn&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=nn-_t.j,_t.U=_t.va-_t.v,_t.T=fn-nn,ri=_t.put(_t))}Ar+1!=$t.Ic||ki||(n($t.sa,$t.ta-xr,Vi,ws+16*$t.R,xr),n($t.qa,$t.ra-Sn,Un,qr+8*$t.B,Sn),n($t.Ha,$t.Ia-Sn,us,_s+8*$t.B,Sn))}if(!ri)return ir(Ur,6,"Output aborted.")}return 1}(Se,Oe)),Oe.bc!=null&&Oe.bc(Oe),Be&=1}return Be?(Se.cb=0,Be):0})(X,ue)||(Q=X.a)}}else Q=X.a}Q==0&&ye.Oa!=null&&ye.Oa.fd&&(Q=Up(ye.ba))}ye=Q}ve=ye!=0?null:11>ve?be.f.RGBA.eb:be.f.kb.y}else ve=null;return ve};var lk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,H){for(var G="",I=0;I<4;I++)G+=String.fromCharCode(O[H++]);return G}function u(O,H){return O[H+0]|O[H+1]<<8}function h(O,H){return(O[H+0]|O[H+1]<<8|O[H+2]<<16)>>>0}function f(O,H){return(O[H+0]|O[H+1]<<8|O[H+2]<<16|O[H+3]<<24)>>>0}new l;var d=[0],p=[0],g=[],m=new l,v=e,y=function(O,H){var G={},I=0,R=!1,S=0,j=0;if(G.frames=[],!function(P,K){for(var Z=0;Z<4;Z++)if(P[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(O,H)){for(f(O,H+=4),H+=8;H<O.length;){var k=c(O,H),E=f(O,H+=4);H+=4;var A=E+(1&E);switch(k){case"VP8 ":case"VP8L":G.frames[I]===void 0&&(G.frames[I]={}),(z=G.frames[I]).src_off=R?j:H-8,z.src_size=S+E+8,I++,R&&(R=!1,S=0,j=0);break;case"VP8X":(z=G.header={}).feature_flags=O[H];var C=H+4;z.canvas_width=1+h(O,C),C+=3,z.canvas_height=1+h(O,C),C+=3;break;case"ALPH":R=!0,S=A+8,j=H-8;break;case"ANIM":(z=G.header).bgcolor=f(O,H),C=H+4,z.loop_count=u(O,C),C+=2;break;case"ANMF":var D,z;(z=G.frames[I]={}).offset_x=2*h(O,H),H+=3,z.offset_y=2*h(O,H),H+=3,z.width=1+h(O,H),H+=3,z.height=1+h(O,H),H+=3,z.duration=h(O,H),H+=3,D=O[H++],z.dispose=1&D,z.blend=D>>1&1}k!="ANMF"&&(H+=A)}return G}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,w=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,d=[x.canvas_height],p=[x.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var M=w[0],U=m.WebPDecodeRGBA(v,M.src_off,M.src_size,p,d);M.rgba=U,M.imgwidth=p[0],M.imgheight=d[0];for(var L=0;L<p[0]*d[0]*4;L++)g[L]=U[L];return this.width=p,this.height=d,this.data=g,this}(function(e){var t,r,n,i,s,o,a,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=P;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(B){Z=!!B}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(B){te=!!B}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(B){isNaN(B)||(q=B)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(B){isNaN(B)||($=B)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(B){var ne;typeof B=="number"?ne=[B,B,B,B]:((ne=new Array(4))[0]=B[0],ne[1]=B.length>=2?B[1]:ne[0],ne[2]=B.length>=3?B[2]:ne[0],ne[3]=B.length>=4?B[3]:ne[1]),c.margin=ne}});var N=!1;Object.defineProperty(this,"autoPaging",{get:function(){return N},set:function(B){N=B}});var T=0;Object.defineProperty(this,"lastBreak",{get:function(){return T},set:function(B){T=B}});var V=[];Object.defineProperty(this,"pageBreaks",{get:function(){return V},set:function(B){V=B}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(B){B instanceof u&&(c=B)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(B){c.path=B}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(B){J=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var ne;ne=f(B),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var ne=f(B);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var re=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(B){re=null,se=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var ne;if(this.ctx.font=B,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(B))!==null){var ee=ne[1];ne[2];var F=ne[3],W=ne[4];ne[5];var Y=ne[6],ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(W)[2];W=Math.floor(ae==="px"?parseFloat(W)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat(W)*this.pdf.getFontSize():parseFloat(W)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(W);var ce=function(Je){var Ve,pt,$e=[],Ue=Je.trim();if(Ue==="")return Tw;if(Ue in aA)return[aA[Ue]];for(;Ue!=="";){switch(pt=null,Ve=(Ue=lA(Ue)).charAt(0)){case'"':case"'":pt=OY(Ue.substring(1),Ve);break;default:pt=IY(Ue)}if(pt===null||($e.push(pt[0]),(Ue=lA(pt[1]))!==""&&Ue.charAt(0)!==","))return Tw;Ue=Ue.replace(/^,/,"")}return $e}(Y);if(this.fontFaces){var le=function(Je,Ve){if(re===null){var pt=function($e){var Ue=[];return Object.keys($e).forEach(function(Ke){$e[Ke].forEach(function(rt){var Ze=null;switch(rt){case"bold":Ze={family:Ke,weight:"bold"};break;case"italic":Ze={family:Ke,style:"italic"};break;case"bolditalic":Ze={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Ke}}Ze!==null&&(Ze.ref={name:Ke,style:rt},Ue.push(Ze))})}),Ue}(Je.getFontList());re=function($e){for(var Ue={},Ke=0;Ke<$e.length;++Ke){var rt=jw($e[Ke]),Ze=rt.family,kt=rt.stretch,wt=rt.style,xt=rt.weight;Ue[Ze]=Ue[Ze]||{},Ue[Ze][kt]=Ue[Ze][kt]||{},Ue[Ze][kt][wt]=Ue[Ze][kt][wt]||{},Ue[Ze][kt][wt][xt]=rt}return Ue}(pt.concat(Ve))}return re}(this.pdf,this.fontFaces),de=ce.map(function(Je){return{family:Je,stretch:"normal",weight:F,style:ee}}),me=function(Je,Ve,pt){for(var $e=(pt=pt||{}).defaultFontFamily||"times",Ue=Object.assign({},PY,pt.genericFontFamilies||{}),Ke=null,rt=null,Ze=0;Ze<Ve.length;++Ze)if(Ue[(Ke=jw(Ve[Ze])).family]&&(Ke.family=Ue[Ke.family]),Je.hasOwnProperty(Ke.family)){rt=Je[Ke.family];break}if(!(rt=rt||Je[$e]))throw new Error("Could not find a font-family for the rule '"+oA(Ke)+"' and default family '"+$e+"'.");if(rt=function(kt,wt){if(wt[kt])return wt[kt];var xt=y4[kt],Wt=xt<=y4.normal?-1:1,St=sA(wt,eL,xt,Wt);if(!St)throw new Error("Could not find a matching font-stretch value for "+kt);return St}(Ke.stretch,rt),rt=function(kt,wt){if(wt[kt])return wt[kt];for(var xt=QM[kt],Wt=0;Wt<xt.length;++Wt)if(wt[xt[Wt]])return wt[xt[Wt]];throw new Error("Could not find a matching font-style for "+kt)}(Ke.style,rt),!(rt=function(kt,wt){if(wt[kt])return wt[kt];if(kt===400&&wt[500])return wt[500];if(kt===500&&wt[400])return wt[400];var xt=RY[kt],Wt=sA(wt,tL,xt,kt<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+kt);return Wt}(Ke.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+oA(Ke)+"'.");return rt}(le,de);this.pdf.setFont(me.ref.name,me.ref.style)}else{var ge="";(F==="bold"||parseInt(F,10)>=700||ee==="bold")&&(ge="bold"),ee==="italic"&&(ge+="italic"),ge.length===0&&(ge="normal");for(var ke="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},je=0;je<ce.length;je++){if(this.pdf.internal.getFont(ce[je],ge,{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[je];break}if(ge==="bolditalic"&&this.pdf.internal.getFont(ce[je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=ce[je],ge="bold";else if(this.pdf.internal.getFont(ce[je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[je],ge="normal";break}}if(ke===""){for(var qe=0;qe<ce.length;qe++)if(Re[ce[qe]]){ke=Re[ce[qe]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};h.prototype.setLineDash=function(P){this.lineDash=P},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(P,K)},h.prototype.closePath=function(){var P=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&an(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){P=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},h.prototype.lineTo=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(P,K,Z,te){if(isNaN(Z)||isNaN(te)||isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(Z,te)),$=this.ctx.transform.applyToPoint(new o(P,K));this.path.push({type:"qct",x1:$.x,y1:$.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.bezierCurveTo=function(P,K,Z,te,q,$){if(isNaN(q)||isNaN($)||isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var N=this.ctx.transform.applyToPoint(new o(q,$)),T=this.ctx.transform.applyToPoint(new o(P,K)),V=this.ctx.transform.applyToPoint(new o(Z,te));this.path.push({type:"bct",x1:T.x,y1:T.y,x2:V.x,y2:V.y,x:N.x,y:N.y}),this.ctx.lastPoint=new o(N.x,N.y)},h.prototype.arc=function(P,K,Z,te,q,$){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te)||isNaN(q))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var N=this.ctx.transform.applyToPoint(new o(P,K));P=N.x,K=N.y;var T=this.ctx.transform.applyToPoint(new o(0,Z)),V=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(T.x-V.x,2)+Math.pow(T.y-V.y,2))}Math.abs(q-te)>=2*Math.PI&&(te=0,q=2*Math.PI),this.path.push({type:"arc",x:P,y:K,radius:Z,startAngle:te,endAngle:q,counterclockwise:$})},h.prototype.arcTo=function(P,K,Z,te,q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,K),this.lineTo(P+Z,K),this.lineTo(P+Z,K+te),this.lineTo(P,K+te),this.lineTo(P,K),this.lineTo(P+Z,K),this.lineTo(P,K)},h.prototype.fillRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,K,Z,te),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},h.prototype.strokeRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(P,K,Z,te),this.stroke())},h.prototype.clearRect=function(P,K,Z,te){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,K,Z,te))},h.prototype.save=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},h.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(P){var K,Z,te,q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))K=0,Z=0,te=0,q=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if($!==null)K=parseInt($[1]),Z=parseInt($[2]),te=parseInt($[3]),q=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)K=parseInt($[1]),Z=parseInt($[2]),te=parseInt($[3]),q=parseFloat($[4]);else{if(q=1,typeof P=="string"&&P.charAt(0)!=="#"){var N=new VM(P);P=N.ok?N.toHex():"#000000"}P.length===4?(K=P.substring(1,2),K+=K,Z=P.substring(2,3),Z+=Z,te=P.substring(3,4),te+=te):(K=P.substring(1,3),Z=P.substring(3,5),te=P.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),te=parseInt(te,16)}}return{r:K,g:Z,b:te,a:q,style:P}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(P,K,Z,te){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!d.call(this)){var q=A(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;I.call(this,{text:P,x:K,y:Z,scale:$,angle:q,align:this.textAlign,maxWidth:te})}},h.prototype.strokeText=function(P,K,Z,te){if(isNaN(K)||isNaN(Z)||typeof P!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){te=isNaN(te)?void 0:te;var q=A(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;I.call(this,{text:P,x:K,y:Z,scale:$,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:te})}},h.prototype.measureText=function(P){if(typeof P!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,te=K.internal.getFontSize(),q=K.getStringUnitWidth(P)*te/K.internal.scaleFactor;return new function($){var N=($=$||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return N}}),this}({width:q*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(P,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(P){if(isNaN(P))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.translate=function(P,K){if(isNaN(P)||isNaN(K))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,P,K);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(P,K,Z,te,q,$){if(isNaN(P)||isNaN(K)||isNaN(Z)||isNaN(te)||isNaN(q)||isNaN($))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var N=new l(P,K,Z,te,q,$);this.ctx.transform=this.ctx.transform.multiply(N)},h.prototype.setTransform=function(P,K,Z,te,q,$){P=isNaN(P)?1:P,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,te=isNaN(te)?1:te,q=isNaN(q)?0:q,$=isNaN($)?0:$,this.ctx.transform=new l(P,K,Z,te,q,$)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(P,K,Z,te,q,$,N,T,V){var J=this.pdf.getImageProperties(P),re=1,se=1,B=1,ne=1;te!==void 0&&T!==void 0&&(B=T/te,ne=V/q,re=J.width/te*T/te,se=J.height/q*V/q),$===void 0&&($=K,N=Z,K=0,Z=0),te!==void 0&&T===void 0&&(T=te,V=q),te===void 0&&T===void 0&&(T=J.width,V=J.height);for(var ee,F=this.ctx.transform.decompose(),W=A(F.rotate.shx),Y=new l,ae=(Y=(Y=(Y=Y.multiply(F.translate)).multiply(F.skew)).multiply(F.scale)).applyToRectangle(new a($-K*B,N-Z*ne,te*re,q*se)),ce=m.call(this,ae),le=[],de=0;de<ce.length;de+=1)le.indexOf(ce[de])===-1&&le.push(ce[de]);if(x(le),this.autoPaging)for(var me=le[0],ge=le[le.length-1],ke=me;ke<ge+1;ke++){this.pdf.setPage(ke);var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=ke===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=ke===1?0:qe+(ke-2)*Je;if(this.ctx.clip_path.length!==0){var pt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ee,this.posX+this.margin[3],-Ve+je+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=pt}var $e=JSON.parse(JSON.stringify(ae));$e=y([$e],this.posX+this.margin[3],-Ve+je+this.ctx.prevPageLastElemOffset)[0];var Ue=(ke>me||ke<ge)&&g.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Je,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,W),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,W)};var m=function(P,K,Z){var te=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":te.push(Math.floor((P.y+q)/Z)+1);break;case"arc":te.push(Math.floor((P.y+q-P.radius)/Z)+1),te.push(Math.floor((P.y+q+P.radius)/Z)+1);break;case"qct":var $=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);te.push(Math.floor(($.y+q)/Z)+1),te.push(Math.floor(($.y+$.h+q)/Z)+1);break;case"bct":var N=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);te.push(Math.floor((N.y+q)/Z)+1),te.push(Math.floor((N.y+N.h+q)/Z)+1);break;case"rect":te.push(Math.floor((P.y+q)/Z)+1),te.push(Math.floor((P.y+P.h+q)/Z)+1)}for(var T=0;T<te.length;T+=1)for(;this.pdf.internal.getNumberOfPages()<te[T];)v.call(this);return te},v=function(){var P=this.fillStyle,K=this.strokeStyle,Z=this.font,te=this.lineCap,q=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=K,this.font=Z,this.lineCap=te,this.lineWidth=q,this.lineJoin=$},y=function(P,K,Z){for(var te=0;te<P.length;te++)switch(P[te].type){case"bct":P[te].x2+=K,P[te].y2+=Z;case"qct":P[te].x1+=K,P[te].y1+=Z;default:P[te].x+=K,P[te].y+=Z}return P},x=function(P){return P.sort(function(K,Z){return K-Z})},w=function(P,K){for(var Z,te,q=this.fillStyle,$=this.strokeStyle,N=this.lineCap,T=this.lineWidth,V=Math.abs(T*this.ctx.transform.scaleX),J=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),se=JSON.parse(JSON.stringify(this.path)),B=[],ne=0;ne<se.length;ne++)if(se[ne].x!==void 0)for(var ee=m.call(this,se[ne]),F=0;F<ee.length;F+=1)B.indexOf(ee[F])===-1&&B.push(ee[F]);for(var W=0;W<B.length;W++)for(;this.pdf.internal.getNumberOfPages()<B[W];)v.call(this);if(x(B),this.autoPaging)for(var Y=B[0],ae=B[B.length-1],ce=Y;ce<ae+1;ce++){this.pdf.setPage(ce),this.fillStyle=q,this.strokeStyle=$,this.lineCap=N,this.lineWidth=V,this.lineJoin=J;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=ce===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=ce===1?0:me+(ce-2)*ge;if(this.ctx.clip_path.length!==0){var Re=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-ke+de+this.ctx.prevPageLastElemOffset),_.call(this,P,!0),this.path=Re}if(te=JSON.parse(JSON.stringify(re)),this.path=y(te,this.posX+this.margin[3],-ke+de+this.ctx.prevPageLastElemOffset),K===!1||ce===0){var je=(ce>Y||ce<ae)&&g.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,ge,null).clip().discardPath()),_.call(this,P,K),je&&this.pdf.restoreGraphicsState()}this.lineWidth=T}else this.lineWidth=V,_.call(this,P,K),this.lineWidth=T;this.path=re},_=function(P,K){if((P!=="stroke"||K||!p.call(this))&&(P==="stroke"||K||!d.call(this))){for(var Z,te,q=[],$=this.path,N=0;N<$.length;N++){var T=$[N];switch(T.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:T,deltas:[],abs:[]});break;case"lt":var V=q.length;if($[N-1]&&!isNaN($[N-1].x)&&(Z=[T.x-$[N-1].x,T.y-$[N-1].y],V>0)){for(;V>=0;V--)if(q[V-1].close!==!0&&q[V-1].begin!==!0){q[V-1].deltas.push(Z),q[V-1].abs.push(T);break}}break;case"bct":Z=[T.x1-$[N-1].x,T.y1-$[N-1].y,T.x2-$[N-1].x,T.y2-$[N-1].y,T.x-$[N-1].x,T.y-$[N-1].y],q[q.length-1].deltas.push(Z);break;case"qct":var J=$[N-1].x+2/3*(T.x1-$[N-1].x),re=$[N-1].y+2/3*(T.y1-$[N-1].y),se=T.x+2/3*(T.x1-T.x),B=T.y+2/3*(T.y1-T.y),ne=T.x,ee=T.y;Z=[J-$[N-1].x,re-$[N-1].y,se-$[N-1].x,B-$[N-1].y,ne-$[N-1].x,ee-$[N-1].y],q[q.length-1].deltas.push(Z);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(T)}}te=K?null:P==="stroke"?"stroke":"fill";for(var F=!1,W=0;W<q.length;W++)if(q[W].arc)for(var Y=q[W].abs,ae=0;ae<Y.length;ae++){var ce=Y[ae];ce.type==="arc"?L.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,K,!F):R.call(this,ce.x,ce.y),F=!0}else if(q[W].close===!0)this.pdf.internal.out("h"),F=!1;else if(q[W].begin!==!0){var le=q[W].start.x,de=q[W].start.y;S.call(this,q[W].deltas,le,de),F=!0}te&&O.call(this,te),K&&H.call(this)}},M=function(P){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Z;case"top":return P+K-Z;case"hanging":return P+K-2*Z;case"middle":return P+K/2-Z;default:return P}},U=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(K,Z){this.colorStops.push([K,Z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(P,K,Z,te,q,$,N,T,V){for(var J=k.call(this,Z,te,q,$),re=0;re<J.length;re++){var se=J[re];re===0&&(V?G.call(this,se.x1+P,se.y1+K):R.call(this,se.x1+P,se.y1+K)),j.call(this,P,K,se.x2,se.y2,se.x3,se.y3,se.x4,se.y4)}T?H.call(this):O.call(this,N)},O=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(P,K){this.pdf.internal.out(r(P)+" "+n(K)+" m")},I=function(P){var K;switch(P.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(P.text),te=M.call(this,P.y),q=U.call(this,te)-Z.h,$=this.ctx.transform.applyToPoint(new o(P.x,te)),N=this.ctx.transform.decompose(),T=new l;T=(T=(T=T.multiply(N.translate)).multiply(N.skew)).multiply(N.scale);for(var V,J,re,se=this.ctx.transform.applyToRectangle(new a(P.x,te,Z.w,Z.h)),B=T.applyToRectangle(new a(P.x,q,Z.w,Z.h)),ne=m.call(this,B),ee=[],F=0;F<ne.length;F+=1)ee.indexOf(ne[F])===-1&&ee.push(ne[F]);if(x(ee),this.autoPaging)for(var W=ee[0],Y=ee[ee.length-1],ae=W;ae<Y+1;ae++){this.pdf.setPage(ae);var ce=ae===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[2],me=de-this.margin[0],ge=this.pdf.internal.pageSize.width-this.margin[1],ke=ge-this.margin[3],Re=ae===1?0:le+(ae-2)*me;if(this.ctx.clip_path.length!==0){var je=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-1*Re+ce),_.call(this,"fill",!0),this.path=je}var qe=y([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-Re+ce+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale);var Je=this.autoPaging!=="text";if(Je||qe.y+qe.h<=de){if(Je||qe.y>=ce&&qe.x<=ge){var Ve=Je?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ge-qe.x)[0],pt=y([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Re+ce+this.ctx.prevPageLastElemOffset)[0],$e=Je&&(ae>W||ae<Y)&&g.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,me,null).clip().discardPath()),this.pdf.text(Ve,pt.x,pt.y,{angle:P.angle,align:K,renderingMode:P.renderingMode}),$e&&this.pdf.restoreGraphicsState()}}else qe.y<de&&(this.ctx.prevPageLastElemOffset+=de-qe.y);P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=re)}else P.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale),this.pdf.text(P.text,$.x+this.posX,$.y+this.posY,{angle:P.angle,align:K,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=re)},R=function(P,K,Z,te){Z=Z||0,te=te||0,this.pdf.internal.out(r(P+Z)+" "+n(K+te)+" l")},S=function(P,K,Z){return this.pdf.lines(P,K,Z,null,null)},j=function(P,K,Z,te,q,$,N,T){this.pdf.internal.out([t(i(Z+P)),t(s(te+K)),t(i(q+P)),t(s($+K)),t(i(N+P)),t(s(T+K)),"c"].join(" "))},k=function(P,K,Z,te){for(var q=2*Math.PI,$=Math.PI/2;K>Z;)K-=q;var N=Math.abs(Z-K);N<q&&te&&(N=q-N);for(var T=[],V=te?-1:1,J=K;N>1e-5;){var re=J+V*Math.min(N,$);T.push(E.call(this,P,J,re)),N-=Math.abs(re-J),J=re}return T},E=function(P,K,Z){var te=(Z-K)/2,q=P*Math.cos(te),$=P*Math.sin(te),N=q,T=-$,V=N*N+T*T,J=V+N*q+T*$,re=4/3*(Math.sqrt(2*V*J)-J)/(N*$-T*q),se=N-re*T,B=T+re*N,ne=se,ee=-B,F=te+K,W=Math.cos(F),Y=Math.sin(F);return{x1:P*Math.cos(K),y1:P*Math.sin(K),x2:se*W-B*Y,y2:se*Y+B*W,x3:ne*W-ee*Y,y3:ne*Y+ee*W,x4:P*Math.cos(Z),y4:P*Math.sin(Z)}},A=function(P){return 180*P/Math.PI},C=function(P,K,Z,te,q,$){var N=P+.5*(Z-P),T=K+.5*(te-K),V=q+.5*(Z-q),J=$+.5*(te-$),re=Math.min(P,q,N,V),se=Math.max(P,q,N,V),B=Math.min(K,$,T,J),ne=Math.max(K,$,T,J);return new a(re,B,se-re,ne-B)},D=function(P,K,Z,te,q,$,N,T){var V,J,re,se,B,ne,ee,F,W,Y,ae,ce,le,de,me=Z-P,ge=te-K,ke=q-Z,Re=$-te,je=N-q,qe=T-$;for(J=0;J<41;J++)W=(ee=(re=P+(V=J/40)*me)+V*((B=Z+V*ke)-re))+V*(B+V*(q+V*je-B)-ee),Y=(F=(se=K+V*ge)+V*((ne=te+V*Re)-se))+V*(ne+V*($+V*qe-ne)-F),J==0?(ae=W,ce=Y,le=W,de=Y):(ae=Math.min(ae,W),ce=Math.min(ce,Y),le=Math.max(le,W),de=Math.max(de,Y));return new a(Math.round(ae),Math.round(ce),Math.round(le-ae),Math.round(de-ce))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,K,Z=(P=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Dt.API),function(e){var t=function(o){var a,l,c,u,h,f,d,p,g,m;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(f=(h=((h=((h=((h=(h-(m=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)-(d=h%85))/85)%85,l.push(f+33,d+33,p+33,g+33,m+33)):l.push(122);return function(v,y){for(var x=y;x>0;x--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,c,u,h,f=String,d="length",p=255,g="charCodeAt",m="slice",v="replace";for(o[m](-2),o=o[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[m](o[d]%5||5))[d];h>u;u+=5)l=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,x){for(var w=x;w>0;w--)y.pop()}(c,a[d]),f.fromCharCode.apply(f,c)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=s4(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Dt.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,f=0,d=function(p){var g=p.length,m=[],v=String.fromCharCode;for(f=0;f<g;f+=1)m.push(v(255&p.charCodeAt(f)));return m.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(i,s,o)}catch{}return a}(t,r,n)},e.loadImageFile=e.loadFile}(Dt.API),function(e){function t(){return(cr.html2canvas?Promise.resolve(cr.html2canvas):Ql(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(cr.DOMPurify?Promise.resolve(cr.DOMPurify):Ql(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=an(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var p=u[d],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,h).then(function(f){return c.updateProgress(1),f})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=c.call(h,a,l);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Dt.getPageSize=function(a,l,c){if(an(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,f=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var p,g=0,m=0;if(d.hasOwnProperty(f))g=d[f][1]/h,m=d[f][0]/h;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",m>g&&(p=m,m=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jw):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Dt.API),Dt.API.addJS=function(e){return uA=e,this.internal.events.subscribe("postPutResources",function(){Y1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Y1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Y1!==void 0&&cA!==void 0&&this.internal.out("/Names <</JavaScript "+Y1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=r.internal.newObject();u.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Dt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var f,d=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,g={width:0,height:0,numcomponents:1},m=4;m<p;m+=2){if(m+=d,t.indexOf(h.charCodeAt(m+1))!==-1){f=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),g={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:f,numcomponents:h.charCodeAt(m+9)};break}d=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(Dt.API),Dt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=vY(e,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(L){for(var O=L.width,H=L.height,G=L.data,I=L.palette,R=L.depth,S=!1,j=[],k=[],E=void 0,A=!1,C=0,D=0;D<I.length;D++){var z=i7(I[D],4),P=z[0],K=z[1],Z=z[2],te=z[3];j.push(P,K,Z),te!=null&&(te===0?(C++,k.length<1&&k.push(D)):te<255&&(A=!0))}if(A||C>1){S=!0,k=void 0;var q=O*H;E=new Uint8Array(q);for(var $=new DataView(G.buffer),N=0;N<q;N++){var T=Rw($,N,R),V=i7(I[T],4)[3];E[N]=V}}else C===0&&(k=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:S?8:void 0,colorBytes:G,alphaBytes:E,needSMask:S,palette:j,mask:k}}(s):l===2||l===4?function(L){for(var O=L.data,H=L.width,G=L.height,I=L.channels,R=L.depth,S=I===2?"DeviceGray":"DeviceRGB",j=I-1,k=H*G,E=j,A=k*E,C=1*k,D=Math.ceil(A*R/8),z=Math.ceil(C*R/8),P=new Uint8Array(D),K=new Uint8Array(z),Z=new DataView(O.buffer),te=new DataView(P.buffer),q=new DataView(K.buffer),$=!1,N=0;N<k;N++){for(var T=N*I,V=0;V<E;V++)bA(te,Rw(Z,T+V,R),N*E+V,R);var J=Rw(Z,T+E,R);J<(1<<R)-1&&($=!0),bA(q,J,1*N,R)}return{colorSpace:S,colorsPerPixel:j,sMaskBitsPerComponent:$?R:void 0,colorBytes:P,alphaBytes:K,needSMask:$}}(s):function(L){var O=L.data,H=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(G){for(var I=G.length,R=new Uint8Array(2*I),S=new DataView(R.buffer,R.byteOffset,R.byteLength),j=0;j<I;j++)S.setUint16(2*j,G[j],!1);return R}(O):O,needSMask:!1}}(s);var h,f,d,p=i,g=p.colorSpace,m=p.colorsPerPixel,v=p.sMaskBitsPerComponent,y=p.colorBytes,x=p.alphaBytes,w=p.needSMask,_=p.palette,M=p.mask,U=null;return n!==Dt.API.image_compression.NONE&&typeof s4=="function"?(U=function(L){var O;switch(L){case Dt.API.image_compression.FAST:O=11;break;case Dt.API.image_compression.MEDIUM:O=13;break;case Dt.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(U," /Colors ").concat(m," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=pA(y,Math.ceil(o*m*u/8),m,u,n),w&&(d=pA(x,Math.ceil(o*v/8),1,v,n))):(h=void 0,f=void 0,e=y,w&&(d=x)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:e,index:t,filter:h,decodeParameters:f,transparency:M,palette:_,sMask:d,predictor:U,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new BY(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Pw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Dt.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){pn.log("bit decode error:"+r)}},oo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},oo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},oo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},oo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},oo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new oo(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Pw(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Dt.API),wA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new wA(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Pw(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Dt.API),Dt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=n[c],h=n[c+1],f=n[c+2],d=n[c+3];s[a++]=u,s[a++]=h,s[a++]=f,o[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Dt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qh=Dt.API,J1=qh.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,f=0,d=e.length,p=0,g=a[0]||l,m=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=h&&an(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,m.push((a[n]||g)/l+f)),p=n;return m},dA=qh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return qh.processArabic&&(e=qh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:J1.apply(this,arguments).reduce(function(s,o){return s+o},0)},hA=function(e,t,r,n){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<r;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>n&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},fA=function(e,t,r){r||(r={});var n,i,s,o,a,l,c,u=[],h=[u],f=r.textIndent||0,d=0,p=0,g=e.split(" "),m=J1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?y=y.concat(w.map(function(_,M){return(M&&_.length?`
`:"")+_})):y.push(w[0])}),g=y,l=dA.apply(this,[v,r])}for(s=0,o=g.length;s<o;s++){var x=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),x=1),f+d+(p=(i=J1.apply(this,[n,r])).reduce(function(w,_){return w+_},0))>t||x){if(p>t){for(a=hA.apply(this,[n,i,t-(f+d),t]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);p=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(w,_){return w+_},0)}else u=[n];h.push(u),f=p+l,d=m}else u.push(n),f+=d+p,d=m}return c=l?function(w,_){return(_?v:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(c)},qh.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(fA.apply(this,[n[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=e.__fontmetrics__.compress=function(f){var d,p,g,m,v=["{"];for(var y in f){if(d=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=o(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof d=="number")d<0?(g=o(d).slice(3),m="-"):(g=o(d).slice(2),m=""),g=m+g.slice(0,-1)+i[g.slice(-1)];else{if(an(d)!=="object")throw new Error("Don't know what to do with value type "+an(d)+".");g=a(d)}v.push(p+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,p,g,m,v={},y=1,x=v,w=[],_="",M="",U=f.length-1,L=1;L<U;L+=1)(m=f[L])=="'"?d?(g=d.join(""),d=void 0):d=[]:d?d.push(m):m=="{"?(w.push([x,g]),x={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=x,g=void 0,x=p[0]):m=="-"?y=-1:g===void 0?n.hasOwnProperty(m)?(_+=n[m],g=parseInt(_,16)*y,y=1,_=""):_+=m:n.hasOwnProperty(m)?(M+=n[m],x[g]=parseInt(M,16)*y,y=1,g=void 0,M=""):M+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var d=f.font,p=h.Unicode[d.postScriptName];p&&(d.metadata.Unicode={},d.metadata.Unicode.widths=p.widths,d.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[d.postScriptName];g&&(d.metadata.Unicode.encoding=g,d.encoding=g.codePages[0])}])}(Dt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Jv(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Dt),Dt.API.addSvgAsImage=function(e,t,r,n,i,s,o,a){if(isNaN(t)||isNaN(r))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(cr.canvg?Promise.resolve(cr.canvg):Ql(()=>import("./index.es-C8edGydx.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,o,a)})},Dt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Dt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function f(p,g){var m,v=!1;for(m=0;m<p.length;m+=1)p[m]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=a.length;for(h=0;h<d;h+=1)r[a[h]].value=r[a[h]].defaultValue,r[a[h]].explicitSet=!1}if(an(e)==="object"){for(i in e)if(s=e[i],f(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Dt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,f=s.length;h<f;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(s){var o,a,l,c,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,f=(a=Object.keys(s).sort(function(d,p){return d-p})).length;h<f;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+af(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+af(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+af(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,f="",d=0;d<h.length;d++)f+=String.fromCharCode(h[d]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+af(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+af(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},f=h.pdfEscape,d=h.activeFontKey,p=h.fonts,g=d,m="",v=0,y="",x=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(y=a,g=d,Array.isArray(a)&&(y=a[0]),v=0;v<y.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?m+=y[v]:m+="";var w="";return parseInt(g.slice(1))<14||x==="WinAnsiEncoding"?w=f(m,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(w=r(m,p[g])),h.isHex=!0,{text:w,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Dt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Dt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,a,l,c,u,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var w=function(G){var I=G.charCodeAt(),R=I>>8,S=g[R];return S!==void 0?h[256*S+(255&I)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},_=function(G){for(var I,R=0;R<G.length;R++){if((I=w(G.charAt(R)))==="L")return!1;if(I==="R")return!0}return!1},M=function(G,I,R,S){var j,k,E,A,C=I[S];switch(C){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(C="AN");break;case"AL":y=!0,C="R";break;case"WS":case"BN":C="N";break;case"CS":S<1||S+1>=I.length||(j=R[S-1])!=="EN"&&j!=="AN"||(k=I[S+1])!=="EN"&&k!=="AN"?C="N":y&&(k="AN"),C=k===j?k:"N";break;case"ES":C=(j=S>0?R[S-1]:"B")==="EN"&&S+1<I.length&&I[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&R[S-1]==="EN"){C="EN";break}if(y){C="N";break}for(E=S+1,A=I.length;E<A&&I[E]==="ET";)E++;C=E<A&&I[E]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(A=I.length,E=S+1;E<A&&I[E]==="NSM";)E++;if(E<A){var D=G[S],z=D>=1425&&D<=2303||D===64286;if(j=I[E],z&&(j==="R"||j==="AL")){C="R";break}}}C=S<1||(j=I[S-1])==="B"?"N":R[S-1];break;case"B":y=!1,i=!0,C=x;break;case"S":s=!0,C="N"}return C},U=function(G,I,R){var S=G.split("");return R&&L(S,R,{hiLevel:x}),S.reverse(),I&&I.reverse(),S.join("")},L=function(G,I,R){var S,j,k,E,A,C=-1,D=G.length,z=0,P=[],K=x?d:f,Z=[];for(y=!1,i=!1,s=!1,j=0;j<D;j++)Z[j]=w(G[j]);for(k=0;k<D;k++){if(A=z,P[k]=M(G,Z,P,k),S=240&(z=K[A][p[P[k]]]),z&=15,I[k]=E=K[z][5],S>0)if(S===16){for(j=C;j<k;j++)I[j]=1;C=-1}else C=-1;if(K[z][6])C===-1&&(C=k);else if(C>-1){for(j=C;j<k;j++)I[j]=E;C=-1}Z[k]==="B"&&(I[k]=0),R.hiLevel|=E}s&&function(te,q,$){for(var N=0;N<$;N++)if(te[N]==="S"){q[N]=x;for(var T=N-1;T>=0&&te[T]==="WS";T--)q[T]=x}}(Z,I,D)},O=function(G,I,R,S,j){if(!(j.hiLevel<G)){if(G===1&&x===1&&!i)return I.reverse(),void(R&&R.reverse());for(var k,E,A,C,D=I.length,z=0;z<D;){if(S[z]>=G){for(A=z+1;A<D&&S[A]>=G;)A++;for(C=z,E=A-1;C<E;C++,E--)k=I[C],I[C]=I[E],I[E]=k,R&&(k=R[C],R[C]=R[E],R[E]=k);z=A}z++}}},H=function(G,I,R){var S=G.split(""),j={hiLevel:x};return R||(R=[]),L(S,R,j),function(k,E,A){if(A.hiLevel!==0&&u)for(var C,D=0;D<k.length;D++)E[D]===1&&(C=m.indexOf(k[D]))>=0&&(k[D]=m[C+1])}(S,R,j),O(2,S,I,R,j),O(1,S,I,R,j),S.join("")};return this.__bidiEngine__.doBidiReorder=function(G,I,R){if(function(j,k){if(k)for(var E=0;E<j.length;E++)k[E]=E;a===void 0&&(a=_(j)),c===void 0&&(c=_(j))}(G,I),o||!l||c)if(o&&l&&a^c)x=a?1:0,G=U(G,I,R);else if(!o&&l&&c)x=a?1:0,G=H(G,I,R),G=U(G,I);else if(!o||a||l||c){if(o&&!l&&a^c)G=U(G,I),a?(x=0,G=H(G,I,R)):(x=1,G=H(G,I,R),G=U(G,I));else if(o&&a&&!l&&c)x=1,G=H(G,I,R),G=U(G,I);else if(!o&&!l&&a^c){var S=u;a?(x=1,G=H(G,I,R),x=0,u=!1,G=H(G,I,R),u=S):(x=0,G=H(G,I,R),G=U(G,I),x=1,u=!1,G=H(G,I,R),u=S,G=U(G,I))}}else x=0,G=H(G,I,R);else x=a?1:0,G=H(G,I,R);return G},this.__bidiEngine__.setOptions=function(G){G&&(o=G.isInputVisual,l=G.isOutputVisual,a=G.isInputRtl,c=G.isOutputRtl,u=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Eu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new QY(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new FY(this.contents),this.head=new UY(this),this.name=new VY(this),this.cmap=new nL(this),this.toUnicode={},this.hhea=new $Y(this),this.maxp=new GY(this),this.hmtx=new KY(this),this.post=new WY(this),this.os2=new HY(this),this.loca=new JY(this),this.glyf=new XY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var jo,Eu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,a,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),FY=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,a,l,c,u,h,f,d,p,g;for(g in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),o=Math.floor(h/l),u=16*d-h,(i=new Eu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*d,c=i.pos+s,a=null,p=[],r)for(f=r[g],i.writeString(g),i.writeInt(e(f)),i.writeInt(c),i.writeInt(f.length),p=p.concat(f),g==="head"&&(a=c),c+=f.length;c%4;)p.push(0),c++;return i.write(p),n=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=iL.call(r);r.length%4;)r.push(0);for(s=new Eu(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),zY={}.hasOwnProperty,fl=function(e,t){for(var r in t)zY.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};jo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var UY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Eu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),_A=function(){function e(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),f=d/2,t.pos+=6,s=function(){var w,_;for(_=[],l=w=0;0<=f?w<f:w>f;l=0<=f?++w:--w)_.push(t.readUInt16());return _}(),t.pos+=2,g=function(){var w,_;for(_=[],l=w=0;0<=f?w<f:w>f;l=0<=f?++w:--w)_.push(t.readUInt16());return _}(),c=function(){var w,_;for(_=[],l=w=0;0<=f?w<f:w>f;l=0<=f?++w:--w)_.push(t.readUInt16());return _}(),u=function(){var w,_;for(_=[],l=w=0;0<=f?w<f:w>f;l=0<=f?++w:--w)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,a=function(){var w,_;for(_=[],l=w=0;0<=i?w<i:w>i;l=0<=i?++w:--w)_.push(t.readUInt16());return _}(),l=v=0,x=s.length;v<x;l=++v)for(m=s[l],n=y=p=g[l];p<=m?y<=m:y>=m;n=p<=m?++y:--y)u[l]===0?o=n+c[l]:(o=a[u[l]/2+(n-p)-(f-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v,y,x,w,_,M,U,L,O,H,G,I,R,S,j,k,E,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re;switch(S=new Eu,o=Object.keys(t).sort(function(se,B){return se-B}),r){case"macroman":for(g=0,m=function(){var se=[];for(p=0;p<256;++p)se.push(0);return se}(),y={0:0},s={},j=0,C=o.length;j<C;j++)y[T=t[i=o[j]]]==null&&(y[T]=++g),s[i]={old:t[i],new:y[t[i]]},m[i]=y[t[i]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(m),{charMap:s,subtable:S.data,maxGlyphID:g+1};case"unicode":for(I=[],h=[],x=0,y={},n={},v=c=null,k=0,D=o.length;k<D;k++)y[_=t[i=o[k]]]==null&&(y[_]=++x),n[i]={old:_,new:y[_]},a=y[_]-i,v!=null&&a===c||(v&&h.push(v),I.push(i),c=a),v=i;for(v&&h.push(v),h.push(65535),I.push(65535),H=2*(O=I.length),L=2*Math.pow(Math.log(O)/Math.LN2,2),f=Math.log(L/2)/Math.LN2,U=2*O-L,l=[],M=[],d=[],p=E=0,z=I.length;E<z;p=++E){if(G=I[p],u=h[p],G===65535){l.push(0),M.push(0);break}if(G-(R=n[G].new)>=32768)for(l.push(0),M.push(2*(d.length+O-p)),i=A=G;G<=u?A<=u:A>=u;i=G<=u?++A:--A)d.push(n[i].new);else l.push(R-G),M.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*O+2*d.length),S.writeUInt16(0),S.writeUInt16(H),S.writeUInt16(L),S.writeUInt16(f),S.writeUInt16(U),$=0,P=h.length;$<P;$++)i=h[$],S.writeUInt16(i);for(S.writeUInt16(0),N=0,K=I.length;N<K;N++)i=I[N],S.writeUInt16(i);for(V=0,Z=l.length;V<Z;V++)a=l[V],S.writeUInt16(a);for(J=0,te=M.length;J<te;J++)w=M[J],S.writeUInt16(w);for(re=0,q=d.length;re<q;re++)g=d[re],S.writeUInt16(g);return{charMap:n,subtable:S.data,maxGlyphID:x+1}}},e}(),nL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new _A(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=_A.encode(t,r),(i=new Eu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),$Y=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),HY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),WY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),qY=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},VY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,o,a,l,c,u,h,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),a=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=u=0,h=n.length;u<h;s=++u)i=n[s],t.pos=i.offset,c=t.readString(i.length),o=new qY(c,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),GY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),KY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,o,a,l;for(t.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,h,f;for(f=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),iL=[].slice,XY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,o,a,l,c,u,h;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(a=new Eu(r.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=o===-1?new YY(a,c,h,l,u):new ZY(a,o,c,h,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,o,a,l;for(o=[],s=[],a=0,l=r.length;a<l;a++)i=t[r[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),ZY=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),YY=function(){function e(t,r,n,i,s){var o,a;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Eu(iL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),JY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fl(e,jo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),QY=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,a,l,c,u,h,f,d,p,g,m,v;for(i in n=nL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},v=n.charMap)d[(l=v[i]).old]=l.new;for(p in f=n.maxGlyphID,o)p in d||(d[p]=f++);return u=function(y){var x,w;for(x in w={},y)w[y[x]]=x;return w}(d),h=Object.keys(u).sort(function(y,x){return y-x}),g=function(){var y,x,w;for(w=[],y=0,x=h.length;y<x;y++)a=h[y],w.push(u[a]);return w}(),s=this.font.glyf.encode(o,g,d),c=this.font.loca.encode(s.offsets,g),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Dt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const eJ=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:Ot,AcroFormButton:Ti,AcroFormCheckBox:r0,AcroFormChoiceField:qd,AcroFormComboBox:Gd,AcroFormEditBox:e0,AcroFormListBox:Vd,AcroFormPasswordField:n0,AcroFormPushButton:t0,AcroFormRadioButton:Kd,AcroFormTextField:xu,GState:W0,ShadingPattern:eu,TilingPattern:Dd,default:Dt,jsPDF:Dt},Symbol.toStringTag,{value:"Module"}));function sL(e,t,r,n,i){n=n||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,h="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(u):e,f=h.length||1),r+=a*(2-s),n.valign==="middle"?r-=f/2*c:n.valign==="bottom"&&(r-=f*c),n.halign==="center"||n.halign==="right"){var d=a;if(n.halign==="center"&&(d*=.5),h&&f>=1){for(var p=0;p<h.length;p++)i.text(h[p],t-i.getStringUnitWidth(h[p])*d,r),r+=c;return i}t-=i.getStringUnitWidth(e)*d}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var SA={},Af=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:SA=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,s){return this.jsPDFDocument.rect(t,r,n,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return SA||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),b4=function(e,t){return b4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},b4(e,t)};function aL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");b4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oL=function(e){aL(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function tJ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rJ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Xy(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function lL(e,t,r,n){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=cL(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function cL(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Wb(e,t){var r,n,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function uL(e,t){var r=Wb(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function nJ(e,t,r,n,i){var s={},o=1.3333333333333333,a=Ow(t,function(x){return i.getComputedStyle(x).backgroundColor});a!=null&&(s.fillColor=a);var l=Ow(t,function(x){return i.getComputedStyle(x).color});l!=null&&(s.textColor=l);var c=sJ(n,r);c&&(s.cellPadding=c);var u="borderTopColor",h=o*r,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var d=(parseFloat(f)||0)/h;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=Ow(t,function(x){return i.getComputedStyle(x)[u]});p!=null&&(s.lineColor=p);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(s.fontSize=m/o);var v=iJ(n);v&&(s.fontStyle=v);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(s.font=y),s}function iJ(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Ow(e,t){var r=dL(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function dL(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:dL(e.parentElement,t):r}function sJ(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(a){return parseInt(a||"0")/n}),o=Wb(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function hL(e,t,r,n,i){var s,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var a;typeof t=="string"?a=r.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],h=[],f=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:f};for(var d=0;d<a.rows.length;d++){var p=a.rows[d],g=(o=(s=p==null?void 0:p.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),m=aJ(l,c,r,p,n,i);m&&(g==="thead"?u.push(m):g==="tfoot"?f.push(m):h.push(m))}return{head:u,body:h,foot:f}}function aJ(e,t,r,n,i,s){for(var o=new oL(n),a=0;a<n.cells.length;a++){var l=n.cells[a],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=nJ(e,l,t,c,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:oJ(l)})}}var h=r.getComputedStyle(n);if(o.length>0&&(i||h.display!=="none"))return o}function oJ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function lJ(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Kl(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function fL(e,t){var r=new Af(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();lJ(i,n,t);var s=Kl({},i,n,t),o;typeof window<"u"&&(o=window);var a=cJ(i,n,t),l=uJ(i,n,t),c=dJ(r,s),u=fJ(r,s,o);return{id:t.tableId,content:u,hooks:l,styles:a,settings:c}}function cJ(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],h=r[l];n.columnStyles=Kl({},c,u,h)}else{var f=[e,t,r],d=f.map(function(p){return p[l]||{}});n[l]=Kl({},d[0],d[1],d[2])}},s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];i(a)}return n}function uJ(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function dJ(e,t){var r,n,i,s,o,a,l,c,u,h,f,d,p=Wb(t.margin,40/e.scaleFactor()),g=(r=hJ(e,t.startY))!==null&&r!==void 0?r:p.top,m;t.showFoot===!0?m="everyPage":t.showFoot===!1?m="never":m=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var y=(s=t.useCss)!==null&&s!==void 0?s:!1,x=t.theme||(y?"plain":"striped"),w=!!t.horizontalPageBreak,_=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:y,theme:x,startY:g,margin:p,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:m,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=t.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:w,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function hJ(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function fJ(e,t,r){var n=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var a=hL(e,t.html,r,o,t.useCss)||{};n=a.head||n,i=a.body||n,s=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||pJ(n,i,s);return{columns:l,head:n,body:i,foot:s}}function pJ(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(n)?a=n[parseInt(s)]:a=n[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var x4=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),mJ=function(e){aL(t,e);function t(r,n,i,s,o,a){var l=e.call(this,r,n,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return t}(x4),gJ=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,s,o){for(var a=0,l=r;a<l.length;a++){var c=l[a],u=new mJ(t,this,n,i,s,o),h=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new x4(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new x4(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),pL=function(){function e(t,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof oL&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,s){var o=n.cells[s.index];if(!o)return 0;var a=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},e}(),mL=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Wb(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),vJ=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var s=i[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function yJ(e,t){bJ(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=w4(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=w4(r,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),wJ(t),_J(t,e),xJ(t)}function bJ(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=uL(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,s,l,null);var h=c.padding("horizontal");c.contentWidth=Xy(c.text,c.styles,e)+h;var f=Xy(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=f+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function w4(e,t,r){for(var n=t,i=e.reduce(function(d,p){return d+p.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/i,l=n*a,c=o.width+l,u=r(o),h=c<u?u:c;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var f=e.filter(function(d){return t<0?d.width>r(d):!0});f.length&&(t=w4(f,t,r))}return t}function xJ(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var s=n[i],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=t[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=n.length-i,f=u.rowSpan>h?h:u.rowSpan;t[l.index]={cell:u,left:f,row:s}}}}}function wJ(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,s=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function _J(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var s=i[n],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=EA(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=EA(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,u);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<f*c.rowSpan?r={height:f,count:c.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>s.height&&(s.height=f)}}r.count--}}function EA(e,t,r,n,i){return e.map(function(s){return SJ(s,t,r,n,i)})}function SJ(e,t,r,n,i){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Xy(e,r,n))return e;for(;t<Xy(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function gL(e,t){var r=new Af(e),n=EJ(t,r.scaleFactor()),i=new gJ(t,n);return yJ(r,i),r.applyStyles(r.userStyles),i}function EJ(e,t){var r=e.content,n=NJ(r.columns);if(r.head.length===0){var i=kA(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=kA(n,"foot");i&&r.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:n,head:Iw("head",r.head,n,o,s,t),body:Iw("body",r.body,n,o,s,t),foot:Iw("foot",r.foot,n,o,s,t)}}function Iw(e,t,r,n,i,s){var o={},a=t.map(function(l,c){for(var u=0,h={},f=0,d=0,p=0,g=r;p<g.length;p++){var m=g[p];if(o[m.index]==null||o[m.index].left===0)if(d===0){var v=void 0;Array.isArray(l)?v=l[m.index-f-u]:v=l[m.dataKey];var y={};typeof v=="object"&&!Array.isArray(v)&&(y=(v==null?void 0:v.styles)||{});var x=AJ(e,m,c,i,n,s,y),w=new mL(v,x,e);h[m.dataKey]=w,h[m.index]=w,d=w.colSpan-1,o[m.index]={left:w.rowSpan-1,times:d}}else d--,f++;else o[m.index].left--,d=o[m.index].times,u++}return new pL(l,c,e,h)});return a}function kA(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=kJ(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function kJ(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function NJ(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new vJ(i,t,r)})}function AJ(e,t,r,n,i,s,o){var a=rJ(n),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var c=Kl({},a.table,a[e],i.styles,l),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},h=e==="body"?u:{},f=e==="body"&&r%2===0?Kl({},a.alternateRow,i.alternateRowStyles):{},d=tJ(s),p=Kl({},d,c,f,h);return Kl(p,o)}function CJ(e,t,r){var n;r===void 0&&(r={});var i=uL(e,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var d=t.columns.find(function(p){return p.dataKey===f||p.index===f});d&&!s.has(d.index)&&(s.set(d.index,!0),o.push(d.index),a.push(t.columns[d.index]),i-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(s.has(u)){u++;continue}var h=t.columns[u].wrappedWidth;if(c||i>=h)c=!1,o.push(u),a.push(t.columns[u]),i-=h;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function jJ(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=CJ(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function vL(e,t){var r=t.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=n+i.bottom+o;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(f,d){return f+d.height},0);a+=c}var u=new Af(e);(r.pageBreak==="always"||r.startY!=null&&a>u.pageSize().height)&&(bL(u),s.y=i.top),t.callWillDrawPageHooks(u,s);var h=Kl({},s);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?TJ(u,t,h,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(f){return oc(u,t,f,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(f,d){var p=d===t.body.length-1;Zy(u,t,f,p,h,s,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(f){return oc(u,t,f,s,t.columns)})),lL(u,t,h,s),t.callEndPageHooks(u,s),t.finalY=s.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function TJ(e,t,r,n){var i=jJ(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?i0(e,t,r,n,c.columns,!0):NA(e,t,n,c.columns),RJ(e,t,r,n,c.columns),Mw(e,t,n,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){e.applyStyles(e.userStyles);var u=a.columns;o>=0?i0(e,t,r,n,u,!0):NA(e,t,n,u),c=AA(e,t,o+1,n,u),Mw(e,t,n,u)}var h=c-o;i.slice(1).forEach(function(f){e.applyStyles(e.userStyles),i0(e,t,r,n,f.columns,!0),AA(e,t,o+1,n,f.columns,h),Mw(e,t,n,f.columns)}),o=c};o<t.body.length-1;)l()}function NA(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return oc(e,t,s,r,n)})}function RJ(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;Zy(e,t,s,a,r,n,i)})}function AA(e,t,r,n,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),a=-1;return t.body.slice(r,o).forEach(function(l,c){var u=r+c===t.body.length-1,h=yL(e,t,u,n);l.canEntireRowFit(h,i)&&(oc(e,t,l,n,i),a=r+c)}),a}function Mw(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return oc(e,t,s,r,n)})}function PJ(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/n);return Math.max(0,s)}function OJ(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=r.columns;o<a.length;o++){var l=a[o],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new mL(c.raw,c.styles,c.section);u=Kl(u,c),u.text=[];var h=PJ(c,t,n);c.text.length>h&&(u.text=c.text.splice(h,c.text.length));var f=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(f,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(f,d),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var p=new pL(e.raw,-1,e.section,i,!0);p.height=s;for(var g=0,m=r.columns;g<m.length;g++){var l=m[g],u=p.cells[l.index];u&&(u.height=p.height);var c=e.cells[l.index];c&&(c.height=e.height)}return p}function IJ(e,t,r,n){var i=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,a=i-o;t.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>a;return h?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Zy(e,t,r,n,i,s,o){var a=yL(e,t,n,s);if(r.canEntireRowFit(a,o))oc(e,t,r,s,o);else if(IJ(e,r,a,t)){var l=OJ(r,a,t,e);oc(e,t,r,s,o),i0(e,t,i,s,o),Zy(e,t,l,n,i,s,o)}else i0(e,t,i,s,o),Zy(e,t,r,n,i,s,o)}function oc(e,t,r,n,i){n.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=r.cells[a.index];if(!l){n.x+=a.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,a,n);if(c===!1){n.x+=a.width;continue}MJ(e,l,n);var u=l.getTextPos();sL(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,a,n),n.x+=a.width}n.y+=r.height}function MJ(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=cL(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),LJ(e,t,r,n.lineWidth))}function LJ(e,t,r,n){var i,s,o,a;n.top&&(i=r.x,s=r.y,o=r.x+t.width,a=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,o,a)),n.bottom&&(i=r.x,s=r.y+t.height,o=r.x+t.width,a=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,o,a)),n.left&&(i=r.x,s=r.y,o=r.x,a=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,i,s,o,a)),n.right&&(i=r.x+t.width,s=r.y,o=r.x+t.width,a=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,i,s,o,a));function l(c,u,h,f,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,h,f,d,"S")}}function yL(e,t,r,n){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function i0(e,t,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return oc(e,t,a,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;lL(e,t,r,n),bL(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return oc(e,t,a,n,i)}),e.applyStyles(e.userStyles))}function bL(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function DJ(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=fL(this,n),s=gL(this,i);return vL(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){sL(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Af.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Af.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Af(this),s=hL(i,t,window,r,!1),o=s.head,a=s.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var Lw;function xL(e,t){var r=fL(e,t),n=gL(e,r);vL(e,n)}try{if(typeof window<"u"&&window){var CA=window,jA=CA.jsPDF||((Lw=CA.jspdf)===null||Lw===void 0?void 0:Lw.jsPDF);jA&&DJ(jA)}}catch(e){console.error("Could not apply autoTable plugin",e)}function A8(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return{content:e}}return e}async function BJ(e,t){const r=new Dt,n=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight(),s=20,o=A8(e);if(FJ(r,t),o.sections&&Array.isArray(o.sections)){r.addPage();let a=20;for(const l of o.sections){a>i-40&&(r.addPage(),a=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.setTextColor(31,73,125),r.text(l.section||"Section",s,a),a+=10,r.setFontSize(11),r.setFont("helvetica","normal"),r.setTextColor(0,0,0);const c=l.content||"",u=r.splitTextToSize(c,n-2*s);for(const h of u)a>i-30&&(r.addPage(),a=20),r.text(h,s,a),a+=7;a+=5}}return C8(r),j8(r,t),r.output("blob")}function FJ(e,t){const r=e.internal.pageSize.getWidth();e.internal.pageSize.getHeight(),e.setFillColor(31,73,125),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("STANDARD OPERATING PROCEDURES",r/2,25,{align:"center"}),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFillColor(220,230,241),e.roundedRect(30,110,r-60,80,3,3,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(31,73,125);let n=125;t.processCode&&(e.text("Process Code:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.processCode,90,n),n+=15),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Version:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.version||"1.0",90,n),n+=15,e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Effective Date:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text((t.date||new Date).toLocaleDateString(),90,n),n+=15,e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text("Approved By:",40,n),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(t.author||"Operations Management",90,n)}function C8(e){const t=e.internal.pages.length-1;for(let r=1;r<=t;r++)e.setPage(r),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Page ${r} of ${t}`,e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"})}function j8(e,t){const r=e.internal.pages.length-1;for(let n=1;n<=r;n++)e.setPage(n),e.setFontSize(8),e.setFont("helvetica","italic"),e.setTextColor(150,150,150),e.text("Generated by OllieProcess",20,e.internal.pageSize.getHeight()-10),e.text(`Version ${t.version||"1.0"}`,e.internal.pageSize.getWidth()-20,e.internal.pageSize.getHeight()-10,{align:"right"})}async function zJ(e,t){const r=new Dt,n=A8(e);if(UJ(r,t),n.matrix&&Array.isArray(n.matrix)){r.addPage();const i=n.matrix.map(s=>[s.task||"",s.responsible||"",s.accountable||"",s.consulted||"",s.informed||""]);xL(r,{startY:30,head:[["Task/Activity","Responsible","Accountable","Consulted","Informed"]],body:i,theme:"grid",headStyles:{fillColor:[31,73,125],textColor:[255,255,255],fontStyle:"bold",fontSize:11},styles:{fontSize:10,cellPadding:5,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:50},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}},alternateRowStyles:{fillColor:[245,245,245]}})}return C8(r),j8(r,t),r.output("blob")}function UJ(e,t){const r=e.internal.pageSize.getWidth();e.setFillColor(31,73,125),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("RACI MATRIX",r/2,25,{align:"center"}),e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(31,73,125),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Generated: ${(t.date||new Date).toLocaleDateString()}`,r/2,100,{align:"center"})}async function $J(e,t){const r=new Dt("landscape"),n=A8(e);if(HJ(r,t),n.risks&&Array.isArray(n.risks)){r.addPage();const i=n.risks.map(s=>[s.risk||"",s.likelihood||"",s.impact||"",s.control||"",s.mitigation||""]);xL(r,{startY:30,head:[["Risk","Likelihood","Impact","Control","Mitigation"]],body:i,theme:"grid",headStyles:{fillColor:[231,76,60],textColor:[255,255,255],fontStyle:"bold",fontSize:11},styles:{fontSize:9,cellPadding:5,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:50},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:60},4:{cellWidth:60}},alternateRowStyles:{fillColor:[252,245,245]}})}return C8(r),j8(r,t),r.output("blob")}function HJ(e,t){const r=e.internal.pageSize.getWidth();e.setFillColor(231,76,60),e.rect(0,0,r,40,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("RISK & CONTROL MATRIX",r/2,25,{align:"center"}),e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(231,76,60),e.text(t.title,r/2,80,{align:"center",maxWidth:r-40}),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(`Generated: ${(t.date||new Date).toLocaleDateString()}`,r/2,100,{align:"center"})}async function WJ(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function Ct(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}function qJ(e,t){return t={exports:{}},e(t,t.exports),t.exports}var VJ=qJ(function(e){var t=e.exports=function(r,n){if(n||(n=16),r===void 0&&(r=128),r<=0)return"0";for(var i=Math.log(Math.pow(2,r))/Math.log(n),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,r/s))/Math.log(n)*s;for(var o=i-Math.floor(i),a="",s=0;s<Math.floor(i);s++){var l=Math.floor(Math.random()*n).toString(n);a=l+a}if(o){var c=Math.pow(n,o),l=Math.floor(Math.random()*c).toString(n);a=l+a}var u=parseInt(a,n);return u!==1/0&&u>=Math.pow(2,r)?t(r,n):a};t.rack=function(r,n,i){var s=function(a){var l=0;do{if(l++>10)if(i)r+=i;else throw new Error("too many ID collisions, use more bits");var c=t(r,n)}while(Object.hasOwnProperty.call(o,c));return o[c]=a,c},o=s.hats={};return s.get=function(a){return s.hats[a]},s.set=function(a,l){return s.hats[a]=l,s},s.bits=r||128,s.base=n||16,s}});function cl(e){if(!(this instanceof cl))return new cl(e);e=e||[128,36,1],this._seed=e.length?VJ.rack(e[0],e[1],e[2]):e}cl.prototype.next=function(e){return this._seed(e||!0)};cl.prototype.nextPrefixed=function(e,t){var r;do r=e+this.next(!0);while(this.assigned(r));return this.claim(r,t),r};cl.prototype.claim=function(e,t){this._seed.set(e,t||!0)};cl.prototype.assigned=function(e){return this._seed.get(e)||!1};cl.prototype.unclaim=function(e){delete this._seed.hats[e]};cl.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};function T8(e){return Array.prototype.concat.apply([],e)}const fg=Object.prototype.toString,GJ=Object.prototype.hasOwnProperty;function ih(e){return e===void 0}function Pi(e){return e!==void 0}function q0(e){return e==null}function Qt(e){return fg.call(e)==="[object Array]"}function Mi(e){return fg.call(e)==="[object Object]"}function Yt(e){return fg.call(e)==="[object Number]"}function yi(e){const t=fg.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function Js(e){return fg.call(e)==="[object String]"}function KJ(e){if(!Qt(e))throw new Error("must supply array")}function Cs(e,t){return!q0(e)&&GJ.call(e,t)}function Lr(e,t){const r=Vb(t);let n;return Ce(e,function(i,s){if(r(i,s))return n=i,!1}),n}function wL(e,t){const r=Vb(t);let n=Qt(e)?-1:void 0;return Ce(e,function(i,s){if(r(i,s))return n=s,!1}),n}function mr(e,t){const r=Vb(t);let n=[];return Ce(e,function(i,s){r(i,s)&&n.push(i)}),n}function Ce(e,t){let r,n;if(ih(e))return;const i=Qt(e)?QJ:JJ;for(let s in e)if(Cs(e,s)&&(r=e[s],n=t(r,i(s)),n===!1))return r}function XJ(e,t){if(ih(e))return[];KJ(e);const r=Vb(t);return e.filter(function(n,i){return!r(n,i)})}function Qs(e,t,r){return Ce(e,function(n,i){r=t(r,n,i)}),r}function fh(e,t){return!!Qs(e,function(r,n,i){return r&&t(n,i)},!0)}function Pu(e,t){return!!Lr(e,t)}function is(e,t){let r=[];return Ce(e,function(n,i){r.push(t(n,i))}),r}function Yy(e){return e&&Object.keys(e)||[]}function ZJ(e){return Yy(e).length}function qb(e){return is(e,t=>t)}function gp(e,t,r={}){return t=R8(t),Ce(e,function(n){let i=t(n)||"_",s=r[i];s||(s=r[i]=[]),s.push(n)}),r}function _L(e,...t){e=R8(e);let r={};return Ce(t,i=>gp(i,e,r)),is(r,function(i,s){return i[0]})}const YJ=_L;function ul(e,t){t=R8(t);let r=[];return Ce(e,function(n,i){let s=t(n,i),o={d:s,v:n};for(var a=0;a<r.length;a++){let{d:l}=r[a];if(s<l){r.splice(a,0,o);return}}r.push(o)}),is(r,n=>n.v)}function wo(e){return function(t){return fh(e,function(r,n){return t[n]===r})}}function R8(e){return yi(e)?e:t=>t[e]}function Vb(e){return yi(e)?e:t=>t===e}function JJ(e){return e}function QJ(e){return Number(e)}function SL(e,t){let r,n,i,s;function o(h){let f=Date.now(),d=h?0:s+t-f;if(d>0)return a(d);e.apply(i,n),l()}function a(h){r=setTimeout(o,h)}function l(){r&&clearTimeout(r),r=s=n=i=void 0}function c(){r&&o(!0),l()}function u(...h){s=Date.now(),n=h,i=this,r||a(t)}return u.flush=c,u.cancel=l,u}function Rs(e,t){return e.bind(t)}function Ie(e,...t){return Object.assign(e,...t)}function eQ(e,t,r){let n=e;return Ce(t,function(i,s){if(typeof i!="number"&&typeof i!="string")throw new Error("illegal key type: "+typeof i+". Key should be of type number or string.");if(i==="constructor")throw new Error("illegal key: constructor");if(i==="__proto__")throw new Error("illegal key: __proto__");let o=t[s+1],a=n[i];Pi(o)&&q0(a)&&(a=n[i]=isNaN(+o)?{}:[]),ih(o)?ih(r)?delete n[i]:n[i]=r:n=a}),e}function No(e,t){let r={},n=Object(e);return Ce(t,function(i){i in n&&(r[i]=e[i])}),r}function pl(e,t){let r={},n=Object(e);return Ce(n,function(i,s){t.indexOf(s)===-1&&(r[s]=i)}),r}function tQ(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}const rQ=Object.prototype.toString,nQ=Object.prototype.hasOwnProperty;function iQ(e){return e===void 0}function sQ(e){return rQ.call(e)==="[object Array]"}function aQ(e,t){return nQ.call(e,t)}function TA(e,t){let r,n;if(iQ(e))return;const i=sQ(e)?lQ:oQ;for(let s in e)if(aQ(e,s)&&(r=e[s],n=t(r,i(s)),n===!1))return r}function oQ(e){return e}function lQ(e){return Number(e)}function Ji(e,...t){const r=e.style;return TA(t,function(n){n&&TA(n,function(i,s){r[s]=i})}),e}function Qi(e,t,r){return arguments.length==2?e.getAttribute(t):r===null?e.removeAttribute(t):(e.setAttribute(t,r),e)}const cQ=Object.prototype.toString;function On(e){return new ku(e)}function ku(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}ku.prototype.add=function(e){return this.list.add(e),this};ku.prototype.remove=function(e){return cQ.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};ku.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};ku.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};ku.prototype.array=function(){return Array.from(this.list)};ku.prototype.has=ku.prototype.contains=function(e){return this.list.contains(e)};function Gb(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function vp(e,t,r){var n=r?e:e.parentNode;return n&&typeof n.closest=="function"&&n.closest(t)||null}var Jy={},Qy,_4,P8;function EL(){Qy=window.addEventListener?"addEventListener":"attachEvent",_4=window.removeEventListener?"removeEventListener":"detachEvent",P8=Qy!=="addEventListener"?"on":""}var uQ=Jy.bind=function(e,t,r,n){return Qy||EL(),e[Qy](P8+t,r,n||!1),r},dQ=Jy.unbind=function(e,t,r,n){return _4||EL(),e[_4](P8+t,r,n||!1),r},sr=tQ({__proto__:null,bind:uQ,unbind:dQ,default:Jy},[Jy]),kL=["focus","blur"];function hQ(e,t,r,n,i){return kL.indexOf(r)!==-1&&(i=!0),sr.bind(e,r,function(s){var o=s.target||s.srcElement;s.delegateTarget=vp(o,t,!0),s.delegateTarget&&n.call(e,s)},i)}function fQ(e,t,r,n){return kL.indexOf(t)!==-1&&(n=!0),sr.unbind(e,t,r,n)}var Ks={bind:hQ,unbind:fQ},pQ=mQ,NL=!1,Q1;typeof document<"u"&&(Q1=document.createElement("div"),Q1.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',NL=!Q1.getElementsByTagName("link").length,Q1=void 0);var si={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:NL?[1,"X<div>","</div>"]:[0,"",""]};si.td=si.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];si.option=si.optgroup=[1,'<select multiple="multiple">',"</select>"];si.thead=si.tbody=si.colgroup=si.caption=si.tfoot=[1,"<table>","</table>"];si.polyline=si.ellipse=si.polygon=si.circle=si.text=si.line=si.path=si.rect=si.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function mQ(e,t){if(typeof e!="string")throw new TypeError("String expected");t||(t=document);var r=/<([\w:]+)/.exec(e);if(!r)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=r[1];if(n=="body"){var l=t.createElement("html");return l.innerHTML=e,l.removeChild(l.lastChild)}var i=Object.prototype.hasOwnProperty.call(si,n)?si[n]:si._default,s=i[0],o=i[1],a=i[2],l=t.createElement("div");for(l.innerHTML=o+e+a;s--;)l=l.lastChild;if(l.firstChild==l.lastChild)return l.removeChild(l.firstChild);for(var c=t.createDocumentFragment();l.firstChild;)c.appendChild(l.removeChild(l.firstChild));return c}var dn=pQ;function AL(e,t){return e&&typeof e.matches=="function"&&e.matches(t)||!1}function Jr(e,t){return t=t||document,t.querySelector(e)}function S4(e,t){return t=t||document,t.querySelectorAll(e)}function dl(e){e.parentNode&&e.parentNode.removeChild(e)}function gQ(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch{}return e}function vQ(e,t){return t.appendChild(gQ(e,t))}function rr(e,t){return vQ(t,e),e}var E4=2,CL={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":E4,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":E4,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function yQ(e,t){return CL[t]?e.style[t]:e.getAttributeNS(null,t)}function jL(e,t,r){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=CL[n];i?(i===E4&&typeof r=="number"&&(r=String(r)+"px"),e.style[n]=r):e.setAttributeNS(null,t,r)}function bQ(e,t){var r=Object.keys(t),n,i;for(n=0,i;i=r[n];n++)jL(e,i,t[i])}function Nt(e,t,r){if(typeof t=="string")if(r!==void 0)jL(e,t,r);else return yQ(e,t);else bQ(e,t);return e}const xQ=Object.prototype.toString;function Pr(e){return new Nu(e)}function Nu(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}Nu.prototype.add=function(e){return this.list.add(e),this};Nu.prototype.remove=function(e){return xQ.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};Nu.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};Nu.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};Nu.prototype.array=function(){return Array.from(this.list)};Nu.prototype.has=Nu.prototype.contains=function(e){return this.list.contains(e)};function Kb(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function TL(e){return e.cloneNode(!0)}var O8={svg:"http://www.w3.org/2000/svg"},RA='<svg xmlns="'+O8.svg+'"';function wQ(e){var t=!1;e.substring(0,4)==="<svg"?e.indexOf(O8.svg)===-1&&(e=RA+e.substring(4)):(e=RA+">"+e+"</svg>",t=!0);var r=_Q(e);if(!t)return r;for(var n=document.createDocumentFragment(),i=r.firstChild;i.firstChild;)n.appendChild(i.firstChild);return n}function _Q(e){var t;return t=new DOMParser,t.async=!1,t.parseFromString(e,"text/xml")}function Mt(e,t){var r;return e=e.trim(),e.charAt(0)==="<"?(r=wQ(e).firstChild,r=document.importNode(r,!0)):r=document.createElementNS(O8.svg,e),t&&Nt(r,t),r}var Dw=null;function RL(){return Dw===null&&(Dw=Mt("svg")),Dw}function PA(e,t){var r,n,i=Object.keys(t);for(r=0;n=i[r];r++)e[n]=t[n];return e}function SQ(e,t,r,n,i,s){var o=RL().createSVGMatrix();switch(arguments.length){case 0:return o;case 1:return PA(o,e);case 6:return PA(o,{a:e,b:t,c:r,d:n,e:i,f:s})}}function s0(e){return RL().createSVGTransform()}var OA=/([&<>]{1})/g,EQ=/([&<>\n\r"]{1})/g,kQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Bw(e,t){function r(n,i){return kQ[i]||i}return e.replace(t,r)}function PL(e,t){var r,n,i,s,o;switch(e.nodeType){case 3:t.push(Bw(e.textContent,OA));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(i=e.attributes,r=0,n=i.length;r<n;++r)s=i.item(r),t.push(" ",s.name,'="',Bw(s.value,EQ),'"');if(e.hasChildNodes()){for(t.push(">"),o=e.childNodes,r=0,n=o.length;r<n;++r)PL(o.item(r),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("<!--",Bw(e.nodeValue,OA),"-->");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function NQ(e){for(var t=e.firstChild,r=[];t;)PL(t,r),t=t.nextSibling;return r.join("")}function IA(e,t){return NQ(e)}function ui(e){var t=e.parentNode;return t&&t.removeChild(e),e}function AQ(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function CQ(e,t){var r,n;for(e.clear(),r=0;n=t[r];r++)e.appendItem(AQ(e,n))}function V0(e,t){var r=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),CQ(r,t)),r.consolidate()}const jQ=/^class[ {]/;function TQ(e){return jQ.test(e.toString())}function I8(e){return Array.isArray(e)}function Fw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qv(...e){e.length===1&&I8(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const RQ=/constructor\s*[^(]*\(\s*([^)]*)\)/m,PQ=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,OQ=/\/\*([^*]*)\*\//m;function IQ(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(TQ(e)?RQ:PQ);if(!t)return[];const r=t[1]||t[2];return r&&r.split(",").map(n=>{const i=n.match(OQ);return(i&&i[1]||n).trim()})||[]}function OL(e,t){const r=t||{get:function(x,w){if(n.push(x),w===!1)return null;throw a(`No provider for "${x}"!`)}},n=[],i=this._providers=Object.create(r._providers||null),s=this._instances=Object.create(null),o=s.injector=this,a=function(x){const w=n.join(" -> ");return n.length=0,new Error(w?`${x} (Resolving: ${w})`:x)};function l(x,w){if(!i[x]&&x.includes(".")){const _=x.split(".");let M=l(_.shift());for(;_.length;)M=M[_.shift()];return M}if(Fw(s,x))return s[x];if(Fw(i,x)){if(n.indexOf(x)!==-1)throw n.push(x),a("Cannot resolve circular dependency!");return n.push(x),s[x]=i[x][0](i[x][1]),n.pop(),s[x]}return r.get(x,w)}function c(x,w){if(typeof w>"u"&&(w={}),typeof x!="function")if(I8(x))x=Qv(x.slice());else throw a(`Cannot invoke "${x}". Expected a function!`);const M=(x.$inject||IQ(x)).map(U=>Fw(w,U)?w[U]:l(U));return{fn:x,dependencies:M}}function u(x){const{fn:w,dependencies:_}=c(x),M=Function.prototype.bind.call(w,null,..._);return new M}function h(x,w,_){const{fn:M,dependencies:U}=c(x,_);return M.apply(w,U)}function f(x){return Qv(w=>x.get(w))}function d(x,w){if(w&&w.length){const _=Object.create(null),M=Object.create(null),U=[],L=[],O=[];let H,G,I,R;for(let S in i)H=i[S],w.indexOf(S)!==-1&&(H[2]==="private"?(G=U.indexOf(H[3]),G===-1?(I=H[3].createChild([],w),R=f(I),U.push(H[3]),L.push(I),O.push(R),_[S]=[R,S,"private",I]):_[S]=[O[G],S,"private",L[G]]):_[S]=[H[2],H[1]],M[S]=!0),(H[2]==="factory"||H[2]==="type")&&H[1].$scope&&w.forEach(j=>{H[1].$scope.indexOf(j)!==-1&&(_[S]=[H[2],H[1]],M[j]=!0)});w.forEach(S=>{if(!M[S])throw new Error('No provider for "'+S+'". Cannot use provider from the parent!')}),x.unshift(_)}return new OL(x,o)}const p={factory:h,type:u,value:function(x){return x}};function g(x,w){const _=x.__init__||[];return function(){_.forEach(M=>{typeof M=="string"?w.get(M):w.invoke(M)})}}function m(x){const w=x.__exports__;if(w){const _=x.__modules__,M=Object.keys(x).reduce((G,I)=>(I!=="__exports__"&&I!=="__modules__"&&I!=="__init__"&&I!=="__depends__"&&(G[I]=x[I]),G),Object.create(null)),U=(_||[]).concat(M),L=d(U),O=Qv(function(G){return L.get(G)});w.forEach(function(G){i[G]=[O,G,"private",L]});const H=(x.__init__||[]).slice();return H.unshift(function(){L.init()}),x=Object.assign({},x,{__init__:H}),g(x,L)}return Object.keys(x).forEach(function(_){if(_==="__init__"||_==="__depends__")return;const M=x[_];if(M[2]==="private"){i[_]=M;return}const U=M[0],L=M[1];i[_]=[p[U],MQ(U,L),U]}),g(x,o)}function v(x,w){return x.indexOf(w)!==-1||(x=(w.__depends__||[]).reduce(v,x),x.indexOf(w)!==-1)?x:x.concat(w)}function y(x){const w=x.reduce(v,[]).map(m);let _=!1;return function(){_||(_=!0,w.forEach(M=>M()))}}this.get=l,this.invoke=h,this.instantiate=u,this.createChild=d,this.init=y(e)}function MQ(e,t){return e!=="value"&&I8(t)&&(t=Qv(t.slice())),t}var LQ=1e3;function cc(e,t){var r=this;t=t||LQ,e.on(["render.shape","render.connection"],t,function(n,i){var s=n.type,o=i.element,a=i.gfx,l=i.attrs;if(r.canRender(o))return s==="render.shape"?r.drawShape(a,o,l):r.drawConnection(a,o,l)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(n,i){if(r.canRender(i))return n.type==="render.getShapePath"?r.getShapePath(i):r.getConnectionPath(i)})}cc.prototype.canRender=function(e){};cc.prototype.drawShape=function(e,t){};cc.prototype.drawConnection=function(e,t){};cc.prototype.getShapePath=function(e){};cc.prototype.getConnectionPath=function(e){};function ph(e){return e.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function DQ(e){return["M",e.x,e.y]}function zw(e){return["L",e.x,e.y]}function BQ(e,t,r){return["C",e.x,e.y,t.x,t.y,r.x,r.y]}function FQ(e,t){const r=e.length,n=[DQ(e[0])];for(let i=1;i<r;i++){const s=e[i-1],o=e[i],a=e[i+1];if(!a||!t){n.push(zw(o));continue}const l=Math.min(t,k4(o.x-s.x,o.y-s.y),k4(a.x-o.x,a.y-o.y));if(!l){n.push(zw(o));continue}const c=ev(o,s,l),u=ev(o,s,l*.5),h=ev(o,a,l),f=ev(o,a,l*.5);n.push(zw(c)),n.push(BQ(u,f,h))}return n}function ev(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=k4(n,i),o=r/s;return{x:e.x+n*o,y:e.y+i*o}}function k4(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function Xb(e,t,r){Yt(t)&&(r=t,t=null),t||(t={});const n=Mt("path",t);return Yt(r)&&(n.dataset.cornerRadius=String(r)),IL(n,e)}function IL(e,t){const r=parseInt(e.dataset.cornerRadius,10)||0;return Nt(e,{d:ph(FQ(t,r))}),e}function Zb(e){return mr(e,function(t){return!Lr(e,function(r){return r!==t&&ML(t,r)})})}function ML(e,t){if(t){if(e===t)return t;if(e.parent)return ML(e.parent,t)}}function MA(e,t,r){var n=!r||e.indexOf(t)===-1;return n&&e.push(t),n}function mh(e,t,r){r=r||0,Qt(e)||(e=[e]),Ce(e,function(n,i){var s=t(n,i,r);Qt(s)&&s.length&&mh(s,t,r+1)})}function zQ(e,t,r){var n=[],i=[];return mh(e,function(s,o,a){MA(n,s,t);var l=s.children;if(l&&MA(i,l,t))return l}),n}function pg(e,t){return zQ(e,!t)}function UQ(e,t,r){ih(t)&&(t=!0),Mi(t)&&(r=t,t=!0),r=r||{};var n=fm(r.allShapes),i=fm(r.allConnections),s=fm(r.enclosedElements),o=fm(r.enclosedConnections),a=fm(r.topLevel,t&&gp(e,function(u){return u.id}));function l(u){a[u.source.id]&&a[u.target.id]&&(a[u.id]=[u]),n[u.source.id]&&n[u.target.id]&&(o[u.id]=s[u.id]=u),i[u.id]=u}function c(u){if(s[u.id]=u,u.waypoints)o[u.id]=i[u.id]=u;else return n[u.id]=u,Ce(u.incoming,l),Ce(u.outgoing,l),u.children}return mh(e,c),{allShapes:n,allConnections:i,topLevel:a,enclosedConnections:o,enclosedElements:s}}function di(e,t){t=!!t,Qt(e)||(e=[e]);var r,n,i,s;return Ce(e,function(o){var a=o;o.waypoints&&!t&&(a=di(o.waypoints,!0));var l=a.x,c=a.y,u=a.height||0,h=a.width||0;(l<r||r===void 0)&&(r=l),(c<n||n===void 0)&&(n=c),(l+h>i||i===void 0)&&(i=l+h),(c+u>s||s===void 0)&&(s=c+u)}),{x:r,y:n,height:s-n,width:i-r}}function LL(e,t){var r={};return Ce(e,function(n){var i=n;i.waypoints&&(i=di(i)),!Yt(t.y)&&i.x>t.x&&(r[n.id]=n),!Yt(t.x)&&i.y>t.y&&(r[n.id]=n),i.x>t.x&&i.y>t.y&&(Yt(t.width)&&Yt(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y||!Yt(t.width)||!Yt(t.height))&&(r[n.id]=n)}),r}function DL(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function BL(e){return!!(e&&e.isFrame)}function fm(e,t){return Ie({},e||{},t||{})}var $Q=1;function Ou(e,t){cc.call(this,e,$Q),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Ct(Ou,cc);Ou.prototype.canRender=function(){return!0};Ou.prototype.drawShape=function(t,r,n){var i=Mt("rect");return Nt(i,{x:0,y:0,width:r.width||0,height:r.height||0}),BL(r)?Nt(i,Ie({},this.FRAME_STYLE,n||{})):Nt(i,Ie({},this.SHAPE_STYLE,n||{})),rr(t,i),i};Ou.prototype.drawConnection=function(t,r,n){var i=Xb(r.waypoints,Ie({},this.CONNECTION_STYLE,n||{}));return rr(t,i),i};Ou.prototype.getShapePath=function(t){var r=t.x,n=t.y,i=t.width,s=t.height,o=[["M",r,n],["l",i,0],["l",0,s],["l",-i,0],["z"]];return ph(o)};Ou.prototype.getConnectionPath=function(t){var r=t.waypoints,n,i,s=[];for(n=0;i=r[n];n++)i=i.original||i,s.push([n===0?"M":"L",i.x,i.y]);return ph(s)};Ou.$inject=["eventBus","styles"];function HQ(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(r,n,i){var s=this.style(n,i);return Ie(s,{class:r})},this.style=function(r,n){!Qt(r)&&!n&&(n=r,r=[]);var i=Qs(r,function(s,o){return Ie(s,e[o]||{})},{});return n?Ie(i,n):i},this.computeStyle=function(r,n,i){return Qt(n)||(i=n,n=[]),t.style(n||[],Ie({},i,r||{}))}}const WQ={__init__:["defaultRenderer"],defaultRenderer:["type",Ou],styles:["type",HQ]};function Zn(e,t){if(!e||!t)return-1;var r=e.indexOf(t);return r!==-1&&e.splice(r,1),r}function hi(e,t,r){if(!(!e||!t)){typeof r!="number"&&(r=-1);var n=e.indexOf(t);if(n!==-1){if(n===r)return;if(r!==-1)e.splice(n,1);else return}r!==-1?e.splice(r,0,t):e.push(t)}}function M8(e,t){return!e||!t?-1:e.indexOf(t)}function mg(e,t){return!e||!t?-1:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function L8(e,t,r,n){if(typeof n>"u"&&(n=5),!e||!t||!r)return!1;var i=(t.x-e.x)*(r.y-e.y)-(t.y-e.y)*(r.x-e.x),s=mg(e,t);return Math.abs(i/s)<=n}var qQ=2;function Xl(e,t){var r=Array.from(arguments).flat();const n={x:"v",y:"h"};for(const[i,s]of Object.entries(n))if(VQ(i,r))return s;return!1}function VQ(e,t){const r=t[0];return fh(t,function(n){return Math.abs(r[e]-n[e])<=qQ})}function LA(e,t,r){return r=r||0,e.x>t.x-r&&e.y>t.y-r&&e.x<t.x+t.width+r&&e.y<t.y+t.height+r}function N4(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var GQ=/,?([a-z]),?/gi,DA=parseFloat,Wn=Math,zc=Wn.PI,Vo=Wn.min,Go=Wn.max,BA=Wn.pow,su=Wn.abs,KQ=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,XQ=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,eb=Array.isArray||function(e){return e instanceof Array};function D8(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a0(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var r in e)D8(e,r)&&(t[r]=a0(e[r]));return t}function ZQ(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}function YQ(e){function t(){var r=Array.prototype.slice.call(arguments,0),n=r.join("␀"),i=t.cache=t.cache||{},s=t.count=t.count||[];return D8(i,n)?(ZQ(s,n),i[n]):(s.length>=1e3&&delete i[s.shift()],s.push(n),i[n]=e(...arguments),i[n])}return t}function JQ(e){if(!e)return null;var t=Vf(e);if(t.arr)return a0(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];return eb(e)&&eb(e[0])&&(n=a0(e)),n.length||String(e).replace(KQ,function(i,s,o){var a=[],l=s.toLowerCase();for(o.replace(XQ,function(c,u){u&&a.push(+u)}),l=="m"&&a.length>2&&(n.push([s,...a.splice(0,2)]),l="l",s=s=="m"?"l":"L");a.length>=r[l]&&(n.push([s,...a.splice(0,r[l])]),!!r[l]););}),n.toString=Vf.toString,t.arr=a0(n),n}function Vf(e){var t=Vf.ps=Vf.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var r in t)D8(t,r)&&r!=e&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[e]}function A4(e,t,r,n){return arguments.length===1&&(t=e.y,r=e.width,n=e.height,e=e.x),{x:e,y:t,width:r,height:n,x2:e+r,y2:t+n}}function FL(){return this.join(",").replace(GQ,"$1")}function tb(e){var t=a0(e);return t.toString=FL,t}function FA(e,t,r,n,i,s,o,a,l){var c=1-l,u=BA(c,3),h=BA(c,2),f=l*l,d=f*l,p=u*e+h*3*l*r+c*3*l*l*i+d*o,g=u*t+h*3*l*n+c*3*l*l*s+d*a;return{x:rb(p),y:rb(g)}}function zA(e){var t=nee(...e);return A4(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function Uc(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function QQ(e,t){return e=A4(e),t=A4(t),Uc(t,e.x,e.y)||Uc(t,e.x2,e.y)||Uc(t,e.x,e.y2)||Uc(t,e.x2,e.y2)||Uc(e,t.x,t.y)||Uc(e,t.x2,t.y)||Uc(e,t.x,t.y2)||Uc(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function UA(e,t,r,n,i){var s=-3*t+9*r-9*n+3*i,o=e*s+6*t-12*r+6*n;return e*o-3*t+3*r}function $A(e,t,r,n,i,s,o,a,l){l==null&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<u;p++){var g=c*h[p]+c,m=UA(g,e,r,i,o),v=UA(g,t,n,s,a),y=m*m+v*v;d+=f[p]*Wn.sqrt(y)}return c*d}function eee(e,t,r,n,i,s,o,a){if(!(Go(e,r)<Vo(i,o)||Vo(e,r)>Go(i,o)||Go(t,n)<Vo(s,a)||Vo(t,n)>Go(s,a))){var l=(e*n-t*r)*(i-o)-(e-r)*(i*a-s*o),c=(e*n-t*r)*(s-a)-(t-n)*(i*a-s*o),u=(e-r)*(s-a)-(t-n)*(i-o);if(u){var h=rb(l/u),f=rb(c/u),d=+h.toFixed(2),p=+f.toFixed(2);if(!(d<+Vo(e,r).toFixed(2)||d>+Go(e,r).toFixed(2)||d<+Vo(i,o).toFixed(2)||d>+Go(i,o).toFixed(2)||p<+Vo(t,n).toFixed(2)||p>+Go(t,n).toFixed(2)||p<+Vo(s,a).toFixed(2)||p>+Go(s,a).toFixed(2)))return{x:h,y:f}}}}function rb(e){return Math.round(e*1e11)/1e11}function tee(e,t,r){var n=zA(e),i=zA(t);if(!QQ(n,i))return r?0:[];for(var s=$A(...e),o=$A(...t),a=HA(e)?1:~~(s/5)||1,l=HA(t)?1:~~(o/5)||1,c=[],u=[],h={},f=r?0:[],d=0;d<a+1;d++){var p=FA(...e,d/a);c.push({x:p.x,y:p.y,t:d/a})}for(d=0;d<l+1;d++)p=FA(...t,d/l),u.push({x:p.x,y:p.y,t:d/l});for(d=0;d<a;d++)for(var g=0;g<l;g++){var m=c[d],v=c[d+1],y=u[g],x=u[g+1],w=su(v.x-m.x)<.01?"y":"x",_=su(x.x-y.x)<.01?"y":"x",M=eee(m.x,m.y,v.x,v.y,y.x,y.y,x.x,x.y),U;if(M){if(U=M.x.toFixed(9)+"#"+M.y.toFixed(9),h[U])continue;h[U]=!0;var L=m.t+su((M[w]-m[w])/(v[w]-m[w]))*(v.t-m.t),O=y.t+su((M[_]-y[_])/(x[_]-y[_]))*(x.t-y.t);L>=0&&L<=1&&O>=0&&O<=1&&(r?f++:f.push({x:M.x,y:M.y,t1:L,t2:O}))}}return f}function zL(e,t,r){e=qA(e),t=qA(t);for(var n,i,s,o,a,l,c,u,h,f,d=r?0:[],p=0,g=e.length;p<g;p++){var m=e[p];if(m[0]=="M")n=a=m[1],i=l=m[2];else{m[0]=="C"?(h=[n,i,...m.slice(1)],n=h[6],i=h[7]):(h=[n,i,n,i,a,l,a,l],n=a,i=l);for(var v=0,y=t.length;v<y;v++){var x=t[v];if(x[0]=="M")s=c=x[1],o=u=x[2];else{x[0]=="C"?(f=[s,o,...x.slice(1)],s=f[6],o=f[7]):(f=[s,o,s,o,c,u,c,u],s=c,o=u);var w=tee(h,f,r);if(r)d+=w;else{for(var _=0,M=w.length;_<M;_++)w[_].segment1=p,w[_].segment2=v,w[_].bez1=h,w[_].bez2=f;d=d.concat(w)}}}}}return d}function ree(e){var t=Vf(e);if(t.abs)return tb(t.abs);if((!eb(e)||!eb(e&&e[0]))&&(e=JQ(e)),!e||!e.length)return[["M",0,0]];var r=[],n=0,i=0,s=0,o=0,a=0,l;e[0][0]=="M"&&(n=+e[0][1],i=+e[0][2],s=n,o=i,a++,r[0]=["M",n,i]);for(var c,u,h=a,f=e.length;h<f;h++){if(r.push(c=[]),u=e[h],l=u[0],l!=l.toUpperCase())switch(c[0]=l.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+n,c[7]=+u[7]+i;break;case"V":c[1]=+u[1]+i;break;case"H":c[1]=+u[1]+n;break;case"M":s=+u[1]+n,o=+u[2]+i;default:for(var d=1,p=u.length;d<p;d++)c[d]=+u[d]+(d%2?n:i)}else for(var g=0,m=u.length;g<m;g++)c[g]=u[g];switch(l=l.toUpperCase(),c[0]){case"Z":n=+s,i=+o;break;case"H":n=c[1];break;case"V":i=c[1];break;case"M":s=c[c.length-2],o=c[c.length-1];default:n=c[c.length-2],i=c[c.length-1]}}return r.toString=FL,t.abs=tb(r),r}function HA(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function tv(e,t,r,n){return[e,t,r,n,r,n]}function WA(e,t,r,n,i,s){var o=.3333333333333333,a=2/3;return[o*e+a*r,o*t+a*n,o*i+a*r,o*s+a*n,i,s]}function UL(e,t,r,n,i,s,o,a,l,c){var u=zc*120/180,h=zc/180*(+i||0),f=[],d,p=YQ(function($,N,T){var V=$*Wn.cos(T)-N*Wn.sin(T),J=$*Wn.sin(T)+N*Wn.cos(T);return{x:V,y:J}});if(c)U=c[0],L=c[1],_=c[2],M=c[3];else{d=p(e,t,-h),e=d.x,t=d.y,d=p(a,l,-h),a=d.x,l=d.y;var g=(e-a)/2,m=(t-l)/2,v=g*g/(r*r)+m*m/(n*n);v>1&&(v=Wn.sqrt(v),r=v*r,n=v*n);var y=r*r,x=n*n,w=(s==o?-1:1)*Wn.sqrt(su((y*x-y*m*m-x*g*g)/(y*m*m+x*g*g))),_=w*r*m/n+(e+a)/2,M=w*-n*g/r+(t+l)/2,U=Wn.asin(((t-M)/n).toFixed(9)),L=Wn.asin(((l-M)/n).toFixed(9));U=e<_?zc-U:U,L=a<_?zc-L:L,U<0&&(U=zc*2+U),L<0&&(L=zc*2+L),o&&U>L&&(U=U-zc*2),!o&&L>U&&(L=L-zc*2)}var O=L-U;if(su(O)>u){var H=L,G=a,I=l;L=U+u*(o&&L>U?1:-1),a=_+r*Wn.cos(L),l=M+n*Wn.sin(L),f=UL(a,l,r,n,i,0,o,G,I,[L,H,_,M])}O=L-U;var R=Wn.cos(U),S=Wn.sin(U),j=Wn.cos(L),k=Wn.sin(L),E=Wn.tan(O/4),A=4/3*r*E,C=4/3*n*E,D=[e,t],z=[e+A*S,t-C*R],P=[a+A*k,l-C*j],K=[a,l];if(z[0]=2*D[0]-z[0],z[1]=2*D[1]-z[1],c)return[z,P,K].concat(f);f=[z,P,K].concat(f).join().split(",");for(var Z=[],te=0,q=f.length;te<q;te++)Z[te]=te%2?p(f[te-1],f[te],h).y:p(f[te],f[te+1],h).x;return Z}function nee(e,t,r,n,i,s,o,a){for(var l=[],c=[[],[]],u,h,f,d,p,g,m,v,y=0;y<2;++y){if(y==0?(h=6*e-12*r+6*i,u=-3*e+9*r-9*i+3*o,f=3*r-3*e):(h=6*t-12*n+6*s,u=-3*t+9*n-9*s+3*a,f=3*n-3*t),su(u)<1e-12){if(su(h)<1e-12)continue;d=-f/h,0<d&&d<1&&l.push(d);continue}m=h*h-4*f*u,v=Wn.sqrt(m),!(m<0)&&(p=(-h+v)/(2*u),0<p&&p<1&&l.push(p),g=(-h-v)/(2*u),0<g&&g<1&&l.push(g))}for(var x=l.length,w=x,_;x--;)d=l[x],_=1-d,c[0][x]=_*_*_*e+3*_*_*d*r+3*_*d*d*i+d*d*d*o,c[1][x]=_*_*_*t+3*_*_*d*n+3*_*d*d*s+d*d*d*a;return c[0][w]=e,c[1][w]=t,c[0][w+1]=o,c[1][w+1]=a,c[0].length=c[1].length=w+2,{x0:Vo(...c[0]),y0:Vo(...c[1]),x1:Go(...c[0]),y1:Go(...c[1])}}function qA(e){var t=Vf(e);if(t.curve)return tb(t.curve);for(var r=ree(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(d,p,g){var m,v;if(!d)return["C",p.x,p.y,p.x,p.y,p.x,p.y];switch(!(d[0]in{T:1,Q:1})&&(p.qx=p.qy=null),d[0]){case"M":p.X=d[1],p.Y=d[2];break;case"A":d=["C",...UL(p.x,p.y,...d.slice(1))];break;case"S":g=="C"||g=="S"?(m=p.x*2-p.bx,v=p.y*2-p.by):(m=p.x,v=p.y),d=["C",m,v,...d.slice(1)];break;case"T":g=="Q"||g=="T"?(p.qx=p.x*2-p.qx,p.qy=p.y*2-p.qy):(p.qx=p.x,p.qy=p.y),d=["C",...WA(p.x,p.y,p.qx,p.qy,d[1],d[2])];break;case"Q":p.qx=d[1],p.qy=d[2],d=["C",...WA(p.x,p.y,d[1],d[2],d[3],d[4])];break;case"L":d=["C",...tv(p.x,p.y,d[1],d[2])];break;case"H":d=["C",...tv(p.x,p.y,d[1],p.y)];break;case"V":d=["C",...tv(p.x,p.y,p.x,d[1])];break;case"Z":d=["C",...tv(p.x,p.y,p.X,p.Y)];break}return d},s=function(d,p){if(d[p].length>7){d[p].shift();for(var g=d[p];g.length;)o[p]="A",d.splice(p++,0,["C",...g.splice(0,6)]);d.splice(p,1),u=r.length}},o=[],a="",l="",c=0,u=r.length;c<u;c++){r[c]&&(a=r[c][0]),a!="C"&&(o[c]=a,c&&(l=o[c-1])),r[c]=i(r[c],n,l),o[c]!="A"&&a=="C"&&(o[c]="C"),s(r,c);var h=r[c],f=h.length;n.x=h[f-2],n.y=h[f-1],n.bx=DA(h[f-4])||n.x,n.by=DA(h[f-3])||n.y}return t.curve=tb(r),r}function Qr(e){return Mi(e)&&Cs(e,"waypoints")}function Ir(e){return Mi(e)&&Cs(e,"labelTarget")}function $L(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function ec(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function Ht(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Yb(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function iee(e){return ec({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function see(e){for(var t=e.waypoints,r=t.reduce(function(c,u,h){var f=t[h-1];if(f){var d=c[c.length-1],p=d&&d.endLength||0,g=lee(f,u);c.push({start:f,end:u,startLength:p,endLength:p+g,length:g})}return c},[]),n=r.reduce(function(c,u){return c+u.length},0),i=n/2,s=0,o=r[s];o.endLength<i;)o=r[++s];var a=(i-o.startLength)/o.length,l={x:o.start.x+(o.end.x-o.start.x)*a,y:o.start.y+(o.end.y-o.start.y)*a};return l}function Jt(e){return Qr(e)?see(e):iee(e)}function os(e,t,r){r=r||0,Mi(r)||(r={x:r,y:r});var n=Ht(e),i=Ht(t),s=n.bottom+r.y<=i.top,o=n.left-r.x>=i.right,a=n.top-r.y>=i.bottom,l=n.right+r.x<=i.left,c=s?"top":a?"bottom":null,u=l?"left":o?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function C4(e,t,r){var n=aee(e,t);return n.length===1||n.length===2&&mg(n[0],n[1])<1?ec(n[0]):n.length>1?(n=ul(n,function(i){var s=Math.floor(i.t2*100)||1;return s=100-s,s=(s<10?"0":"")+s,i.segment2+"#"+s}),ec(n[r?0:n.length-1])):null}function aee(e,t){return zL(e,t)}function oee(e){e=e.slice();for(var t=0,r,n,i;e[t];)r=e[t],n=e[t-1],i=e[t+1],mg(r,i)===0||L8(n,i,r)?e.splice(t,1):t++;return e}function lee(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ey(e,t){return Math.round(e*t)/t}function VA(e){return Yt(e)?e+"px":e}function cee(e){for(;e.parent;)e=e.parent;return e}function uee(e){e=Ie({},{width:"100%",height:"100%"},e);const t=e.container||document.body,r=document.createElement("div");return r.setAttribute("class","djs-container djs-parent"),Ji(r,{position:"relative",overflow:"hidden",width:VA(e.width),height:VA(e.height)}),t.appendChild(r),r}function HL(e,t,r){const n=Mt("g");Pr(n).add(t);const i=r!==void 0?r:e.childNodes.length-1;return e.insertBefore(n,e.childNodes[i]||null),n}const dee="base",WL=0,hee=1,fee={shape:["x","y","width","height"],connection:["waypoints"]};function er(e,t,r,n){this._eventBus=t,this._elementRegistry=n,this._graphicsFactory=r,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(e||{})}er.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];er.prototype._init=function(e){const t=this._eventBus,r=this._container=uee(e),n=this._svg=Mt("svg");Nt(n,{width:"100%",height:"100%"}),Qi(n,"tabindex",0),e.autoFocus&&t.on("element.hover",()=>{this.restoreFocus()}),t.on("element.mousedown",500,s=>{this.focus()}),n.addEventListener("focusin",()=>{this._setFocused(!0)}),n.addEventListener("focusout",()=>{this._setFocused(!1)}),rr(r,n);const i=this._viewport=HL(n,"viewport");e.deferUpdate&&(this._viewboxChanged=SL(Rs(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:n,viewport:i})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)};er.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};er.prototype._setFocused=function(e){e!=this._focused&&(this._focused=e,this._eventBus.fire("canvas.focus.changed",{focused:e}))};er.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const r=DL(t);r==="root"?this.removeRootElement(t):this._removeElement(t,r)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};er.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)};er.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()};er.prototype.isFocused=function(){return this._focused};er.prototype.getDefaultLayer=function(){return this.getLayer(dee,WL)};er.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let r=this._layers[e];if(r||(r=this._layers[e]=this._createLayer(e,t)),typeof t<"u"&&r.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return r.group};er.prototype._getChildIndex=function(e){return Qs(this._layers,function(t,r){return r.visible&&e>=r.index&&t++,t},0)};er.prototype._createLayer=function(e,t){typeof t>"u"&&(t=hee);const r=this._getChildIndex(t);return{group:HL(this._viewport,"layer-"+e,r),index:t,visible:!0}};er.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=this._viewport,n=t.group,i=t.index;if(t.visible)return n;const s=this._getChildIndex(i);return r.insertBefore(n,r.childNodes[s]||null),t.visible=!0,n};er.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=t.group;return t.visible&&(ui(r),t.visible=!1),r};er.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],ui(t.group))};er.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null};er.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(cee(e))||{}).rootElement:void 0};er.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})};er.prototype._findPlaneForRoot=function(e){return Lr(this._planes,function(t){return t.rootElement===e})};er.prototype.getContainer=function(){return this._container};er.prototype._updateMarker=function(e,t,r){let n;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,n=this._elementRegistry._elements[e.id],n&&(Ce([n.gfx,n.secondaryGfx],function(i){i&&(r?(e.markers.add(t),Pr(i).add(t)):(e.markers.delete(t),Pr(i).remove(t)))}),this._eventBus.fire("element.marker.update",{element:e,gfx:n.gfx,marker:t,add:!!r}))};er.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)};er.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)};er.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),e.markers?e.markers.has(t):!1};er.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)};er.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))};er.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const r=e.layer="root-"+t;this._ensureValid("root",e);const n=this.getLayer(r,WL);return this.hideLayer(r),this._addRoot(e,n),this._planes.push({rootElement:e,layer:n}),e};er.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(r){return r.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e};er.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e};er.prototype._removeRoot=function(e){const t=this._elementRegistry,r=this._eventBus;r.fire("root.remove",{element:e}),r.fire("root.removed",{element:e}),t.remove(e)};er.prototype._addRoot=function(e,t){const r=this._elementRegistry,n=this._eventBus;n.fire("root.add",{element:e}),r.add(e,t),n.fire("root.added",{element:e,gfx:t})};er.prototype._setRoot=function(e,t){const r=this._rootElement;r&&(this._elementRegistry.updateGraphics(r,null,!0),this.hideLayer(r.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})};er.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const r=fee[e];if(!fh(r,function(i){return typeof t[i]<"u"}))throw new Error("must supply { "+r.join(", ")+" } with "+e)};er.prototype._setParent=function(e,t,r){hi(t.children,e,r),e.parent=t};er.prototype._addElement=function(e,t,r,n){r=r||this.getRootElement();const i=this._eventBus,s=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:r}),this._setParent(t,r,n);const o=s.create(e,t,n);return this._elementRegistry.add(t,o),s.update(e,t,o),i.fire(e+".added",{element:t,gfx:o}),t};er.prototype.addShape=function(e,t,r){return this._addElement("shape",e,t,r)};er.prototype.addConnection=function(e,t,r){return this._addElement("connection",e,t,r)};er.prototype._removeElement=function(e,t){const r=this._elementRegistry,n=this._graphicsFactory,i=this._eventBus;if(e=r.get(e.id||e),!!e)return i.fire(t+".remove",{element:e}),n.remove(e),Zn(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),r.remove(e),e};er.prototype.removeShape=function(e){return this._removeElement(e,"shape")};er.prototype.removeConnection=function(e){return this._removeElement(e,"connection")};er.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)};er.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()};er.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};er.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const t=this._viewport,r=this.getSize();let n,i,s,o,a,l,c;if(e)this._changeViewbox(function(){a=Math.min(r.width/e.width,r.height/e.height);const u=this._svg.createSVGMatrix().scale(a).translate(-e.x,-e.y);V0(t,u)});else return s=this._rootElement?this.getActiveLayer():null,n=s&&s.getBBox()||{},o=V0(t),i=o?o.matrix:SQ(),a=ey(i.a,1e3),l=ey(-i.e||0,1e3),c=ey(-i.f||0,1e3),e=this._cachedViewbox={x:l?l/a:0,y:c?c/a:0,width:r.width/a,height:r.height/a,scale:a,inner:{width:n.width||0,height:n.height||0,x:n.x||0,y:n.y||0},outer:r},e;return e};er.prototype.scroll=function(e){const t=this._viewport;let r=t.getCTM();return e&&this._changeViewbox(function(){e=Ie({dx:0,dy:0},e||{}),r=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(r),qL(t,r)}),{x:r.e,y:r.f}};er.prototype.scrollToElement=function(e,t){let r=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const n=this.findRoot(e);if(n!==this.getRootElement()&&this.setRootElement(n),n===e)return;t||(t={}),typeof t=="number"&&(r=t),t={top:t.top||r,right:t.right||r,bottom:t.bottom||r,left:t.left||r};const i=di(e),s=Ht(i),o=this.viewbox(),a=this.zoom();let l,c;o.y+=t.top/a,o.x+=t.left/a,o.width-=(t.right+t.left)/a,o.height-=(t.bottom+t.top)/a;const u=Ht(o);if(!(i.width<o.width&&i.height<o.height))l=i.x-o.x,c=i.y-o.y;else{const f=Math.max(0,s.right-u.right),d=Math.min(0,s.left-u.left),p=Math.max(0,s.bottom-u.bottom),g=Math.min(0,s.top-u.top);l=f||d,c=p||g}this.scroll({dx:-l*a,dy:-c*a})};er.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let r,n;return this._changeViewbox(function(){typeof t!="object"&&(r=this.viewbox().outer,t={x:r.width/2,y:r.height/2}),n=this._setZoom(e,t)}),ey(n.a,1e3)};function qL(e,t){const r="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",r)}er.prototype._fitViewport=function(e){const t=this.viewbox(),r=t.outer,n=t.inner;let i,s;return n.x>=0&&n.y>=0&&n.x+n.width<=r.width&&n.y+n.height<=r.height&&!e?s={x:0,y:0,width:Math.max(n.width+n.x,r.width),height:Math.max(n.height+n.y,r.height)}:(i=Math.min(1,r.width/n.width,r.height/n.height),s={x:n.x+(e?n.width/2-r.width/i/2:0),y:n.y+(e?n.height/2-r.height/i/2:0),width:r.width/i,height:r.height/i}),this.viewbox(s),this.viewbox(!1).scale};er.prototype._setZoom=function(e,t){const r=this._svg,n=this._viewport,i=r.createSVGMatrix(),s=r.createSVGPoint();let o,a,l,c,u;l=n.getCTM();const h=l.a;return t?(o=Ie(s,t),a=o.matrixTransform(l.inverse()),c=i.translate(a.x,a.y).scale(1/h*e).translate(-a.x,-a.y),u=l.multiply(c)):u=i.scale(e),qL(this._viewport,u),u};er.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};er.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let r;e.waypoints?r=this.getGraphics(e).getBBox():r=e;const n=r.x*t.scale-t.x*t.scale,i=r.y*t.scale-t.y*t.scale,s=r.width*t.scale,o=r.height*t.scale;return{x:n,y:i,width:s,height:o}};er.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Gf="data-element-id";function Ea(e){this._elements={},this._eventBus=e}Ea.$inject=["eventBus"];Ea.prototype.add=function(e,t,r){var n=e.id;this._validateId(n),Nt(t,Gf,n),r&&Nt(r,Gf,n),this._elements[n]={element:e,gfx:t,secondaryGfx:r}};Ea.prototype.remove=function(e){var t=this._elements,r=e.id||e,n=r&&t[r];n&&(Nt(n.gfx,Gf,""),n.secondaryGfx&&Nt(n.secondaryGfx,Gf,""),delete t[r])};Ea.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var r=this.getGraphics(e),n=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,r,n)};Ea.prototype.updateGraphics=function(e,t,r){var n=e.id||e,i=this._elements[n];return r?i.secondaryGfx=t:i.gfx=t,t&&Nt(t,Gf,n),t};Ea.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&Nt(e,Gf);var r=this._elements[t];return r&&r.element};Ea.prototype.filter=function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(r)}),t};Ea.prototype.find=function(e){for(var t=this._elements,r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],s=t[i],o=s.element,a=s.gfx;if(e(o,a))return o}};Ea.prototype.getAll=function(){return this.filter(function(e){return e})};Ea.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(r){var n=t[r],i=n.element,s=n.gfx;return e(i,s)})};Ea.prototype.getGraphics=function(e,t){var r=e.id||e,n=this._elements[r];return n&&(t?n.secondaryGfx:n.gfx)};Ea.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function pee(e,t,r,n){var i=r.inverse;return Object.defineProperty(e,"remove",{value:function(s){var o=this.indexOf(s);return o!==-1&&(this.splice(o,1),t.unset(s,i,n)),s}}),Object.defineProperty(e,"contains",{value:function(s){return this.indexOf(s)!==-1}}),Object.defineProperty(e,"add",{value:function(s,o){var a=this.indexOf(s);if(typeof o>"u"){if(a!==-1)return;o=this.length}a!==-1&&this.splice(a,1),this.splice(o,0,s),a===-1&&t.set(s,i,n)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function mee(e){return e.__refs_collection===!0}function gee(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function VL(e,t,r){var n=pee(r[t.name]||[],e,t,r);Object.defineProperty(r,t.name,{enumerable:t.enumerable,value:n}),n.length&&n.forEach(function(i){e.set(i,t.inverse,r)})}function vee(e,t,r){var n=t.inverse,i=r[t.name];Object.defineProperty(r,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return i},set:function(s){if(s!==i){var o=i;i=null,o&&e.unset(o,n,r),i=s,e.set(i,n,r)}}})}function Xa(e,t){if(!(this instanceof Xa))return new Xa(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Xa.prototype.bind=function(e,t){if(typeof t=="string"){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?VL(this,t,e):vee(this,t,e)};Xa.prototype.ensureRefsCollection=function(e,t){var r=e[t.name];return mee(r)||VL(this,t,e),r};Xa.prototype.ensureBound=function(e,t){gee(e,t)||this.bind(e,t)};Xa.prototype.unset=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(r):e[t.name]=void 0)};Xa.prototype.set=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(r):e[t.name]=r)};var B8=new Xa({name:"children",enumerable:!0,collection:!0},{name:"parent"}),GL=new Xa({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),GA=new Xa({name:"attachers",collection:!0},{name:"host"}),KL=new Xa({name:"outgoing",collection:!0},{name:"source"}),XL=new Xa({name:"incoming",collection:!0},{name:"target"});function yp(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,r=this.labels;!e&&t?r.remove(t):r.add(e,0)}}),B8.bind(this,"parent"),GL.bind(this,"labels"),KL.bind(this,"outgoing"),XL.bind(this,"incoming")}function gg(){yp.call(this),B8.bind(this,"children"),GA.bind(this,"host"),GA.bind(this,"attachers")}Ct(gg,yp);function ZL(){yp.call(this),B8.bind(this,"children")}Ct(ZL,gg);function YL(){gg.call(this),GL.bind(this,"labelTarget")}Ct(YL,gg);function JL(){yp.call(this),KL.bind(this,"source"),XL.bind(this,"target")}Ct(JL,yp);var yee={connection:JL,shape:gg,label:YL,root:ZL};function bee(e,t){var r=yee[e];if(!r)throw new Error("unknown type: <"+e+">");return Ie(new r,t)}function xee(e){return e instanceof yp}function uc(){this._uid=12}uc.prototype.createRoot=function(e){return this.create("root",e)};uc.prototype.createLabel=function(e){return this.create("label",e)};uc.prototype.createShape=function(e){return this.create("shape",e)};uc.prototype.createConnection=function(e){return this.create("connection",e)};uc.prototype.create=function(e,t){return t=Ie({},t||{}),t.id||(t.id=e+"_"+this._uid++),bee(e,t)};var nb="__fn",QL=1e3,wee=Array.prototype.slice;function ra(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}ra.prototype.on=function(e,t,r,n){if(e=Qt(e)?e:[e],yi(t)&&(n=r,r=t,t=QL),!Yt(t))throw new Error("priority must be a number");var i=r;n&&(i=Rs(r,n),i[nb]=r[nb]||r);var s=this;e.forEach(function(o){s._addListener(o,{priority:t,callback:i,next:null})})};ra.prototype.once=function(e,t,r,n){var i=this;if(yi(t)&&(n=r,r=t,t=QL),!Yt(t))throw new Error("priority must be a number");function s(){s.__isTomb=!0;var o=r.apply(n,arguments);return i.off(e,s),o}s[nb]=r,this.on(e,t,s)};ra.prototype.off=function(e,t){e=Qt(e)?e:[e];var r=this;e.forEach(function(n){r._removeListener(n,t)})};ra.prototype.createEvent=function(e){var t=new vg;return t.init(e),t};ra.prototype.fire=function(e,t){var r,n,i,s;if(s=wee.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(n=this._listeners[e],!!n){t instanceof vg?r=t:r=this.createEvent(t),s[0]=r;var o=r.type;e!==o&&(r.type=e);try{i=this._invokeListeners(r,s,n)}finally{e!==o&&(r.type=o)}return i===void 0&&r.defaultPrevented&&(i=!1),i}};ra.prototype.handleError=function(e){return this.fire("error",{error:e})===!1};ra.prototype._destroy=function(){this._listeners={}};ra.prototype._invokeListeners=function(e,t,r){for(var n;r&&!e.cancelBubble;)n=this._invokeListener(e,t,r),r=r.next;return n};ra.prototype._invokeListener=function(e,t,r){var n;if(r.callback.__isTomb)return n;try{n=_ee(r.callback,t),n!==void 0&&(e.returnValue=n,e.stopPropagation()),n===!1&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return n};ra.prototype._addListener=function(e,t){var r=this._getListeners(e),n;if(!r){this._setListeners(e,t);return}for(;r;){if(r.priority<t.priority){t.next=r,n?n.next=t:this._setListeners(e,t);return}n=r,r=r.next}n.next=t};ra.prototype._getListeners=function(e){return this._listeners[e]};ra.prototype._setListeners=function(e,t){this._listeners[e]=t};ra.prototype._removeListener=function(e,t){var r=this._getListeners(e),n,i,s;if(!t){this._setListeners(e,null);return}for(;r;)n=r.next,s=r.callback,(s===t||s[nb]===t)&&(i?i.next=n:this._setListeners(e,n)),i=r,r=n};function vg(){}vg.prototype.stopPropagation=function(){this.cancelBubble=!0};vg.prototype.preventDefault=function(){this.defaultPrevented=!0};vg.prototype.init=function(e){Ie(this,e||{})};function _ee(e,t){return e.apply(null,t)}function Xd(e){return e.childNodes[0]}function See(e){return e.parentNode.childNodes[1]}function ty(e,t,r,n,i){var s=s0();s.setTranslate(t,r);var o=s0();o.setRotate(n||0,0,0);var a=s0();a.setScale(1,1),V0(e,[s,o,a])}function $i(e,t,r){var n=s0();n.setTranslate(t,r),V0(e,n)}function eD(e,t){var r=s0();r.setRotate(t,0,0),V0(e,r)}function ka(e,t){this._eventBus=e,this._elementRegistry=t}ka.$inject=["eventBus","elementRegistry"];ka.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),r;return e.parent?(r=See(t),r||(r=Mt("g"),Pr(r).add("djs-children"),rr(t.parentNode,r))):r=t,r};ka.prototype._clear=function(e){var t=Xd(e);return Gb(t),t};ka.prototype._createContainer=function(e,t,r,n){var i=Mt("g");Pr(i).add("djs-group"),typeof r<"u"?tD(i,t,t.childNodes[r]):rr(t,i);var s=Mt("g");Pr(s).add("djs-element"),Pr(s).add("djs-"+e),n&&Pr(s).add("djs-frame"),rr(i,s);var o=Mt("g");return Pr(o).add("djs-visual"),rr(s,o),s};ka.prototype.create=function(e,t,r){var n=this._getChildrenContainer(t.parent);return this._createContainer(e,n,r,BL(t))};ka.prototype.updateContainments=function(e){var t=this,r=this._elementRegistry,n;n=Qs(e,function(i,s){return s.parent&&(i[s.parent.id]=s.parent),i},{}),Ce(n,function(i){var s=i.children;if(s){var o=t._getChildrenContainer(i);Ce(s.slice().reverse(),function(a){var l=r.getGraphics(a);tD(l.parentNode,o)})}})};ka.prototype.drawShape=function(e,t,r={}){var n=this._eventBus;return n.fire("render.shape",{gfx:e,element:t,attrs:r})};ka.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)};ka.prototype.drawConnection=function(e,t,r={}){var n=this._eventBus;return n.fire("render.connection",{gfx:e,element:t,attrs:r})};ka.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)};ka.prototype.update=function(e,t,r){if(t.parent){var n=this._clear(r);if(e==="shape")this.drawShape(n,t),$i(r,t.x,t.y);else if(e==="connection")this.drawConnection(n,t);else throw new Error("unknown type: "+e);t.hidden?Nt(r,"display","none"):Nt(r,"display","block")}};ka.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);ui(t.parentNode)};function tD(e,t,r){var n=r||t.firstChild;e!==n&&t.insertBefore(e,n)}const Eee={__depends__:[WQ],__init__:["canvas"],canvas:["type",er],elementRegistry:["type",Ea],elementFactory:["type",uc],eventBus:["type",ra],graphicsFactory:["type",ka]};function kee(e){var t=new OL(e);return t.init(),t}function Nee(e){e=e||{};var t={config:["value",e]},r=[t,Eee].concat(e.modules||[]);return kee(r)}function Iu(e,t){this._injector=t||Nee(e),this.get("eventBus").fire("diagram.init")}Iu.prototype.get=function(e,t){return this._injector.get(e,t)};Iu.prototype.invoke=function(e,t,r){return this._injector.invoke(e,t,r)};Iu.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};Iu.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function F8(){}F8.prototype.get=function(e){return this.$model.properties.get(this,e)};F8.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function rD(e,t){this.model=e,this.properties=t}rD.prototype.createType=function(e){var t=this.model,r=this.properties,n=Object.create(F8.prototype);Ce(e.properties,function(o){!o.isMany&&o.default!==void 0&&(n[o.name]=o.default)}),r.defineModel(n,t),r.defineDescriptor(n,e);var i=e.ns.name;function s(o){r.define(this,"$type",{value:i,enumerable:!0}),r.define(this,"$attrs",{value:{}}),r.define(this,"$parent",{writable:!0}),Ce(o,Rs(function(a,l){this.set(l,a)},this))}return s.prototype=n,s.hasType=n.$instanceOf=this.model.hasType,r.defineModel(s,t),r.defineDescriptor(s,e),s};var Aee={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},nD={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function z8(e,t){var r=nD[e];return r?r(t):t}function j4(e){return!!Aee[e]}function iD(e){return!!nD[e]}function es(e,t){var r=e.split(/:/),n,i;if(r.length===1)n=e,i=t;else if(r.length===2)n=r[1],i=r[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(i?i+":":"")+n,{name:e,prefix:i,localName:n}}function Na(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}Na.prototype.build=function(){return No(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};Na.prototype.addProperty=function(e,t,r){typeof t=="boolean"&&(r=t,t=void 0),this.addNamedProperty(e,r!==!1);var n=this.properties;t!==void 0?n.splice(t,0,e):n.push(e)};Na.prototype.replaceProperty=function(e,t,r){var n=e.ns,i=this.properties,s=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var a=i.indexOf(e);if(a===-1)throw new Error("property <"+n.name+"> not found in property list");i.splice(a,1),this.addProperty(t,r?void 0:a,o),s[n.name]=s[n.localName]=t};Na.prototype.redefineProperty=function(e,t,r){var n=e.ns.prefix,i=t.split("#"),s=es(i[0],n),o=es(i[1],s.prefix).name,a=this.propertiesByName[o];if(a)this.replaceProperty(a,e,r);else throw new Error("refined property <"+o+"> not found");delete e.redefines};Na.prototype.addNamedProperty=function(e,t){var r=e.ns,n=this.propertiesByName;t&&(this.assertNotDefined(e,r.name),this.assertNotDefined(e,r.localName)),n[r.name]=n[r.localName]=e};Na.prototype.removeNamedProperty=function(e){var t=e.ns,r=this.propertiesByName;delete r[t.name],delete r[t.localName]};Na.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e};Na.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e};Na.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)};Na.prototype.assertNotDefined=function(e,t){var r=e.name,n=this.propertiesByName[r];if(n)throw new Error("property <"+r+"> already defined; override of <"+n.definedBy.ns.name+"#"+n.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")};Na.prototype.hasProperty=function(e){return this.propertiesByName[e]};Na.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var r=this.allTypesByName,n=this.allTypes,i=e.name;i in r||(Ce(e.properties,Rs(function(s){s=Ie({},s,{name:s.ns.localName,inherited:t}),Object.defineProperty(s,"definedBy",{value:e});var o=s.replaces,a=s.redefines;o||a?this.redefineProperty(s,o||a,o):(s.isBody&&this.setBodyProperty(s),s.isId&&this.setIdProperty(s),this.addProperty(s))},this)),n.push(e),r[i]=e)};function Mu(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Ce(e,Rs(this.registerPackage,this))}Mu.prototype.getPackage=function(e){return this.packageMap[e]};Mu.prototype.getPackages=function(){return this.packages};Mu.prototype.registerPackage=function(e){e=Ie({},e);var t=this.packageMap;KA(t,e,"prefix"),KA(t,e,"uri"),Ce(e.types,Rs(function(r){this.registerType(r,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)};Mu.prototype.registerType=function(e,t){e=Ie({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Ie(e.meta||{})});var r=es(e.name,t.prefix),n=r.name,i={};Ce(e.properties,Rs(function(s){var o=es(s.name,r.prefix),a=o.name;j4(s.type)||(s.type=es(s.type,o.prefix).name),Ie(s,{ns:o,name:a}),i[a]=s},this)),Ie(e,{ns:r,name:n,propertiesByName:i}),Ce(e.extends,Rs(function(s){var o=es(s,r.prefix),a=this.typeMap[o.name];a.traits=a.traits||[],a.traits.push(n)},this)),this.definePackage(e,t),this.typeMap[n]=e};Mu.prototype.mapTypes=function(e,t,r){var n=j4(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function s(l,c){var u=es(l,j4(l)?"":e.prefix);i.mapTypes(u,t,c)}function o(l){return s(l,!0)}function a(l){return s(l,!1)}if(!n)throw new Error("unknown type <"+e.name+">");Ce(n.superClass,r?o:a),t(n,!r),Ce(n.traits,o)};Mu.prototype.getEffectiveDescriptor=function(e){var t=es(e),r=new Na(t);this.mapTypes(t,function(i,s){r.addTrait(i,s)});var n=r.build();return this.definePackage(n,n.allTypes[n.allTypes.length-1].$pkg),n};Mu.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function KA(e,t,r){var n=t[r];if(n in e)throw new Error("package with "+r+" <"+n+"> already defined")}function gh(e){this.model=e}gh.prototype.set=function(e,t,r){if(!Js(t)||!t.length)throw new TypeError("property name must be a non-empty string");var n=this.getProperty(e,t),i=n&&n.name;Cee(r)?n?delete e[i]:delete e.$attrs[T4(t)]:n?i in e?e[i]=r:sD(e,n,r):e.$attrs[T4(t)]=r};gh.prototype.get=function(e,t){var r=this.getProperty(e,t);if(!r)return e.$attrs[T4(t)];var n=r.name;return!e[n]&&r.isMany&&sD(e,r,[]),e[n]};gh.prototype.define=function(e,t,r){if(!r.writable){var n=r.value;r=Ie({},r,{get:function(){return n}}),delete r.value}Object.defineProperty(e,t,r)};gh.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})};gh.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};gh.prototype.getProperty=function(e,t){var r=this.model,n=r.getPropertyDescriptor(e,t);if(n)return n;if(t.includes(":"))return null;const i=r.config.strict;if(typeof i<"u"){const s=new TypeError(`unknown property <${t}> on <${e.$type}>`);if(i)throw s;typeof console<"u"&&console.warn(s)}return null};function Cee(e){return typeof e>"u"}function sD(e,t,r){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:r,configurable:!0})}function T4(e){return e.replace(/^:/,"")}function Za(e,t={}){this.properties=new gh(this),this.factory=new rD(this,this.properties),this.registry=new Mu(e,this.properties),this.typeCache={},this.config=t}Za.prototype.create=function(e,t){var r=this.getType(e);if(!r)throw new Error("unknown type <"+e+">");return new r(t)};Za.prototype.getType=function(e){var t=this.typeCache,r=Js(e)?e:e.ns.name,n=t[r];return n||(e=this.registry.getEffectiveDescriptor(r),n=t[r]=this.factory.createType(e)),n};Za.prototype.createAny=function(e,t,r){var n=es(e),i={$type:e,$instanceOf:function(o){return o===this.$type},get:function(o){return this[o]},set:function(o,a){eQ(this,[o],a)}},s={name:e,isGeneric:!0,ns:{prefix:n.prefix,localName:n.localName,uri:t}};return this.properties.defineDescriptor(i,s),this.properties.defineModel(i,this),this.properties.define(i,"get",{enumerable:!1,writable:!0}),this.properties.define(i,"set",{enumerable:!1,writable:!0}),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),Ce(r,function(o,a){Mi(o)&&o.value!==void 0?i[o.name]=o.value:i[a]=o}),i};Za.prototype.getPackage=function(e){return this.registry.getPackage(e)};Za.prototype.getPackages=function(){return this.registry.getPackages()};Za.prototype.getElementDescriptor=function(e){return e.$descriptor};Za.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var r=e.$model.getElementDescriptor(e);return t in r.allTypesByName};Za.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]};Za.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var XA=String.fromCharCode,jee=Object.prototype.hasOwnProperty,Tee=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,o0={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(o0).forEach(function(e){o0[e.toUpperCase()]=o0[e]});function Ree(e,t,r,n){return n?jee.call(o0,n)?o0[n]:"&"+n+";":XA(t||parseInt(r,16))}function vd(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(Tee,Ree):e}var ZA="non-whitespace outside of root node";function Vh(e){return new Error(e)}function YA(e){return"missing namespace for prefix <"+e+">"}function rv(e){return{get:e,enumerable:!0}}function Pee(e){var t={},r;for(r in e)t[r]=e[r];return t}function R4(e){return e+"$uri"}function Oee(e){var t={},r,n;for(r in e)n=e[r],t[n]=n,t[R4(n)]=r;return t}function JA(){return{line:0,column:0}}function Iee(e){throw e}function aD(e){if(!this)return new aD(e);var t=e&&e.proxy,r,n,i,s,o=Iee,a,l,c,u,h=JA,f=!1,d=!1,p=null,g=!1,m;function v(w){w instanceof Error||(w=Vh(w)),p=w,o(w,h)}function y(w){a&&(w instanceof Error||(w=Vh(w)),a(w,h))}this.on=function(w,_){if(typeof _!="function")throw Vh("required args <name, cb>");switch(w){case"openTag":n=_;break;case"text":r=_;break;case"closeTag":i=_;break;case"error":o=_;break;case"warn":a=_;break;case"cdata":s=_;break;case"attention":u=_;break;case"question":c=_;break;case"comment":l=_;break;default:throw Vh("unsupported event: "+w)}return this},this.ns=function(w){if(typeof w>"u"&&(w={}),typeof w!="object")throw Vh("required args <nsMap={}>");var _={},M;for(M in w)_[M]=w[M];return d=!0,m=_,this},this.parse=function(w){if(typeof w!="string")throw Vh("required args <xml=string>");return p=null,x(w),h=JA,g=!1,p},this.stop=function(){g=!0};function x(w){var _=d?[]:null,M=d?Oee(m):null,U,L=[],O=0,H=!1,G=!1,I=0,R=0,S,j,k,E,A,C,D,z,P,K="",Z=0,te;function q(){if(te!==null)return te;var N,T,V,J=d&&M.xmlns,re=d&&f?[]:null,se=Z,B=K,ne=B.length,ee,F,W,Y,ae,ce={},le={},de,me,ge;e:for(;se<ne;se++)if(de=!1,me=B.charCodeAt(se),!(me===32||me<14&&me>8)){for((me<65||me>122||me>90&&me<97)&&me!==95&&me!==58&&(y("illegal first char attribute name"),de=!0),ge=se+1;ge<ne;ge++)if(me=B.charCodeAt(ge),!(me>96&&me<123||me>64&&me<91||me>47&&me<59||me===46||me===45||me===95)){if(me===32||me<14&&me>8){y("missing attribute value"),se=ge;continue e}if(me===61)break;y("illegal attribute name char"),de=!0}if(ae=B.substring(se,ge),ae==="xmlns:xmlns"&&(y("illegal declaration of xmlns"),de=!0),me=B.charCodeAt(ge+1),me===34)ge=B.indexOf('"',se=ge+2),ge===-1&&(ge=B.indexOf("'",se),ge!==-1&&(y("attribute value quote missmatch"),de=!0));else if(me===39)ge=B.indexOf("'",se=ge+2),ge===-1&&(ge=B.indexOf('"',se),ge!==-1&&(y("attribute value quote missmatch"),de=!0));else for(y("missing attribute value quotes"),de=!0,ge=ge+1;ge<ne&&(me=B.charCodeAt(ge+1),!(me===32||me<14&&me>8));ge++);for(ge===-1&&(y("missing closing quotes"),ge=ne,de=!0),de||(W=B.substring(se,ge)),se=ge;ge+1<ne&&(me=B.charCodeAt(ge+1),!(me===32||me<14&&me>8));ge++)se===ge&&(y("illegal character after attribute end"),de=!0);if(se=ge+1,de)continue e;if(ae in le){y("attribute <"+ae+"> already defined");continue}if(le[ae]=!0,!d){ce[ae]=W;continue}if(f){if(F=ae==="xmlns"?"xmlns":ae.charCodeAt(0)===120&&ae.substr(0,6)==="xmlns:"?ae.substr(6):null,F!==null){if(N=vd(W),T=R4(F),Y=m[N],!Y){if(F==="xmlns"||T in M&&M[T]!==N)do Y="ns"+O++;while(typeof M[Y]<"u");else Y=F;m[N]=Y}M[F]!==Y&&(ee||(M=Pee(M),ee=!0),M[F]=Y,F==="xmlns"&&(M[R4(Y)]=N,J=Y),M[T]=N),ce[ae]=W;continue}re.push(ae,W);continue}if(me=ae.indexOf(":"),me===-1){ce[ae]=W;continue}if(!(V=M[ae.substring(0,me)])){y(YA(ae.substring(0,me)));continue}ae=J===V?ae.substr(me+1):V+ae.substr(me),ce[ae]=W}if(f)for(se=0,ne=re.length;se<ne;se++){if(ae=re[se++],W=re[se],me=ae.indexOf(":"),me!==-1){if(!(V=M[ae.substring(0,me)])){y(YA(ae.substring(0,me)));continue}ae=J===V?ae.substr(me+1):V+ae.substr(me)}ce[ae]=W}return te=ce}function $(){for(var N=/(\r\n|\r|\n)/g,T=0,V=0,J=0,re=R,se,B;I>=J&&(se=N.exec(w),!(!se||(re=se[0].length+se.index,re>I)));)T+=1,J=re;return I==-1?(V=re,B=w.substring(R)):R===0?B=w.substring(R,I):(V=I-J,B=R==-1?w.substring(I):w.substring(I,R+1)),{data:B,line:T,column:V}}for(h=$,t&&(P=Object.create({},{name:rv(function(){return D}),originalName:rv(function(){return z}),attrs:rv(q),ns:rv(function(){return M})}));R!==-1;){if(w.charCodeAt(R)===60?I=R:I=w.indexOf("<",R),I===-1){if(L.length)return v("unexpected end of file");if(R===0)return v("missing start tag");R<w.length&&w.substring(R).trim()&&y(ZA);return}if(R!==I){if(L.length){if(r&&(r(w.substring(R,I),vd,h),g))return}else if(w.substring(R,I).trim()&&(y(ZA),g))return}if(E=w.charCodeAt(I+1),E===33){if(k=w.charCodeAt(I+2),k===91&&w.substr(I+3,6)==="CDATA["){if(R=w.indexOf("]]>",I),R===-1)return v("unclosed cdata");if(s&&(s(w.substring(I+9,R),h),g))return;R+=3;continue}if(k===45&&w.charCodeAt(I+3)===45){if(R=w.indexOf("-->",I),R===-1)return v("unclosed comment");if(l&&(l(w.substring(I+4,R),vd,h),g))return;R+=3;continue}}if(E===63){if(R=w.indexOf("?>",I),R===-1)return v("unclosed question");if(c&&(c(w.substring(I,R+2),h),g))return;R+=2;continue}for(S=I+1;;S++){if(A=w.charCodeAt(S),isNaN(A))return R=-1,v("unclosed tag");if(A===34)k=w.indexOf('"',S+1),S=k!==-1?k:S;else if(A===39)k=w.indexOf("'",S+1),S=k!==-1?k:S;else if(A===62){R=S;break}}if(E===33){if(u&&(u(w.substring(I,R+1),vd,h),g))return;R+=1;continue}if(te={},E===47){if(H=!1,G=!0,!L.length)return v("missing open tag");if(S=D=L.pop(),k=I+2+S.length,w.substring(I+2,k)!==S)return v("closing tag mismatch");for(;k<R;k++)if(E=w.charCodeAt(k),!(E===32||E>8&&E<14))return v("close tag")}else{if(w.charCodeAt(R-1)===47?(S=D=w.substring(I+1,R-1),H=!0,G=!0):(S=D=w.substring(I+1,R),H=!0,G=!1),!(E>96&&E<123||E>64&&E<91||E===95||E===58))return v("illegal first char nodeName");for(k=1,j=S.length;k<j;k++)if(E=S.charCodeAt(k),!(E>96&&E<123||E>64&&E<91||E>47&&E<59||E===45||E===95||E==46)){if(E===32||E<14&&E>8){D=S.substring(0,k),te=null;break}return v("invalid nodeName")}G||L.push(D)}if(d){if(U=M,H&&(G||_.push(U),te===null&&(f=S.indexOf("xmlns",k)!==-1)&&(Z=k,K=S,q(),f=!1)),z=D,E=D.indexOf(":"),E!==-1){if(C=M[D.substring(0,E)],!C)return v("missing namespace on <"+z+">");D=D.substr(E+1)}else C=M.xmlns;C&&(D=C+":"+D)}if(H&&(Z=k,K=S,n&&(t?n(P,vd,G,h):n(D,q,vd,G,h),g)))return;if(G){if(i&&(i(t?P:D,vd,H,h),g))return;d&&(H?M=U:M=_.pop())}R+=1}}}function oD(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var P4={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},lD="property";function cD(e){return e.xml&&e.xml.serialize}function Mee(e){const t=cD(e);return t!==lD&&(t||null)}function Lee(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uD(e,t){return oD(t)?e.prefix+":"+Lee(e.localName):e.name}function Dee(e,t){var r=e.name,n=e.localName,i=t&&t.xml&&t.xml.typePrefix;return i&&n.indexOf(i)===0?e.prefix+":"+n.slice(i.length):r}function Bee(e,t,r){const n=es(e,t.xmlns),i=`${t[n.prefix]||n.prefix}:${n.localName}`,s=es(i);var o=r.getPackage(s.prefix);return Dee(s,o)}function Au(e){return new Error(e)}function tc(e){return e.$descriptor}function Fee(e){Ie(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw Au("expected element");var r=this.elementsById,n=tc(t),i=n.idProperty,s;if(i&&(s=t.get(i.name),s)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(s))throw new Error("illegal ID <"+s+">");if(r[s])throw Au("duplicate ID <"+s+">");r[s]=t}},this.addWarning=function(t){this.warnings.push(t)}}function yg(){}yg.prototype.handleEnd=function(){};yg.prototype.handleText=function(){};yg.prototype.handleNode=function(){};function U8(){}U8.prototype=Object.create(yg.prototype);U8.prototype.handleNode=function(){return this};function bp(){}bp.prototype=Object.create(yg.prototype);bp.prototype.handleText=function(e){this.body=(this.body||"")+e};function bg(e,t){this.property=e,this.context=t}bg.prototype=Object.create(bp.prototype);bg.prototype.handleNode=function(e){if(this.element)throw Au("expected no sub nodes");return this.element=this.createReference(e),this};bg.prototype.handleEnd=function(){this.element.id=this.body};bg.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function $8(e,t){this.element=t,this.propertyDesc=e}$8.prototype=Object.create(bp.prototype);$8.prototype.handleEnd=function(){var e=this.body||"",t=this.element,r=this.propertyDesc;e=z8(r.type,e),r.isMany?t.get(r.name).push(e):t.set(r.name,e)};function Jb(){}Jb.prototype=Object.create(bp.prototype);Jb.prototype.handleNode=function(e){var t=this,r=this.element;return r?t=this.handleChild(e):(r=this.element=this.createElement(e),this.context.addElement(r)),t};function bs(e,t,r){this.model=e,this.type=e.getType(t),this.context=r}bs.prototype=Object.create(Jb.prototype);bs.prototype.addReference=function(e){this.context.addReference(e)};bs.prototype.handleText=function(e){var t=this.element,r=tc(t),n=r.bodyProperty;if(!n)throw Au("unexpected body text <"+e+">");bp.prototype.handleText.call(this,e)};bs.prototype.handleEnd=function(){var e=this.body,t=this.element,r=tc(t),n=r.bodyProperty;n&&e!==void 0&&(e=z8(n.type,e),t.set(n.name,e))};bs.prototype.createElement=function(e){var t=e.attributes,r=this.type,n=tc(r),i=this.context,s=new r({}),o=this.model,a;return Ce(t,function(l,c){var u=n.propertiesByName[c],h;u&&u.isReference?u.isMany?(h=l.split(" "),Ce(h,function(f){i.addReference({element:s,property:u.ns.name,id:f})})):i.addReference({element:s,property:u.ns.name,id:l}):(u?l=z8(u.type,l):c==="xmlns"?c=":"+c:(a=es(c,n.ns.prefix),o.getPackage(a.prefix)&&i.addWarning({message:"unknown attribute <"+c+">",element:s,property:c,value:l})),s.set(c,l))}),s};bs.prototype.getPropertyForNode=function(e){var t=e.name,r=es(t),n=this.type,i=this.model,s=tc(n),o=r.name,a=s.propertiesByName[o];if(a&&!a.isAttr){const c=Mee(a);if(c){const u=e.attributes[c];if(u){const h=Bee(u,e.ns,i),f=i.getType(h);return Ie({},a,{effectiveType:tc(f).name})}}return a}var l=i.getPackage(r.prefix);if(l){const c=uD(r,l),u=i.getType(c);if(a=Lr(s.properties,function(h){return!h.isVirtual&&!h.isReference&&!h.isAttribute&&u.hasType(h.type)}),a)return Ie({},a,{effectiveType:tc(u).name})}else if(a=Lr(s.properties,function(c){return!c.isReference&&!c.isAttribute&&c.type==="Element"}),a)return a;throw Au("unrecognized element <"+r.name+">")};bs.prototype.toString=function(){return"ElementDescriptor["+tc(this.type).name+"]"};bs.prototype.valueHandler=function(e,t){return new $8(e,t)};bs.prototype.referenceHandler=function(e){return new bg(e,this.context)};bs.prototype.handler=function(e){return e==="Element"?new Kf(this.model,e,this.context):new bs(this.model,e,this.context)};bs.prototype.handleChild=function(e){var t,r,n,i;if(t=this.getPropertyForNode(e),n=this.element,r=t.effectiveType||t.type,iD(r))return this.valueHandler(t,n);t.isReference?i=this.referenceHandler(t).handleNode(e):i=this.handler(r).handleNode(e);var s=i.element;return s!==void 0&&(t.isMany?n.get(t.name).push(s):n.set(t.name,s),t.isReference?(Ie(s,{element:n}),this.context.addReference(s)):s.$parent=n),i};function H8(e,t,r){bs.call(this,e,t,r)}H8.prototype=Object.create(bs.prototype);H8.prototype.createElement=function(e){var t=e.name,r=es(t),n=this.model,i=this.type,s=n.getPackage(r.prefix),o=s&&uD(r,s)||t;if(!i.hasType(o))throw Au("unexpected element <"+e.originalName+">");return bs.prototype.createElement.call(this,e)};function Kf(e,t,r){this.model=e,this.context=r}Kf.prototype=Object.create(Jb.prototype);Kf.prototype.createElement=function(e){var t=e.name,r=es(t),n=r.prefix,i=e.ns[n+"$uri"],s=e.attributes;return this.model.createAny(t,i,s)};Kf.prototype.handleChild=function(e){var t=new Kf(this.model,"Element",this.context).handleNode(e),r=this.element,n=t.element,i;return n!==void 0&&(i=r.$children=r.$children||[],i.push(n),n.$parent=r),t};Kf.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function W8(e){e instanceof Za&&(e={model:e}),Ie(this,{lax:!1},e)}W8.prototype.fromXML=function(e,t,r){var n=t.rootHandler;t instanceof bs?(n=t,t={}):typeof t=="string"?(n=this.handler(t),t={}):typeof n=="string"&&(n=this.handler(n));var i=this.model,s=this.lax,o=new Fee(Ie({},t,{rootHandler:n})),a=new aD({proxy:!0}),l=zee();n.context=o,l.push(n);function c(_,M,U){var L=M(),O=L.line,H=L.column,G=L.data;G.charAt(0)==="<"&&G.indexOf(" ")!==-1&&(G=G.slice(0,G.indexOf(" "))+">");var I="unparsable content "+(G?G+" ":"")+`detected
	line: `+O+`
	column: `+H+`
	nested error: `+_.message;if(U)return o.addWarning({message:I,error:_}),!0;throw Au(I)}function u(_,M){return c(_,M,!0)}function h(){var _=o.elementsById,M=o.references,U,L;for(U=0;L=M[U];U++){var O=L.element,H=_[L.id],G=tc(O).propertiesByName[L.property];if(H||o.addWarning({message:"unresolved reference <"+L.id+">",element:L.element,property:L.property,value:L.id}),G.isMany){var I=O.get(G.name),R=I.indexOf(L);R===-1&&(R=I.length),H?I[R]=H:I.splice(R,1)}else O.set(G.name,H)}}function f(){l.pop().handleEnd()}var d=/^<\?xml /i,p=/ encoding="([^"]+)"/i,g=/^utf-8$/i;function m(_){if(d.test(_)){var M=p.exec(_),U=M&&M[1];!U||g.test(U)||o.addWarning({message:"unsupported document encoding <"+U+">, falling back to UTF-8"})}}function v(_,M){var U=l.peek();try{l.push(U.handleNode(_))}catch(L){c(L,M,s)&&l.push(new U8)}}function y(_,M){try{l.peek().handleText(_)}catch(U){u(U,M)}}function x(_,M){_.trim()&&y(_,M)}var w=i.getPackages().reduce(function(_,M){return _[M.uri]=M.prefix,_},Object.entries(P4).reduce(function(_,[M,U]){return _[U]=M,_},i.config&&i.config.nsMap||{}));return a.ns(w).on("openTag",function(_,M,U,L){var O=_.attrs||{},H=Object.keys(O).reduce(function(I,R){var S=M(O[R]);return I[R]=S,I},{}),G={name:_.name,originalName:_.originalName,attributes:H,ns:_.ns};v(G,L)}).on("question",m).on("closeTag",f).on("cdata",y).on("text",function(_,M,U){x(M(_),U)}).on("error",c).on("warn",u),new Promise(function(_,M){var U;try{a.parse(e),h()}catch(I){U=I}var L=n.element;!U&&!L&&(U=Au("failed to parse document as <"+n.type.$descriptor.name+">"));var O=o.warnings,H=o.references,G=o.elementsById;return U?(U.warnings=O,M(U)):_({rootElement:L,elementsById:G,references:H,warnings:O})})};W8.prototype.handler=function(e){return new H8(this.model,e)};function zee(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var Uee=`<?xml version="1.0" encoding="UTF-8"?>
`,$ee=/<|>|'|"|&|\n\r|\n/g,dD=/<|>|&/g;function ml(e){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=e,this.defaultPrefixMap=e&&e.defaultPrefixMap||{}}ml.prototype.mapDefaultPrefixes=function(e){this.defaultPrefixMap=e};ml.prototype.defaultUriByPrefix=function(e){return this.defaultPrefixMap[e]};ml.prototype.byUri=function(e){return this.uriMap[e]||this.parent&&this.parent.byUri(e)};ml.prototype.add=function(e,t){this.uriMap[e.uri]=e,t?this.wellknown.push(e):this.custom.push(e),this.mapPrefix(e.prefix,e.uri)};ml.prototype.uriByPrefix=function(e){return this.prefixMap[e||"xmlns"]||this.parent&&this.parent.uriByPrefix(e)};ml.prototype.mapPrefix=function(e,t){this.prefixMap[e||"xmlns"]=t};ml.prototype.getNSKey=function(e){return e.prefix!==void 0?e.uri+"|"+e.prefix:e.uri};ml.prototype.logUsed=function(e){var t=e.uri,r=this.getNSKey(e);this.used[r]=this.byUri(t),this.parent&&this.parent.logUsed(e)};ml.prototype.getUsed=function(e){var t=[].concat(this.wellknown,this.custom);return t.filter(r=>{var n=this.getNSKey(r);return this.used[n]})};function Hee(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Wee(e,t){return oD(t)?Hee(e):e}function hD(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function fD(e){return Js(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function qee(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var r="xmlns"+(t.prefix?":"+t.prefix:"");return{name:r,value:t.uri}})}function Vee(e,t){return t.isGeneric?Ie({localName:t.ns.localName},e):Ie({localName:Wee(t.ns.localName,t.$pkg)},e)}function Gee(e,t){return Ie({localName:t.ns.localName},e)}function Kee(e){var t=e.$descriptor;return mr(t.properties,function(r){var n=r.name;if(r.isVirtual||!Cs(e,n))return!1;var i=e[n];return i===r.default||i===null?!1:r.isMany?i.length:!0})}var Xee={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Zee={"<":"lt",">":"gt","&":"amp"};function pD(e,t,r){return e=Js(e)?e:""+e,e.replace(t,function(n){return"&"+r[n]+";"})}function Yee(e){return pD(e,$ee,Xee)}function Jee(e){return pD(e,dD,Zee)}function Qee(e){return mr(e,function(t){return t.isAttr})}function ete(e){return mr(e,function(t){return!t.isAttr})}function q8(e){this.tagName=e}q8.prototype.build=function(e){return this.element=e,this};q8.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function sh(){}sh.prototype.serializeValue=sh.prototype.serializeTo=function(e){e.append(this.escape?Jee(this.value):this.value)};sh.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(dD)!==-1&&(this.escape=!0),this};function V8(e){this.tagName=e}hD(V8,sh);V8.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function wn(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}wn.prototype.build=function(e){this.element=e;var t=e.$descriptor,r=this.propertyDescriptor,n,i,s=t.isGeneric;return s?n=this.parseGenericNsAttributes(e):n=this.parseNsAttributes(e),r?this.ns=this.nsPropertyTagName(r):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),s?this.parseGenericContainments(e):(i=Kee(e),this.parseAttributes(Qee(i)),this.parseContainments(ete(i))),this.parseGenericAttributes(e,n),this};wn.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Vee(t,e)};wn.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Gee(t,e)};wn.prototype.isLocalNs=function(e){return e.uri===this.ns.uri};wn.prototype.nsAttributeName=function(e){var t;if(Js(e)?t=es(e):t=e.ns,e.inherited)return{localName:t.localName};var r=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(r),this.isLocalNs(r)?{localName:t.localName}:Ie({localName:t.localName},r)};wn.prototype.parseGenericNsAttributes=function(e){return Object.entries(e).filter(([t,r])=>!t.startsWith("$")&&this.parseNsAttribute(e,t,r)).map(([t,r])=>({name:t,value:r}))};wn.prototype.parseGenericContainments=function(e){var t=e.$body;t&&this.body.push(new sh().build({type:"String"},t));var r=e.$children;r&&Ce(r,n=>{this.body.push(new wn(this).build(n))})};wn.prototype.parseNsAttribute=function(e,t,r){var n=e.$model,i=es(t),s;if(i.prefix==="xmlns"&&(s={prefix:i.localName,uri:r}),!i.prefix&&i.localName==="xmlns"&&(s={uri:r}),!s)return{name:t,value:r};if(n&&n.getPackage(r))this.logNamespace(s,!0,!0);else{var o=this.logNamespaceUsed(s,!0);this.getNamespaces().logUsed(o)}};wn.prototype.parseNsAttributes=function(e){var t=this,r=e.$attrs,n=[];return Ce(r,function(i,s){var o=t.parseNsAttribute(e,s,i);o&&n.push(o)}),n};wn.prototype.parseGenericAttributes=function(e,t){var r=this;Ce(t,function(n){try{r.addAttribute(r.nsAttributeName(n.name),n.value)}catch(i){typeof console<"u"&&console.warn(`missing namespace information for <${n.name}=${n.value}> on`,e,i)}})};wn.prototype.parseContainments=function(e){var t=this,r=this.body,n=this.element;Ce(e,function(i){var s=n.get(i.name),o=i.isReference,a=i.isMany;if(a||(s=[s]),i.isBody)r.push(new sh().build(i,s[0]));else if(iD(i.type))Ce(s,function(c){r.push(new V8(t.addTagName(t.nsPropertyTagName(i))).build(i,c))});else if(o)Ce(s,function(c){r.push(new q8(t.addTagName(t.nsPropertyTagName(i))).build(c))});else{var l=cD(i);Ce(s,function(c){var u;l?l===lD?u=new wn(t,i):u=new Qb(t,i,l):u=new wn(t),r.push(u.build(c))})}})};wn.prototype.getNamespaces=function(e){var t=this.namespaces,r=this.parent,n;return t||(n=r&&r.getNamespaces(),e||!n?this.namespaces=t=new ml(n):t=n),t};wn.prototype.logNamespace=function(e,t,r){var n=this.getNamespaces(r),i=e.uri,s=e.prefix,o=n.byUri(i);return(!o||r)&&n.add(e,t),n.mapPrefix(s,i),e};wn.prototype.logNamespaceUsed=function(e,t){var r=this.getNamespaces(t),n=e.prefix,i=e.uri,s,o,a;if(!n&&!i)return{localName:e.localName};if(a=r.defaultUriByPrefix(n),i=i||a||r.uriByPrefix(n),!i)throw new Error("no namespace uri given for prefix <"+n+">");if(e=r.byUri(i),!e&&!n&&(e=this.logNamespace({uri:i},a===i,!0)),!e){for(s=n,o=1;r.uriByPrefix(s);)s=n+"_"+o++;e=this.logNamespace({prefix:s,uri:i},a===i)}return n&&r.mapPrefix(n,i),e};wn.prototype.parseAttributes=function(e){var t=this,r=this.element;Ce(e,function(n){var i=r.get(n.name);if(n.isReference)if(!n.isMany)i=i.id;else{var s=[];Ce(i,function(o){s.push(o.id)}),i=s.join(" ")}t.addAttribute(t.nsAttributeName(n),i)})};wn.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),fD(e)};wn.prototype.addAttribute=function(e,t){var r=this.attrs;Js(t)&&(t=Yee(t));var n=wL(r,function(s){return s.name.localName===e.localName&&s.name.uri===e.uri&&s.name.prefix===e.prefix}),i={name:e,value:t};n!==-1?r.splice(n,1,i):r.push(i)};wn.prototype.serializeAttributes=function(e){var t=this.attrs,r=this.namespaces;r&&(t=qee(r).concat(t)),Ce(t,function(n){e.append(" ").append(fD(n.name)).append('="').append(n.value).append('"')})};wn.prototype.serializeTo=function(e){var t=this.body[0],r=t&&t.constructor!==sh;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(r&&e.appendNewLine().indent(),Ce(this.body,function(n){n.serializeTo(e)}),r&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function Qb(e,t,r){wn.call(this,e,t),this.serialization=r}hD(Qb,wn);Qb.prototype.parseNsAttributes=function(e){var t=wn.prototype.parseNsAttributes.call(this,e).filter(o=>o.name!==this.serialization),r=e.$descriptor;if(r.name===this.propertyDescriptor.type)return t;var n=this.typeNs=this.nsTagName(r);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(n.uri),s=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(n.prefix?n.prefix+":":"")+s+r.ns.localName),t};Qb.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function tte(){this.value="",this.write=function(e){this.value+=e}}function rte(e,t){var r=[""];this.append=function(n){return e.write(n),this},this.appendNewLine=function(){return t&&e.write(`
`),this},this.appendIndent=function(){return t&&e.write(r.join("  ")),this},this.indent=function(){return r.push(""),this},this.unindent=function(){return r.pop(),this}}function nte(e){e=Ie({format:!1,preamble:!0},e||{});function t(r,n){var i=n||new tte,s=new rte(i,e.format);e.preamble&&s.append(Uee);var o=new wn,a=r.$model;if(o.getNamespaces().mapDefaultPrefixes(ite(a)),o.build(r).serializeTo(s),!n)return i.value}return{toXML:t}}function ite(e){const t=e.config&&e.config.nsMap||{},r={};for(const n in P4)r[n]=P4[n];for(const n in t){const i=t[n];r[i]=n}for(const n of e.getPackages())r[n.prefix]=n.uri;return r}function e2(e,t){Za.call(this,e,t)}e2.prototype=Object.create(Za.prototype);e2.prototype.fromXML=function(e,t,r){Js(t)||(r=t,t="bpmn:Definitions");var n=new W8(Ie({model:this,lax:!0},r)),i=n.handler(t);return n.fromXML(e,i)};e2.prototype.toXML=function(e,t){var r=new nte(t);return new Promise(function(n,i){try{var s=r.toXML(e);return n({xml:s})}catch(o){return i(o)}})};var ste="BPMN20",ate="http://www.omg.org/spec/BPMN/20100524/MODEL",ote="bpmn",lte=[],cte=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],ute=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],dte={tagAlias:"lowerCase",typePrefix:"t"},hte={name:ste,uri:ate,prefix:ote,associations:lte,types:cte,enumerations:ute,xml:dte},fte="BPMNDI",pte="http://www.omg.org/spec/BPMN/20100524/DI",mte="bpmndi",gte=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],vte=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],yte=[],bte={name:fte,uri:pte,prefix:mte,types:gte,enumerations:vte,associations:yte},xte="DC",wte="http://www.omg.org/spec/DD/20100524/DC",_te="dc",Ste=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],Ete=[],kte={name:xte,uri:wte,prefix:_te,types:Ste,associations:Ete},Nte="DI",Ate="http://www.omg.org/spec/DD/20100524/DI",Cte="di",jte=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],Tte=[],Rte={tagAlias:"lowerCase"},Pte={name:Nte,uri:Ate,prefix:Cte,types:jte,associations:Tte,xml:Rte},Ote="bpmn.io colors for BPMN",Ite="http://bpmn.io/schema/bpmn/biocolor/1.0",Mte="bioc",Lte=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],Dte=[],Bte=[],Fte={name:Ote,uri:Ite,prefix:Mte,types:Lte,enumerations:Dte,associations:Bte},zte="BPMN in Color",Ute="http://www.omg.org/spec/BPMN/non-normative/color/1.0",$te="color",Hte=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],Wte=[],qte=[],Vte={name:zte,uri:Ute,prefix:$te,types:Hte,enumerations:Wte,associations:qte};const Gte={bpmn:hte,bpmndi:bte,dc:kte,di:Pte,bioc:Fte,color:Vte};function Kte(e,t){const r=Ie({},Gte,e);return new e2(r,t)}function Yi(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var Xte="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function mD(e){Cs(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error(Xte)}})}function ks(e,t){return e.$instanceOf(t)}function Zte(e){return Lr(e.rootElements,function(t){return ks(t,"bpmn:Process")||ks(t,"bpmn:Collaboration")})}function Yte(e){var t={},r=[],n={};function i(P,K){return function(Z){P(Z,K)}}function s(P){t[P.id]=P}function o(P){return t[P.id]}function a(P,K){var Z=P.gfx;if(Z)throw new Error(`already rendered ${Yi(P)}`);return e.element(P,n[P.id],K)}function l(P,K){return e.root(P,n[P.id],K)}function c(P,K){try{var Z=n[P.id]&&a(P,K);return s(P),Z}catch(te){u(te.message,{element:P,error:te}),console.error(`failed to import ${Yi(P)}`,te)}}function u(P,K){e.error(P,K)}var h=this.registerDi=function(K){var Z=K.bpmnElement;Z?n[Z.id]?u(`multiple DI elements defined for ${Yi(Z)}`,{element:Z}):(n[Z.id]=K,mD(Z)):u(`no bpmnElement referenced in ${Yi(K)}`,{element:K})};function f(P){d(P.plane)}function d(P){h(P),Ce(P.planeElement,p)}function p(P){h(P)}this.handleDefinitions=function(K,Z){var te=K.diagrams;if(Z&&te.indexOf(Z)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!Z&&te&&te.length&&(Z=te[0]),!Z)throw new Error("no diagram to display");n={},f(Z);var q=Z.plane;if(!q)throw new Error(`no plane for ${Yi(Z)}`);var $=q.bpmnElement;if(!$)if($=Zte(K),$)u(`correcting missing bpmnElement on ${Yi(q)} to ${Yi($)}`),q.bpmnElement=$,h(q);else throw new Error("no process or collaboration to display");var N=l($,q);if(ks($,"bpmn:Process")||ks($,"bpmn:SubProcess"))m($,N);else if(ks($,"bpmn:Collaboration"))D($,N),v(K.rootElements,N);else throw new Error(`unsupported bpmnElement for ${Yi(q)}: ${Yi($)}`);g(r)};var g=this.handleDeferred=function(){for(var K;r.length;)K=r.shift(),K()};function m(P,K){E(P,K),O(P.ioSpecification,K),L(P.artifacts,K),s(P)}function v(P,K){var Z=mr(P,function(te){return!o(te)&&ks(te,"bpmn:Process")&&te.laneSets});Z.forEach(i(m,K))}function y(P,K){c(P,K)}function x(P,K){Ce(P,i(y,K))}function w(P,K){c(P,K)}function _(P,K){c(P,K)}function M(P,K){c(P,K)}function U(P,K){c(P,K)}function L(P,K){Ce(P,function(Z){ks(Z,"bpmn:Association")?r.push(function(){U(Z,K)}):U(Z,K)})}function O(P,K){P&&(Ce(P.dataInputs,i(_,K)),Ce(P.dataOutputs,i(M,K)))}var H=this.handleSubProcess=function(K,Z){E(K,Z),L(K.artifacts,Z)};function G(P,K){var Z=c(P,K);ks(P,"bpmn:SubProcess")&&H(P,Z||K),ks(P,"bpmn:Activity")&&O(P.ioSpecification,K),r.push(function(){Ce(P.dataInputAssociations,i(w,K)),Ce(P.dataOutputAssociations,i(w,K))})}function I(P,K){c(P,K)}function R(P,K){c(P,K)}function S(P,K){r.push(function(){var Z=c(P,K);P.childLaneSet&&j(P.childLaneSet,Z||K),z(P)})}function j(P,K){Ce(P.lanes,i(S,K))}function k(P,K){Ce(P,i(j,K))}function E(P,K){A(P.flowElements,K),P.laneSets&&k(P.laneSets,K)}function A(P,K){Ce(P,function(Z){ks(Z,"bpmn:SequenceFlow")?r.push(function(){I(Z,K)}):ks(Z,"bpmn:BoundaryEvent")?r.unshift(function(){G(Z,K)}):ks(Z,"bpmn:FlowNode")?G(Z,K):ks(Z,"bpmn:DataObject")||(ks(Z,"bpmn:DataStoreReference")||ks(Z,"bpmn:DataObjectReference")?R(Z,K):u(`unrecognized flowElement ${Yi(Z)} in context ${Yi(K&&K.businessObject)}`,{element:Z,context:K}))})}function C(P,K){var Z=c(P,K),te=P.processRef;te&&m(te,Z||K)}function D(P,K){Ce(P.participants,i(C,K)),r.push(function(){x(P.messageFlows,K)}),L(P.artifacts,K)}function z(P){Ce(P.flowNodeRef,function(K){var Z=K.get("lanes");Z&&Z.push(P)})}}function he(e,t){var r=ht(e);return r&&typeof r.$instanceOf=="function"&&r.$instanceOf(t)}function gr(e,t){return Pu(t,function(r){return he(e,r)})}function ht(e){return e&&e.businessObject||e}function Or(e){return e&&e.di}function Jte(e,t,r){var n,i,s,o,a=[];function l(c,u){var h={root:function(g,m){return n.add(g,m)},element:function(g,m,v){return n.add(g,m,v)},error:function(g,m){a.push({message:g,context:m})}},f=new Yte(h);u=u||c.diagrams&&c.diagrams[0];var d=Qte(c,u);if(!d)throw new Error("no diagram to display");Ce(d,function(g){f.handleDefinitions(c,g)});var p=u.plane.bpmnElement.id;s.setRootElement(s.findRoot(p+"_plane")||s.findRoot(p))}return new Promise(function(c,u){try{return n=e.get("bpmnImporter"),i=e.get("eventBus"),s=e.get("canvas"),i.fire("import.render.start",{definitions:t}),l(t,r),i.fire("import.render.complete",{error:o,warnings:a}),c({warnings:a})}catch(h){return h.warnings=a,u(h)}})}function Qte(e,t){if(!(!t||!t.plane)){var r=t.plane.bpmnElement,n=r;!he(r,"bpmn:Process")&&!he(r,"bpmn:Collaboration")&&(n=ere(r));var i;he(n,"bpmn:Collaboration")?i=n:i=Lr(e.rootElements,function(c){if(he(c,"bpmn:Collaboration"))return Lr(c.participants,function(u){return u.processRef===n})});var s=[n];i&&(s=is(i.participants,function(c){return c.processRef}),s.push(i));var o=gD(s),a=[t],l=[r];return Ce(e.diagrams,function(c){if(c.plane){var u=c.plane.bpmnElement;o.indexOf(u)!==-1&&l.indexOf(u)===-1&&(a.push(c),l.push(u))}}),a}}function gD(e){var t=[];return Ce(e,function(r){r&&(t.push(r),t=t.concat(gD(r.flowElements)))}),t}function ere(e){for(var t=e;t;){if(he(t,"bpmn:Process"))return t;t=t.$parent}}var tre='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',vD=tre,yD={verticalAlign:"middle"},bD={color:"#404040"},rre={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},nre={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},ire={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},sre='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+vD+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Zo;function are(){Zo=dn(sre),Ji(Zo,rre),Ji(Jr("svg",Zo),yD),Ji(Jr(".backdrop",Zo),nre),Ji(Jr(".notice",Zo),ire),Ji(Jr(".link",Zo),bD,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function ore(){Zo||(are(),Ks.bind(Zo,".backdrop","click",function(e){document.body.removeChild(Zo)})),document.body.appendChild(Zo)}function Cn(e){e=Ie({},cre,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e),dre(this._container)}Ct(Cn,Iu);Cn.prototype.importXML=async function(t,r){const n=this;function i(o){return n.get("eventBus").createEvent(o)}let s=[];try{t=this._emit("import.parse.start",{xml:t})||t;let o;try{o=await this._moddle.fromXML(t,"bpmn:Definitions")}catch(f){throw this._emit("import.parse.complete",{error:f}),f}let a=o.rootElement;const l=o.references,c=o.warnings,u=o.elementsById;s=s.concat(c),a=this._emit("import.parse.complete",i({error:null,definitions:a,elementsById:u,references:l,warnings:s}))||a;const h=await this.importDefinitions(a,r);return s=s.concat(h.warnings),this._emit("import.done",{error:null,warnings:s}),{warnings:s}}catch(o){let a=o;throw s=s.concat(a.warnings||[]),ry(a,s),a=lre(a),this._emit("import.done",{error:a,warnings:a.warnings}),a}};Cn.prototype.importDefinitions=async function(t,r){return this._setDefinitions(t),{warnings:(await this.open(r)).warnings}};Cn.prototype.open=async function(t){const r=this._definitions;let n=t;if(!r){const s=new Error("no XML imported");throw ry(s,[]),s}if(typeof t=="string"&&(n=ure(r,t),!n)){const s=new Error("BPMNDiagram <"+t+"> not found");throw ry(s,[]),s}try{this.clear()}catch(s){throw ry(s,[]),s}const{warnings:i}=await Jte(this,r,n);return{warnings:i}};Cn.prototype.saveXML=async function(t){t=t||{};let r=this._definitions,n,i;try{if(!r)throw new Error("no definitions loaded");r=this._emit("saveXML.start",{definitions:r})||r,i=(await this._moddle.toXML(r,t)).xml,i=this._emit("saveXML.serialized",{xml:i})||i}catch(o){n=o}const s=n?{error:n}:{xml:i};if(this._emit("saveXML.done",s),n)throw n;return s};Cn.prototype.saveSVG=async function(){this._emit("saveSVG.start");let t,r;try{const n=this.get("canvas"),i=n.getActiveLayer(),s=Jr(":scope > defs",n._svg),o=IA(i),a=s?"<defs>"+IA(s)+"</defs>":"",l=i.getBBox();t=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+a+o+"</svg>"}catch(n){r=n}if(this._emit("saveSVG.done",{error:r,svg:t}),r)throw r;return{svg:t}};Cn.prototype._setDefinitions=function(e){this._definitions=e};Cn.prototype.getModules=function(){return this._modules};Cn.prototype.clear=function(){this.getDefinitions()&&Iu.prototype.clear.call(this)};Cn.prototype.destroy=function(){Iu.prototype.destroy.call(this),dl(this._container)};Cn.prototype.on=function(e,t,r,n){return this.get("eventBus").on(e,t,r,n)};Cn.prototype.off=function(e,t){this.get("eventBus").off(e,t)};Cn.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Jr(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};Cn.prototype.getDefinitions=function(){return this._definitions};Cn.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))};Cn.prototype._init=function(e,t,r){const n=r.modules||this.getModules(r),i=r.additionalModules||[],s=[{bpmnjs:["value",this],moddle:["value",t]}],o=[].concat(s,n,i),a=Ie(pl(r,["additionalModules"]),{canvas:Ie({},r.canvas,{container:e}),modules:o});Iu.call(this,a),r&&r.container&&this.attachTo(r.container)};Cn.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)};Cn.prototype._createContainer=function(e){const t=dn('<div class="bjs-container"></div>');return Ji(t,{width:QA(e.width),height:QA(e.height),position:e.position}),t};Cn.prototype._createModdle=function(e){const t=Ie({},this._moddleExtensions,e.moddleExtensions);return new Kte(t)};Cn.prototype._modules=[];function ry(e,t){return e.warnings=t,e}function lre(e){const r=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return r&&(e.message="unparsable content <"+r[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+r[2]),e}const cre={width:"100%",height:"100%",position:"relative"};function QA(e){return e+(Yt(e)?"px":"")}function ure(e,t){return t&&Lr(e.diagrams,function(r){return r.id===t})||null}function dre(e){const r='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+vD+"</a>",n=dn(r);Ji(Jr("svg",n),yD),Ji(n,bD,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(n),sr.bind(n,"click",function(i){ore(),i.preventDefault()})}function xg(e){Cn.call(this,e),this.on("import.parse.complete",function(t){t.error||this._collectIds(t.definitions,t.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}Ct(xg,Cn);xg.prototype._createModdle=function(e){var t=Cn.prototype._createModdle.call(this,e);return t.ids=new cl([32,36,1]),t};xg.prototype._collectIds=function(e,t){var r=e.$model,n=r.ids,i;n.clear();for(i in t)n.claim(i,t[i])};function Er(e,t){return he(e,"bpmn:CallActivity")?!1:he(e,"bpmn:SubProcess")?(t=t||Or(e),t&&he(t,"bpmndi:BPMNPlane")?!0:t&&!!t.isExpanded):he(e,"bpmn:Participant")?!!ht(e).processRef:!0}function bi(e){if(!(!he(e,"bpmn:Participant")&&!he(e,"bpmn:Lane"))){var t=Or(e).isHorizontal;return t===void 0?!0:t}}function hre(e){return e&&ht(e).isInterrupting!==!1}function ts(e){return e&&!!ht(e).triggeredByEvent}function xp(e,t){var r=ht(e).eventDefinitions;return Pu(r,function(n){return he(n,t)})}function fre(e){return xp(e,"bpmn:ErrorEventDefinition")}function pre(e){return xp(e,"bpmn:EscalationEventDefinition")}function mre(e){return xp(e,"bpmn:CompensateEventDefinition")}var G0={width:90,height:20},eC=15;function ah(e){return he(e,"bpmn:Event")||he(e,"bpmn:Gateway")||he(e,"bpmn:DataStoreReference")||he(e,"bpmn:DataObjectReference")||he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput")||he(e,"bpmn:SequenceFlow")||he(e,"bpmn:MessageFlow")||he(e,"bpmn:Group")}function t2(e){return Ir(e.label)}function gre(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)],i=vre(e),s=Math.atan((n.y-r.y)/(n.x-r.x)),o=i.x,a=i.y;return Math.abs(s)<Math.PI/2?a-=eC:o+=eC,{x:o,y:a}}function vre(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)];return{x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2}}function G8(e){return e.waypoints?gre(e.waypoints):he(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+G0.height/2}:{x:e.x+e.width/2,y:e.y+e.height+G0.height/2}}function yre(e,t){var r,n,i,s=e.label;return s&&s.bounds?(i=s.bounds,n={width:Math.max(G0.width,i.width),height:i.height},r={x:i.x+i.width/2,y:i.y+i.height/2}):(r=G8(t),n=G0),Ie({x:r.x-n.width/2,y:r.y-n.height/2},n)}function xD(e){if(he(e,"bpmn:FlowElement")||he(e,"bpmn:Participant")||he(e,"bpmn:Lane")||he(e,"bpmn:SequenceFlow")||he(e,"bpmn:MessageFlow")||he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput"))return"name";if(he(e,"bpmn:TextAnnotation"))return"text";if(he(e,"bpmn:Group"))return"categoryValueRef"}function bre(e){var t=e.categoryValueRef;return t&&t.value||""}function Ao(e){var t=e.businessObject,r=xD(t);if(r)return r==="categoryValueRef"?bre(t):t[r]||""}function xre(e,t){var r=e.businessObject,n=xD(r);if(n)if(n==="categoryValueRef"){if(!r[n])return e;r[n].value=t}else r[n]=t;return e}var O4="hsl(225, 10%, 15%)",wre="white";function Uo(e,t){return Pu(e.eventDefinitions,function(r){return r.$type===t})}function _re(e){return e.$type==="bpmn:IntermediateThrowEvent"||e.$type==="bpmn:EndEvent"}function Sre(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}function pr(e,t,r){var n=Or(e);return r||n.get("color:background-color")||n.get("bioc:fill")||t||wre}function Et(e,t,r){var n=Or(e);return r||n.get("color:border-color")||n.get("bioc:stroke")||t||O4}function pm(e,t,r,n){var i=Or(e),s=i.get("label");return n||s&&s.get("color:color")||t||Et(e,r)}function Ere(e){var t=e.x+e.width/2,r=e.y+e.height/2,n=e.width/2,i=[["M",t,r],["m",0,-n],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]];return ph(i)}function kre(e,t){var r=e.x,n=e.y,i=e.width,s=e.height,o=[["M",r+t,n],["l",i-t*2,0],["a",t,t,0,0,1,t,t],["l",0,s-t*2],["a",t,t,0,0,1,-t,t],["l",t*2-i,0],["a",t,t,0,0,1,-t,-t],["l",0,t*2-s],["a",t,t,0,0,1,t,-t],["z"]];return ph(o)}function Nre(e){var t=e.width,r=e.height,n=e.x,i=e.y,s=t/2,o=r/2,a=[["M",n+s,i],["l",s,o],["l",-s,o],["l",-s,-o],["z"]];return ph(a)}function Are(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=[["M",t,r],["l",n,0],["l",0,i],["l",-n,0],["z"]];return ph(s)}function mm(e,t={}){return{width:La(e,t),height:Hs(e,t)}}function La(e,t={}){return Cs(t,"width")?t.width:e.width}function Hs(e,t={}){return Cs(t,"height")?t.height:e.height}var Cre=new cl,jre=10,nv=3,Tre=1.5,ny=10,Gh=.95,Rre=1,Pre=.25;function vh(e,t,r,n,i,s,o){cc.call(this,t,o);var a=e&&e.defaultFillColor,l=e&&e.defaultStrokeColor,c=e&&e.defaultLabelColor;function u($){return r.computeStyle($,{strokeLinecap:"round",strokeLinejoin:"round",stroke:O4,strokeWidth:2,fill:"white"})}function h($){return r.computeStyle($,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:O4,strokeWidth:2})}function f($,N){var{ref:T={x:0,y:0},scale:V=1,element:J,parentGfx:re=i._svg}=N,se=Mt("marker",{id:$,viewBox:"0 0 20 20",refX:T.x,refY:T.y,markerWidth:20*V,markerHeight:20*V,orient:"auto"});rr(se,J);var B=Jr(":scope > defs",re);B||(B=Mt("defs"),rr(re,B)),rr(B,se)}function d($,N,T,V){var J=Cre.nextPrefixed("marker-");return p($,J,N,T,V),"url(#"+J+")"}function p($,N,T,V,J){if(T==="sequenceflow-end"){var re=Mt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...u({fill:J,stroke:J,strokeWidth:1})});f(N,{element:re,ref:{x:11,y:10},scale:.5,parentGfx:$})}if(T==="messageflow-start"){var se=Mt("circle",{cx:6,cy:6,r:3.5,...u({fill:V,stroke:J,strokeWidth:1,strokeDasharray:[1e4,1]})});f(N,{element:se,ref:{x:6,y:6},parentGfx:$})}if(T==="messageflow-end"){var B=Mt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...u({fill:V,stroke:J,strokeWidth:1,strokeDasharray:[1e4,1]})});f(N,{element:B,ref:{x:8.5,y:5},parentGfx:$})}if(T==="association-start"){var ne=Mt("path",{d:"M 11 5 L 1 10 L 11 15",...h({fill:"none",stroke:J,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(N,{element:ne,ref:{x:1,y:10},scale:.5,parentGfx:$})}if(T==="association-end"){var ee=Mt("path",{d:"M 1 5 L 11 10 L 1 15",...h({fill:"none",stroke:J,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(N,{element:ee,ref:{x:11,y:10},scale:.5,parentGfx:$})}if(T==="conditional-flow-marker"){var F=Mt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...u({fill:V,stroke:J})});f(N,{element:F,ref:{x:-1,y:10},scale:.5,parentGfx:$})}if(T==="conditional-default-flow-marker"){var W=Mt("path",{d:"M 6 4 L 10 16",...u({stroke:J,fill:"none"})});f(N,{element:W,ref:{x:0,y:10},scale:.5,parentGfx:$})}}function g($,N,T,V,J={}){Mi(V)&&(J=V,V=0),V=V||0,J=u(J);var re=N/2,se=T/2,B=Mt("circle",{cx:re,cy:se,r:Math.round((N+T)/4-V),...J});return rr($,B),B}function m($,N,T,V,J,re){Mi(J)&&(re=J,J=0),J=J||0,re=u(re);var se=Mt("rect",{x:J,y:J,width:N-J*2,height:T-J*2,rx:V,ry:V,...re});return rr($,se),se}function v($,N,T,V){var J=N/2,re=T/2,se=[{x:J,y:0},{x:N,y:re},{x:J,y:T},{x:0,y:re}],B=se.map(function(ee){return ee.x+","+ee.y}).join(" ");V=u(V);var ne=Mt("polygon",{...V,points:B});return rr($,ne),ne}function y($,N,T,V){T=h(T);var J=Xb(N,T,V);return rr($,J),J}function x($,N,T){return y($,N,T,5)}function w($,N,T){T=h(T);var V=Mt("path",{...T,d:N});return rr($,V),V}function _($,N,T,V){return w(N,T,Ie({"data-marker":$},V))}function M($){return q[$]}function U($){return function(N,T,V){return M($)(N,T,V)}}var L={"bpmn:MessageEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.235,my:.315}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill),se=V?pr(N,a,T.fill):Et(N,l,T.stroke),B=w($,J,{fill:re,stroke:se,strokeWidth:1});return B},"bpmn:TimerEventDefinition":function($,N,T={}){var V=T.width||N.width,J=T.height||N.height,re=T.width?1:2,se=g($,V,J,.2*J,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:re}),B=n.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:V,containerHeight:J,position:{mx:.5,my:.5}});w($,B,{stroke:Et(N,l,T.stroke),strokeWidth:re});for(var ne=0;ne<12;ne++){var ee=n.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:V,containerHeight:J,position:{mx:.5,my:.5}}),F=V/2,W=J/2;w($,ee,{strokeWidth:1,stroke:Et(N,l,T.stroke),transform:"rotate("+ne*30+","+W+","+F+")"})}return se},"bpmn:EscalationEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.2}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function($,N,T={}){var V=n.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.222}});return w($,V,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.57,my:.263}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.2,my:.722}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.638,my:-.055}}),re=V?Et(N,l,T.stroke):"none",se=w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1});return eD(se,45),se},"bpmn:CompensateEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.22,my:.5}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.5,my:.2}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{strokeWidth:1,fill:re,stroke:Et(N,l,T.stroke)})},"bpmn:MultipleEventDefinition":function($,N,T={},V){var J=n.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.211,my:.36}}),re=V?Et(N,l,T.stroke):pr(N,a,T.fill);return w($,J,{fill:re,stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function($,N,T={}){var V=n.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:T.width||N.width,containerHeight:T.height||N.height,position:{mx:.458,my:.194}});return w($,V,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function($,N,T={}){var V=g($,N.width,N.height,8,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:4});return V}};function O($,N,T={},V){var J=ht($),re=_re(J),se=V||$;return J.get("eventDefinitions")&&J.get("eventDefinitions").length>1?J.get("parallelMultiple")?L["bpmn:ParallelMultipleEventDefinition"](N,se,T,re):L["bpmn:MultipleEventDefinition"](N,se,T,re):Uo(J,"bpmn:MessageEventDefinition")?L["bpmn:MessageEventDefinition"](N,se,T,re):Uo(J,"bpmn:TimerEventDefinition")?L["bpmn:TimerEventDefinition"](N,se,T,re):Uo(J,"bpmn:ConditionalEventDefinition")?L["bpmn:ConditionalEventDefinition"](N,se,T,re):Uo(J,"bpmn:SignalEventDefinition")?L["bpmn:SignalEventDefinition"](N,se,T,re):Uo(J,"bpmn:EscalationEventDefinition")?L["bpmn:EscalationEventDefinition"](N,se,T,re):Uo(J,"bpmn:LinkEventDefinition")?L["bpmn:LinkEventDefinition"](N,se,T,re):Uo(J,"bpmn:ErrorEventDefinition")?L["bpmn:ErrorEventDefinition"](N,se,T,re):Uo(J,"bpmn:CancelEventDefinition")?L["bpmn:CancelEventDefinition"](N,se,T,re):Uo(J,"bpmn:CompensateEventDefinition")?L["bpmn:CompensateEventDefinition"](N,se,T,re):Uo(J,"bpmn:TerminateEventDefinition")?L["bpmn:TerminateEventDefinition"](N,se,T,re):null}var H={ParticipantMultiplicityMarker:function($,N,T={}){var V=La(N,T),J=Hs(N,T),re=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2-6)/V,my:(J-15)/J}});_("participant-multiplicity",$,re,{strokeWidth:2,fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})},SubProcessMarker:function($,N,T={}){var V=m($,14,14,0,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)});$i(V,N.width/2-7.5,N.height-20);var J=n.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2-7.5)/N.width,my:(N.height-20)/N.height}});_("sub-process",$,J,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})},ParallelMarker:function($,N,T){var V=La(N,T),J=Hs(N,T),re=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.parallel)/V,my:(J-20)/J}});_("parallel",$,re,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})},SequentialMarker:function($,N,T){var V=n.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2+T.seq)/N.width,my:(N.height-19)/N.height}});_("sequential",$,V,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})},CompensationMarker:function($,N,T){var V=n.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:(N.width/2+T.compensation)/N.width,my:(N.height-13)/N.height}});_("compensation",$,V,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})},LoopMarker:function($,N,T){var V=La(N,T),J=Hs(N,T),re=n.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.loop)/V,my:(J-7)/J}});_("loop",$,re,{strokeWidth:1.5,fill:"none",stroke:Et(N,l,T.stroke),strokeMiterlimit:.5})},AdhocMarker:function($,N,T){var V=La(N,T),J=Hs(N,T),re=n.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:(V/2+T.adhoc)/V,my:(J-15)/J}});_("adhoc",$,re,{strokeWidth:1,fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke)})}};function G($,N,T,V){H[$](N,T,V)}function I($,N,T=[],V={}){V={fill:V.fill,stroke:V.stroke,width:La(N,V),height:Hs(N,V)};var J=ht(N),re=T.includes("SubProcessMarker");re?V={...V,seq:-21,parallel:-22,compensation:-25,loop:-18,adhoc:10}:V={...V,seq:-5,parallel:-6,compensation:-7,loop:0,adhoc:-8},J.get("isForCompensation")&&T.push("CompensationMarker"),he(J,"bpmn:AdHocSubProcess")&&(T.push("AdhocMarker"),re||Ie(V,{compensation:V.compensation-18}));var se=J.get("loopCharacteristics"),B=se&&se.get("isSequential");se&&(Ie(V,{compensation:V.compensation-18}),T.includes("AdhocMarker")&&Ie(V,{seq:-23,loop:-18,parallel:-24}),B===void 0&&T.push("LoopMarker"),B===!1&&T.push("ParallelMarker"),B===!0&&T.push("SequentialMarker")),T.includes("CompensationMarker")&&T.length===1&&Ie(V,{compensation:-8}),Ce(T,function(ne){G(ne,$,N,V)})}function R($,N,T={}){T=Ie({size:{width:100}},T);var V=s.createText(N||"",T);return Pr(V).add("djs-label"),rr($,V),V}function S($,N,T,V={}){var J=ht(N),re=mm({x:N.x,y:N.y,width:N.width,height:N.height},V);return R($,J.name,{align:T,box:re,padding:7,style:{fill:pm(N,c,l,V.stroke)}})}function j($,N,T={}){var V={width:90,height:30,x:N.width/2+N.x,y:N.height/2+N.y};return R($,Ao(N),{box:V,fitBox:!0,style:Ie({},s.getExternalStyle(),{fill:pm(N,c,l,T.stroke)})})}function k($,N,T,V={}){var J=bi(T),re=R($,N,{box:{height:30,width:J?Hs(T,V):La(T,V)},align:"center-middle",style:{fill:pm(T,c,l,V.stroke)}});if(J){var se=-1*Hs(T,V);ty(re,0,-se,270)}}function E($,N,T={}){var{width:V,height:J}=mm(N,T);return m($,V,J,ny,{...T,fill:pr(N,a,T.fill),fillOpacity:Gh,stroke:Et(N,l,T.stroke)})}function A($,N,T={}){var V=ht(N),J=pr(N,a,T.fill),re=Et(N,l,T.stroke);return(V.get("associationDirection")==="One"||V.get("associationDirection")==="Both")&&(T.markerEnd=d($,"association-end",J,re)),V.get("associationDirection")==="Both"&&(T.markerStart=d($,"association-start",J,re)),T=Tr(T,["markerStart","markerEnd"]),x($,N.waypoints,{...T,stroke:re,strokeDasharray:"0, 5"})}function C($,N,T={}){var V=pr(N,a,T.fill),J=Et(N,l,T.stroke),re=n.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.474,my:.296}}),se=w($,re,{fill:V,fillOpacity:Gh,stroke:J}),B=ht(N);if(Sre(B)){var ne=n.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:.33,my:(N.height-18)/N.height}});w($,ne,{strokeWidth:2,fill:V,stroke:J})}return se}function D($,N,T={}){return g($,N.width,N.height,{fillOpacity:Gh,...T,fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)})}function z($,N,T={}){return v($,N.width,N.height,{fill:pr(N,a,T.fill),fillOpacity:Gh,stroke:Et(N,l,T.stroke)})}function P($,N,T={}){var V=m($,La(N,T),Hs(N,T),0,{fill:pr(N,a,T.fill),fillOpacity:T.fillOpacity||Gh,stroke:Et(N,l,T.stroke),strokeWidth:1.5}),J=ht(N);if(he(J,"bpmn:Lane")){var re=J.get("name");k($,re,N,T)}return V}function K($,N,T={}){var V=E($,N,T),J=Er(N);if(ts(N)&&(Nt(V,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!J)){var re=ht(N).flowElements||[],se=re.filter(B=>he(B,"bpmn:StartEvent"));se.length===1&&Z(se[0],$,T,N)}return S($,N,J?"center-top":"center-middle",T),J?I($,N,void 0,T):I($,N,["SubProcessMarker"],T),V}function Z($,N,T,V){var J=22,re={fill:pr(V,a,T.fill),stroke:Et(V,l,T.stroke),width:J,height:J},se=ht($).isInterrupting,B=se?0:3,ne=se?1:1.2,ee=20,F=(J-ee)/2,W="translate("+F+","+F+")";g(N,ee,ee,{fill:re.fill,stroke:re.stroke,strokeWidth:ne,strokeDasharray:B,transform:W}),O($,N,re,V)}function te($,N,T={}){var V=E($,N,T);return S($,N,"center-middle",T),I($,N,void 0,T),V}var q=this.handlers={"bpmn:AdHocSubProcess":function($,N,T={}){return Er(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]),K($,N,T)},"bpmn:Association":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,T)},"bpmn:BoundaryEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=ht(N),re=J.get("cancelActivity");T={strokeWidth:1.5,fill:pr(N,a,T.fill),fillOpacity:Rre,stroke:Et(N,l,T.stroke)},re||(T.strokeDasharray="6");var se=D($,N,T);return g($,N.width,N.height,nv,{...T,fill:"none"}),V&&O(N,$,T),se},"bpmn:BusinessRuleTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),re=w($,J);Nt(re,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1});var se=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),B=w($,se);return Nt(B,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:CallActivity":function($,N,T={}){return T=Tr(T,["fill","stroke"]),K($,N,{strokeWidth:5,...T})},"bpmn:ComplexGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:N.width,containerHeight:N.height,position:{mx:.46,my:.26}});return w($,J,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:DataInput":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getRawPath("DATA_ARROW"),J=C($,N,T);return w($,V,{fill:"none",stroke:Et(N,l,T.stroke),strokeWidth:1}),J},"bpmn:DataInputAssociation":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,{...T,markerEnd:d($,"association-end",pr(N,a,T.fill),Et(N,l,T.stroke))})},"bpmn:DataObject":function($,N,T={}){return T=Tr(T,["fill","stroke"]),C($,N,T)},"bpmn:DataObjectReference":U("bpmn:DataObject"),"bpmn:DataOutput":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getRawPath("DATA_ARROW"),J=C($,N,T);return w($,V,{strokeWidth:1,fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke)}),J},"bpmn:DataOutputAssociation":function($,N,T={}){return T=Tr(T,["fill","stroke"]),A($,N,{...T,markerEnd:d($,"association-end",pr(N,a,T.fill),Et(N,l,T.stroke))})},"bpmn:DataStoreReference":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=n.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:N.width,containerHeight:N.height,position:{mx:0,my:.133}});return w($,V,{fill:pr(N,a,T.fill),fillOpacity:Gh,stroke:Et(N,l,T.stroke),strokeWidth:2})},"bpmn:EndEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=D($,N,{...T,strokeWidth:4});return V&&O(N,$,T),J},"bpmn:EventBasedGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=z($,N,T);g($,N.width,N.height,N.height*.2,{fill:pr(N,"none",T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1});var re=V.get("eventGatewayType"),se=!!V.get("instantiate");function B(){var ee=n.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:N.width,containerHeight:N.height,position:{mx:.36,my:.44}});w($,ee,{fill:"none",stroke:Et(N,l,T.stroke),strokeWidth:2})}if(re==="Parallel"){var ne=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:N.width,containerHeight:N.height,position:{mx:.474,my:.296}});w($,ne,{fill:"none",stroke:Et(N,l,T.stroke),strokeWidth:1})}else re==="Exclusive"&&(se||g($,N.width,N.height,N.height*.26,{fill:"none",stroke:Et(N,l,T.stroke),strokeWidth:1}),B());return J},"bpmn:ExclusiveGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:N.width,containerHeight:N.height,position:{mx:.32,my:.3}}),re=Or(N);return re.get("isMarkerVisible")&&w($,J,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:Gateway":function($,N,T={}){return T=Tr(T,["fill","stroke"]),z($,N,T)},"bpmn:Group":function($,N,T={}){return T=Tr(T,["fill","stroke","width","height"]),m($,N.width,N.height,ny,{stroke:Et(N,l,T.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:La(N,T),height:Hs(N,T)})},"bpmn:InclusiveGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T);return g($,N.width,N.height,N.height*.24,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:2.5}),V},"bpmn:IntermediateEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=D($,N,{...T,strokeWidth:1.5});return g($,N.width,N.height,nv,{fill:"none",stroke:Et(N,l,T.stroke),strokeWidth:1.5}),V&&O(N,$,T),J},"bpmn:IntermediateCatchEvent":U("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":U("bpmn:IntermediateEvent"),"bpmn:Lane":function($,N,T={}){return T=Tr(T,["fill","stroke","width","height"]),P($,N,{...T,fillOpacity:Pre})},"bpmn:ManualTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return w($,J,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:.5}),V},"bpmn:MessageFlow":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=Or(N),re=pr(N,a,T.fill),se=Et(N,l,T.stroke),B=x($,N.waypoints,{markerEnd:d($,"messageflow-end",re,se),markerStart:d($,"messageflow-start",re,se),stroke:se,strokeDasharray:"10, 11",strokeWidth:1.5});if(V.get("messageRef")){var ne=B.getPointAtLength(B.getTotalLength()/2),ee=n.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:ne.x,y:ne.y}}),F={strokeWidth:1};J.get("messageVisibleKind")==="initiating"?(F.fill=re,F.stroke=se):(F.fill=se,F.stroke=re);var W=w($,ee,F),Y=V.get("messageRef"),ae=Y.get("name"),ce=R($,ae,{align:"center-top",fitBox:!0,style:{fill:se}}),le=W.getBBox(),de=ce.getBBox(),me=ne.x-de.width/2,ge=ne.y+le.height/2+jre;ty(ce,me,ge,0)}return B},"bpmn:ParallelGateway":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=z($,N,T),J=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:N.width,containerHeight:N.height,position:{mx:.46,my:.2}});return w($,J,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:Participant":function($,N,T={}){T=Tr(T,["fill","stroke","width","height"]);var V=P($,N,T),J=Er(N),re=bi(N),se=ht(N),B=se.get("name");if(J){var ne=re?[{x:30,y:0},{x:30,y:Hs(N,T)}]:[{x:0,y:30},{x:La(N,T),y:30}];y($,ne,{stroke:Et(N,l,T.stroke),strokeWidth:Tre}),k($,B,N,T)}else{var ee=mm(N,T);re||(ee.height=La(N,T),ee.width=Hs(N,T));var F=R($,B,{box:ee,align:"center-middle",style:{fill:pm(N,c,l,T.stroke)}});if(!re){var W=-1*Hs(N,T);ty(F,0,-W,270)}}return se.get("participantMultiplicity")&&G("ParticipantMultiplicityMarker",$,N,T),V},"bpmn:ReceiveTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=ht(N),J=te($,N,T),re;return V.get("instantiate")?(g($,28,28,20*.22,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1}),re=n.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):re=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),w($,re,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1}),J},"bpmn:ScriptTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return w($,J,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:SendTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return w($,J,{fill:Et(N,l,T.stroke),stroke:pr(N,a,T.fill),strokeWidth:1}),V},"bpmn:SequenceFlow":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=pr(N,a,T.fill),J=Et(N,l,T.stroke),re=x($,N.waypoints,{markerEnd:d($,"sequenceflow-end",V,J),stroke:J}),se=ht(N),{source:B}=N;if(B){var ne=ht(B);se.get("conditionExpression")&&he(ne,"bpmn:Activity")&&Nt(re,{markerStart:d($,"conditional-flow-marker",V,J)}),ne.get("default")&&(he(ne,"bpmn:Gateway")||he(ne,"bpmn:Activity"))&&ne.get("default")===se&&Nt(re,{markerStart:d($,"conditional-default-flow-marker",V,J)})}return re},"bpmn:ServiceTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T);g($,10,10,{fill:pr(N,a,T.fill),stroke:"none",transform:"translate(6, 6)"});var J=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});w($,J,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1}),g($,10,10,{fill:pr(N,a,T.fill),stroke:"none",transform:"translate(11, 10)"});var re=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return w($,re,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:1}),V},"bpmn:StartEvent":function($,N,T={}){var{renderIcon:V=!0}=T;T=Tr(T,["fill","stroke"]);var J=ht(N);J.get("isInterrupting")||(T={...T,strokeDasharray:"6"});var re=D($,N,T);return V&&O(N,$,T),re},"bpmn:SubProcess":function($,N,T={}){return Er(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]),K($,N,T)},"bpmn:Task":function($,N,T={}){return T=Tr(T,["fill","stroke"]),te($,N,T)},"bpmn:TextAnnotation":function($,N,T={}){T=Tr(T,["fill","stroke","width","height"]);var{width:V,height:J}=mm(N,T),re=m($,V,J,0,0,{fill:"none",stroke:"none"}),se=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:V,containerHeight:J,position:{mx:0,my:0}});w($,se,{stroke:Et(N,l,T.stroke)});var B=ht(N),ne=B.get("text")||"";return R($,ne,{align:"left-top",box:mm(N,T),padding:7,style:{fill:pm(N,c,l,T.stroke)}}),re},"bpmn:Transaction":function($,N,T={}){Er(N)?T=Tr(T,["fill","stroke","width","height"]):T=Tr(T,["fill","stroke"]);var V=K($,N,{strokeWidth:1.5,...T}),J=r.style(["no-fill","no-events"],{stroke:Et(N,l,T.stroke),strokeWidth:1.5}),re=Er(N);return re||(T={}),m($,La(N,T),Hs(N,T),ny-nv,nv,J),V},"bpmn:UserTask":function($,N,T={}){T=Tr(T,["fill","stroke"]);var V=te($,N,T),J=15,re=12,se=n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:J,y:re}});w($,se,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:.5});var B=n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:J,y:re}});w($,B,{fill:pr(N,a,T.fill),stroke:Et(N,l,T.stroke),strokeWidth:.5});var ne=n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:J,y:re}});return w($,ne,{fill:Et(N,l,T.stroke),stroke:Et(N,l,T.stroke),strokeWidth:.5}),V},label:function($,N,T={}){return j($,N,T)}};this._drawPath=w,this._renderer=M}Ct(vh,cc);vh.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];vh.prototype.canRender=function(e){return he(e,"bpmn:BaseElement")};vh.prototype.drawShape=function(e,t,r={}){var{type:n}=t,i=this._renderer(n);return i(e,t,r)};vh.prototype.drawConnection=function(e,t,r={}){var{type:n}=t,i=this._renderer(n);return i(e,t,r)};vh.prototype.getShapePath=function(e){return he(e,"bpmn:Event")?Ere(e):he(e,"bpmn:Activity")?kre(e,ny):he(e,"bpmn:Gateway")?Nre(e):Are(e)};function Tr(e,t=[]){return t.reduce((r,n)=>(e[n]&&(r[n]=e[n]),r),{})}var Ore=0,Ire={width:150,height:50};function Mre(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function Lre(e){return Mi(e)?Ie({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function Dre(e,t){t.textContent=e;var r;try{var n,i=e==="";return t.textContent=i?"dummy":e,r=t.getBBox(),n={width:r.width+r.x*2,height:r.height},i&&(n.width=0),n}catch(s){return console.log(s),{width:0,height:0}}}function Bre(e,t,r){for(var n=e.shift(),i=n,s;;){if(s=Dre(i,r),s.width=i?s.width:0,i===" "||i===""||s.width<Math.round(t)||i.length<2)return Fre(e,i,n,s);i=Ure(i,s.width,t)}}function Fre(e,t,r,n){if(t.length<r.length){var i=r.slice(t.length).trim();e.unshift(i)}return{width:n.width,height:n.height,text:t}}var tC="­";function zre(e,t){var r=e.split(/(\s|-|\u00AD)/g),n,i=[],s=0;if(r.length>1)for(;n=r.shift();)if(n.length+s<t)i.push(n),s+=n.length;else{(n==="-"||n===tC)&&i.pop();break}var o=i[i.length-1];return o&&o===tC&&(i[i.length-1]="-"),i.join("")}function Ure(e,t,r){var n=Math.max(e.length*(r/t),1),i=zre(e,n);return i||(i=e.slice(0,Math.max(Math.round(n-1),1))),i}function $re(){var e=document.getElementById("helper-svg");return e||(e=Mt("svg"),Nt(e,{id:"helper-svg"}),Ji(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}function r2(e){this._config=Ie({},{size:Ire,padding:Ore,style:{},align:"center-top"},e||{})}r2.prototype.createText=function(e,t){return this.layoutText(e,t).element};r2.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions};r2.prototype.layoutText=function(e,t){var r=Ie({},this._config.size,t.box),n=Ie({},this._config.style,t.style),i=Mre(t.align||this._config.align),s=Lre(t.padding!==void 0?t.padding:this._config.padding),o=t.fitBox||!1,a=Hre(n),l=e.split(/\u00AD?\r?\n/),c=[],u=r.width-s.left-s.right,h=Mt("text");Nt(h,{x:0,y:0}),Nt(h,n);var f=$re();for(rr(f,h);l.length;)c.push(Bre(l,u,h));i.vertical==="middle"&&(s.top=s.bottom=0);var d=Qs(c,function(y,x,w){return y+(a||x.height)},0)+s.top+s.bottom,p=Qs(c,function(y,x,w){return x.width>y?x.width:y},0),g=s.top;i.vertical==="middle"&&(g+=(r.height-d)/2),g-=(a||c[0].height)/4;var m=Mt("text");Nt(m,n),Ce(c,function(y){var x;switch(g+=a||y.height,i.horizontal){case"left":x=s.left;break;case"right":x=(o?p:u)-s.right-y.width;break;default:x=Math.max(((o?p:u)-y.width)/2+s.left,0)}var w=Mt("tspan");Nt(w,{x,y:g}),w.textContent=y.text,rr(m,w)}),ui(h);var v={width:p,height:d};return{dimensions:v,element:m}};function Hre(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}var Wre=12,qre=1.2,Vre=30;function wD(e){var t=Ie({fontFamily:"Arial, sans-serif",fontSize:Wre,fontWeight:"normal",lineHeight:qre},e&&e.defaultStyle||{}),r=parseInt(t.fontSize,10)-1,n=Ie({},t,{fontSize:r},e&&e.externalStyle||{}),i=new r2({style:t});this.getExternalLabelBounds=function(s,o){var a=i.getDimensions(o,{box:{width:90,height:30},style:n});return{x:Math.round(s.x+s.width/2-a.width/2),y:Math.round(s.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(s,o){var a=i.getDimensions(o,{box:s,style:t,align:"left-top",padding:5});return{x:s.x,y:s.y,width:s.width,height:Math.max(Vre,Math.round(a.height))}},this.createText=function(s,o){return i.createText(s,o||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return n}}wD.$inject=["config.textRenderer"];function Gre(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,r){var n=this.pathMap[t],i,s;r.abspos?(i=r.abspos.x,s=r.abspos.y):(i=r.containerWidth*r.position.mx,s=r.containerHeight*r.position.my);var o={};if(r.position){for(var a=r.containerHeight/n.height*r.yScaleFactor,l=r.containerWidth/n.width*r.xScaleFactor,c=0;c<n.heightElements.length;c++)o["y"+c]=n.heightElements[c]*a;for(var u=0;u<n.widthElements.length;u++)o["x"+u]=n.widthElements[u]*l}var h=Yre(n.d,{mx:i,my:s,e:o});return h}}var Kre=/\{([^{}]+)\}/g,Xre=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function Zre(e,t,r){var n=r;return t.replace(Xre,function(i,s,o,a,l){s=s||a,n&&(s in n&&(n=n[s]),typeof n=="function"&&l&&(n=n()))}),n=(n==null||n==r?e:n)+"",n}function Yre(e,t){return String(e).replace(Kre,function(r,n){return Zre(r,n,t)})}const Jre={__init__:["bpmnRenderer"],bpmnRenderer:["type",vh],textRenderer:["type",wD],pathMap:["type",Gre]};function Qre(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(r,n){return t[n]||"{"+n+"}"})}const n2={translate:["value",Qre]};function iy(e,t,r){return Ie({id:e.id,type:e.$type,businessObject:e,di:t},r)}function ene(e,t,r){var n=e.waypoint;return!n||n.length<2?[Jt(t),Jt(r)]:n.map(function(i){return{x:i.x,y:i.y}})}function _D(e,t,r){return new Error(`element ${Yi(t)} referenced by ${Yi(e)}#${r} not yet drawn`)}function dc(e,t,r,n,i){this._eventBus=e,this._canvas=t,this._elementFactory=r,this._elementRegistry=n,this._textRenderer=i}dc.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];dc.prototype.add=function(e,t,r){var n,i,s;if(he(t,"bpmndi:BPMNPlane")){var o=he(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};n=this._elementFactory.createRoot(iy(e,t,o)),this._canvas.addRootElement(n)}else if(he(t,"bpmndi:BPMNShape")){var a=!Er(e,t),l=rne(e);i=r&&(r.hidden||r.collapsed);var c=t.bounds;n=this._elementFactory.createShape(iy(e,t,{collapsed:a,hidden:i,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height),isFrame:l})),he(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),he(e,"bpmn:Lane")&&(s=0),he(e,"bpmn:DataStoreReference")&&(tne(r,Jt(c))||(r=this._canvas.findRoot(r))),this._canvas.addShape(n,r,s)}else if(he(t,"bpmndi:BPMNEdge")){var u=this._getSource(e),h=this._getTarget(e);i=r&&(r.hidden||r.collapsed),n=this._elementFactory.createConnection(iy(e,t,{hidden:i,source:u,target:h,waypoints:ene(t,u,h)})),he(e,"bpmn:DataAssociation")&&(r=this._canvas.findRoot(r)),this._canvas.addConnection(n,r,s)}else throw new Error(`unknown di ${Yi(t)} for element ${Yi(e)}`);return ah(e)&&Ao(n)&&this.addLabel(e,t,n),this._eventBus.fire("bpmnElement.added",{element:n}),n};dc.prototype._attachBoundary=function(e,t){var r=e.attachedToRef;if(!r)throw new Error(`missing ${Yi(e)}#attachedToRef`);var n=this._elementRegistry.get(r.id),i=n&&n.attachers;if(!n)throw _D(e,r,"attachedToRef");t.host=n,i||(n.attachers=i=[]),i.indexOf(t)===-1&&i.push(t)};dc.prototype.addLabel=function(e,t,r){var n,i,s;return n=yre(t,r),i=Ao(r),i&&(n=this._textRenderer.getExternalLabelBounds(n,i)),s=this._elementFactory.createLabel(iy(e,t,{id:e.id+"_label",labelTarget:r,type:"label",hidden:r.hidden||!Ao(r),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(s,r.parent)};dc.prototype._getConnectedElement=function(e,t){var r,n,i=e.$type;if(n=e[t+"Ref"],t==="source"&&i==="bpmn:DataInputAssociation"&&(n=n&&n[0]),(t==="source"&&i==="bpmn:DataOutputAssociation"||t==="target"&&i==="bpmn:DataInputAssociation")&&(n=e.$parent),r=n&&this._getElement(n),r)return r;throw n?_D(e,n,t+"Ref"):new Error(`${Yi(e)}#${t} Ref not specified`)};dc.prototype._getSource=function(e){return this._getConnectedElement(e,"source")};dc.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")};dc.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};function tne(e,t){var r=t.x,n=t.y;return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function rne(e){return he(e,"bpmn:Group")}const nne={__depends__:[n2],bpmnImporter:["type",dc]},ine={__depends__:[Jre,nne]};function wg(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(Math.random()*1e9)+"-"}wg.prototype.next=function(){return this._prefix+ ++this._counter};var sne=new wg("ov"),ane=500;function Li(e,t,r,n){this._eventBus=t,this._canvas=r,this._elementRegistry=n,this._ids=sne,this._overlayDefaults=Ie({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=one(r.getContainer()),this._init()}Li.$inject=["config.overlays","eventBus","canvas","elementRegistry"];Li.prototype.get=function(e){if(Js(e)&&(e={id:e}),Js(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?mr(t.overlays,wo({type:e.type})):t.overlays.slice():[]}else return e.type?mr(this._overlays,wo({type:e.type})):e.id?this._overlays[e.id]:null};Li.prototype.add=function(e,t,r){if(Mi(t)&&(r=t,t=null),e.id||(e=this._elementRegistry.get(e)),!r.position)throw new Error("must specifiy overlay position");if(!r.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var n=this._ids.next();return r=Ie({},this._overlayDefaults,r,{id:n,type:t,element:e,html:r.html}),this._addOverlay(r),n};Li.prototype.remove=function(e){var t=this.get(e)||[];Qt(t)||(t=[t]);var r=this;Ce(t,function(n){var i=r._getOverlayContainer(n.element,!0);if(n&&(dl(n.html),dl(n.htmlContainer),delete n.htmlContainer,delete n.element,delete r._overlays[n.id]),i){var s=i.overlays.indexOf(n);s!==-1&&i.overlays.splice(s,1)}})};Li.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};Li.prototype.show=function(){i2(this._overlayRoot)};Li.prototype.hide=function(){i2(this._overlayRoot,!1)};Li.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Gb(this._overlayRoot)};Li.prototype._updateOverlayContainer=function(e){var t=e.element,r=e.html,n=t.x,i=t.y;if(t.waypoints){var s=di(t);n=s.x,i=s.y}SD(r,n,i),Qi(e.html,"data-container-id",t.id)};Li.prototype._updateOverlay=function(e){var t=e.position,r=e.htmlContainer,n=e.element,i=t.left,s=t.top;if(t.right!==void 0){var o;n.waypoints?o=di(n).width:o=n.width,i=t.right*-1+o}if(t.bottom!==void 0){var a;n.waypoints?a=di(n).height:a=n.height,s=t.bottom*-1+a}SD(r,i||0,s||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())};Li.prototype._createOverlayContainer=function(e){var t=dn('<div class="djs-overlays" />');Ji(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var r={html:t,element:e,overlays:[]};return this._updateOverlayContainer(r),this._overlayContainers.push(r),r};Li.prototype._updateRoot=function(e){var t=e.scale||1,r="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";ED(this._overlayRoot,r)};Li.prototype._getOverlayContainer=function(e,t){var r=Lr(this._overlayContainers,function(n){return n.element===e});return!r&&!t?this._createOverlayContainer(e):r};Li.prototype._addOverlay=function(e){var t=e.id,r=e.element,n=e.html,i,s;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),Js(n)&&(n=dn(n)),s=this._getOverlayContainer(r),i=dn('<div class="djs-overlay" data-overlay-id="'+t+'">'),Ji(i,{position:"absolute"}),i.appendChild(n),e.type&&On(i).add("djs-overlay-"+e.type);var o=this._canvas.findRoot(r),a=this._canvas.getRootElement();i2(i,o===a),e.htmlContainer=i,s.overlays.push(e),s.html.appendChild(i),this._overlays[t]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())};Li.prototype._updateOverlayVisibilty=function(e,t){var r=e.show,n=this._canvas.findRoot(e.element),i=r&&r.minZoom,s=r&&r.maxZoom,o=e.htmlContainer,a=this._canvas.getRootElement(),l=!0;(n!==a||r&&(Pi(i)&&i>t.scale||Pi(s)&&s<t.scale))&&(l=!1),i2(o,l),this._updateOverlayScale(e,t)};Li.prototype._updateOverlayScale=function(e,t){var r=e.scale,n,i,s=e.htmlContainer,o,a="";r!==!0&&(r===!1?(n=1,i=1):(n=r.min,i=r.max),Pi(n)&&t.scale<n&&(o=(1/t.scale||1)*n),Pi(i)&&t.scale>i&&(o=(1/t.scale||1)*i)),Pi(o)&&(a="scale("+o+","+o+")"),ED(s,a)};Li.prototype._updateOverlaysVisibilty=function(e){var t=this;Ce(this._overlays,function(r){t._updateOverlayVisibilty(r,e)})};Li.prototype._init=function(){var e=this._eventBus,t=this;function r(n){t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()}e.on("canvas.viewbox.changing",function(n){t.hide()}),e.on("canvas.viewbox.changed",function(n){r(n.viewbox)}),e.on(["shape.remove","connection.remove"],function(n){var i=n.element,s=t.get({element:i});Ce(s,function(l){t.remove(l.id)});var o=t._getOverlayContainer(i);if(o){dl(o.html);var a=t._overlayContainers.indexOf(o);a!==-1&&t._overlayContainers.splice(a,1)}}),e.on("element.changed",ane,function(n){var i=n.element,s=t._getOverlayContainer(i,!0);s&&(Ce(s.overlays,function(o){t._updateOverlay(o)}),t._updateOverlayContainer(s))}),e.on("element.marker.update",function(n){var i=t._getOverlayContainer(n.element,!0);i&&On(i.html)[n.add?"add":"remove"](n.marker)}),e.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),e.on("diagram.clear",this.clear,this)};function one(e){var t=dn('<div class="djs-overlay-container" />');return Ji(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}function SD(e,t,r){Ji(e,{left:t+"px",top:r+"px"})}function i2(e,t){e.style.display=t===!1?"none":""}function ED(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(r){e.style[r+"transform"]=t})}const s2={__init__:["overlays"],overlays:["type",Li]};function kD(e,t,r,n){e.on("element.changed",function(i){var s=i.element;(s.parent||s===t.getRootElement())&&(i.gfx=r.getGraphics(s)),i.gfx&&e.fire(DL(s)+".changed",i)}),e.on("elements.changed",function(i){var s=i.elements;s.forEach(function(o){e.fire("element.changed",{element:o})}),n.updateContainments(s)}),e.on("shape.changed",function(i){n.update("shape",i.element,i.gfx)}),e.on("connection.changed",function(i){n.update("connection",i.element,i.gfx)})}kD.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const K8={__init__:["changeSupport"],changeSupport:["type",kD]};var lne=1e3;function at(e){this._eventBus=e}at.$inject=["eventBus"];function cne(e,t){return function(r){return e.call(t||null,r.context,r.command,r)}}at.prototype.on=function(e,t,r,n,i,s){if((yi(t)||Yt(t))&&(s=i,i=n,n=r,r=t,t=null),yi(r)&&(s=i,i=n,n=r,r=lne),Mi(i)&&(s=i,i=!1),!yi(n))throw new Error("handlerFn must be a function");Qt(e)||(e=[e]);var o=this._eventBus;Ce(e,function(a){var l=["commandStack",a,t].filter(function(c){return c}).join(".");o.on(l,r,i?cne(n,s):n,s)})};at.prototype.canExecute=hc("canExecute");at.prototype.preExecute=hc("preExecute");at.prototype.preExecuted=hc("preExecuted");at.prototype.execute=hc("execute");at.prototype.executed=hc("executed");at.prototype.postExecute=hc("postExecute");at.prototype.postExecuted=hc("postExecuted");at.prototype.revert=hc("revert");at.prototype.reverted=hc("reverted");function hc(e){return function(r,n,i,s,o){(yi(r)||Yt(r))&&(o=s,s=i,i=n,n=r,r=null),this.on(r,e,n,i,s,o)}}function X8(e,t){t.invoke(at,this),this.executed(function(r){var n=r.context;n.rootElement?e.setRootElement(n.rootElement):n.rootElement=e.getRootElement()}),this.revert(function(r){var n=r.context;n.rootElement&&e.setRootElement(n.rootElement)})}Ct(X8,at);X8.$inject=["canvas","injector"];const une={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",X8]};function K0(e){return CSS.escape(e)}var dne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ND(e){return e=""+e,e&&e.replace(/[&<>"']/g,function(t){return dne[t]})}var AD="_plane";function rC(e){var t=e.id;return hne(t)}function Wl(e){var t=e.id;return he(e,"bpmn:SubProcess")?CD(t):t}function yd(e){return CD(e)}function sy(e){var t=Or(e);return he(t,"bpmndi:BPMNPlane")}function CD(e){return e+AD}function hne(e){return e.replace(new RegExp(AD+"$"),"")}var fne="bjs-breadcrumbs-shown";function jD(e,t,r){var n=dn('<ul class="bjs-breadcrumbs"></ul>'),i=r.getContainer(),s=On(i);i.appendChild(n);var o=[];e.on("element.changed",function(l){var c=l.element,u=ht(c),h=Lr(o,function(f){return f===u});h&&a()});function a(l){l&&(o=pne(l));var c=o.flatMap(function(h){var f=r.findRoot(Wl(h))||r.findRoot(h.id);if(!f&&he(h,"bpmn:Process")){var d=t.find(function(m){var v=ht(m);return v&&v.get("processRef")===h});f=d&&r.findRoot(d.id)}if(!f)return[];var p=ND(h.name||h.id),g=dn('<li><span class="bjs-crumb"><a title="'+p+'">'+p+"</a></span></li>");return g.addEventListener("click",function(){r.setRootElement(f)}),g});n.innerHTML="";var u=c.length>1;s.toggle(fne,u),c.forEach(function(h){n.appendChild(h)})}e.on("root.set",function(l){a(l.element)})}jD.$inject=["eventBus","elementRegistry","canvas"];function pne(e){for(var t=ht(e),r=[],n=t;n;n=n.$parent)(he(n,"bpmn:SubProcess")||he(n,"bpmn:Process"))&&r.push(n);return r.reverse()}function TD(e,t){var r=null,n=new mne;e.on("root.set",function(i){var s=i.element,o=t.viewbox(),a=n.get(s);if(n.set(r,{x:o.x,y:o.y,zoom:o.scale}),r=s,!(!he(s,"bpmn:SubProcess")&&!a)){a=a||{x:0,y:0,zoom:1};var l=(o.x-a.x)*o.scale,c=(o.y-a.y)*o.scale;(l!==0||c!==0)&&t.scroll({dx:l,dy:c}),a.zoom!==o.scale&&t.zoom(a.zoom,{x:0,y:0})}}),e.on("diagram.clear",function(){n.clear(),r=null})}TD.$inject=["eventBus","canvas"];function mne(){this._entries=[],this.set=function(e,t){var r=!1;for(var n in this._entries)if(this._entries[n][0]===e){this._entries[n][1]=t,r=!0;break}r||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var r in this._entries)if(this._entries[r][0]===e){t=r;break}t!==-1&&this._entries.splice(t,1)}}var nC={x:180,y:160};function yh(e,t){this._eventBus=e,this._moddle=t;var r=this;e.on("import.render.start",1500,function(n,i){r._handleImport(i.definitions)})}yh.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach(function(n){!n.plane||!n.plane.bpmnElement||(t._processToDiagramMap[n.plane.bpmnElement.id]=n)});var r=e.diagrams.filter(n=>n.plane).flatMap(n=>t._createNewDiagrams(n.plane));r.forEach(function(n){t._movePlaneElementsToOrigin(n.plane)})}};yh.prototype._createNewDiagrams=function(e){var t=this,r=[],n=[];e.get("planeElement").forEach(function(s){var o=s.bpmnElement;if(o){var a=o.$parent;he(o,"bpmn:SubProcess")&&!s.isExpanded&&r.push(o),vne(o,e)&&n.push({diElement:s,parent:a})}});var i=[];return r.forEach(function(s){if(!t._processToDiagramMap[s.id]){var o=t._createDiagram(s);t._processToDiagramMap[s.id]=o,i.push(o)}}),n.forEach(function(s){for(var o=s.diElement,a=s.parent;a&&r.indexOf(a)===-1;)a=a.$parent;if(a){var l=t._processToDiagramMap[a.id];t._moveToDiPlane(o,l.plane)}}),i};yh.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),r=gne(e),n={x:r.x-nC.x,y:r.y-nC.y};t.forEach(function(i){i.waypoint?i.waypoint.forEach(function(s){s.x=s.x-n.x,s.y=s.y-n.y}):i.bounds&&(i.bounds.x=i.bounds.x-n.x,i.bounds.y=i.bounds.y-n.y)})};yh.prototype._moveToDiPlane=function(e,t){var r=RD(e),n=r.plane.get("planeElement");n.splice(n.indexOf(e),1),t.get("planeElement").push(e)};yh.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),r=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=r,t.bpmnElement=e,r.$parent=this._definitions,this._definitions.diagrams.push(r),r};yh.$inject=["eventBus","moddle"];function RD(e){return he(e,"bpmndi:BPMNDiagram")?e:RD(e.$parent)}function gne(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach(function(r){if(r.bounds){var n=Ht(r.bounds);t.top=Math.min(n.top,t.top),t.left=Math.min(n.left,t.left)}}),Yb(t)}function vne(e,t){var r=e.$parent;return!(!he(r,"bpmn:SubProcess")||r===t.bpmnElement||gr(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var iv=250,yne='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',bne="bjs-drilldown-empty";function Lu(e,t,r,n,i){at.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=r,this._overlays=n,this._translate=i;var s=this;this.executed("shape.toggleCollapse",iv,function(o){var a=o.shape;s._canDrillDown(a)?s._addOverlay(a):s._removeOverlay(a)},!0),this.reverted("shape.toggleCollapse",iv,function(o){var a=o.shape;s._canDrillDown(a)?s._addOverlay(a):s._removeOverlay(a)},!0),this.executed(["shape.create","shape.move","shape.delete"],iv,function(o){var a=o.oldParent,l=o.newParent||o.parent,c=o.shape;s._canDrillDown(c)&&s._addOverlay(c),s._updateDrilldownOverlay(a),s._updateDrilldownOverlay(l),s._updateDrilldownOverlay(c)},!0),this.reverted(["shape.create","shape.move","shape.delete"],iv,function(o){var a=o.oldParent,l=o.newParent||o.parent,c=o.shape;s._canDrillDown(c)&&s._addOverlay(c),s._updateDrilldownOverlay(a),s._updateDrilldownOverlay(l),s._updateDrilldownOverlay(c)},!0),t.on("import.render.complete",function(){r.filter(function(o){return s._canDrillDown(o)}).map(function(o){s._addOverlay(o)})})}Ct(Lu,at);Lu.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var r=t.findRoot(e);r&&this._updateOverlayVisibility(r)}};Lu.prototype._canDrillDown=function(e){var t=this._canvas;return he(e,"bpmn:SubProcess")&&t.findRoot(Wl(e))};Lu.prototype._updateOverlayVisibility=function(e){var t=this._overlays,r=ht(e),n=t.get({element:r.id,type:"drilldown"})[0];if(n){var i=r&&r.get("flowElements")&&r.get("flowElements").length;On(n.html).toggle(bne,!i)}};Lu.prototype._addOverlay=function(e){var t=this._canvas,r=this._overlays,n=ht(e),i=r.get({element:e,type:"drilldown"});i.length&&this._removeOverlay(e);var s=dn('<button type="button" class="bjs-drilldown">'+yne+"</button>"),o=n.get("name")||n.get("id"),a=this._translate("Open {element}",{element:o});s.setAttribute("title",a),s.addEventListener("click",function(){t.setRootElement(t.findRoot(Wl(e)))}),r.add(e,"drilldown",{position:{bottom:-7,right:-8},html:s}),this._updateOverlayVisibility(e)};Lu.prototype._removeOverlay=function(e){var t=this._overlays;t.remove({element:e,type:"drilldown"})};Lu.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const xne={__depends__:[s2,K8,une],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",jD],drilldownCentering:["type",TD],drilldownOverlayBehavior:["type",Lu],subprocessCompatibility:["type",yh]};function iC(e){!e||typeof e.stopPropagation!="function"||e.stopPropagation()}function wp(e){return e.originalEvent||e.srcEvent}function Uw(e){iC(e),iC(wp(e))}function oh(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function PD(){return/mac/i.test(navigator.platform)}function OD(e,t){return(wp(e)||e).button===t}function Du(e){return OD(e,0)}function wne(e){return OD(e,1)}function X0(e){var t=wp(e)||e;return Du(e)?PD()?t.metaKey:t.ctrlKey:!1}function ib(e){var t=wp(e)||e;return Du(e)&&t.shiftKey}function _ne(e){return!0}function sv(e){return Du(e)||wne(e)}var sC=500;function ID(e,t,r){var n=this;function i(L,O,H){if(!a(L,O)){var G,I,R;H?I=t.getGraphics(H):(G=O.delegateTarget||O.target,G&&(I=G,H=t.get(I))),!(!I||!H)&&(R=e.fire(L,{element:H,gfx:I,originalEvent:O}),R===!1&&(O.stopPropagation(),O.preventDefault()))}}var s={};function o(L){return s[L]}function a(L,O){var H=c[L]||Du;return!H(O)}var l={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":_ne,"element.mousedown":sv,"element.mouseup":sv,"element.click":sv,"element.dblclick":sv};function u(L,O,H){var G=l[L];if(!G)throw new Error("unmapped DOM event name <"+L+">");return i(G,O,H)}var h="svg, .djs-element";function f(L,O,H,G){var I=s[H]=function(R){i(H,R)};G&&(c[H]=G),I.$delegate=Ks.bind(L,h,O,I)}function d(L,O,H){var G=o(H);G&&Ks.unbind(L,O,G.$delegate)}function p(L){Ce(l,function(O,H){f(L,H,O)})}function g(L){Ce(l,function(O,H){d(L,H,O)})}e.on("canvas.destroy",function(L){g(L.svg)}),e.on("canvas.init",function(L){p(L.svg)}),e.on(["shape.added","connection.added"],function(L){var O=L.element,H=L.gfx;e.fire("interactionEvents.createHit",{element:O,gfx:H})}),e.on(["shape.changed","connection.changed"],sC,function(L){var O=L.element,H=L.gfx;e.fire("interactionEvents.updateHit",{element:O,gfx:H})}),e.on("interactionEvents.createHit",sC,function(L){var O=L.element,H=L.gfx;n.createDefaultHit(O,H)}),e.on("interactionEvents.updateHit",function(L){var O=L.element,H=L.gfx;n.updateDefaultHit(O,H)});var m=_("djs-hit djs-hit-stroke"),v=_("djs-hit djs-hit-click-stroke"),y=_("djs-hit djs-hit-all"),x=_("djs-hit djs-hit-no-move"),w={all:y,"click-stroke":v,stroke:m,"no-move":x};function _(L,O){return O=Ie({stroke:"white",strokeWidth:15},O||{}),r.cls(L,["no-fill","no-border"],O)}function M(L,O){var H=w[O];if(!H)throw new Error("invalid hit type <"+O+">");return Nt(L,H),L}function U(L,O){rr(L,O)}this.removeHits=function(L){var O=S4(".djs-hit",L);Ce(O,ui)},this.createDefaultHit=function(L,O){var H=L.waypoints,G=L.isFrame,I;return H?this.createWaypointsHit(O,H):(I=G?"stroke":"all",this.createBoxHit(O,I,{width:L.width,height:L.height}))},this.createWaypointsHit=function(L,O){var H=Xb(O);return M(H,"stroke"),U(L,H),H},this.createBoxHit=function(L,O,H){H=Ie({x:0,y:0},H);var G=Mt("rect");return M(G,O),Nt(G,H),U(L,G),G},this.updateDefaultHit=function(L,O){var H=Jr(".djs-hit",O);if(H)return L.waypoints?IL(H,L.waypoints):Nt(H,{width:L.width,height:L.height}),H},this.fire=i,this.triggerMouseEvent=u,this.mouseHandler=o,this.registerEvent=f,this.unregisterEvent=d}ID.$inject=["eventBus","elementRegistry","styles"];const a2={__init__:["interactionEvents"],interactionEvents:["type",ID]};function _p(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var r=this;e.on(["shape.remove","connection.remove"],function(n){var i=n.element;r.deselect(i)}),e.on(["diagram.clear","root.set"],function(n){r.select(null)})}_p.$inject=["eventBus","canvas"];_p.prototype.deselect=function(e){var t=this._selectedElements,r=t.indexOf(e);if(r!==-1){var n=t.slice();t.splice(r,1),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:t})}};_p.prototype.get=function(){return this._selectedElements};_p.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1};_p.prototype.select=function(e,t){var r=this._selectedElements,n=r.slice();Qt(e)||(e=e?[e]:[]);var i=this._canvas,s=i.getRootElement();e=e.filter(function(o){var a=i.findRoot(o);return s===a}),t?Ce(e,function(o){r.indexOf(o)===-1&&r.push(o)}):this._selectedElements=r=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:r})};var aC="hover",oC="selected";function MD(e,t){this._canvas=e;function r(i,s){e.addMarker(i,s)}function n(i,s){e.removeMarker(i,s)}t.on("element.hover",function(i){r(i.element,aC)}),t.on("element.out",function(i){n(i.element,aC)}),t.on("selection.changed",function(i){function s(c){n(c,oC)}function o(c){r(c,oC)}var a=i.oldSelection,l=i.newSelection;Ce(a,function(c){l.indexOf(c)===-1&&s(c)}),Ce(l,function(c){a.indexOf(c)===-1&&o(c)})})}MD.$inject=["canvas","eventBus"];function LD(e,t,r,n){e.on("create.end",500,function(i){var s=i.context,o=s.canExecute,a=s.elements,l=s.hints||{},c=l.autoSelect;if(o){if(c===!1)return;Qt(c)?t.select(c):t.select(a.filter(Sne))}}),e.on("connect.end",500,function(i){var s=i.context,o=s.connection;o&&t.select(o)}),e.on("shape.move.end",500,function(i){var s=i.previousSelection||[],o=n.get(i.context.shape.id),a=Lr(s,function(l){return o.id===l.id});a||t.select(o)}),e.on("element.click",function(i){if(Du(i)){var s=i.element;s===r.getRootElement()&&(s=null);var o=t.isSelected(s),a=t.get().length>1,l=ib(i);if(o&&a)return l?t.deselect(s):t.select(s);o?t.deselect(s):t.select(s,l)}})}LD.$inject=["eventBus","selection","canvas","elementRegistry"];function Sne(e){return!e.hidden}const To={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a2],selection:["type",_p],selectionVisuals:["type",MD],selectionBehavior:["type",LD]};function Bu(e){Cn.call(this,e)}Ct(Bu,Cn);Bu.prototype._modules=[ine,xne,s2,To,n2];Bu.prototype._moddleExtensions={};var Ene=["c","C"],kne=["v","V"],Nne=["y","Y"],DD=["z","Z"];function Ane(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function qa(e){return e.altKey?!1:e.ctrlKey||e.metaKey}function Ri(e,t){return e=Qt(e)?e:[e],e.indexOf(t.key)!==-1||e.indexOf(t.code)!==-1}function Z8(e){return e.shiftKey}function Cne(e){return qa(e)&&Ri(Ene,e)}function jne(e){return qa(e)&&Ri(kne,e)}function Tne(e){return qa(e)&&!Z8(e)&&Ri(DD,e)}function Rne(e){return qa(e)&&(Ri(Nne,e)||Ri(DD,e)&&Z8(e))}var o2="keyboard.keydown",Pne="keyboard.keyup",One=1e3,BD="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function xs(e,t){var r=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){r._fire("destroy"),r.unbind()}),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(BD));var n=e&&e.bind!==!1;t.on("canvas.init",function(i){r._target=i.svg,n&&r.bind(),r._fire("init")})}xs.$inject=["config.keyboard","eventBus"];xs.prototype._keydownHandler=function(e){this._keyHandler(e,o2)};xs.prototype._keyupHandler=function(e){this._keyHandler(e,Pne)};xs.prototype._keyHandler=function(e,t){var r;if(!this._isEventIgnored(e)){var n={keyEvent:e};r=this._eventBus.fire(t||o2,n),r&&e.preventDefault()}};xs.prototype._isEventIgnored=function(e){return!1};xs.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(BD)),this.unbind(),e=this._node=this._target,sr.bind(e,"keydown",this._keydownHandler),sr.bind(e,"keyup",this._keyupHandler),this._fire("bind")};xs.prototype.getBinding=function(){return this._node};xs.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),sr.unbind(e,"keydown",this._keydownHandler),sr.unbind(e,"keyup",this._keyupHandler)),this._node=null};xs.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})};xs.prototype.addListener=function(e,t,r){yi(e)&&(r=t,t=e,e=One),this._eventBus.on(r||o2,e,t)};xs.prototype.removeListener=function(e,t){this._eventBus.off(t||o2,e)};xs.prototype.hasModifier=Ane;xs.prototype.isCmd=qa;xs.prototype.isShift=Z8;xs.prototype.isKey=Ri;var Ine=500;function Sp(e,t){var r=this;e.on("editorActions.init",Ine,function(n){var i=n.editorActions;r.registerBindings(t,i)})}Sp.$inject=["eventBus","keyboard"];Sp.prototype.registerBindings=function(e,t){function r(n,i){t.isRegistered(n)&&e.addListener(i)}r("undo",function(n){var i=n.keyEvent;if(Tne(i))return t.trigger("undo"),!0}),r("redo",function(n){var i=n.keyEvent;if(Rne(i))return t.trigger("redo"),!0}),r("copy",function(n){var i=n.keyEvent;if(Cne(i))return t.trigger("copy"),!0}),r("paste",function(n){var i=n.keyEvent;if(jne(i))return t.trigger("paste"),!0}),r("stepZoom",function(n){var i=n.keyEvent;if(Ri(["+","Add","="],i)&&qa(i))return t.trigger("stepZoom",{value:1}),!0}),r("stepZoom",function(n){var i=n.keyEvent;if(Ri(["-","Subtract"],i)&&qa(i))return t.trigger("stepZoom",{value:-1}),!0}),r("zoom",function(n){var i=n.keyEvent;if(Ri("0",i)&&qa(i))return t.trigger("zoom",{value:1}),!0}),r("removeSelection",function(n){var i=n.keyEvent;if(Ri(["Backspace","Delete","Del"],i))return t.trigger("removeSelection"),!0})};const Y8={__init__:["keyboard","keyboardBindings"],keyboard:["type",xs],keyboardBindings:["type",Sp]};var Mne={moveSpeed:50,moveSpeedAccelerated:200};function FD(e,t,r){var n=this;this._config=Ie({},Mne,e||{}),t.addListener(i);function i(s){var o=s.keyEvent,a=n._config;if(t.isCmd(o)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],o)){var l=t.isShift(o)?a.moveSpeedAccelerated:a.moveSpeed,c;switch(o.key){case"ArrowLeft":case"Left":c="left";break;case"ArrowUp":case"Up":c="up";break;case"ArrowRight":case"Right":c="right";break;case"ArrowDown":case"Down":c="down";break}return n.moveCanvas({speed:l,direction:c}),!0}}this.moveCanvas=function(s){var o=0,a=0,l=s.speed,c=l/Math.min(Math.sqrt(r.viewbox().scale),1);switch(s.direction){case"left":o=c;break;case"up":a=c;break;case"right":o=-c;break;case"down":a=-c;break}r.scroll({dx:o,dy:a})}}FD.$inject=["config.keyboardMove","keyboard","canvas"];const zD={__depends__:[Y8],__init__:["keyboardMove"],keyboardMove:["type",FD]};var Lne=/^djs-cursor-.*$/;function l2(e){var t=On(document.body);t.removeMatching(Lne),e&&t.add("djs-cursor-"+e)}function UD(){l2(null)}var Dne=5e3;function $D(e,t){t=t||"element.click";function r(){return!1}return e.once(t,Dne,r),function(){e.off(t,r)}}function l0(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function _o(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Bne=15;function HD(e,t){var r;function n(a){return o(a.originalEvent)}e.on("canvas.focus.changed",function(a){a.focused?e.on("element.mousedown",500,n):e.off("element.mousedown",n)});function i(a){var l=r.start,c=r.button,u=oh(a),h=_o(u,l);if(!r.dragging&&Fne(h)>Bne&&(r.dragging=!0,c===0&&$D(e),l2("grab")),r.dragging){var f=r.last||r.start;h=_o(u,f),t.scroll({dx:h.x,dy:h.y}),r.last=u}a.preventDefault()}function s(a){sr.unbind(document,"mousemove",i),sr.unbind(document,"mouseup",s),r=null,UD()}function o(a){if(!vp(a.target,".djs-draggable")){var l=a.button;if(!(l>=2||a.ctrlKey||a.shiftKey||a.altKey))return r={button:l,start:oh(a)},sr.bind(document,"mousemove",i),sr.bind(document,"mouseup",s),!0}}this.isActive=function(){return!!r}}HD.$inject=["eventBus","canvas"];function Fne(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}const WD={__init__:["moveCanvas"],moveCanvas:["type",HD]};function I4(e){return Math.log(e)/Math.log(10)}function qD(e,t){var r=I4(e.min),n=I4(e.max),i=Math.abs(r)+Math.abs(n);return i/t}function zne(e,t){return Math.max(e.min,Math.min(e.max,t))}var Une=Math.sign||function(e){return e>=0?1:-1},J8={min:.2,max:4},VD=10,$ne=.1,Hne=.75;function gl(e,t,r){e=e||{},this._enabled=!1,this._canvas=r,this._container=r._container,this._handleWheel=Rs(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||Hne;var n=this;t.on("canvas.focus.changed",function(i){n._init(i.focused&&e.enabled!==!1)})}gl.$inject=["config.zoomScroll","eventBus","canvas"];gl.prototype.scroll=function(t){this._canvas.scroll(t)};gl.prototype.reset=function(){this._canvas.zoom("fit-viewport")};gl.prototype.zoom=function(t,r){var n=qD(J8,VD*2);this._totalDelta+=t,Math.abs(this._totalDelta)>$ne&&(this._zoom(t,r,n),this._totalDelta=0)};gl.prototype._handleWheel=function(t){if(this._canvas.isFocused()){var r=this._container;t.preventDefault();var n=t.ctrlKey||PD()&&t.metaKey,i=t.shiftKey,s=-1*this._scale,o;if(n?s*=t.deltaMode===0?.02:.32:s*=t.deltaMode===0?1:16,n){var a=r.getBoundingClientRect(),l={x:t.clientX-a.left,y:t.clientY-a.top};o=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*Une(t.deltaY)*s,this.zoom(o,l)}else i?o={dx:s*t.deltaY,dy:0}:o={dx:s*t.deltaX,dy:s*t.deltaY},this.scroll(o)}};gl.prototype.stepZoom=function(t,r){var n=qD(J8,VD);this._zoom(t,r,n)};gl.prototype._zoom=function(e,t,r){var n=this._canvas,i=e>0?1:-1,s=I4(n.zoom()),o=Math.round(s/r)*r;o+=r*i;var a=Math.pow(10,o);n.zoom(zne(J8,a),t)};gl.prototype.toggle=function(t){var r=this._container,n=this._handleWheel,i=this._enabled;return typeof t>"u"&&(t=!i),i!==t&&sr[t?"bind":"unbind"](r,"wheel",n,!1),this._enabled=t,t};gl.prototype._init=function(e){this.toggle(e)};const GD={__init__:["zoomScroll"],zoomScroll:["type",gl]};function Z0(e){Bu.call(this,e)}Ct(Z0,Bu);Z0.prototype._navigationModules=[zD,WD,GD];Z0.prototype._modules=[].concat(Bu.prototype._modules,Z0.prototype._navigationModules);function $w(e){return e&&e[e.length-1]}function lC(e){return e.y}function cC(e){return e.x}var Wne={left:cC,center:cC,right:function(e){return e.x+e.width},top:lC,middle:lC,bottom:function(e){return e.y+e.height}};function Ep(e,t){this._modeling=e,this._rules=t}Ep.$inject=["modeling","rules"];Ep.prototype._getOrientationDetails=function(e){var t=["top","bottom","middle"],r="x",n="width";return t.indexOf(e)!==-1&&(r="y",n="height"),{axis:r,dimension:n}};Ep.prototype._isType=function(e,t){return t.indexOf(e)!==-1};Ep.prototype._alignmentPosition=function(e,t){var r=this._getOrientationDetails(e),n=r.axis,i=r.dimension,s={},o={},a=!1,l,c,u;function h(f,d){return Math.round((f[n]+d[n]+d[i])/2)}if(this._isType(e,["left","top"]))s[e]=t[0][n];else if(this._isType(e,["right","bottom"]))u=$w(t),s[e]=u[n]+u[i];else if(this._isType(e,["center","middle"])){if(Ce(t,function(f){var d=f[n]+Math.round(f[i]/2);o[d]?o[d].elements.push(f):o[d]={elements:[f],center:d}}),l=ul(o,function(f){return f.elements.length>1&&(a=!0),f.elements.length}),a)return s[e]=$w(l).center,s;c=t[0],t=ul(t,function(f){return f[n]+f[i]}),u=$w(t),s[e]=h(c,u)}return s};Ep.prototype.trigger=function(e,t){var r=this._modeling,n,i=mr(e,function(l){return!(l.waypoints||l.host||l.labelTarget)});if(n=this._rules.allowed("elements.align",{elements:i}),Qt(n)&&(i=n),!(i.length<2||!n)){var s=Wne[t],o=ul(i,s),a=this._alignmentPosition(t,o);r.alignElements(o,a)}};const qne={__init__:["alignElements"],alignElements:["type",Ep]},Vne=new wg;function kp(e){this._scheduled={},e.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(t=>{this.cancel(t)})})}kp.$inject=["eventBus"];kp.prototype.schedule=function(e,t=Vne.next()){this.cancel(t);const r=this._schedule(e,t);return this._scheduled[t]=r,r.promise};kp.prototype._schedule=function(e,t){const r=Gne();return{executionId:setTimeout(()=>{try{this._scheduled[t]=null;try{r.resolve(e())}catch(i){r.reject(i)}}catch(i){console.error("Scheduler#_schedule execution failed",i)}}),promise:r.promise}};kp.prototype.cancel=function(e){const t=this._scheduled[e];t&&(this._cancel(t),this._scheduled[e]=null)};kp.prototype._cancel=function(e){clearTimeout(e.executionId)};function Gne(){const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}const Kne={scheduler:["type",kp]};var Xne="djs-element-hidden",av=".entry",Zne=1e3,uC=8,Yne=300;function Jn(e,t,r,n){this._canvas=e,this._elementRegistry=t,this._eventBus=r,this._scheduler=n,this._current=null,this._init()}Jn.$inject=["canvas","elementRegistry","eventBus","scheduler"];Jn.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",function(t){var r=t.newSelection,n=r.length?r.length===1?r[0]:r:null;n?e.open(n,!0):e.close()}),this._eventBus.on("elements.changed",function(t){var r=t.elements,n=e._current;if(n){var i=n.target,s=Qt(i)?i:[i],o=s.filter(function(l){return r.includes(l)});if(o.length){e.close();var a=s.filter(function(l){return e._elementRegistry.get(l.id)});a.length&&e._updateAndOpen(a.length>1?a:a[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){e._updatePosition()}),this._eventBus.on("element.marker.update",function(t){if(e.isOpen()){var r=t.element,n=e._current,i=Qt(n.target)?n.target:[n.target];i.includes(r)&&e._updateVisibility()}}),this._container=this._createContainer()};Jn.prototype._createContainer=function(){var e=dn('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(e),e};Jn.prototype.registerProvider=function(e,t){t||(t=e,e=Zne),this._eventBus.on("contextPad.getProviders",e,function(r){r.providers.push(t)})};Jn.prototype.getEntries=function(e){var t=this._getProviders(),r=Qt(e)?"getMultiElementContextPadEntries":"getContextPadEntries",n={};return Ce(t,function(i){if(yi(i[r])){var s=i[r](e);yi(s)?n=s(n):Ce(s,function(o,a){n[a]=o})}}),n};Jn.prototype.trigger=function(e,t,r){var n=this,i,s,o=t.delegateTarget||t.target;if(!o)return t.preventDefault();if(i=Qi(o,"data-action"),s=t.originalEvent||t,e==="mouseover"){this._timeout=setTimeout(function(){n._mouseout=n.triggerEntry(i,"hover",s,r)},Yne);return}else if(e==="mouseout"){clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null);return}return this.triggerEntry(i,e,s,r)};Jn.prototype.triggerEntry=function(e,t,r,n){if(this.isShown()){var i=this._current.target,s=this._current.entries,o=s[e];if(o){var a=o.action;if(this._eventBus.fire("contextPad.trigger",{entry:o,event:r})!==!1){if(yi(a)){if(t==="click")return a(r,i,n)}else if(a[t])return a[t](r,i,n);r.preventDefault()}}}};Jn.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))};Jn.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Jn.prototype._updateAndOpen=function(e){var t=this.getEntries(e),r=this._createHtml(e),n;Ce(t,function(i,s){var o=i.group||"default",a=dn(i.html||'<div class="entry" draggable="true"></div>'),l;Qi(a,"data-action",s),l=Jr("[data-group="+K0(o)+"]",r),l||(l=dn('<div class="group"></div>'),Qi(l,"data-group",o),r.appendChild(l)),l.appendChild(a),i.className&&Jne(a,i.className),i.title&&Qi(a,"title",i.title),i.imageUrl&&(n=dn("<img>"),Qi(n,"src",i.imageUrl),n.style.width="100%",n.style.height="100%",a.appendChild(n))}),On(r).add("open"),this._current={entries:t,html:r,target:e},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})};Jn.prototype._createHtml=function(e){var t=this,r=dn('<div class="djs-context-pad"></div>');return Ks.bind(r,av,"click",function(n){t.trigger("click",n)}),Ks.bind(r,av,"dragstart",function(n){t.trigger("dragstart",n)}),Ks.bind(r,av,"mouseover",function(n){t.trigger("mouseover",n)}),Ks.bind(r,av,"mouseout",function(n){t.trigger("mouseout",n)}),sr.bind(r,"mousedown",function(n){n.stopPropagation()}),this._container.appendChild(r),this._eventBus.fire("contextPad.create",{target:e,pad:r}),r};Jn.prototype.getPad=function(e){console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888"));let t;return this.isOpen()&&eie(this._current.target,e)?t=this._current.html:t=this._createHtml(e),{html:t}};Jn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};Jn.prototype.isOpen=function(e){var t=this._current;if(!t)return!1;if(!e)return!0;var r=t.target;return Qt(e)!==Qt(r)?!1:Qt(e)?e.length===r.length&&fh(e,function(n){return r.includes(n)}):r===e};Jn.prototype.isShown=function(){return this.isOpen()&&On(this._current.html).has("open")};Jn.prototype.show=function(){this.isOpen()&&(On(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))};Jn.prototype.hide=function(){this.isOpen()&&(On(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))};Jn.prototype._getPosition=function(e){if(!Qt(e)&&Qr(e)){var t=this._canvas.viewbox(),r=Qne(e),n=r.x*t.scale-t.x*t.scale,i=r.y*t.scale-t.y*t.scale;return{left:n+uC*this._canvas.zoom(),top:i}}var s=this._canvas.getContainer(),o=s.getBoundingClientRect(),a=this._getTargetBounds(e);return{left:a.right-o.left+uC*this._canvas.zoom(),top:a.top-o.top}};Jn.prototype._updatePosition=function(){const e=()=>{if(this.isOpen()){var t=this._current.html,r=this._getPosition(this._current.target);"x"in r&&"y"in r?(t.style.left=r.x+"px",t.style.top=r.y+"px"):["top","right","bottom","left"].forEach(function(n){n in r&&(t.style[n]=r[n]+"px")})}};this._scheduler.schedule(e,"ContextPad#_updatePosition")};Jn.prototype._updateVisibility=function(){const e=()=>{if(this.isOpen()){var t=this,r=this._current.target,n=Qt(r)?r:[r],i=n.some(function(s){return t._canvas.hasMarker(s,Xne)});i?t.hide():t.show()}};this._scheduler.schedule(e,"ContextPad#_updateVisibility")};Jn.prototype._getTargetBounds=function(e){var t=this,r=Qt(e)?e:[e],n=r.map(function(i){return t._canvas.getGraphics(i)});return n.reduce(function(i,s){const o=s.getBoundingClientRect();return i.top=Math.min(i.top,o.top),i.right=Math.max(i.right,o.right),i.bottom=Math.max(i.bottom,o.bottom),i.left=Math.min(i.left,o.left),i.x=i.left,i.y=i.top,i.width=i.right-i.left,i.height=i.bottom-i.top,i},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};function Jne(e,t){var r=On(e);t=Qt(t)?t:t.split(/\s+/g),t.forEach(function(n){r.add(n)})}function Qne(e){return e.waypoints[e.waypoints.length-1]}function eie(e,t){return e=Qt(e)?e:[e],t=Qt(t)?t:[t],e.length===t.length&&fh(e,function(r){return t.includes(r)})}const KD={__depends__:[a2,Kne,s2],contextPad:["type",Jn]};var c2,An,XD,Td,dC,ZD,YD,JD,Q8,M4,L4,Y0={},QD=[],tie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,u2=Array.isArray;function Zl(e,t){for(var r in t)e[r]=t[r];return e}function eS(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function eB(e,t,r){var n,i,s,o={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?c2.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return ay(e,o,n,i,null)}function ay(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++XD,__i:-1,__u:0};return i==null&&An.vnode!=null&&An.vnode(s),s}function d2(e){return e.children}function oy(e,t){this.props=e,this.context=t}function Xf(e,t){if(t==null)return e.__?Xf(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Xf(e):null}function tB(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return tB(e)}}function hC(e){(!e.__d&&(e.__d=!0)&&Td.push(e)&&!sb.__r++||dC!=An.debounceRendering)&&((dC=An.debounceRendering)||ZD)(sb)}function sb(){for(var e,t,r,n,i,s,o,a=1;Td.length;)Td.length>a&&Td.sort(YD),e=Td.shift(),a=Td.length,e.__d&&(r=void 0,n=void 0,i=(n=(t=e).__v).__e,s=[],o=[],t.__P&&((r=Zl({},n)).__v=n.__v+1,An.vnode&&An.vnode(r),tS(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,s,i??Xf(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,iB(s,r,o),n.__e=n.__=null,r.__e!=i&&tB(r)));sb.__r=0}function rB(e,t,r,n,i,s,o,a,l,c,u){var h,f,d,p,g,m,v,y=n&&n.__k||QD,x=t.length;for(l=rie(r,t,y,l,x),h=0;h<x;h++)(d=r.__k[h])!=null&&(f=d.__i==-1?Y0:y[d.__i]||Y0,d.__i=h,m=tS(e,d,f,i,s,o,a,l,c,u),p=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&rS(f.ref,null,d),u.push(d.ref,d.__c||p,d)),g==null&&p!=null&&(g=p),(v=!!(4&d.__u))||f.__k===d.__k?l=nB(d,l,e,v):typeof d.type=="function"&&m!==void 0?l=m:p&&(l=p.nextSibling),d.__u&=-7);return r.__e=g,l}function rie(e,t,r,n,i){var s,o,a,l,c,u=r.length,h=u,f=0;for(e.__k=new Array(i),s=0;s<i;s++)(o=t[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+f,(o=e.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ay(null,o,null,null,null):u2(o)?ay(d2,{children:o},null,null,null):o.constructor==null&&o.__b>0?ay(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,a=null,(c=o.__i=nie(o,r,l,h))!=-1&&(h--,(a=r[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof o.type!="function"&&(o.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,o.__u|=4))):e.__k[s]=null;if(h)for(s=0;s<u;s++)(a=r[s])!=null&&!(2&a.__u)&&(a.__e==n&&(n=Xf(a)),aB(a,a));return n}function nB(e,t,r,n){var i,s;if(typeof e.type=="function"){for(i=e.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=e,t=nB(i[s],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=Xf(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function nie(e,t,r,n){var i,s,o,a=e.key,l=e.type,c=t[r],u=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||u&&a==c.key&&l==c.type)return r;if(n>(u?1:0)){for(i=r-1,s=r+1;i>=0||s<t.length;)if((c=t[o=i>=0?i--:s++])!=null&&!(2&c.__u)&&a==c.key&&l==c.type)return o}return-1}function fC(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||tie.test(t)?r:r+"px"}function ov(e,t,r,n,i){var s,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||fC(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||fC(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(JD,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=Q8,e.addEventListener(t,s?L4:M4,s)):e.removeEventListener(t,s?L4:M4,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function pC(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Q8++;else if(t.t<r.u)return;return r(An.event?An.event(t):t)}}}function tS(e,t,r,n,i,s,o,a,l,c){var u,h,f,d,p,g,m,v,y,x,w,_,M,U,L,O,H,G=t.type;if(t.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=t.__e=r.__e]),(u=An.__b)&&u(t);e:if(typeof G=="function")try{if(v=t.props,y="prototype"in G&&G.prototype.render,x=(u=G.contextType)&&n[u.__c],w=u?x?x.props.value:u.__:n,r.__c?m=(h=t.__c=r.__c).__=h.__E:(y?t.__c=h=new G(v,w):(t.__c=h=new oy(v,w),h.constructor=G,h.render=sie),x&&x.sub(h),h.props=v,h.state||(h.state={}),h.context=w,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&G.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Zl({},h.__s)),Zl(h.__s,G.getDerivedStateFromProps(v,h.__s))),d=h.props,p=h.state,h.__v=t,f)y&&G.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&G.getDerivedStateFromProps==null&&v!==d&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,w),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,w)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(I){I&&(I.__=t)}),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,w),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(d,p,g)})}if(h.context=w,h.props=v,h.__P=e,h.__e=!1,M=An.__r,U=0,y){for(h.state=h.__s,h.__d=!1,M&&M(t),u=h.render(h.props,h.state,h.context),L=0;L<h._sb.length;L++)h.__h.push(h._sb[L]);h._sb=[]}else do h.__d=!1,M&&M(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++U<25);h.state=h.__s,h.getChildContext!=null&&(n=Zl(Zl({},n),h.getChildContext())),y&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(d,p)),O=u,u!=null&&u.type===d2&&u.key==null&&(O=sB(u.props.children)),a=rB(e,u2(O)?O:[O],t,r,n,i,s,o,a,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),m&&(h.__E=h.__=null)}catch(I){if(t.__v=null,l||s!=null)if(I.then){for(t.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,t.__e=a}else{for(H=s.length;H--;)eS(s[H]);D4(t)}else t.__e=r.__e,t.__k=r.__k,I.then||D4(t);An.__e(I,t,r)}else s==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):a=t.__e=iie(r.__e,t,r,n,i,s,o,l,c);return(u=An.diffed)&&u(t),128&t.__u?void 0:a}function D4(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(D4)}function iB(e,t,r){for(var n=0;n<r.length;n++)rS(r[n],r[++n],r[++n]);An.__c&&An.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){An.__e(s,i.__v)}})}function sB(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:u2(e)?e.map(sB):Zl({},e)}function iie(e,t,r,n,i,s,o,a,l){var c,u,h,f,d,p,g,m=r.props,v=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((d=s[c])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,s[c]=null;break}}if(e==null){if(y==null)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),a&&(An.__m&&An.__m(t,s),a=!1),s=null}if(y==null)m===v||a&&e.data==v||(e.data=v);else{if(s=s&&c2.call(e.childNodes),m=r.props||Y0,!a&&s!=null)for(m={},c=0;c<e.attributes.length;c++)m[(d=e.attributes[c]).name]=d.value;for(c in m)if(d=m[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=d;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;ov(e,c,null,d,i)}}for(c in v)d=v[c],c=="children"?f=d:c=="dangerouslySetInnerHTML"?u=d:c=="value"?p=d:c=="checked"?g=d:a&&typeof d!="function"||m[c]===d||ov(e,c,d,m[c],i);if(u)a||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),rB(t.type=="template"?e.content:e,u2(f)?f:[f],t,r,n,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&Xf(r,0),a,l),s!=null)for(c=s.length;c--;)eS(s[c]);a||(c="value",y=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[c]||y=="progress"&&!p||y=="option"&&p!=m[c])&&ov(e,c,p,m[c],i),c="checked",g!=null&&g!=e[c]&&ov(e,c,g,m[c],i))}return e}function rS(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){An.__e(i,r)}}function aB(e,t,r){var n,i;if(An.unmount&&An.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||rS(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){An.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&aB(n[i],t,r||typeof e.type!="function");r||eS(e.__e),e.__c=e.__=e.__e=void 0}function sie(e,t,r){return this.constructor(e,r)}function oB(e,t,r){var n,i,s,o;t==document&&(t=document.documentElement),An.__&&An.__(e,t),i=(n=typeof r=="function")?null:t.__k,s=[],o=[],tS(t,e=(!n&&r||t).__k=eB(d2,null,[e]),i||Y0,Y0,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?c2.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,o),iB(s,e,o)}c2=QD.slice,An={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},XD=0,oy.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Zl({},this.state),typeof e=="function"&&(e=e(Zl({},r),this.props)),e&&Zl(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),hC(this))},oy.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),hC(this))},oy.prototype.render=d2,Td=[],ZD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,YD=function(e,t){return e.__v.__b-t.__v.__b},sb.__r=0,JD=/(PointerCapture)$|Capture$/i,Q8=0,M4=pC(!1),L4=pC(!0);var lB=function(e,t,r,n){var i;t[0]=0;for(var s=1;s<t.length;s++){var o=t[s++],a=t[s]?(t[0]|=o?1:2,r[t[s++]]):t[++s];o===3?n[0]=a:o===4?n[1]=Object.assign(n[1]||{},a):o===5?(n[1]=n[1]||{})[t[++s]]=a:o===6?n[1][t[++s]]+=a+"":o?(i=e.apply(a,lB(e,a,r,["",null])),n.push(i),a[0]?t[0]|=2:(t[s-2]=0,t[s]=i)):n.push(a)}return n},mC=new Map;function aie(e){var t=mC.get(this);return t||(t=new Map,mC.set(this,t)),(t=lB(this,t.get(e)||(t.set(e,t=function(r){for(var n,i,s=1,o="",a="",l=[0],c=function(f){s===1&&(f||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,f,o):s===3&&(f||o)?(l.push(3,f,o),s=2):s===2&&o==="..."&&f?l.push(4,f,0):s===2&&o&&!f?l.push(5,0,!0,o):s>=5&&((o||!f&&s===5)&&(l.push(s,0,o,i),s=6),f&&(l.push(s,f,0,i),s=6)),o=""},u=0;u<r.length;u++){u&&(s===1&&c(),c(u));for(var h=0;h<r[u].length;h++)n=r[u][h],s===1?n==="<"?(c(),l=[l],s=3):o+=n:s===4?o==="--"&&n===">"?(s=1,o=""):o=n+o[0]:a?n===a?a="":o+=n:n==='"'||n==="'"?a=n:n===">"?(c(),s=1):s&&(n==="="?(s=5,i=o,o=""):n==="/"&&(s<5||r[u][h+1]===">")?(c(),s===3&&(l=l[0]),s=l,(l=l[0]).push(2,0,s),s=0):n===" "||n==="	"||n===`
`||n==="\r"?(c(),s=2):o+=n),s===3&&o==="!--"&&(s=4,l=l[0])}return c(),l}(e)),t),arguments,[])).length>1?t:t[0]}var Dn=aie.bind(eB),Zf,Kn,Hw,gC,J0=0,cB=[],ii=An,vC=ii.__b,yC=ii.__r,bC=ii.diffed,xC=ii.__c,wC=ii.unmount,_C=ii.__;function h2(e,t){ii.__h&&ii.__h(Kn,e,J0||t),J0=0;var r=Kn.__H||(Kn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Ww(e){return J0=1,oie(dB,e)}function oie(e,t,r){var n=h2(Zf++,2);if(n.t=e,!n.__c&&(n.__=[dB(void 0,t),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=Kn,!Kn.__f)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=n.__c.props!==a;return u.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(h=!0)}}),s&&s.call(this,a,l,c)||h};Kn.__f=!0;var s=Kn.shouldComponentUpdate,o=Kn.componentWillUpdate;Kn.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},Kn.shouldComponentUpdate=i}return n.__N||n.__}function B4(e,t){var r=h2(Zf++,3);!ii.__s&&nS(r.__H,t)&&(r.__=e,r.u=t,Kn.__H.__h.push(r))}function F4(e,t){var r=h2(Zf++,4);!ii.__s&&nS(r.__H,t)&&(r.__=e,r.u=t,Kn.__h.push(r))}function uB(e){return J0=5,Cf(function(){return{current:e}},[])}function Cf(e,t){var r=h2(Zf++,7);return nS(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function gm(e,t){return J0=8,Cf(function(){return e},t)}function lie(){for(var e;e=cB.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ly),e.__H.__h.forEach(z4),e.__H.__h=[]}catch(t){e.__H.__h=[],ii.__e(t,e.__v)}}ii.__b=function(e){Kn=null,vC&&vC(e)},ii.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_C&&_C(e,t)},ii.__r=function(e){yC&&yC(e),Zf=0;var t=(Kn=e.__c).__H;t&&(Hw===Kn?(t.__h=[],Kn.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(ly),t.__h.forEach(z4),t.__h=[],Zf=0)),Hw=Kn},ii.diffed=function(e){bC&&bC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(cB.push(t)!==1&&gC===ii.requestAnimationFrame||((gC=ii.requestAnimationFrame)||cie)(lie)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Hw=Kn=null},ii.__c=function(e,t){t.some(function(r){try{r.__h.forEach(ly),r.__h=r.__h.filter(function(n){return!n.__||z4(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],ii.__e(n,r.__v)}}),xC&&xC(e,t)},ii.unmount=function(e){wC&&wC(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ly(n)}catch(i){t=i}}),r.__H=void 0,t&&ii.__e(t,r.__v))};var SC=typeof requestAnimationFrame=="function";function cie(e){var t,r=function(){clearTimeout(n),SC&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);SC&&(t=requestAnimationFrame(r))}function ly(e){var t=Kn,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Kn=t}function z4(e){var t=Kn;e.__c=e.__(),Kn=t}function nS(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function dB(e,t){return typeof t=="function"?t(e):t}function hB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=hB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ab(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=hB(e))&&(n&&(n+=" "),n+=t);return n}function uie(e){const{headerEntries:t,onSelect:r,selectedEntry:n,setSelectedEntry:i,title:s}=e,o=Cf(()=>die(t),[t]),a=c=>c.action&&!c.disabled,l=(c,u)=>{if(a(u))return r(c,u)};return Dn`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${s}>${s}</h3>
      ${o.map(c=>Dn`
        <ul key=${c.id} class="djs-popup-header-group" data-header-group=${c.id}>

          ${c.entries.map(u=>Dn`
            <li key=${u.id}>
              <${a(u)?"button":"span"}
                class=${hie(u,u===n)}
                onClick=${h=>l(h,u)}
                title=${u.title||u.label}
                data-id=${u.id}
                aria-disabled=${u.disabled||void 0}
                onMouseEnter=${()=>a(u)&&i(u)}
                onMouseLeave=${()=>a(u)&&i(null)}
                onFocus=${()=>a(u)&&i(u)}
                onBlur=${()=>a(u)&&i(null)}
              >
                ${u.imageUrl&&Dn`<img class="djs-popup-entry-icon" src=${u.imageUrl} alt="" />`||u.imageHtml&&Dn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:u.imageHtml}} />`}
                ${u.label?Dn`
                  <span class="djs-popup-label">${u.label}</span>
                `:null}
              </${u.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function die(e){return e.reduce((t,r)=>{const n=r.group||"default",i=t.find(s=>s.id===n);return i?i.entries.push(r):t.push({id:n,entries:[r]}),t},[])}function hie(e,t){return ab("entry",e.className,e.active?"active":"",e.disabled?"disabled":"",t?"selected":"")}function fie(e){const{entry:t,selected:r,onMouseEnter:n,onMouseLeave:i,onAction:s}=e,o=(a,l)=>{if(!t.disabled)return s(a,t,l)};return Dn`
    <li
      class=${ab("entry",{selected:r,disabled:t.disabled})}
      data-id=${t.id}
      title=${t.title||t.label}
      aria-disabled=${t.disabled||void 0}
      tabIndex="0"
      onClick=${o}
      onFocus=${n}
      onBlur=${i}
      onMouseEnter=${n}
      onMouseLeave=${i}
      onDragStart=${a=>o(a,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${ab("djs-popup-entry-name",t.className)}
        >
          ${t.imageUrl&&Dn`<img class="djs-popup-entry-icon" src=${t.imageUrl} alt="" />`||t.imageHtml&&Dn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:t.imageHtml}} />`}

          ${t.label?Dn`
            <span class="djs-popup-label">
              ${t.label}
            </span>
          `:null}
        </span>
        ${t.description&&Dn`
          <span
            class="djs-popup-entry-description"
            title=${t.description}
          >
            ${t.description}
          </span>
        `}
      </div>
      ${t.documentationRef&&Dn`
        <div class="djs-popup-entry-docs">
          <a
            href="${t.documentationRef}"
            onClick=${a=>a.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function pie(e){const{selectedEntry:t,setSelectedEntry:r,groupedEntries:n,...i}=e,s=uB();return F4(()=>{const o=s.current;if(!o)return;const a=o.querySelector(".selected");a&&mie(a)},[t]),Dn`
    <div class="djs-popup-results" ref=${s}>
      ${n.map(o=>Dn`
        ${o.name&&Dn`
          <div key=${o.id} class="entry-header" title=${o.name}>
            ${o.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${o.id}>
          ${o.entries.map(a=>Dn`
            <${fie}
              key=${a.id}
              entry=${a}
              selected=${a===t}
              onMouseEnter=${()=>r(a)}
              onMouseLeave=${()=>r(null)}
              ...${i}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function mie(e){typeof e.scrollIntoViewIfNeeded=="function"?e.scrollIntoViewIfNeeded():e.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function gie(e){const{onClose:t,onSelect:r,className:n,headerEntries:i,position:s,title:o,width:a,scale:l,search:c,emptyPlaceholder:u,searchFn:h,entries:f,onOpened:d,onClosed:p}=e,g=Cf(()=>Pi(c)?f.length>5:!1,[c,f]),[m,v]=Ww(""),y=gm((R,S)=>{if(!g)return R;if(!S.trim())return R.filter(({rank:k=0})=>k>=0);const j=R.filter(({searchable:k})=>k!==!1);return h(j,S,{keys:["label","search","description"]}).map(({item:k})=>k)},[g]),[x,w]=Ww(y(f,m)),[_,M]=Ww(x[0]),U=Cf(()=>bie(x),[x]),L=gm(R=>{M(R[0]),w(R)},[w,M]);B4(()=>{L(y(f,m))},[m,f]);const O=gm(R=>{const S=yie(U);let k=S.indexOf(_)+R;k<0&&(k=S.length-1),k>=S.length&&(k=0),M(S[k])},[U,_,M]),H=gm(R=>{if(R.key==="Enter"&&_)return _.disabled?void 0:r(R,_);if(R.key==="ArrowUp")return O(-1),R.preventDefault();if(R.key==="ArrowDown")return O(1),R.preventDefault()},[r,_,O]),G=gm(R=>{AL(R.target,"input")&&v(()=>R.target.value)},[v]);B4(()=>(d(),()=>{p()}),[]);const I=Cf(()=>o||i.length>0,[o,i]);return Dn`
    <${EC}
      onClose=${t}
      onKeyup=${G}
      onKeydown=${H}
      className=${n}
      position=${s}
      width=${a}
      scale=${l}
    >
      ${I&&Dn`
        <${uie}
          headerEntries=${i}
          onSelect=${r}
          selectedEntry=${_}
          setSelectedEntry=${M}
          title=${o}
        />
      `}
      ${f.length>0&&Dn`
        <div class="djs-popup-body">

          ${g&&Dn`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${o}" />
          </div>
          `}

          <${pie}
            groupedEntries=${U}
            selectedEntry=${_}
            setSelectedEntry=${M}
            onAction=${r}
          />
        </div>
      `}
    ${u&&x.length===0&&Dn`
      <div class="djs-popup-no-results">${yi(u)?u(m):u}</div>
    `}
    </${EC}>
  `}function EC(e){const{onClose:t,onKeydown:r,onKeyup:n,className:i,children:s,position:o}=e,a=uB();return F4(()=>{if(typeof o!="function")return;const l=a.current,c=o(l);l.style.left=`${c.x}px`,l.style.top=`${c.y}px`},[a.current,o]),F4(()=>{const l=a.current;if(!l)return;(l.querySelector("input")||l).focus()},[]),B4(()=>{const l=u=>{if(u.key==="Escape")return u.preventDefault(),t()},c=u=>{if(!vp(u.target,".djs-popup",!0))return t()};return document.documentElement.addEventListener("keydown",l),document.body.addEventListener("click",c),()=>{document.documentElement.removeEventListener("keydown",l),document.body.removeEventListener("click",c)}},[]),Dn`
    <div
      class=${ab("djs-popup",i)}
      style=${vie(e)}
      onKeydown=${r}
      onKeyup=${n}
      ref=${a}
      tabIndex="-1"
    >
      ${s}
    </div>
  `}function vie(e){return{transform:`scale(${e.scale})`,width:`${e.width}px`,"transform-origin":"top left"}}function yie(e){const t=[];return e.forEach(r=>{r.entries.forEach(n=>{t.push(n)})}),t}function bie(e){const t=[],r=s=>t.find(o=>s.id===o.id),n=s=>!!r(s),i=s=>typeof s=="string"?{id:s}:s;return e.forEach(s=>{const o=s.group?i(s.group):{id:"default"};n(o)?r(o).entries.push(s):t.push({...o,entries:[s]})}),t}var xie="data-id",fB=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],wie=1e3;function jn(e,t,r,n){this._eventBus=t,this._canvas=r,this._search=n,this._current=null;var i=Pi(e&&e.scale)?e.scale:{min:1,max:1};this._config={scale:i},t.on("diagram.destroy",()=>{this.close()}),t.on("element.changed",s=>{const o=this.isOpen()&&this._current.target;s.element===o&&this.refresh()})}jn.$inject=["config.popupMenu","eventBus","canvas","search"];jn.prototype._render=function(){const{position:e,providerId:t,entries:r,headerEntries:n,emptyPlaceholder:i,options:s}=this._current,o=Object.entries(r).map(([f,d])=>({id:f,...d})),a=Object.entries(n).map(([f,d])=>({id:f,...d})),l=e&&(f=>this._ensureVisible(f,e)),c=this._updateScale(this._current.container);oB(Dn`
      <${gie}
        onClose=${f=>this.close(f)}
        onSelect=${(f,d,p)=>this.trigger(f,d,p)}
        position=${l}
        className=${t}
        entries=${o}
        headerEntries=${a}
        emptyPlaceholder=${i}
        scale=${c}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...s}}
      />
    `,this._current.container)};jn.prototype.open=function(e,t,r,n){if(!e)throw new Error("target is missing");if(!t)throw new Error("providers for <"+t+"> not found");if(!r)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:i,headerEntries:s,emptyPlaceholder:o}=this._getContext(e,t);this._current={position:r,providerId:t,target:e,entries:i,headerEntries:s,emptyPlaceholder:o,container:this._createContainer({provider:t}),options:n},this._emit("open"),this._bindAutoClose(),this._render()};jn.prototype.refresh=function(){if(!this.isOpen())return;const{target:e,providerId:t}=this._current,{entries:r,headerEntries:n,emptyPlaceholder:i}=this._getContext(e,t);this._current={...this._current,entries:r,headerEntries:n,emptyPlaceholder:i},this._emit("refresh"),this._render()};jn.prototype._getContext=function(e,t){const r=this._getProviders(t);if(!r||!r.length)throw new Error("provider for <"+t+"> not found");const n=this._getEntries(e,r),i=this._getHeaderEntries(e,r),s=this._getEmptyPlaceholder(r);return{entries:n,headerEntries:i,emptyPlaceholder:s,empty:!(Object.keys(n).length||Object.keys(i).length)}};jn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)};jn.prototype.reset=function(){const e=this._current.container;oB(null,e),dl(e)};jn.prototype._emit=function(e,t){this._eventBus.fire(`popupMenu.${e}`,t)};jn.prototype._onOpened=function(){this._emit("opened")};jn.prototype._onClosed=function(){this._emit("closed")};jn.prototype._createContainer=function(e){var t=this._canvas,r=t.getContainer();const n=dn(`<div class="djs-popup-parent djs-scrollable" data-popup=${e.provider}></div>`);return r.appendChild(n),n};jn.prototype._bindAutoClose=function(){this._eventBus.once(fB,this.close,this)};jn.prototype._unbindAutoClose=function(){this._eventBus.off(fB,this.close,this)};jn.prototype._updateScale=function(){var e=this._canvas.zoom(),t=this._config.scale,r,n,i=e;return t!==!0&&(t===!1?(r=1,n=1):(r=t.min,n=t.max),Pi(r)&&e<r&&(i=r),Pi(n)&&e>n&&(i=n)),i};jn.prototype._ensureVisible=function(e,t){var r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect(),i={},s=t.x,o=t.y;return t.x+n.width>r.width&&(i.x=!0),t.y+n.height>r.height&&(i.y=!0),i.x&&i.y?(s=t.x-n.width,o=t.y-n.height):i.x?(s=t.x-n.width,o=t.y):i.y&&t.y<n.height?(s=t.x,o=10):i.y&&(s=t.x,o=t.y-n.height),t.y<r.top&&(o=t.y+n.height),{x:s,y:o}};jn.prototype.isEmpty=function(e,t){if(!e)throw new Error("target is missing");if(!t)throw new Error("provider ID is missing");const r=this._getProviders(t);return!r||!r.length?!0:this._getContext(e,t).empty};jn.prototype.registerProvider=function(e,t,r){r||(r=t,t=wie),this._eventBus.on("popupMenu.getProviders."+e,t,function(n){n.providers.push(r)})};jn.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers};jn.prototype._getEntries=function(e,t){var r={};return Ce(t,function(n){if(!n.getPopupMenuEntries){Ce(n.getEntries(e),function(s){var o=s.id;if(!o)throw new Error("entry ID is missing");r[o]=pl(s,["id"])});return}var i=n.getPopupMenuEntries(e);yi(i)?r=i(r):Ce(i,function(s,o){r[o]=s})}),r};jn.prototype._getHeaderEntries=function(e,t){var r={};return Ce(t,function(n){if(!n.getPopupMenuHeaderEntries){if(!n.getHeaderEntries)return;Ce(n.getHeaderEntries(e),function(s){var o=s.id;if(!o)throw new Error("entry ID is missing");r[o]=pl(s,["id"])});return}var i=n.getPopupMenuHeaderEntries(e);yi(i)?r=i(r):Ce(i,function(s,o){r[o]=s})}),r};jn.prototype._getEmptyPlaceholder=function(e){const t=e.find(r=>yi(r.getEmptyPlaceholder));return t&&t.getEmptyPlaceholder()};jn.prototype.isOpen=function(){return!!this._current};jn.prototype.trigger=function(e,t,r="click"){if(e.preventDefault(),!t){let i=vp(e.delegateTarget||e.target,".entry",!0),s=Qi(i,xie);t={id:s,...this._getEntry(s)}}const n=t.action;if(this._emit("trigger",{entry:t,event:e})!==!1){if(yi(n)){if(r==="click")return n(e,t)}else if(n[r])return n[r](e,t)}};jn.prototype._getEntry=function(e){var t=this._current.entries[e]||this._current.headerEntries[e];if(!t)throw new Error("entry not found");return t};function _ie(e,t,r){const{keys:n}=r;if(t=t.trim().toLowerCase(),!t)throw new Error("<pattern> must not be empty");const i=t.trim().toLowerCase().split(/\s+/);return e.flatMap(s=>{const o=Sie(s,i,n);return o?{item:s,tokens:o}:[]}).sort(Eie(n))}function Sie(e,t,r){const{matchedWords:n,tokens:i}=r.reduce((s,o)=>{const a=e[o],{tokens:l,matchedWords:c}=Qt(a)?a.reduce((u,h)=>{const{tokens:f,matchedWords:d}=AC(h,t);return{tokens:[...u.tokens,f],matchedWords:{...u.matchedWords,...d}}},{matchedWords:{},tokens:[]}):AC(a,t);return{tokens:{...s.tokens,[o]:l},matchedWords:{...s.matchedWords,...c}}},{matchedWords:{},tokens:{}});return Object.keys(n).length!==t.length?null:i}function Eie(e){return(t,r)=>{let n=0,i=1;for(const s of e){const o=kie(t.tokens[s],r.tokens[s]);if(o!==0){n+=o*i,i*=.9;continue}const a=Nie(t.item[s],r.item[s]);if(a!==0){n+=a*i,i*=.9;continue}}return n}}function kie(e,t){return kC(t)-kC(e)}function kC(e){return e.reduce((t,r)=>t+pB(r),0)}function pB(e){if(Qt(e))return Math.max(...e.map(pB));const t=Math.log(e.value.length);return e.match?(e.start?e.end?131.9:7.87:e.wordStart?2.19:1)*t:-.07*t}function NC(e=""){return Qt(e)?e.join(", "):e}function Nie(e,t){return NC(e).localeCompare(NC(t))}function AC(e,t){if(!e)return{tokens:[],matchedWords:{}};const r=[],n={},i=t.map(Aie),s=[`(?<all>${i.join("\\s+")})`,...i].join("|"),o=new RegExp(s,"ig");let a,l=0;for(;a=o.exec(e);){const[c]=a,u=a.index,h=a.index+c.length,f=u===0,d=h===e.length,p=!!a.groups.all,g=f||/\s/.test(e.charAt(u-1)),m=d||/\s/.test(e.charAt(h));a.index>l&&r.push({value:e.slice(l,a.index),index:l}),r.push({value:c,index:a.index,match:!0,wordStart:g,wordEnd:m,start:f,end:d,all:p});const v=p?t:[c];for(const y of v)n[y.toLowerCase()]=!0;l=a.index+c.length}return l<e.length&&r.push({value:e.slice(l),index:l}),{tokens:r,matchedWords:n}}function Aie(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}const mB={search:["value",_ie]},iS={__depends__:[mB],__init__:["popupMenu"],popupMenu:["type",jn]};var gB={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`},Cie=900;function Np(e,t,r,n){e.registerProvider(Cie,this),this._contextPad=e,this._popupMenu=t,this._translate=r,this._canvas=n}Np.$inject=["contextPad","popupMenu","translate","canvas"];Np.prototype.getMultiElementContextPadEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};Np.prototype._isAllowed=function(e){return!this._popupMenu.isEmpty(e,"align-elements")};Np.prototype._getEntries=function(){var e=this;return{"align-elements":{group:"align-elements",title:e._translate("Align elements"),html:`<div class="entry">${gB.align}</div>`,action:{click:function(t,r){var n=e._getMenuPosition(r);Ie(n,{cursor:{x:t.x,y:t.y}}),e._popupMenu.open(r,"align-elements",n)}}}}};Np.prototype._getMenuPosition=function(e){var t=5,r=this._contextPad.getPad(e).html,n=r.getBoundingClientRect(),i={x:n.left,y:n.bottom+t};return i};var jie=["left","center","right","top","middle","bottom"];function _g(e,t,r,n){this._alignElements=t,this._translate=r,this._popupMenu=e,this._rules=n,e.registerProvider("align-elements",this)}_g.$inject=["popupMenu","alignElements","translate","rules"];_g.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};_g.prototype._isAllowed=function(e){return this._rules.allowed("elements.align",{elements:e})};_g.prototype._getEntries=function(e){var t=this._alignElements,r=this._translate,n=this._popupMenu,i={};return Ce(jie,function(s){i["align-elements-"+s]={group:"align",title:r("Align elements "+s),className:"bjs-align-elements-menu-entry",imageHtml:gB[s],action:function(){t.trigger(e,s),n.close()}}}),i};function Ya(e){at.call(this,e),this.init()}Ya.$inject=["eventBus"];Ct(Ya,at);Ya.prototype.addRule=function(e,t,r){var n=this;typeof e=="string"&&(e=[e]),e.forEach(function(i){n.canExecute(i,t,function(s,o,a){return r(s)},!0)})};Ya.prototype.init=function(){};function f2(e){Ya.call(this,e)}f2.$inject=["eventBus"];Ct(f2,Ya);f2.prototype.init=function(){this.addRule("elements.align",function(e){var t=e.elements,r=mr(t,function(n){return!(n.waypoints||n.host||n.labelTarget)});return r=Zb(r),r.length<2?!1:r})};const Tie={__depends__:[qne,KD,iS],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Np],alignElementsMenuProvider:["type",_g],bpmnAlignElements:["type",f2]};var Rie=10,vB=50,Pie=250;function sS(e,t,r,n){for(var i;i=Oie(e,r,t);)r=n(t,r,i);return r}function aS(e){return function(t,r,n){var i={x:r.x,y:r.y};return["x","y"].forEach(function(s){var o=e[s];if(o){var a=s==="x"?"width":"height",l=o.margin,c=o.minDistance;l<0?i[s]=Math.min(n[s]+l-t[a]/2,r[s]-c+l):i[s]=Math.max(n[s]+n[a]+l+t[a]/2,r[s]+c+l)}}),i}}function Oie(e,t,r){var n={x:t.x-r.width/2,y:t.y-r.height/2,width:r.width,height:r.height},i=Mie(e);return Lr(i,function(s){if(s===r)return!1;var o=os(s,n,Rie);return o==="intersect"})}function Iie(e,t){t||(t={});function r(p){return p.source===e?1:-1}var n=t.defaultDistance||vB,i=t.direction||"e",s=t.filter,o=t.getWeight||r,a=t.maxDistance||Pie,l=t.reference||"start";s||(s=Bie);function c(p,g){return i==="n"?l==="start"?Ht(p).top-Ht(g).bottom:l==="center"?Ht(p).top-Jt(g).y:Ht(p).top-Ht(g).top:i==="w"?l==="start"?Ht(p).left-Ht(g).right:l==="center"?Ht(p).left-Jt(g).x:Ht(p).left-Ht(g).left:i==="s"?l==="start"?Ht(g).top-Ht(p).bottom:l==="center"?Jt(g).y-Ht(p).bottom:Ht(g).bottom-Ht(p).bottom:l==="start"?Ht(g).left-Ht(p).right:l==="center"?Jt(g).x-Ht(p).right:Ht(g).right-Ht(p).right}var u=e.incoming.filter(s).map(function(p){var g=o(p),m=g<0?c(p.source,e):c(e,p.source);return{id:p.source.id,distance:m,weight:g}}),h=e.outgoing.filter(s).map(function(p){var g=o(p),m=g>0?c(e,p.target):c(p.target,e);return{id:p.target.id,distance:m,weight:g}}),f=u.concat(h).reduce(function(p,g){return p[g.id+"__weight_"+g.weight]=g,p},{}),d=Qs(f,function(p,g){var m=g.distance,v=g.weight;return m<0||m>a||(p[String(m)]||(p[String(m)]=0),p[String(m)]+=1*v,(!p.distance||p[p.distance]<p[String(m)])&&(p.distance=m)),p},{});return d.distance||n}function Mie(e){var t=qw(e);return e.host&&(t=t.concat(qw(e.host))),e.attachers&&(t=t.concat(e.attachers.reduce(function(r,n){return r.concat(qw(n))},[]))),t}function qw(e){return Die(e).concat(Lie(e))}function Lie(e){return e.incoming.map(function(t){return t.source})}function Die(e){return e.outgoing.map(function(t){return t.target})}function Bie(){return!0}var Fie=100;function yB(e,t,r){e.on("autoPlace",Fie,function(n){var i=n.shape,s=n.source;return zie(s,i)}),e.on("autoPlace.end",function(n){r.scrollToElement(n.shape)}),this.append=function(n,i,s){e.fire("autoPlace.start",{source:n,shape:i});var o=e.fire("autoPlace",{source:n,shape:i}),a=t.appendShape(n,i,o,n.parent,s);return e.fire("autoPlace.end",{source:n,shape:a}),a}}yB.$inject=["eventBus","modeling","canvas"];function zie(e,t,r){r||(r={});var n=r.defaultDistance||vB,i=Jt(e),s=Ht(e);return{x:s.right+n+t.width/2,y:i.y}}function bB(e,t){e.on("autoPlace.end",500,function(r){t.select(r.shape)})}bB.$inject=["eventBus","selection"];const Uie={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",yB],autoPlaceSelectionBehavior:["type",bB]};function Yf(e,t){for(Js(t)&&(t=[t]);e=e.parent;)if(gr(e,t))return e;return null}function xB(e,t){var r=Yf(e,"bpmn:Process");if(r)return!0;var n=["bpmn:Participant","bpmn:Lane"];if(r=Yf(e,n),r)return bi(r);if(gr(e,n))return bi(e);var i;for(i=ht(e);i&&!he(i,"bpmn:Process");i=i.$parent);if(!t)return!0;var s=t.find(function(o){var a=ht(o);return a&&a.get("processRef")===i});return s?bi(s):!0}function wB(e,t,r){var n=xB(e,r);if(he(t,"bpmn:TextAnnotation"))return Hie(e,t,n);if(gr(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return Wie(e,t,n);if(he(t,"bpmn:FlowNode"))return $ie(e,t,n)}function $ie(e,t,r){var n=Ht(e),i=Jt(e),s=r?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},o=Iie(e,{filter:function(d){return he(d,"bpmn:SequenceFlow")},direction:s.directionHint}),a=30,l=s.minDistance,c=s.baseOrientation;he(e,"bpmn:BoundaryEvent")&&(c=os(e,e.host,-25),c.indexOf(s.boundaryOrientation)!==-1&&(a*=-1));var u=r?{x:n.right+o+t.width/2,y:i.y+CC(c,l,s)}:{x:i.x+CC(c,l,s),y:n.bottom+o+t.height/2},h={margin:a,minDistance:l},f=r?{y:h}:{x:h};return sS(e,t,u,aS(f))}function CC(e,t,r){return e.includes(r.start)?-1*t:e.includes(r.end)?t:0}function Hie(e,t,r){var n=Ht(e),i=r?{x:n.right+t.width/2,y:n.top-50-t.height/2}:{x:n.right+50+t.width/2,y:n.bottom+t.height/2};Qr(e)&&(i=Jt(e),r?(i.x+=100,i.y-=50):(i.x+=100,i.y+=50));var s={margin:r?-30:30,minDistance:20},o=r?{y:s}:{x:s};return sS(e,t,i,aS(o))}function Wie(e,t,r){var n=Ht(e),i=r?{x:n.right-10+t.width/2,y:n.bottom+40+t.width/2}:{x:n.left-40-t.width/2,y:n.bottom-10+t.height/2},s={margin:30,minDistance:30},o=r?{x:s}:{y:s};return sS(e,t,i,aS(o))}function _B(e,t){e.on("autoPlace",function(r){var n=r.shape,i=r.source;return wB(i,n,t)})}_B.$inject=["eventBus","elementRegistry"];const oS={__depends__:[Uie],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",_B]};function fc(e,t,r,n){at.call(this,e),this._elementRegistry=t,this._modeling=r,this._rules=n;var i=this;this.postExecuted(["shape.create"],function(s){var o=s.context,a=o.hints||{},l=o.shape,c=o.parent||o.newParent;a.autoResize!==!1&&i._expand([l],c)}),this.postExecuted(["elements.move"],function(s){var o=s.context,a=T8(qb(o.closure.topLevel)),l=o.hints,c=l?l.autoResize:!0;if(c!==!1){var u=gp(a,function(h){return h.parent.id});Ce(u,function(h,f){Qt(c)&&(h=h.filter(function(d){return Lr(c,wo({id:d.id}))})),i._expand(h,f)})}}),this.postExecuted(["shape.toggleCollapse"],function(s){var o=s.context,a=o.hints,l=o.shape;a&&a.autoResize===!1||l.collapsed||i._expand(l.children||[],l)}),this.postExecuted(["shape.resize"],function(s){var o=s.context,a=o.hints,l=o.shape,c=l.parent;a&&a.autoResize===!1||c&&i._expand([l],c)})}fc.$inject=["eventBus","elementRegistry","modeling","rules"];Ct(fc,at);fc.prototype._getOptimalBounds=function(e,t){var r=this.getOffset(t),n=this.getPadding(t),i=Ht(di(e)),s=Ht(t),o={};return i.top-s.top<n.top&&(o.top=i.top-r.top),i.left-s.left<n.left&&(o.left=i.left-r.left),s.right-i.right<n.right&&(o.right=i.right+r.right),s.bottom-i.bottom<n.bottom&&(o.bottom=i.bottom+r.bottom),Yb(Ie({},s,o))};fc.prototype._expand=function(e,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var r=this._rules.allowed("element.autoResize",{elements:e,target:t});if(r){var n=this._getOptimalBounds(e,t);if(qie(n,t)){var i=Vie(No(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:i});var s=t.parent;s&&this._expand([t],s)}}};fc.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}};fc.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}};fc.prototype.resize=function(e,t,r){this._modeling.resizeShape(e,t,null,r)};function qie(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function Vie(e,t){var r="";return e=Ht(e),t=Ht(t),e.top>t.top&&(r=r.concat("n")),e.right<t.right&&(r=r.concat("w")),e.bottom<t.bottom&&(r=r.concat("s")),e.left>t.left&&(r=r.concat("e")),r}function p2(e){e.invoke(fc,this)}p2.$inject=["injector"];Ct(p2,fc);p2.prototype.resize=function(e,t,r){he(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,r):this._modeling.resizeShape(e,t,null,r)};function Sg(e){Ya.call(this,e);var t=this;this.addRule("element.autoResize",function(r){return t.canResize(r.elements,r.target)})}Sg.$inject=["eventBus"];Ct(Sg,Ya);Sg.prototype.canResize=function(e,t){return!1};function m2(e,t){Sg.call(this,e),this._modeling=t}Ct(m2,Sg);m2.$inject=["eventBus","modeling"];m2.prototype.canResize=function(e,t){if(he(t.di,"bpmndi:BPMNPlane")||!he(t,"bpmn:Participant")&&!he(t,"bpmn:Lane")&&!he(t,"bpmn:SubProcess"))return!1;var r=!0;return Ce(e,function(n){if(he(n,"bpmn:Lane")||Ir(n)){r=!1;return}}),r};const Gie={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",p2],bpmnAutoResizeProvider:["type",m2]};var jC=1500;function SB(e,t,r){var n=this,i=r.get("dragging",!1);function s(o){if(!o.hover){var a=o.originalEvent,l=n._findTargetGfx(a),c=l&&e.get(l);l&&c&&(o.stopPropagation(),i.hover({element:c,gfx:l}),i.move(a))}}i&&t.on("drag.start",function(o){t.once("drag.move",jC,function(a){s(a)})}),function(){var o,a;t.on("element.hover",function(l){o=l.gfx,a=l.element}),t.on("element.hover",jC,function(l){a&&t.fire("element.out",{element:a,gfx:o})}),t.on("element.out",function(){o=null,a=null})}(),this._findTargetGfx=function(o){var a,l;if(o instanceof MouseEvent)return a=oh(o),l=document.elementFromPoint(a.x,a.y),Kie(l)}}SB.$inject=["elementRegistry","eventBus","injector"];function Kie(e){return vp(e,"svg, .djs-element",!0)}const Xie={__init__:["hoverFix"],hoverFix:["type",SB]};var Kh=Math.round,TC="djs-drag-active";function bd(e){e.preventDefault()}function Zie(e){return typeof TouchEvent<"u"&&e instanceof TouchEvent}function Yie(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function EB(e,t,r,n){var i={threshold:5,trapClick:!0},s;function o(x){var w=t.viewbox(),_=t._container.getBoundingClientRect();return{x:w.x+(x.x-_.left)/w.scale,y:w.y+(x.y-_.top)/w.scale}}function a(x,w){w=w||s;var _=e.createEvent(Ie({},w.payload,w.data,{isTouch:w.isTouch}));return e.fire("drag."+x,_)===!1?!1:e.fire(w.prefix+"."+x,_)}function l(x){var w=x.filter(function(_){return n.get(_.id)});w.length&&r.select(w)}function c(x,w){var _=s.payload,M=s.displacement,U=s.globalStart,L=oh(x),O=_o(L,U),H=s.localStart,G=o(L),I=_o(G,H);if(!s.active&&(w||Yie(O)>s.threshold)){if(Ie(_,{x:Kh(H.x+M.x),y:Kh(H.y+M.y),dx:0,dy:0},{originalEvent:x}),a("start")===!1)return m();s.active=!0,s.keepSelection||(_.previousSelection=r.get(),r.select(null)),s.cursor&&l2(s.cursor),t.addMarker(t.getRootElement(),TC)}Uw(x),s.active&&(Ie(_,{x:Kh(G.x+M.x),y:Kh(G.y+M.y),dx:Kh(I.x),dy:Kh(I.y)},{originalEvent:x}),a("move"))}function u(x){var w,_=!0;s.active&&(x&&(s.payload.originalEvent=x,Uw(x)),_=a("end")),_===!1&&a("rejected"),w=v(_!==!0),a("ended",w)}function h(x){Ri("Escape",x)&&(bd(x),m())}function f(x){var w;s.active&&(w=$D(e),setTimeout(w,400),bd(x)),u(x)}function d(x){c(x)}function p(x){var w=s.payload;w.hoverGfx=x.gfx,w.hover=x.element,a("hover")}function g(x){a("out");var w=s.payload;w.hoverGfx=null,w.hover=null}function m(x){var w;if(s){var _=s.active;_&&a("cancel"),w=v(x),_&&a("canceled",w)}}function v(x){var w,_;a("cleanup"),UD(),s.trapClick?_=f:_=u,sr.unbind(document,"mousemove",c),sr.unbind(document,"dragstart",bd),sr.unbind(document,"selectstart",bd),sr.unbind(document,"mousedown",_,!0),sr.unbind(document,"mouseup",_,!0),sr.unbind(document,"keyup",h),sr.unbind(document,"touchstart",d,!0),sr.unbind(document,"touchcancel",m,!0),sr.unbind(document,"touchmove",c,!0),sr.unbind(document,"touchend",u,!0),e.off("element.hover",p),e.off("element.out",g),t.removeMarker(t.getRootElement(),TC);var M=s.payload.previousSelection;return x!==!1&&M&&!r.get().length&&l(M),w=s,s=null,w}function y(x,w,_,M){s&&m(!1),typeof w=="string"&&(M=_,_=w,w=null),M=Ie({},i,M||{});var U=M.data||{},L,O,H,G,I;M.trapClick?G=f:G=u,x?(L=wp(x)||x,O=oh(x),Uw(x),L.type==="dragstart"&&bd(L)):(L=null,O={x:0,y:0}),H=o(O),w||(w=H),I=Zie(L),s=Ie({prefix:_,data:U,payload:{},globalStart:O,displacement:_o(w,H),localStart:H,isTouch:I},M),M.manual||(I?(sr.bind(document,"touchstart",d,!0),sr.bind(document,"touchcancel",m,!0),sr.bind(document,"touchmove",c,!0),sr.bind(document,"touchend",u,!0)):(sr.bind(document,"mousemove",c),sr.bind(document,"dragstart",bd),sr.bind(document,"selectstart",bd),sr.bind(document,"mousedown",G,!0),sr.bind(document,"mouseup",G,!0)),sr.bind(document,"keyup",h),e.on("element.hover",p),e.on("element.out",g)),a("init"),M.autoActivate&&c(x,!0)}e.on("diagram.destroy",m),this.init=y,this.move=c,this.hover=p,this.out=g,this.end=u,this.cancel=m,this.context=function(){return s},this.setOptions=function(x){Ie(i,x)}}EB.$inject=["eventBus","canvas","selection","elementRegistry"];const pc={__depends__:[Xie,To],dragging:["type",EB]};function Ap(e,t,r){this._canvas=r,this._opts=Ie({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var n=this;t.on("drag.move",function(i){var s=n._toBorderPoint(i);n.startScroll(s)}),t.on(["drag.cleanup"],function(){n.stopScroll()})}Ap.$inject=["config.autoScroll","eventBus","canvas"];Ap.prototype.startScroll=function(e){var t=this._canvas,r=this._opts,n=this,i=t.getContainer().getBoundingClientRect(),s=[e.x,e.y,i.width-e.x,i.height-e.y];this.stopScroll();for(var o=0,a=0,l=0;l<4;l++)Jie(s[l],r.scrollThresholdOut[l],r.scrollThresholdIn[l])&&(l===0?o=r.scrollStep:l==1?a=r.scrollStep:l==2?o=-r.scrollStep:l==3&&(a=-r.scrollStep));(o!==0||a!==0)&&(t.scroll({dx:o,dy:a}),this._scrolling=setTimeout(function(){n.startScroll(e)},r.scrollRepeatTimeout))};function Jie(e,t,r){return t<e&&e<r}Ap.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Ap.prototype.setOptions=function(e){this._opts=Ie({},this._opts,e)};Ap.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),r=oh(e.originalEvent);return{x:r.x-t.left,y:r.y-t.top}};const Qie={__depends__:[pc],__init__:["autoScroll"],autoScroll:["type",Ap]};function lS(e){this._commandStack=e.get("commandStack",!1)}lS.$inject=["injector"];lS.prototype.allowed=function(e,t){var r=!0,n=this._commandStack;return n&&(r=n.canExecute(e,t)),r===void 0?!0:r};const vl={__init__:["rules"],rules:["type",lS]};var lv=Math.round,ese=Math.max;function tse(e,t){var r=e.x,n=e.y;return[["M",r,n],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}function rse(e){var t=[];return e.forEach(function(r,n){t.push([n===0?"M":"L",r.x,r.y])}),t}var kB=10;function nse(e,t){var r,n;for(r=0;n=e[r];r++)if(mg(n,t)<=kB)return{point:e[r],bendpoint:!0,index:r};return null}function ise(e,t){var r=zL(tse(t,kB),rse(e)),n=r[0],i=r[r.length-1],s;return n?n!==i?n.segment2!==i.segment2?(s=ese(n.segment2,i.segment2)-1,{point:e[s],bendpoint:!0,index:s}):{point:{x:lv(n.x+i.x)/2,y:lv(n.y+i.y)/2},index:n.segment2}:{point:{x:lv(n.x),y:lv(n.y)},index:n.segment2}:null}function U4(e,t){return nse(e,t)||ise(e,t)}function NB(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function RC(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function sse(e,t){return t?{x:Math.cos(t)*e.x-Math.sin(t)*e.y,y:Math.sin(t)*e.x+Math.cos(t)*e.y}:e}function ase(e,t,r){var n=[{n:e[0]-r[0],lambda:t[0]},{n:e[1]-r[1],lambda:t[1]}],i=n[0].n*t[0]+n[1].n*t[1],s=n[0].lambda*t[0]+n[1].lambda*t[1];return-i/s}function cS(e,t){var r=t[0],n=t[1],i={x:n.x-r.x,y:n.y-r.y},s=ase([r.x,r.y],[i.x,i.y],[e.x,e.y]);return{x:r.x+s*i.x,y:r.y+s*i.y}}function AB(e,t){var r=cS(e,t),n={x:r.x-e.x,y:r.y-e.y};return NB(n)}function ob(e,t){return NB({x:e.x-t.x,y:e.y-t.y})}var CB="djs-bendpoint",jB="djs-segment-dragger";function ose(e,t){var r=oh(t),n=e._container.getBoundingClientRect(),i;i={x:n.left,y:n.top};var s=e.viewbox();return{x:s.x+(r.x-i.x)/s.scale,y:s.y+(r.y-i.y)/s.scale}}function $4(e,t,r){var n=ose(e,r),i=U4(t,n);return i}function H4(e,t){var r=Mt("g");Pr(r).add(CB),rr(e,r);var n=Mt("circle");Nt(n,{cx:0,cy:0,r:4}),Pr(n).add("djs-visual"),rr(r,n);var i=Mt("circle");return Nt(i,{cx:0,cy:0,r:10}),Pr(i).add("djs-hit"),rr(r,i),t&&Pr(r).add(t),r}function lse(e,t,r,n){var i=Mt("g");rr(e,i);var s=18,o=6,a=11,l=use(t,r,n),c=o+a,u=Mt("rect");Nt(u,{x:-s/2,y:-o/2,width:s,height:o}),Pr(u).add("djs-visual"),rr(i,u);var h=Mt("rect");return Nt(h,{x:-l/2,y:-c/2,width:l,height:c}),Pr(h).add("djs-hit"),rr(i,h),eD(i,n==="v"?90:0),i}function TB(e,t,r){var n=Mt("g"),i=N4(t,r),s=Xl(t,r);return rr(e,n),lse(n,t,r,s),Pr(n).add(jB),Pr(n).add(s==="h"?"horizontal":"vertical"),$i(n,i.x,i.y),n}function W4(e){return Math.abs(Math.round(e*2/3))}function cse(e,t){var r=dse(e,t);return cS(e,r)}function use(e,t,r){var n=t.x-e.x,i=t.y-e.y;return W4(r==="h"?n:i)}function dse(e,t){for(var r=t.waypoints,n=1/0,i,s=0;s<r.length-1;s++){var o=r[s],a=r[s+1],l=AB(e,[o,a]);l<n&&(n=l,i=s)}return[r[i],r[i+1]]}function RB(e,t,r,n,i){function s(x,w,_){var M=x.index,U=x.point,L,O,H,G,I,R;return M<=0||x.bendpoint?!1:(L=w[M-1],O=w[M],H=N4(L,O),G=Xl(L,O),I=Math.abs(U.x-H.x),R=Math.abs(U.y-H.y),G&&I<=_&&R<=_)}function o(x,w){var _=x.waypoints,M,U,L,O;return w.index<=0||w.bendpoint||(M={start:_[w.index-1],end:_[w.index]},U=Xl(M.start,M.end),!U)?null:(U==="h"?L=M.end.x-M.start.x:L=M.end.y-M.start.y,O=W4(L)/2,O)}function a(x,w){var _=w.waypoints,M=$4(t,_,x),U;if(M)return U=o(w,M),s(M,_,U)?i.start(x,w,M.index):n.start(x,w,M.index,!M.bendpoint),!0}function l(x,w,_){sr.bind(x,w,function(M){r.triggerMouseEvent(w,M,_),M.stopPropagation()})}function c(x,w){var _=t.getLayer("overlays"),M=Jr('.djs-bendpoints[data-element-id="'+K0(x.id)+'"]',_);return!M&&w&&(M=Mt("g"),Nt(M,{"data-element-id":x.id}),Pr(M).add("djs-bendpoints"),rr(_,M),l(M,"mousedown",x),l(M,"click",x),l(M,"dblclick",x)),M}function u(x,w){return Jr('.djs-segment-dragger[data-segment-idx="'+x+'"]',w)}function h(x,w){w.waypoints.forEach(function(_,M){var U=H4(x);rr(x,U),$i(U,_.x,_.y)}),H4(x,"floating")}function f(x,w){for(var _=w.waypoints,M,U,L,O=1;O<_.length;O++)M=_[O-1],U=_[O],Xl(M,U)&&(L=TB(x,M,U),Nt(L,{"data-segment-idx":O}),l(L,"mousemove",w))}function d(x){Ce(S4("."+CB,x),function(w){ui(w)})}function p(x){Ce(S4("."+jB,x),function(w){ui(w)})}function g(x){var w=c(x);return w||(w=c(x,!0),h(w,x),f(w,x)),w}function m(x){var w=c(x);w&&(p(w),d(w),f(w,x),h(w,x))}function v(x,w){var _=Jr(".floating",x),M=w.point;_&&$i(_,M.x,M.y)}function y(x,w,_){var M=u(w.index,x),U=_[w.index-1],L=_[w.index],O=w.point,H=N4(U,L),G=Xl(U,L),I,R;M&&(I=hse(M),R={x:O.x-H.x,y:O.y-H.y},G==="v"&&(R={x:R.y,y:R.x}),$i(I,R.x,R.y))}e.on("connection.changed",function(x){m(x.element)}),e.on("connection.remove",function(x){var w=c(x.element);w&&ui(w)}),e.on("element.marker.update",function(x){var w=x.element,_;w.waypoints&&(_=g(w),x.add?Pr(_).add(x.marker):Pr(_).remove(x.marker))}),e.on("element.mousemove",function(x){var w=x.element,_=w.waypoints,M,U;if(_){if(M=c(w,!0),U=$4(t,_,x.originalEvent),!U)return;v(M,U),U.bendpoint||y(M,U,_)}}),e.on("element.mousedown",function(x){if(Du(x)){var w=x.originalEvent,_=x.element;if(_.waypoints)return a(w,_)}}),e.on("selection.changed",function(x){var w=x.newSelection,_=w[0];_&&_.waypoints&&g(_)}),e.on("element.hover",function(x){var w=x.element;w.waypoints&&(g(w),r.registerEvent(x.gfx,"mousemove","element.mousemove"))}),e.on("element.out",function(x){r.unregisterEvent(x.gfx,"mousemove","element.mousemove")}),e.on("element.updateId",function(x){var w=x.element,_=x.newId;if(w.waypoints){var M=c(w);M&&Nt(M,{"data-element-id":_})}}),this.addHandles=g,this.updateHandles=m,this.getBendpointsContainer=c,this.getSegmentDragger=u}RB.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function hse(e){return Jr(".djs-visual",e)}var PC=Math.round,Ad="reconnectStart",Cd="reconnectEnd",vm="updateWaypoints";function uS(e,t,r,n,i,s){this._injector=e,this.start=function(o,a,l,c){var u=r.getGraphics(a),h=a.source,f=a.target,d=a.waypoints,p;!c&&l===0?p=Ad:!c&&l===d.length-1?p=Cd:p=vm;var g=p===vm?"connection.updateWaypoints":"connection.reconnect",m=i.allowed(g,{connection:a,source:h,target:f});m===!1&&(m=i.allowed(g,{connection:a,source:f,target:h})),m!==!1&&n.init(o,"bendpoint.move",{data:{connection:a,connectionGfx:u,context:{allowed:m,bendpointIndex:l,connection:a,source:h,target:f,insert:c,type:p}}})},t.on("bendpoint.move.hover",function(o){var a=o.context,l=a.connection,c=l.source,u=l.target,h=o.hover,f=a.type;a.hover=h;var d;if(h){var p=f===vm?"connection.updateWaypoints":"connection.reconnect";if(d=a.allowed=i.allowed(p,{connection:l,source:f===Ad?h:c,target:f===Cd?h:u}),d){a.source=f===Ad?h:c,a.target=f===Cd?h:u;return}d===!1&&(d=a.allowed=i.allowed(p,{connection:l,source:f===Cd?h:u,target:f===Ad?h:c})),d&&(a.source=f===Cd?h:u,a.target=f===Ad?h:c)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(o){var a=o.context,l=a.type;a.hover=null,a.source=null,a.target=null,l!==vm&&(a.allowed=!1)}),t.on("bendpoint.move.end",function(o){var a=o.context,l=a.allowed,c=a.bendpointIndex,u=a.connection,h=a.insert,f=u.waypoints.slice(),d=a.source,p=a.target,g=a.type,m=a.hints||{},v={x:PC(o.x),y:PC(o.y)};if(!l)return!1;g===vm?(h?f.splice(c,0,v):f[c]=v,m.bendpointMove={insert:h,bendpointIndex:c},f=this.cropWaypoints(u,f),s.updateWaypoints(u,oee(f),m)):(g===Ad?(m.docking="source",lb(a)&&(m.docking="target",m.newWaypoints=f.reverse())):g===Cd&&(m.docking="target",lb(a)&&(m.docking="source",m.newWaypoints=f.reverse())),s.reconnect(u,d,p,v,m))},this)}uS.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];uS.prototype.cropWaypoints=function(e,t){var r=this._injector.get("connectionDocking",!1);if(!r)return t;var n=e.waypoints;return e.waypoints=t,e.waypoints=r.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=n,t};function lb(e){var t=e.hover,r=e.source,n=e.target,i=e.type;if(i===Ad)return t&&n&&t===n&&r!==n;if(i===Cd)return t&&r&&t===r&&r!==n}var fse="reconnectStart",pse="reconnectEnd",OC="updateWaypoints",ym="connect-ok",cv="connect-not-ok",IC="connect-hover",MC="djs-updating",LC="djs-dragging",DC=1100;function PB(e,t,r,n){this._injector=t;var i=t.get("connectionPreview",!1);r.on("bendpoint.move.start",function(s){var o=s.context,a=o.bendpointIndex,l=o.connection,c=o.insert,u=l.waypoints,h=u.slice();o.waypoints=u,c&&h.splice(a,0,{x:s.x,y:s.y}),l.waypoints=h;var f=o.draggerGfx=H4(n.getLayer("overlays"));Pr(f).add("djs-dragging"),n.addMarker(l,LC),n.addMarker(l,MC)}),r.on("bendpoint.move.hover",function(s){var o=s.context,a=o.allowed,l=o.hover,c=o.type;if(l){if(n.addMarker(l,IC),c===OC)return;a?(n.removeMarker(l,cv),n.addMarker(l,ym)):a===!1&&(n.removeMarker(l,ym),n.addMarker(l,cv))}}),r.on(["bendpoint.move.out","bendpoint.move.cleanup"],DC,function(s){var o=s.context,a=o.hover,l=o.target;a&&(n.removeMarker(a,IC),n.removeMarker(a,l?ym:cv))}),r.on("bendpoint.move.move",function(s){var o=s.context,a=o.allowed,l=o.bendpointIndex,c=o.draggerGfx,u=o.hover,h=o.type,f=o.connection,d=f.source,p=f.target,g=f.waypoints.slice(),m={x:s.x,y:s.y},v=o.hints||{},y={};i&&(v.connectionStart&&(y.connectionStart=v.connectionStart),v.connectionEnd&&(y.connectionEnd=v.connectionEnd),h===fse?lb(o)?(y.connectionEnd=y.connectionEnd||m,y.source=p,y.target=u||d,g=g.reverse()):(y.connectionStart=y.connectionStart||m,y.source=u||d,y.target=p):h===pse?lb(o)?(y.connectionStart=y.connectionStart||m,y.source=u||p,y.target=d,g=g.reverse()):(y.connectionEnd=y.connectionEnd||m,y.source=d,y.target=u||p):(y.noCropping=!0,y.noLayout=!0,g[l]=m),h===OC&&(g=e.cropWaypoints(f,g)),y.waypoints=g,i.drawPreview(o,a,y)),$i(c,s.x,s.y)},this),r.on(["bendpoint.move.end","bendpoint.move.cancel"],DC,function(s){var o=s.context,a=o.connection,l=o.draggerGfx,c=o.hover,u=o.target,h=o.waypoints;a.waypoints=h,ui(l),n.removeMarker(a,MC),n.removeMarker(a,LC),c&&(n.removeMarker(c,ym),n.removeMarker(c,u?ym:cv)),i&&i.cleanUp(o)})}PB.$inject=["bendpointMove","injector","eventBus","canvas"];var BC="connect-hover",FC="djs-updating";function zC(e,t,r){return dS(e,t,e[t]+r)}function dS(e,t,r){return{x:t==="x"?r:e.x,y:t==="y"?r:e.y}}function mse(e,t,r,n){var i=Math.max(t[n],r[n]),s=Math.min(t[n],r[n]),o=20,a=Math.min(Math.max(s+o,e[n]),i-o);return dS(t,n,a)}function OB(e){return e==="x"?"y":"x"}function UC(e,t,r){var n,i;return e.original?e.original:(n=Jt(t),i=OB(r),dS(e,i,n[i]))}function IB(e,t,r,n,i,s){var o=e.get("connectionDocking",!1);this.start=function(h,f,d){var p,g=r.getGraphics(f),m=d-1,v=d,y=f.waypoints,x=y[m],w=y[v],_=$4(r,y,h),M,U,L;M=Xl(x,w),M&&(U=M==="v"?"x":"y",m===0&&(x=UC(x,f.source,U)),v===y.length-1&&(w=UC(w,f.target,U)),_?L=_.point:L={x:(x.x+w.x)/2,y:(x.y+w.y)/2},p={connection:f,segmentStartIndex:m,segmentEndIndex:v,segmentStart:x,segmentEnd:w,axis:U,dragPosition:L},n.init(h,L,"connectionSegment.move",{cursor:U==="x"?"resize-ew":"resize-ns",data:{connection:f,connectionGfx:g,context:p}}))};function a(h,f){if(!o)return f;var d=h.waypoints,p;return h.waypoints=f,p=o.getCroppedWaypoints(h),h.waypoints=d,p}function l(h){i.update("connection",h.connection,h.connectionGfx)}function c(h,f,d){var p=h.newWaypoints,g=h.segmentStartIndex+f,m=p[g],v=h.segmentEndIndex+f,y=p[v],x=OB(h.axis),w=mse(d,m,y,x);$i(h.draggerGfx,w.x,w.y)}function u(h,f){var d=0,p=h.filter(function(g,m){return L8(h[m-1],h[m+1],g)?(d=m<=f?d-1:d,!1):!0});return{waypoints:p,segmentOffset:d}}t.on("connectionSegment.move.start",function(h){var f=h.context,d=h.connection,p=r.getLayer("overlays");f.originalWaypoints=d.waypoints.slice(),f.draggerGfx=TB(p,f.segmentStart,f.segmentEnd),Pr(f.draggerGfx).add("djs-dragging"),r.addMarker(d,FC)}),t.on("connectionSegment.move.move",function(h){var f=h.context,d=f.connection,p=f.segmentStartIndex,g=f.segmentEndIndex,m=f.segmentStart,v=f.segmentEnd,y=f.axis,x=f.originalWaypoints.slice(),w=zC(m,y,h["d"+y]),_=zC(v,y,h["d"+y]),M=x.length,U=0;x[p]=w,x[g]=_;var L,O;p<2&&(L=os(d.source,w),p===1?L==="intersect"&&(x.shift(),x[0]=w,U--):L!=="intersect"&&(x.unshift(m),U++)),g>M-3&&(O=os(d.target,_),g===M-2?O==="intersect"&&(x.pop(),x[x.length-1]=_):O!=="intersect"&&x.push(v)),f.newWaypoints=d.waypoints=a(d,x),c(f,U,h),f.newSegmentStartIndex=p+U,l(h)}),t.on("connectionSegment.move.hover",function(h){h.context.hover=h.hover,r.addMarker(h.hover,BC)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(h){var f=h.context.hover;f&&r.removeMarker(f,BC)}),t.on("connectionSegment.move.cleanup",function(h){var f=h.context,d=f.connection;f.draggerGfx&&ui(f.draggerGfx),r.removeMarker(d,FC)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(h){var f=h.context,d=f.connection;d.waypoints=f.originalWaypoints,l(h)}),t.on("connectionSegment.move.end",function(h){var f=h.context,d=f.connection,p=f.newWaypoints,g=f.newSegmentStartIndex;p=p.map(function(_){return{original:_.original,x:Math.round(_.x),y:Math.round(_.y)}});var m=u(p,g),v=m.waypoints,y=a(d,v),x=m.segmentOffset,w={segmentMove:{segmentStartIndex:f.segmentStartIndex,newSegmentStartIndex:g+x}};s.updateWaypoints(d,y,w)})}IB.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var gse=Math.abs,$C=Math.round;function vse(e,t,r){r=r===void 0?10:r;var n,i;for(n=0;n<t.length;n++)if(i=t[n],gse(i-e)<=r)return i}function MB(e){return{x:e.x,y:e.y}}function LB(e){return{x:e.x+e.width,y:e.y+e.height}}function Ha(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:$C(e.x+e.width/2),y:$C(e.y+e.height/2)}}function Jf(e,t){var r=e.snapped;return r?typeof t=="string"?r[t]:r.x&&r.y:!1}function Xn(e,t,r){if(typeof t!="string")throw new Error("axis must be in [x, y]");if(typeof r!="number"&&r!==!1)throw new Error("value must be Number or false");var n,i=e[t],s=e.snapped=e.snapped||{};return r===!1?s[t]=!1:(s[t]=!0,n=r-i,e[t]+=n,e["d"+t]+=n),i}function DB(e){return e.children||[]}var yse=Math.abs,HC=Math.round,Vw=10;function BB(e){function t(s,o){if(Qt(s)){for(var a=s.length;a--;)if(yse(s[a]-o)<=Vw)return s[a]}else{s=+s;var l=o%s;if(l<Vw)return o-l;if(l>s-Vw)return o-l+s}return o}function r(s,o){if(s.waypoints)return cse(o,s);if(s.width)return{x:HC(s.width/2+s.x),y:HC(s.height/2+s.y)}}function n(s){var o=s.context,a=o.snapPoints,l=o.connection,c=l.waypoints,u=o.segmentStart,h=o.segmentStartIndex,f=o.segmentEnd,d=o.segmentEndIndex,p=o.axis;if(a)return a;var g=[c[h-1],u,f,c[d+1]];return h<2&&g.unshift(r(l.source,s)),d>c.length-3&&g.unshift(r(l.target,s)),o.snapPoints=a={horizontal:[],vertical:[]},Ce(g,function(m){m&&(m=m.original||m,p==="y"&&a.horizontal.push(m.y),p==="x"&&a.vertical.push(m.x))}),a}e.on("connectionSegment.move.move",1500,function(s){var o=n(s),a=s.x,l=s.y,c,u;if(o){c=t(o.vertical,a),u=t(o.horizontal,l);var h=a-c,f=l-u;Ie(s,{dx:s.dx-h,dy:s.dy-f,x:c,y:u}),(h||o.vertical.indexOf(a)!==-1)&&Xn(s,"x",c),(f||o.horizontal.indexOf(l)!==-1)&&Xn(s,"y",u)}});function i(s){var o=s.snapPoints,a=s.connection.waypoints,l=s.bendpointIndex;if(o)return o;var c=[a[l-1],a[l+1]];return s.snapPoints=o={horizontal:[],vertical:[]},Ce(c,function(u){u&&(u=u.original||u,o.horizontal.push(u.y),o.vertical.push(u.x))}),o}e.on(["connect.hover","connect.move","connect.end"],1500,function(s){var o=s.context,a=o.hover,l=a&&r(a,s);!Qr(a)||!l||!l.x||!l.y||(Xn(s,"x",l.x),Xn(s,"y",l.y))}),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(s){var o=s.context,a=i(o),l=o.hover,c=l&&r(l,s),u=s.x,h=s.y,f,d;if(a){f=t(c?a.vertical.concat([c.x]):a.vertical,u),d=t(c?a.horizontal.concat([c.y]):a.horizontal,h);var p=u-f,g=h-d;Ie(s,{dx:s.dx-p,dy:s.dy-g,x:s.x-p,y:s.y-g}),(p||a.vertical.indexOf(u)!==-1)&&Xn(s,"x",f),(g||a.horizontal.indexOf(h)!==-1)&&Xn(s,"y",d)}})}BB.$inject=["eventBus"];const bse={__depends__:[pc,vl],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",RB],bendpointMove:["type",uS],bendpointMovePreview:["type",PB],connectionSegmentMove:["type",IB],bendpointSnapping:["type",BB]};function FB(e,t,r,n){function i(o,a){return n.allowed("connection.create",{source:o,target:a})}function s(o,a){return i(a,o)}e.on("connect.hover",function(o){var a=o.context,l=a.start,c=o.hover,u;if(a.hover=c,u=a.canExecute=i(l,c),!q0(u)){if(u!==!1){a.source=l,a.target=c;return}u=a.canExecute=s(l,c),!q0(u)&&u!==!1&&(a.source=c,a.target=l)}}),e.on(["connect.out","connect.cleanup"],function(o){var a=o.context;a.hover=null,a.source=null,a.target=null,a.canExecute=!1}),e.on("connect.end",function(o){var a=o.context,l=a.canExecute,c=a.connectionStart,u={x:o.x,y:o.y},h=a.source,f=a.target;if(!l)return!1;var d=null,p={connectionStart:q4(a)?u:c,connectionEnd:q4(a)?c:u};Mi(l)&&(d=l),a.connection=r.connect(h,f,d,p)}),this.start=function(o,a,l,c){Mi(l)||(c=l,l=Jt(a)),t.init(o,"connect",{autoActivate:c,data:{shape:a,context:{start:a,connectionStart:l}}})}}FB.$inject=["eventBus","dragging","modeling","rules"];function q4(e){var t=e.hover,r=e.source,n=e.target;return t&&r&&t===r&&r!==n}var xse=1100,wse=900,WC="connect-ok",qC="connect-not-ok";function zB(e,t,r){var n=e.get("connectionPreview",!1);n&&t.on("connect.move",function(i){var s=i.context,o=s.canExecute,a=s.hover,l=s.source,c=s.start,u=s.startPosition,h=s.target,f=s.connectionStart||u,d=s.connectionEnd||{x:i.x,y:i.y},p=f,g=d;q4(s)&&(p=d,g=f),n.drawPreview(s,o,{source:l||c,target:h||a,connectionStart:p,connectionEnd:g})}),t.on("connect.hover",wse,function(i){var s=i.context,o=i.hover,a=s.canExecute;a!==null&&r.addMarker(o,a?WC:qC)}),t.on(["connect.out","connect.cleanup"],xse,function(i){var s=i.hover;s&&(r.removeMarker(s,WC),r.removeMarker(s,qC))}),n&&t.on("connect.cleanup",function(i){n.cleanUp(i.context)})}zB.$inject=["injector","eventBus","canvas"];const hS={__depends__:[To,vl,pc],__init__:["connectPreview"],connect:["type",FB],connectPreview:["type",zB]};var _se="djs-dragger";function mc(e,t,r,n){this._canvas=t,this._graphicsFactory=r,this._elementFactory=n,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}mc.$inject=["injector","canvas","graphicsFactory","elementFactory"];mc.prototype.drawPreview=function(e,t,r){r=r||{};var n=e.connectionPreviewGfx,i=e.getConnection,s=r.source,o=r.target,a=r.waypoints,l=r.connectionStart,c=r.connectionEnd,u=r.noLayout,h=r.noCropping,f=r.noNoop,d,p=this;if(n||(n=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),Kb(n),i||(i=e.getConnection=Sse(function(g,m,v){return p.getConnection(g,m,v)})),t&&(d=i(t,s,o)),!d){!f&&this.drawNoopPreview(n,r);return}d.waypoints=a||[],this._layouter&&!u&&(d.waypoints=this._layouter.layoutConnection(d,{source:s,target:o,connectionStart:l,connectionEnd:c,waypoints:r.waypoints||d.waypoints})),(!d.waypoints||!d.waypoints.length)&&(d.waypoints=[s?Jt(s):l,o?Jt(o):c]),this._connectionDocking&&(s||o)&&!h&&(d.waypoints=this._connectionDocking.getCroppedWaypoints(d,s,o)),this._graphicsFactory.drawConnection(n,d,{stroke:"var(--element-dragger-color)"})};mc.prototype.drawNoopPreview=function(e,t){var r=t.source,n=t.target,i=t.connectionStart||Jt(r),s=t.connectionEnd||Jt(n),o=this.cropWaypoints(i,s,r,n),a=this.createNoopConnection(o[0],o[1]);rr(e,a)};mc.prototype.cropWaypoints=function(e,t,r,n){var i=this._graphicsFactory,s=r&&i.getShapePath(r),o=n&&i.getShapePath(n),a=i.getConnectionPath({waypoints:[e,t]});return e=r&&C4(s,a,!0)||e,t=n&&C4(o,a,!1)||t,[e,t]};mc.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&ui(e.connectionPreviewGfx)};mc.prototype.getConnection=function(e){var t=Ese(e);return this._elementFactory.createConnection(t)};mc.prototype.createConnectionPreviewGfx=function(){var e=Mt("g");return Nt(e,{pointerEvents:"none"}),Pr(e).add(_se),rr(this._canvas.getActiveLayer(),e),e};mc.prototype.createNoopConnection=function(e,t){return Xb([e,t],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function Sse(e){var t={};return function(r){var n=JSON.stringify(r),i=t[n];return i||(i=t[n]=e.apply(null,arguments)),i}}function Ese(e){return Mi(e)?e:{}}const kse={__init__:["connectionPreview"],connectionPreview:["type",mc]},Nse=new wg("ps");var Ase=["marker-start","marker-mid","marker-end"],Cse=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Fu(e,t,r,n){this._elementRegistry=e,this._canvas=r,this._styles=n}Fu.$inject=["elementRegistry","eventBus","canvas","styles"];Fu.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")};Fu.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)};Fu.prototype.addDragger=function(e,t,r,n="djs-dragger"){r=r||this.getGfx(e);var i=TL(r),s=r.getBoundingClientRect();return this._cloneMarkers(Xd(i),n),Nt(i,this._styles.cls(n,[],{x:s.top,y:s.left})),rr(t,i),Nt(i,"data-preview-support-element-id",e.id),i};Fu.prototype.addFrame=function(e,t){var r=Mt("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return rr(t,r),Nt(r,"data-preview-support-element-id",e.id),r};Fu.prototype._cloneMarkers=function(e,t="djs-dragger",r=e){var n=this;e.childNodes&&e.childNodes.forEach(i=>{n._cloneMarkers(i,t,r)}),Pse(e)&&Ase.forEach(function(i){if(Nt(e,i)){var s=jse(e,i,n._canvas.getContainer());s&&n._cloneMarker(r,e,s,i,t)}})};Fu.prototype._cloneMarker=function(e,t,r,n,i="djs-dragger"){var s=[r.id,i,Nse.next()].join("-"),o=Jr("marker#"+r.id,e);e=e||this._canvas._svg;var a=o||TL(r);a.id=s,Pr(a).add(i);var l=Jr(":scope > defs",e);l||(l=Mt("defs"),rr(e,l)),rr(l,a);var c=Rse(a.id);Nt(t,n,c)};function jse(e,t,r){var n=Tse(Nt(e,t));return Jr("marker#"+n,r||document)}function Tse(e){return e.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function Rse(e){return"url(#"+e+")"}function Pse(e){return Cse.indexOf(e.nodeName)!==-1}const Cp={__init__:["previewSupport"],previewSupport:["type",Fu]},uv="complex-preview";class UB{constructor(t,r,n){this._canvas=t,this._graphicsFactory=r,this._previewSupport=n,this._markers=[]}create(t){this.cleanUp();const{created:r=[],moved:n=[],removed:i=[],resized:s=[]}=t,o=this._canvas.getLayer(uv);r.filter(a=>!Ose(a)).forEach(a=>{let l;Qr(a)?(l=this._graphicsFactory._createContainer("connection",Mt("g")),this._graphicsFactory.drawConnection(Xd(l),a)):(l=this._graphicsFactory._createContainer("shape",Mt("g")),this._graphicsFactory.drawShape(Xd(l),a),$i(l,a.x,a.y)),this._previewSupport.addDragger(a,o,l)}),n.forEach(({element:a,delta:l})=>{this._previewSupport.addDragger(a,o,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"]);const c=this._previewSupport.addDragger(a,o);Qr(a)?$i(c,l.x,l.y):$i(c,a.x+l.x,a.y+l.y)}),i.forEach(a=>{this._previewSupport.addDragger(a,o,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"])}),s.forEach(({shape:a,bounds:l})=>{this._canvas.addMarker(a,"djs-hidden"),this._markers.push([a,"djs-hidden"]),this._previewSupport.addDragger(a,o,void 0,"djs-dragging");const c=this._graphicsFactory._createContainer("shape",Mt("g"));this._graphicsFactory.drawShape(Xd(c),a,{width:l.width,height:l.height}),$i(c,l.x,l.y),this._previewSupport.addDragger(a,o,c)})}cleanUp(){Kb(this._canvas.getLayer(uv)),this._markers.forEach(([t,r])=>this._canvas.removeMarker(t,r)),this._markers=[]}show(){this._canvas.showLayer(uv)}hide(){this._canvas.hideLayer(uv)}}UB.$inject=["canvas","graphicsFactory","previewSupport"];function Ose(e){return e.hidden}const Ise={__depends__:[Cp],__init__:["complexPreview"],complexPreview:["type",UB]};var fS=["top","bottom","left","right"],dv=10;function pS(e,t){at.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(i){var s=i.context,o=s.connection,a=o.source,l=o.target,c=s.hints||{};c.createElementsBehavior!==!1&&(r(a),r(l))}),this.postExecuted(["label.create"],function(i){var s=i.context,o=s.shape,a=s.hints||{};a.createElementsBehavior!==!1&&r(o.labelTarget)}),this.postExecuted(["elements.create"],function(i){var s=i.context,o=s.elements,a=s.hints||{};a.createElementsBehavior!==!1&&o.forEach(function(l){r(l)})});function r(i){if(t2(i)&&!Qr(i)){var s=Dse(i);s&&n(i,s)}}function n(i,s){var o=Jt(i),a=i.label,l=Jt(a);if(a.parent){var c=Ht(i),u;switch(s){case"top":u={x:o.x,y:c.top-dv-a.height/2};break;case"left":u={x:c.left-dv-a.width/2,y:o.y};break;case"bottom":u={x:o.x,y:c.bottom+dv+a.height/2};break;case"right":u={x:c.right+dv+a.width/2,y:o.y};break}var h=_o(u,l);t.moveShape(a,h)}}}Ct(pS,at);pS.$inject=["eventBus","modeling"];function Mse(e){var t=e.host,r=Jt(e),n=os(r,t),i;n.indexOf("-")>=0?i=n.split("-"):i=[n];var s=fS.filter(function(o){return i.indexOf(o)===-1});return s}function Lse(e){var t=Jt(e),r=[].concat(e.incoming.map(function(n){return n.waypoints[n.waypoints.length-2]}),e.outgoing.map(function(n){return n.waypoints[1]})).map(function(n){return $B(t,n)});return r}function Dse(e){var t=Jt(e.label),r=Jt(e),n=$B(r,t);if(Bse(n)){var i=Lse(e);if(e.host){var s=Mse(e);i=i.concat(s)}var o=fS.filter(function(a){return i.indexOf(a)===-1});if(o.indexOf(n)===-1)return o[0]}}function $B(e,t){return os(t,e,5)}function Bse(e){return fS.indexOf(e)!==-1}function mS(e){at.call(this,e),this.preExecute("shape.append",function(t){var r=t.source,n=t.shape;t.position||(he(n,"bpmn:TextAnnotation")?t.position={x:r.x+r.width/2+75,y:r.y-50-n.height/2}:t.position={x:r.x+r.width+80+n.width/2,y:r.y+r.height/2})},!0)}Ct(mS,at);mS.$inject=["eventBus"];function gS(e,t){e.invoke(at,this),this.postExecute("shape.move",function(r){var n=r.newParent,i=r.shape,s=mr(i.incoming.concat(i.outgoing),function(o){return he(o,"bpmn:Association")});Ce(s,function(o){t.moveConnection(o,{x:0,y:0},n)})},!0)}Ct(gS,at);gS.$inject=["injector","modeling"];var VC=500;function g2(e,t){t.invoke(at,this),this._bpmnReplace=e;var r=this;this.postExecuted("elements.create",VC,function(n){var i=n.elements;i=i.filter(function(s){var o=s.host;return GC(s,o)}),i.length===1&&i.map(function(s){return i.indexOf(s)}).forEach(function(s){var o=i[s];n.elements[s]=r._replaceShape(i[s],o)})},!0),this.preExecute("elements.move",VC,function(n){var i=n.shapes,s=n.newHost;if(i.length===1){var o=i[0];GC(o,s)&&(n.shapes=[r._replaceShape(o,s)])}},!0)}g2.$inject=["bpmnReplace","injector"];Ct(g2,at);g2.prototype._replaceShape=function(e,t){var r=Fse(e),n={type:"bpmn:BoundaryEvent",host:t};return r&&(n.eventDefinitionType=r.$type),this._bpmnReplace.replaceElement(e,n,{layoutConnection:!1})};function Fse(e){var t=ht(e),r=t.eventDefinitions;return r&&r[0]}function GC(e,t){return!Ir(e)&&gr(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function vS(e,t){at.call(this,e);function r(n){return mr(n.attachers,function(i){return he(i,"bpmn:BoundaryEvent")})}this.postExecute("connection.create",function(n){var i=n.context.source,s=n.context.target,o=r(s);he(i,"bpmn:EventBasedGateway")&&he(s,"bpmn:ReceiveTask")&&o.length>0&&t.removeElements(o)}),this.postExecute("connection.reconnect",function(n){var i=n.context.oldSource,s=n.context.newSource;he(i,"bpmn:Gateway")&&he(s,"bpmn:EventBasedGateway")&&Ce(s.outgoing,function(o){var a=o.target,l=r(a);he(a,"bpmn:ReceiveTask")&&l.length>0&&t.removeElements(l)})})}vS.$inject=["eventBus","modeling"];Ct(vS,at);function yS(e,t,r){at.call(this,e),this.preExecute("shape.replace",a,!0),this.postExecuted("shape.replace",l,!0),this.preExecute("connection.create",i,!0),this.postExecuted("connection.delete",n,!0),this.postExecuted("connection.reconnect",s,!0),this.postExecuted("element.updateProperties",o,!0);function n(m){const v=m.source,y=m.target;Xh(v)&&bm(y)&&u(y)}function i(m){const v=m.connection,y=m.source,x=m.target;Xh(y)&&hv(x)&&(c(x),f(y,[v]))}function s(m){const v=m.newTarget,y=m.oldSource,x=m.oldTarget;if(x!==v){const w=y;bm(x)&&u(x),Xh(w)&&hv(v)&&c(v)}}function o(m){const{element:v}=m;bm(v)?(h(v),d(v)):hv(v)&&p(v)}function a(m){const{newData:v,oldShape:y}=m;if(Xh(m.oldShape)&&v.eventDefinitionType!=="bpmn:CompensateEventDefinition"||v.type!=="bpmn:BoundaryEvent"){const x=y.outgoing.find(({target:w})=>bm(w));x&&x.target&&(m._connectionTarget=x.target)}else if(!Xh(m.oldShape)&&v.eventDefinitionType==="bpmn:CompensateEventDefinition"&&v.type==="bpmn:BoundaryEvent"){const x=y.outgoing.find(({target:w})=>hv(w));x&&x.target&&(m._connectionTarget=x.target),g(y)}}function l(m){const{_connectionTarget:v,newShape:y}=m;v&&t.connect(y,v)}function c(m){t.updateProperties(m,{isForCompensation:!0})}function u(m){t.updateProperties(m,{isForCompensation:void 0})}function h(m){for(const v of m.incoming)r.canConnect(v.source,m)||t.removeConnection(v);for(const v of m.outgoing)r.canConnect(m,v.target)||t.removeConnection(v)}function f(m,v){m.outgoing.filter(w=>he(w,"bpmn:Association")).filter(w=>bm(w.target)&&!v.includes(w)).forEach(w=>t.removeConnection(w))}function d(m){const v=m.attachers.slice();v.length&&t.removeElements(v)}function p(m){const v=m.incoming.filter(y=>Xh(y.source));t.removeElements(v)}function g(m){const v=m.outgoing.filter(y=>he(y,"bpmn:SequenceFlow"));t.removeElements(v)}}Ct(yS,at);yS.$inject=["eventBus","modeling","bpmnRules"];function bm(e){const t=ht(e);return t&&t.get("isForCompensation")}function Xh(e){return e&&he(e,"bpmn:BoundaryEvent")&&xp(e,"bpmn:CompensateEventDefinition")}function hv(e){return e&&he(e,"bpmn:Activity")&&!ts(e)}function bS(e){e.invoke(at,this),this.preExecute("shape.create",1500,function(t){var r=t.context,n=r.parent,i=r.shape;he(n,"bpmn:Lane")&&!he(i,"bpmn:Lane")&&(r.parent=Yf(n,"bpmn:Participant"))})}bS.$inject=["injector"];Ct(bS,at);function xS(e,t){at.call(this,e),this.preExecute("shape.create",function(r){var n=r.context,i=n.shape;if(he(i,"bpmn:DataObjectReference")&&i.type!=="label"){var s=t.create("bpmn:DataObject");i.businessObject.dataObjectRef=s}})}xS.$inject=["eventBus","bpmnFactory"];Ct(xS,at);var V4=20,G4=20,HB=30,fv=2e3;function wS(e,t,r){at.call(this,t),t.on(["create.start","shape.move.start"],fv,function(i){var s=i.context,o=s.shape,a=e.getRootElement();if(!(!he(o,"bpmn:Participant")||!he(a,"bpmn:Process")||!a.children.length)){var l=a.children.filter(function(h){return!he(h,"bpmn:Group")&&!Ir(h)&&!Qr(h)});if(l.length){var c=di(l),u=zse(o,c);Ie(o,u),s.createConstraints=Use(o,c)}}}),t.on("create.start",fv,function(i){var s=i.context,o=s.shape,a=e.getRootElement(),l=e.getGraphics(a);function c(u){u.element=a,u.gfx=l}he(o,"bpmn:Participant")&&he(a,"bpmn:Process")&&(t.on("element.hover",fv,c),t.once("create.cleanup",function(){t.off("element.hover",c)}))});function n(){var i=e.getRootElement();return he(i,"bpmn:Collaboration")?i:r.makeCollaboration()}this.preExecute("elements.create",fv,function(i){var s=i.elements,o=i.parent,a=$se(s),l;a&&he(o,"bpmn:Process")&&(i.parent=n(),l=i.hints=i.hints||{},l.participant=a,l.process=o,l.processRef=ht(a).get("processRef"))},!0),this.preExecute("shape.create",function(i){var s=i.parent,o=i.shape;he(o,"bpmn:Participant")&&he(s,"bpmn:Process")&&(i.parent=n(),i.process=s,i.processRef=ht(o).get("processRef"))},!0),this.execute("shape.create",function(i){var s=i.hints||{},o=i.process||s.process,a=i.shape,l=s.participant;o&&(!l||a===l)&&ht(a).set("processRef",ht(o))},!0),this.revert("shape.create",function(i){var s=i.hints||{},o=i.process||s.process,a=i.processRef||s.processRef,l=i.shape,c=s.participant;o&&(!c||l===c)&&ht(l).set("processRef",a)},!0),this.postExecute("shape.create",function(i){var s=i.hints||{},o=i.process||i.hints.process,a=i.shape,l=s.participant;if(o){var c=o.children.slice();l?a===l&&r.moveElements(c,{x:0,y:0},l):r.moveElements(c,{x:0,y:0},a)}},!0)}wS.$inject=["canvas","eventBus","modeling"];Ct(wS,at);function zse(e,t){t={width:t.width+V4*2+HB,height:t.height+G4*2};var r=Math.max(e.width,t.width),n=Math.max(e.height,t.height);return{x:-r/2,y:-n/2,width:r,height:n}}function Use(e,t){return t=Ht(t),{bottom:t.top+e.height/2-G4,left:t.right-e.width/2+V4,top:t.bottom-e.height/2+G4,right:t.left+e.width/2-V4-HB}}function $se(e){return Lr(e,function(t){return he(t,"bpmn:Participant")})}var KC="__targetRef_placeholder";function _S(e,t){at.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],XC(s)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],XC(s));function r(o,a,l){var c=o.get("dataInputAssociations");return Lr(c,function(u){return u!==l&&u.targetRef===a})}function n(o,a){var l=o.get("properties"),c=Lr(l,function(u){return u.name===KC});return!c&&a&&(c=t.create("bpmn:Property",{name:KC}),hi(l,c)),c}function i(o,a){var l=n(o);l&&(r(o,l,a)||Zn(o.get("properties"),l))}function s(o){var a=o.context,l=a.connection,c=l.businessObject,u=l.target,h=u&&u.businessObject,f=a.newTarget,d=f&&f.businessObject,p=a.oldTarget||a.target,g=p&&p.businessObject,m=l.businessObject,v;g&&g!==h&&i(g,c),d&&d!==h&&i(d,c),h?(v=n(h,!0),m.targetRef=v):m.targetRef=null}}_S.$inject=["eventBus","bpmnFactory"];Ct(_S,at);function XC(e){return function(t){var r=t.context,n=r.connection;if(he(n,"bpmn:DataInputAssociation"))return e(t)}}function v2(e){this._bpmnUpdater=e}v2.$inject=["bpmnUpdater"];v2.prototype.execute=function(e){var t=e.dataStoreBo,r=e.dataStoreDi,n=e.newSemanticParent,i=e.newDiParent;return e.oldSemanticParent=t.$parent,e.oldDiParent=r.$parent,this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(r,i),[]};v2.prototype.revert=function(e){var t=e.dataStoreBo,r=e.dataStoreDi,n=e.oldSemanticParent,i=e.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(r,i),[]};function SS(e,t,r,n){at.call(this,n),t.registerHandler("dataStore.updateContainment",v2);function i(){return r.filter(function(a){return he(a,"bpmn:Participant")&&ht(a).processRef})[0]}function s(a){return a.children.filter(function(l){return he(l,"bpmn:DataStoreReference")&&!l.labelTarget})}function o(a,l){var c=a.businessObject||a;if(l=l||i(),l){var u=l.businessObject||l;t.execute("dataStore.updateContainment",{dataStoreBo:c,dataStoreDi:Or(a),newSemanticParent:u.processRef||u,newDiParent:Or(l)})}}this.preExecute("shape.create",function(a){var l=a.context,c=l.shape;he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&(l.hints||(l.hints={}),l.hints.autoResize=!1)}),this.preExecute("elements.move",function(a){var l=a.context,c=l.shapes,u=c.filter(function(h){return he(h,"bpmn:DataStoreReference")});u.length&&(l.hints||(l.hints={}),l.hints.autoResize=c.filter(function(h){return!he(h,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(a){var l=a.context,c=l.shape,u=c.parent;he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&he(u,"bpmn:Collaboration")&&o(c)}),this.postExecute("shape.move",function(a){var l=a.context,c=l.shape,u=l.oldParent,h=c.parent;if(!he(u,"bpmn:Collaboration")&&he(c,"bpmn:DataStoreReference")&&c.type!=="label"&&he(h,"bpmn:Collaboration")){var f=he(u,"bpmn:Participant")?u:Wse(u,"bpmn:Participant");o(c,f)}}),this.postExecute("shape.delete",function(a){var l=a.context,c=l.shape,u=e.getRootElement();gr(c,["bpmn:Participant","bpmn:SubProcess"])&&he(u,"bpmn:Collaboration")&&s(u).filter(function(h){return Hse(h,c)}).forEach(function(h){o(h)})}),this.postExecute("canvas.updateRoot",function(a){var l=a.context,c=l.oldRoot,u=l.newRoot,h=s(c);h.forEach(function(f){he(u,"bpmn:Process")&&o(f,u)})})}SS.$inject=["canvas","commandStack","elementRegistry","eventBus"];Ct(SS,at);function Hse(e,t){for(var r=e.businessObject||e,n=t.businessObject||t;r.$parent;){if(r.$parent===n.processRef||n)return!0;r=r.$parent}return!1}function Wse(e,t){for(;e.parent;){if(he(e.parent,t))return e.parent;e=e.parent}}var cb=Math.max,ub=Math.min,qse=20;function WB(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function Vse(e,t,r){var n=r.x,i=r.y,s={x:e.x,y:e.y,width:e.width,height:e.height};return t.indexOf("n")!==-1?(s.y=e.y+i,s.height=e.height-i):t.indexOf("s")!==-1&&(s.height=e.height+i),t.indexOf("e")!==-1?s.width=e.width+n:t.indexOf("w")!==-1&&(s.x=e.x+n,s.width=e.width-n),s}function Gse(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}}function pv(e,t,r){var n=t[e],i=r.min&&r.min[e],s=r.max&&r.max[e];return Yt(i)&&(n=(/top|left/.test(e)?ub:cb)(n,i)),Yt(s)&&(n=(/top|left/.test(e)?cb:ub)(n,s)),n}function Kse(e,t){if(!t)return e;var r=Ht(e);return Yb({top:pv("top",r,t),right:pv("right",r,t),bottom:pv("bottom",r,t),left:pv("left",r,t)})}function Xse(e,t,r,n){var i=Ht(t),s={top:/n/.test(e)?i.bottom-r.height:i.top,left:/w/.test(e)?i.right-r.width:i.left,bottom:/s/.test(e)?i.top+r.height:i.bottom,right:/e/.test(e)?i.left+r.width:i.right},o=n?Ht(n):s,a={top:ub(s.top,o.top),left:ub(s.left,o.left),bottom:cb(s.bottom,o.bottom),right:cb(s.right,o.right)};return Yb(a)}function xm(e,t){return typeof e<"u"?e:qse}function Zse(e,t){var r,n,i,s;return typeof t=="object"?(r=xm(t.left),n=xm(t.right),i=xm(t.top),s=xm(t.bottom)):r=n=i=s=xm(t),{x:e.x-r,y:e.y-i,width:e.width+r+n,height:e.height+i+s}}function Yse(e){return!(e.waypoints||e.type==="label")}function qB(e,t){var r;if(e.length===void 0?r=mr(e.children,Yse):r=e,r.length)return Zse(di(r),t)}var $c=Math.abs;function Jse(e,t){return WB(Ht(t),Ht(e))}var Qse=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],Da=30;function y2(e,t){return t=t||[],e.children.filter(function(r){he(r,"bpmn:Lane")&&(y2(r,t),t.push(r))}),t}function zu(e){return e.children.filter(function(t){return he(t,"bpmn:Lane")})}function za(e){return Yf(e,Qse)||e}function eae(e,t){var r=za(e),n=he(r,"bpmn:Process")?[]:[r],i=y2(r,n),s=Ht(e),o=Ht(t),a=Jse(e,t),l=[],c=bi(e);return i.forEach(function(u){if(u!==e){var h=c?0:a.top,f=c?a.right:0,d=c?0:a.bottom,p=c?a.left:0,g=Ht(u);a.top&&($c(g.bottom-s.top)<10&&(d=o.top-g.bottom),$c(g.top-s.top)<5&&(h=o.top-g.top)),a.left&&($c(g.right-s.left)<10&&(f=o.left-g.right),$c(g.left-s.left)<5&&(p=o.left-g.left)),a.bottom&&($c(g.top-s.bottom)<10&&(h=o.bottom-g.top),$c(g.bottom-s.bottom)<5&&(d=o.bottom-g.bottom)),a.right&&($c(g.left-s.right)<10&&(p=o.right-g.left),$c(g.right-s.right)<5&&(f=o.right-g.right)),(h||f||d||p)&&l.push({shape:u,newBounds:Gse(u,{top:h,right:f,bottom:d,left:p})})}}),l}var tae=500;function ES(e,t){at.call(this,e);function r(n,i){var s=bi(n),o=zu(i),a=[],l=[],c=[],u=[];if(mh(o,function(m){return s?m.y>n.y?l.push(m):a.push(m):m.x>n.x?u.push(m):c.push(m),m.children}),!!o.length){var h;s?l.length&&a.length?h=n.height/2:h=n.height:u.length&&c.length?h=n.width/2:h=n.width;var f,d,p,g;a.length&&(f=t.calculateAdjustments(a,"y",h,n.y-10),t.makeSpace(f.movingShapes,f.resizingShapes,{x:0,y:h},"s")),l.length&&(d=t.calculateAdjustments(l,"y",-h,n.y+n.height+10),t.makeSpace(d.movingShapes,d.resizingShapes,{x:0,y:-h},"n")),c.length&&(p=t.calculateAdjustments(c,"x",h,n.x-10),t.makeSpace(p.movingShapes,p.resizingShapes,{x:h,y:0},"e")),u.length&&(g=t.calculateAdjustments(u,"x",-h,n.x+n.width+10),t.makeSpace(g.movingShapes,g.resizingShapes,{x:-h,y:0},"w"))}}this.postExecuted("shape.delete",tae,function(n){var i=n.context,s=i.hints,o=i.shape,a=i.oldParent;he(o,"bpmn:Lane")&&(s&&s.nested||r(o,a))})}ES.$inject=["eventBus","spaceTool"];Ct(ES,at);var ZC=500;function b2(e,t){t.invoke(at,this),this._bpmnReplace=e;var r=this;this.postExecuted("elements.create",ZC,function(n){var i=n.elements;i.filter(function(s){var o=s.host;return YC(s,o)}).map(function(s){return i.indexOf(s)}).forEach(function(s){n.elements[s]=r._replaceShape(i[s])})},!0),this.preExecute("elements.move",ZC,function(n){var i=n.shapes,s=n.newHost;i.forEach(function(o,a){var l=o.host;YC(o,nae(i,l)?l:s)&&(i[a]=r._replaceShape(o))})},!0)}b2.$inject=["bpmnReplace","injector"];Ct(b2,at);b2.prototype._replaceShape=function(e){var t=rae(e),r;return t?r={type:"bpmn:IntermediateCatchEvent",eventDefinitionType:t.$type}:r={type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,r,{layoutConnection:!1})};function rae(e){var t=ht(e),r=t.eventDefinitions;return r&&r[0]}function YC(e,t){return!Ir(e)&&he(e,"bpmn:BoundaryEvent")&&!t}function nae(e,t){return e.indexOf(t)!==-1}function kS(e,t,r){at.call(this,e);function n(i,s,o){var a=s.waypoints,l,c,u,h,f,d,p,g=i.outgoing.slice(),m=i.incoming.slice(),v;Yt(o.width)?v=Jt(o):v=o;var y=U4(a,v);if(y){if(l=a.slice(0,y.index),c=a.slice(y.index+(y.bendpoint?1:0)),!l.length||!c.length)return;u=y.bendpoint?a[y.index]:v,(l.length===1||!JC(i,l[l.length-1]))&&l.push(QC(u)),(c.length===1||!JC(i,c[0]))&&c.unshift(QC(u))}h=s.source,f=s.target,t.canConnect(h,i,s)&&(r.reconnectEnd(s,i,l||v),d=s),t.canConnect(i,f,s)&&(d?p=r.connect(i,f,{type:s.type,waypoints:c}):(r.reconnectStart(s,i,c||v),p=s));var x=[].concat(d&&mr(m,function(w){return w.source===d.source})||[],p&&mr(g,function(w){return w.target===p.target})||[]);x.length&&r.removeElements(x)}this.preExecute("elements.move",function(i){var s=i.newParent,o=i.shapes,a=i.delta,l=o[0];if(!(!l||!s)){s&&s.waypoints&&(i.newParent=s=s.parent);var c=Jt(l),u={x:c.x+a.x,y:c.y+a.y},h=Lr(s.children,function(f){var d=t.canInsert(o,f);return d&&U4(f.waypoints,u)});h&&(i.targetFlow=h,i.position=u)}},!0),this.postExecuted("elements.move",function(i){var s=i.shapes,o=i.targetFlow,a=i.position;o&&n(s[0],o,a)},!0),this.preExecute("shape.create",function(i){var s=i.parent,o=i.shape;t.canInsert(o,s)&&(i.targetFlow=s,i.parent=s.parent)},!0),this.postExecuted("shape.create",function(i){var s=i.shape,o=i.targetFlow,a=i.position;o&&n(s,o,a)},!0)}Ct(kS,at);kS.$inject=["eventBus","bpmnRules","modeling"];function JC(e,t){var r=t.x,n=t.y;return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function QC(e){return Ie({},e)}function NS(e,t){at.call(this,e),this.preExecuted("connection.create",function(r){var n=r.context,i=n.connection,s=n.source,o=n.target,a=n.hints;if(!(a&&a.createElementsBehavior===!1)&&Zh(i)){var l=[];he(s,"bpmn:EventBasedGateway")?l=o.incoming.filter(c=>c!==i&&Zh(c)):l=o.incoming.filter(c=>c!==i&&Zh(c)&&he(c.source,"bpmn:EventBasedGateway")),l.forEach(function(c){t.removeConnection(c)})}}),this.preExecuted("shape.replace",function(r){var n=r.context,i=n.newShape;if(he(i,"bpmn:EventBasedGateway")){var s=i.outgoing.filter(Zh).reduce(function(o,a){return o.includes(a.target)?o:o.concat(a.target)},[]);s.forEach(function(o){o.incoming.filter(Zh).forEach(function(a){const l=o.incoming.filter(Zh).filter(function(c){return c.source===i});(a.source!==i||l.length>1)&&t.removeConnection(a)})})}})}NS.$inject=["eventBus","modeling"];Ct(NS,at);function Zh(e){return he(e,"bpmn:SequenceFlow")}var mv=1500,ej=2e3;function VB(e,t,r){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],mv,function(n){var i=n.context,s=i.shape||n.shape,o=n.hover;he(o,"bpmn:Lane")&&!gr(s,["bpmn:Lane","bpmn:Participant"])&&(n.hover=za(o),n.hoverGfx=e.getGraphics(n.hover));var a=r.getRootElement();o!==a&&(s.labelTarget||gr(s,["bpmn:Group","bpmn:TextAnnotation"]))&&(n.hover=a,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],mv,function(n){var i=n.hover;he(i,"bpmn:Lane")&&(n.hover=za(i)||i,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["bendpoint.move.hover"],mv,function(n){var i=n.context,s=n.hover,o=i.type;he(s,"bpmn:Lane")&&/reconnect/.test(o)&&(n.hover=za(s)||s,n.hoverGfx=e.getGraphics(n.hover))}),t.on(["connect.start"],mv,function(n){var i=n.context,s=i.start;he(s,"bpmn:Lane")&&(i.start=za(s)||s)}),t.on("shape.move.start",ej,function(n){var i=n.shape;he(i,"bpmn:Lane")&&(n.shape=za(i)||i)}),t.on("spaceTool.move",ej,function(n){var i=n.hover;i&&he(i,"bpmn:Lane")&&(n.hover=za(i))})}VB.$inject=["elementRegistry","eventBus","canvas"];function iae(e){return e.create("bpmn:Category")}function sae(e){return e.create("bpmn:CategoryValue")}function aae(e,t,r){return hi(t.get("categoryValue"),e),e.$parent=t,hi(r.get("rootElements"),t),t.$parent=r,e}function oae(e){var t=e.$parent;return t&&(Zn(t.get("categoryValue"),e),e.$parent=null),e}function lae(e){var t=e.$parent;return t&&(Zn(t.get("rootElements"),e),e.$parent=null),e}var tj=770;function AS(e,t,r,n,i,s){i.invoke(at,this);function o(){return r.filter(function(p){return he(p,"bpmn:Group")})}function a(p,g){return p.some(function(m){var v=ht(m),y=v.categoryValueRef&&v.categoryValueRef.$parent;return y===g})}function l(p,g){return p.some(function(m){var v=ht(m);return v.categoryValueRef===g})}function c(p,g,m){var v=o().filter(function(y){return y.businessObject!==m});g&&!a(v,g)&&lae(g),p&&!l(v,p)&&oae(p)}function u(p,g){return aae(p,g,t.getDefinitions())}function h(p,g){var m=ht(p),v=m.categoryValueRef;v||(v=m.categoryValueRef=g.categoryValue=g.categoryValue||sae(e));var y=v.$parent;y||(y=v.$parent=g.category=g.category||iae(e)),u(v,y,t.getDefinitions())}function f(p,g){var m=g.category,v=g.categoryValue,y=ht(p);v?(y.categoryValueRef=null,c(v,m,y)):c(null,y.categoryValueRef.$parent,y)}this.execute("label.create",function(p){var g=p.context,m=g.labelTarget;he(m,"bpmn:Group")&&h(m,g)}),this.revert("label.create",function(p){var g=p.context,m=g.labelTarget;he(m,"bpmn:Group")&&f(m,g)}),this.execute("shape.delete",function(p){var g=p.context,m=g.shape,v=ht(m);if(!(!he(m,"bpmn:Group")||m.labelTarget)){var y=g.categoryValue=v.categoryValueRef,x;y&&(x=g.category=y.$parent,c(y,x,v),v.categoryValueRef=null)}}),this.reverted("shape.delete",function(p){var g=p.context,m=g.shape;if(!(!he(m,"bpmn:Group")||m.labelTarget)){var v=g.category,y=g.categoryValue,x=ht(m);y&&(x.categoryValueRef=y,u(y,v))}}),this.execute("shape.create",function(p){var g=p.context,m=g.shape;!he(m,"bpmn:Group")||m.labelTarget||ht(m).categoryValueRef&&h(m,g)}),this.reverted("shape.create",function(p){var g=p.context,m=g.shape;!he(m,"bpmn:Group")||m.labelTarget||ht(m).categoryValueRef&&f(m,g)});function d(p,g){var m=e.create(p.$type);return s.copyElement(p,m,null,g)}n.on("copyPaste.copyElement",tj,function(p){var g=p.descriptor,m=p.element;if(!(!he(m,"bpmn:Group")||m.labelTarget)){var v=ht(m);if(v.categoryValueRef){var y=v.categoryValueRef;g.categoryValue=d(y,!0),y.$parent&&(g.category=d(y.$parent,!0))}}}),n.on("copyPaste.pasteElement",tj,function(p){var g=p.descriptor,m=g.businessObject,v=g.categoryValue,y=g.category;v&&(v=m.categoryValueRef=d(v)),y&&(v.$parent=d(y)),delete g.category,delete g.categoryValue})}AS.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"];Ct(AS,at);function K4(e,t,r,n){var i,s,o,a,l;return i=(n.y-r.y)*(t.x-e.x)-(n.x-r.x)*(t.y-e.y),i==0?null:(s=e.y-r.y,o=e.x-r.x,l=(n.x-r.x)*s-(n.y-r.y)*o,a=l/i,{x:Math.round(e.x+a*(t.x-e.x)),y:Math.round(e.y+a*(t.y-e.y))})}function GB(e){function t(n,i,s){var o={x:s.x,y:s.y-50},a={x:s.x-50,y:s.y},l=K4(n,i,s,o),c=K4(n,i,s,a),u;l&&c?rj(l,s)>rj(c,s)?u=c:u=l:u=l||c,n.original=u}function r(n){var i=n.waypoints;t(i[0],i[1],Jt(n.source)),t(i[i.length-1],i[i.length-2],Jt(n.target))}e.on("bpmnElement.added",function(n){var i=n.element;i.waypoints&&r(i)})}GB.$inject=["eventBus"];function rj(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CS(e){at.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(r){var n=r.context.shape,i=ht(n),s=Or(n);if(gr(i,t)){var o=s.get("isHorizontal");o===void 0&&(o=!0),s.set("isHorizontal",o)}})}CS.$inject=["eventBus"];Ct(CS,at);var KB=Math.sqrt,XB=Math.min,cae=Math.max,nj=Math.abs;function ij(e){return Math.pow(e,2)}function wm(e,t){return KB(ij(e.x-t.x)+ij(e.y-t.y))}function uae(e,t){var r=0,n,i,s,o,a,l,c,u,h,f,d;for(r=0;r<t.length-1;r++){if(n=t[r],i=t[r+1],aj(n,i)?c=[n]:(s=wm(e,n),o=wm(e,i),l=XB(s,o),c=dae(n,i,e,l)),c.length<1)throw new Error("expected between [1, 2] circle -> line intersections");c.length===1&&(u={type:"bendpoint",position:c[0],segmentIndex:r,bendpointIndex:aj(n,c[0])?r:r+1}),c.length===2&&(a=fae(c[0],c[1]),u={type:"segment",position:a,segmentIndex:r,relativeLocation:wm(n,a)/wm(n,i)}),h=wm(u.position,e),(!d||f>h)&&(d=u,f=h)}return d}function dae(e,t,r,n){var i=t.x-e.x,s=t.y-e.y,o=r.x-e.x,a=r.y-e.y,l=i*i+s*s,c=i*o+s*a,u=o*o+a*a-n*n,h=c/l,f=u/l,d=h*h-f;if(d<0&&d>-1e-6&&(d=0),d<0)return[];var p=KB(d),g=-h+p,m=-h-p,v={x:e.x-i*g,y:e.y-s*g};if(d===0)return[v];var y={x:e.x-i*m,y:e.y-s*m};return[v,y].filter(function(x){return hae(x,e,t)})}function hae(e,t,r){return sj(e.x,t.x,r.x)&&sj(e.y,t.y,r.y)}function sj(e,t,r){return e>=XB(t,r)-db&&e<=cae(t,r)+db}function fae(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}var db=.1;function aj(e,t){return nj(e.x-t.x)<=db&&nj(e.y-t.y)<=db}function pae(e,t,r,n){var i=r.segmentIndex,s=t.length-e.length;if(n.segmentMove){var o=n.segmentMove.segmentStartIndex,a=n.segmentMove.newSegmentStartIndex;return i===o?a:i>=a?i+s<a?a:i+s:i}if(n.bendpointMove){var l=n.bendpointMove.insert,c=n.bendpointMove.bendpointIndex,u;if(s===0)return i;if(i>=c&&(u=l?i+1:i-1),i<c&&(u=i,l&&r.type!=="bendpoint"&&c-1===i)){var h=YB(t,c);h<r.relativeLocation&&u++}return u}return s===0?i:n.connectionStart&&i===0?0:n.connectionEnd&&i===e.length-2?t.length-2:Math.floor((t.length-2)/2)}function ZB(e,t,r,n){var i=0,s=0,o={point:e,delta:{x:0,y:0}},a=uae(e,r),l=a.segmentIndex,c=pae(r,t,a,n);if(c<0||c>t.length-2||c===null)return o;var u=oj(r,l),h=oj(t,c),f=a.position,d=gae(u,f),p=mae(u,h);if(a.type==="bendpoint"){var g=t.length-r.length,m=a.bendpointIndex,v=r[m];if(t.indexOf(v)!==-1)return o;if(g===0){var y=t[m];return i=y.x-a.position.x,s=y.y-a.position.y,{delta:{x:i,y:s},point:{x:e.x+i,y:e.y+s}}}g<0&&m!==0&&m<r.length-1&&(d=YB(r,m))}var x={x:(h[1].x-h[0].x)*d+h[0].x,y:(h[1].y-h[0].y)*d+h[0].y},w=sse({x:e.x-f.x,y:e.y-f.y},p);return i=x.x+w.x-e.x,s=x.y+w.y-e.y,{point:ec(x),delta:ec({x:i,y:s})}}function YB(e,t){var r=ob(e[t-1],e[t]),n=ob(e[t],e[t+1]),i=r/(r+n);return i}function mae(e,t){var r=RC(e),n=RC(t);return n-r}function oj(e,t){return[e[t],e[t+1]]}function gae(e,t){var r=ob(e[0],e[1]),n=ob(e[0],t);return r===0?0:n/r}function vae(e,t,r,n){var i=Jt(e);return ZB(i,t,r,n).delta}function Eg(e,t,r){var n=l0(t),i=l0(r),s=_o(e,n),o={x:s.x*(r.width/t.width),y:s.y*(r.height/t.height)};return ec({x:i.x+o.x,y:i.y+o.y})}function lj(e,t,r){var n=l0(e),i=l0(t),s=l0(r),o=_o(e,n),a=_o(n,i),l=yae(n,t,r);if(l)return l;var c={x:a.x*(r.width/t.width),y:a.y*(r.height/t.height)},u={x:s.x+c.x,y:s.y+c.y};return ec({x:u.x+o.x-e.x,y:u.y+o.y-e.y})}function yae(e,t,r){var n=Ht(t),i=Ht(r);if(bae(n,i))return null;var s=os(t,e),o,a,l;if(s==="top")o={x:0,y:i.bottom-n.bottom};else if(s==="bottom")o={x:0,y:i.top-n.top};else if(s==="right")o={x:i.left-n.left,y:0};else if(s==="left")o={x:i.right-n.right,y:0};else return null;return a={x:e.x+o.x,y:e.y+o.y},l=os(r,a),l!==s?null:o}function bae(e,t){return xae(e,t)||wae(e,t)}function xae(e,t){return e.right!==t.right&&e.left!==t.left}function wae(e,t){return e.top!==t.top&&e.bottom!==t.bottom}var cj="name",uj="text";function jS(e,t,r,n){at.call(this,e),this.postExecute("element.updateProperties",i),this.postExecute("element.updateModdleProperties",o=>{ht(o.context.element)===o.context.moddleElement&&i(o)});function i(o){var a=o.context,l=a.element,c=a.properties;if(cj in c&&t.updateLabel(l,c[cj]),uj in c&&he(l,"bpmn:TextAnnotation")){var u=n.getTextAnnotationBounds({x:l.x,y:l.y,width:l.width,height:l.height},c[uj]||"");t.updateLabel(l,c.text,u)}}this.postExecute(["shape.create","connection.create"],function(o){var a=o.context,l=a.hints||{};if(l.createElementsBehavior!==!1){var c=a.shape||a.connection;Ir(c)||!ah(c)||Ao(c)&&t.updateLabel(c,Ao(c))}}),this.postExecute("shape.delete",function(o){var a=o.context,l=a.labelTarget,c=a.hints||{};l&&c.unsetLabel!==!1&&t.updateLabel(l,null,null,{removeShape:!1})});function s(o){var a=o.context,l=a.connection,c=l.label,u=Ie({},a.hints),h=a.newWaypoints||l.waypoints,f=a.oldWaypoints;return typeof u.startChanged>"u"&&(u.startChanged=!!u.connectionStart),typeof u.endChanged>"u"&&(u.endChanged=!!u.connectionEnd),vae(c,h,f,u)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(o){var a=o.context,l=a.hints||{};if(l.labelBehavior!==!1){var c=a.connection,u=c.label,h;!u||!u.parent||(h=s(o),t.moveShape(u,h))}}),this.postExecute(["shape.replace"],function(o){var a=o.context,l=a.newShape,c=a.oldShape,u=ht(l);u&&ah(u)&&c.label&&l.label&&(l.label.x=c.label.x,l.label.y=c.label.y)}),this.postExecute("shape.resize",function(o){var a=o.context,l=a.shape,c=a.newBounds,u=a.oldBounds;if(t2(l)){var h=l.label,f=Jt(h),d=Eae(u),p=Sae(f,d),g=_ae(p,u,c);t.moveShape(h,g)}})}Ct(jS,at);jS.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];function _ae(e,t,r){var n=Eg(e,t,r);return ec(_o(n,e))}function Sae(e,t){if(t.length){var r=kae(e,t);return cS(e,r)}}function Eae(e){return[[{x:e.x,y:e.y},{x:e.x+(e.width||0),y:e.y}],[{x:e.x+(e.width||0),y:e.y},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y+(e.height||0)},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y},{x:e.x,y:e.y+(e.height||0)}]]}function kae(e,t){var r=t.map(function(i){return{line:i,distance:AB(e,i)}}),n=ul(r,"distance");return n[0].line}function Nae(e,t,r,n){return ZB(e,t,r,n).point}function TS(e,t){at.call(this,e);function r(n,i){var s=n.context,o=s.connection,a=Ie({},s.hints),l=s.newWaypoints||o.waypoints,c=s.oldWaypoints;return typeof a.startChanged>"u"&&(a.startChanged=!!a.connectionStart),typeof a.endChanged>"u"&&(a.endChanged=!!a.connectionEnd),Nae(i,l,c,a)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(n){var i=n.context,s=i.connection,o=s.outgoing,a=s.incoming;a.forEach(function(l){var c=l.waypoints[l.waypoints.length-1],u=r(n,c),h=[].concat(l.waypoints.slice(0,-1),[u]);t.updateWaypoints(l,h)}),o.forEach(function(l){var c=l.waypoints[0],u=r(n,c),h=[].concat([u],l.waypoints.slice(1));t.updateWaypoints(l,h)})}),this.postExecute(["connection.move"],function(n){var i=n.context,s=i.connection,o=s.outgoing,a=s.incoming,l=i.delta;a.forEach(function(c){var u=c.waypoints[c.waypoints.length-1],h={x:u.x+l.x,y:u.y+l.y},f=[].concat(c.waypoints.slice(0,-1),[h]);t.updateWaypoints(c,f)}),o.forEach(function(c){var u=c.waypoints[0],h={x:u.x+l.x,y:u.y+l.y},f=[].concat([h],c.waypoints.slice(1));t.updateWaypoints(c,f)})})}Ct(TS,at);TS.$inject=["eventBus","modeling"];function x2(e,t,r){var n=_2(e),i=QB(n,t),s=n[0];return i.length?i[i.length-1]:Eg(s.original||s,r,t)}function w2(e,t,r){var n=_2(e),i=QB(n,t),s=n[n.length-1];return i.length?i[0]:Eg(s.original||s,r,t)}function RS(e,t,r){var n=_2(e),i=JB(t,r),s=n[0];return Eg(s.original||s,i,t)}function PS(e,t,r){var n=_2(e),i=JB(t,r),s=n[n.length-1];return Eg(s.original||s,i,t)}function JB(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function _2(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function QB(e,t){var r=is(e,Cae);return mr(r,function(n){return Aae(n,t)})}function Aae(e,t){return os(t,e,1)==="intersect"}function Cae(e){return e.original||e}function OS(e,t){at.call(this,e),this.postExecute("shape.replace",function(r){var n=r.oldShape,i=r.newShape;if(jae(n,i)){var s=Tae(n);s.incoming.forEach(function(o){var a=w2(o,i,n);t.reconnectEnd(o,i,a)}),s.outgoing.forEach(function(o){var a=x2(o,i,n);t.reconnectStart(o,i,a)})}},!0)}OS.$inject=["eventBus","modeling"];Ct(OS,at);function jae(e,t){return he(e,"bpmn:Participant")&&Er(e)&&he(t,"bpmn:Participant")&&!Er(t)}function Tae(e){var t=pg([e],!1),r=[],n=[];return t.forEach(function(i){i!==e&&(i.incoming.forEach(function(s){he(s,"bpmn:MessageFlow")&&r.push(s)}),i.outgoing.forEach(function(s){he(s,"bpmn:MessageFlow")&&n.push(s)}))},[]),{incoming:r,outgoing:n}}const Rae=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function eF(e){const t=ht(e);if(!he(t,"bpmn:BoundaryEvent")&&!(he(t,"bpmn:StartEvent")&&ts(t.$parent)))return!1;const r=t.get("eventDefinitions");return!r||!r.length?!1:Rae.some(n=>he(r[0],n))}function tF(e){return he(e,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function IS(e,t){e.invoke(at,this),this.postExecuted("shape.replace",function(r){const n=r.context.oldShape,i=r.context.newShape,s=r.context.hints;if(!eF(i))return;const o=tF(i);if(s.targetElement&&s.targetElement[o]!==void 0)return;const l=ht(n).get(o),c=ht(i).get(o);l!==c&&t.updateProperties(i,{[o]:l})})}IS.$inject=["injector","modeling"];Ct(IS,at);function MS(e,t){at.call(this,e),this.preExecute("shape.resize",function(r){var n=r.shape,i=Or(n),s=i&&i.get("label"),o=s&&s.get("bounds");o&&t.updateModdleProperties(n,s,{bounds:void 0})},!0)}Ct(MS,at);MS.$inject=["eventBus","modeling"];function LS(e,t,r){at.call(this,e),this.preExecute("shape.delete",function(n){var i=n.context.shape;if(!(i.incoming.length!==1||i.outgoing.length!==1)){var s=i.incoming[0],o=i.outgoing[0];if(!(!he(s,"bpmn:SequenceFlow")||!he(o,"bpmn:SequenceFlow"))&&t.canConnect(s.source,o.target,s)){var a=Pae(s.waypoints,o.waypoints);r.reconnectEnd(s,o.target,a)}}})}Ct(LS,at);LS.$inject=["eventBus","bpmnRules","modeling"];function Yh(e){return e.original||e}function Pae(e,t){var r=K4(Yh(e[e.length-2]),Yh(e[e.length-1]),Yh(t[1]),Yh(t[0]));return r?[].concat(e.slice(0,e.length-1),[r],t.slice(1)):[Yh(e[0]),Yh(t[t.length-1])]}function DS(e,t){at.call(this,e),this.preExecute("shape.delete",function(r){var n=r.shape,i=n.parent;he(n,"bpmn:Participant")&&(r.collaborationRoot=i)},!0),this.postExecute("shape.delete",function(r){var n=r.collaborationRoot;if(n&&!n.businessObject.participants.length){var i=t.makeProcess(),s=n.children.slice();t.moveElements(s,{x:0,y:0},i)}},!0)}DS.$inject=["eventBus","modeling"];Ct(DS,at);function BS(e,t,r,n){at.call(this,e);var i=n.get("dragging",!1);function s(l){var c=l.source,u=l.target,h=l.parent;if(h){var f,d;he(l,"bpmn:SequenceFlow")&&(r.canConnectSequenceFlow(c,u)||(d=!0),r.canConnectMessageFlow(c,u)&&(f="bpmn:MessageFlow")),he(l,"bpmn:MessageFlow")&&(r.canConnectMessageFlow(c,u)||(d=!0),r.canConnectSequenceFlow(c,u)&&(f="bpmn:SequenceFlow")),d&&t.removeConnection(l),f&&t.connect(c,u,{type:f,waypoints:l.waypoints.slice()})}}function o(l){var c=l.context,u=c.connection,h=c.newSource||u.source,f=c.newTarget||u.target,d,p;d=r.canConnect(h,f),!(!d||d.type===u.type)&&(p=t.connect(h,f,{type:d.type,associationDirection:d.associationDirection,waypoints:u.waypoints.slice()}),u.parent&&t.removeConnection(u),c.connection=p,i&&a(u,p))}function a(l,c){var u=i.context(),h=u&&u.payload.previousSelection,f;!h||!h.length||(f=h.indexOf(l),f!==-1&&h.splice(f,1,c))}this.postExecuted("elements.move",function(l){var c=l.closure,u=c.allConnections;Ce(u,s)},!0),this.preExecute("connection.reconnect",o),this.postExecuted("element.updateProperties",function(l){var c=l.context,u=c.properties,h=c.element,f=h.businessObject,d;u.default&&(d=Lr(h.outgoing,wo({id:h.businessObject.default.id})),d&&t.updateProperties(d,{conditionExpression:void 0})),u.conditionExpression&&f.sourceRef.default===f&&t.updateProperties(h.source,{default:void 0})})}Ct(BS,at);BS.$inject=["eventBus","modeling","bpmnRules","injector"];function S2(e,t,r,n,i,s){n.invoke(at,this),this._bpmnReplace=e,this._elementRegistry=r,this._selection=s,this.postExecuted(["elements.create"],500,function(o){var a=o.context,l=a.parent,c=a.elements,u=Qs(c,function(h,f){var d=t.canReplace([f],f.host||f.parent||l);return d?h.concat(d.replacements):h},[]);u.length&&this._replaceElements(c,u)},this),this.postExecuted(["elements.move"],500,function(o){var a=o.context,l=a.newParent,c=a.newHost,u=[];Ce(a.closure.topLevel,function(f){ts(f)?u=u.concat(f.children):u=u.concat(f)}),u.length===1&&c&&(l=c);var h=t.canReplace(u,l);h&&this._replaceElements(u,h.replacements,c)},this),this.postExecute(["shape.replace"],1500,function(o){var a=o.context,l=a.oldShape,c=a.newShape,u=l.attachers,h;u&&u.length&&(h=t.canReplace(u,c),this._replaceElements(u,h.replacements))},this),this.postExecuted(["shape.replace"],1500,function(o){var a=o.context,l=a.oldShape,c=a.newShape;i.unclaimId(l.businessObject.id,l.businessObject),i.updateProperties(c,{id:l.id})})}Ct(S2,at);S2.prototype._replaceElements=function(e,t){var r=this._elementRegistry,n=this._bpmnReplace,i=this._selection;Ce(t,function(s){var o={type:s.newElementType},a=r.get(s.oldElementId),l=e.indexOf(a);e[l]=n.replaceElement(a,o,{select:!1})}),t&&i.select(e)};S2.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var Oae=1500,Iae={width:140,height:120},FS={width:300,height:60},zS={width:60,height:300},cy={width:300,height:150},uy={width:150,height:300},rF={width:140,height:120},nF={width:50,height:30};function iF(e){e.on("resize.start",Oae,function(t){var r=t.context,n=r.shape,i=r.direction,s=r.balanced;(he(n,"bpmn:Lane")||he(n,"bpmn:Participant"))&&(r.resizeConstraints=Fae(n,i,s)),he(n,"bpmn:SubProcess")&&Er(n)&&(r.minDimensions=rF),he(n,"bpmn:TextAnnotation")&&(r.minDimensions=nF)})}iF.$inject=["eventBus"];var Hc=Math.abs,Mae=Math.min,Lae=Math.max;function sF(e,t,r,n){var i=e[t];e[t]=i===void 0?r:n(r,i)}function Jh(e,t,r){return sF(e,t,r,Mae)}function Qh(e,t,r){return sF(e,t,r,Lae)}var Dae={top:20,left:50,right:20,bottom:20},Bae={top:50,left:20,right:20,bottom:20};function Fae(e,t,r){var n=za(e),i=!0,s=!0,o=y2(n,[n]),a=Ht(e),l={},c={},u=bi(e),h=u?FS:zS;/n/.test(t)?c.top=a.bottom-h.height:/e/.test(t)?c.right=a.left+h.width:/s/.test(t)?c.bottom=a.top+h.height:/w/.test(t)&&(c.left=a.right-h.width),o.forEach(function(p){var g=Ht(p);u?(g.top<a.top-10&&(i=!1),g.bottom>a.bottom+10&&(s=!1)):(g.left<a.left-10&&(i=!1),g.right>a.right+10&&(s=!1)),/n/.test(t)&&(r&&Hc(a.top-g.bottom)<10&&Qh(l,"top",g.top+h.height),Hc(a.top-g.top)<5&&Jh(c,"top",g.bottom-h.height)),/e/.test(t)&&(r&&Hc(a.right-g.left)<10&&Jh(l,"right",g.right-h.width),Hc(a.right-g.right)<5&&Qh(c,"right",g.left+h.width)),/s/.test(t)&&(r&&Hc(a.bottom-g.top)<10&&Jh(l,"bottom",g.bottom-h.height),Hc(a.bottom-g.bottom)<5&&Qh(c,"bottom",g.top+h.height)),/w/.test(t)&&(r&&Hc(a.left-g.right)<10&&Qh(l,"left",g.left+h.width),Hc(a.left-g.left)<5&&Jh(c,"left",g.right-h.width))});var f=n.children.filter(function(p){return!p.hidden&&!p.waypoints&&(he(p,"bpmn:FlowElement")||he(p,"bpmn:Artifact"))}),d=u?Dae:Bae;return f.forEach(function(p){var g=Ht(p);/n/.test(t)&&(!u||i)&&Jh(c,"top",g.top-d.top),/e/.test(t)&&(u||s)&&Qh(c,"right",g.right+d.right),/s/.test(t)&&(!u||s)&&Qh(c,"bottom",g.bottom+d.bottom),/w/.test(t)&&(u||i)&&Jh(c,"left",g.left-d.left)}),{min:c,max:l}}var dj=1001;function aF(e,t){e.on("resize.start",dj+500,function(r){var n=r.context,i=n.shape;(he(i,"bpmn:Lane")||he(i,"bpmn:Participant"))&&(n.balanced=!X0(r))}),e.on("resize.end",dj,function(r){var n=r.context,i=n.shape,s=n.canExecute,o=n.newBounds;if(he(i,"bpmn:Lane")||he(i,"bpmn:Participant"))return s&&(o=$L(o),t.resizeLane(i,o,n.balanced)),!1})}aF.$inject=["eventBus","modeling"];var zae=500;function US(e,t,r,n,i){r.invoke(at,this);function s(u){return gr(u,["bpmn:ReceiveTask","bpmn:SendTask"])||Uae(u,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function o(u){var h=e.getDefinitions(),f=h.get("rootElements");return!!Lr(f,wo({id:u.id}))}function a(u){if(he(u,"bpmn:ErrorEventDefinition"))return"errorRef";if(he(u,"bpmn:EscalationEventDefinition"))return"escalationRef";if(he(u,"bpmn:MessageEventDefinition"))return"messageRef";if(he(u,"bpmn:SignalEventDefinition"))return"signalRef"}function l(u){if(gr(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.get("messageRef");var h=u.get("eventDefinitions"),f=h[0];return f.get(a(f))}function c(u,h){if(gr(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.set("messageRef",h);var f=u.get("eventDefinitions"),d=f[0];return d.set(a(d),h)}this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var h=u.shape||u.element;if(s(h)){var f=ht(h),d=l(f),p;d&&!o(d)&&(p=e.getDefinitions().get("rootElements"),hi(p,d),u.addedRootElement=d)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var h=u.addedRootElement;if(h){var f=e.getDefinitions().get("rootElements");Zn(f,h)}},!0),t.on("copyPaste.copyElement",function(u){var h=u.descriptor,f=u.element;if(!(f.labelTarget||!s(f))){var d=ht(f),p=l(d);p&&(h.referencedRootElement=p)}}),t.on("copyPaste.pasteElement",zae,function(u){var h=u.descriptor,f=h.businessObject,d=h.referencedRootElement;d&&(o(d)||(d=n.copyElement(d,i.create(d.$type))),c(f,d),delete h.referencedRootElement)})}US.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"];Ct(US,at);function Uae(e,t){return Qt(t)||(t=[t]),Pu(t,function(r){return xp(e,r)})}var oF=Math.max;function lF(e){e.on("spaceTool.getMinDimensions",function(t){var r=t.shapes,n=t.axis,i=t.start,s={};return Ce(r,function(o){var a=o.id;he(o,"bpmn:Participant")&&(s[a]=Hae(o,n,i)),he(o,"bpmn:Lane")&&(s[a]=bi(o)?FS:zS),he(o,"bpmn:SubProcess")&&Er(o)&&(s[a]=rF),he(o,"bpmn:TextAnnotation")&&(s[a]=nF),he(o,"bpmn:Group")&&(s[a]=Iae)}),s})}lF.$inject=["eventBus"];function $ae(e){return e==="x"}function Hae(e,t,r){var n=bi(e);if(!Vae(e))return n?cy:uy;var i=$ae(t),s={};return i?n?s=cy:s={width:qae(e,r,i),height:uy.height}:n?s={width:cy.width,height:Wae(e,r,i)}:s=uy,s}function Wae(e,t,r){var n;return n=Gae(e,t,r),oF(cy.height,n)}function qae(e,t,r){var n;return n=Kae(e,t,r),oF(uy.width,n)}function Vae(e){return!!zu(e).length}function Gae(e,t,r){var n=zu(e),i;return i=$S(n,t,r),e.height-i.height+FS.height}function Kae(e,t,r){var n=zu(e),i;return i=$S(n,t,r),e.width-i.width+zS.width}function $S(e,t,r){var n,i,s;for(n=0;n<e.length;n++)if(i=e[n],!r&&t>=i.y&&t<=i.y+i.height||r&&t>=i.x&&t<=i.x+i.width)return s=zu(i),s.length?$S(s,t,r):i}var hj=400,Xae=600,fj={x:180,y:160};function Uu(e,t,r,n,i,s,o){at.call(this,t),this._canvas=e,this._eventBus=t,this._modeling=r,this._elementFactory=n,this._bpmnFactory=i,this._bpmnjs=s,this._elementRegistry=o;var a=this;function l(h){return he(h,"bpmn:SubProcess")&&!Er(h)}function c(h){var f=h.shape,d=h.newRootElement,p=ht(f);d=a._addDiagram(d||p),h.newRootElement=e.addRootElement(d)}function u(h){var f=h.shape,d=ht(f);a._removeDiagram(d);var p=h.newRootElement=o.get(Wl(d));e.removeRootElement(p)}this.executed("shape.create",function(h){var f=h.shape;l(f)&&c(h)},!0),this.postExecuted("shape.create",function(h){var f=h.shape,d=h.newRootElement;!d||!f.children||(a._showRecursively(f.children),a._moveChildrenToShape(f,d))},!0),this.reverted("shape.create",function(h){var f=h.shape;l(f)&&u(h)},!0),this.preExecuted("shape.delete",function(h){var f=h.shape;if(l(f)){var d=o.get(Wl(f));d&&r.removeElements(d.children.slice())}},!0),this.executed("shape.delete",function(h){var f=h.shape;l(f)&&u(h)},!0),this.reverted("shape.delete",function(h){var f=h.shape;l(f)&&c(h)},!0),this.preExecuted("shape.replace",function(h){var f=h.oldShape,d=h.newShape;!l(f)||!l(d)||(h.oldRoot=e.removeRootElement(Wl(f)))},!0),this.postExecuted("shape.replace",function(h){var f=h.newShape,d=h.oldRoot,p=e.findRoot(Wl(f));if(!(!d||!p)){var g=d.children;r.moveElements(g,{x:0,y:0},p)}},!0),this.executed("element.updateProperties",function(h){var f=h.element;if(he(f,"bpmn:SubProcess")){var d=h.properties,p=h.oldProperties,g=p.id,m=d.id;if(g!==m){if(sy(f)){o.updateId(f,yd(m)),o.updateId(g,m);return}var v=o.get(yd(g));v&&o.updateId(yd(g),yd(m))}}},!0),this.reverted("element.updateProperties",function(h){var f=h.element;if(he(f,"bpmn:SubProcess")){var d=h.properties,p=h.oldProperties,g=p.id,m=d.id;if(g!==m){if(sy(f)){o.updateId(f,yd(g)),o.updateId(m,g);return}var v=o.get(yd(m));v&&o.updateId(v,yd(g))}}},!0),t.on("element.changed",function(h){var f=h.element;if(sy(f)){var d=f,p=o.get(rC(d));!p||p===d||t.fire("element.changed",{element:p})}}),this.executed("shape.toggleCollapse",hj,function(h){var f=h.shape;he(f,"bpmn:SubProcess")&&(Er(f)?u(h):(c(h),a._showRecursively(f.children)))},!0),this.reverted("shape.toggleCollapse",hj,function(h){var f=h.shape;he(f,"bpmn:SubProcess")&&(Er(f)?u(h):(c(h),a._showRecursively(f.children)))},!0),this.postExecuted("shape.toggleCollapse",Xae,function(h){var f=h.shape;if(he(f,"bpmn:SubProcess")){var d=h.newRootElement;d&&(Er(f)?a._moveChildrenToShape(d,f):a._moveChildrenToShape(f,d))}},!0),t.on("copyPaste.createTree",function(h){var f=h.element,d=h.children;if(l(f)){var p=Wl(f),g=o.get(p);g&&d.push.apply(d,g.children)}}),t.on("copyPaste.copyElement",function(h){var f=h.descriptor,d=h.element,p=h.elements,g=d.parent,m=he(Or(g),"bpmndi:BPMNPlane");if(m){var v=rC(g),y=Lr(p,function(x){return x.id===v});y&&(f.parent=y.id)}}),t.on("copyPaste.pasteElement",function(h){var f=h.descriptor;f.parent&&(l(f.parent)||f.parent.hidden)&&(f.hidden=!0)})}Ct(Uu,at);Uu.prototype._moveChildrenToShape=function(e,t){var r=this._modeling,n=e.children,i;if(n){n=n.concat(n.reduce(function(c,u){return u.label&&u.label.parent!==e?c.concat(u.label):c},[]));var s=n.filter(function(c){return!c.hidden});if(!s.length){r.moveElements(n,{x:0,y:0},t,{autoResize:!1});return}var o=di(s);if(!t.x)i={x:fj.x-o.x,y:fj.y-o.y};else{var a=Jt(t),l=Jt(o);i={x:a.x-l.x,y:a.y-l.y}}r.moveElements(n,i,t,{autoResize:!1})}};Uu.prototype._showRecursively=function(e,t){var r=this,n=[];return e.forEach(function(i){i.hidden=!!t,n=n.concat(i),i.children&&(n=n.concat(r._showRecursively(i.children,i.collapsed||t)))}),n};Uu.prototype._addDiagram=function(e){var t=this._bpmnjs,r=t.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),r.push(e.di.$parent),e};Uu.prototype._createNewDiagram=function(e){var t=this._bpmnFactory,r=this._elementFactory,n=t.create("bpmndi:BPMNPlane",{bpmnElement:e}),i=t.create("bpmndi:BPMNDiagram",{plane:n});n.$parent=i;var s=r.createRoot({id:Wl(e),type:e.$type,di:n,businessObject:e,collapsed:!0});return s};Uu.prototype._removeDiagram=function(e){var t=this._bpmnjs,r=t.getDefinitions().diagrams,n=Lr(r,function(i){return i.plane.bpmnElement.id===e.id});return r.splice(r.indexOf(n),1),n};Uu.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"];function HS(e,t){e.invoke(at,this),this.postExecuted("shape.replace",function(r){var n=r.context.oldShape,i=r.context.newShape;if(!(!he(i,"bpmn:SubProcess")||he(i,"bpmn:AdHocSubProcess")||!(he(n,"bpmn:Task")||he(n,"bpmn:CallActivity"))||!Er(i))){var s=Zae(i);t.createShape({type:"bpmn:StartEvent"},s,i)}})}HS.$inject=["injector","modeling"];Ct(HS,at);function Zae(e){return{x:e.x+e.width/6,y:e.y+e.height/2}}function WS(e){at.call(this,e),this.preExecute("connection.create",function(t){const{target:r}=t;he(r,"bpmn:TextAnnotation")&&(t.parent=r.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(t){const r=t.shapes||[t.shape];r.length===1&&he(r[0],"bpmn:TextAnnotation")&&(t.hints=t.hints||{},t.hints.autoResize=!1)},!0)}Ct(WS,at);WS.$inject=["eventBus"];function qS(e,t){at.call(this,e),this.postExecuted("shape.toggleCollapse",1500,function(r){var n=r.shape;if(Er(n))return;var i=pg(n);i.forEach(function(o){var a=o.incoming.slice(),l=o.outgoing.slice();Ce(a,function(c){s(c,!0)}),Ce(l,function(c){s(c,!1)})});function s(o,a){i.indexOf(o.source)!==-1&&i.indexOf(o.target)!==-1||(a?t.reconnectEnd(o,n,Jt(n)):t.reconnectStart(o,n,Jt(n)))}},!0)}Ct(qS,at);qS.$inject=["eventBus","modeling"];var Gw=500;function VS(e,t,r){at.call(this,e);function n(o){o.length&&o.forEach(function(a){a.type==="label"&&!a.businessObject.name&&(a.hidden=!0)})}function i(o,a){var l=o.children,c=a,u,h;return u=Yae(l).concat([o]),h=qB(u),h?(c.width=Math.max(h.width,c.width),c.height=Math.max(h.height,c.height),c.x=h.x+(h.width-c.width)/2,c.y=h.y+(h.height-c.height)/2):(c.x=o.x+(o.width-c.width)/2,c.y=o.y+(o.height-c.height)/2),c}function s(o,a){return{x:o.x+(o.width-a.width)/2,y:o.y+(o.height-a.height)/2,width:a.width,height:a.height}}this.executed(["shape.toggleCollapse"],Gw,function(o){var a=o.context,l=a.shape;he(l,"bpmn:SubProcess")&&(l.collapsed?Or(l).isExpanded=!1:(n(l.children),Or(l).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],Gw,function(o){var a=o.context,l=a.shape;l.collapsed?Or(l).isExpanded=!1:Or(l).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],Gw,function(o){var a=o.context.shape,l=t.getDefaultSize(a),c;a.collapsed?c=s(a,l):c=i(a,l),r.resizeShape(a,c,null,{autoResize:a.collapsed?!1:"nwse"})})}Ct(VS,at);VS.$inject=["eventBus","elementFactory","modeling"];function Yae(e){return e.filter(function(t){return!t.hidden})}function GS(e,t,r,n){t.invoke(at,this),this.preExecute("shape.delete",function(i){var s=i.context,o=s.shape,a=o.businessObject;Ir(o)||(he(o,"bpmn:Participant")&&Er(o)&&r.ids.unclaim(a.processRef.id),n.unclaimId(a.id,a))}),this.preExecute("connection.delete",function(i){var s=i.context,o=s.connection,a=o.businessObject;n.unclaimId(a.id,a)}),this.preExecute("canvas.updateRoot",function(){var i=e.getRootElement(),s=i.businessObject;he(i,"bpmn:Collaboration")&&r.ids.unclaim(s.id)})}Ct(GS,at);GS.$inject=["canvas","injector","moddle","modeling"];function KS(e,t){at.call(this,e),this.preExecute("connection.delete",function(r){var n=r.context,i=n.connection,s=i.source;Jae(i,s)&&t.updateProperties(s,{default:null})})}Ct(KS,at);KS.$inject=["eventBus","modeling"];function Jae(e,t){if(!he(e,"bpmn:SequenceFlow"))return!1;var r=ht(t),n=ht(e);return r.get("default")===n}var Qae=500,eoe=5e3;function XS(e,t){at.call(this,e);var r;function n(){return r=r||new toe,r.enter(),r}function i(){if(!r)throw new Error("out of bounds release");return r}function s(){if(!r)throw new Error("out of bounds release");var a=r.leave();return a&&(t.updateLaneRefs(r.flowNodes,r.lanes),r=null),a}var o=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(o,eoe,function(a){n()}),this.postExecuted(o,Qae,function(a){s()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(a){var l=a.context,c=l.shape,u=i();c.labelTarget||(he(c,"bpmn:Lane")&&u.addLane(c),he(c,"bpmn:FlowNode")&&u.addFlowNode(c))})}XS.$inject=["eventBus","modeling"];Ct(XS,at);function toe(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function ZS(e,t){at.call(this,e),this.postExecuted("elements.create",function(r){const n=r.context,i=n.elements;for(const s of i)roe(s)&&!ioe(s)&&t.updateProperties(s,{isForCompensation:void 0})})}Ct(ZS,at);ZS.$inject=["eventBus","modeling"];function roe(e){const t=ht(e);return t&&t.isForCompensation}function noe(e){return e&&he(e,"bpmn:BoundaryEvent")&&xp(e,"bpmn:CompensateEventDefinition")}function ioe(e){return e.incoming.filter(r=>noe(r.source)).length>0}const soe={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",pS],appendBehavior:["type",mS],associationBehavior:["type",gS],attachEventBehavior:["type",g2],boundaryEventBehavior:["type",vS],compensateBoundaryEventBehaviour:["type",yS],createBehavior:["type",bS],createDataObjectBehavior:["type",xS],createParticipantBehavior:["type",wS],dataInputAssociationBehavior:["type",_S],dataStoreBehavior:["type",SS],deleteLaneBehavior:["type",ES],detachEventBehavior:["type",b2],dropOnFlowBehavior:["type",kS],eventBasedGatewayBehavior:["type",NS],fixHoverBehavior:["type",VB],groupBehavior:["type",AS],importDockingFix:["type",GB],isHorizontalFix:["type",CS],labelBehavior:["type",jS],layoutConnectionBehavior:["type",TS],messageFlowBehavior:["type",OS],nonInterruptingBehavior:["type",IS],removeElementBehavior:["type",LS],removeEmbeddedLabelBoundsBehavior:["type",MS],removeParticipantBehavior:["type",DS],replaceConnectionBehavior:["type",BS],replaceElementBehaviour:["type",S2],resizeBehavior:["type",iF],resizeLaneBehavior:["type",aF],rootElementReferenceBehavior:["type",US],spaceToolBehavior:["type",lF],subProcessPlaneBehavior:["type",Uu],subProcessStartEventBehavior:["type",HS],textAnnotationBehavior:["type",WS],toggleCollapseConnectionBehaviour:["type",qS],toggleElementCollapseBehaviour:["type",VS],unclaimIdBehavior:["type",GS],unsetDefaultFlowBehavior:["type",KS],updateFlowNodeRefsBehavior:["type",XS],setCompensationActivityAfterPasteBehavior:["type",ZS]};function cF(e,t){var r=os(e,t,-15);return r!=="intersect"?r:null}function Wi(e){Ya.call(this,e)}Ct(Wi,Ya);Wi.$inject=["eventBus"];Wi.prototype.init=function(){this.addRule("connection.start",function(e){var t=e.source;return aoe(t)}),this.addRule("connection.create",function(e){var t=e.source,r=e.target,n=e.hints||{},i=n.targetParent,s=n.targetAttach;if(s)return!1;i&&(r.parent=i);try{return dy(t,r)}finally{i&&(r.parent=null)}}),this.addRule("connection.reconnect",function(e){var t=e.connection,r=e.source,n=e.target;return dy(r,n,t)}),this.addRule("connection.updateWaypoints",function(e){return{type:e.connection.type}}),this.addRule("shape.resize",function(e){var t=e.shape,r=e.newBounds;return yF(t,r)}),this.addRule("elements.create",function(e){var t=e.elements,r=e.position,n=e.target;return Qr(n)&&!hb(t,n)?!1:fh(t,function(i){return Qr(i)?dy(i.source,i.target,i):i.host?c0(i,i.host,null,r):J4(i,n,null)})}),this.addRule("elements.move",function(e){var t=e.target,r=e.shapes,n=e.position;return c0(r,t,null,n)||gF(r,t,n)||vF(r,t)||hb(r,t)}),this.addRule("shape.create",function(e){return J4(e.shape,e.target,e.source,e.position)}),this.addRule("shape.attach",function(e){return c0(e.shape,e.target,null,e.position)}),this.addRule("element.copy",function(e){var t=e.element,r=e.elements;return SF(r,t)})};Wi.prototype.canConnectMessageFlow=wF;Wi.prototype.canConnectSequenceFlow=_F;Wi.prototype.canConnectDataAssociation=JS;Wi.prototype.canConnectAssociation=bF;Wi.prototype.canConnectCompensationAssociation=xF;Wi.prototype.canMove=vF;Wi.prototype.canAttach=c0;Wi.prototype.canReplace=gF;Wi.prototype.canDrop=Qf;Wi.prototype.canInsert=hb;Wi.prototype.canCreate=J4;Wi.prototype.canConnect=dy;Wi.prototype.canResize=yF;Wi.prototype.canCopy=SF;function aoe(e){return X4(e)?null:gr(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}function X4(e){return!e||Ir(e)}function ooe(e,t){return e===t}function pj(e){do{if(he(e,"bpmn:Process"))return ht(e);if(he(e,"bpmn:Participant"))return ht(e).processRef||ht(e)}while(e=e.parent)}function Z4(e){return he(e,"bpmn:TextAnnotation")}function YS(e){return he(e,"bpmn:Group")&&!e.labelTarget}function uF(e){return he(e,"bpmn:BoundaryEvent")&&el(e,"bpmn:CompensateEventDefinition")}function E2(e){return ht(e).isForCompensation}function loe(e,t){var r=pj(e),n=pj(t);return r===n}function coe(e){return he(e,"bpmn:InteractionNode")&&!he(e,"bpmn:BoundaryEvent")&&(!he(e,"bpmn:Event")||he(e,"bpmn:ThrowEvent")&&hF(e,"bpmn:MessageEventDefinition"))}function uoe(e){return he(e,"bpmn:InteractionNode")&&!E2(e)&&(!he(e,"bpmn:Event")||he(e,"bpmn:CatchEvent")&&hF(e,"bpmn:MessageEventDefinition"))&&!(he(e,"bpmn:BoundaryEvent")&&!el(e,"bpmn:MessageEventDefinition"))}function mj(e){for(var t=e;t=t.parent;){if(he(t,"bpmn:FlowElementsContainer"))return ht(t);if(he(t,"bpmn:Participant"))return ht(t).processRef}return null}function dF(e,t){var r=mj(e),n=mj(t);return r===n}function el(e,t){var r=ht(e);return!!Lr(r.eventDefinitions||[],function(n){return he(n,t)})}function hF(e,t){var r=ht(e);return(r.eventDefinitions||[]).every(function(n){return he(n,t)})}function doe(e){return he(e,"bpmn:FlowNode")&&!he(e,"bpmn:EndEvent")&&!ts(e)&&!(he(e,"bpmn:IntermediateThrowEvent")&&el(e,"bpmn:LinkEventDefinition"))&&!uF(e)&&!E2(e)}function hoe(e){return he(e,"bpmn:FlowNode")&&!he(e,"bpmn:StartEvent")&&!he(e,"bpmn:BoundaryEvent")&&!ts(e)&&!(he(e,"bpmn:IntermediateCatchEvent")&&el(e,"bpmn:LinkEventDefinition"))&&!E2(e)}function foe(e){return he(e,"bpmn:ReceiveTask")||he(e,"bpmn:IntermediateCatchEvent")&&(el(e,"bpmn:MessageEventDefinition")||el(e,"bpmn:TimerEventDefinition")||el(e,"bpmn:ConditionalEventDefinition")||el(e,"bpmn:SignalEventDefinition"))}function poe(e){for(var t=[];e;)e=e.parent,e&&t.push(e);return t}function Y4(e,t){var r=poe(t);return r.indexOf(e)!==-1}function dy(e,t,r){if(X4(e)||X4(t))return null;if(!he(r,"bpmn:DataAssociation")){if(wF(e,t))return{type:"bpmn:MessageFlow"};if(_F(e,t))return{type:"bpmn:SequenceFlow"}}var n=JS(e,t);return n||(xF(e,t)?{type:"bpmn:Association",associationDirection:"One"}:bF(e,t)?{type:"bpmn:Association",associationDirection:"None"}:!1)}function Qf(e,t){return Ir(e)||YS(e)?!0:he(t,"bpmn:Participant")&&!Er(t)?!1:he(e,"bpmn:Participant")?he(t,"bpmn:Process")||he(t,"bpmn:Collaboration"):gr(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:he(e,"bpmn:Lane")?he(t,"bpmn:Participant")||he(t,"bpmn:Lane"):he(e,"bpmn:BoundaryEvent")&&!moe(e)?!1:he(e,"bpmn:FlowElement")&&!he(e,"bpmn:DataStoreReference")?he(t,"bpmn:FlowElementsContainer")?Er(t):gr(t,["bpmn:Participant","bpmn:Lane"]):he(e,"bpmn:DataStoreReference")&&he(t,"bpmn:Collaboration")?Pu(ht(t).get("participants"),function(r){return!!r.get("processRef")}):gr(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?gr(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):he(e,"bpmn:MessageFlow")?he(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t:!1}function moe(e){return ht(e).cancelActivity&&(fF(e)||pF(e))}function goe(e){return!Ir(e)&&he(e,"bpmn:BoundaryEvent")}function voe(e){return he(e,"bpmn:Lane")}function yoe(e){return goe(e)||he(e,"bpmn:IntermediateThrowEvent")&&fF(e)?!0:he(e,"bpmn:IntermediateCatchEvent")&&pF(e)}function fF(e){var t=ht(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function pF(e){return mF(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function mF(e,t){return t.some(function(r){return el(e,r)})}function boe(e){return he(e,"bpmn:ReceiveTask")&&Lr(e.incoming,function(t){return he(t.source,"bpmn:EventBasedGateway")})}function c0(e,t,r,n){if(Array.isArray(e)||(e=[e]),e.length!==1)return!1;var i=e[0];return Ir(i)||!yoe(i)||ts(t)||!he(t,"bpmn:Activity")||E2(t)||n&&!cF(n,t)||boe(t)?!1:"attach"}function gF(e,t,r){if(!t)return!1;var n={replacements:[]};return Ce(e,function(i){ts(t)||he(i,"bpmn:StartEvent")&&i.type!=="label"&&Qf(i,t)&&(hre(i)||n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),(fre(i)||pre(i)||mre(i))&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),mF(i,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&he(t,"bpmn:SubProcess")&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"})),he(t,"bpmn:Transaction")||el(i,"bpmn:CancelEventDefinition")&&i.type!=="label"&&(he(i,"bpmn:EndEvent")&&Qf(i,t)&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:EndEvent"}),he(i,"bpmn:BoundaryEvent")&&c0(i,t,null,r)&&n.replacements.push({oldElementId:i.id,newElementType:"bpmn:BoundaryEvent"}))}),n.replacements.length?n:!1}function vF(e,t){return Pu(e,voe)?!1:t?e.every(function(r){return Qf(r,t)}):!0}function J4(e,t,r,n){return t?Ir(e)||YS(e)?!0:ooe(r,t)||r&&Y4(r,t)?!1:Qf(e,t)||hb(e,t):!1}function yF(e,t){return he(e,"bpmn:SubProcess")?Er(e)&&(!t||t.width>=100&&t.height>=80):!!(he(e,"bpmn:Lane")||he(e,"bpmn:Participant")||Z4(e)||YS(e))}function xoe(e,t){var r=Z4(e),n=Z4(t);return(r||n)&&r!==n}function bF(e,t){return Y4(t,e)||Y4(e,t)?!1:xoe(e,t)?!0:!!JS(e,t)}function xF(e,t){return dF(e,t)&&uF(e)&&he(t,"bpmn:Activity")&&!_oe(t,e)&&!ts(t)}function wF(e,t){return gj(e)&&!gj(t)?!1:coe(e)&&uoe(t)&&!loe(e,t)}function _F(e,t){return doe(e)&&hoe(t)&&dF(e,t)&&!(he(e,"bpmn:EventBasedGateway")&&!foe(t))}function JS(e,t){return gr(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&gr(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:gr(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&gr(e,["bpmn:Activity","bpmn:CatchEvent"])?{type:"bpmn:DataOutputAssociation"}:!1}function hb(e,t,r){if(!t)return!1;if(Array.isArray(e)){if(e.length!==1)return!1;e=e[0]}return t.source===e||t.target===e?!1:gr(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Ir(t)&&he(e,"bpmn:FlowNode")&&!he(e,"bpmn:BoundaryEvent")&&Qf(e,t.parent)}function woe(e,t){return e&&t&&e.indexOf(t)!==-1}function SF(e,t){return Ir(t)?!0:!(he(t,"bpmn:Lane")&&!woe(e,t.parent))}function gj(e){return Yf(e,"bpmn:Process")||Yf(e,"bpmn:Collaboration")}function _oe(e,t){return e.attachers.includes(t)}const Soe={__depends__:[vl],__init__:["bpmnRules"],bpmnRules:["type",Wi]};var Eoe=2e3;function EF(e,t){e.on("saveXML.start",Eoe,r);function r(){var n=t.getRootElements();Ce(n,function(i){var s=Or(i),o,a;o=pg([i],!1),o=mr(o,function(l){return l!==i&&!l.labelTarget}),a=is(o,Or),s.set("planeElement",a)})}}EF.$inject=["eventBus","canvas"];const koe={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",EF]};function k2(e){at.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],function(r){var n=r.context,i=n.shape||n.connection,s=n.parent,o=t.getOrdering(i,s);o&&(o.parent!==void 0&&(n.parent=o.parent),n.parentIndex=o.index)}),this.preExecute(["shape.move","connection.move"],function(r){var n=r.context,i=n.shape||n.connection,s=n.newParent||i.parent,o=t.getOrdering(i,s);o&&(o.parent!==void 0&&(n.newParent=o.parent),n.newParentIndex=o.index)})}k2.prototype.getOrdering=function(e,t){return null};Ct(k2,at);function QS(e,t){k2.call(this,e);var r=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function n(o){if(o.labelTarget)return{level:10};var a=Lr(r,function(l){return gr(o,[l.type])});return a&&a.order||{level:1}}function i(o){var a=o.order;if(a||(o.order=a=n(o)),!a)throw new Error(`no order for <${o.id}>`);return a}function s(o,a,l){for(var c=a;c&&!gr(c,l);)c=c.parent;if(!c)throw new Error(`no parent for <${o.id}> in <${a&&a.id}>`);return c}this.getOrdering=function(o,a){if(o.labelTarget||he(o,"bpmn:TextAnnotation"))return{parent:t.findRoot(a)||t.getRootElement(),index:-1};var l=i(o);l.containers&&(a=s(o,a,l.containers));var c=a.children.indexOf(o),u=wL(a.children,function(h){return!o.labelTarget&&h.labelTarget?!1:l.level<i(h).level});return u!==-1&&c!==-1&&c<u&&(u-=1),{index:u,parent:a}}}QS.$inject=["eventBus","canvas"];Ct(QS,k2);const Noe={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",QS]};function kg(){}kg.prototype.get=function(){return this._data};kg.prototype.set=function(e){this._data=e};kg.prototype.clear=function(){var e=this._data;return delete this._data,e};kg.prototype.isEmpty=function(){return!this._data};const Aoe={clipboard:["type",kg]};var Coe="drop-ok",vj="drop-not-ok",yj="attach-ok",bj="new-parent",xj="create",joe=2e3;function kF(e,t,r,n,i){function s(l,c,u,h,f){if(!c)return!1;l=mr(l,function(y){var x=y.labelTarget;return!y.parent&&!(Ir(y)&&l.indexOf(x)!==-1)});var d=Lr(l,function(y){return!Qr(y)}),p=!1,g=!1,m=!1;_j(l)&&(p=i.allowed("shape.attach",{position:u,shape:d,target:c})),p||(_j(l)?m=i.allowed("shape.create",{position:u,shape:d,source:h,target:c}):m=i.allowed("elements.create",{elements:l,position:u,target:c}));var v=f.connectionTarget;return m||p?(d&&h&&(g=i.allowed("connection.create",{source:v===h?d:h,target:v===h?h:d,hints:{targetParent:c,targetAttach:p}})),{attach:p,connect:g}):m===null||p===null?null:!1}function o(l,c){[yj,Coe,vj,bj].forEach(function(u){u===c?e.addMarker(l,u):e.removeMarker(l,u)})}r.on(["create.move","create.hover"],function(l){var c=l.context,u=c.elements,h=l.hover,f=c.source,d=c.hints||{};if(!h){c.canExecute=!1,c.target=null;return}wj(l);var p={x:l.x,y:l.y},g=c.canExecute=h&&s(u,h,p,f,d);h&&g!==null&&(c.target=h,g&&g.attach?o(h,yj):o(h,g?bj:vj))}),r.on(["create.end","create.out","create.cleanup"],function(l){var c=l.hover;c&&o(c,null)}),r.on("create.end",function(l){var c=l.context,u=c.source,h=c.shape,f=c.elements,d=c.target,p=c.canExecute,g=p&&p.attach,m=p&&p.connect,v=c.hints||{};if(p===!1||!d)return!1;wj(l);var y={x:l.x,y:l.y};m?h=n.appendShape(u,h,y,d,{attach:g,connection:m===!0?{}:m,connectionTarget:v.connectionTarget}):(f=n.createElements(f,y,d,Ie({},v,{attach:g})),h=Lr(f,function(x){return!Qr(x)})),Ie(c,{elements:f,shape:h}),Ie(l,{elements:f,shape:h})});function a(){var l=t.context();l&&l.prefix===xj&&t.cancel()}r.on("create.init",function(){r.on("elements.changed",a),r.once(["create.cancel","create.end"],joe,function(){r.off("elements.changed",a)})}),this.start=function(l,c,u){Qt(c)||(c=[c]);var h=Lr(c,function(p){return!Qr(p)});if(h){u=Ie({elements:c,hints:{},shape:h},u||{}),Ce(c,function(p){Yt(p.x)||(p.x=0),Yt(p.y)||(p.y=0)});var f=mr(c,function(p){return!p.hidden}),d=di(f);Ce(c,function(p){Qr(p)&&(p.waypoints=is(p.waypoints,function(g){return{x:g.x-d.x-d.width/2,y:g.y-d.y-d.height/2}})),Ie(p,{x:p.x-d.x-d.width/2,y:p.y-d.y-d.height/2})}),t.init(l,xj,{cursor:"grabbing",autoActivate:!0,data:{shape:h,elements:c,context:u}})}}}kF.$inject=["canvas","dragging","eventBus","modeling","rules"];function wj(e){var t=e.context,r=t.createConstraints;r&&(r.left&&(e.x=Math.max(e.x,r.left)),r.right&&(e.x=Math.min(e.x,r.right)),r.top&&(e.y=Math.max(e.y,r.top)),r.bottom&&(e.y=Math.min(e.y,r.bottom)))}function _j(e){return e&&e.length===1&&!Qr(e[0])}var Toe=750;function NF(e,t,r,n,i){function s(o){var a=Mt("g");Nt(a,i.cls("djs-drag-group",["no-events"]));var l=Mt("g");return o.forEach(function(c){var u;c.hidden||(c.waypoints?(u=r._createContainer("connection",l),r.drawConnection(Xd(u),c)):(u=r._createContainer("shape",l),r.drawShape(Xd(u),c),$i(u,c.x,c.y)),n.addDragger(c,a,u))}),a}t.on("create.move",Toe,function(o){var a=o.hover,l=o.context,c=l.elements,u=l.dragGroup;u||(u=l.dragGroup=s(c));var h;a?(u.parentNode||(h=e.getActiveLayer(),rr(h,u)),$i(u,o.x,o.y)):ui(u)}),t.on("create.cleanup",function(o){var a=o.context,l=a.dragGroup;l&&ui(l)})}NF.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const N2={__depends__:[pc,Cp,vl,To],__init__:["create","createPreview"],create:["type",kF],createPreview:["type",NF]};function eE(e){var t=this;this._lastMoveEvent=null;function r(n){t._lastMoveEvent=n}e.on("canvas.init",function(n){var i=t._svg=n.svg;i.addEventListener("mousemove",r)}),e.on("canvas.destroy",function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",r)})}eE.$inject=["eventBus"];eE.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||Roe(0,0)};function Roe(e,t){var r=document.createEvent("MouseEvent"),n=e,i=t,s=e,o=t;return r.initMouseEvent&&r.initMouseEvent("mousemove",!0,!0,window,0,n,i,s,o,!1,!1,!1,!1,0,null),r}const Ng={__init__:["mouse"],mouse:["type",eE]};function Ro(e,t,r,n,i,s,o,a){this._canvas=e,this._create=t,this._clipboard=r,this._elementFactory=n,this._eventBus=i,this._modeling=s,this._mouse=o,this._rules=a,i.on("copyPaste.copyElement",function(l){var c=l.descriptor,u=l.element,h=l.elements;c.priority=1,c.id=u.id;var f=Lr(h,function(d){return d===u.parent});f&&(c.parent=u.parent.id),Poe(u)&&(c.priority=2,c.host=u.host.id),Qr(u)&&(c.priority=3,c.source=u.source.id,c.target=u.target.id,c.waypoints=Ooe(u)),Ir(u)&&(c.priority=4,c.labelTarget=u.labelTarget.id),Ce(["x","y","width","height"],function(d){Yt(u[d])&&(c[d]=u[d])}),c.hidden=u.hidden,c.collapsed=u.collapsed}),i.on("copyPaste.pasteElements",function(l){var c=l.hints;Ie(c,{createElementsBehavior:!1})})}Ro.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];Ro.prototype.copy=function(e){var t,r;return Qt(e)||(e=e?[e]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),t===!1?r={}:r=this.createTree(Qt(t)?t:e),this._clipboard.set(r),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:r}),r};Ro.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var r=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:r});var n=this._createElements(t);if(e&&e.element&&e.point)return this._paste(n,e.element,e.point,r);this._create.start(this._mouse.getLastMoveEvent(),n,{hints:r||{}})}};Ro.prototype._paste=function(e,t,r,n){Ce(e,function(s){Yt(s.x)||(s.x=0),Yt(s.y)||(s.y=0)});var i=di(e);return Ce(e,function(s){Qr(s)&&(s.waypoints=is(s.waypoints,function(o){return{x:o.x-i.x-i.width/2,y:o.y-i.y-i.height/2}})),Ie(s,{x:s.x-i.x-i.width/2,y:s.y-i.y-i.height/2})}),this._modeling.createElements(e,r,t,Ie({},n))};Ro.prototype._createElements=function(e){var t=this,r=this._eventBus,n={},i=[];return Ce(e,function(s,o){s=ul(s,"priority"),Ce(s,function(a){var l=Ie({},pl(a,["priority"]));n[a.parent]?l.parent=n[a.parent]:delete l.parent,r.fire("copyPaste.pasteElement",{cache:n,descriptor:l});var c;if(Qr(l)){l.source=n[a.source],l.target=n[a.target],c=n[a.id]=t.createConnection(l),i.push(c);return}if(Ir(l)){l.labelTarget=n[l.labelTarget],c=n[a.id]=t.createLabel(l),i.push(c);return}l.host&&(l.host=n[l.host]),c=n[a.id]=t.createShape(l),i.push(c)})}),i};Ro.prototype.createConnection=function(e){var t=this._elementFactory.createConnection(pl(e,["id"]));return t};Ro.prototype.createLabel=function(e){var t=this._elementFactory.createLabel(pl(e,["id"]));return t};Ro.prototype.createShape=function(e){var t=this._elementFactory.createShape(pl(e,["id"]));return t};Ro.prototype.hasRelations=function(e,t){var r,n,i;return!(Qr(e)&&(n=Lr(t,wo({id:e.source.id})),i=Lr(t,wo({id:e.target.id})),!n||!i)||Ir(e)&&(r=Lr(t,wo({id:e.labelTarget.id})),!r))};Ro.prototype.createTree=function(e){var t=this._rules,r=this,n={},i=[],s=Zb(e);function o(c,u){return t.allowed("element.copy",{element:c,elements:u})}function a(c,u){var h=Lr(i,function(f){return c===f.element});if(!h){i.push({element:c,depth:u});return}h.depth<u&&(i=l(h,i),i.push({element:h.element,depth:u}))}function l(c,u){var h=u.indexOf(c);return h!==-1&&u.splice(h,1),u}return mh(s,function(c,u,h){if(Ir(c))return;Ce(c.labels,function(p){a(p,h)});function f(p){p&&p.length&&Ce(p,function(g){Ce(g.labels,function(m){a(m,h)}),a(g,h)})}Ce([c.attachers,c.incoming,c.outgoing],f),a(c,h);var d=[];return c.children&&(d=c.children.slice()),r._eventBus.fire("copyPaste.createTree",{element:c,children:d}),d}),e=is(i,function(c){return c.element}),i=is(i,function(c){return c.descriptor={},r._eventBus.fire("copyPaste.copyElement",{descriptor:c.descriptor,element:c.element,elements:e}),c}),i=ul(i,function(c){return c.descriptor.priority}),e=is(i,function(c){return c.element}),Ce(i,function(c){var u=c.depth;if(!r.hasRelations(c.element,e)){Ej(c.element,e);return}if(!o(c.element,e)){Ej(c.element,e);return}n[u]||(n[u]=[]),n[u].push(c.descriptor)}),n};function Poe(e){return!!e.host}function Ooe(e){return is(e.waypoints,function(t){return t=Sj(t),t.original&&(t.original=Sj(t.original)),t})}function Sj(e){return Ie({},e)}function Ej(e,t){var r=t.indexOf(e);return r===-1?t:t.splice(r,1)}const Ioe={__depends__:[Aoe,N2,Ng,vl],__init__:["copyPaste"],copyPaste:["type",Ro]};function Kw(e,t,r){Qt(r)||(r=[r]),Ce(r,function(n){ih(e[n])||(t[n]=e[n])})}var Xw=750;function AF(e,t,r){function n(l,c){var u=e.create(l.$type);return r.copyElement(l,u,null,c)}t.on("copyPaste.copyElement",Xw,function(l){var c=l.descriptor,u=l.element,h=ht(u);if(Ir(u))return c;var f=c.businessObject=n(h,!0),d=c.di=n(Or(u),!0);d.bpmnElement=f,Kw(f,c,"name"),Kw(d,c,"isExpanded"),h.default&&(c.default=h.default.id)});var i="-bpmn-js-refs";function s(l){return l[i]=l[i]||{}}function o(l,c){l[i]=c}function a(l,c,u){var h=ht(l);return l.default&&(u[l.default]={element:h,property:"default"}),l.host&&(ht(l).attachedToRef=ht(c[l.host])),pl(u,Qs(u,function(f,d,p){var g=d.element,m=d.property;return p===l.id&&(g.set(m,h),f.push(l.id)),f},[]))}t.on("copyPaste.pasteElement",function(l){var c=l.cache,u=l.descriptor,h=u.businessObject,f=u.di;if(Ir(u)){u.businessObject=ht(c[u.labelTarget]),u.di=Or(c[u.labelTarget]);return}h=u.businessObject=n(h),f=u.di=n(f),f.bpmnElement=h,Kw(u,h,["isExpanded","name"]),u.type=h.$type}),t.on("copyPaste.copyElement",Xw,function(l){var c=l.descriptor,u=l.element;if(he(u,"bpmn:Participant")){var h=ht(u);h.processRef&&(c.processRef=n(h.processRef,!0))}}),t.on("copyPaste.pasteElement",function(l){var c=l.descriptor,u=c.processRef;u&&(c.processRef=n(u))}),t.on("copyPaste.pasteElement",Xw,function(l){var c=l.cache,u=l.descriptor;o(c,a(u,c,s(c)))})}AF.$inject=["bpmnFactory","eventBus","moddleCopy"];const Moe=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"],Loe=["errorRef","escalationRef","messageRef","signalRef"];function Ag(e,t,r){this._bpmnFactory=t,this._eventBus=e,this._moddle=r,e.on("moddleCopy.canCopyProperties",n=>{const{propertyNames:i}=n;if(!(!i||!i.length))return ul(i,s=>s==="extensionElements")}),e.on("moddleCopy.canCopyProperty",n=>{const{parent:i,property:s,propertyName:o}=n,a=Mi(i)&&i.$descriptor;if(o&&Loe.includes(o))return s;if(o&&Moe.includes(o)||o&&a&&!Lr(a.properties,wo({name:o})))return!1}),e.on("moddleCopy.canSetCopiedProperty",n=>{const{property:i}=n;if(he(i,"bpmn:ExtensionElements")&&(!i.values||!i.values.length))return!1})}Ag.$inject=["eventBus","bpmnFactory","moddle"];Ag.prototype.copyElement=function(e,t,r,n=!1){r&&!Qt(r)&&(r=[r]),r=r||Q4(e.$descriptor);const i=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:r,sourceElement:e,targetElement:t,clone:n});return i===!1||(Qt(i)&&(r=i),Ce(r,s=>{let o;Cs(e,s)&&(o=e.get(s));const a=this.copyProperty(o,t,s,n);!Pi(a)||this._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:a,propertyName:s})===!1||t.set(s,a)})),t};Ag.prototype.copyProperty=function(e,t,r,n=!1){let i=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:r,clone:n});if(i===!1)return;if(i)return Mi(i)&&i.$type&&!i.$parent&&(i.$parent=t),i;const s=this._moddle.getPropertyDescriptor(t,r);if(!s.isReference)return s.isId?e&&this._copyId(e,t,n):Qt(e)?Qs(e,(o,a)=>{const l=this.copyProperty(a,t,r,n);return l?o.concat(l):o},[]):Mi(e)&&e.$type?this._moddle.getElementDescriptor(e).isGeneric?void 0:(i=this._bpmnFactory.create(e.$type),i.$parent=t,i=this.copyElement(e,i,null,n),i):e};Ag.prototype._copyId=function(e,t,r=!1){if(r)return e;if(!this._moddle.ids.assigned(e))return this._moddle.ids.claim(e,t),e};function Q4(e,t){return Qs(e.properties,(r,n)=>t&&n.default?r:r.concat(n.name),[])}const CF={__depends__:[Ioe],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",AF],moddleCopy:["type",Ag]};var kj=Math.round;function tE(e,t){this._modeling=e,this._eventBus=t}tE.$inject=["modeling","eventBus"];tE.prototype.replaceElement=function(e,t,r){if(e.waypoints)return null;var n=this._modeling,i=this._eventBus;i.fire("replace.start",{element:e,attrs:t,hints:r});var s=t.width||e.width,o=t.height||e.height,a=t.x||e.x,l=t.y||e.y,c=kj(a+s/2),u=kj(l+o/2),h=n.replaceShape(e,Ie({},t,{x:c,y:u,width:s,height:o}),r);return i.fire("replace.end",{element:e,newElement:h,hints:r}),h};function jF(e,t){t.on("replace.end",500,function(r){const{newElement:n,hints:i={}}=r;i.select!==!1&&e.select(n)})}jF.$inject=["selection","eventBus"];const Doe={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",jF],replace:["type",tE]};function Boe(e,t,r){Qt(r)||(r=[r]),Ce(r,function(n){ih(e[n])||(t[n]=e[n])})}var Foe=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function zoe(e,t){var r=e&&Cs(e,"collapsed")?e.collapsed:!Er(e),n;return t&&(Cs(t,"collapsed")||Cs(t,"isExpanded"))?n=Cs(t,"collapsed")?t.collapsed:!t.isExpanded:n=r,r!==n}function TF(e,t,r,n,i,s){function o(a,l,c){c=c||{};var u=l.type,h=a.businessObject;if(gv(h)&&(u==="bpmn:SubProcess"||u==="bpmn:AdHocSubProcess")&&zoe(a,l))return n.toggleCollapse(a),a;var f=e.create(u),d={type:u,businessObject:f};d.di={},u==="bpmn:ExclusiveGateway"&&(d.di.isMarkerVisible=!0),Boe(a.di,d.di,["fill","stroke","background-color","border-color","color"]);var p=Q4(h.$descriptor),g=Q4(f.$descriptor,!0),m=Uoe(p,g);Ie(f,No(l,Foe));var v=mr(m,function(w){return w==="eventDefinitions"?Nj(a,l.eventDefinitionType):w==="loopCharacteristics"?!ts(f):Cs(f,w)||w==="processRef"&&l.isExpanded===!1||w==="triggeredByEvent"?!1:w==="isForCompensation"?!ts(f):!0});if(f=r.copyElement(h,f,v),l.eventDefinitionType&&(Nj(f,l.eventDefinitionType)||(d.eventDefinitionType=l.eventDefinitionType,d.eventDefinitionAttrs=l.eventDefinitionAttrs)),he(h,"bpmn:Activity")){if(gv(h))d.isExpanded=Er(a);else if(l&&Cs(l,"isExpanded")){d.isExpanded=l.isExpanded;var y=t.getDefaultSize(f,{isExpanded:d.isExpanded});d.width=y.width,d.height=y.height,d.x=a.x-(d.width-a.width)/2,d.y=a.y-(d.height-a.height)/2}Er(a)&&!he(h,"bpmn:Task")&&d.isExpanded&&(d.width=a.width,d.height=a.height)}if(gv(h)&&!gv(f)&&(c.moveChildren=!1),he(h,"bpmn:Participant")){l.isExpanded===!0?f.processRef=e.create("bpmn:Process"):c.moveChildren=!1;var x=bi(a);Or(a).isHorizontal||(Or(d).isHorizontal=x),d.width=x?a.width:t.getDefaultSize(d).width,d.height=x?t.getDefaultSize(d).height:a.height}return s.allowed("shape.resize",{shape:f})||(d.height=t.getDefaultSize(d).height,d.width=t.getDefaultSize(d).width),f.name=h.name,gr(h,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&gr(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(f.default=h.default),l.host&&!he(h,"bpmn:BoundaryEvent")&&he(f,"bpmn:BoundaryEvent")&&(d.host=l.host),(d.type==="bpmn:DataStoreReference"||d.type==="bpmn:DataObjectReference")&&(d.x=a.x+(a.width-d.width)/2),i.replaceElement(a,d,{...c,targetElement:l})}this.replaceElement=o}TF.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];function gv(e){return he(e,"bpmn:SubProcess")}function Nj(e,t){var r=ht(e);return t&&r.get("eventDefinitions").some(function(n){return he(n,t)})}function Uoe(e,t){return e.filter(function(r){return t.includes(r)})}const RF={__depends__:[CF,Doe,To],bpmnReplace:["type",TF]};var $oe=250;function bh(e){this._eventBus=e,this._tools=[],this._active=null}bh.$inject=["eventBus"];bh.prototype.registerTool=function(e,t){var r=this._tools;if(!t)throw new Error(`A tool has to be registered with it's "events"`);r.push(e),this.bindEvents(e,t)};bh.prototype.isActive=function(e){return e&&this._active===e};bh.prototype.length=function(e){return this._tools.length};bh.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))};bh.prototype.bindEvents=function(e,t){var r=this._eventBus,n=[];r.on(t.tool+".init",function(i){var s=i.context;if(!s.reactivate&&this.isActive(e)){this.setActive(null);return}this.setActive(e)},this),Ce(t,function(i){n.push(i+".ended"),n.push(i+".canceled")}),r.on(n,$oe,function(i){this._active&&(Hoe(i)||this.setActive(null))},this)};function Hoe(e){var t=e.originalEvent&&e.originalEvent.target;return t&&vp(t,'.group[data-group="tools"]')}const A2={__depends__:[pc],__init__:["toolManager"],toolManager:["type",bh]};function Woe(e,t){if(e==="x"){if(t>0)return"e";if(t<0)return"w"}if(e==="y"){if(t>0)return"s";if(t<0)return"n"}return null}function qoe(e,t){var r=[];return Ce(e.concat(t),function(n){var i=n.incoming,s=n.outgoing;Ce(i.concat(s),function(o){var a=o.source,l=o.target;(_m(e,a)||_m(e,l)||_m(t,a)||_m(t,l))&&(_m(r,o)||r.push(o))})}),r}function _m(e,t){return e.indexOf(t)!==-1}function Voe(e,t,r){var n=e.x,i=e.y,s=e.width,o=e.height,a=r.x,l=r.y;switch(t){case"n":return{x:n,y:i+l,width:s,height:o-l};case"s":return{x:n,y:i,width:s,height:o+l};case"w":return{x:n+a,y:i,width:s-a,height:o};case"e":return{x:n,y:i,width:s+a,height:o};default:throw new Error("unknown direction: "+t)}}var Zw=Math.abs,Goe=Math.round,Dl={x:"width",y:"height"},PF="crosshair",Wc={n:"top",w:"left",s:"bottom",e:"right"},Koe=1500,vv={n:"s",w:"e",s:"n",e:"w"},yv=20;function Ja(e,t,r,n,i,s,o){this._canvas=e,this._dragging=t,this._eventBus=r,this._modeling=n,this._rules=i,this._toolManager=s,this._mouse=o;var a=this;s.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),r.on("spaceTool.selection.end",function(l){r.once("spaceTool.selection.ended",function(){a.activateMakeSpace(l.originalEvent)})}),r.on("spaceTool.move",Koe,function(l){var c=l.context,u=c.initialized;u||(u=c.initialized=a.init(l,c)),u&&Cj(l)}),r.on("spaceTool.end",function(l){var c=l.context,u=c.axis,h=c.direction,f=c.movingShapes,d=c.resizingShapes,p=c.start;if(c.initialized){Cj(l);var g={x:0,y:0};g[u]=Goe(l["d"+u]),a.makeSpace(f,d,g,h,p),r.once("spaceTool.ended",function(m){a.activateSelection(m.originalEvent,!0,!0)})}})}Ja.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];Ja.prototype.activateSelection=function(e,t,r){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:PF,data:{context:{reactivate:r}},trapClick:!1})};Ja.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:PF,data:{context:{}}})};Ja.prototype.makeSpace=function(e,t,r,n,i){return this._modeling.createSpace(e,t,r,n,i)};Ja.prototype.init=function(e,t){var r=Zw(e.dx)>Zw(e.dy)?"x":"y",n=e["d"+r],i=e[r]-n;if(Zw(n)<5)return!1;n<0&&(n*=-1),X0(e)&&(n*=-1);var s=Woe(r,n),o=this._canvas.getRootElement();!ib(e)&&e.hover&&(o=e.hover);var a=[...pg(o,!0),...o.attachers||[]],l=this.calculateAdjustments(a,r,n,i),c=this._eventBus.fire("spaceTool.getMinDimensions",{axis:r,direction:s,shapes:l.resizingShapes,start:i}),u=Xoe(l,r,s,i,c);return Ie(t,l,{axis:r,direction:s,spaceToolConstraints:u,start:i}),l2("resize-"+(r==="x"?"ew":"ns")),!0};Ja.prototype.calculateAdjustments=function(e,t,r,n){var i=this._rules,s=[],o=[],a=[],l=[];function c(f){s.includes(f)||s.push(f);var d=f.label;d&&!s.includes(d)&&s.push(d)}function u(f){o.includes(f)||o.push(f)}Ce(e,function(f){if(!(!f.parent||Ir(f))){if(Qr(f)){l.push(f);return}var d=f[t],p=d+f[Dl[t]];if(Zoe(f)&&(r>0&&Jt(f)[t]>n||r<0&&Jt(f)[t]<n)){a.push(f);return}if(r>0&&d>n||r<0&&p<n){c(f);return}if(d<n&&p>n&&i.allowed("shape.resize",{shape:f})){u(f);return}}}),Ce(s,function(f){var d=f.attachers;d&&Ce(d,function(p){c(p)})});var h=s.concat(o);return Ce(a,function(f){var d=f.host;Bd(h,d)&&c(f)}),h=s.concat(o),Ce(l,function(f){var d=f.source,p=f.target,g=f.label;Bd(h,d)&&Bd(h,p)&&g&&c(g)}),{movingShapes:s,resizingShapes:o}};Ja.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};Ja.prototype.isActive=function(){var e=this._dragging.context();return e?/^spaceTool/.test(e.prefix):!1};function Aj(e){return{top:e.top-yv,right:e.right+yv,bottom:e.bottom+yv,left:e.left-yv}}function Cj(e){var t=e.context,r=t.spaceToolConstraints;if(r){var n,i;Yt(r.left)&&(n=Math.max(e.x,r.left),e.dx=e.dx+n-e.x,e.x=n),Yt(r.right)&&(n=Math.min(e.x,r.right),e.dx=e.dx+n-e.x,e.x=n),Yt(r.top)&&(i=Math.max(e.y,r.top),e.dy=e.dy+i-e.y,e.y=i),Yt(r.bottom)&&(i=Math.min(e.y,r.bottom),e.dy=e.dy+i-e.y,e.y=i)}}function Xoe(e,t,r,n,i){var s=e.movingShapes,o=e.resizingShapes;if(o.length){var a={},l,c;return Ce(o,function(u){var h=u.attachers,f=u.children,d=Ht(u),p=mr(f,function(H){return!Qr(H)&&!Ir(H)&&!Bd(s,H)&&!Bd(o,H)}),g=mr(f,function(H){return!Qr(H)&&!Ir(H)&&Bd(s,H)}),m,v,y,x=[],w=[],_,M,U,L;p.length&&(v=Aj(Ht(di(p))),m=n-d[Wc[r]]+v[Wc[r]],r==="n"?a.bottom=c=Yt(c)?Math.min(c,m):m:r==="w"?a.right=c=Yt(c)?Math.min(c,m):m:r==="s"?a.top=l=Yt(l)?Math.max(l,m):m:r==="e"&&(a.left=l=Yt(l)?Math.max(l,m):m)),g.length&&(y=Aj(Ht(di(g))),m=n-y[Wc[vv[r]]]+d[Wc[vv[r]]],r==="n"?a.bottom=c=Yt(c)?Math.min(c,m):m:r==="w"?a.right=c=Yt(c)?Math.min(c,m):m:r==="s"?a.top=l=Yt(l)?Math.max(l,m):m:r==="e"&&(a.left=l=Yt(l)?Math.max(l,m):m)),h&&h.length&&(h.forEach(function(H){Bd(s,H)?x.push(H):w.push(H)}),x.length&&(_=Ht(di(x.map(Jt))),M=d[Wc[vv[r]]]-(_[Wc[vv[r]]]-n)),w.length&&(U=Ht(di(w.map(Jt))),L=U[Wc[r]]-(d[Wc[r]]-n)),r==="n"?(m=Math.min(M||1/0,L||1/0),a.bottom=c=Yt(c)?Math.min(c,m):m):r==="w"?(m=Math.min(M||1/0,L||1/0),a.right=c=Yt(c)?Math.min(c,m):m):r==="s"?(m=Math.max(M||-1/0,L||-1/0),a.top=l=Yt(l)?Math.max(l,m):m):r==="e"&&(m=Math.max(M||-1/0,L||-1/0),a.left=l=Yt(l)?Math.max(l,m):m));var O=i&&i[u.id];O&&(r==="n"?(m=n+u[Dl[t]]-O[Dl[t]],a.bottom=c=Yt(c)?Math.min(c,m):m):r==="w"?(m=n+u[Dl[t]]-O[Dl[t]],a.right=c=Yt(c)?Math.min(c,m):m):r==="s"?(m=n-u[Dl[t]]+O[Dl[t]],a.top=l=Yt(l)?Math.max(l,m):m):r==="e"&&(m=n-u[Dl[t]]+O[Dl[t]],a.left=l=Yt(l)?Math.max(l,m):m))}),a}}function Bd(e,t){return e.indexOf(t)!==-1}function Zoe(e){return!!e.host}var Yw="djs-dragging",jj="djs-resizing",Yoe=250,bv=Math.max;function OF(e,t,r,n,i){function s(o,a){Ce(o,function(l){i.addDragger(l,a),r.addMarker(l,Yw)})}e.on("spaceTool.selection.start",function(o){var a=r.getLayer("space"),l=o.context,c={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},u=Mt("g");Nt(u,n.cls("djs-crosshair-group",["no-events"])),rr(a,u);var h=Mt("path");Nt(h,"d",c.x),Pr(h).add("djs-crosshair"),rr(u,h);var f=Mt("path");Nt(f,"d",c.y),Pr(f).add("djs-crosshair"),rr(u,f),l.crosshairGroup=u}),e.on("spaceTool.selection.move",function(o){var a=o.context.crosshairGroup;$i(a,o.x,o.y)}),e.on("spaceTool.selection.cleanup",function(o){var a=o.context,l=a.crosshairGroup;l&&ui(l)}),e.on("spaceTool.move",Yoe,function(o){var a=o.context,l=a.line,c=a.axis,u=a.movingShapes,h=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var f=r.getLayer("space");l=Mt("path"),Nt(l,"d","M0,0 L0,0"),Pr(l).add("djs-crosshair"),rr(f,l),a.line=l;var d=Mt("g");Nt(d,n.cls("djs-drag-group",["no-events"])),rr(r.getActiveLayer(),d),s(u,d);var p=a.movingConnections=t.filter(function(w){var _=!1;Ce(u,function(O){Ce(O.outgoing,function(H){w===H&&(_=!0)})});var M=!1;Ce(u,function(O){Ce(O.incoming,function(H){w===H&&(M=!0)})});var U=!1;Ce(h,function(O){Ce(O.outgoing,function(H){w===H&&(U=!0)})});var L=!1;return Ce(h,function(O){Ce(O.incoming,function(H){w===H&&(L=!0)})}),Qr(w)&&(_||U)&&(M||L)});s(p,d),a.dragGroup=d}if(!a.frameGroup){var g=Mt("g");Nt(g,n.cls("djs-frame-group",["no-events"])),rr(r.getActiveLayer(),g);var m=[];Ce(h,function(w){var _=i.addFrame(w,g),M=_.getBBox();m.push({element:_,initialBounds:M}),r.addMarker(w,jj)}),a.frameGroup=g,a.frames=m}var v={x:"M"+o.x+", -10000 L"+o.x+", 10000",y:"M -10000, "+o.y+" L 10000, "+o.y};Nt(l,{d:v[c]});var y={x:"y",y:"x"},x={x:o.dx,y:o.dy};x[y[a.axis]]=0,$i(a.dragGroup,x.x,x.y),Ce(a.frames,function(w){var _=w.element,M=w.initialBounds,U,L;a.direction==="e"?Nt(_,{width:bv(M.width+x.x,5)}):(U=bv(M.width-x.x,5),Nt(_,{width:U,x:M.x+M.width-U})),a.direction==="s"?Nt(_,{height:bv(M.height+x.y,5)}):(L=bv(M.height-x.y,5),Nt(_,{height:L,y:M.y+M.height-L}))})}}),e.on("spaceTool.cleanup",function(o){var a=o.context,l=a.movingShapes,c=a.movingConnections,u=a.resizingShapes,h=a.line,f=a.dragGroup,d=a.frameGroup;Ce(l,function(p){r.removeMarker(p,Yw)}),Ce(c,function(p){r.removeMarker(p,Yw)}),f&&(ui(h),ui(f)),Ce(u,function(p){r.removeMarker(p,jj)}),d&&ui(d)})}OF.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const Joe={__init__:["spaceToolPreview"],__depends__:[pc,vl,A2,Cp,Ng],spaceTool:["type",Ja],spaceToolPreview:["type",OF]};function C2(e,t){e.invoke(Ja,this),this._canvas=t}C2.$inject=["injector","canvas"];Ct(C2,Ja);C2.prototype.calculateAdjustments=function(e,t,r,n){var i=this._canvas.getRootElement(),s=e[0]===i?null:e[0],o=[];s&&(o=qb(LL(i.children.filter(c=>he(c,"bpmn:Artifact")),di(s))));const a=[...e,...o];var l=Ja.prototype.calculateAdjustments.call(this,a,t,r,n);return l.resizingShapes=l.resizingShapes.filter(function(c){return!(he(c,"bpmn:TextAnnotation")||Qoe(c)&&(t==="y"&&bi(c)||t==="x"&&!bi(c)))}),l};function Qoe(e){return he(e,"bpmn:Participant")&&!ht(e).processRef}const IF={__depends__:[Joe],spaceTool:["type",C2]};function Tn(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Tn.$inject=["eventBus","injector"];Tn.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const r={command:e,context:t};this._pushAction(r),this._internalExecute(r),this._popAction()};Tn.prototype.canExecute=function(e,t){const r={command:e,context:t},n=this._getHandler(e);let i=this._fire(e,"canExecute",r);if(i===void 0){if(!n)return!1;n.canExecute&&(i=n.canExecute(t))}return i};Tn.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,e!==!1&&this._fire("changed",{trigger:"clear"})};Tn.prototype.undo=function(){let e=this._getUndoAction(),t;if(e){for(this._currentExecution.trigger="undo",this._pushAction(e);e&&(this._internalUndo(e),t=this._getUndoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};Tn.prototype.redo=function(){let e=this._getRedoAction(),t;if(e){for(this._currentExecution.trigger="redo",this._pushAction(e);e&&(this._internalExecute(e,!0),t=this._getRedoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};Tn.prototype.register=function(e,t){this._setHandler(e,t)};Tn.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const r=this._injector.instantiate(t);this.register(e,r)};Tn.prototype.canUndo=function(){return!!this._getUndoAction()};Tn.prototype.canRedo=function(){return!!this._getRedoAction()};Tn.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Tn.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Tn.prototype._internalUndo=function(e){const t=e.command,r=e.context,n=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),n.revert&&this._markDirty(n.revert(r)),this._revertedAction(e),this._fire(t,"reverted",e)})};Tn.prototype._fire=function(e,t,r){arguments.length<3&&(r=t,t=null);const n=t?[e+"."+t,t]:[e];let i;r=this._eventBus.createEvent(r);for(const s of n)if(i=this._eventBus.fire("commandStack."+s,r),r.cancelBubble)break;return i};Tn.prototype._createId=function(){return this._uid++};Tn.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}};Tn.prototype._internalExecute=function(e,t){const r=e.command,n=e.context,i=this._getHandler(r);if(!i)throw new Error("no command handler registered for <"+r+">");this._pushAction(e),t||(this._fire(r,"preExecute",e),i.preExecute&&i.preExecute(n),this._fire(r,"preExecuted",e)),this._atomicDo(()=>{this._fire(r,"execute",e),i.execute&&this._markDirty(i.execute(n)),this._executedAction(e,t),this._fire(r,"executed",e)}),t||(this._fire(r,"postExecute",e),i.postExecute&&i.postExecute(n),this._fire(r,"postExecuted",e)),this._popAction()};Tn.prototype._pushAction=function(e){const t=this._currentExecution,r=t.actions,n=r[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=n&&n.id||this._createId()),r.push(e)};Tn.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,r=e.actions,n=e.dirty;r.pop(),r.length||(this._eventBus.fire("elements.changed",{elements:_L("id",n.reverse())}),n.length=0,this._fire("changed",{trigger:t}),e.trigger=null)};Tn.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=Qt(e)?e:[e],t.dirty=t.dirty.concat(e))};Tn.prototype._executedAction=function(e,t){const r=++this._stackIdx;t||this._stack.splice(r,this._stack.length,e)};Tn.prototype._revertedAction=function(e){this._stackIdx--};Tn.prototype._getHandler=function(e){return this._handlerMap[e]};Tn.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};const ele={commandStack:["type",Tn]};function wu(e,t){if(typeof t!="function")throw new Error("removeFn iterator must be a function");if(e){for(var r;r=e[0];)t(r);return e}}var tle=250,Tj=1400;function rE(e,t,r){at.call(this,t);var n=e.get("movePreview",!1);t.on("shape.move.start",Tj,function(i){var s=i.context,o=s.shapes,a=s.validatedShapes;s.shapes=Rj(o),s.validatedShapes=Rj(a)}),n&&t.on("shape.move.start",tle,function(i){var s=i.context,o=s.shapes,a=[];Ce(o,function(l){Ce(l.labels,function(c){!c.hidden&&s.shapes.indexOf(c)===-1&&a.push(c),l.labelTarget&&a.push(l)})}),Ce(a,function(l){n.makeDraggable(s,l,!0)})}),this.preExecuted("elements.move",Tj,function(i){var s=i.context,o=s.closure,a=o.enclosedElements,l=[];Ce(a,function(c){Ce(c.labels,function(u){a[u.id]||l.push(u)})}),o.addAll(l)}),this.preExecute(["connection.delete","shape.delete"],function(i){var s=i.context,o=s.connection||s.shape;wu(o.labels,function(a){r.removeShape(a,{nested:!0})})}),this.execute("shape.delete",function(i){var s=i.context,o=s.shape,a=o.labelTarget;a&&(s.labelTargetIndex=M8(a.labels,o),s.labelTarget=a,o.labelTarget=null)}),this.revert("shape.delete",function(i){var s=i.context,o=s.shape,a=s.labelTarget,l=s.labelTargetIndex;a&&(hi(a.labels,o,l),o.labelTarget=a)})}Ct(rE,at);rE.$inject=["injector","eventBus","modeling"];function Rj(e){return mr(e,function(t){return e.indexOf(t.labelTarget)===-1})}const rle={__init__:["labelSupport"],labelSupport:["type",rE]};var nle=251,Pj=1401,Oj="attach-ok";function nE(e,t,r,n,i){at.call(this,t);var s=e.get("movePreview",!1);t.on("shape.move.start",Pj,function(o){var a=o.context,l=a.shapes,c=a.validatedShapes;a.shapes=ile(l),a.validatedShapes=sle(c)}),s&&t.on("shape.move.start",nle,function(o){var a=o.context,l=a.shapes,c=e6(l);Ce(c,function(u){s.makeDraggable(a,u,!0),Ce(u.labels,function(h){s.makeDraggable(a,h,!0)})})}),s&&t.on("shape.move.start",function(o){var a=o.context,l=a.shapes;if(l.length===1){var c=l[0],u=c.host;u&&(r.addMarker(u,Oj),t.once(["shape.move.out","shape.move.cleanup"],function(){r.removeMarker(u,Oj)}))}}),this.preExecuted("elements.move",Pj,function(o){var a=o.context,l=a.closure,c=a.shapes,u=e6(c);Ce(u,function(h){l.add(h,l.topLevel[h.host.id])})}),this.postExecuted("elements.move",function(o){var a=o.context,l=a.shapes,c=a.newHost,u;c&&l.length!==1||(c?u=l:u=mr(l,function(h){var f=h.host;return ale(h)&&!ole(l,f)}),Ce(u,function(h){i.updateAttachment(h,c)}))}),this.postExecuted("elements.move",function(o){var a=o.context.shapes;Ce(a,function(l){Ce(l.attachers,function(c){Ce(c.outgoing.slice(),function(u){var h=n.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});h||i.removeConnection(u)}),Ce(c.incoming.slice(),function(u){var h=n.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});h||i.removeConnection(u)})})})}),this.postExecute("shape.create",function(o){var a=o.context,l=a.shape,c=a.host;c&&i.updateAttachment(l,c)}),this.postExecute("shape.replace",function(o){var a=o.context,l=a.oldShape,c=a.newShape;wu(l.attachers,function(u){var h=n.allowed("elements.move",{target:c,shapes:[u]});h==="attach"?i.updateAttachment(u,c):i.removeShape(u)}),c.attachers.length&&Ce(c.attachers,function(u){var h=lj(u,l,c);i.moveShape(u,h,u.parent)})}),this.postExecute("shape.resize",function(o){var a=o.context,l=a.shape,c=a.oldBounds,u=a.newBounds,h=l.attachers,f=a.hints||{};f.attachSupport!==!1&&Ce(h,function(d){var p=lj(d,c,u);i.moveShape(d,p,d.parent),Ce(d.labels,function(g){i.moveShape(g,p,g.parent)})})}),this.preExecute("shape.delete",function(o){var a=o.context.shape;wu(a.attachers,function(l){i.removeShape(l)}),a.host&&i.updateAttachment(a,null)})}Ct(nE,at);nE.$inject=["injector","eventBus","canvas","rules","modeling"];function e6(e){return T8(is(e,function(t){return t.attachers||[]}))}function ile(e){var t=e6(e);return YJ("id",e,t)}function sle(e){var t=gp(e,"id");return mr(e,function(r){for(;r;){if(r.host&&t[r.host.id])return!1;r=r.parent}return!0})}function ale(e){return!!e.host}function ole(e,t){return e.indexOf(t)!==-1}const lle={__depends__:[vl],__init__:["attachSupport"],attachSupport:["type",nE]};function Qa(e){this._model=e}Qa.$inject=["moddle"];Qa.prototype._needsId=function(e){return gr(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])};Qa.prototype._ensureId=function(e){if(e.id){this._model.ids.claim(e.id,e);return}var t;he(e,"bpmn:Activity")?t="Activity":he(e,"bpmn:Event")?t="Event":he(e,"bpmn:Gateway")?t="Gateway":gr(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?t="Flow":t=(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))};Qa.prototype.create=function(e,t){var r=this._model.create(e,t||{});return this._ensureId(r),r};Qa.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})};Qa.prototype.createDiShape=function(e,t){return this.create("bpmndi:BPMNShape",Ie({bpmnElement:e,bounds:this.createDiBounds()},t))};Qa.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)};Qa.prototype.createDiWaypoints=function(e){var t=this;return is(e,function(r){return t.createDiWaypoint(r)})};Qa.prototype.createDiWaypoint=function(e){return this.create("dc:Point",No(e,["x","y"]))};Qa.prototype.createDiEdge=function(e,t){return this.create("bpmndi:BPMNEdge",Ie({bpmnElement:e,waypoint:this.createDiWaypoints([])},t))};Qa.prototype.createDiPlane=function(e,t){return this.create("bpmndi:BPMNPlane",Ie({bpmnElement:e},t))};function na(e,t,r){at.call(this,e),this._bpmnFactory=t;var n=this;function i(d){var p=d.context,g=p.hints||{},m;!p.cropped&&g.createElementsBehavior!==!1&&(m=p.connection,m.waypoints=r.getCroppedWaypoints(m),p.cropped=!0)}this.executed(["connection.layout","connection.create"],i),this.reverted(["connection.layout"],function(d){delete d.context.cropped});function s(d){var p=d.context;n.updateParent(p.shape||p.connection,p.oldParent)}function o(d){var p=d.context,g=p.shape||p.connection,m=p.parent||p.newParent;n.updateParent(g,m)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],$s(s)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],$s(o));function a(d){var p=d.context,g=p.oldRoot,m=g.children;Ce(m,function(v){he(v,"bpmn:BaseElement")&&n.updateParent(v)})}this.executed(["canvas.updateRoot"],a),this.reverted(["canvas.updateRoot"],a);function l(d){var p=d.context.shape;he(p,"bpmn:BaseElement")&&n.updateBounds(p)}this.executed(["shape.move","shape.create","shape.resize"],$s(function(d){d.context.shape.type!=="label"&&l(d)})),this.reverted(["shape.move","shape.create","shape.resize"],$s(function(d){d.context.shape.type!=="label"&&l(d)})),e.on("shape.changed",function(d){d.element.type==="label"&&l({context:{shape:d.element}})});function c(d){n.updateConnection(d.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],$s(c)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],$s(c));function u(d){n.updateConnectionWaypoints(d.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],$s(u)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],$s(u)),this.executed("connection.reconnect",$s(function(d){var p=d.context,g=p.connection,m=p.oldSource,v=p.newSource,y=ht(g),x=ht(m),w=ht(v);y.conditionExpression&&!gr(w,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(p.oldConditionExpression=y.conditionExpression,delete y.conditionExpression),m!==v&&x.default===y&&(p.oldDefault=x.default,delete x.default)})),this.reverted("connection.reconnect",$s(function(d){var p=d.context,g=p.connection,m=p.oldSource,v=p.newSource,y=ht(g),x=ht(m),w=ht(v);p.oldConditionExpression&&(y.conditionExpression=p.oldConditionExpression),p.oldDefault&&(x.default=p.oldDefault,delete w.default)}));function h(d){n.updateAttachment(d.context)}this.executed(["element.updateAttachment"],$s(h)),this.reverted(["element.updateAttachment"],$s(h)),this.executed("element.updateLabel",$s(f)),this.reverted("element.updateLabel",$s(f));function f(d){const{element:p}=d.context,g=Ao(p),m=Or(p),v=m&&m.get("label");ah(p)||sy(p)||(g&&!v?m.set("label",t.create("bpmndi:BPMNLabel")):!g&&v&&m.set("label",void 0))}}Ct(na,at);na.$inject=["eventBus","bpmnFactory","connectionDocking"];na.prototype.updateAttachment=function(e){var t=e.shape,r=t.businessObject,n=t.host;r.attachedToRef=n&&n.businessObject};na.prototype.updateParent=function(e,t){if(!Ir(e)&&!(he(e,"bpmn:DataStoreReference")&&e.parent&&he(e.parent,"bpmn:Collaboration"))){var r=e.parent,n=e.businessObject,i=Or(e),s=r&&r.businessObject,o=Or(r);he(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(n,s,t&&t.businessObject),he(e,"bpmn:DataOutputAssociation")&&(e.source?s=e.source.businessObject:s=null),he(e,"bpmn:DataInputAssociation")&&(e.target?s=e.target.businessObject:s=null),this.updateSemanticParent(n,s),he(e,"bpmn:DataObjectReference")&&n.dataObjectRef&&this.updateSemanticParent(n.dataObjectRef,s),this.updateDiParent(i,o)}};na.prototype.updateBounds=function(e){var t=Or(e),r=ule(e);if(r){var n=_o(r,t.get("bounds"));Ie(r,{x:e.x+n.x,y:e.y+n.y})}var i=Ir(e)?this._getLabel(t):t,s=i.bounds;s||(s=this._bpmnFactory.createDiBounds(),i.set("bounds",s)),Ie(s,{x:e.x,y:e.y,width:e.width,height:e.height})};na.prototype.updateFlowNodeRefs=function(e,t,r){if(r!==t){var n,i;he(r,"bpmn:Lane")&&(n=r.get("flowNodeRef"),Zn(n,e)),he(t,"bpmn:Lane")&&(i=t.get("flowNodeRef"),hi(i,e))}};na.prototype.updateDiConnection=function(e,t,r){var n=Or(e),i=Or(t),s=Or(r);n.sourceElement&&n.sourceElement.bpmnElement!==ht(t)&&(n.sourceElement=t&&i),n.targetElement&&n.targetElement.bpmnElement!==ht(r)&&(n.targetElement=r&&s)};na.prototype.updateDiParent=function(e,t){if(t&&!he(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var r=(t||e.$parent).get("planeElement");t?(r.push(e),e.$parent=t):(Zn(r,e),e.$parent=null)}};function cle(e){for(;e&&!he(e,"bpmn:Definitions");)e=e.$parent;return e}na.prototype.getLaneSet=function(e){var t,r;return he(e,"bpmn:Lane")?(t=e.childLaneSet,t||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(he(e,"bpmn:Participant")&&(e=e.processRef),r=e.get("laneSets"),t=r[0],t||(t=this._bpmnFactory.create("bpmn:LaneSet"),t.$parent=e,r.push(t)),t)};na.prototype.updateSemanticParent=function(e,t,r){var n;if(e.$parent!==t&&!((he(e,"bpmn:DataInput")||he(e,"bpmn:DataOutput"))&&(he(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),"ioSpecification"in t&&t.ioSpecification===e.$parent))){if(he(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),n="lanes";else if(he(e,"bpmn:FlowElement")){if(t){if(he(t,"bpmn:Participant"))t=t.processRef;else if(he(t,"bpmn:Lane"))do t=t.$parent.$parent;while(he(t,"bpmn:Lane"))}n="flowElements"}else if(he(e,"bpmn:Artifact")){for(;t&&!he(t,"bpmn:Process")&&!he(t,"bpmn:SubProcess")&&!he(t,"bpmn:Collaboration");)if(he(t,"bpmn:Participant")){t=t.processRef;break}else t=t.$parent;n="artifacts"}else if(he(e,"bpmn:MessageFlow"))n="messageFlows";else if(he(e,"bpmn:Participant")){n="participants";var i=e.processRef,s;i&&(s=cle(e.$parent||t),e.$parent&&(Zn(s.get("rootElements"),i),i.$parent=null),t&&(hi(s.get("rootElements"),i),i.$parent=s))}else he(e,"bpmn:DataOutputAssociation")?n="dataOutputAssociations":he(e,"bpmn:DataInputAssociation")&&(n="dataInputAssociations");if(!n)throw new Error(`no parent for <${e.id}> in <${t.id}>`);var o;if(e.$parent&&(o=e.$parent.get(n),Zn(o,e)),t?(o=t.get(n),o.push(e),e.$parent=t):e.$parent=null,r){var a=r.get(n);Zn(o,e),t&&(a||(a=[],t.set(n,a)),a.push(e))}}};na.prototype.updateConnectionWaypoints=function(e){var t=Or(e);t.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))};na.prototype.updateConnection=function(e){var t=e.connection,r=ht(t),n=t.source,i=ht(n),s=t.target,o=ht(t.target),a;if(he(r,"bpmn:DataAssociation"))he(r,"bpmn:DataInputAssociation")?(r.get("sourceRef")[0]=i,a=e.parent||e.newParent||o,this.updateSemanticParent(r,o,a)):he(r,"bpmn:DataOutputAssociation")&&(a=e.parent||e.newParent||i,this.updateSemanticParent(r,i,a),r.targetRef=o);else{var l=he(r,"bpmn:SequenceFlow");r.sourceRef!==i&&(l&&(Zn(r.sourceRef&&r.sourceRef.get("outgoing"),r),i&&i.get("outgoing")&&i.get("outgoing").push(r)),r.sourceRef=i),r.targetRef!==o&&(l&&(Zn(r.targetRef&&r.targetRef.get("incoming"),r),o&&o.get("incoming")&&o.get("incoming").push(r)),r.targetRef=o)}this.updateConnectionWaypoints(t),this.updateDiConnection(t,n,s)};na.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label};function $s(e){return function(t){var r=t.context,n=r.shape||r.connection||r.element;he(n,"bpmn:BaseElement")&&e(t)}}function ule(e){if(he(e,"bpmn:Activity")){var t=Or(e);if(t){var r=t.get("label");if(r)return r.get("bounds")}}}function $u(e,t){uc.call(this),this._bpmnFactory=e,this._moddle=t}Ct($u,uc);$u.$inject=["bpmnFactory","moddle"];$u.prototype._baseCreate=uc.prototype.create;$u.prototype.create=function(e,t){if(e==="label"){var r=t.di||this._bpmnFactory.createDiLabel();return this._baseCreate(e,Ie({type:"label",di:r},G0,t))}return this.createElement(e,t)};$u.prototype.createElement=function(e,t){t=Ie({},t||{});var r,n=t.businessObject,i=t.di;if(!n){if(!t.type)throw new Error("no shape type specified");n=this._bpmnFactory.create(t.type),mD(n)}if(!hle(i)){var s=Ie({},i||{},{id:n.id+"_di"});e==="root"?i=this._bpmnFactory.createDiPlane(n,s):e==="connection"?i=this._bpmnFactory.createDiEdge(n,s):i=this._bpmnFactory.createDiShape(n,s)}he(n,"bpmn:Group")&&(t=Ie({isFrame:!0},t)),t=dle(n,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&(t=t6(i,t,"isExpanded")),gr(n,["bpmn:Lane","bpmn:Participant"])&&(t=t6(i,t,"isHorizontal")),he(n,"bpmn:SubProcess")&&(t.collapsed=!Er(n,i)),he(n,"bpmn:ExclusiveGateway")&&(Cs(i,"isMarkerVisible")?i.isMarkerVisible===void 0&&(i.isMarkerVisible=!1):i.isMarkerVisible=!0),Pi(t.triggeredByEvent)&&(n.triggeredByEvent=t.triggeredByEvent,delete t.triggeredByEvent),Pi(t.cancelActivity)&&(n.cancelActivity=t.cancelActivity,delete t.cancelActivity);var o,a;return t.eventDefinitionType&&(o=n.get("eventDefinitions")||[],a=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),t.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(a.condition=this._bpmnFactory.create("bpmn:FormalExpression")),o.push(a),a.$parent=n,n.eventDefinitions=o,delete t.eventDefinitionType),r=this.getDefaultSize(n,i),t=Ie({id:n.id},r,t,{businessObject:n,di:i}),this._baseCreate(e,t)};$u.prototype.getDefaultSize=function(e,t){var r=ht(e);if(t=t||Or(e),he(r,"bpmn:SubProcess"))return Er(r,t)?{width:350,height:200}:{width:100,height:80};if(he(r,"bpmn:Task"))return{width:100,height:80};if(he(r,"bpmn:Gateway"))return{width:50,height:50};if(he(r,"bpmn:Event"))return{width:36,height:36};if(he(r,"bpmn:Participant")){var n=t.isHorizontal===void 0||t.isHorizontal===!0;return Er(r,t)?n?{width:600,height:250}:{width:250,height:600}:n?{width:400,height:60}:{width:60,height:400}}return he(r,"bpmn:Lane")?{width:400,height:100}:he(r,"bpmn:DataObjectReference")?{width:36,height:50}:he(r,"bpmn:DataStoreReference")?{width:50,height:50}:he(r,"bpmn:TextAnnotation")?{width:100,height:30}:he(r,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}};$u.prototype.createParticipantShape=function(e){return Mi(e)||(e={isExpanded:e}),e=Ie({type:"bpmn:Participant"},e||{}),e.isExpanded!==!1&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)};function dle(e,t,r){return Ce(r,function(n){t=t6(e,t,n)}),t}function t6(e,t,r){return t[r]===void 0?t:(e[r]=t[r],pl(t,[r]))}function hle(e){return gr(e,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}function j2(e,t){this._modeling=e,this._canvas=t}j2.$inject=["modeling","canvas"];j2.prototype.preExecute=function(e){var t=this._modeling,r=e.elements,n=e.alignment;Ce(r,function(i){var s={x:0,y:0};Pi(n.left)?s.x=n.left-i.x:Pi(n.right)?s.x=n.right-i.width-i.x:Pi(n.center)?s.x=n.center-Math.round(i.width/2)-i.x:Pi(n.top)?s.y=n.top-i.y:Pi(n.bottom)?s.y=n.bottom-i.height-i.y:Pi(n.middle)&&(s.y=n.middle-Math.round(i.height/2)-i.y),t.moveElements([i],s,i.parent)})};j2.prototype.postExecute=function(e){};function T2(e){this._modeling=e}T2.$inject=["modeling"];T2.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var r=e.target||t.parent,n=e.shape,i=e.hints||{};n=e.shape=this._modeling.createShape(n,e.position,r,{attach:i.attach}),e.shape=n};T2.prototype.postExecute=function(e){var t=e.hints||{};fle(e.source,e.shape)||(t.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))};function fle(e,t){return Pu(e.outgoing,function(r){return r.target===t})}function R2(e,t){this._canvas=e,this._layouter=t}R2.$inject=["canvas","layouter"];R2.prototype.execute=function(e){var t=e.connection,r=e.source,n=e.target,i=e.parent,s=e.parentIndex,o=e.hints;if(!r||!n)throw new Error("source and target required");if(!i)throw new Error("parent required");return t.source=r,t.target=n,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,o)),this._canvas.addConnection(t,i,s),t};R2.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var xv=Math.round;function iE(e){this._modeling=e}iE.$inject=["modeling"];iE.prototype.preExecute=function(e){var t=e.elements,r=e.parent,n=e.parentIndex,i=e.position,s=e.hints,o=this._modeling;Ce(t,function(h){Yt(h.x)||(h.x=0),Yt(h.y)||(h.y=0)});var a=mr(t,function(h){return!h.hidden}),l=di(a);Ce(t,function(h){Qr(h)&&(h.waypoints=is(h.waypoints,function(f){return{x:xv(f.x-l.x-l.width/2+i.x),y:xv(f.y-l.y-l.height/2+i.y)}})),Ie(h,{x:xv(h.x-l.x-l.width/2+i.x),y:xv(h.y-l.y-l.height/2+i.y)})});var c=Zb(t),u={};Ce(t,function(h){if(Qr(h)){u[h.id]=Yt(n)?o.createConnection(u[h.source.id],u[h.target.id],n,h,h.parent||r,s):o.createConnection(u[h.source.id],u[h.target.id],h,h.parent||r,s);return}var f=Ie({},s);c.indexOf(h)===-1&&(f.autoResize=!1),Ir(h)&&(f=pl(f,["attach"])),u[h.id]=Yt(n)?o.createShape(h,No(h,["x","y","width","height"]),h.parent||r,n,f):o.createShape(h,No(h,["x","y","width","height"]),h.parent||r,f)}),e.elements=qb(u)};var Ij=Math.round;function Hu(e){this._canvas=e}Hu.$inject=["canvas"];Hu.prototype.execute=function(e){var t=e.shape,r=e.position,n=e.parent,i=e.parentIndex;if(!n)throw new Error("parent required");if(!r)throw new Error("position required");return r.width!==void 0?Ie(t,r):Ie(t,{x:r.x-Ij(t.width/2),y:r.y-Ij(t.height/2)}),this._canvas.addShape(t,n,i),t};Hu.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t};function Cg(e){Hu.call(this,e)}Ct(Cg,Hu);Cg.$inject=["canvas"];var ple=Hu.prototype.execute;Cg.prototype.execute=function(e){var t=e.shape;return gle(t),t.labelTarget=e.labelTarget,ple.call(this,e)};var mle=Hu.prototype.revert;Cg.prototype.revert=function(e){return e.shape.labelTarget=null,mle.call(this,e)};function gle(e){["width","height"].forEach(function(t){typeof e[t]>"u"&&(e[t]=0)})}function jg(e,t){this._canvas=e,this._modeling=t}jg.$inject=["canvas","modeling"];jg.prototype.preExecute=function(e){var t=this._modeling,r=e.connection;wu(r.incoming,function(n){t.removeConnection(n,{nested:!0})}),wu(r.outgoing,function(n){t.removeConnection(n,{nested:!0})})};jg.prototype.execute=function(e){var t=e.connection,r=t.parent;return e.parent=r,e.parentIndex=M8(r.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t};jg.prototype.revert=function(e){var t=e.connection,r=e.parent,n=e.parentIndex;return t.source=e.source,t.target=e.target,hi(r.children,t,n),this._canvas.addConnection(t,r),t};function sE(e,t){this._modeling=e,this._elementRegistry=t}sE.$inject=["modeling","elementRegistry"];sE.prototype.postExecute=function(e){var t=this._modeling,r=this._elementRegistry,n=e.elements;Ce(n,function(i){r.get(i.id)&&(i.waypoints?t.removeConnection(i):t.removeShape(i))})};function Tg(e,t){this._canvas=e,this._modeling=t}Tg.$inject=["canvas","modeling"];Tg.prototype.preExecute=function(e){var t=this._modeling,r=e.shape;wu(r.incoming,function(n){t.removeConnection(n,{nested:!0})}),wu(r.outgoing,function(n){t.removeConnection(n,{nested:!0})}),wu(r.children,function(n){Qr(n)?t.removeConnection(n,{nested:!0}):t.removeShape(n,{nested:!0})})};Tg.prototype.execute=function(e){var t=this._canvas,r=e.shape,n=r.parent;return e.oldParent=n,e.oldParentIndex=M8(n.children,r),t.removeShape(r),r};Tg.prototype.revert=function(e){var t=this._canvas,r=e.shape,n=e.oldParent,i=e.oldParentIndex;return hi(n.children,r,i),t.addShape(r,n),r};function P2(e){this._modeling=e}P2.$inject=["modeling"];var Mj={x:"y",y:"x"};P2.prototype.preExecute=function(e){var t=this._modeling,r=e.groups,n=e.axis,i=e.dimension;function s(m,v){m.range.min=Math.min(v[n],m.range.min),m.range.max=Math.max(v[n]+v[i],m.range.max)}function o(m){return m[n]+m[i]/2}function a(m){return m.length-1}function l(m){return m.max-m.min}function c(m,v){var y={y:0};y[n]=m-o(v),y[n]&&(y[Mj[n]]=0,t.moveElements([v],y,v.parent))}var u=r[0],h=a(r),f=r[h],d,p,g=0;Ce(r,function(m,v){var y,x,w;if(m.elements.length<2){v&&v!==r.length-1&&(s(m,m.elements[0]),g+=l(m.range));return}y=ul(m.elements,n),x=y[0],v===h&&(x=y[a(y)]),w=o(x),m.range=null,Ce(y,function(_){if(c(w,_),m.range===null){m.range={min:_[n],max:_[n]+_[i]};return}s(m,_)}),v&&v!==r.length-1&&(g+=l(m.range))}),p=Math.abs(f.range.min-u.range.max),d=Math.round((p-g)/(r.length-1)),!(d<r.length-1)&&Ce(r,function(m,v){var y={},x;m===u||m===f||(x=r[v-1],m.range.max=0,Ce(m.elements,function(w,_){y[Mj[n]]=0,y[n]=x.range.max-w[n]+d,m.range.min!==w[n]&&(y[n]+=w[n]-m.range.min),y[n]&&t.moveElements([w],y,w.parent),m.range.max=Math.max(w[n]+w[i],_?m.range.max:0)}))})};P2.prototype.postExecute=function(e){};function O2(e,t){this._layouter=e,this._canvas=t}O2.$inject=["layouter","canvas"];O2.prototype.execute=function(e){var t=e.connection,r=t.waypoints;return Ie(e,{oldWaypoints:r}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t};O2.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t};function aE(){}aE.prototype.execute=function(e){var t=e.connection,r=e.delta,n=e.newParent||t.parent,i=e.newParentIndex,s=t.parent;return e.oldParent=s,e.oldParentIndex=Zn(s.children,t),hi(n.children,t,i),t.parent=n,Ce(t.waypoints,function(o){o.x+=r.x,o.y+=r.y,o.original&&(o.original.x+=r.x,o.original.y+=r.y)}),t};aE.prototype.revert=function(e){var t=e.connection,r=t.parent,n=e.oldParent,i=e.oldParentIndex,s=e.delta;return Zn(r.children,t),hi(n.children,t,i),t.parent=n,Ce(t.waypoints,function(o){o.x-=s.x,o.y-=s.y,o.original&&(o.original.x-=s.x,o.original.y-=s.y)}),t};function oE(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}oE.prototype.add=function(e,t){return this.addAll([e],t)};oE.prototype.addAll=function(e,t){var r=UQ(e,!!t,this);return Ie(this,r),this};function Rg(e){this._modeling=e}Rg.prototype.moveRecursive=function(e,t,r){return e?this.moveClosure(this.getClosure(e),t,r):[]};Rg.prototype.moveClosure=function(e,t,r,n,i){var s=this._modeling,o=e.allShapes,a=e.allConnections,l=e.enclosedConnections,c=e.topLevel,u=!1;i&&i.parent===r&&(u=!0),Ce(o,function(h){s.moveShape(h,t,c[h.id]&&!u&&r,{recurse:!1,layout:!1})}),Ce(a,function(h){var f=!!o[h.source.id],d=!!o[h.target.id];l[h.id]&&f&&d?s.moveConnection(h,t,c[h.id]&&!u&&r):s.layoutConnection(h,{connectionStart:f&&RS(h,h.source,t),connectionEnd:d&&PS(h,h.target,t)})})};Rg.prototype.getClosure=function(e){return new oE().addAll(e,!0)};function I2(e){this._helper=new Rg(e)}I2.$inject=["modeling"];I2.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)};I2.prototype.postExecute=function(e){var t=e.hints,r;t&&t.primaryShape&&(r=t.primaryShape,t.oldParent=r.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,r)};function xh(e){this._modeling=e,this._helper=new Rg(e)}xh.$inject=["modeling"];xh.prototype.execute=function(e){var t=e.shape,r=e.delta,n=e.newParent||t.parent,i=e.newParentIndex,s=t.parent;return e.oldBounds=No(t,["x","y","width","height"]),e.oldParent=s,e.oldParentIndex=Zn(s.children,t),hi(n.children,t,i),Ie(t,{parent:n,x:t.x+r.x,y:t.y+r.y}),t};xh.prototype.postExecute=function(e){var t=e.shape,r=e.delta,n=e.hints,i=this._modeling;n.layout!==!1&&(Ce(t.incoming,function(s){i.layoutConnection(s,{connectionEnd:PS(s,t,r)})}),Ce(t.outgoing,function(s){i.layoutConnection(s,{connectionStart:RS(s,t,r)})})),n.recurse!==!1&&this.moveChildren(e)};xh.prototype.revert=function(e){var t=e.shape,r=e.oldParent,n=e.oldParentIndex,i=e.delta;return hi(r.children,t,n),Ie(t,{parent:r,x:t.x-i.x,y:t.y-i.y}),t};xh.prototype.moveChildren=function(e){var t=e.delta,r=e.shape;this._helper.moveRecursive(r.children,t,null)};xh.prototype.getNewParent=function(e){return e.newParent||e.shape.parent};function Pg(e){this._modeling=e}Pg.$inject=["modeling"];Pg.prototype.execute=function(e){var t=e.newSource,r=e.newTarget,n=e.connection,i=e.dockingOrPoints;if(!t&&!r)throw new Error("newSource or newTarget required");return Qt(i)&&(e.oldWaypoints=n.waypoints,n.waypoints=i),t&&(e.oldSource=n.source,n.source=t),r&&(e.oldTarget=n.target,n.target=r),n};Pg.prototype.postExecute=function(e){var t=e.connection,r=e.newSource,n=e.newTarget,i=e.dockingOrPoints,s=e.hints||{},o={};s.connectionStart&&(o.connectionStart=s.connectionStart),s.connectionEnd&&(o.connectionEnd=s.connectionEnd),s.layoutConnection!==!1&&(r&&(!n||s.docking==="source")&&(o.connectionStart=o.connectionStart||Lj(Qt(i)?i[0]:i)),n&&(!r||s.docking==="target")&&(o.connectionEnd=o.connectionEnd||Lj(Qt(i)?i[i.length-1]:i)),s.newWaypoints&&(o.waypoints=s.newWaypoints),this._modeling.layoutConnection(t,o))};Pg.prototype.revert=function(e){var t=e.oldSource,r=e.oldTarget,n=e.oldWaypoints,i=e.connection;return t&&(i.source=t),r&&(i.target=r),n&&(i.waypoints=n),i};function Lj(e){return e.original||e}function gc(e,t){this._modeling=e,this._rules=t}gc.$inject=["modeling","rules"];gc.prototype.preExecute=function(e){var t=this,r=this._modeling,n=this._rules,i=e.oldShape,s=e.newData,o=e.hints||{},a;function l(p,g,m){return n.allowed("connection.reconnect",{connection:m,source:p,target:g})}var c={x:s.x,y:s.y},u={x:i.x,y:i.y,width:i.width,height:i.height};a=e.newShape=e.newShape||t.createShape(s,c,i.parent,o),i.host&&r.updateAttachment(a,i.host);var h;o.moveChildren!==!1&&(h=i.children.slice(),r.moveElements(h,{x:0,y:0},a,o));var f=i.incoming.slice(),d=i.outgoing.slice();Ce(f,function(p){var g=p.source,m=l(g,a,p);m&&t.reconnectEnd(p,a,w2(p,a,u),o)}),Ce(d,function(p){var g=p.target,m=l(a,g,p);m&&t.reconnectStart(p,a,x2(p,a,u),o)})};gc.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)};gc.prototype.execute=function(e){};gc.prototype.revert=function(e){};gc.prototype.createShape=function(e,t,r,n){return this._modeling.createShape(e,t,r,n)};gc.prototype.reconnectStart=function(e,t,r,n){this._modeling.reconnectStart(e,t,r,n)};gc.prototype.reconnectEnd=function(e,t,r,n){this._modeling.reconnectEnd(e,t,r,n)};function Og(e){this._modeling=e}Og.$inject=["modeling"];Og.prototype.execute=function(e){var t=e.shape,r=e.newBounds,n=e.minBounds;if(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(n&&(r.width<n.width||r.height<n.height))throw new Error("width and height cannot be less than minimum height and width");if(!n&&r.width<10||r.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},Ie(t,{width:r.width,height:r.height,x:r.x,y:r.y}),t};Og.prototype.postExecute=function(e){var t=this._modeling,r=e.shape,n=e.oldBounds,i=e.hints||{};i.layout!==!1&&(Ce(r.incoming,function(s){t.layoutConnection(s,{connectionEnd:w2(s,r,n)})}),Ce(r.outgoing,function(s){t.layoutConnection(s,{connectionStart:x2(s,r,n)})}))};Og.prototype.revert=function(e){var t=e.shape,r=e.oldBounds;return Ie(t,{width:r.width,height:r.height,x:r.x,y:r.y}),t};function Wu(e){this._modeling=e}Wu.$inject=["modeling"];Wu.prototype.preExecute=function(e){var t=e.delta,r=e.direction,n=e.movingShapes,i=e.resizingShapes,s=e.start,o={};this.moveShapes(n,t),Ce(i,function(a){o[a.id]=yle(a)}),this.resizeShapes(i,t,r),this.updateConnectionWaypoints(qoe(n,i),t,r,s,n,i,o)};Wu.prototype.execute=function(){};Wu.prototype.revert=function(){};Wu.prototype.moveShapes=function(e,t){var r=this;Ce(e,function(n){r._modeling.moveShape(n,t,null,{autoResize:!1,layout:!1,recurse:!1})})};Wu.prototype.resizeShapes=function(e,t,r){var n=this;Ce(e,function(i){var s=Voe(i,r,t);n._modeling.resizeShape(i,s,null,{attachSupport:!1,autoResize:!1,layout:!1})})};Wu.prototype.updateConnectionWaypoints=function(e,t,r,n,i,s,o){var a=this,l=i.concat(s);Ce(e,function(c){var u=c.source,h=c.target,f=vle(c),d=MF(r),p={};qc(l,u)&&qc(l,h)?(f=is(f,function(g){return Bj(g,n,r)&&(g[d]=g[d]+t[d]),g.original&&Bj(g.original,n,r)&&(g.original[d]=g.original[d]+t[d]),g}),a._modeling.updateWaypoints(c,f,{labelBehavior:!1})):(qc(l,u)||qc(l,h))&&(qc(i,u)?p.connectionStart=RS(c,u,t):qc(i,h)?p.connectionEnd=PS(c,h,t):qc(s,u)?p.connectionStart=x2(c,u,o[u.id]):qc(s,h)&&(p.connectionEnd=w2(c,h,o[h.id])),a._modeling.layoutConnection(c,p))})};function Dj(e){return Ie({},e)}function vle(e){return is(e.waypoints,function(t){return t=Dj(t),t.original&&(t.original=Dj(t.original)),t})}function MF(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function Bj(e,t,r){var n=MF(r);if(/e|s/.test(r))return e[n]>t;if(/n|w/.test(r))return e[n]<t}function qc(e,t){return e.indexOf(t)!==-1}function yle(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}function M2(e){this._modeling=e}M2.$inject=["modeling"];M2.prototype.execute=function(e){var t=e.shape,r=t.children;e.oldChildrenVisibility=LF(r),t.collapsed=!t.collapsed;var n=DF(r,t.collapsed);return[t].concat(n)};M2.prototype.revert=function(e){var t=e.shape,r=e.oldChildrenVisibility,n=t.children,i=BF(n,r);return t.collapsed=!t.collapsed,[t].concat(i)};function LF(e){var t={};return Ce(e,function(r){t[r.id]=r.hidden,r.children&&(t=Ie({},t,LF(r.children)))}),t}function DF(e,t){var r=[];return Ce(e,function(n){n.hidden=t,r=r.concat(n),n.children&&(r=r.concat(DF(n.children,n.collapsed||t)))}),r}function BF(e,t){var r=[];return Ce(e,function(n){n.hidden=t[n.id],r=r.concat(n),n.children&&(r=r.concat(BF(n.children,t)))}),r}function L2(e){this._modeling=e}L2.$inject=["modeling"];L2.prototype.execute=function(e){var t=e.shape,r=e.newHost,n=t.host;return e.oldHost=n,e.attacherIdx=FF(n,t),zF(r,t),t.host=r,t};L2.prototype.revert=function(e){var t=e.shape,r=e.newHost,n=e.oldHost,i=e.attacherIdx;return t.host=n,FF(r,t),zF(n,t,i),t};function FF(e,t){return Zn(e&&e.attachers,t)}function zF(e,t,r){if(e){var n=e.attachers;n||(e.attachers=n=[]),hi(n,t,r)}}function lE(){}lE.prototype.execute=function(e){var t=e.connection,r=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=r,t};lE.prototype.revert=function(e){var t=e.connection,r=e.oldWaypoints;return t.waypoints=r,t};function en(e,t,r){this._eventBus=e,this._elementFactory=t,this._commandStack=r;var n=this;e.on("diagram.init",function(){n.registerHandlers(r)})}en.$inject=["eventBus","elementFactory","commandStack"];en.prototype.getHandlers=function(){return{"shape.append":T2,"shape.create":Hu,"shape.delete":Tg,"shape.move":xh,"shape.resize":Og,"shape.replace":gc,"shape.toggleCollapse":M2,spaceTool:Wu,"label.create":Cg,"connection.create":R2,"connection.delete":jg,"connection.move":aE,"connection.layout":O2,"connection.updateWaypoints":lE,"connection.reconnect":Pg,"elements.create":iE,"elements.move":I2,"elements.delete":sE,"elements.distribute":P2,"elements.align":j2,"element.updateAttachment":L2}};en.prototype.registerHandlers=function(e){Ce(this.getHandlers(),function(t,r){e.registerHandler(r,t)})};en.prototype.moveShape=function(e,t,r,n,i){typeof n=="object"&&(i=n,n=null);var s={shape:e,delta:t,newParent:r,newParentIndex:n,hints:i||{}};this._commandStack.execute("shape.move",s)};en.prototype.updateAttachment=function(e,t){var r={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",r)};en.prototype.moveElements=function(e,t,r,n){n=n||{};var i=n.attach,s=r,o;i===!0?(o=r,s=r.parent):i===!1&&(o=null);var a={shapes:e,delta:t,newParent:s,newHost:o,hints:n};this._commandStack.execute("elements.move",a)};en.prototype.moveConnection=function(e,t,r,n,i){typeof n=="object"&&(i=n,n=void 0);var s={connection:e,delta:t,newParent:r,newParentIndex:n,hints:i||{}};this._commandStack.execute("connection.move",s)};en.prototype.layoutConnection=function(e,t){var r={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",r)};en.prototype.createConnection=function(e,t,r,n,i,s){typeof r=="object"&&(s=i,i=n,n=r,r=void 0),n=this._create("connection",n);var o={source:e,target:t,parent:i,parentIndex:r,connection:n,hints:s};return this._commandStack.execute("connection.create",o),o.connection};en.prototype.createShape=function(e,t,r,n,i){typeof n!="number"&&(i=n,n=void 0),i=i||{};var s=i.attach,o,a;e=this._create("shape",e),s?(o=r.parent,a=r):o=r;var l={position:t,shape:e,parent:o,parentIndex:n,host:a,hints:i};return this._commandStack.execute("shape.create",l),l.shape};en.prototype.createElements=function(e,t,r,n,i){Qt(e)||(e=[e]),typeof n!="number"&&(i=n,n=void 0),i=i||{};var s={position:t,elements:e,parent:r,parentIndex:n,hints:i};return this._commandStack.execute("elements.create",s),s.elements};en.prototype.createLabel=function(e,t,r,n){r=this._create("label",r);var i={labelTarget:e,position:t,parent:n||e.parent,shape:r};return this._commandStack.execute("label.create",i),i.shape};en.prototype.appendShape=function(e,t,r,n,i){i=i||{},t=this._create("shape",t);var s={source:e,position:r,target:n,shape:t,connection:i.connection,connectionParent:i.connectionParent,hints:i};return this._commandStack.execute("shape.append",s),s.shape};en.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)};en.prototype.distributeElements=function(e,t,r){var n={groups:e,axis:t,dimension:r};this._commandStack.execute("elements.distribute",n)};en.prototype.removeShape=function(e,t){var r={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",r)};en.prototype.removeConnection=function(e,t){var r={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",r)};en.prototype.replaceShape=function(e,t,r){var n={oldShape:e,newData:t,hints:r||{}};return this._commandStack.execute("shape.replace",n),n.newShape};en.prototype.alignElements=function(e,t){var r={elements:e,alignment:t};this._commandStack.execute("elements.align",r)};en.prototype.resizeShape=function(e,t,r,n){var i={shape:e,newBounds:t,minBounds:r,hints:n};this._commandStack.execute("shape.resize",i)};en.prototype.createSpace=function(e,t,r,n,i){var s={delta:r,direction:n,movingShapes:e,resizingShapes:t,start:i};this._commandStack.execute("spaceTool",s)};en.prototype.updateWaypoints=function(e,t,r){var n={connection:e,newWaypoints:t,hints:r||{}};this._commandStack.execute("connection.updateWaypoints",n)};en.prototype.reconnect=function(e,t,r,n,i){var s={connection:e,newSource:t,newTarget:r,dockingOrPoints:n,hints:i||{}};this._commandStack.execute("connection.reconnect",s)};en.prototype.reconnectStart=function(e,t,r,n){n||(n={}),this.reconnect(e,t,e.target,r,Ie(n,{docking:"source"}))};en.prototype.reconnectEnd=function(e,t,r,n){n||(n={}),this.reconnect(e,e.source,t,r,Ie(n,{docking:"target"}))};en.prototype.connect=function(e,t,r,n){return this.createConnection(e,t,r||{},e.parent,n)};en.prototype._create=function(e,t){return xee(t)?t:this._elementFactory.create(e,t)};en.prototype.toggleCollapse=function(e,t){var r={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",r)};function Ig(e){this._elementRegistry=e}Ig.$inject=["elementRegistry"];Ig.prototype.execute=function(e){var t=e.element,r=e.moddleElement,n=e.properties;if(!r)throw new Error("<moddleElement> required");var i=e.changed||this._getVisualReferences(r).concat(t),s=e.oldProperties||ble(r,Yy(n));return UF(r,n),e.oldProperties=s,e.changed=i,i};Ig.prototype.revert=function(e){var t=e.oldProperties,r=e.moddleElement,n=e.changed;return UF(r,t),n};Ig.prototype._getVisualReferences=function(e){var t=this._elementRegistry;return he(e,"bpmn:DataObject")?xle(e,t):[]};function ble(e,t){return Qs(t,function(r,n){return r[n]=e.get(n),r},{})}function UF(e,t){Ce(t,function(r,n){e.set(n,r)})}function xle(e,t){return t.filter(function(r){return he(r,"bpmn:DataObjectReference")&&ht(r).dataObjectRef===e})}var Sm="default",rc="id",$F="di",wle={width:0,height:0};function Mg(e,t,r,n){this._elementRegistry=e,this._moddle=t,this._modeling=r,this._textRenderer=n}Mg.$inject=["elementRegistry","moddle","modeling","textRenderer"];Mg.prototype.execute=function(e){var t=e.element,r=[t];if(!t)throw new Error("element required");var n=this._elementRegistry,i=this._moddle.ids,s=t.businessObject,o=Nle(e.properties),a=e.oldProperties||_le(t,o);return HF(o,s)&&(i.unclaim(s[rc]),n.updateId(t,o[rc]),i.claim(o[rc],s)),Sm in o&&(o[Sm]&&r.push(n.get(o[Sm].id)),s[Sm]&&r.push(n.get(s[Sm].id))),WF(t,o),e.oldProperties=a,e.changed=r,r};Mg.prototype.postExecute=function(e){var t=e.element,r=t.label,n=r&&ht(r).name;if(n){var i=this._textRenderer.getExternalLabelBounds(r,n);this._modeling.resizeShape(r,i,wle)}};Mg.prototype.revert=function(e){var t=e.element,r=e.properties,n=e.oldProperties,i=t.businessObject,s=this._elementRegistry,o=this._moddle.ids;return WF(t,n),HF(r,i)&&(o.unclaim(r[rc]),s.updateId(t,n[rc]),o.claim(n[rc],i)),e.changed};function HF(e,t){return rc in e&&e[rc]!==t[rc]}function _le(e,t){var r=Yy(t),n=e.businessObject,i=Or(e);return Qs(r,function(s,o){return o!==$F?s[o]=n.get(o):s[o]=Sle(i,Yy(t.di)),s},{})}function Sle(e,t){return Qs(t,function(r,n){return r[n]=e&&e.get(n),r},{})}function WF(e,t){var r=e.businessObject,n=Or(e);Ce(t,function(i,s){s!==$F?r.set(s,i):n&&Ele(n,i)})}function Ele(e,t){Ce(t,function(r,n){e.set(n,r)})}var kle=["default"];function Nle(e){var t=Ie({},e);return kle.forEach(function(r){r in e&&(t[r]=ht(t[r]))}),t}function D2(e,t){this._canvas=e,this._modeling=t}D2.$inject=["canvas","modeling"];D2.prototype.execute=function(e){var t=this._canvas,r=e.newRoot,n=r.businessObject,i=t.getRootElement(),s=i.businessObject,o=s.$parent,a=Or(i);return t.setRootElement(r),t.removeRootElement(i),hi(o.rootElements,n),n.$parent=o,Zn(o.rootElements,s),s.$parent=null,i.di=null,a.bpmnElement=n,r.di=a,e.oldRoot=i,[]};D2.prototype.revert=function(e){var t=this._canvas,r=e.newRoot,n=r.businessObject,i=e.oldRoot,s=i.businessObject,o=n.$parent,a=Or(r);return t.setRootElement(i),t.removeRootElement(r),Zn(o.rootElements,n),n.$parent=null,hi(o.rootElements,s),s.$parent=o,r.di=null,a.bpmnElement=s,i.di=a,[]};function cE(e,t){this._modeling=e,this._spaceTool=t}cE.$inject=["modeling","spaceTool"];cE.prototype.preExecute=function(e){var t=this._spaceTool,r=this._modeling,n=e.shape,i=e.location,s=za(n),o=s===n,a=o?n:n.parent,l=zu(a),c=bi(n);if(c?i==="left"?i="top":i==="right"&&(i="bottom"):i==="top"?i="left":i==="bottom"&&(i="right"),!l.length){var u=c?{x:n.x+Da,y:n.y,width:n.width-Da,height:n.height}:{x:n.x,y:n.y+Da,width:n.width,height:n.height-Da};r.createShape({type:"bpmn:Lane",isHorizontal:c},u,a)}var h=[];mh(s,function(w){return h.push(w),w.label&&h.push(w.label),w===n?[]:mr(w.children,function(_){return _!==n})});var f,d,p,g,m;i==="top"?(f=-120,d=n.y,p=d+10,g="n",m="y"):i==="left"?(f=-120,d=n.x,p=d+10,g="w",m="x"):i==="bottom"?(f=120,d=n.y+n.height,p=d-10,g="s",m="y"):i==="right"&&(f=120,d=n.x+n.width,p=d-10,g="e",m="x");var v=t.calculateAdjustments(h,m,f,p),y=c?{x:0,y:f}:{x:f,y:0};t.makeSpace(v.movingShapes,v.resizingShapes,y,g,p);var x=c?{x:n.x+(o?Da:0),y:d-(i==="top"?120:0),width:n.width-(o?Da:0),height:120}:{x:d-(i==="left"?120:0),y:n.y+(o?Da:0),width:120,height:n.height-(o?Da:0)};e.newLane=r.createShape({type:"bpmn:Lane",isHorizontal:c},x,a)};function uE(e){this._modeling=e}uE.$inject=["modeling"];uE.prototype.preExecute=function(e){var t=this._modeling,r=e.shape,n=e.count,i=zu(r),s=i.length;if(s>n)throw new Error(`more than <${n}> child lanes`);var o=bi(r),a=o?r.height:r.width,l=Math.round(a/n),c,u,h,f;for(f=0;f<n;f++)f===n-1?c=a-l*f:c=l,u=o?{x:r.x+Da,y:r.y+f*l,width:r.width-Da,height:c}:{x:r.x+f*l,y:r.y+Da,width:c,height:r.height-Da},f<s?t.resizeShape(i[f],u):(h={type:"bpmn:Lane",isHorizontal:o},t.createShape(h,u,r))};function Lg(e,t){this._modeling=e,this._spaceTool=t}Lg.$inject=["modeling","spaceTool"];Lg.prototype.preExecute=function(e){var t=e.shape,r=e.newBounds,n=e.balanced;n!==!1?this.resizeBalanced(t,r):this.resizeSpace(t,r)};Lg.prototype.resizeBalanced=function(e,t){var r=this._modeling,n=eae(e,t);r.resizeShape(e,t),n.forEach(function(i){r.resizeShape(i.shape,i.newBounds)})};Lg.prototype.resizeSpace=function(e,t){var r=this._spaceTool,n=Ht(e),i=Ht(t),s=WB(i,n),o=za(e),a=[],l=[];mh(o,function(p){return a.push(p),(he(p,"bpmn:Lane")||he(p,"bpmn:Participant"))&&l.push(p),p.children});var c,u,h,f,d;(s.bottom||s.top)&&(c=s.bottom||s.top,u=e.y+(s.bottom?e.height:0)+(s.bottom?-10:10),h=s.bottom?"s":"n",f=s.top>0||s.bottom<0?-c:c,d=r.calculateAdjustments(a,"y",f,u),r.makeSpace(d.movingShapes,d.resizingShapes,{x:0,y:c},h)),(s.left||s.right)&&(c=s.right||s.left,u=e.x+(s.right?e.width:0)+(s.right?-10:100),h=s.right?"e":"w",f=s.left>0||s.right<0?-c:c,d=r.calculateAdjustments(l,"x",f,u),r.makeSpace(d.movingShapes,d.resizingShapes,{x:c,y:0},h))};var Q0="flowNodeRef",dE="lanes";function Dg(e){this._elementRegistry=e}Dg.$inject=["elementRegistry"];Dg.prototype._computeUpdates=function(e,t){var r=[],n=[],i={},s=[];function o(u,h){var f=Ht(h),d={x:u.x+u.width/2,y:u.y+u.height/2};return d.x>f.left&&d.x<f.right&&d.y>f.top&&d.y<f.bottom}function a(u){r.indexOf(u)===-1&&(s.push(u),r.push(u))}function l(u){var h=za(u);return i[h.id]||(i[h.id]=y2(h)),i[h.id]}function c(u){if(!u.parent)return[];var h=l(u);return h.filter(function(f){return o(u,f)}).map(function(f){return f.businessObject})}return t.forEach(function(u){var h=za(u);if(!(!h||r.indexOf(h)!==-1)){var f=h.children.filter(function(d){return he(d,"bpmn:FlowNode")});f.forEach(a),r.push(h)}}),e.forEach(a),s.forEach(function(u){var h=u.businessObject,f=h.get(dE),d=f.slice(),p=c(u);n.push({flowNode:h,remove:d,add:p})}),t.forEach(function(u){var h=u.businessObject;u.parent||h.get(Q0).forEach(function(f){n.push({flowNode:f,remove:[h],add:[]})})}),n};Dg.prototype.execute=function(e){var t=e.updates;return t||(t=e.updates=this._computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach(function(r){var n=r.flowNode,i=n.get(dE);r.remove.forEach(function(s){Zn(i,s),Zn(s.get(Q0),n)}),r.add.forEach(function(s){hi(i,s),hi(s.get(Q0),n)})}),[]};Dg.prototype.revert=function(e){var t=e.updates;return t.forEach(function(r){var n=r.flowNode,i=n.get(dE);r.add.forEach(function(s){Zn(i,s),Zn(s.get(Q0),n)}),r.remove.forEach(function(s){hi(i,s),hi(s.get(Q0),n)})}),[]};function B2(e){this._moddle=e}B2.$inject=["moddle"];B2.prototype.execute=function(e){var t=this._moddle.ids,r=e.id,n=e.element,i=e.claiming;return i?t.claim(r,n):t.unclaim(r),[]};B2.prototype.revert=function(e){var t=this._moddle.ids,r=e.id,n=e.element,i=e.claiming;return i?t.unclaim(r):t.claim(r,n),[]};var Ale={fill:void 0,stroke:void 0};function hE(e){this._commandStack=e,this._normalizeColor=function(t){if(t){if(Js(t)){var r=Cle(t);if(r)return r}throw new Error(`invalid color value: ${t}`)}}}hE.$inject=["commandStack"];hE.prototype.postExecute=function(e){var t=e.elements,r=e.colors||Ale,n=this,i={};"fill"in r&&Ie(i,{"background-color":this._normalizeColor(r.fill)}),"stroke"in r&&Ie(i,{"border-color":this._normalizeColor(r.stroke)}),Ce(t,function(s){var o=Qr(s)?No(i,["border-color"]):i,a=Or(s);if(jle(o),Ir(s))n._commandStack.execute("element.updateModdleProperties",{element:s,moddleElement:a.label,properties:{color:i["border-color"]}});else{if(!gr(a,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;n._commandStack.execute("element.updateProperties",{element:s,properties:{di:o}})}})};function Cle(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}function jle(e){"border-color"in e&&(e.stroke=e["border-color"]),"background-color"in e&&(e.fill=e["background-color"])}var Tle={width:0,height:0};function qF(e,t,r){function n(l,c){var u=l.label||l,h=l.labelTarget||l;return xre(u,c),[u,h]}function i(l){var c=l.element,u=c.businessObject,h=l.newLabel;if(!Ir(c)&&ah(c)&&!t2(c)&&!Fj(h)){var f=7,d=G8(c);d={x:d.x,y:d.y+f},e.createLabel(c,d,{id:u.id+"_label",businessObject:u,di:c.di})}}function s(l){return l.oldLabel=Ao(l.element),n(l.element,l.newLabel)}function o(l){return n(l.element,l.oldLabel)}function a(l){var c=l.element,u=c.label||c,h=l.newLabel,f=l.newBounds,d=l.hints||{};if(!(!Ir(u)&&!he(u,"bpmn:TextAnnotation"))){if(Ir(u)&&Fj(h)){d.removeShape!==!1&&e.removeShape(u,{unsetLabel:!1});return}var p=Ao(c);typeof f>"u"&&(f=t.getExternalLabelBounds(u,p)),f&&e.resizeShape(u,f,Tle)}}this.preExecute=i,this.execute=s,this.revert=o,this.postExecute=a}qF.$inject=["modeling","textRenderer","bpmnFactory"];function Fj(e){return!e||!e.trim()}function ls(e,t,r,n){en.call(this,e,t,r),this._bpmnRules=n}Ct(ls,en);ls.$inject=["eventBus","elementFactory","commandStack","bpmnRules"];ls.prototype.getHandlers=function(){var e=en.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=Ig,e["element.updateProperties"]=Mg,e["canvas.updateRoot"]=D2,e["lane.add"]=cE,e["lane.resize"]=Lg,e["lane.split"]=uE,e["lane.updateRefs"]=Dg,e["id.updateClaim"]=B2,e["element.setColor"]=hE,e["element.updateLabel"]=qF,e};ls.prototype.updateLabel=function(e,t,r,n){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:r,hints:n||{}})};ls.prototype.connect=function(e,t,r,n){var i=this._bpmnRules;if(r||(r=i.canConnect(e,t)),!!r)return this.createConnection(e,t,r,e.parent,n)};ls.prototype.updateModdleProperties=function(e,t,r){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:r})};ls.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})};ls.prototype.resizeLane=function(e,t,r){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:r})};ls.prototype.addLane=function(e,t){var r={shape:e,location:t};return this._commandStack.execute("lane.add",r),r.newLane};ls.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})};ls.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};ls.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};ls.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})};ls.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})};ls.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})};ls.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})};function VF(){}VF.prototype.layoutConnection=function(e,t){return t=t||{},[t.connectionStart||Jt(t.source||e.source),t.connectionEnd||Jt(t.target||e.target)]};var wv=20,Rle=5,fb=Math.round,zj=20,Ple={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function Ole(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}function Ile(e,t){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[e].test(t)}function GF(e,t,r){var n=os(t,e,Rle),i=r.split(":")[0],s=fb((t.x-e.x)/2+e.x),o=fb((t.y-e.y)/2+e.y),a,l,c=Ile(i,n),u=/h|r|l/.test(i),h=!1,f=!1;return c?(a=u?{x:s,y:e.y}:{x:e.x,y:o},l=u?"h:h":"v:v"):(h=Ole(n,i),l=u?"h:v":"v:h",h?u?(f=o===e.y,a={x:e.x+wv*(/l/.test(i)?-1:1),y:f?o+wv:o}):(f=s===e.x,a={x:f?s+wv:s,y:e.y+wv*(/t/.test(i)?-1:1)}):a={x:s,y:o}),{waypoints:fE(e,a,l).concat(a),directions:l,turnNextDirections:f}}function Mle(e,t,r){return GF(e,t,r)}function Lle(e,t,r){var n=GF(t,e,Uj(r));return{waypoints:n.waypoints.slice().reverse(),directions:Uj(n.directions),turnNextDirections:n.turnNextDirections}}function Dle(e,t){var r=e.directions.split(":")[1],n=t.directions.split(":")[0];e.turnNextDirections&&(r=r=="h"?"v":"h"),t.turnNextDirections&&(n=n=="h"?"v":"h");var i=r+":"+n,s=fE(e.waypoints[e.waypoints.length-1],t.waypoints[0],i);return{waypoints:s,directions:i}}function Uj(e){return e.split(":").reverse().join(":")}function Ble(e,t,r){var n=fb((t.x-e.x)/2+e.x),i=fb((t.y-e.y)/2+e.y);if(r==="h:v")return[{x:t.x,y:e.y}];if(r==="v:h")return[{x:e.x,y:t.y}];if(r==="h:h")return[{x:n,y:e.y},{x:n,y:t.y}];if(r==="v:v")return[{x:e.x,y:i},{x:t.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function fE(e,t,r){if(r=r||"h:h",!Gle(r))throw new Error("unknown directions: <"+r+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(KF(r)){var n=Mle(e,t,r),i=Lle(e,t,r),s=Dle(n,i);return[].concat(n.waypoints,s.waypoints,i.waypoints)}return Ble(e,t,r)}function Fle(e,t,r){var n=fE(e,t,r);return n.unshift(e),n.push(t),XF(n)}function zle(e,t,r,n,i){var s=i&&i.preferredLayouts||[],o=XJ(s,"straight")[0]||"h:h",a=Ple[o]||0,l=os(e,t,a),c=Vle(l,o);r=r||Jt(e),n=n||Jt(t);var u=c.split(":"),h=Hj(r,e,u[0],Kle(l)),f=Hj(n,t,u[1],l);return Fle(h,f,c)}function Ule(e,t,r,n,i,s){Qt(r)&&(i=r,s=n,r=Jt(e),n=Jt(t)),s=Ie({preferredLayouts:[]},s),i=i||[];var o=s.preferredLayouts,a=o.indexOf("straight")!==-1,l;return l=a&&Hle(e,t,r,n,s),l||(l=s.connectionEnd&&qle(t,e,n,i),l)||(l=s.connectionStart&&Wle(e,t,r,i),l)?l:!s.connectionStart&&!s.connectionEnd&&i&&i.length?i:zle(e,t,r,n,s)}function $le(e,t,r){return e>=t&&e<=r}function $j(e,t,r){var n={x:"width",y:"height"};return $le(t[e],r[e],r[e]+r[n[e]])}function Hle(e,t,r,n,i){var s={},o,a;return a=os(e,t),/^(top|bottom|left|right)$/.test(a)?(/top|bottom/.test(a)&&(o="x"),/left|right/.test(a)&&(o="y"),i.preserveDocking==="target"?$j(o,n,e)?(s[o]=n[o],[{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y,original:{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y}},{x:n.x,y:n.y}]):null:$j(o,r,t)?(s[o]=r[o],[{x:r.x,y:r.y},{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y,original:{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y}}]):null):null}function Wle(e,t,r,n){return pE(e,t,r,n)}function qle(e,t,r,n){var i=n.slice().reverse();return i=pE(e,t,r,i),i?i.reverse():null}function pE(e,t,r,n){function i(u){return u.length<3?!0:u.length>4?!1:!!Lr(u,function(h,f){var d=u[f-1];return d&&mg(h,d)<3})}function s(u,h,f){var d=Xl(h,u);switch(d){case"v":return{x:f.x,y:u.y};case"h":return{x:u.x,y:f.y}}return{x:u.x,y:u.y}}function o(u,h,f){var d;for(d=u.length-2;d!==0;d--)if(LA(u[d],h,zj)||LA(u[d],f,zj))return u.slice(d);return u}if(i(n))return null;var a=n[0],l=n.slice(),c;return l[0]=r,l[1]=s(l[1],a,r),c=o(l,e,t),c!==l&&(l=pE(e,t,r,c)),l&&Xl(l)?null:l}function Vle(e,t){if(KF(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}function Gle(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}function KF(e){return e&&/t|r|b|l/.test(e)}function Kle(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}function Hj(e,t,r,n){if(r==="h"&&(r=/left/.test(n)?"l":"r"),r==="v"&&(r=/top/.test(n)?"t":"b"),r==="t")return{original:e,x:e.x,y:t.y};if(r==="r")return{original:e,x:t.x+t.width,y:e.y};if(r==="b")return{original:e,x:e.x,y:t.y+t.height};if(r==="l")return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+r+">")}function XF(e){return e.reduce(function(t,r,n){var i=t[t.length-1],s=e[n+1];return L8(i,s,r,0)||t.push(r),t},[])}var Xle=-10,Zle=40,Yle={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},Jle={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},mE={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Dm={top:"t",right:"r",bottom:"b",left:"l"};function F2(e){this._elementRegistry=e}Ct(F2,VF);F2.prototype.layoutConnection=function(e,t){t||(t={});var r=t.source||e.source,n=t.target||e.target,i=t.waypoints||e.waypoints,s=t.connectionStart,o=t.connectionEnd,a=this._elementRegistry,l,c;if(s||(s=Wj(i&&i[0],r)),o||(o=Wj(i&&i[i.length-1],n)),(he(e,"bpmn:Association")||he(e,"bpmn:DataAssociation"))&&i&&!qj(r,n))return[].concat([s],i.slice(1,-1),[o]);var u=xB(r,a)?Yle:Jle;return he(e,"bpmn:MessageFlow")?l=ece(r,n,u):(he(e,"bpmn:SequenceFlow")||qj(r,n))&&(r===n?l={preferredLayouts:ace(r,e,u)}:he(r,"bpmn:BoundaryEvent")?l={preferredLayouts:oce(r,n,o,u)}:eg(r)||eg(n)?l={preferredLayouts:u.subProcess,preserveDocking:rce(r)}:he(r,"bpmn:Gateway")?l={preferredLayouts:u.fromGateway}:he(n,"bpmn:Gateway")?l={preferredLayouts:u.toGateway}:l={preferredLayouts:u.default}),l&&(l=Ie(l,t),c=XF(Ule(r,n,s,o,i,l))),c||[s,o]};function Qle(e){var t=e.host;return os(Jt(e),t,Xle)}function ece(e,t,r){return{preferredLayouts:r.messageFlow,preserveDocking:tce(e,t)}}function tce(e,t){return he(t,"bpmn:Participant")?"source":he(e,"bpmn:Participant")?"target":eg(t)?"source":eg(e)||he(t,"bpmn:Event")?"target":he(e,"bpmn:Event")?"source":null}function rce(e){return eg(e)?"target":"source"}function Wj(e,t){return e?e.original||e:Jt(t)}function qj(e,t){return he(t,"bpmn:Activity")&&he(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function eg(e){return he(e,"bpmn:SubProcess")&&Er(e)}function Fd(e,t){return e===t}function nce(e,t){return t.indexOf(e)!==-1}function ep(e){var t=/right|left/.exec(e);return t&&t[0]}function tp(e){var t=/top|bottom/.exec(e);return t&&t[0]}function Vj(e,t){return mE[e]===t}function ice(e,t){var r=ep(e),n=mE[r];return t.indexOf(n)!==-1}function sce(e,t){var r=tp(e),n=mE[r];return t.indexOf(n)!==-1}function ZF(e){return e==="right"||e==="left"}function ace(e,t,r){var n=t.waypoints,i=n&&n.length&&os(n[0],e);return i==="top"?r.loop.fromTop:i==="right"?r.loop.fromRight:i==="left"?r.loop.fromLeft:r.loop.fromBottom}function oce(e,t,r,n){var i=Jt(e),s=Jt(t),o=Qle(e),a,l,c=Fd(e.host,t),u=nce(o,["top","right","bottom","left"]),h=os(s,i,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return c?lce(o,u,e,t,r,n):(a=cce(o,h,u,n.isHorizontal),l=uce(o,h,u,n.isHorizontal),[a+":"+l])}function lce(e,t,r,n,i,s){var o=t?e:s.isHorizontal?tp(e):ep(e),a=Dm[o],l;return t?ZF(e)?l=Gj("y",r,n,i)?"h":s.boundaryLoop.alternateHorizontalSide:l=Gj("x",r,n,i)?"v":s.boundaryLoop.alternateVerticalSide:l=s.boundaryLoop.default,[a+":"+l]}function Gj(e,t,r,n){var i=Zle;return!(Jw(e,n,r,i)||Jw(e,n,{x:r.x+r.width,y:r.y+r.height},i)||Jw(e,n,Jt(t),i))}function Jw(e,t,r,n){return Math.abs(t[e]-r[e])<n}function cce(e,t,r,n){if(r)return Dm[e];var i=tp(e),s=ep(e),o=tp(t),a=ep(t);if(n){if(Fd(i,o)||Vj(s,a))return Dm[i]}else if(Fd(s,a)||Vj(i,o))return Dm[s];return Dm[n?s:i]}function uce(e,t,r,n){return r?ZF(e)?ice(e,t)||Fd(e,t)?"h":"v":sce(e,t)||Fd(e,t)?"v":"h":n?Fd(tp(e),tp(t))?"h":"v":Fd(ep(e),ep(t))?"v":"h"}F2.$inject=["elementRegistry"];function Kj(e){return Ie({original:e.point.original||e.point},e.actual)}function qu(e,t){this._elementRegistry=e,this._graphicsFactory=t}qu.$inject=["elementRegistry","graphicsFactory"];qu.prototype.getCroppedWaypoints=function(e,t,r){t=t||e.source,r=r||e.target;var n=this.getDockingPoint(e,t,!0),i=this.getDockingPoint(e,r),s=e.waypoints.slice(n.idx+1,i.idx);return s.unshift(Kj(n)),s.push(Kj(i)),s};qu.prototype.getDockingPoint=function(e,t,r){var n=e.waypoints,i,s,o;return i=r?0:n.length-1,s=n[i],o=this._getIntersection(t,e,r),{point:s,actual:o||s,idx:i}};qu.prototype._getIntersection=function(e,t,r){var n=this._getShapePath(e),i=this._getConnectionPath(t);return C4(n,i,r)};qu.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)};qu.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)};qu.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};const YF={__init__:["modeling","bpmnUpdater"],__depends__:[soe,Soe,koe,Noe,RF,ele,rle,lle,To,K8,IF],bpmnFactory:["type",Qa],bpmnUpdater:["type",na],elementFactory:["type",$u],modeling:["type",ls],layouter:["type",F2],connectionDocking:["type",qu]},Xj=Math.round;function z2(e,t,r,n,i,s){this._complexPreview=e,this._connectionDocking=t,this._elementFactory=r,this._eventBus=n,this._layouter=i,this._rules=s}z2.prototype.create=function(e,t,r){const n=this._complexPreview,i=this._connectionDocking,s=this._elementFactory,o=this._eventBus,a=this._layouter,l=this._rules,c=s.createShape(Ie({type:t},r)),u=o.fire("autoPlace",{source:e,shape:c});if(!u)return;Ie(c,{x:u.x-Xj(c.width/2),y:u.y-Xj(c.height/2)});const h=l.allowed("connection.create",{source:e,target:c,hints:{targetParent:e.parent}});let f=null;h&&(f=s.createConnection(h),f.waypoints=a.layoutConnection(f,{source:e,target:c}),f.waypoints=i.getCroppedWaypoints(f,e,c)),n.create({created:[c,f].filter(d=>!q0(d))})};z2.prototype.cleanUp=function(){this._complexPreview.cleanUp()};z2.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const dce={__depends__:[oS,Ise,YF],__init__:["appendPreview"],appendPreview:["type",z2]};var Zj=Math.min,Yj=Math.max;function Qw(e){e.preventDefault()}function u0(e){e.stopPropagation()}function hce(e){return e.nodeType===Node.TEXT_NODE}function fce(e){return[].slice.call(e)}function Po(e){this.container=e.container,this.parent=dn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Jr("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Rs(this.autoResize,this),this.handlePaste=Rs(this.handlePaste,this)}Po.prototype.create=function(e,t,r,n){var i=this,s=this.parent,o=this.content,a=this.container;n=this.options=n||{},t=this.style=t||{};var l=No(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Ie(s.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var c=No(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Ie(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),n.centerVertically&&Ie(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=r,sr.bind(o,"keydown",this.keyHandler),sr.bind(o,"mousedown",u0),sr.bind(o,"paste",i.handlePaste),n.autoResize&&sr.bind(o,"input",this.autoResize),n.resizable&&this.resizable(t),a.appendChild(s),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),s};Po.prototype.handlePaste=function(e){var t=this.options,r=this.style;e.preventDefault();var n;if(e.clipboardData?n=e.clipboardData.getData("text/plain"):n=window.clipboardData.getData("Text"),this.insertText(n),t.autoResize){var i=this.autoResize(r);i&&this.resizeHandler(i)}};Po.prototype.insertText=function(e){e=pce(e);var t=document.execCommand("insertText",!1,e);t||this._insertTextIE(e)};Po.prototype._insertTextIE=function(e){var t=this.getSelection(),r=t.startContainer,n=t.endContainer,i=t.startOffset,s=t.endOffset,o=t.commonAncestorContainer,a=fce(o.childNodes),l,c;if(hce(o)){var u=r.textContent;r.textContent=u.substring(0,i)+e+u.substring(s),l=r,c=i+e.length}else if(r===this.content&&n===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,a[i]),l=h,c=h.textContent.length}else{var f=a.indexOf(r),d=a.indexOf(n);a.forEach(function(p,g){g===f?p.textContent=r.textContent.substring(0,i)+e+n.textContent.substring(s):g>f&&g<=d&&dl(p)}),l=r,c=i+e.length}l&&c!==void 0&&setTimeout(function(){self.setSelection(l,c)})};Po.prototype.autoResize=function(){var e=this.parent,t=this.content,r=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-r){var n=e.getBoundingClientRect(),i=t.scrollHeight;e.style.height=i+"px",this.resizeHandler({width:n.width,height:n.height,dx:0,dy:i-n.height})}};Po.prototype.resizable=function(){var e=this,t=this.parent,r=this.resizeHandle,n=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,s=parseInt(this.style.maxWidth)||1/0,o=parseInt(this.style.maxHeight)||1/0;if(!r){r=this.resizeHandle=dn('<div class="djs-direct-editing-resize-handle"></div>');var a,l,c,u,h=function(p){Qw(p),u0(p),a=p.clientX,l=p.clientY;var g=t.getBoundingClientRect();c=g.width,u=g.height,sr.bind(document,"mousemove",f),sr.bind(document,"mouseup",d)},f=function(p){Qw(p),u0(p);var g=Zj(Yj(c+p.clientX-a,n),s),m=Zj(Yj(u+p.clientY-l,i),o);t.style.width=g+"px",t.style.height=m+"px",e.resizeHandler({width:c,height:u,dx:p.clientX-a,dy:p.clientY-l})},d=function(p){Qw(p),u0(p),sr.unbind(document,"mousemove",f,!1),sr.unbind(document,"mouseup",d,!1)};sr.bind(r,"mousedown",h)}Ie(r.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(r)};Po.prototype.destroy=function(){var e=this.parent,t=this.content,r=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),sr.unbind(t,"keydown",this.keyHandler),sr.unbind(t,"mousedown",u0),sr.unbind(t,"input",this.autoResize),sr.unbind(t,"paste",this.handlePaste),r&&(r.removeAttribute("style"),dl(r)),dl(e)};Po.prototype.getValue=function(){return this.content.innerText.trim()};Po.prototype.getSelection=function(){var e=window.getSelection(),t=e.getRangeAt(0);return t};Po.prototype.setSelection=function(e,t){var r=document.createRange();e===null?r.selectNodeContents(this.content):(r.setStart(e,t),r.setEnd(e,t));var n=window.getSelection();n.removeAllRanges(),n.addRange(r)};function pce(e){return e.replace(/\r\n|\r|\n/g,`
`)}function eo(e,t){this._eventBus=e,this._canvas=t,this._providers=[],this._textbox=new Po({container:t.getContainer(),keyHandler:Rs(this._handleKey,this),resizeHandler:Rs(this._handleResize,this)})}eo.$inject=["eventBus","canvas"];eo.prototype.registerProvider=function(e){this._providers.push(e)};eo.prototype.isActive=function(e){return!!(this._active&&(!e||this._active.element===e))};eo.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};eo.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})};eo.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()};eo.prototype.complete=function(){var e=this._active;if(e){var t,r=e.context.bounds,n=this.$textbox.getBoundingClientRect(),i=this.getValue(),s=e.context.text;(i!==s||n.height!==r.height||n.width!==r.width)&&(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,i,e.context.text,{x:n.left-t.left,y:n.top-t.top,width:n.width,height:n.height})),this._fire("complete"),this.close()}};eo.prototype.getValue=function(){return this._textbox.getValue()};eo.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;if(t===27)return e.preventDefault(),this.cancel();if(t===13&&!e.shiftKey)return e.preventDefault(),this.complete()};eo.prototype._handleResize=function(e){this._fire("resize",e)};eo.prototype.activate=function(e){this.isActive()&&this.cancel();var t,r=Lr(this._providers,function(n){return(t=n.activate(e))?n:null});return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:r},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const JF={__depends__:[a2],__init__:["directEditing"],directEditing:["type",eo]};function mce(e){return function(t){var r=t.target,n=ht(e),i=n.eventDefinitions&&n.eventDefinitions[0],s=n.$type===r.type,o=(i&&i.$type)===r.eventDefinitionType,a=!!r.triggeredByEvent==!!n.triggeredByEvent,l=r.isExpanded===void 0||r.isExpanded===Er(e);return!s||!o||!a||!l}}var gce=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],vce=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],yce=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],bce=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],xce=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],wce=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],_ce=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],QF=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Sce=QF,Jj=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],Ece=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],kce=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Nce=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],Ace=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Cce=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],jce=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty pool/participant";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],Tce={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]};const Qj={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function to(e,t,r,n,i,s,o,a){this._bpmnFactory=e,this._popupMenu=t,this._modeling=r,this._moddle=n,this._bpmnReplace=i,this._rules=s,this._translate=o,this._moddleCopy=a,this._register()}to.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"];to.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)};to.prototype.getPopupMenuEntries=function(e){var a;var t=e.businessObject,r=this._rules,n=[],i,s=[];if(Qt(e)||!r.allowed("shape.replace",{element:e}))return{};var o=mce(e);return he(t,"bpmn:DataObjectReference")?this._createEntries(e,Ece):he(t,"bpmn:DataStoreReference")&&!he(e.parent,"bpmn:Collaboration")?this._createEntries(e,kce):(he(t,"bpmn:Event")&&!he(t,"bpmn:BoundaryEvent")&&(i=(a=t.get("eventDefinitions")[0])==null?void 0:a.$type,n=Tce[i]||[],!ts(t.$parent)&&he(t.$parent,"bpmn:SubProcess")&&(n=mr(n,function(l){return l.target.type!=="bpmn:StartEvent"}))),he(t,"bpmn:StartEvent")&&!he(t.$parent,"bpmn:SubProcess")?(s=mr(gce.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:Participant")?(s=mr(jce,function(l){return Er(e)!==l.target.isExpanded}),this._createEntries(e,s)):he(t,"bpmn:StartEvent")&&ts(t.$parent)?(s=mr(Ace.concat(n),function(l){var c=l.target,u=c.isInterrupting!==!1,h=t.isInterrupting===u;return o(l)||!o(l)&&!h}),this._createEntries(e,s)):he(t,"bpmn:StartEvent")&&!ts(t.$parent)&&he(t.$parent,"bpmn:SubProcess")?(s=mr(vce.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:EndEvent")?(s=mr(bce.concat(n),function(l){var c=l.target;return c.eventDefinitionType=="bpmn:CancelEventDefinition"&&!he(t.$parent,"bpmn:Transaction")?!1:o(l)}),this._createEntries(e,s)):he(t,"bpmn:BoundaryEvent")?(s=mr(Nce,function(l){var c=l.target;if(c.eventDefinitionType=="bpmn:CancelEventDefinition"&&!he(t.attachedToRef,"bpmn:Transaction"))return!1;var u=c.cancelActivity!==!1,h=t.cancelActivity==u;return o(l)||!o(l)&&!h}),this._createEntries(e,s)):he(t,"bpmn:IntermediateCatchEvent")||he(t,"bpmn:IntermediateThrowEvent")?(s=mr(yce.concat(n),o),this._createEntries(e,s)):he(t,"bpmn:Gateway")?(s=mr(xce,o),this._createEntries(e,s)):he(t,"bpmn:Transaction")?(s=mr(QF,o),this._createEntries(e,s)):ts(t)&&Er(e)?(s=mr(Sce,o),this._createEntries(e,s)):he(t,"bpmn:AdHocSubProcess")&&Er(e)?(s=mr(_ce,o),this._createEntries(e,s)):he(t,"bpmn:SubProcess")&&Er(e)?(s=mr(wce,o),this._createEntries(e,s)):he(t,"bpmn:SubProcess")&&!Er(e)?(s=mr(Jj,function(l){var c=l.target.type===e.type,u=l.target.isExpanded===!0;return c===u}),this._createEntries(e,s)):he(t,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,Cce):he(t,"bpmn:FlowNode")?(s=mr(Jj,o),this._createEntries(e,s)):{})};to.prototype.getPopupMenuHeaderEntries=function(e){var t={};return he(e,"bpmn:Activity")&&!ts(e)&&(t={...t,...this._getLoopCharacteristicsHeaderEntries(e)}),he(e,"bpmn:DataObjectReference")&&(t={...t,...this._getCollectionHeaderEntries(e)}),he(e,"bpmn:Participant")&&(t={...t,...this._getParticipantMultiplicityHeaderEntries(e)}),eF(e)&&(t={...t,...this._getNonInterruptingHeaderEntries(e)}),t};to.prototype._createEntries=function(e,t){var r={},n=this;return Ce(t,function(i){r[i.actionName]=n._createEntry(i,e)}),r};to.prototype._createSequenceFlowEntries=function(e,t){var r=ht(e),n={},i=this._modeling,s=this._moddle,o=this;return Ce(t,function(a){switch(a.actionName){case"replace-with-default-flow":r.sourceRef.default!==r&&(he(r.sourceRef,"bpmn:ExclusiveGateway")||he(r.sourceRef,"bpmn:InclusiveGateway")||he(r.sourceRef,"bpmn:ComplexGateway")||he(r.sourceRef,"bpmn:Activity"))&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e.source,{default:r})})});break;case"replace-with-conditional-flow":!r.conditionExpression&&he(r.sourceRef,"bpmn:Activity")&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){var l=s.create("bpmn:FormalExpression",{body:""});i.updateProperties(e,{conditionExpression:l})})});break;default:he(r.sourceRef,"bpmn:Activity")&&r.conditionExpression&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e,{conditionExpression:void 0})})}),(he(r.sourceRef,"bpmn:ExclusiveGateway")||he(r.sourceRef,"bpmn:InclusiveGateway")||he(r.sourceRef,"bpmn:ComplexGateway")||he(r.sourceRef,"bpmn:Activity"))&&r.sourceRef.default===r&&(n={...n,[a.actionName]:o._createEntry(a,e,function(){i.updateProperties(e.source,{default:void 0})})})}}),n};to.prototype._createEntry=function(e,t,r){var n=this._translate,i=this._bpmnReplace.replaceElement,s=function(){return i(t,e.target)},o=e.label;return o&&typeof o=="function"&&(o=o(t)),r=r||s,{label:n(o),className:e.className,action:r}};to.prototype._getLoopCharacteristicsHeaderEntries=function(e){var t=this,r=this._translate;function n(c,u){if(u.active){t._modeling.updateProperties(e,{loopCharacteristics:void 0});return}var h=e.businessObject.get("loopCharacteristics");h&&he(h,u.options.loopCharacteristics)?t._modeling.updateModdleProperties(e,h,{isSequential:u.options.isSequential}):(h=t._moddle.create(u.options.loopCharacteristics,{isSequential:u.options.isSequential}),t._modeling.updateProperties(e,{loopCharacteristics:h}))}var i=ht(e),s=i.loopCharacteristics,o,a,l;return s&&(o=s.isSequential,a=s.isSequential===void 0,l=s.isSequential!==void 0&&!s.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:r("Parallel multi-instance"),active:l,action:n,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:r("Sequential multi-instance"),active:o,action:n,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:r("Loop"),active:a,action:n,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}};to.prototype._getCollectionHeaderEntries=function(e){var t=this,r=this._translate,n=e.businessObject.dataObjectRef;if(!n)return{};function i(o,a){t._modeling.updateModdleProperties(e,n,{isCollection:!a.active})}var s=n.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:r("Collection"),active:s,action:i}}};to.prototype._getParticipantMultiplicityHeaderEntries=function(e){var t=this,r=this._bpmnFactory,n=this._translate;function i(o,a){var l=a.active,c;l||(c=r.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(e,{participantMultiplicity:c})}var s=e.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:n("Participant multiplicity"),active:!!s,action:i}}};to.prototype._getNonInterruptingHeaderEntries=function(e){const t=this._translate,r=ht(e),n=this,i=tF(e),s=he(e,"bpmn:BoundaryEvent")?Qj["intermediate-event-non-interrupting"]:Qj["start-event-non-interrupting"],o=!r[i];return{"toggle-non-interrupting":{imageHtml:s,title:t("Toggle non-interrupting"),active:o,action:function(){n._modeling.updateProperties(e,{[i]:!!o})}}}};const Rce={__depends__:[iS,RF,oS],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",to]};function Bg(e,t,r,n,i,s,o,a,l,c,u,h,f){e=e||{},n.registerProvider(this),this._contextPad=n,this._modeling=i,this._elementFactory=s,this._connect=o,this._create=a,this._popupMenu=l,this._canvas=c,this._rules=u,this._translate=h,this._eventBus=r,this._appendPreview=f,e.autoPlace!==!1&&(this._autoPlace=t.get("autoPlace",!1)),r.on("create.end",250,function(d){var p=d.context,g=p.shape;if(!(!X0(d)||!n.isOpen(g))){var m=n.getEntries(g);m.replace&&m.replace.action.click(d,g)}}),r.on("contextPad.close",function(){f.cleanUp()})}Bg.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"];Bg.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,r={};return this._isDeleteAllowed(e)&&Ie(r,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(n,i){t.removeElements(i.slice())}}}}),r};Bg.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return Qt(t)?fh(e,r=>t.includes(r)):t};Bg.prototype.getContextPadEntries=function(e){var t=this._contextPad,r=this._modeling,n=this._elementFactory,i=this._connect,s=this._create,o=this._popupMenu,a=this._autoPlace,l=this._translate,c=this._appendPreview,u={};if(e.type==="label")return this._isDeleteAllowed([e])&&Ie(u,p()),u;var h=e.businessObject;function f(x,w){i.start(x,w)}function d(x,w){r.removeElements([w])}function p(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:l("Delete"),action:{click:d}}}}function g(x){var w=5,_=t.getPad(x).html,M=_.getBoundingClientRect(),U={x:M.left,y:M.bottom+w};return U}function m(x,w,_,M){function U(H,G){var I=n.createShape(Ie({type:x},M));s.start(H,I,{source:G})}var L=a?function(H,G){var I=n.createShape(Ie({type:x},M));a.append(G,I)}:U,O=a?function(H,G){return c.create(G,x,M),()=>{c.cleanUp()}}:null;return{group:"model",className:w,title:_,action:{dragstart:U,click:L,hover:O}}}function v(x){return function(w,_){r.splitLane(_,x),t.open(_,!0)}}if(gr(h,["bpmn:Lane","bpmn:Participant"])&&Er(e)){var y=zu(e);Ie(u,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:l("Add lane above"),action:{click:function(x,w){r.addLane(w,"top")}}}}),y.length<2&&((bi(e)?e.height>=120:e.width>=120)&&Ie(u,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:l("Divide into two lanes"),action:{click:v(2)}}}),(bi(e)?e.height>=180:e.width>=180)&&Ie(u,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:l("Divide into three lanes"),action:{click:v(3)}}})),Ie(u,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:l("Add lane below"),action:{click:function(x,w){r.addLane(w,"bottom")}}}})}return he(h,"bpmn:FlowNode")&&(he(h,"bpmn:EventBasedGateway")?Ie(u,{"append.receive-task":m("bpmn:ReceiveTask","bpmn-icon-receive-task",l("Append receive task")),"append.message-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",l("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",l("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",l("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",l("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):e9(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Ie(u,{"append.compensation-activity":m("bpmn:Task","bpmn-icon-task",l("Append compensation activity"),{isForCompensation:!0})}):!he(h,"bpmn:EndEvent")&&!h.isForCompensation&&!e9(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!ts(h)&&Ie(u,{"append.end-event":m("bpmn:EndEvent","bpmn-icon-end-event-none",l("Append end event")),"append.gateway":m("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",l("Append gateway")),"append.append-task":m("bpmn:Task","bpmn-icon-task",l("Append task")),"append.intermediate-event":m("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",l("Append intermediate/boundary event"))})),o.isEmpty(e,"bpmn-replace")||Ie(u,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:l("Change element"),action:{click:function(x,w){var _=Ie(g(w),{cursor:{x:x.x,y:x.y}});o.open(w,"bpmn-replace",_,{title:l("Change element"),width:300,search:!0})}}}}),he(h,"bpmn:SequenceFlow")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),he(h,"bpmn:MessageFlow")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),gr(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect to other element"),action:{click:f,dragstart:f}}}),he(h,"bpmn:TextAnnotation")&&Ie(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using association"),action:{click:f,dragstart:f}}}),gr(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ie(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using data input association"),action:{click:f,dragstart:f}}}),he(h,"bpmn:Group")&&Ie(u,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),this._isDeleteAllowed([e])&&Ie(u,p()),u};function e9(e,t,r){var n=e.$instanceOf(t),i=!1,s=e.eventDefinitions||[];return Ce(s,function(o){o.$type===r&&(i=!0)}),n&&i}const Pce={__depends__:[dce,JF,KD,To,hS,N2,Rce],__init__:["contextPadProvider"],contextPadProvider:["type",Bg]};var Oce={horizontal:["x","width"],vertical:["y","height"]},t9=5;function vc(e,t){this._modeling=e,this._filters=[],this.registerFilter(function(r){var n=t.allowed("elements.distribute",{elements:r});return Qt(n)?n:n?r:[]})}vc.$inject=["modeling","rules"];vc.prototype.registerFilter=function(e){if(typeof e!="function")throw new Error("the filter has to be a function");this._filters.push(e)};vc.prototype.trigger=function(e,t){var r=this._modeling,n,i;if(!(e.length<3)&&(this._setOrientation(t),i=this._filterElements(e),n=this._createGroups(i),!(n.length<=2)))return r.distributeElements(n,this._axis,this._dimension),n};vc.prototype._filterElements=function(e){var t=this._filters,r=this._axis,n=this._dimension,i=[].concat(e);return t.length?(Ce(t,function(s){i=s(i,r,n)}),i):e};vc.prototype._createGroups=function(e){var t=[],r=this,n=this._axis,i=this._dimension;if(!n)throw new Error('must have a defined "axis" and "dimension"');var s=ul(e,n);return Ce(s,function(o,a){var l=r._findRange(o,n,i),c,u=t[t.length-1];u&&r._hasIntersection(u.range,l)?t[t.length-1].elements.push(o):(c={range:l,elements:[o]},t.push(c))}),t};vc.prototype._setOrientation=function(e){var t=Oce[e];this._axis=t[0],this._dimension=t[1]};vc.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)};vc.prototype._findRange=function(e){var t=e[this._axis],r=e[this._dimension];return{min:t+t9,max:t+r-t9}};const Ice={__init__:["distributeElements"],distributeElements:["type",vc]};function U2(e){Ya.call(this,e)}U2.$inject=["eventBus"];Ct(U2,Ya);U2.prototype.init=function(){this.addRule("elements.distribute",function(e){var t=e.elements;return t=mr(t,function(r){var n=gr(r,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(r.labelTarget||n)}),t=Zb(t),t.length<3?!1:t})};var r9={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`},Mce=900;function Fg(e,t,r,n){this._distributeElements=t,this._translate=r,this._popupMenu=e,this._rules=n,e.registerProvider("align-elements",Mce,this)}Fg.$inject=["popupMenu","distributeElements","translate","rules"];Fg.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ie(t,this._getEntries(e)),t};Fg.prototype._isAllowed=function(e){return this._rules.allowed("elements.distribute",{elements:e})};Fg.prototype._getEntries=function(e){var t=this._distributeElements,r=this._translate,n=this._popupMenu,i={"distribute-elements-horizontal":{group:"distribute",title:r("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:r9.horizontal,action:function(s,o){t.trigger(e,"horizontal"),n.close()}},"distribute-elements-vertical":{group:"distribute",title:r("Distribute elements vertically"),imageHtml:r9.vertical,action:function(s,o){t.trigger(e,"vertical"),n.close()}}};return i};const Lce={__depends__:[iS,Ice],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",U2],distributeElementsMenuProvider:["type",Fg]};var ez="is not a registered action",Dce="is already registered";function ro(e,t){this._actions={};var r=this;e.on("diagram.init",function(){r._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:r})})}ro.$inject=["eventBus","injector"];ro.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),r=e.get("modeling",!1),n=e.get("selection",!1),i=e.get("zoomScroll",!1),s=e.get("copyPaste",!1),o=e.get("canvas",!1),a=e.get("rules",!1),l=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),s&&n&&this.register("copy",function(){var u=n.get();if(u.length)return s.copy(u)}),s&&this.register("paste",function(){s.paste()}),i&&this.register("stepZoom",function(u){i.stepZoom(u.value)}),o&&this.register("zoom",function(u){o.zoom(u.value)}),r&&n&&a&&this.register("removeSelection",function(){var u=n.get();if(u.length){var h=a.allowed("elements.delete",{elements:u}),f;h!==!1&&(Qt(h)?f=h:f=u,f.length&&r.removeElements(f.slice()))}}),l&&this.register("moveCanvas",function(u){l.moveCanvas(u)}),c&&this.register("moveSelection",function(u){c.moveSelection(u.direction,u.accelerated)})};ro.prototype.trigger=function(e,t){if(!this._actions[e])throw gE(e,ez);return this._actions[e](t)};ro.prototype.register=function(e,t){var r=this;if(typeof e=="string")return this._registerAction(e,t);Ce(e,function(n,i){r._registerAction(i,n)})};ro.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw gE(e,Dce);this._actions[e]=t};ro.prototype.unregister=function(e){if(!this.isRegistered(e))throw gE(e,ez);this._actions[e]=void 0};ro.prototype.getActions=function(){return Object.keys(this._actions)};ro.prototype.isRegistered=function(e){return!!this._actions[e]};function gE(e,t){return new Error(e+" "+t)}const Bce={__init__:["editorActions"],editorActions:["type",ro]};function $2(e){e.invoke(ro,this)}Ct($2,ro);$2.$inject=["injector"];$2.prototype._registerDefaultActions=function(e){ro.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),r=e.get("elementRegistry",!1),n=e.get("selection",!1),i=e.get("spaceTool",!1),s=e.get("lassoTool",!1),o=e.get("handTool",!1),a=e.get("globalConnect",!1),l=e.get("distributeElements",!1),c=e.get("alignElements",!1),u=e.get("directEditing",!1),h=e.get("searchPad",!1),f=e.get("modeling",!1),d=e.get("contextPad",!1);t&&r&&n&&this._registerAction("selectElements",function(){var p=t.getRootElement(),g=r.filter(function(m){return m!==p});return n.select(g),g}),i&&this._registerAction("spaceTool",function(){i.toggle()}),s&&this._registerAction("lassoTool",function(){s.toggle()}),o&&this._registerAction("handTool",function(){o.toggle()}),a&&this._registerAction("globalConnectTool",function(){a.toggle()}),n&&l&&this._registerAction("distributeElements",function(p){var g=n.get(),m=p.type;g.length&&l.trigger(g,m)}),n&&c&&this._registerAction("alignElements",function(p){var g=n.get(),m=[],v=p.type;g.length&&(m=mr(g,function(y){return!he(y,"bpmn:Lane")}),c.trigger(m,v))}),n&&f&&this._registerAction("setColor",function(p){var g=n.get();g.length&&f.setColor(g,p)}),n&&u&&this._registerAction("directEditing",function(){var p=n.get();p.length&&u.activate(p[0])}),h&&this._registerAction("find",function(){h.toggle()}),t&&f&&this._registerAction("moveToOrigin",function(){var p=t.getRootElement(),g,m;he(p,"bpmn:Collaboration")?m=r.filter(function(v){return he(v.parent,"bpmn:Collaboration")}):m=r.filter(function(v){return v!==p&&!he(v.parent,"bpmn:SubProcess")}),g=di(m),f.moveElements(m,{x:-g.x,y:-g.y},p)}),n&&d&&this._registerAction("replaceElement",function(p){d.triggerEntry("replace","click",p)})};const Fce={__depends__:[Bce],editorActions:["type",$2]};function tz(e){e.on(["create.init","shape.move.init"],function(t){var r=t.context,n=t.shape;gr(n,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(r.gridSnappingContext||(r.gridSnappingContext={}),r.gridSnappingContext.snapLocation="top-left")})}tz.$inject=["eventBus"];var hy=10;function e_(e,t,r){return r||(r="round"),Math[r](e/t)*t}var zce=1200,Uce=800;function Vu(e,t,r){var n=!r||r.active!==!1;this._eventBus=t;var i=this;t.on("diagram.init",Uce,function(){i.setActive(n)}),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],zce,function(s){var o=s.originalEvent;if(!(!i.active||o&&qa(o))){var a=s.context,l=a.gridSnappingContext;l||(l=a.gridSnappingContext={}),["x","y"].forEach(function(c){var u={},h=Hce(s,c,e);h&&(u.offset=h);var f=$ce(s,c);f&&Ie(u,f),Jf(s,c)||i.snapEvent(s,c,u)})}})}Vu.prototype.snapEvent=function(e,t,r){var n=this.snapValue(e[t],r);Xn(e,t,n)};Vu.prototype.getGridSpacing=function(){return hy};Vu.prototype.snapValue=function(e,t){var r=0;t&&t.offset&&(r=t.offset),e+=r,e=e_(e,hy);var n,i;return t&&t.min&&(n=t.min,Yt(n)&&(n=e_(n+r,hy,"ceil"),e=Math.max(e,n))),t&&t.max&&(i=t.max,Yt(i)&&(i=e_(i+r,hy,"floor"),e=Math.min(e,i))),e-=r,e};Vu.prototype.isActive=function(){return this.active};Vu.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})};Vu.prototype.toggleActive=function(){this.setActive(!this.active)};Vu.$inject=["elementRegistry","eventBus","config.gridSnapping"];function $ce(e,t){var r=e.context,n=r.createConstraints,i=r.resizeConstraints||{},s=r.gridSnappingContext,o=s.snapConstraints;if(o&&o[t])return o[t];o||(o=s.snapConstraints={}),o[t]||(o[t]={});var a=r.direction;n&&(fy(t)?(o.x.min=n.left,o.x.max=n.right):(o.y.min=n.top,o.y.max=n.bottom));var l=i.min,c=i.max;return l&&(fy(t)?i9(a)?o.x.max=l.left:o.x.min=l.right:n9(a)?o.y.max=l.top:o.y.min=l.bottom),c&&(fy(t)?i9(a)?o.x.min=c.left:o.x.max=c.right:n9(a)?o.y.min=c.top:o.y.max=c.bottom),o[t]}function Hce(e,t,r){var n=e.context,i=e.shape,s=n.gridSnappingContext,o=s.snapLocation,a=s.snapOffset;return a&&Yt(a[t])||(a||(a=s.snapOffset={}),Yt(a[t])||(a[t]=0),!i)||(r.get(i.id)||(fy(t)?a[t]+=i[t]+i.width/2:a[t]+=i[t]+i.height/2),!o)||(t==="x"?/left/.test(o)?a[t]-=i.width/2:/right/.test(o)&&(a[t]+=i.width/2):/top/.test(o)?a[t]-=i.height/2:/bottom/.test(o)&&(a[t]+=i.height/2)),a[t]}function fy(e){return e==="x"}function n9(e){return e.indexOf("n")!==-1}function i9(e){return e.indexOf("w")!==-1}function wh(e,t){at.call(this,e),this._gridSnapping=t;var r=this;this.preExecute("shape.resize",function(n){var i=n.context,s=i.hints||{},o=s.autoResize;if(o){var a=i.shape,l=i.newBounds;Js(o)?i.newBounds=r.snapComplex(l,o):i.newBounds=r.snapSimple(a,l)}})}wh.$inject=["eventBus","gridSnapping","modeling"];Ct(wh,at);wh.prototype.snapSimple=function(e,t){var r=this._gridSnapping;return t.width=r.snapValue(t.width,{min:t.width}),t.height=r.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t};wh.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e};wh.prototype.snapHorizontally=function(e,t){var r=this._gridSnapping,n=/w/.test(t),i=/e/.test(t),s={};return s.width=r.snapValue(e.width,{min:e.width}),i&&(n?(s.x=r.snapValue(e.x,{max:e.x}),s.width+=r.snapValue(e.x-s.x,{min:e.x-s.x})):e.x=e.x+e.width-s.width),Ie(e,s),e};wh.prototype.snapVertically=function(e,t){var r=this._gridSnapping,n=/n/.test(t),i=/s/.test(t),s={};return s.height=r.snapValue(e.height,{min:e.height}),n&&(i?(s.y=r.snapValue(e.y,{max:e.y}),s.height+=r.snapValue(e.y-s.y,{min:e.y-s.y})):e.y=e.y+e.height-s.height),Ie(e,s),e};var Wce=2e3;function rz(e,t){e.on(["spaceTool.move","spaceTool.end"],Wce,function(r){var n=r.context;if(n.initialized){var i=n.axis,s;i==="x"?(s=t.snapValue(r.dx),r.x=r.x+s-r.dx,r.dx=s):(s=t.snapValue(r.dy),r.y=r.y+s-r.dy,r.dy=s)}})}rz.$inject=["eventBus","gridSnapping"];const qce={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",wh],gridSnappingSpaceToolBehavior:["type",rz]},Vce={__depends__:[qce],__init__:["gridSnapping"],gridSnapping:["type",Vu]};var Gce=2e3;function nz(e,t,r){e.on("autoPlace",Gce,function(n){var i=n.source,s=Jt(i),o=n.shape,a=wB(i,o,r);return["x","y"].forEach(function(l){var c={};a[l]!==s[l]&&(a[l]>s[l]?c.min=a[l]:c.max=a[l],he(o,"bpmn:TextAnnotation")&&(Kce(l)?c.offset=-o.width/2:c.offset=-o.height/2),a[l]=t.snapValue(a[l],c))}),a})}nz.$inject=["eventBus","gridSnapping","elementRegistry"];function Kce(e){return e==="x"}var Xce=1750;function iz(e,t,r){t.on(["create.start","shape.move.start"],Xce,function(n){var i=n.context,s=i.shape,o=e.getRootElement();if(!(!he(s,"bpmn:Participant")||!he(o,"bpmn:Process")||!o.children.length)){var a=i.createConstraints;a&&(s.width=r.snapValue(s.width,{min:s.width}),s.height=r.snapValue(s.height,{min:s.height}))}})}iz.$inject=["canvas","eventBus","gridSnapping"];var Zce=3e3;function H2(e,t,r){at.call(this,e),this._gridSnapping=t;var n=this;this.postExecuted(["connection.create","connection.layout"],Zce,function(i){var s=i.context,o=s.connection,a=s.hints||{},l=o.waypoints;a.connectionStart||a.connectionEnd||a.createElementsBehavior===!1||Yce(l)&&r.updateWaypoints(o,n.snapMiddleSegments(l))})}H2.$inject=["eventBus","gridSnapping","modeling"];Ct(H2,at);H2.prototype.snapMiddleSegments=function(e){var t=this._gridSnapping,r;e=e.slice();for(var n=1;n<e.length-2;n++)r=eue(t,e[n],e[n+1]),e[n]=r[0],e[n+1]=r[1];return e};function Yce(e){return e.length>3}function Jce(e){return e==="h"}function Qce(e){return e==="v"}function eue(e,t,r){var n=Xl(t,r),i={};return Jce(n)&&(i.y=e.snapValue(t.y)),Qce(n)&&(i.x=e.snapValue(t.x)),("x"in i||"y"in i)&&(t=Ie({},t,i),r=Ie({},r,i)),[t,r]}const tue={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",nz],gridSnappingParticipantBehavior:["type",iz],gridSnappingLayoutConnectionBehavior:["type",H2]},rue={__depends__:[Vce,tue],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",tz]};var nue=30,sz=30;function zg(e,t){this._interactionEvents=t;var r=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(n){var i=n.element,s=n.gfx;if(he(i,"bpmn:Lane"))return r._createParticipantHit(i,s);if(he(i,"bpmn:Participant"))return Er(i)?r._createParticipantHit(i,s):r._createDefaultHit(i,s);if(he(i,"bpmn:SubProcess"))return Er(i)?r._createSubProcessHit(i,s):r._createDefaultHit(i,s)})}zg.$inject=["eventBus","interactionEvents"];zg.prototype._createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0};zg.prototype._createParticipantHit=function(e,t){this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height});var r=bi(e)?{width:nue,height:e.height}:{width:e.width,height:sz};return this._interactionEvents.createBoxHit(t,"all",r),!0};zg.prototype._createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:sz}),!0};const iue={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",zg]};function W2(e){e.invoke(Sp,this)}Ct(W2,Sp);W2.$inject=["injector"];W2.prototype.registerBindings=function(e,t){Sp.prototype.registerBindings.call(this,e,t);function r(n,i){t.isRegistered(n)&&e.addListener(i)}r("selectElements",function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0}),r("find",function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0}),r("spaceTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["s","S"],i))return t.trigger("spaceTool"),!0}),r("lassoTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["l","L"],i))return t.trigger("lassoTool"),!0}),r("handTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["h","H"],i))return t.trigger("handTool"),!0}),r("globalConnectTool",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["c","C"],i))return t.trigger("globalConnectTool"),!0}),r("directEditing",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["e","E"],i))return t.trigger("directEditing"),!0}),r("replaceElement",function(n){var i=n.keyEvent;if(!e.hasModifier(i)&&e.isKey(["r","R"],i))return t.trigger("replaceElement",i),!0})};const sue={__depends__:[Y8],__init__:["keyboardBindings"],keyboardBindings:["type",W2]};var aue={moveSpeed:1,moveSpeedAccelerated:10},oue=1500,s9="left",a9="up",o9="right",l9="down",lue={ArrowLeft:s9,Left:s9,ArrowUp:a9,Up:a9,ArrowRight:o9,Right:o9,ArrowDown:l9,Down:l9},cue={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function az(e,t,r,n,i){var s=this;this._config=Ie({},aue,e||{}),t.addListener(oue,function(o){var a=o.keyEvent,l=lue[a.key];if(l&&!t.isCmd(a)){var c=t.isShift(a);return s.moveSelection(l,c),!0}}),this.moveSelection=function(o,a){var l=i.get();if(l.length){var c=this._config[a?"moveSpeedAccelerated":"moveSpeed"],u=cue[o](c),h=n.allowed("elements.move",{shapes:l});h&&r.moveElements(l,u)}}}az.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const uue={__depends__:[Y8,To],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",az]};var c9=10;function Ug(e,t,r,n){this._dragging=n,this._rules=t;var i=this;function s(l,c){var u=l.shape,h=l.direction,f=l.resizeConstraints,d;l.delta=c,d=Vse(u,h,c),l.newBounds=Kse(d,f),l.canExecute=i.canResize(l)}function o(l){var c=l.resizeConstraints,u=l.minBounds;c===void 0&&(u===void 0&&(u=i.computeMinResizeBox(l)),l.resizeConstraints={min:Ht(u)})}function a(l){var c=l.shape,u=l.canExecute,h=l.newBounds;if(u){if(h=$L(h),!due(c,h))return;r.resizeShape(c,h)}}e.on("resize.start",function(l){o(l.context)}),e.on("resize.move",function(l){var c={x:l.dx,y:l.dy};s(l.context,c)}),e.on("resize.end",function(l){a(l.context)})}Ug.prototype.canResize=function(e){var t=this._rules,r=No(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",r)};Ug.prototype.activate=function(e,t,r){var n=this._dragging,i,s;if(typeof r=="string"&&(r={direction:r}),i=Ie({shape:t},r),s=i.direction,!s)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");n.init(e,oz(t,s),"resize",{autoActivate:!0,cursor:hue(s),data:{shape:t,context:i}})};Ug.prototype.computeMinResizeBox=function(e){var t=e.shape,r=e.direction,n,i;return n=e.minDimensions||{width:c9,height:c9},i=qB(t,e.childrenBoxPadding),Xse(r,t,n,i)};Ug.$inject=["eventBus","rules","modeling","dragging"];function due(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function oz(e,t){var r=Jt(e),n=Ht(e),i={x:r.x,y:r.y};return t.indexOf("n")!==-1?i.y=n.top:t.indexOf("s")!==-1&&(i.y=n.bottom),t.indexOf("e")!==-1?i.x=n.right:t.indexOf("w")!==-1&&(i.x=n.left),i}function hue(e){var t="resize-";return e==="n"||e==="s"?t+"ns":e==="e"||e==="w"?t+"ew":e==="nw"||e==="se"?t+"nwse":t+"nesw"}var u9="djs-resizing",d9="resize-not-ok",fue=500;function lz(e,t,r){function n(s){var o=s.shape,a=s.newBounds,l=s.frame;l||(l=s.frame=r.addFrame(o,t.getActiveLayer()),t.addMarker(o,u9)),a.width>5&&Nt(l,{x:a.x,width:a.width}),a.height>5&&Nt(l,{y:a.y,height:a.height}),s.canExecute?Pr(l).remove(d9):Pr(l).add(d9)}function i(s){var o=s.shape,a=s.frame;a&&ui(s.frame),t.removeMarker(o,u9)}e.on("resize.move",fue,function(s){n(s.context)}),e.on("resize.cleanup",function(s){i(s.context)})}lz.$inject=["eventBus","canvas","previewSupport"];var _v=-6,Sv=8,Ev=20,Em="djs-resizer",pue=["n","w","s","e","nw","ne","se","sw"];function Gu(e,t,r,n){this._resize=n,this._canvas=t;var i=this;e.on("selection.changed",function(s){var o=s.newSelection;i.removeResizers(),o.length===1&&Ce(o,Rs(i.addResizer,i))}),e.on("shape.changed",function(s){var o=s.element;r.isSelected(o)&&(i.removeResizers(),i.addResizer(o))})}Gu.prototype.makeDraggable=function(e,t,r){var n=this._resize;function i(s){Du(s)&&n.activate(s,e,r)}sr.bind(t,"mousedown",i),sr.bind(t,"touchstart",i)};Gu.prototype._createResizer=function(e,t,r,n){var i=this._getResizersParent(),s=mue(n),o=Mt("g");Pr(o).add(Em),Pr(o).add(Em+"-"+e.id),Pr(o).add(Em+"-"+n),rr(i,o);var a=Mt("rect");Nt(a,{x:-Sv/2+s.x,y:-Sv/2+s.y,width:Sv,height:Sv}),Pr(a).add(Em+"-visual"),rr(o,a);var l=Mt("rect");return Nt(l,{x:-Ev/2+s.x,y:-Ev/2+s.y,width:Ev,height:Ev}),Pr(l).add(Em+"-hit"),rr(o,l),ty(o,t,r),o};Gu.prototype.createResizer=function(e,t){var r=oz(e,t),n=this._createResizer(e,r.x,r.y,t);this.makeDraggable(e,n,t)};Gu.prototype.addResizer=function(e){var t=this;Qr(e)||!this._resize.canResize({shape:e})||Ce(pue,function(r){t.createResizer(e,r)})};Gu.prototype.removeResizers=function(){var e=this._getResizersParent();Kb(e)};Gu.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};Gu.$inject=["eventBus","canvas","selection","resize"];function mue(e){var t={x:0,y:0};return e.indexOf("e")!==-1?t.x=-_v:e.indexOf("w")!==-1&&(t.x=_v),e.indexOf("s")!==-1?t.y=-_v:e.indexOf("n")!==-1&&(t.y=_v),t}const cz={__depends__:[vl,pc,Cp],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Ug],resizePreview:["type",lz],resizeHandles:["type",Gu]};var gue=2e3;function $g(e,t,r,n,i,s,o){this._bpmnFactory=t,this._canvas=r,this._modeling=i,this._textRenderer=o,n.registerProvider(this),e.on("element.dblclick",function(l){a(l.element,!0)}),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){n.isActive()&&n.complete()}),e.on(["shape.remove","connection.remove"],gue,function(l){n.isActive(l.element)&&n.cancel()}),e.on(["commandStack.changed"],function(l){n.isActive()&&n.cancel()}),e.on("directEditing.activate",function(l){s.removeResizers()}),e.on("create.end",500,function(l){var c=l.context,u=c.shape,h=l.context.canExecute,f=l.isTouch;f||h&&(c.hints&&c.hints.createElementsBehavior===!1||a(u))}),e.on("autoPlace.end",500,function(l){a(l.shape)});function a(l,c){(c||gr(l,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||vE(l))&&n.activate(l)}}$g.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"];$g.prototype.activate=function(e){var t=Ao(e);if(t!==void 0){var r={text:t},n=this.getEditingBBox(e);Ie(r,n);var i={},s=r.style||{};return Ie(s,{backgroundColor:null,border:null}),(gr(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||vE(e))&&Ie(i,{centerVertically:!0}),ah(e)&&(Ie(i,{autoResize:!0}),Ie(s,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),he(e,"bpmn:TextAnnotation")&&(Ie(i,{resizable:!0,autoResize:!0}),Ie(s,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),Ie(r,{options:i,style:s}),r}};$g.prototype.getEditingBBox=function(e){var t=this._canvas,r=e.label||e,n=t.getAbsoluteBBox(r),i={x:n.x+n.width/2,y:n.y+n.height/2},s={x:n.x,y:n.y},o=t.zoom(),a=this._textRenderer.getDefaultStyle(),l=this._textRenderer.getExternalStyle(),c=l.fontSize*o,u=l.lineHeight,h=a.fontSize*o,f=a.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(he(e,"bpmn:Lane")||bue(e)){var p=bi(e),g=p?{width:n.height,height:30*o,x:n.x-n.height/2+15*o,y:i.y-30*o/2}:{width:n.width,height:30*o};Ie(s,g),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px",transform:p?"rotate(-90deg)":null})}if(yue(e)){var m=bi(e),v=m?{width:n.width,height:n.height}:{width:n.height,height:n.width,x:i.x-n.height/2,y:i.y-n.width/2};Ie(s,v),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px",transform:m?null:"rotate(-90deg)"})}(gr(e,["bpmn:Task","bpmn:CallActivity"])||vE(e))&&(Ie(s,{width:n.width,height:n.height}),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px"})),vue(e)&&(Ie(s,{width:n.width,x:n.x}),Ie(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px"}));var y=90*o,x=7*o,w=4*o;if(r.labelTarget&&(Ie(s,{width:y,height:n.height+x+w,x:i.x-y/2,y:n.y-x}),Ie(d,{fontSize:c+"px",lineHeight:u,paddingTop:x+"px",paddingBottom:w+"px"})),ah(r)&&!t2(r)&&!Ir(r)){var _=G8(e),M=t.getAbsoluteBBox({x:_.x,y:_.y,width:0,height:0}),U=c+x+w;Ie(s,{width:y,height:U,x:M.x-y/2,y:M.y-U/2}),Ie(d,{fontSize:c+"px",lineHeight:u,paddingTop:x+"px",paddingBottom:w+"px"})}return he(e,"bpmn:TextAnnotation")&&(Ie(s,{width:n.width,height:n.height,minWidth:30*o,minHeight:10*o}),Ie(d,{textAlign:"left",paddingTop:5*o+"px",paddingBottom:7*o+"px",paddingLeft:7*o+"px",paddingRight:5*o+"px",fontSize:h+"px",lineHeight:f})),{bounds:s,style:d}};$g.prototype.update=function(e,t,r,n){var i,s;he(e,"bpmn:TextAnnotation")&&(s=this._canvas.getAbsoluteBBox(e),i={x:e.x,y:e.y,width:e.width/s.width*n.width,height:e.height/s.height*n.height}),xue(t)&&(t=null),this._modeling.updateLabel(e,t,i)};function vE(e){return he(e,"bpmn:SubProcess")&&!Er(e)}function vue(e){return he(e,"bpmn:SubProcess")&&Er(e)}function yue(e){return he(e,"bpmn:Participant")&&!Er(e)}function bue(e){return he(e,"bpmn:Participant")&&Er(e)}function xue(e){return!e||!e.trim()}var h9="djs-element-hidden",f9="djs-label-hidden";function uz(e,t,r){var n=this,i=t.getDefaultLayer(),s,o,a;e.on("directEditing.activate",function(l){var c=l.active;if(s=c.element.label||c.element,he(s,"bpmn:TextAnnotation")){o=t.getAbsoluteBBox(s),a=Mt("g");var u=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:0,my:0}}),h=n.path=Mt("path");Nt(h,{d:u,strokeWidth:2,stroke:wue(s)}),rr(a,h),rr(i,a),$i(a,s.x,s.y)}he(s,"bpmn:TextAnnotation")||s.labelTarget?t.addMarker(s,h9):(he(s,"bpmn:Task")||he(s,"bpmn:CallActivity")||he(s,"bpmn:SubProcess")||he(s,"bpmn:Participant")||he(s,"bpmn:Lane"))&&t.addMarker(s,f9)}),e.on("directEditing.resize",function(l){if(he(s,"bpmn:TextAnnotation")){var c=l.height,u=l.dy,h=Math.max(s.height/o.height*(c+u),0),f=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:h,position:{mx:0,my:0}});Nt(n.path,{d:f})}}),e.on(["directEditing.complete","directEditing.cancel"],function(l){var c=l.active;c&&(t.removeMarker(c.element.label||c.element,h9),t.removeMarker(s,f9)),s=void 0,o=void 0,a&&(ui(a),a=void 0)})}uz.$inject=["eventBus","canvas","pathMap"];function wue(e,t){var r=Or(e);return r.get("stroke")||t||"black"}const _ue={__depends__:[K8,cz,JF],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",$g],labelEditingPreview:["type",uz]};var Sue=new wg("tt");function Eue(e){var t=dn('<div class="djs-tooltip-container" />');return Ji(t,{position:"absolute",width:"0",height:"0"}),e.insertBefore(t,e.firstChild),t}function kue(e,t,r){Ji(e,{left:t+"px",top:r+"px"})}function yE(e,t){e.style.display=t===!1?"none":""}var dz="djs-tooltip",t_="."+dz;function Ms(e,t){this._eventBus=e,this._canvas=t,this._ids=Sue,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=Eue(t.getContainer());var r=this;Ks.bind(this._tooltipRoot,t_,"mousedown",function(n){n.stopPropagation()}),Ks.bind(this._tooltipRoot,t_,"mouseover",function(n){r.trigger("mouseover",n)}),Ks.bind(this._tooltipRoot,t_,"mouseout",function(n){r.trigger("mouseout",n)}),this._init()}Ms.$inject=["eventBus","canvas"];Ms.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=Ie({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t};Ms.prototype.trigger=function(e,t){var r=t.delegateTarget||t.target,n=this.get(Qi(r,"data-tooltip-id"));n&&(e==="mouseover"&&n.timeout&&this.clearTimeout(n),e==="mouseout"&&n.timeout&&(n.timeout=1e3,this.setTimeout(n)))};Ms.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]};Ms.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}};Ms.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout)}};Ms.prototype.remove=function(e){var t=this.get(e);t&&(dl(t.html),dl(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])};Ms.prototype.show=function(){yE(this._tooltipRoot)};Ms.prototype.hide=function(){yE(this._tooltipRoot,!1)};Ms.prototype._updateRoot=function(e){var t=e.scale||1,r=e.scale||1,n="matrix("+t+",0,0,"+r+","+-1*e.x*t+","+-1*e.y*r+")";this._tooltipRoot.style.transform=n,this._tooltipRoot.style["-ms-transform"]=n};Ms.prototype._addTooltip=function(e){var t=e.id,r=e.html,n,i=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),Js(r)&&(r=dn(r)),n=dn('<div data-tooltip-id="'+t+'" class="'+dz+'">'),Ji(n,{position:"absolute"}),n.appendChild(r),e.type&&On(n).add("djs-tooltip-"+e.type),e.className&&On(n).add(e.className),e.htmlContainer=n,i.appendChild(n),this._tooltips[t]=e,this._updateTooltip(e)};Ms.prototype._updateTooltip=function(e){var t=e.position,r=e.htmlContainer;kue(r,t.x,t.y)};Ms.prototype._updateTooltipVisibilty=function(e){Ce(this._tooltips,function(t){var r=t.show,n=t.htmlContainer,i=!0;r&&((r.minZoom>e.scale||r.maxZoom<e.scale)&&(i=!1),yE(n,i))})};Ms.prototype._init=function(){var e=this;function t(r){e._updateRoot(r),e._updateTooltipVisibilty(r),e.show()}this._eventBus.on("canvas.viewbox.changing",function(r){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(r){t(r.viewbox)})};const Nue={__init__:["tooltips"],tooltips:["type",Ms]};var Aue="flow elements must be children of pools/participants",Cue="Data object must be placed within a pool/participant.";function hz(e,t,r){function n(i,s,o){t.add({position:{x:i.x+5,y:i.y+5},type:"error",timeout:2e3,html:"<div>"+s+"</div>"})}e.on(["shape.move.rejected","create.rejected"],function(i){var s=i.context,o=s.shape,a=s.target;he(a,"bpmn:Collaboration")&&(he(o,"bpmn:FlowNode")?n(i,r(Aue)):he(o,"bpmn:DataObjectReference")&&n(i,r(Cue)))})}hz.$inject=["eventBus","tooltips","translate"];const jue={__depends__:[Nue],__init__:["modelingFeedback"],modelingFeedback:["type",hz]};var Tue=500,Rue=1e3;function _h(e,t){this._eventBus=e,this.offset=5;var r=t.cls("djs-outline",["no-fill"]),n=this;function i(s){var o=Mt("rect");return Nt(o,Ie({x:0,y:0,rx:4,width:100,height:100},r)),o}e.on(["shape.added","shape.changed"],Tue,function(s){var o=s.element,a=s.gfx,l=Jr(".djs-outline",a);l||(l=n.getOutline(o)||i(),rr(a,l)),n.updateShapeOutline(l,o)}),e.on(["connection.added","connection.changed"],function(s){var o=s.element,a=s.gfx,l=Jr(".djs-outline",a);l||(l=i(),rr(a,l)),n.updateConnectionOutline(l,o)})}_h.prototype.updateShapeOutline=function(e,t){var r=!1,n=this._getProviders();n.length&&Ce(n,function(i){r=r||i.updateOutline(t,e)}),r||Nt(e,{x:-this.offset,y:-this.offset,width:t.width+this.offset*2,height:t.height+this.offset*2})};_h.prototype.updateConnectionOutline=function(e,t){var r=di(t);Nt(e,{x:r.x-this.offset,y:r.y-this.offset,width:r.width+this.offset*2,height:r.height+this.offset*2})};_h.prototype.registerProvider=function(e,t){t||(t=e,e=Rue),this._eventBus.on("outline.getProviders",e,function(r){r.providers.push(t)})};_h.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};_h.prototype.getOutline=function(e){var t,r=this._getProviders();return Ce(r,function(n){yi(n.getOutline)&&(t=t||n.getOutline(e))}),t};_h.$inject=["eventBus","styles","elementRegistry"];var kv=6;function bE(e,t,r){this._canvas=t;var n=this;e.on("element.changed",function(i){r.isSelected(i.element)&&n._updateMultiSelectionOutline(r.get())}),e.on("selection.changed",function(i){var s=i.newSelection;n._updateMultiSelectionOutline(s)})}bE.prototype._updateMultiSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");Kb(t);var r=e.length>1,n=this._canvas.getContainer();if(Pr(n)[r?"add":"remove"]("djs-multi-select"),!!r){var i=Pue(di(e)),s=Mt("rect");Nt(s,Ie({rx:3},i)),Pr(s).add("djs-selection-outline"),rr(t,s)}};bE.$inject=["eventBus","canvas","selection"];function Pue(e){return{x:e.x-kv,y:e.y-kv,width:e.width+kv*2,height:e.height+kv*2}}const fz={__depends__:[To],__init__:["outline","multiSelectionOutline"],outline:["type",_h],multiSelectionOutline:["type",bE]};var Oue=500,Iue=1250,Mue=1500,pb=Math.round;function Lue(e){return{x:e.x+pb(e.width/2),y:e.y+pb(e.height/2)}}function pz(e,t,r,n,i){function s(a,l,c,u){return i.allowed("elements.move",{shapes:a,delta:l,position:c,target:u})}e.on("shape.move.start",Mue,function(a){var l=a.context,c=a.shape,u=n.get().slice();u.indexOf(c)===-1&&(u=[c]),u=Due(u),Ie(l,{shapes:u,validatedShapes:u,shape:c})}),e.on("shape.move.start",Iue,function(a){var l=a.context,c=l.validatedShapes,u;if(u=l.canExecute=s(c),!u)return!1}),e.on("shape.move.move",Oue,function(a){var l=a.context,c=l.validatedShapes,u=a.hover,h={x:a.dx,y:a.dy},f={x:a.x,y:a.y},d;if(d=s(c,h,f,u),l.delta=h,l.canExecute=d,d===null){l.target=null;return}l.target=u}),e.on("shape.move.end",function(a){var l=a.context,c=l.delta,u=l.canExecute,h=u==="attach",f=l.shapes;if(u===!1)return!1;c.x=pb(c.x),c.y=pb(c.y),!(c.x===0&&c.y===0)&&r.moveElements(f,c,l.target,{primaryShape:l.shape,attach:h})}),e.on("element.mousedown",function(a){if(Du(a)){var l=wp(a);if(!l)throw new Error("must supply DOM mousedown event");return o(l,a.element)}});function o(a,l,c,u){if(Mi(c)&&(u=c,c=!1),!(l.waypoints||!l.parent)&&!Pr(a.target).has("djs-hit-no-move")){var h=Lue(l);return t.init(a,h,"shape.move",{cursor:"grabbing",autoActivate:c,data:{shape:l,context:u||{}}}),!0}}this.start=o}pz.$inject=["eventBus","dragging","modeling","selection","rules"];function Due(e){var t=gp(e,"id");return mr(e,function(r){for(;r=r.parent;)if(t[r.id])return!1;return!0})}var p9=499,r_="djs-dragging",m9="drop-ok",g9="drop-not-ok",v9="new-parent",y9="attach-ok";function mz(e,t,r,n){function i(l){var c=s(l),u=Bue(c);return u}function s(l){var c=pg(l,!0),u=c.flatMap(d=>(d.incoming||[]).concat(d.outgoing||[])),h=c.concat(u),f=[...new Set(h)];return f}function o(l,c){[y9,m9,g9,v9].forEach(function(u){u===c?t.addMarker(l,u):t.removeMarker(l,u)})}function a(l,c,u){n.addDragger(c,l.dragGroup),u&&t.addMarker(c,r_),l.allDraggedElements?l.allDraggedElements.push(c):l.allDraggedElements=[c]}e.on("shape.move.start",p9,function(l){var c=l.context,u=c.shapes,h=c.allDraggedElements,f=i(u);if(!c.dragGroup){var d=Mt("g");Nt(d,r.cls("djs-drag-group",["no-events"]));var p=t.getActiveLayer();rr(p,d),c.dragGroup=d}f.forEach(function(g){n.addDragger(g,c.dragGroup)}),h?h=T8([h,s(u)]):h=s(u),Ce(h,function(g){t.addMarker(g,r_)}),c.allDraggedElements=h,c.differentParents=Fue(u)}),e.on("shape.move.move",p9,function(l){var c=l.context,u=c.dragGroup,h=c.target,f=c.shape.parent,d=c.canExecute;h&&(d==="attach"?o(h,y9):c.canExecute&&f&&h.id!==f.id?o(h,v9):o(h,c.canExecute?m9:g9)),$i(u,l.dx,l.dy)}),e.on(["shape.move.out","shape.move.cleanup"],function(l){var c=l.context,u=c.target;u&&o(u,null)}),e.on("shape.move.cleanup",function(l){var c=l.context,u=c.allDraggedElements,h=c.dragGroup;Ce(u,function(f){t.removeMarker(f,r_)}),h&&ui(h)}),this.makeDraggable=a}mz.$inject=["eventBus","canvas","styles","previewSupport"];function Bue(e){var t=mr(e,function(r){return Qr(r)?Lr(e,wo({id:r.source.id}))&&Lr(e,wo({id:r.target.id})):!0});return t}function Fue(e){return ZJ(gp(e,function(t){return t.parent&&t.parent.id}))!==1}const zue={__depends__:[a2,To,fz,vl,pc,Cp],__init__:["move","movePreview"],move:["type",pz],movePreview:["type",mz]};var gz=".djs-palette-toggle",vz=".entry",Uue=gz+", "+vz,r6="djs-palette-",$ue="shown",n6="open",b9="two-column",Hue=1e3;function Yn(e,t){this._eventBus=e,this._canvas=t;var r=this;e.on("tool-manager.update",function(n){var i=n.tool;r.updateToolHighlight(i)}),e.on("i18n.changed",function(){r._update()}),e.on("diagram.init",function(){r._diagramInitialized=!0,r._rebuild()})}Yn.$inject=["eventBus","canvas"];Yn.prototype.registerProvider=function(e,t){t||(t=e,e=Hue),this._eventBus.on("palette.getProviders",e,function(r){r.providers.push(t)}),this._rebuild()};Yn.prototype.getEntries=function(){var e=this._getProviders();return e.reduce(que,{})};Yn.prototype._rebuild=function(){if(this._diagramInitialized){var e=this._getProviders();e.length&&(this._container||this._init(),this._update())}};Yn.prototype._init=function(){var e=this,t=this._eventBus,r=this._getParentContainer(),n=this._container=dn(Yn.HTML_MARKUP);r.appendChild(n),On(r).add(r6+$ue),Ks.bind(n,Uue,"click",function(i){var s=i.delegateTarget;if(AL(s,gz))return e.toggle();e.trigger("click",i)}),sr.bind(n,"mousedown",function(i){i.stopPropagation()}),Ks.bind(n,vz,"dragstart",function(i){e.trigger("dragstart",i)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:n})};Yn.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};Yn.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),r=this._container,n=this._eventBus,i,s=On(r),o=On(t);"twoColumn"in e?i=e.twoColumn:i=this._needsCollapse(t.clientHeight,this._entries||{}),s.toggle(b9,i),o.toggle(r6+b9,i),"open"in e&&(s.toggle(n6,e.open),o.toggle(r6+n6,e.open)),n.fire("palette.changed",{twoColumn:i,open:this.isOpen()})};Yn.prototype._update=function(){var e=Jr(".djs-palette-entries",this._container),t=this._entries=this.getEntries();Gb(e),Ce(t,function(r,n){var i=r.group||"default",s=Jr("[data-group="+K0(i)+"]",e);s||(s=dn('<div class="group"></div>'),Qi(s,"data-group",i),e.appendChild(s));var o=r.html||(r.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=dn(o);if(s.appendChild(a),!r.separator&&(Qi(a,"data-action",n),r.title&&Qi(a,"title",r.title),r.className&&Wue(a,r.className),r.imageUrl)){var l=dn("<img>");Qi(l,"src",r.imageUrl),a.appendChild(l)}}),this.open()};Yn.prototype.trigger=function(e,t,r){var n,i,s=t.delegateTarget||t.target;return s?(n=Qi(s,"data-action"),i=t.originalEvent||t,this.triggerEntry(n,e,i,r)):t.preventDefault()};Yn.prototype.triggerEntry=function(e,t,r,n){var i=this._entries,s,o;if(s=i[e],!!s&&(o=s.action,this._eventBus.fire("palette.trigger",{entry:s,event:r})!==!1)){if(yi(o)){if(t==="click")return o(r,n)}else if(o[t])return o[t](r,n);r.preventDefault()}};Yn.prototype._layoutChanged=function(){this._toggleState({})};Yn.prototype._needsCollapse=function(e,t){var r=50,n=Object.keys(t).length*46;return e<n+r};Yn.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};Yn.prototype.open=function(){this._toggleState({open:!0})};Yn.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Yn.prototype.isActiveTool=function(e){return e&&this._activeTool===e};Yn.prototype.updateToolHighlight=function(e){var t,r;this._toolsContainer||(t=Jr(".djs-palette-entries",this._container),this._toolsContainer=Jr("[data-group=tools]",t)),r=this._toolsContainer,Ce(r.children,function(n){var i=n.getAttribute("data-action");if(i){var s=On(n);i=i.replace("-tool",""),s.contains("entry")&&i===e?s.add("highlighted-entry"):s.remove("highlighted-entry")}})};Yn.prototype.isOpen=function(){return On(this._container).has(n6)};Yn.prototype._getParentContainer=function(){return this._canvas.getContainer()};Yn.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function Wue(e,t){var r=On(e),n=Qt(t)?t:t.split(/\s+/g);n.forEach(function(i){r.add(i)})}function que(e,t){var r=t.getPaletteEntries();return yi(r)?r(e):(Ce(r,function(n,i){e[i]=n}),e)}const Vue={__init__:["palette"],palette:["type",Yn]};var yz="crosshair";function Sh(e,t,r,n,i,s,o){this._selection=i,this._dragging=r,this._mouse=o;var a=this,l={create:function(c){var u=t.getActiveLayer(),h;h=c.frame=Mt("rect"),Nt(h,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),rr(u,h)},update:function(c){var u=c.frame,h=c.bbox;Nt(u,{x:h.x,y:h.y,width:h.width,height:h.height})},remove:function(c){c.frame&&ui(c.frame)}};s.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",function(c){var u=c.originalEvent.target;!c.hover&&!(u instanceof SVGElement)||e.once("lasso.selection.ended",function(){a.activateLasso(c.originalEvent,!0)})}),e.on("lasso.end",0,function(c){var u=c.context,h=n_(c),f=n.filter(function(p){return p}),d=ib(c);a.select(f,h,d?u.selection:[])}),e.on("lasso.start",function(c){var u=c.context;u.bbox=n_(c),l.create(u),u.selection=i.get()}),e.on("lasso.move",function(c){var u=c.context;u.bbox=n_(c),l.update(u)}),e.on("lasso.cleanup",function(c){var u=c.context;l.remove(u)}),e.on("element.mousedown",1500,function(c){if(ib(c))return a.activateLasso(c.originalEvent),!0})}Sh.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];Sh.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:yz,data:{context:{}}})};Sh.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:yz,data:{context:{}},keepSelection:!0})};Sh.prototype.select=function(e,t,r=[]){var n=LL(e,t);this._selection.select([...r,...qb(n)])};Sh.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};Sh.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};function n_(e){var t={x:e.x-e.dx,y:e.y-e.dy},r={x:e.x,y:e.y},n;return t.x<=r.x&&t.y<r.y||t.x<r.x&&t.y<=r.y?n={x:t.x,y:t.y,width:r.x-t.x,height:r.y-t.y}:t.x>=r.x&&t.y<r.y||t.x>r.x&&t.y<=r.y?n={x:r.x,y:t.y,width:t.x-r.x,height:r.y-t.y}:t.x<=r.x&&t.y>r.y||t.x<r.x&&t.y>=r.y?n={x:t.x,y:r.y,width:r.x-t.x,height:t.y-r.y}:t.x>=r.x&&t.y>r.y||t.x>r.x&&t.y>=r.y?n={x:r.x,y:r.y,width:t.x-r.x,height:t.y-r.y}:n={x:r.x,y:r.y,width:0,height:0},n}const Gue={__depends__:[A2,Ng],__init__:["lassoTool"],lassoTool:["type",Sh]};var i_=1500,bz="grab";function jp(e,t,r,n,i,s){this._dragging=r,this._mouse=s;var o=this,a=n.get("keyboard",!1);i.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",i_,function(l){if(X0(l))return o.activateMove(l.originalEvent,!0),!1}),a&&a.addListener(i_,function(l){if(!(!x9(l.keyEvent)||o.isActive())){var c=o._mouse.getLastMoveEvent();o.activateMove(c,!!c)}},"keyboard.keydown"),a&&a.addListener(i_,function(l){!x9(l.keyEvent)||!o.isActive()||o.toggle()},"keyboard.keyup"),e.on("hand.end",function(l){var c=l.originalEvent.target;if(!l.hover&&!(c instanceof SVGElement))return!1;e.once("hand.ended",function(){o.activateMove(l.originalEvent,{reactivate:!0})})}),e.on("hand.move.move",function(l){var c=t.viewbox().scale;t.scroll({dx:l.dx*c,dy:l.dy*c})}),e.on("hand.move.end",function(l){var c=l.context,u=c.reactivate;return!X0(l)&&u&&e.once("hand.move.ended",function(h){o.activateHand(h.originalEvent,!0,!0)}),!1})}jp.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];jp.prototype.activateMove=function(e,t,r){typeof t=="object"&&(r=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:bz,data:{context:r||{}}})};jp.prototype.activateHand=function(e,t,r){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:bz,data:{context:{reactivate:r}}})};jp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)};jp.prototype.isActive=function(){var e=this._dragging.context();return e?/^(hand|hand\.move)$/.test(e.prefix):!1};function x9(e){return Ri("Space",e)}const Kue={__depends__:[A2,Ng],__init__:["handTool"],handTool:["type",jp]};var w9="connect-ok",_9="connect-not-ok";function Tp(e,t,r,n,i,s,o){var a=this;this._dragging=t,this._rules=s,this._mouse=o,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",function(l){var c=l.context,u=l.hover,h=c.canStartConnect=a.canStartConnect(u);h!==null&&(c.startTarget=u,n.addMarker(u,h?w9:_9))}),e.on(["global-connect.out","global-connect.cleanup"],function(l){var c=l.context.startTarget,u=l.context.canStartConnect;c&&n.removeMarker(c,u?w9:_9)}),e.on(["global-connect.ended"],function(l){var c=l.context,u=c.startTarget,h={x:l.x,y:l.y},f=a.canStartConnect(u);if(f)return e.once("element.out",function(){e.once(["connect.ended","connect.canceled"],function(){e.fire("global-connect.drag.ended")}),r.start(null,u,h)}),!1})}Tp.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Tp.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})};Tp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)};Tp.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)};Tp.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};const Xue={__depends__:[hS,vl,pc,A2,Ng],globalConnect:["type",Tp]};function xE(e,t,r,n,i,s,o,a){this._palette=e,this._create=t,this._elementFactory=r,this._spaceTool=n,this._lassoTool=i,this._handTool=s,this._globalConnect=o,this._translate=a,e.registerProvider(this)}xE.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];xE.prototype.getPaletteEntries=function(){var e={},t=this._create,r=this._elementFactory,n=this._spaceTool,i=this._lassoTool,s=this._handTool,o=this._globalConnect,a=this._translate;function l(h,f,d,p,g){function m(v){var y=r.createShape(Ie({type:h},g));t.start(v,y)}return{group:f,className:d,title:p,action:{dragstart:m,click:m}}}function c(h){var f=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),d=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:f});t.start(h,[f,d],{hints:{autoSelect:[f]}})}function u(h){t.start(h,r.createParticipantShape())}return Ie(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:a("Activate hand tool"),action:{click:function(h){s.activateHand(h)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:a("Activate lasso tool"),action:{click:function(h){i.activateSelection(h)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:a("Activate create/remove space tool"),action:{click:function(h){n.activateSelection(h)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:a("Activate global connect tool"),action:{click:function(h){o.start(h)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":l("bpmn:StartEvent","event","bpmn-icon-start-event-none",a("Create start event")),"create.intermediate-event":l("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",a("Create intermediate/boundary event")),"create.end-event":l("bpmn:EndEvent","event","bpmn-icon-end-event-none",a("Create end event")),"create.exclusive-gateway":l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",a("Create gateway")),"create.task":l("bpmn:Task","activity","bpmn-icon-task",a("Create task")),"create.data-object":l("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",a("Create data object reference")),"create.data-store":l("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",a("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:a("Create expanded sub-process"),action:{dragstart:c,click:c}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:a("Create pool/participant"),action:{dragstart:u,click:u}},"create.group":l("bpmn:Group","artifact","bpmn-icon-group",a("Create group"))}),e};const Zue={__depends__:[Vue,N2,IF,Gue,Kue,Xue,n2],__init__:["paletteProvider"],paletteProvider:["type",xE]};var Yue=250;function wE(e,t,r,n,i){at.call(this,e);function s(a){var l=a.canExecute.replacements;Ce(l,function(c){var u=c.oldElementId,h={type:c.newElementType};if(!a.visualReplacements[u]){var f=t.get(u);Ie(h,{x:f.x,y:f.y});var d=r.createShape(h);n.addShape(d,f.parent);var p=Jr('[data-element-id="'+K0(f.id)+'"]',a.dragGroup);p&&Nt(p,{display:"none"});var g=i.addDragger(d,a.dragGroup);a.visualReplacements[u]=g,n.removeShape(d)}})}function o(a){var l=a.visualReplacements;Ce(l,function(c,u){var h=Jr('[data-element-id="'+K0(u)+'"]',a.dragGroup);h&&Nt(h,{display:"inline"}),c.remove(),l[u]&&delete l[u]})}e.on("shape.move.move",Yue,function(a){var l=a.context,c=l.canExecute;l.visualReplacements||(l.visualReplacements={}),c&&c.replacements?s(l):o(l)})}wE.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];Ct(wE,at);const Jue={__depends__:[Cp],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",wE]};var Que=1250,s_=40,ede=20,tde=10,S9=20,xz=["x","y"],rde=Math.abs;function wz(e){e.on(["connect.hover","connect.move","connect.end"],Que,function(t){var r=t.context,n=r.canExecute,i=r.start,s=r.hover,o=r.source,a=r.target;t.originalEvent&&qa(t.originalEvent)||(r.initialConnectionStart||(r.initialConnectionStart=r.connectionStart),n&&s&&nde(t,s,ode(s)),s&&ade(n,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(r.connectionStart=Ha(i),gr(s,["bpmn:Event","bpmn:Gateway"])&&E9(t,Ha(s)),gr(s,["bpmn:Task","bpmn:SubProcess"])&&ide(t,s),he(o,"bpmn:BoundaryEvent")&&a===o.host&&sde(t)):_z(n,"bpmn:MessageFlow")?(he(i,"bpmn:Event")&&(r.connectionStart=Ha(i)),he(s,"bpmn:Event")&&E9(t,Ha(s))):r.connectionStart=r.initialConnectionStart)})}wz.$inject=["eventBus"];function nde(e,t,r){xz.forEach(function(n){var i=Sz(n,t);e[n]<t[n]+r?Xn(e,n,t[n]+r):e[n]>t[n]+i-r&&Xn(e,n,t[n]+i-r)})}function ide(e,t){var r=Ha(t);xz.forEach(function(n){lde(e,t,n)&&Xn(e,n,r[n])})}function sde(e){var t=e.context,r=t.source,n=t.target;if(!cde(t)){var i=Ha(r),s=os(i,n,-10),o=[];/top|bottom/.test(s)&&o.push("x"),/left|right/.test(s)&&o.push("y"),o.forEach(function(a){var l=e[a],c;rde(l-i[a])<s_&&(l>i[a]?c=i[a]+s_:c=i[a]-s_,Xn(e,a,c))})}}function E9(e,t){Xn(e,"x",t.x),Xn(e,"y",t.y)}function _z(e,t){return e&&e.type===t}function ade(e,t){return Pu(t,function(r){return _z(e,r)})}function Sz(e,t){return e==="x"?t.width:t.height}function ode(e){return he(e,"bpmn:Task")?tde:ede}function lde(e,t,r){return e[r]>t[r]+S9&&e[r]<t[r]+Sz(r,t)-S9}function cde(e){var t=e.hover,r=e.source;return t&&r&&t===r}function Ku(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}Ku.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]};Ku.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,this._snapLocations.indexOf(e)===-1&&this._snapLocations.push(e)};Ku.prototype.addDefaultSnap=function(e,t){var r=this._defaultSnaps[e];r||(r=this._defaultSnaps[e]=[]),r.push(t)};Ku.prototype.getSnapLocations=function(){return this._snapLocations};Ku.prototype.setSnapLocations=function(e){this._snapLocations=e};Ku.prototype.pointsForTarget=function(e){var t=e.id||e,r=this._targets[t];return r||(r=this._targets[t]=new q2,r.initDefaults(this._defaultSnaps)),r};function q2(){this._snapValues={}}q2.prototype.add=function(e,t){var r=this._snapValues[e];r||(r=this._snapValues[e]={x:[],y:[]}),r.x.indexOf(t.x)===-1&&r.x.push(t.x),r.y.indexOf(t.y)===-1&&r.y.push(t.y)};q2.prototype.snap=function(e,t,r,n){var i=this._snapValues[t];return i&&vse(e[r],i[r],n)};q2.prototype.initDefaults=function(e){var t=this;Ce(e||{},function(r,n){Ce(r,function(i){t.add(n,i)})})};var ude=1250;function yl(e,t,r){var n=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],function(i){n.initSnap(i)}),t.on(["create.move","create.end","shape.move.move","shape.move.end"],ude,function(i){var s=i.context,o=s.shape,a=s.snapContext,l=s.target;if(!(i.originalEvent&&qa(i.originalEvent))&&!(Jf(i)||!l)){var c=a.pointsForTarget(l);c.initialized||(c=n.addSnapTargetPoints(c,o,l),c.initialized=!0),r.snap(i,c)}}),t.on(["create.cleanup","shape.move.cleanup"],function(){r.hide()})}yl.$inject=["elementRegistry","eventBus","snapping"];yl.prototype.initSnap=function(e){var t=this._elementRegistry,r=e.context,n=r.shape,i=r.snapContext;i||(i=r.snapContext=new Ku);var s;t.get(n.id)?s=Ha(n,e):s={x:e.x+Ha(n).x,y:e.y+Ha(n).y};var o={x:s.x-n.width/2,y:s.y-n.height/2},a={x:s.x+n.width/2,y:s.y+n.height/2};return i.setSnapOrigin("mid",{x:s.x-e.x,y:s.y-e.y}),Ir(n)||(i.setSnapOrigin("top-left",{x:o.x-e.x,y:o.y-e.y}),i.setSnapOrigin("bottom-right",{x:a.x-e.x,y:a.y-e.y})),i};yl.prototype.addSnapTargetPoints=function(e,t,r){var n=this.getSnapTargets(t,r);return Ce(n,function(i){if(Ir(i)){Ir(t)&&e.add("mid",Ha(i));return}if(Qr(i)){if(i.waypoints.length<3)return;var s=i.waypoints.slice(1,-1);Ce(s,function(o){e.add("mid",o)});return}e.add("mid",Ha(i))}),!Yt(t.x)||!Yt(t.y)||this._elementRegistry.get(t.id)&&e.add("mid",Ha(t)),e};yl.prototype.getSnapTargets=function(e,t){return DB(t).filter(function(r){return!dde(r)})};function dde(e){return!!e.hidden}var k9=1500;function Rp(e,t){t.invoke(yl,this),e.on(["create.move","create.end"],k9,mde),e.on(["create.move","create.end","shape.move.move","shape.move.end"],k9,function(r){var n=r.context,i=n.canExecute,s=n.target,o=i&&(i==="attach"||i.attach);o&&!Jf(r)&&hde(r,s)})}Ct(Rp,yl);Rp.$inject=["eventBus","injector"];Rp.prototype.initSnap=function(e){var t=yl.prototype.initSnap.call(this,e),r=e.shape,n=!!this._elementRegistry.get(r.id);return Ce(r.outgoing,function(i){var s=i.waypoints[0];s=s.original||s,t.setSnapOrigin(i.id+"-docking",A9(s,n,e))}),Ce(r.incoming,function(i){var s=i.waypoints[i.waypoints.length-1];s=s.original||s,t.setSnapOrigin(i.id+"-docking",A9(s,n,e))}),he(r,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t};Rp.prototype.addSnapTargetPoints=function(e,t,r){yl.prototype.addSnapTargetPoints.call(this,e,t,r);var n=this.getSnapTargets(t,r);Ce(n,function(s){(pde(s)||fde([t,s],"bpmn:TextAnnotation"))&&(e.add("top-left",MB(s)),e.add("bottom-right",LB(s)))});var i=this._elementRegistry;return Ce(t.incoming,function(s){if(i.get(t.id)){N9(n,s.source)||e.add("mid",Jt(s.source));var o=s.waypoints[0];e.add(s.id+"-docking",o.original||o)}}),Ce(t.outgoing,function(s){if(i.get(t.id)){N9(n,s.target)||e.add("mid",Jt(s.target));var o=s.waypoints[s.waypoints.length-1];e.add(s.id+"-docking",o.original||o)}}),he(r,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,r.parent)),e};Rp.prototype.getSnapTargets=function(e,t){return yl.prototype.getSnapTargets.call(this,e,t).filter(function(r){return!he(r,"bpmn:Lane")})};function hde(e,t){var r=Ht(t),n=cF(e,t),i=e.context,s=i.shape,o;s.parent?o={x:0,y:0}:o=Jt(s),/top/.test(n)?Xn(e,"y",r.top-o.y):/bottom/.test(n)&&Xn(e,"y",r.bottom-o.y),/left/.test(n)?Xn(e,"x",r.left-o.x):/right/.test(n)&&Xn(e,"x",r.right-o.x)}function fde(e,t){return e.every(function(r){return he(r,t)})}function pde(e){return he(e,"bpmn:SubProcess")&&Er(e)?!0:he(e,"bpmn:Participant")}function mde(e){var t=e.context,r=t.createConstraints;if(r){var n=r.top,i=r.right,s=r.bottom,o=r.left;(o&&o>=e.x||i&&i<=e.x)&&Xn(e,"x",e.x),(n&&n>=e.y||s&&s<=e.y)&&Xn(e,"y",e.y)}}function N9(e,t){return e.indexOf(t)!==-1}function A9(e,t,r){return t?{x:e.x-r.x,y:e.y-r.y}:{x:e.x,y:e.y}}var gde=1250;function Hg(e,t){var r=this;e.on(["resize.start"],function(n){r.initSnap(n)}),e.on(["resize.move","resize.end"],gde,function(n){var i=n.context,s=i.shape,o=s.parent,a=i.direction,l=i.snapContext;if(!(n.originalEvent&&qa(n.originalEvent))&&!Jf(n)){var c=l.pointsForTarget(o);c.initialized||(c=r.addSnapTargetPoints(c,s,o,a),c.initialized=!0),bde(a)&&Xn(n,"x",n.x),xde(a)&&Xn(n,"y",n.y),t.snap(n,c)}}),e.on(["resize.cleanup"],function(){t.hide()})}Hg.prototype.initSnap=function(e){var t=e.context,r=t.shape,n=t.direction,i=t.snapContext;i||(i=t.snapContext=new Ku);var s=Ez(r,n);return i.setSnapOrigin("corner",{x:s.x-e.x,y:s.y-e.y}),i};Hg.prototype.addSnapTargetPoints=function(e,t,r,n){var i=this.getSnapTargets(t,r);return Ce(i,function(s){e.add("corner",LB(s)),e.add("corner",MB(s))}),e.add("corner",Ez(t,n)),e};Hg.$inject=["eventBus","snapping"];Hg.prototype.getSnapTargets=function(e,t){return DB(t).filter(function(r){return!vde(r,e)&&!Qr(r)&&!yde(r)&&!Ir(r)})};function Ez(e,t){var r=Jt(e),n=Ht(e),i={x:r.x,y:r.y};return t.indexOf("n")!==-1?i.y=n.top:t.indexOf("s")!==-1&&(i.y=n.bottom),t.indexOf("e")!==-1?i.x=n.right:t.indexOf("w")!==-1&&(i.x=n.left),i}function vde(e,t){return e.host===t}function yde(e){return!!e.hidden}function bde(e){return e==="n"||e==="s"}function xde(e){return e==="e"||e==="w"}var wde=7,_de=1e3;function Xu(e){this._canvas=e,this._asyncHide=SL(Rs(this.hide,this),_de)}Xu.$inject=["canvas"];Xu.prototype.snap=function(e,t){var r=e.context,n=r.snapContext,i=n.getSnapLocations(),s={x:Jf(e,"x"),y:Jf(e,"y")};Ce(i,function(o){var a=n.getSnapOrigin(o),l={x:e.x+a.x,y:e.y+a.y};if(Ce(["x","y"],function(c){var u;s[c]||(u=t.snap(l,o,c,wde),u!==void 0&&(s[c]={value:u,originValue:u-a[c]}))}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),Ce(["x","y"],function(o){var a=s[o];Mi(a)&&Xn(e,o,a.originValue)})};Xu.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),r=Mt("path");return Nt(r,{d:"M0,0 L0,0"}),Pr(r).add("djs-snap-line"),rr(t,r),{update:function(n){Yt(n)?e==="horizontal"?Nt(r,{d:"M-100000,"+n+" L+100000,"+n,display:""}):Nt(r,{d:"M "+n+",-100000 L "+n+", +100000",display:""}):Nt(r,{display:"none"})}}};Xu.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};Xu.prototype.showSnapLine=function(e,t){var r=this.getSnapLine(e);r&&r.update(t),this._asyncHide()};Xu.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]};Xu.prototype.hide=function(){Ce(this._snapLines,function(e){e.update()})};const Sde={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",yl],resizeSnapping:["type",Hg],snapping:["type",Xu]},Ede={__depends__:[Sde],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",wz],createMoveSnapping:["type",Rp]};var kz=300;function nr(e,t,r,n){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=e,this._eventBus=t,this._selection=r,this._translate=n,this._container=this._getBoxHtml(),this._searchInput=Jr(nr.INPUT_SELECTOR,this._container),this._resultsContainer=Jr(nr.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}nr.$inject=["canvas","eventBus","selection","translate"];nr.prototype._bindEvents=function(){var e=this;function t(r,n,i,s){e._eventMaps.push({el:r,type:i,listener:Ks.bind(r,n,i,s)})}t(document,"html","click",function(r){e.close(!1)}),t(this._container,nr.INPUT_SELECTOR,"click",function(r){r.stopPropagation(),r.delegateTarget.focus()}),t(this._container,nr.RESULT_SELECTOR,"mouseover",function(r){r.stopPropagation(),e._scrollToNode(r.delegateTarget),e._preselect(r.delegateTarget)}),t(this._container,nr.RESULT_SELECTOR,"click",function(r){r.stopPropagation(),e._select(r.delegateTarget)}),t(this._container,nr.INPUT_SELECTOR,"keydown",function(r){Ri("ArrowUp",r)&&r.preventDefault(),Ri("ArrowDown",r)&&r.preventDefault()}),t(this._container,nr.INPUT_SELECTOR,"keyup",function(r){if(Ri("Escape",r))return e.close();if(Ri("Enter",r)){var n=e._getCurrentResult();return n?e._select(n):e.close(!1)}if(Ri("ArrowUp",r))return e._scrollToDirection(!0);if(Ri("ArrowDown",r))return e._scrollToDirection();Ri(["ArrowLeft","ArrowRight"],r)||e._search(r.delegateTarget.value)})};nr.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){Ks.unbind(e.el,e.type,e.listener)})};nr.prototype._search=function(e){var t=this;if(this._clearResults(),!!e.trim()){var r=this._searchProvider.find(e);if(r=r.filter(function(i){return!t._canvas.getRootElements().includes(i.element)}),!r.length){this._selection.select(null);return}r.forEach(function(i){var s=i.element.id,o=t._createResultNode(i,s);t._results[s]={element:i.element,node:o}});var n=Jr(nr.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(n),this._preselect(n)}};nr.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var r=e?t.previousElementSibling:t.nextElementSibling;r&&(this._scrollToNode(r),this._preselect(r))}};nr.prototype._scrollToNode=function(e){if(!(!e||e===this._getCurrentResult())){var t=e.offsetTop,r=this._resultsContainer.scrollTop,n=t-this._resultsContainer.clientHeight+e.clientHeight;t<r?this._resultsContainer.scrollTop=t:r<n&&(this._resultsContainer.scrollTop=n)}};nr.prototype._clearResults=function(){Gb(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")};nr.prototype._getCurrentResult=function(){return Jr(nr.RESULT_SELECTED_SELECTOR,this._resultsContainer)};nr.prototype._createResultNode=function(e,t){var r=dn(nr.RESULT_HTML);return e.primaryTokens.length>0&&C9(r,e.primaryTokens,nr.RESULT_PRIMARY_HTML),C9(r,e.secondaryTokens,nr.RESULT_SECONDARY_HTML),Qi(r,nr.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(r),r};nr.prototype.registerProvider=function(e){this._searchProvider=e};nr.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,On(this._canvas.getContainer()).add("djs-search-open"),On(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))};nr.prototype.close=function(e=!0){this.isOpen()&&(e&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,On(this._canvas.getContainer()).remove("djs-search-open"),On(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())};nr.prototype.toggle=function(){this.isOpen()?this.close():this.open()};nr.prototype.isOpen=function(){return this._open};nr.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&On(t).remove(nr.RESULT_SELECTED_CLASS);var r=Qi(e,nr.RESULT_ID_ATTRIBUTE),n=this._results[r].element;On(e).add(nr.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(n,{top:kz}),this._selection.select(n),this._eventBus.fire("searchPad.preselected",n)}};nr.prototype._select=function(e){var t=Qi(e,nr.RESULT_ID_ATTRIBUTE),r=this._results[t].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(r,{top:kz}),this._selection.select(r),this._eventBus.fire("searchPad.selected",r)};nr.prototype._getBoxHtml=function(){const e=dn(nr.BOX_HTML),t=Jr(nr.INPUT_SELECTOR,e);return t&&t.setAttribute("aria-label",this._translate("Search in diagram")),e};function C9(e,t,r){var n=kde(t),i=dn(r);i.innerHTML=n,e.appendChild(i)}function kde(e){var t="";return e.forEach(function(r){var n=ND(r.value||r.matched||r.normal),i=r.match||r.matched;i?t+='<b class="'+nr.RESULT_HIGHLIGHT_CLASS+'">'+n+"</b>":t+=n}),t!==""?t:null}nr.CONTAINER_SELECTOR=".djs-search-container";nr.INPUT_SELECTOR=".djs-search-input input";nr.RESULTS_CONTAINER_SELECTOR=".djs-search-results";nr.RESULT_SELECTOR=".djs-search-result";nr.RESULT_SELECTED_CLASS="djs-search-result-selected";nr.RESULT_SELECTED_SELECTOR="."+nr.RESULT_SELECTED_CLASS;nr.RESULT_ID_ATTRIBUTE="data-result-id";nr.RESULT_HIGHLIGHT_CLASS="djs-search-highlight";nr.BOX_HTML=`<div class="djs-search-container djs-scrollable">
  <div class="djs-search-input">
    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
    </svg>
    <input type="text" spellcheck="false" />
  </div>
  <div class="djs-search-results" />
</div>`;nr.RESULT_HTML='<div class="djs-search-result"></div>';nr.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>';nr.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const Nde={__depends__:[n2,s2,To],searchPad:["type",nr]};function _E(e,t,r,n){this._elementRegistry=e,this._canvas=r,this._search=n,t.registerProvider(this)}_E.$inject=["elementRegistry","searchPad","canvas","search"];_E.prototype.find=function(e){var t=this._canvas.getRootElements(),r=this._elementRegistry.filter(function(n){return!Ir(n)&&!t.includes(n)});return this._search(r.map(n=>({element:n,label:Ao(n),id:n.id})),e,{keys:["label","id"]}).map(Ade)};function Ade(e){const{item:{element:t},tokens:r}=e;return{element:t,primaryTokens:r.label,secondaryTokens:r.id}}const Cde={__depends__:[Nde,mB],__init__:["bpmnSearch"],bpmnSearch:["type",_E]},jde="M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",Tde="M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",Rde={width:36,height:50},Pde={width:50,height:50};function j9(e,t,r){return Mt("path",{d:e,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...r})}const Xc=5;function V2(e,t){this._styles=t,e.registerProvider(this)}V2.$inject=["outline","styles"];V2.prototype.getOutline=function(e){const t=this._styles.cls("djs-outline",["no-fill"]);var r;if(!Ir(e))return he(e,"bpmn:Gateway")?(r=Mt("rect"),Ie(r.style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Nt(r,Ie({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},t))):gr(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?(r=Mt("rect"),Nt(r,Ie({x:-Xc,y:-Xc,rx:14,width:e.width+Xc*2,height:e.height+Xc*2},t))):he(e,"bpmn:EndEvent")?(r=Mt("circle"),Nt(r,Ie({cx:e.width/2,cy:e.height/2,r:e.width/2+Xc+1},t))):he(e,"bpmn:Event")?(r=Mt("circle"),Nt(r,Ie({cx:e.width/2,cy:e.height/2,r:e.width/2+Xc},t))):he(e,"bpmn:DataObjectReference")&&T9(e,"bpmn:DataObjectReference")?r=j9(jde,{x:-6,y:-6},t):he(e,"bpmn:DataStoreReference")&&T9(e,"bpmn:DataStoreReference")&&(r=j9(Tde,{x:-6,y:-6},t)),r};V2.prototype.updateOutline=function(e,t){if(!Ir(e))return gr(e,["bpmn:SubProcess","bpmn:Group"])?(Nt(t,{width:e.width+Xc*2,height:e.height+Xc*2}),!0):!!gr(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};function T9(e,t){var r;return t==="bpmn:DataObjectReference"?r=Rde:t==="bpmn:DataStoreReference"&&(r=Pde),e.width===r.width&&e.height===r.height}const Ode={__depends__:[fz],__init__:["outlineProvider"],outlineProvider:["type",V2]};var Ide='<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>';function So(e){xg.call(this,e)}Ct(So,xg);So.Viewer=Bu;So.NavigatedViewer=Z0;So.prototype.createDiagram=function(){return this.importXML(Ide)};So.prototype._interactionModules=[zD,WD,GD];So.prototype._modelingModules=[Tie,oS,Qie,Gie,bse,hS,kse,Pce,CF,N2,Lce,Fce,rue,iue,sue,uue,_ue,YF,jue,zue,Zue,Jue,cz,Ede,Cde,Ode];So.prototype._modules=[].concat(Bu.prototype._modules,So.prototype._interactionModules,So.prototype._modelingModules);async function Nz(e,t=2){const r=document.createElement("div");r.style.width="2000px",r.style.height="2000px",r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);try{const n=new So({container:r});await n.importXML(e),n.get("canvas").zoom("fit-viewport");const{svg:s}=await n.saveSVG(),o=await Mde(s,t);return document.body.removeChild(r),n.destroy(),o}catch(n){throw document.body.removeChild(r),n}}async function Mde(e,t){return new Promise((r,n)=>{const i=new Image,s=new Blob([e],{type:"image/svg+xml"}),o=URL.createObjectURL(s);i.onload=()=>{const a=document.createElement("canvas");a.width=i.width*t,a.height=i.height*t;const l=a.getContext("2d");if(!l){n(new Error("Could not get canvas context"));return}l.scale(t,t),l.drawImage(i,0,0),a.toBlob(c=>{URL.revokeObjectURL(o),c?r(c):n(new Error("Failed to create PNG blob"))},"image/png")},i.onerror=()=>{URL.revokeObjectURL(o),n(new Error("Failed to load SVG image"))},i.src=o})}async function Lde(e){const t=await Nz(e,2),r=(await Ql(async()=>{const{default:i}=await Promise.resolve().then(()=>eJ);return{default:i}},void 0)).default,n=new r({orientation:"landscape",unit:"mm",format:"a4"});return new Promise((i,s)=>{const o=new FileReader;o.onload=()=>{const a=o.result,l=n.internal.pageSize.getWidth(),c=n.internal.pageSize.getHeight(),u=new Image;u.onload=()=>{const h=u.width,f=u.height,d=Math.min(l/h,c/f),p=h*d*.9,g=f*d*.9,m=(l-p)/2,v=(c-g)/2;n.addImage(a,"PNG",m,v,p,g),i(n.output("blob"))},u.onerror=()=>s(new Error("Failed to load image")),u.src=a},o.onerror=()=>s(new Error("Failed to read PNG blob")),o.readAsDataURL(t)})}async function a_(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function Dde({artifactType:e,content:t,title:r,subtitle:n}){const[i,s]=Me.useState(!1),[o,a]=Me.useState(!1),[l,c]=Me.useState({top:0,left:0}),u=Me.useRef(null),h=Me.useRef(null),f=async m=>{s(!1),a(!0);try{if(!t)throw new Error("No content available for export");const v={title:r,subtitle:n,author:"OllieProcess",date:new Date,processCode:"BP-001",version:"1.0"},y=new Date().toISOString().split("T")[0],x=`${r.replace(/\s+/g,"_")}_${y}`;if(e==="bpmn"){const w=typeof t=="string"?t:(t==null?void 0:t.bpmn_xml)||"";if(!w)throw new Error("No BPMN content found");if(m==="xml"){const _=new Blob([w],{type:"application/xml"});await a_(_,`${x}.bpmn`)}else if(m==="png"){const _=await Nz(w,2);await a_(_,`${x}.png`)}else if(m==="pdf"){const _=await Lde(w);await a_(_,`${x}.pdf`)}}else if(m==="pdf"){let w;if(e==="sop")w=await BJ(t,v);else if(e==="raci")w=await zJ(t,v);else if(e==="risk")w=await $J(t,v);else throw new Error("Unsupported artifact type");await WJ(w,`${x}.pdf`)}else{alert(`${m.toUpperCase()} export coming soon. PDF export is available now.`);return}s(!1)}catch(v){console.error("Export error:",v),alert(`Failed to export document: ${v instanceof Error?v.message:"Unknown error"}

Check browser console for details.`)}finally{a(!1)}},d=()=>{if(e==="bpmn")return[{format:"xml",icon:Ii,label:"BPMN XML (Editable)",description:"Editable BPMN diagram"},{format:"png",icon:GN,label:"PNG Image",description:"High-resolution image"},{format:"pdf",icon:Ii,label:"PDF Document",description:"Printable format"}];const m=[{format:"pdf",icon:Ii,label:"PDF Document",description:"Professional PDF with pagination"},{format:"docx",icon:GN,label:"Word Document",description:"Editable Microsoft Word format"},{format:"pptx",icon:uG,label:"PowerPoint",description:"Presentation slides"}];return(e==="raci"||e==="risk")&&m.splice(2,0,{format:"xlsx",icon:hG,label:"Excel Spreadsheet",description:"Editable spreadsheet format"}),m},p=()=>{if(!i&&u.current){const m=u.current.getBoundingClientRect();c({top:m.bottom+window.scrollY+8,left:m.right+window.scrollX-320})}s(!i)};Me.useEffect(()=>{const m=v=>{h.current&&!h.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&s(!1)};if(i)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[i]);const g=i&&hI.createPortal(b.jsxs("div",{ref:h,className:"fixed w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-[9999]",style:{top:`${l.top}px`,left:`${l.left}px`},children:[b.jsxs("div",{className:"p-3 border-b border-gray-200",children:[b.jsx("h3",{className:"font-semibold text-gray-900",children:"Export Format"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred format"})]}),b.jsx("div",{className:"p-2",children:d().map(({format:m,icon:v,label:y,description:x})=>b.jsxs("button",{onClick:w=>{w.stopPropagation(),f(m)},disabled:o,className:"w-full flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:b.jsx(v,{className:"w-5 h-5 text-blue-600"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"font-medium text-gray-900 text-sm",children:y}),b.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:x})]})]},m))}),b.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:b.jsx("p",{className:"text-xs text-gray-600",children:"All exports include proper formatting, pagination, and professional styling."})})]}),document.body);return b.jsxs(b.Fragment,{children:[b.jsxs("button",{ref:u,onClick:p,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b.jsx(I0,{className:"w-4 h-4"}),o?"Exporting...":"Export"]}),g]})}function Bde({artifactData:e,artifactId:t,artifactType:r,processTitle:n}){const{user:i}=Is(),[s,o]=Me.useState(!1),[a,l]=Me.useState(!1),[c,u]=Me.useState({title:`${n||"Process"} - ${r.toUpperCase()}`,content:"",version:"1.0"}),h=()=>{let p="";typeof e=="string"?p=e:e.content?p=e.content:e.sections&&Array.isArray(e.sections)?p=e.sections.map(g=>`${g.section||g.title}

${g.content||g.description||""}

`).join(`
`):p=JSON.stringify(e,null,2),u({...c,content:p})},f=()=>{h(),o(!0)},d=async()=>{if(!i||!c.title||!c.content){alert("Please fill in all required fields");return}l(!0);try{const{data:p,error:g}=await He.from("sops").insert({title:c.title,content:c.content,version:c.version,status:"draft",created_by:i.id,source_artifact_id:t}).select().single();if(g)throw g;await t4(p.id,c.content,`Created from ${r} artifact`),alert("SOP created successfully! It is now in draft status."),o(!1),u({title:`${n||"Process"} - ${r.toUpperCase()}`,content:"",version:"1.0"})}catch(p){console.error("Error creating SOP:",p),alert("Failed to create SOP. Please try again.")}finally{l(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Create SOP from this artifact",children:[b.jsx(Ii,{className:"w-4 h-4"}),"Create SOP"]}),s&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create SOP from Artifact"}),b.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:b.jsx(ll,{className:"w-6 h-6"})})]}),b.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOP Title *"}),b.jsx("input",{type:"text",value:c.title,onChange:p=>u({...c,title:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter SOP title..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version"}),b.jsx("input",{type:"text",value:c.version,onChange:p=>u({...c,version:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1.0"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),b.jsx("textarea",{value:c.content,onChange:p=>u({...c,content:p.target.value}),rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"SOP content will be auto-populated from the artifact..."})]}),b.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:b.jsxs("p",{className:"text-sm text-blue-800",children:[b.jsx("strong",{children:"Note:"})," This SOP will be created as a draft. You can edit it further, request approval, and then publish it from the SOP Builder module."]})})]})}),b.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:[b.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:a,children:"Cancel"}),b.jsxs("button",{onClick:d,disabled:a||!c.title||!c.content,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[b.jsx(Gl,{className:"w-4 h-4"}),a?"Creating...":"Create SOP"]})]})]})})]})}function Fde(){var L;const[e,t]=Me.useState([]),[r,n]=Me.useState([]),[i,s]=Me.useState([]),[o,a]=Me.useState([]),[l,c]=Me.useState(!1),[u,h]=Me.useState(!1),[f,d]=Me.useState("upload"),[p,g]=Me.useState(""),[m,v]=Me.useState(null);Me.useEffect(()=>{y()},[]);const y=async()=>{try{const[O,H]=await Promise.all([HG(),JG()]);t(O),a(H)}catch(O){console.error("Error loading data:",O)}},x=async O=>{var G;const H=(G=O.target.files)==null?void 0:G[0];if(H){c(!0),g("Uploading document...");try{const I=await $G(H);g("AI is analyzing your process document... (this may take 30-60 seconds)");const R=await WG(I,H);g("AI is generating BPMN diagram with swimlanes... (30-60 seconds)");let S="";try{S=await qG(I)}catch(j){console.error("BPMN generation failed:",j),g("BPMN generation failed, continuing with other artifacts...")}g("AI is creating Standard Operating Procedures... (30-60 seconds)");try{await KG(I,R.processName||H.name,S)}catch(j){console.error("SOP generation failed:",j)}g("AI is generating RACI matrix... (20-40 seconds)");try{await XG(I,R.processName||H.name)}catch(j){console.error("RACI generation failed:",j)}g("AI is analyzing risks and creating control matrix... (20-40 seconds)");try{await ZG(I,R.processName||H.name)}catch(j){console.error("Risk control generation failed:",j)}g("Complete! Artifacts generated successfully."),await y(),await w(I),setTimeout(()=>g(""),3e3)}catch(I){console.error("Error uploading:",I),alert(I.message||"Failed to upload document. Please check your OpenAI API key and internet connection."),g("")}finally{c(!1)}}},w=async O=>{h(!0);try{const H=await YG(O);s(H),d("artifacts")}catch(H){console.error("Error loading artifacts:",H),alert("Failed to load artifacts")}finally{h(!1)}},_=async(O,H)=>{try{await XI(O,H),alert("Approval request submitted"),y()}catch(G){console.error("Error requesting approval:",G),alert("Failed to request approval")}},M=async O=>{try{await VG(O),alert("Document approved"),y()}catch(H){console.error("Error approving:",H),alert("Failed to approve")}},U=async O=>{const H=prompt("Please enter rejection reason:");if(H)try{await GG(O,H),alert("Document rejected"),y()}catch(G){console.error("Error rejecting:",G),alert("Failed to reject")}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(Ii,{className:"w-7 h-7 text-blue-600"}),"Enhanced Process Management"]}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Upload, parse, and auto-generate process artifacts"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100 text-sm",children:"Documents"}),b.jsx("p",{className:"text-2xl font-bold mt-1",children:e.length})]}),b.jsx(Ii,{className:"w-10 h-10 text-blue-200"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-100 text-sm",children:"Versions"}),b.jsx("p",{className:"text-2xl font-bold mt-1",children:r.length})]}),b.jsx(Wd,{className:"w-10 h-10 text-green-200"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-100 text-sm",children:"Artifacts"}),b.jsx("p",{className:"text-2xl font-bold mt-1",children:i.length})]}),b.jsx(vo,{className:"w-10 h-10 text-purple-200"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-orange-100 text-sm",children:"Pending Approvals"}),b.jsx("p",{className:"text-2xl font-bold mt-1",children:o.length})]}),b.jsx(br,{className:"w-10 h-10 text-orange-200"})]})})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"border-b border-gray-200",children:b.jsxs("div",{className:"flex",children:[b.jsx("button",{onClick:()=>d("upload"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="upload"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Upload & Parse"}),b.jsx("button",{onClick:()=>d("versions"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="versions"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Version Control"}),b.jsx("button",{onClick:()=>d("artifacts"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="artifacts"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Generated Artifacts"}),b.jsx("button",{onClick:()=>d("approvals"),className:`flex-1 px-6 py-4 text-sm font-medium ${f==="approvals"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Approvals"})]})}),b.jsxs("div",{className:"p-6",children:[f==="upload"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[b.jsx(p8,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Process Documents"}),b.jsx("p",{className:"text-gray-600 mb-4",children:"PDF, PPTX, DOCX, VSDX (Max 25MB)"}),b.jsxs("label",{className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:["Choose File",b.jsx("input",{type:"file",onChange:x,accept:".pdf,.pptx,.docx,.vsdx",disabled:l,className:"hidden"})]}),p&&b.jsx("p",{className:"mt-4 text-blue-600 font-medium",children:p})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Uploads"}),e.map(O=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-semibold text-gray-900",children:O.document_name}),b.jsxs("p",{className:"text-sm text-gray-600",children:[O.document_type," • ",O.file_size_mb.toFixed(2)," MB"]}),b.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[b.jsxs("span",{children:["📅 ",new Date(O.uploaded_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),b.jsxs("span",{children:["🕒 ",new Date(O.uploaded_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),b.jsxs("span",{children:["👤 ",O.uploader_email||"Unknown"]})]})]}),b.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full flex-shrink-0 ${O.bpmn_generated?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:O.bpmn_generated?"BPMN Generated":O.parsing_status})]}),b.jsxs("div",{className:"flex gap-2 mt-3",children:[b.jsx("button",{onClick:()=>w(O.id),className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded hover:bg-purple-200",children:"View Artifacts"}),b.jsx("button",{onClick:()=>_("process_document",O.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Request Approval"})]})]},O.id))]})]}),f==="versions"&&b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-gray-600",children:"Version control tracks all changes to process maps with full audit trail"}),r.map(O=>b.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsxs("h4",{className:"font-semibold text-gray-900",children:["Version ",O.version_number]}),O.version_name&&b.jsx("p",{className:"text-sm text-gray-600",children:O.version_name}),O.change_summary&&b.jsx("p",{className:"text-sm text-gray-700 mt-1",children:O.change_summary})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${O.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:O.approval_status}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(O.created_at).toLocaleDateString()})]})]})},O.id))]}),f==="artifacts"&&b.jsx("div",{children:u?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading artifacts..."})]}):i.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx(vo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Artifacts Yet"}),b.jsx("p",{className:"text-gray-600",children:'Click "View Artifacts" on an uploaded document to see generated SOPs, RACI matrices, and risk controls.'})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:i.map(O=>{var H;return b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[b.jsxs("div",{className:`p-2 rounded-lg ${O.artifact_type==="bpmn"?"bg-purple-100":O.artifact_type==="sop"?"bg-blue-100":O.artifact_type==="raci"?"bg-green-100":"bg-orange-100"}`,children:[O.artifact_type==="bpmn"&&b.jsx(Wd,{className:"w-5 h-5 text-purple-600"}),O.artifact_type==="sop"&&b.jsx(Ii,{className:"w-5 h-5 text-blue-600"}),O.artifact_type==="raci"&&b.jsx(gu,{className:"w-5 h-5 text-green-600"}),O.artifact_type==="risk_control"&&b.jsx(go,{className:"w-5 h-5 text-orange-600"})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900",children:O.artifact_name}),b.jsxs("p",{className:"text-xs text-gray-600",children:["Confidence: ",O.confidence_score,"%"]})]})]}),((H=O.artifact_data)==null?void 0:H.content)&&b.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded text-xs text-gray-700 max-h-32 overflow-y-auto",children:[O.artifact_data.content.substring(0,200),"..."]}),b.jsx("button",{onClick:()=>v(O),className:"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"View Full Details"})]},O.id)})})}),f==="approvals"&&b.jsx("div",{className:"space-y-3",children:o.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx(br,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Approvals"}),b.jsx("p",{className:"text-gray-600",children:"Approval requests will appear here when documents need review."})]}):o.map(O=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900",children:O.document_type.replace("_"," ").toUpperCase()}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Requested: ",new Date(O.requested_at).toLocaleString()]})]}),b.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>M(O.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[b.jsx(br,{className:"w-4 h-4"}),"Approve"]}),b.jsxs("button",{onClick:()=>U(O.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:[b.jsx($f,{className:"w-4 h-4"}),"Reject"]})]})]},O.id))})]})]}),m&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:`p-2 rounded-lg ${m.artifact_type==="bpmn"?"bg-purple-100":m.artifact_type==="sop"?"bg-blue-100":m.artifact_type==="raci"?"bg-green-100":"bg-orange-100"}`,children:[m.artifact_type==="bpmn"&&b.jsx(Wd,{className:"w-6 h-6 text-purple-600"}),m.artifact_type==="sop"&&b.jsx(Ii,{className:"w-6 h-6 text-blue-600"}),m.artifact_type==="raci"&&b.jsx(gu,{className:"w-6 h-6 text-green-600"}),m.artifact_type==="risk_control"&&b.jsx(go,{className:"w-6 h-6 text-orange-600"})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m.artifact_name}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Confidence Score: ",m.confidence_score,"%"]})]})]}),b.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:b.jsx(ll,{className:"w-6 h-6 text-gray-500"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:(L=m.artifact_data)!=null&&L.content?b.jsx("div",{className:"prose max-w-none",children:b.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 bg-gray-50 p-4 rounded-lg",children:m.artifact_data.content})}):b.jsx("div",{className:"text-center py-12 text-gray-500",children:"No content available for this artifact"})}),b.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[b.jsx(Bde,{artifactData:m.artifact_data,artifactId:m.id,artifactType:m.artifact_type==="risk_control"?"risk":m.artifact_type,processTitle:m.artifact_name}),b.jsx(Dde,{artifactType:m.artifact_type==="risk_control"?"risk":m.artifact_type==="bpmn"?"bpmn":m.artifact_type,content:m.artifact_data,title:m.artifact_name,subtitle:`Confidence Score: ${m.confidence_score}%`}),b.jsx("button",{onClick:()=>{var I;const O=new Blob([((I=m.artifact_data)==null?void 0:I.content)||""],{type:"text/plain"}),H=window.URL.createObjectURL(O),G=document.createElement("a");G.href=H,G.download=`${m.artifact_name}.txt`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(H)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Download"}),b.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})]})})]})}const zde=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_1" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`,R9=({initialDiagram:e,initialXML:t,onSave:r,onCancel:n})=>{const i=Me.useRef(null),s=Me.useRef(null),[o,a]=Me.useState(!1),[l,c]=Me.useState(!1);Me.useEffect(()=>{if(!i.current)return;const g=new So({container:i.current,keyboard:{bindTo:document},height:"100%"});s.current=g;const m=t||zde;return g.importXML(m).then(()=>{g.get("canvas").zoom("fit-viewport"),a(!0)}).catch(y=>{console.error("Error loading BPMN diagram:",y),a(!0)}),g.get("eventBus").on("commandStack.changed",()=>{c(!0)}),()=>{g.destroy()}},[]);const u=async()=>{if(s.current)try{const{xml:g}=await s.current.saveXML({format:!0});g&&(r(g),c(!1))}catch(g){console.error("Error saving BPMN diagram:",g),alert("Failed to save diagram. Please try again.")}},h=async()=>{if(s.current)try{const{xml:g}=await s.current.saveXML({format:!0});if(g){const m=new Blob([g],{type:"application/xml"}),v=URL.createObjectURL(m),y=document.createElement("a");y.href=v,y.download=`process-${Date.now()}.bpmn`,y.click(),URL.revokeObjectURL(v)}}catch(g){console.error("Error downloading BPMN diagram:",g)}},f=()=>{if(!s.current)return;const g=s.current.get("canvas"),m=g.zoom();g.zoom(m+.1)},d=()=>{if(!s.current)return;const g=s.current.get("canvas"),m=g.zoom();g.zoom(m-.1)},p=()=>{if(!s.current)return;s.current.get("canvas").zoom("fit-viewport")};return b.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg overflow-hidden",children:[b.jsxs("div",{className:"bg-gray-50 border-b px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"font-semibold text-gray-900",children:"BPMN Process Modeler"}),l&&b.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Unsaved changes"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Zoom Out",children:b.jsx(yG,{className:"w-4 h-4"})}),b.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Fit to Screen",children:b.jsx(VI,{className:"w-4 h-4"})}),b.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Zoom In",children:b.jsx(vG,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),b.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:[b.jsx(I0,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm",children:"Download"})]}),b.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[b.jsx(Gl,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium",children:"Save"})]}),n&&b.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:[b.jsx(ll,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm",children:"Cancel"})]})]})]}),b.jsx("div",{ref:i,className:"flex-1 bg-white",style:{minHeight:"600px",height:"100%"},children:!o&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}),b.jsx("div",{className:"bg-gray-50 border-t px-4 py-2 text-xs text-gray-600",children:b.jsxs("p",{children:[b.jsx("strong",{children:"Tips:"})," Drag elements from the palette on the left. Click elements to edit properties. Use the context menu (right-click) for more options."]})})]})};async function Ude(e,t,r={},n="medium"){const i=(await He.auth.getUser()).data.user;if(!i)throw new Error("User not authenticated");const{data:s}=await He.from("process_versions").select("*").eq("process_id",e).eq("is_active",!0).single();if(!s)throw new Error("No active version found for this process");const a=s.diagram_data.nodes.find(u=>u.type==="start");if(!a)throw new Error("No start node found in process diagram");const{data:l,error:c}=await He.from("process_instances").insert({process_id:e,version_id:s.id,instance_name:t,status:"running",current_node_id:a.id,progress_percentage:0,priority:n,started_by:i.id,variables:r}).select().single();if(c)throw c;return await Eh(l.id,null,"process_started",`Process instance "${t}" started`,i.id,null,a.id),await Az(l.id,a.id),l.id}async function Az(e,t){const{data:r}=await He.from("process_instances").select("*, process_versions!inner(diagram_data)").eq("id",e).single();if(!r)throw new Error("Process instance not found");const n=r.process_versions.diagram_data,i=n.connections.filter(l=>l.from===t);if(i.length===0){await Wde(e);return}for(const l of i){const c=n.nodes.find(u=>u.id===l.to);c&&await $de(e,c)}const s=await He.from("process_tasks").select("id").eq("instance_id",e).eq("status","completed"),o=await He.from("process_tasks").select("id").eq("instance_id",e),a=o.data&&s.data?Math.round(s.data.length/o.data.length*100):0;await He.from("process_instances").update({progress_percentage:a,current_node_id:i[0].to}).eq("id",e)}async function $de(e,t){if((await He.from("process_tasks").select("id").eq("instance_id",e).eq("node_id",t.id).maybeSingle()).data)return;const{data:n}=await He.from("process_instances").select("priority").eq("id",e).single(),i={instance_id:e,node_id:t.id,node_label:t.label,node_type:t.type,status:t.type==="end"?"completed":"pending",priority:(n==null?void 0:n.priority)||"medium"},{data:s,error:o}=await He.from("process_tasks").insert(i).select().single();if(o)throw o;return t.type==="end"?await i6(s.id,{}):t.type==="task"?await Hde(s.id):t.type==="automated"&&await i6(s.id,{auto_completed:!0}),s}async function Hde(e){const{data:t}=await He.from("users_profile").select("id").limit(1);if(t&&t.length>0){await He.from("process_tasks").update({assigned_to:t[0].id,assigned_at:new Date().toISOString(),status:"assigned"}).eq("id",e);const r=(await He.auth.getUser()).data.user;await He.from("task_assignments").insert({task_id:e,user_id:t[0].id,assigned_by:(r==null?void 0:r.id)||t[0].id,assignment_type:"primary",status:"pending"})}}async function i6(e,t){const r=(await He.auth.getUser()).data.user;if(!r)throw new Error("User not authenticated");const{data:n}=await He.from("process_tasks").select("*, process_instances!inner(id)").eq("id",e).single();if(!n)throw new Error("Task not found");const i=n.started_at?new Date(n.started_at):new Date(n.created_at),s=Math.round((Date.now()-i.getTime())/6e4);await He.from("process_tasks").update({status:"completed",completed_at:new Date().toISOString(),completion_data:t,time_spent_minutes:s}).eq("id",e),await Eh(n.instance_id,e,"task_completed",`Task "${n.node_label}" completed`,r.id,n.node_id,null,t),await Az(n.instance_id,n.node_id)}async function Wde(e){const t=(await He.auth.getUser()).data.user,{data:r}=await He.from("process_instances").select("started_at").eq("id",e).single();if(!r)return;const n=Math.round((Date.now()-new Date(r.started_at).getTime())/6e4);await He.from("process_instances").update({status:"completed",completed_at:new Date().toISOString(),progress_percentage:100,actual_duration_minutes:n}).eq("id",e),await Eh(e,null,"process_completed","Process completed successfully",t==null?void 0:t.id,null,null)}async function Eh(e,t,r,n,i,s,o,a){await He.from("process_execution_log").insert({instance_id:e,task_id:t,event_type:r,event_description:n,actor_id:i,from_node_id:s,to_node_id:o,event_data:a})}async function qde(e){let t=He.from("process_instances").select(`
      *,
      processes!inner(name, category),
      users_profile!process_instances_started_by_fkey(full_name)
    `).in("status",["running","paused"]);e&&(t=t.or(`started_by.eq.${e},id.in.(select instance_id from process_tasks where assigned_to=${e})`));const{data:r,error:n}=await t.order("started_at",{ascending:!1});if(n)throw n;return r}async function Vde(e,t){let r=He.from("process_tasks").select(`
      *,
      process_instances!inner(
        instance_name,
        priority,
        processes!inner(name)
      )
    `).eq("assigned_to",e);t?r=r.eq("status",t):r=r.in("status",["pending","assigned","in_progress"]);const{data:n,error:i}=await r.order("created_at",{ascending:!0});if(i)throw i;return n}async function Gde(e){const t=(await He.auth.getUser()).data.user;if(!t)throw new Error("User not authenticated");const{error:r}=await He.from("process_tasks").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",e);if(r)throw r;const{data:n}=await He.from("process_tasks").select("instance_id, node_label").eq("id",e).single();n&&await Eh(n.instance_id,e,"task_started",`Task "${n.node_label}" started`,t.id)}async function Kde(e){const t=(await He.auth.getUser()).data.user;await He.from("process_instances").update({status:"paused"}).eq("id",e),await Eh(e,null,"process_paused","Process paused",t==null?void 0:t.id)}async function Xde(e){const t=(await He.auth.getUser()).data.user;await He.from("process_instances").update({status:"running"}).eq("id",e),await Eh(e,null,"process_resumed","Process resumed",t==null?void 0:t.id)}async function Zde(e,t){const r=(await He.auth.getUser()).data.user;await He.from("process_instances").update({status:"cancelled",error_message:t,completed_at:new Date().toISOString()}).eq("id",e),await Eh(e,null,"process_cancelled",`Process cancelled: ${t}`,r==null?void 0:r.id)}const Yde=()=>{const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState(!0),[s,o]=Me.useState(!1),[a,l]=Me.useState(!1),[c,u]=Me.useState(!1),[h,f]=Me.useState(null),[d,p]=Me.useState(null),[g,m]=Me.useState({name:"",description:"",category:"",status:"draft"});Me.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:G,error:I}=await He.from("processes").select("*").order("created_at",{ascending:!1});if(I)throw I;r(G||[])}catch(G){console.error("Error loading processes:",G)}finally{i(!1)}},y=()=>{m({name:"",description:"",category:"",status:"draft"}),f(null),u(!0)},x=()=>{if(!g.name.trim()){alert("Please enter a process name");return}u(!1),o(!0)},w=G=>{m({name:G.name,description:G.description||"",category:G.category||"",status:G.status}),f(G),o(!0)},_=G=>{p(G),l(!0)},M=async G=>{try{const I={...g,bpmn_xml:G,owner_id:e==null?void 0:e.id};let R=h==null?void 0:h.id;if(h){const{error:S}=await He.from("processes").update(I).eq("id",h.id);if(S)throw S}else{const{data:S,error:j}=await He.from("processes").insert(I).select().single();if(j)throw j;R=S.id}o(!1),f(null),v()}catch(I){console.error("Error saving process:",I),alert("Failed to save process: "+I.message)}},U=async G=>{const I=prompt("Enter a name for this process instance:");if(I)try{const R=await Ude(G.id,I);alert(`Process instance created successfully! ID: ${R}`),v()}catch(R){console.error("Error starting process:",R),alert("Failed to start process: "+R.message)}},L=async G=>{if(confirm("Delete this process?"))try{const{error:I}=await He.from("processes").delete().eq("id",G);if(I)throw I;v()}catch(I){console.error("Error deleting process:",I)}},O=()=>b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[b.jsxs("div",{className:"p-6 border-b",children:[b.jsx("h3",{className:"text-xl font-semibold",children:"New Process"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter process details before opening the modeler"})]}),b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Process Name *"}),b.jsx("input",{type:"text",value:g.name,onChange:G=>m({...g,name:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Customer Onboarding Process",autoFocus:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),b.jsx("input",{type:"text",value:g.category,onChange:G=>m({...g,category:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., HR, Finance, Operations"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),b.jsxs("select",{value:g.status,onChange:G=>m({...g,status:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"draft",children:"Draft"}),b.jsx("option",{value:"active",children:"Active"}),b.jsx("option",{value:"archived",children:"Archived"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),b.jsx("textarea",{value:g.description,onChange:G=>m({...g,description:G.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Describe what this process does..."})]})]})}),b.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Open Modeler"})]})]})}),H=()=>d!=null&&d.bpmn_xml?b.jsx("div",{className:"h-screen",children:b.jsx(R9,{initialXML:d.bpmn_xml,onSave:()=>l(!1),onCancel:()=>l(!1)})}):b.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:b.jsx("p",{className:"text-gray-500",children:"No diagram data available"})});return n?b.jsx("div",{className:"flex items-center justify-center h-96",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?b.jsxs("div",{className:"h-screen flex flex-col",children:[b.jsxs("div",{className:"bg-white border-b px-6 py-3 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold",children:g.name||"Untitled Process"}),b.jsx("p",{className:"text-sm text-gray-600",children:g.category})]}),b.jsxs("div",{className:"text-sm text-gray-500",children:["Status: ",b.jsx("span",{className:"font-medium",children:g.status})]})]}),b.jsx("div",{className:"flex-1",children:b.jsx(R9,{initialXML:(h==null?void 0:h.bpmn_xml)||void 0,onSave:M,onCancel:()=>{o(!1),f(null)}})})]}):a?H():b.jsxs("div",{className:"space-y-6",children:[c&&O(),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold",children:"Visual BPMN Builder"}),b.jsx("p",{className:"text-gray-600",children:"Create and manage process diagrams visually"})]}),b.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[b.jsx(M0,{className:"w-5 h-5"}),"New Process"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(G=>b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-lg",children:G.name}),b.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:G.description})]}),b.jsx("span",{className:`px-2 py-1 rounded text-xs ${G.status==="active"?"bg-green-100 text-green-800":G.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),G.category&&b.jsx("div",{className:"mb-3",children:b.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:G.category})}),b.jsx("div",{className:"text-xs text-gray-500 mb-4",children:G.bpmn_xml?"Diagram available":"No diagram"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>_(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 rounded hover:bg-gray-200",children:[b.jsx(zf,{className:"w-4 h-4"}),"View"]}),b.jsxs("button",{onClick:()=>w(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[b.jsx(d8,{className:"w-4 h-4"}),"Edit"]}),G.status==="active"&&G.bpmn_xml&&b.jsxs("button",{onClick:()=>U(G),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Start Process Instance",children:[b.jsx(Uf,{className:"w-4 h-4"}),"Execute"]}),b.jsx("button",{onClick:()=>L(G.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200",children:b.jsx(Bb,{className:"w-4 h-4"})})]})]},G.id))}),t.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[b.jsx("p",{className:"text-gray-500 mb-4",children:"No processes yet"}),b.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[b.jsx(M0,{className:"w-5 h-5"}),"Create Your First Process"]})]})]})};function Jde(){const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState(!0),[s,o]=Me.useState("all"),[a,l]=Me.useState("all");Me.useEffect(()=>{c();const m=setInterval(c,1e4);return()=>clearInterval(m)},[s,a]);const c=async()=>{try{const m=await qde(s==="mine"?e==null?void 0:e.id:void 0),v=a==="all"?m:m.filter(y=>y.status===a);r(v||[])}catch(m){console.error("Error loading instances:",m)}finally{i(!1)}},u=async m=>{try{await Kde(m),c()}catch(v){console.error("Error pausing process:",v),alert("Failed to pause process")}},h=async m=>{try{await Xde(m),c()}catch(v){console.error("Error resuming process:",v),alert("Failed to resume process")}},f=async m=>{const v=prompt("Enter cancellation reason:");if(v)try{await Zde(m,v),c()}catch(y){console.error("Error cancelling process:",y),alert("Failed to cancel process")}},d=m=>{switch(m){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},p=m=>{switch(m){case"running":return b.jsx(il,{className:"w-5 h-5 text-green-600"});case"paused":return b.jsx(nw,{className:"w-5 h-5 text-yellow-600"});case"completed":return b.jsx(br,{className:"w-5 h-5 text-green-600"});default:return b.jsx(ol,{className:"w-5 h-5 text-gray-600"})}},g={total:t.length,running:t.filter(m=>m.status==="running").length,paused:t.filter(m=>m.status==="paused").length,avgProgress:t.length>0?Math.round(t.reduce((m,v)=>m+v.progress_percentage,0)/t.length):0};return n?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Execution Dashboard"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage live process instances"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:s,onChange:m=>o(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Processes"}),b.jsx("option",{value:"mine",children:"My Processes"})]}),b.jsxs("select",{value:a,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Status"}),b.jsx("option",{value:"running",children:"Running"}),b.jsx("option",{value:"paused",children:"Paused"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Active Processes"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:g.total})]}),b.jsx(il,{className:"w-12 h-12 text-blue-200"})]}),b.jsx("p",{className:"text-blue-100 text-sm mt-4",children:"Total running and paused"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Running Now"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:g.running})]}),b.jsx(Uf,{className:"w-12 h-12 text-green-200"})]}),b.jsx("p",{className:"text-green-100 text-sm mt-4",children:"Currently executing"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Paused"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:g.paused})]}),b.jsx(nw,{className:"w-12 h-12 text-yellow-200"})]}),b.jsx("p",{className:"text-yellow-100 text-sm mt-4",children:"Temporarily stopped"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Avg Progress"}),b.jsxs("p",{className:"text-3xl font-bold mt-1",children:[g.avgProgress,"%"]})]}),b.jsx(Ts,{className:"w-12 h-12 text-purple-200"})]}),b.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"Overall completion"})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Process"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instance Name"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started By"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(m=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.processes.name}),b.jsx("div",{className:"text-xs text-gray-500",children:m.processes.category})]})}),b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"text-sm text-gray-900",children:m.instance_name})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[p(m.status),b.jsx("span",{className:"text-sm capitalize",children:m.status})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[100px]",children:b.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.progress_percentage}%`}})}),b.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.progress_percentage,"%"]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(m.priority)}`,children:m.priority})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[b.jsx(as,{className:"w-4 h-4"}),new Date(m.started_at).toLocaleDateString()]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.users_profile.full_name}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:b.jsxs("div",{className:"flex gap-2",children:[m.status==="running"&&b.jsx("button",{onClick:()=>u(m.id),className:"p-1 text-yellow-600 hover:bg-yellow-50 rounded",title:"Pause",children:b.jsx(nw,{className:"w-4 h-4"})}),m.status==="paused"&&b.jsx("button",{onClick:()=>h(m.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Resume",children:b.jsx(Uf,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>f(m.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:b.jsx(f8,{className:"w-4 h-4"})})]})})]},m.id))})]})}),t.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(il,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No active processes"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Start a new process instance from the BPMN Builder"})]})]})]})}async function Qde(e="daily",t=10){const{data:r,error:n}=await He.from("process_performance_metrics").select(`
      *,
      processes!inner(name)
    `).eq("time_period",e).order("period_start",{ascending:!1}).limit(t);if(n)throw n;return(r||[]).map(i=>({processId:i.process_id,processName:i.processes.name,totalInstances:i.total_instances,completedInstances:i.completed_instances,avgCompletionMinutes:i.avg_completion_minutes,successRate:i.success_rate,onTimeRate:i.on_time_rate,bottleneckCount:i.bottleneck_count}))}async function ehe(e,t="daily"){const{data:r,error:n}=await He.from("node_performance_metrics").select("*").eq("process_id",e).eq("time_period",t).order("avg_processing_minutes",{ascending:!1});if(n)throw n;return(r||[]).map(i=>({nodeId:i.node_id,nodeLabel:i.node_label,avgProcessingMinutes:i.avg_processing_minutes,totalExecutions:i.total_executions,isBottleneck:i.is_bottleneck,bottleneckSeverity:i.bottleneck_severity,throughputRate:i.throughput_rate}))}async function Cz(){const{data:e,error:t}=await He.from("process_bottlenecks").select("*").eq("status","active").order("impact_score",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,nodeLabel:r.node_label,severity:r.severity,avgDelayMinutes:r.avg_delay_minutes,impactScore:r.impact_score,affectedInstancesCount:r.affected_instances_count,rootCauses:r.root_causes,recommendedActions:r.recommended_actions,detectedAt:r.detected_at}))}async function the(e,t){const{error:r}=await He.from("process_bottlenecks").update({status:"resolved",resolved_at:new Date().toISOString(),resolution_notes:t}).eq("id",e);if(r)throw r}async function rhe(e){const{data:t}=await He.from("process_instances").select("actual_duration_minutes, started_at").eq("process_id",e).eq("status","completed").order("started_at",{ascending:!1}).limit(100);if(!t||t.length===0)return null;const r=t.map(a=>a.actual_duration_minutes).filter(a=>a!=null),n=r.reduce((a,l)=>a+l,0)/r.length,i=r.sort((a,l)=>a-l),s=i[Math.floor(i.length/2)],o=i[Math.floor(i.length*.95)];return{average:n,median:s,p95:o,min:Math.min(...r),max:Math.max(...r),sampleSize:r.length}}async function nhe(e){let t=He.from("resource_utilization").select(`
      *,
      users_profile!resource_utilization_user_id_fkey(full_name)
    `).order("period_start",{ascending:!1}).limit(30);e&&(t=t.eq("user_id",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function ihe(e){const t=new Date;t.setHours(0,0,0,0);const r=new Date(t);r.setDate(r.getDate()+1);const{data:n}=await He.from("process_tasks").select("*").eq("assigned_to",e).gte("assigned_at",t.toISOString()).lt("assigned_at",r.toISOString());if(!n)return;const i=n.filter(o=>o.status==="completed"),s=i.length>0?i.reduce((o,a)=>o+(a.time_spent_minutes||0),0)/i.length:0;await He.from("resource_utilization").upsert({user_id:e,time_period:"daily",period_start:t.toISOString(),period_end:r.toISOString(),total_tasks_assigned:n.length,total_tasks_completed:i.length,avg_task_completion_minutes:s,utilization_rate:n.length>0?i.length/n.length*100:0})}function she(){const[e,t]=Me.useState([]),[r,n]=Me.useState([]),[i,s]=Me.useState(null),[o,a]=Me.useState(null),[l,c]=Me.useState(!0),[u,h]=Me.useState("daily");Me.useEffect(()=>{f()},[u]),Me.useEffect(()=>{i&&d(i)},[i]);const f=async()=>{try{const[v,y]=await Promise.all([Qde(u,20),Cz()]);t(v),n(y),v.length>0&&!i&&s(v[0].processId)}catch(v){console.error("Error loading analytics:",v)}finally{c(!1)}},d=async v=>{try{const y=await rhe(v);a(y)}catch(y){console.error("Error loading cycle time:",y)}},p=v=>{switch(v){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},g=v=>{if(v<60)return`${Math.round(v)}m`;const y=Math.floor(v/60),x=Math.round(v%60);return`${y}h ${x}m`},m=e.reduce((v,y)=>({totalInstances:v.totalInstances+y.totalInstances,completedInstances:v.completedInstances+y.completedInstances,avgSuccessRate:v.avgSuccessRate+y.successRate,processCount:v.processCount+1}),{totalInstances:0,completedInstances:0,avgSuccessRate:0,processCount:0});return m.processCount>0&&(m.avgSuccessRate/=m.processCount),l?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Analytics & Mining"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time insights and performance analysis"})]}),b.jsxs("select",{value:u,onChange:v=>h(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"daily",children:"Daily"}),b.jsx("option",{value:"weekly",children:"Weekly"}),b.jsx("option",{value:"monthly",children:"Monthly"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Instances"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:m.totalInstances})]}),b.jsx(il,{className:"w-12 h-12 text-blue-200"})]}),b.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[b.jsx(Ts,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm text-blue-100",children:"Across all processes"})]})]}),b.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:m.completedInstances})]}),b.jsx(br,{className:"w-12 h-12 text-green-200"})]}),b.jsx("div",{className:"mt-4 flex items-center gap-2",children:b.jsxs("span",{className:"text-sm text-green-100",children:[Math.round(m.avgSuccessRate),"% success rate"]})})]}),b.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Active Bottlenecks"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:r.length})]}),b.jsx(xo,{className:"w-12 h-12 text-orange-200"})]}),b.jsx("div",{className:"mt-4 flex items-center gap-2",children:b.jsx("span",{className:"text-sm text-orange-100",children:"Requiring attention"})})]}),b.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Active Processes"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:e.length})]}),b.jsx(T0,{className:"w-12 h-12 text-purple-200"})]}),b.jsx("div",{className:"mt-4 flex items-center gap-2",children:b.jsx("span",{className:"text-sm text-purple-100",children:"With recent activity"})})]})]}),o&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[b.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[b.jsx(as,{className:"w-5 h-5 text-blue-600"}),"Cycle Time Analysis"]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[b.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average"}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.average)})]}),b.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Median"}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.median)})]}),b.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"95th %ile"}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(o.p95)})]}),b.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Fastest"}),b.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(o.min)})]}),b.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Slowest"}),b.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(o.max)})]})]}),b.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Based on ",o.sampleSize," completed instances"]})]}),r.length>0&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(xo,{className:"w-5 h-5 text-orange-600"}),"Active Bottlenecks"]})}),b.jsx("div",{className:"divide-y divide-gray-200",children:r.map(v=>b.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[b.jsx("div",{className:"flex items-start justify-between mb-3",children:b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:v.nodeLabel}),b.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${p(v.severity)}`,children:v.severity})]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600",children:"Avg Delay"}),b.jsx("p",{className:"font-semibold text-gray-900",children:g(v.avgDelayMinutes)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600",children:"Impact Score"}),b.jsxs("p",{className:"font-semibold text-gray-900",children:[v.impactScore.toFixed(1),"%"]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600",children:"Affected Instances"}),b.jsx("p",{className:"font-semibold text-gray-900",children:v.affectedInstancesCount})]})]})]})}),b.jsxs("div",{className:"text-sm text-gray-500",children:["Detected ",new Date(v.detectedAt).toLocaleString()]})]},v.id))})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(Db,{className:"w-5 h-5 text-blue-600"}),"Process Performance Metrics"]})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Process"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instances"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bottlenecks"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>b.jsxs("tr",{onClick:()=>s(v.processId),className:`hover:bg-gray-50 cursor-pointer transition-colors ${i===v.processId?"bg-blue-50":""}`,children:[b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.processName})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:v.totalInstances})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:v.completedInstances})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:g(v.avgCompletionMinutes||0)})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[80px]",children:b.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${v.successRate||0}%`}})}),b.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Math.round(v.successRate||0),"%"]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.bottleneckCount>0?b.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[b.jsx(xo,{className:"w-3 h-3"}),v.bottleneckCount]}):b.jsx("span",{className:"text-sm text-gray-500",children:"None"})})]},v.processId))})]})}),e.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(T0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No process data available"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Metrics will appear once processes have been executed"})]})]})]})}function ahe(){const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState(!0),[s,o]=Me.useState("all");Me.useEffect(()=>{a()},[s]);const a=async()=>{try{const f=await nhe(s==="mine"?e==null?void 0:e.id:void 0);r(f)}catch(f){console.error("Error loading resource utilization:",f)}finally{i(!1)}},l=async()=>{if(e)try{await ihe(e.id),a()}catch(f){console.error("Error refreshing data:",f),alert("Failed to refresh data")}},c=f=>f>=80?"text-green-600":f>=60?"text-blue-600":f>=40?"text-yellow-600":"text-red-600",u=f=>{if(f<60)return`${Math.round(f)}m`;const d=Math.floor(f/60),p=Math.round(f%60);return`${d}h ${p}m`},h=t.reduce((f,d)=>({totalTasks:f.totalTasks+d.total_tasks_assigned,completedTasks:f.completedTasks+d.total_tasks_completed,avgUtilization:f.avgUtilization+(d.utilization_rate||0),count:f.count+1}),{totalTasks:0,completedTasks:0,avgUtilization:0,count:0});return h.count>0&&(h.avgUtilization/=h.count),n?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Process Performance & Resource Utilization"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Track team productivity and resource allocation"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:s,onChange:f=>o(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Team Members"}),b.jsx("option",{value:"mine",children:"My Performance"})]}),b.jsxs("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(il,{className:"w-4 h-4"}),"Refresh"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Tasks"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:h.totalTasks})]}),b.jsx(Db,{className:"w-12 h-12 text-blue-200"})]}),b.jsx("p",{className:"text-blue-100 text-sm mt-4",children:"Assigned across team"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:h.completedTasks})]}),b.jsx(qV,{className:"w-12 h-12 text-green-200"})]}),b.jsxs("p",{className:"text-green-100 text-sm mt-4",children:[h.totalTasks>0?Math.round(h.completedTasks/h.totalTasks*100):0,"% completion rate"]})]}),b.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Avg Utilization"}),b.jsxs("p",{className:"text-3xl font-bold mt-1",children:[Math.round(h.avgUtilization),"%"]})]}),b.jsx(Ts,{className:"w-12 h-12 text-purple-200"})]}),b.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"Team capacity"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Team Members"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:h.count})]}),b.jsx(gu,{className:"w-12 h-12 text-orange-200"})]}),b.jsx("p",{className:"text-orange-100 text-sm mt-4",children:"Active contributors"})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(gu,{className:"w-5 h-5 text-blue-600"}),"Resource Utilization Details"]})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Member"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilization"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time Rate"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(f=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:b.jsx("span",{className:"text-blue-600 font-medium",children:f.users_profile.full_name.charAt(0)})}),b.jsx("div",{className:"ml-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.users_profile.full_name})})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:new Date(f.period_start).toLocaleDateString()})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:f.total_tasks_assigned})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:f.total_tasks_completed})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:u(f.avg_task_completion_minutes||0)})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[80px]",children:b.jsx("div",{className:`h-2 rounded-full ${f.utilization_rate>=80?"bg-green-600":f.utilization_rate>=60?"bg-blue-600":f.utilization_rate>=40?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(f.utilization_rate||0,100)}%`}})}),b.jsxs("span",{className:`text-sm font-medium ${c(f.utilization_rate||0)}`,children:[Math.round(f.utilization_rate||0),"%"]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:f.on_time_completion_rate?`${Math.round(f.on_time_completion_rate)}%`:"N/A"})})]},f.id))})]})}),t.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(gu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No performance data available"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Data will appear once tasks are completed"})]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[b.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[b.jsx(as,{className:"w-5 h-5"}),"Performance Insights"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"High Performers:"}),b.jsxs("p",{className:"text-blue-900",children:[t.filter(f=>f.utilization_rate>=80).length," team members with 80%+ utilization"]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Capacity Available:"}),b.jsxs("p",{className:"text-blue-900",children:[t.filter(f=>f.utilization_rate<60).length," team members under 60% utilization"]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Workload Balance:"}),b.jsx("p",{className:"text-blue-900",children:h.avgUtilization>=70&&h.avgUtilization<=85?"Well balanced":h.avgUtilization>85?"Consider redistributing":"Capacity for more work"})]})]})]})]})}function ohe(){const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState(!0),[s,o]=Me.useState(null),[a,l]=Me.useState(!1),[c,u]=Me.useState({}),[h,f]=Me.useState("all");Me.useEffect(()=>{if(e){d();const _=setInterval(d,15e3);return()=>clearInterval(_)}},[e,h]);const d=async()=>{if(e)try{const _=await Vde(e.id,h==="all"?void 0:h);r(_||[])}catch(_){console.error("Error loading tasks:",_)}finally{i(!1)}},p=async _=>{try{await Gde(_),d()}catch(M){console.error("Error starting task:",M),alert("Failed to start task")}},g=async()=>{if(s)try{await i6(s.id,c),l(!1),o(null),u({}),d()}catch(_){console.error("Error completing task:",_),alert("Failed to complete task")}},m=_=>{o(_),u({}),l(!0)},v=_=>{switch(_){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"assigned":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=_=>{const M=new Date(_),L=new Date().getTime()-M.getTime(),O=Math.floor(L/6e4),H=Math.floor(O/60),G=Math.floor(H/24);return G>0?`${G}d ago`:H>0?`${H}h ago`:O>0?`${O}m ago`:"Just now"},w={total:t.length,pending:t.filter(_=>_.status==="pending"||_.status==="assigned").length,inProgress:t.filter(_=>_.status==="in_progress").length,urgent:t.filter(_=>_.priority==="urgent").length};return n?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Process Tasks"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Tasks assigned to you from active workflows"})]}),b.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Tasks"}),b.jsx("option",{value:"pending",children:"Pending"}),b.jsx("option",{value:"assigned",children:"Assigned"}),b.jsx("option",{value:"in_progress",children:"In Progress"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-blue-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Tasks"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.total})]}),b.jsx(Ii,{className:"w-10 h-10 text-blue-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-yellow-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Pending"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.pending})]}),b.jsx(as,{className:"w-10 h-10 text-yellow-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-green-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"In Progress"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.inProgress})]}),b.jsx(Uf,{className:"w-10 h-10 text-green-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-red-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Urgent"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.urgent})]}),b.jsx(ol,{className:"w-10 h-10 text-red-500"})]})})]}),b.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(_=>b.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-200",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.node_label}),b.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${y(_.status)}`,children:_.status.replace("_"," ")}),b.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${v(_.priority)}`,children:_.priority})]}),b.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[b.jsxs("p",{children:[b.jsx("span",{className:"font-medium",children:"Process:"})," ",_.process_instances.processes.name]}),b.jsxs("p",{children:[b.jsx("span",{className:"font-medium",children:"Instance:"})," ",_.process_instances.instance_name]}),b.jsxs("p",{className:"flex items-center gap-1",children:[b.jsx(as,{className:"w-4 h-4"}),"Created ",x(_.created_at),_.started_at&&b.jsxs("span",{className:"ml-2",children:["• Started ",x(_.started_at)]})]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[_.status==="pending"||_.status==="assigned"?b.jsxs("button",{onClick:()=>p(_.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[b.jsx(Uf,{className:"w-4 h-4"}),"Start"]}):null,_.status==="in_progress"&&b.jsxs("button",{onClick:()=>m(_),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[b.jsx(br,{className:"w-4 h-4"}),"Complete"]})]})]})},_.id))}),t.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[b.jsx(br,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No tasks assigned"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"You're all caught up! New tasks will appear here when assigned."})]}),a&&s&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Complete Task: ",s.node_label]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Notes"}),b.jsx("textarea",{value:c.notes||"",onChange:_=>u({...c,notes:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add any notes about task completion..."})]}),s.node_type==="decision"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decision Outcome"}),b.jsxs("select",{value:c.decision||"",onChange:_=>u({...c,decision:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"",children:"Select outcome..."}),b.jsx("option",{value:"approved",children:"Approved"}),b.jsx("option",{value:"rejected",children:"Rejected"}),b.jsx("option",{value:"escalate",children:"Escalate"})]})]})]}),b.jsxs("div",{className:"flex gap-3 mt-6",children:[b.jsx("button",{onClick:()=>{l(!1),o(null),u({})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),b.jsxs("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[b.jsx(br,{className:"w-4 h-4"}),"Complete"]})]})]})})]})}const lhe=()=>{const[e,t]=Me.useState("all"),[r,n]=Me.useState("30d"),i=[{id:"1",name:"Standard Path",frequency:450,avgDuration:180,efficiency:95,isStandard:!0},{id:"2",name:"Express Path",frequency:320,avgDuration:120,efficiency:98,isStandard:!1},{id:"3",name:"Rework Path",frequency:85,avgDuration:340,efficiency:62,isStandard:!1},{id:"4",name:"Escalation Path",frequency:45,avgDuration:480,efficiency:55,isStandard:!1}],s=[{id:"1",activity:"Document Review",type:"time",severity:"high",waitTime:240,impact:35,recommendation:"Add parallel reviewers"},{id:"2",activity:"Approval Queue",type:"resource",severity:"critical",waitTime:480,impact:45,recommendation:"Implement auto-approval rules"},{id:"3",activity:"Data Entry",type:"quality",severity:"medium",waitTime:120,impact:15,recommendation:"Use OCR automation"}],o=[{id:"1",type:"automation",title:"Automate Document Classification",impact:"time",savings:12500,priority:"high"},{id:"2",type:"elimination",title:"Remove Redundant Approval Step",impact:"cost",savings:8300,priority:"critical"},{id:"3",type:"simplification",title:"Streamline Data Entry Forms",impact:"quality",savings:5200,priority:"medium"},{id:"4",type:"parallelization",title:"Enable Parallel Document Review",impact:"time",savings:15800,priority:"high"}],a=c=>{switch(c){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-blue-600 bg-blue-50"}},l=c=>{switch(c){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";default:return"bg-blue-500"}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Discovery & Mining"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered process analysis and optimization insights"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:e,onChange:c=>t(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Processes"}),b.jsx("option",{value:"complaint",children:"Complaint Handling"}),b.jsx("option",{value:"order",children:"Order Processing"}),b.jsx("option",{value:"onboarding",children:"Customer Onboarding"})]}),b.jsxs("select",{value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"7d",children:"Last 7 Days"}),b.jsx("option",{value:"30d",children:"Last 30 Days"}),b.jsx("option",{value:"90d",children:"Last 90 Days"}),b.jsx("option",{value:"1y",children:"Last Year"})]}),b.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(il,{className:"w-4 h-4"}),"Analyze Now"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Process Instances"}),b.jsx(Ts,{className:"w-4 h-4 text-green-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"900"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+15% vs last period"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Variants Found"}),b.jsx(il,{className:"w-4 h-4 text-blue-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4"}),b.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Deviation rate: 32%"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Avg Cycle Time"}),b.jsx(as,{className:"w-4 h-4 text-purple-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"3.2h"}),b.jsx("div",{className:"text-xs text-red-600 mt-1",children:"+8% slower"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Est. Savings"}),b.jsx(O0,{className:"w-4 h-4 text-green-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$41.8K"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"From AI insights"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Process Variants"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Different execution paths discovered"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-4",children:i.map(c=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),c.isStandard&&b.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Standard"})]}),b.jsxs("span",{className:"text-sm text-gray-600",children:[c.frequency," instances"]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Avg Duration"}),b.jsxs("div",{className:"font-medium text-gray-900",children:[c.avgDuration,"m"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Efficiency"}),b.jsxs("div",{className:"font-medium text-gray-900",children:[c.efficiency,"%"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Frequency"}),b.jsxs("div",{className:"font-medium text-gray-900",children:[Math.round(c.frequency/900*100),"%"]})]})]}),b.jsx("div",{className:"mt-3",children:b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full ${c.efficiency>90?"bg-green-500":c.efficiency>70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${c.efficiency}%`}})})})]},c.id))})})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bottlenecks Detected"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-identified performance issues"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-4",children:s.map(c=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:c.activity}),b.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(c.severity)}`,children:c.severity})]}),b.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:[c.type," bottleneck"]})]}),b.jsx(ol,{className:"w-5 h-5 text-orange-500"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Avg Wait Time"}),b.jsxs("div",{className:"font-medium text-gray-900",children:[c.waitTime,"m"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Impact"}),b.jsxs("div",{className:"font-medium text-gray-900",children:[c.impact,"%"]})]})]}),b.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(ns,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),b.jsx("div",{className:"text-sm text-blue-900",children:c.recommendation})]})})]},c.id))})})]})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Optimization Insights"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered improvement recommendations"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(c=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:`w-1 h-8 rounded ${l(c.priority)}`}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),b.jsxs("div",{className:"text-xs text-gray-500 capitalize mt-0.5",children:[c.type," opportunity"]})]})]})}),b.jsx(Db,{className:"w-5 h-5 text-blue-600"})]}),b.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Est. Annual Savings"}),b.jsxs("div",{className:"font-semibold text-green-600",children:["$",(c.savings/1e3).toFixed(1),"K"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500 text-right",children:"Impact Area"}),b.jsx("div",{className:"font-medium text-gray-900 capitalize text-right",children:c.impact})]}),b.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Review"})]})]},c.id))})})]}),b.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:b.jsx(br,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Process Mining Active"}),b.jsxs("p",{className:"text-gray-700 mb-3",children:["AI is continuously analyzing your process executions to discover patterns, identify inefficiencies, and recommend optimizations.",b.jsx("span",{className:"font-medium text-blue-700",children:" 900 instances analyzed"})," in the last 30 days with",b.jsx("span",{className:"font-medium text-green-700",children:" $41.8K in potential savings"})," identified."]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"View Full Report"}),b.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Export Insights"})]})]})]})})]})},che=()=>{const e=[{id:"1",title:"Automate Document Classification",type:"Automation",impact:"High",savings:15e3,effort:"Medium",priority:"critical"},{id:"2",title:"Remove Redundant Approval",type:"Elimination",impact:"High",savings:12e3,effort:"Low",priority:"high"},{id:"3",title:"Parallelize Reviews",type:"Simplification",impact:"Medium",savings:8500,effort:"Low",priority:"high"},{id:"4",title:"Implement Smart Routing",type:"Optimization",impact:"Medium",savings:6200,effort:"Medium",priority:"medium"}],t=r=>{switch(r){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";default:return"bg-blue-500"}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Optimization AI"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered process improvement recommendations"})]}),b.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(ns,{className:"w-4 h-4"}),"Generate New Insights"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Opportunities",value:"12",icon:$y,trend:"+3"},{label:"Potential Savings",value:"$127K",icon:O0,trend:"+$23K"},{label:"Avg ROI",value:"340%",icon:Ts,trend:"+45%"},{label:"Quick Wins",value:"5",icon:br,trend:"+2"}].map((r,n)=>b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:r.label}),b.jsx(r.icon,{className:"w-4 h-4 text-blue-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.value}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:r.trend})]},n))}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Optimization Opportunities"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-identified improvements ranked by impact"})]}),b.jsx("div",{className:"divide-y divide-gray-200",children:e.map(r=>b.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[b.jsx("div",{className:`w-1 h-16 rounded ${t(r.priority)}`}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:r.title}),b.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:r.type})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Impact:"}),b.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r.impact})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Annual Savings:"}),b.jsxs("span",{className:"ml-1 font-medium text-green-600",children:["$",(r.savings/1e3).toFixed(1),"K"]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Effort:"}),b.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r.effort})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"ROI:"}),b.jsx("span",{className:"ml-1 font-medium text-blue-600",children:"8 months"})]})]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Details"}),b.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Approve"})]})]})},r.id))})]})]})},uhe=()=>{var o;const[e,t]=Me.useState(""),[r,n]=Me.useState(!1),i=[{id:"1",name:"Add 2 Agents",type:"Resource Increase",improvement:25,confidence:92,cost:8500},{id:"2",name:"Automate Document Review",type:"Automation",improvement:40,confidence:88,cost:15e3},{id:"3",name:"Parallel Approval Flow",type:"Process Change",improvement:35,confidence:90,cost:2e3},{id:"4",name:"Extended Business Hours",type:"Schedule Change",improvement:18,confidence:95,cost:12e3}],s=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Simulation Engine"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Test process changes before implementation"})]}),b.jsxs("button",{onClick:s,disabled:r||!e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:bg-gray-400",children:[b.jsx(Uf,{className:"w-4 h-4"}),r?"Simulating...":"Run Simulation"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Baseline Cycle Time",value:"3.2h",icon:as,color:"blue"},{label:"Current Cost/Contact",value:"$45",icon:O0,color:"green"},{label:"Resource Utilization",value:"78%",icon:gu,color:"purple"},{label:"Quality Score",value:"92%",icon:T0,color:"indigo"}].map((a,l)=>b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:a.label}),b.jsx(a.icon,{className:`w-4 h-4 text-${a.color}-600`})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.value})]},l))}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"What-If Scenarios"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Test different optimization strategies"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(a=>b.jsxs("div",{onClick:()=>t(a.id),className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${e===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.type})]}),b.jsx(vo,{className:"w-5 h-5 text-yellow-500"})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Improvement"}),b.jsxs("div",{className:"font-semibold text-green-600",children:["+",a.improvement,"%"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Confidence"}),b.jsxs("div",{className:"font-semibold text-gray-900",children:[a.confidence,"%"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Cost"}),b.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(a.cost/1e3).toFixed(1),"K"]})]})]})]},a.id))})})]}),e&&b.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:b.jsx(Ts,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Scenario Selected"}),b.jsxs("p",{className:"text-gray-700",children:["Ready to simulate ",b.jsx("span",{className:"font-medium",children:(o=i.find(a=>a.id===e))==null?void 0:o.name}),". This will run 1000 Monte Carlo iterations to predict outcomes with 95% confidence intervals."]})]})]})})]})},dhe=()=>{const[e,t]=Me.useState("all"),r=[{id:"sox",name:"SOX",status:"compliant",score:98,requirements:45,met:44},{id:"gdpr",name:"GDPR",status:"compliant",score:96,requirements:38,met:37},{id:"hipaa",name:"HIPAA",status:"at-risk",score:82,requirements:52,met:43},{id:"iso9001",name:"ISO 9001",status:"compliant",score:94,requirements:28,met:27},{id:"pci",name:"PCI DSS",status:"non-compliant",score:68,requirements:35,met:24}],n=[{id:"1",name:"Access Control",type:"Preventive",effectiveness:"Effective",lastTested:"2025-10-01",nextTest:"2025-11-01"},{id:"2",name:"Data Encryption",type:"Preventive",effectiveness:"Effective",lastTested:"2025-09-28",nextTest:"2025-10-28"},{id:"3",name:"Audit Logging",type:"Detective",effectiveness:"Needs Improvement",lastTested:"2025-09-25",nextTest:"2025-10-25"},{id:"4",name:"Segregation of Duties",type:"Directive",effectiveness:"Effective",lastTested:"2025-10-03",nextTest:"2025-11-03"}],i=[{id:"1",name:"Unauthorized Data Access",level:"High",likelihood:"Possible",impact:"Major",mitigation:"Enhanced MFA"},{id:"2",name:"Data Breach",level:"Critical",likelihood:"Unlikely",impact:"Catastrophic",mitigation:"Encryption at rest"},{id:"3",name:"Process Deviation",level:"Medium",likelihood:"Likely",impact:"Moderate",mitigation:"Automated checks"}],s=a=>{switch(a){case"compliant":return"bg-green-100 text-green-800";case"at-risk":return"bg-yellow-100 text-yellow-800";case"non-compliant":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=a=>{switch(a){case"Critical":return"bg-red-500";case"High":return"bg-orange-500";case"Medium":return"bg-yellow-500";default:return"bg-blue-500"}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Process Compliance Hub"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Manage compliance across multiple regulatory frameworks"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"All Frameworks"}),r.map(a=>b.jsx("option",{value:a.id,children:a.name},a.id))]}),b.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(Ii,{className:"w-4 h-4"}),"Generate Report"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Overall Compliance"}),b.jsx(go,{className:"w-4 h-4 text-green-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"88%"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+3% vs last quarter"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Active Controls"}),b.jsx(Hy,{className:"w-4 h-4 text-blue-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"127"}),b.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"98% effective"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Open Issues"}),b.jsx(ol,{className:"w-4 h-4 text-orange-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8"}),b.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"2 critical"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Audits This Month"}),b.jsx(Ii,{className:"w-4 h-4 text-purple-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"3"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"All passed"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Compliance Frameworks"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Regulatory framework compliance status"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-4",children:r.map(a=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(go,{className:"w-5 h-5 text-blue-600"}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),b.jsxs("p",{className:"text-sm text-gray-500",children:[a.met,"/",a.requirements," requirements met"]})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s(a.status)}`,children:a.status.replace("-"," ")})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"Compliance Score"}),b.jsxs("span",{className:"font-semibold text-gray-900",children:[a.score,"%"]})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full ${a.score>=90?"bg-green-500":a.score>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.score}%`}})})]})]},a.id))})})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Risk Assessment"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Identified compliance risks"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-4",children:i.map(a=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[b.jsx("div",{className:`w-1 h-16 rounded ${o(a.level)}`}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Likelihood:"}),b.jsx("span",{className:"ml-1 font-medium",children:a.likelihood})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Impact:"}),b.jsx("span",{className:"ml-1 font-medium",children:a.impact})]})]})]}),b.jsx(xo,{className:`w-5 h-5 ${a.level==="Critical"?"text-red-500":a.level==="High"?"text-orange-500":"text-yellow-500"}`})]}),b.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded",children:b.jsxs("div",{className:"text-sm text-blue-900",children:[b.jsx("span",{className:"font-medium",children:"Mitigation:"})," ",a.mitigation]})})]},a.id))})})]})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Control Effectiveness"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor and test process controls"})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Control Name"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Effectiveness"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Tested"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Test"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(a=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"font-medium text-gray-900",children:a.name})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:a.type})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.effectiveness==="Effective"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.effectiveness})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.lastTested}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.nextTest}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:b.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Test Now"})})]},a.id))})]})})]}),b.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:b.jsx(br,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Compliance Monitoring Active"}),b.jsxs("p",{className:"text-gray-700",children:["Automated compliance checks are running 24/7 across all frameworks.",b.jsx("span",{className:"font-medium text-green-700",children:" 98% of controls"})," are operating effectively with",b.jsx("span",{className:"font-medium text-green-700",children:" 88% overall compliance"})," across all regulatory requirements."]})]})]})})]})},hhe=()=>{const[e,t]=Me.useState("live"),r=[{id:"1",name:"Customer Onboarding #1247",status:"running",assignee:"Sarah Chen",slaHealth:85,adaptations:2},{id:"2",name:"Complaint Resolution #892",status:"waiting",assignee:"Mike Johnson",slaHealth:45,adaptations:1},{id:"3",name:"Order Processing #3421",status:"running",assignee:"Anna Rodriguez",slaHealth:92,adaptations:0},{id:"4",name:"Approval Workflow #556",status:"at-risk",assignee:"James Lee",slaHealth:35,adaptations:3}],n=[{id:"1",name:"Skill-Based Routing",type:"Assignment",trigger:"Task Created",active:!0,executions:1247},{id:"2",name:"SLA Escalation",type:"Escalation",trigger:"80% SLA Consumed",active:!0,executions:89},{id:"3",name:"Workload Balancing",type:"Routing",trigger:"Agent Capacity",active:!0,executions:2134},{id:"4",name:"Exception Handler",type:"Exception",trigger:"Process Error",active:!0,executions:45}],i=o=>{switch(o){case"running":return"bg-green-100 text-green-800";case"waiting":return"bg-yellow-100 text-yellow-800";case"at-risk":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=o=>o>=70?"text-green-600":o>=40?"text-yellow-600":"text-red-600";return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dynamic Process Orchestrator"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time process execution and intelligent routing"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>t("live"),className:`px-4 py-2 rounded-lg transition-colors ${e==="live"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Live Processes"}),b.jsx("button",{onClick:()=>t("rules"),className:`px-4 py-2 rounded-lg transition-colors ${e==="rules"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rules"}),b.jsx("button",{onClick:()=>t("performance"),className:`px-4 py-2 rounded-lg transition-colors ${e==="performance"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Performance"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Active Processes"}),b.jsx(il,{className:"w-4 h-4 text-blue-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"47"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+12 from yesterday"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Avg Response Time"}),b.jsx(as,{className:"w-4 h-4 text-purple-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1.2s"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"-15% faster"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Auto-Adaptations"}),b.jsx(ns,{className:"w-4 h-4 text-yellow-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"234"}),b.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Today"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"SLA Compliance"}),b.jsx(Ts,{className:"w-4 h-4 text-green-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94%"}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+3% improvement"})]})]}),e==="live"&&b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Live Process Instances"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time monitoring of active processes"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-4",children:r.map(o=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:o.name}),b.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${i(o.status)}`,children:o.status})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[b.jsx(gu,{className:"w-4 h-4"}),b.jsxs("span",{children:["Assigned to ",o.assignee]})]})]}),b.jsx(il,{className:"w-5 h-5 text-blue-600"})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"SLA Health"}),b.jsxs("div",{className:`text-lg font-semibold ${s(o.slaHealth)}`,children:[o.slaHealth,"%"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Adaptations"}),b.jsx("div",{className:"text-lg font-semibold text-gray-900",children:o.adaptations})]}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Monitor"})})]}),b.jsx("div",{className:"mt-3",children:b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full ${o.slaHealth>=70?"bg-green-500":o.slaHealth>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.slaHealth}%`}})})})]},o.id))})})]}),e==="rules"&&b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Orchestration Rules"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automated decision-making rules"})]}),b.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Rule"})]})}),b.jsx("div",{className:"divide-y divide-gray-200",children:n.map(o=>b.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsx("div",{className:`w-2 h-12 rounded ${o.active?"bg-green-500":"bg-gray-300"}`}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:o.name}),b.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"font-medium",children:"Type:"})," ",o.type]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"font-medium",children:"Trigger:"})," ",o.trigger]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"font-medium",children:"Executions:"})," ",o.executions]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Edit"}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:o.active,readOnly:!0,className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})},o.id))})]}),e==="performance"&&b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Routing Efficiency"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[b.jsx("span",{className:"text-gray-600",children:"Optimal Assignments"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"94%"})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"94%"}})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[b.jsx("span",{className:"text-gray-600",children:"First-Time Resolution"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"87%"})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"87%"}})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[b.jsx("span",{className:"text-gray-600",children:"Exception Recovery"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"96%"})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"96%"}})})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Response Times"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Avg Decision Time"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"1.2s"})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Avg Routing Time"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"0.8s"})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Avg Adaptation Time"}),b.jsx("span",{className:"font-semibold text-gray-900",children:"2.1s"})]})]})]})]}),b.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:b.jsx(ns,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Intelligent Orchestration Active"}),b.jsxs("p",{className:"text-gray-700",children:["Real-time orchestration is managing ",b.jsx("span",{className:"font-medium text-blue-700",children:"47 active processes"})," with",b.jsx("span",{className:"font-medium text-green-700",children:" 94% SLA compliance"}),". AI-powered routing has made",b.jsx("span",{className:"font-medium text-blue-700",children:" 234 adaptive decisions"})," today to optimize performance."]})]})]})})]})};function fhe(){const[e,t]=Me.useState([]),[r,n]=Me.useState([]),[i,s]=Me.useState(""),[o,a]=Me.useState([]),[l,c]=Me.useState(!0),[u,h]=Me.useState(null);Me.useEffect(()=>{f()},[]),Me.useEffect(()=>{i&&p(i)},[i]);const f=async()=>{try{const[x,w]=await Promise.all([Cz(),d()]);t(x),n(w),w.length>0&&!i&&s(w[0].id)}catch(x){console.error("Error loading bottlenecks:",x)}finally{c(!1)}},d=async()=>{const{data:x}=await He.from("processes").select("id, name").eq("status","active").order("name");return x||[]},p=async x=>{try{const w=await ehe(x);a(w)}catch(w){console.error("Error loading node metrics:",w)}},g=async x=>{const w=prompt("Enter resolution notes:");if(w){h(x);try{await the(x,w),f()}catch(_){console.error("Error resolving bottleneck:",_),alert("Failed to resolve bottleneck")}finally{h(null)}}},m=x=>{switch(x){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},v=x=>{if(x<60)return`${Math.round(x)}m`;const w=Math.floor(x/60),_=Math.round(x%60);return`${w}h ${_}m`},y={total:e.length,critical:e.filter(x=>x.severity==="critical").length,high:e.filter(x=>x.severity==="high").length,avgImpact:e.length>0?e.reduce((x,w)=>x+w.impactScore,0)/e.length:0};return l?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bottleneck Detection & Resolution"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Identify and resolve process bottlenecks automatically"})]}),b.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(ns,{className:"w-4 h-4"}),"Refresh Analysis"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-orange-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Bottlenecks"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.total})]}),b.jsx(xo,{className:"w-10 h-10 text-orange-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-red-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Critical"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.critical})]}),b.jsx(xo,{className:"w-10 h-10 text-red-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-yellow-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"High Priority"}),b.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:y.high})]}),b.jsx(sw,{className:"w-10 h-10 text-yellow-500"})]})}),b.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-blue-500",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Impact"}),b.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[y.avgImpact.toFixed(1),"%"]})]}),b.jsx(sw,{className:"w-10 h-10 text-blue-500"})]})})]}),e.length>0&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Active Bottlenecks"})}),b.jsx("div",{className:"divide-y divide-gray-200",children:e.map(x=>b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:x.nodeLabel}),b.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${m(x.severity)}`,children:x.severity.toUpperCase()})]})}),b.jsxs("button",{onClick:()=>g(x.id),disabled:u===x.id,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[b.jsx(br,{className:"w-4 h-4"}),"Mark Resolved"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(as,{className:"w-4 h-4 text-gray-600"}),b.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Delay"})]}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(x.avgDelayMinutes)})]}),b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(sw,{className:"w-4 h-4 text-gray-600"}),b.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Impact Score"})]}),b.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[x.impactScore.toFixed(1),"%"]})]}),b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(xo,{className:"w-4 h-4 text-gray-600"}),b.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Affected"})]}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.affectedInstancesCount}),b.jsx("p",{className:"text-xs text-gray-500",children:"instances"})]}),b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(as,{className:"w-4 h-4 text-gray-600"}),b.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Detected"})]}),b.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(x.detectedAt).toLocaleDateString()}),b.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.detectedAt).toLocaleTimeString()})]})]}),x.recommendedActions&&b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[b.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Recommended Actions:"}),b.jsx("ul",{className:"text-sm text-blue-800 space-y-1",children:Array.isArray(x.recommendedActions)?x.recommendedActions.map((w,_)=>b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-blue-600 mt-0.5",children:"•"}),b.jsx("span",{children:w})]},_)):b.jsx("li",{children:JSON.stringify(x.recommendedActions)})})]})]},x.id))})]}),r.length>0&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-gray-200",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Node Performance Analysis"}),b.jsx("select",{value:i,onChange:x=>s(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:r.map(x=>b.jsx("option",{value:x.id,children:x.name},x.id))})]})}),b.jsxs("div",{className:"overflow-x-auto",children:[b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Node"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Executions"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Throughput"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(x=>b.jsxs("tr",{className:x.isBottleneck?"bg-orange-50":"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.nodeLabel})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:v(x.avgProcessingMinutes)})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:x.totalExecutions})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-900",children:[x.throughputRate.toFixed(2),"/hr"]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.isBottleneck?b.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m(x.bottleneckSeverity||"medium")}`,children:"Bottleneck"}):b.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Normal"})})]},x.nodeId))})]}),o.length===0&&b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500",children:"No metrics available for this process"})})]})]}),e.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[b.jsx(br,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-900 text-lg font-semibold mb-2",children:"No Bottlenecks Detected"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"All processes are running smoothly. Great work!"})]})]})}async function phe(e="suggested"){let t=He.from("process_recommendations").select("*").order("priority",{ascending:!0}).order("generated_at",{ascending:!1});e!=="all"&&(t=t.eq("status",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function o_(e,t,r){const n=(await He.auth.getUser()).data.user,{error:i}=await He.from("process_recommendations").update({status:t,reviewed_by:n==null?void 0:n.id,reviewed_at:new Date().toISOString()}).eq("id",e);if(i)throw i}function mhe(){const[e,t]=Me.useState([]),[r,n]=Me.useState(!0),[i,s]=Me.useState("suggested");Me.useEffect(()=>{o()},[i]);const o=async()=>{try{const d=await phe(i);t(d)}catch(d){console.error("Error loading recommendations:",d)}finally{n(!1)}},a=async d=>{try{await o_(d,"approved"),o()}catch(p){console.error("Error approving recommendation:",p),alert("Failed to approve recommendation")}},l=async d=>{try{await o_(d,"rejected"),o()}catch(p){console.error("Error rejecting recommendation:",p),alert("Failed to reject recommendation")}},c=async d=>{try{await o_(d,"implemented"),o()}catch(p){console.error("Error marking as implemented:",p),alert("Failed to mark as implemented")}},u=d=>{switch(d){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},h=d=>{switch(d){case"optimization":return b.jsx(Ts,{className:"w-5 h-5"});case"bottleneck_resolution":return b.jsx(ns,{className:"w-5 h-5"});case"cost_reduction":return b.jsx(O0,{className:"w-5 h-5"});default:return b.jsx(vo,{className:"w-5 h-5"})}},f={total:e.length,highPriority:e.filter(d=>d.priority==="critical"||d.priority==="high").length,avgConfidence:e.length>0?Math.round(e.reduce((d,p)=>d+p.confidence_score,0)/e.length):0};return r?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(vo,{className:"w-7 h-7 text-purple-600"}),"AI-Powered Recommendations"]}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Smart suggestions to optimize your processes"})]}),b.jsxs("select",{value:i,onChange:d=>s(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[b.jsx("option",{value:"all",children:"All Recommendations"}),b.jsx("option",{value:"suggested",children:"New Suggestions"}),b.jsx("option",{value:"approved",children:"Approved"}),b.jsx("option",{value:"rejected",children:"Rejected"}),b.jsx("option",{value:"implemented",children:"Implemented"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Recommendations"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:f.total})]}),b.jsx(vo,{className:"w-12 h-12 text-purple-200"})]}),b.jsx("p",{className:"text-purple-100 text-sm mt-4",children:"AI-generated insights"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"High Priority"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:f.highPriority})]}),b.jsx(ns,{className:"w-12 h-12 text-orange-200"})]}),b.jsx("p",{className:"text-orange-100 text-sm mt-4",children:"Requires attention"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Avg Confidence"}),b.jsxs("p",{className:"text-3xl font-bold mt-1",children:[f.avgConfidence,"%"]})]}),b.jsx(Ts,{className:"w-12 h-12 text-green-200"})]}),b.jsx("p",{className:"text-green-100 text-sm mt-4",children:"AI accuracy score"})]})]}),b.jsx("div",{className:"space-y-4",children:e.map(d=>b.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[b.jsx("div",{className:"p-3 bg-purple-100 rounded-lg text-purple-600",children:h(d.recommendation_type)}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),b.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${u(d.priority)}`,children:d.priority}),b.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:[d.confidence_score,"% confidence"]})]}),b.jsx("p",{className:"text-gray-700 mb-4",children:d.description}),d.expected_impact&&b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[b.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Expected Impact:"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-blue-800",children:Object.entries(d.expected_impact).map(([p,g])=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ts,{className:"w-4 h-4"}),b.jsxs("span",{className:"capitalize",children:[p.replace(/_/g," "),":"]}),b.jsx("span",{className:"font-semibold",children:String(g)})]},p))})]}),d.estimated_savings&&b.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[b.jsx("p",{className:"text-sm font-medium text-green-900 mb-2",children:"Estimated Savings:"}),b.jsx("div",{className:"text-sm text-green-800",children:Object.entries(d.estimated_savings).map(([p,g])=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(O0,{className:"w-4 h-4"}),b.jsxs("span",{className:"capitalize",children:[p.replace(/_/g," "),":"]}),b.jsx("span",{className:"font-semibold",children:String(g)})]},p))})]}),b.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm text-gray-500",children:[b.jsx(as,{className:"w-4 h-4"}),"Generated ",new Date(d.generated_at).toLocaleString()]})]})]}),d.status==="suggested"&&b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>a(d.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[b.jsx(br,{className:"w-4 h-4"}),"Approve"]}),b.jsxs("button",{onClick:()=>l(d.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[b.jsx($f,{className:"w-4 h-4"}),"Reject"]})]}),d.status==="approved"&&b.jsxs("button",{onClick:()=>c(d.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[b.jsx(ns,{className:"w-4 h-4"}),"Mark Implemented"]}),d.status==="implemented"&&b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[b.jsx(br,{className:"w-4 h-4"}),"Implemented"]})]})},d.id))}),e.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[b.jsx(vo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No recommendations available"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"AI will generate recommendations as processes are executed"})]})]})}const ghe=({approval:e,onUpdate:t})=>{const{user:r}=Is(),[n,i]=Me.useState(!1),[s,o]=Me.useState(!1),[a,l]=Me.useState(""),c=async()=>{i(!0);try{const{error:d}=await He.from("approvals").update({status:"approved",reviewed_by:r==null?void 0:r.id,reviewed_at:new Date().toISOString(),comments:a||null}).eq("id",e.id);if(d)throw d;t()}catch(d){console.error("Error approving:",d)}finally{i(!1),o(!1),l("")}},u=async()=>{if(!a){alert("Please provide a reason for rejection");return}i(!0);try{const{error:d}=await He.from("approvals").update({status:"rejected",reviewed_by:r==null?void 0:r.id,reviewed_at:new Date().toISOString(),comments:a}).eq("id",e.id);if(d)throw d;t()}catch(d){console.error("Error rejecting:",d)}finally{i(!1),o(!1),l("")}},h=d=>{switch(d){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},f=()=>{switch(e.status){case"approved":return b.jsx(br,{className:"text-green-600",size:20});case"rejected":return b.jsx($f,{className:"text-red-600",size:20});case"pending":return b.jsx(as,{className:"text-yellow-600",size:20});default:return b.jsx(ol,{className:"text-slate-600",size:20})}};return b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-4",children:[b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[f(),b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-800 capitalize",children:e.approval_type.replace(/_/g," ")}),b.jsxs("p",{className:"text-sm text-slate-600",children:[e.entity_type," - ",e.entity_id.slice(0,8)]})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${h(e.priority)}`,children:e.priority})]}),b.jsxs("div",{className:"text-sm text-slate-600",children:[b.jsxs("p",{children:["Requested: ",new Date(e.requested_at).toLocaleString()]}),e.comments&&b.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded-lg",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Comments:"}),b.jsx("p",{children:e.comments})]})]}),e.status==="pending"&&b.jsx("div",{className:"space-y-3 pt-4 border-t border-slate-200",children:s?b.jsxs("div",{className:"space-y-2",children:[b.jsx("textarea",{value:a,onChange:d=>l(d.target.value),placeholder:"Add comments (optional for approval, required for rejection)...",rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:c,disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm disabled:opacity-50",children:[b.jsx(br,{size:16}),"Approve"]}),b.jsxs("button",{onClick:u,disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm disabled:opacity-50",children:[b.jsx($f,{size:16}),"Reject"]}),b.jsx("button",{onClick:()=>{o(!1),l("")},className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors text-sm",children:"Cancel"})]})]}):b.jsx("button",{onClick:()=>o(!0),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Review Request"})})]})},vhe=()=>{const[e,t]=Me.useState([]),[r,n]=Me.useState(!0),[i,s]=Me.useState("pending"),[o,a]=Me.useState({pending:0,approved:0,rejected:0});Me.useEffect(()=>{l()},[i]);const l=async()=>{try{let c=He.from("approvals").select("*").order("requested_at",{ascending:!1});i!=="all"&&(c=c.eq("status",i));const{data:u,error:h}=await c;if(h)throw h;for(const g of u||[])if(g.entity_type==="time_off_request"){const{data:m}=await He.from("time_off_requests").select("start_date, end_date, request_type, reason").eq("id",g.entity_id).single();g.entity_data=m}t(u||[]);const f=(u==null?void 0:u.filter(g=>g.status==="pending").length)||0,d=(u==null?void 0:u.filter(g=>g.status==="approved").length)||0,p=(u==null?void 0:u.filter(g=>g.status==="rejected").length)||0;a({pending:f,approved:d,rejected:p}),n(!1)}catch(c){console.error("Error loading approvals:",c),n(!1)}};return r?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Approvals Queue"}),b.jsx("p",{className:"text-slate-600 mt-1",children:"Review and process pending approval requests"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-600",children:"Pending"}),b.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:o.pending})]}),b.jsx(as,{size:32,className:"text-yellow-400"})]})}),b.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-600",children:"Approved"}),b.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:o.approved})]}),b.jsx(br,{size:32,className:"text-green-400"})]})}),b.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-600",children:"Rejected"}),b.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:o.rejected})]}),b.jsx($f,{size:32,className:"text-red-400"})]})})]}),b.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(HI,{size:20,className:"text-slate-600"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filter:"}),b.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(c=>b.jsx("button",{onClick:()=>s(c),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i===c?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]})}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(c=>b.jsx(ghe,{approval:c,onApprovalComplete:l},c.id))}),e.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-slate-200",children:[b.jsx(br,{size:48,className:"mx-auto text-slate-400 mb-4"}),b.jsx("p",{className:"text-slate-600",children:i==="pending"?"No pending approvals":`No ${i} approvals`})]})]})};async function yhe(e){let t=He.from("knowledge_articles").select(`
      *,
      knowledge_categories(name),
      users_profile!knowledge_articles_created_by_fkey(full_name)
    `).order("created_at",{ascending:!1});e&&(t=t.eq("category_id",e));const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function bhe(){const{data:e,error:t}=await He.from("knowledge_categories").select("*").order("name");if(t)throw t;return e||[]}async function xhe(e,t,r){const n=(await He.auth.getUser()).data.user,{data:i,error:s}=await He.from("knowledge_articles").insert({title:e,content:t,category_id:r,created_by:n==null?void 0:n.id}).select().single();if(s)throw s;return i}async function whe(e){const{data:t}=await He.from("knowledge_articles").select("view_count").eq("id",e).single();t&&await He.from("knowledge_articles").update({view_count:(t.view_count||0)+1}).eq("id",e)}async function _he(e,t){const r=(await He.auth.getUser()).data.user;if(!r)return;const{error:n}=await He.from("knowledge_votes").upsert({article_id:e,user_id:r.id,is_helpful:t});if(n)throw n;const{data:i}=await He.from("knowledge_votes").select("is_helpful").eq("article_id",e);if(i){const s=i.filter(o=>o.is_helpful).length;await He.from("knowledge_articles").update({helpful_count:s}).eq("id",e)}}async function She(e){const{data:t,error:r}=await He.from("knowledge_articles").select("*").or(`title.ilike.%${e}%,content.ilike.%${e}%`).limit(20);if(r)throw r;return t||[]}function Ehe(){const[e,t]=Me.useState([]),[r,n]=Me.useState([]),[i,s]=Me.useState(""),[o,a]=Me.useState(""),[l,c]=Me.useState(!0),[u,h]=Me.useState(!1),[f,d]=Me.useState(null),[p,g]=Me.useState({title:"",content:"",categoryId:""});Me.useEffect(()=>{m()},[i]);const m=async()=>{try{const[_,M]=await Promise.all([yhe(i||void 0),bhe()]);t(_),n(M)}catch(_){console.error("Error loading knowledge base:",_)}finally{c(!1)}},v=async()=>{if(!o){m();return}try{const _=await She(o);t(_)}catch(_){console.error("Error searching:",_)}},y=async()=>{if(!(!p.title||!p.content||!p.categoryId))try{await xhe(p.title,p.content,p.categoryId),h(!1),g({title:"",content:"",categoryId:""}),m()}catch(_){console.error("Error creating article:",_),alert("Failed to create article")}},x=async _=>{d(_),await whe(_.id)},w=async(_,M)=>{try{await _he(_,M),m()}catch(U){console.error("Error voting:",U)}};return l?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f?b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{onClick:()=>d(null),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Knowledge Base"})}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:f.title}),b.jsxs("div",{className:"flex items-center gap-6 mb-6 text-sm text-gray-600",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zf,{className:"w-4 h-4"}),f.view_count||0," views"]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(iw,{className:"w-4 h-4"}),f.helpful_count||0," helpful"]})]}),b.jsx("div",{className:"prose max-w-none mb-8",children:b.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:f.content})}),b.jsxs("div",{className:"border-t pt-6",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Was this article helpful?"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:()=>w(f.id,!0),className:"flex items-center gap-2 px-4 py-2 border border-green-300 text-green-700 rounded-lg hover:bg-green-50",children:[b.jsx(iw,{className:"w-4 h-4"}),"Yes"]}),b.jsx("button",{onClick:()=>w(f.id,!1),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"No"})]})]})]})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(R0,{className:"w-7 h-7 text-blue-600"}),"Knowledge Management"]}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Centralized knowledge base and documentation"})]}),b.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[b.jsx(M0,{className:"w-4 h-4"}),"New Article"]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx(h8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),b.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value),onKeyPress:_=>_.key==="Enter"&&v(),placeholder:"Search knowledge base...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),b.jsx("button",{onClick:v,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Search"})]}),b.jsxs("div",{className:"flex gap-2 flex-wrap",children:[b.jsx("button",{onClick:()=>s(""),className:`px-4 py-2 rounded-lg ${i?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:"All Categories"}),r.map(_=>b.jsx("button",{onClick:()=>s(_.id),className:`px-4 py-2 rounded-lg ${i===_.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_.name},_.id))]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(_=>{var M;return b.jsxs("div",{onClick:()=>x(_),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer border-l-4 border-blue-500",children:[b.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:b.jsx(Ii,{className:"w-5 h-5 text-blue-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.title}),_.knowledge_categories&&b.jsx("span",{className:"text-xs text-blue-600 font-medium",children:_.knowledge_categories.name})]})]}),b.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[(M=_.content)==null?void 0:M.substring(0,150),"..."]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(zf,{className:"w-3 h-3"}),_.view_count||0]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(iw,{className:"w-3 h-3"}),_.helpful_count||0]})]}),b.jsx("span",{children:new Date(_.created_at).toLocaleDateString()})]})]},_.id)})}),e.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[b.jsx(R0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No articles found"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Start building your knowledge base"})]}),u&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Create New Article"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),b.jsx("input",{type:"text",value:p.title,onChange:_=>g({...p,title:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),b.jsxs("select",{value:p.categoryId,onChange:_=>g({...p,categoryId:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"",children:"Select a category"}),r.map(_=>b.jsx("option",{value:_.id,children:_.name},_.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),b.jsx("textarea",{value:p.content,onChange:_=>g({...p,content:_.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),b.jsxs("div",{className:"flex gap-3 mt-6",children:[b.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),b.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Article"})]})]})})]})}const khe=()=>{const e=[{id:"1",title:"Password Reset Procedure",views:1247,helpful:96,lastUpdated:"2025-10-01",status:"published",effectiveness:94},{id:"2",title:"Payment Processing Guide",views:892,helpful:94,lastUpdated:"2025-09-28",status:"published",effectiveness:91},{id:"3",title:"Refund Policy Explained",views:734,helpful:88,lastUpdated:"2025-09-25",status:"published",effectiveness:85},{id:"4",title:"Account Setup Tutorial",views:2103,helpful:98,lastUpdated:"2025-10-03",status:"published",effectiveness:97}],t=[{id:"1",article:"Password Reset Procedure",ticket:"#1234",relevance:96,used:!0},{id:"2",article:"Payment Processing Guide",ticket:"#1235",relevance:92,used:!0},{id:"3",article:"Refund Policy Explained",ticket:"#1236",relevance:88,used:!1}],r=[{id:"1",topic:"Multi-factor Authentication Setup",frequency:45,priority:"high",searches:67},{id:"2",topic:"Billing Cycle Changes",frequency:32,priority:"medium",searches:48},{id:"3",topic:"API Integration Guide",frequency:28,priority:"high",searches:52}];return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Knowledge Management"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered knowledge base with auto-generation"})]}),b.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(Ii,{className:"w-4 h-4"}),"Create Article"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Articles",value:"247",icon:R0,trend:"+23 this month"},{label:"Avg Effectiveness",value:"92%",icon:Ts,trend:"+5%"},{label:"AI Suggestions",value:"1,834",icon:ns,trend:"Today"},{label:"Auto-Generated",value:"45",icon:$y,trend:"This month"}].map((n,i)=>b.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:n.label}),b.jsx(n.icon,{className:"w-4 h-4 text-blue-600"})]}),b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.value}),b.jsx("div",{className:"text-xs text-green-600 mt-1",children:n.trend})]},i))}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Articles"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Most helpful content"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-3",children:e.map(n=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:n.title}),b.jsx(br,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Views:"}),b.jsx("span",{className:"ml-1 font-medium",children:n.views})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Helpful:"}),b.jsxs("span",{className:"ml-1 font-medium text-green-600",children:[n.helpful,"%"]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500",children:"Score:"}),b.jsxs("span",{className:"ml-1 font-medium",children:[n.effectiveness,"%"]})]})]})]},n.id))})})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Suggestions Today"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time article recommendations"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-3",children:t.map(n=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:n.article}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested for ",n.ticket]})]}),b.jsx(ns,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"})]}),b.jsxs("div",{className:"flex items-center justify-between mt-2",children:[b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"text-gray-500",children:"Relevance:"}),b.jsxs("span",{className:"ml-1 font-medium text-blue-600",children:[n.relevance,"%"]})]}),b.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n.used?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:n.used?"Used":"Pending"})]})]},n.id))})})]})]}),b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"p-6 border-b border-gray-200",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Knowledge Gaps Detected"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Missing content identified by AI"})]}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"space-y-3",children:r.map(n=>b.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-medium text-gray-900",children:n.topic}),b.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[b.jsxs("span",{children:[n.frequency," tickets without solution"]}),b.jsx("span",{children:"•"}),b.jsxs("span",{children:[n.searches," failed searches"]})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${n.priority==="high"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.priority," priority"]}),b.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Generate"})]})]},n.id))})})]}),b.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200 p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:b.jsx($y,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"AI Learning Active"}),b.jsxs("p",{className:"text-gray-700",children:["The knowledge base is continuously learning from ",b.jsx("span",{className:"font-medium text-yellow-700",children:"1,834 ticket resolutions"})," today.",b.jsx("span",{className:"font-medium text-green-700",children:" 45 articles auto-generated"})," this month with",b.jsx("span",{className:"font-medium text-blue-700",children:" 92% average effectiveness"})," score."]})]})]})})]})},Nhe=()=>{const[e,t]=Me.useState("overview"),r=[{id:"overview",label:"Overview",icon:b.jsx(ZV,{size:18})},{id:"architecture",label:"Architecture",icon:b.jsx(WI,{size:18})},{id:"frontend",label:"Frontend Stack",icon:b.jsx(Q3,{size:18})},{id:"backend",label:"Backend & Database",icon:b.jsx(P0,{size:18})},{id:"security",label:"Security",icon:b.jsx(go,{size:18})},{id:"deployment",label:"Deployment",icon:b.jsx(Uy,{size:18})},{id:"api",label:"API Reference",icon:b.jsx(fG,{size:18})},{id:"modules",label:"Module Catalog",icon:b.jsx(VV,{size:18})},{id:"performance",label:"Performance",icon:b.jsx(ns,{size:18})}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-8 text-white",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Technical Specifications"}),b.jsx("p",{className:"text-blue-100 mb-4",children:"Complete technical documentation for the BPO Platform v2.0"}),b.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-4 py-2 rounded-lg inline-flex",children:[b.jsx(Q3,{size:16}),b.jsx("span",{children:"Current Version:"}),b.jsxs("a",{href:"https://stackblitz.com/~/github.com/your-username/bpo-platform",target:"_blank",rel:"noopener noreferrer",className:"font-mono font-semibold hover:underline flex items-center gap-1",children:["Live Demo",b.jsx(XV,{size:14})]})]})]}),b.jsxs("div",{className:"bg-white/10 px-4 py-2 rounded-lg",children:[b.jsx("div",{className:"text-sm text-blue-100",children:"Build Status"}),b.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.jsx(br,{size:18,className:"text-green-300"}),b.jsx("span",{className:"font-semibold",children:"Production Ready"})]})]})]})}),b.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[b.jsx("div",{className:"col-span-3",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 sticky top-6",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Navigation"}),b.jsx("div",{className:"space-y-1",children:r.map(n=>b.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors ${e===n.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[n.icon,b.jsx("span",{children:n.label})]},n.id))})]})}),b.jsxs("div",{className:"col-span-9",children:[e==="overview"&&b.jsx(Ahe,{}),e==="architecture"&&b.jsx(Che,{}),e==="frontend"&&b.jsx(jhe,{}),e==="backend"&&b.jsx(The,{}),e==="security"&&b.jsx(Rhe,{}),e==="deployment"&&b.jsx(Phe,{}),e==="api"&&b.jsx(Ohe,{}),e==="modules"&&b.jsx(Ihe,{}),e==="performance"&&b.jsx(Mhe,{})]})]})]})},Ahe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Platform Overview"}),b.jsxs("div",{className:"prose max-w-none",children:[b.jsx("p",{className:"text-slate-600 mb-4",children:"The BPO Platform is an enterprise-grade, AI-powered business process outsourcing management system built with modern web technologies. It provides a comprehensive suite of 42 modules covering all aspects of BPO operations."}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"42"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Total Modules"}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"36 base + 6 premium"})]}),b.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"68"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Database Tables"}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"100% RLS coverage"})]}),b.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"108 KB"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Bundle Size"}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Gzipped, production"})]}),b.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:"4.2s"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Build Time"}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"0 errors, optimized"})]})]}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Key Features"}),b.jsxs("ul",{className:"space-y-2 mb-6",children:[b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"AI-Powered Optimization:"})," Process mining discovers $2M+ in annual savings"]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"Predictive Analytics:"})," ML-based forecasting prevents 80% of project delays"]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"Visual Editors:"})," Full drag-and-drop BPMN and Gantt chart builders"]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"Multi-Tenancy:"})," White-label SaaS with tenant isolation and custom branding"]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"Enterprise Security:"})," Row-level security, field permissions, audit logging"]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(br,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("span",{className:"text-slate-600",children:[b.jsx("strong",{children:"Real-time Collaboration:"})," Live presence, comments, and notifications"]})]})]}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Technology Stack"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:b.jsx("table",{className:"w-full text-sm",children:b.jsxs("tbody",{children:[b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Frontend"}),b.jsx("td",{className:"py-2 text-slate-600",children:"React 18, TypeScript 5.5, Vite 5.4"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Styling"}),b.jsx("td",{className:"py-2 text-slate-600",children:"Tailwind CSS 3.4, Lucide React Icons"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Backend"}),b.jsx("td",{className:"py-2 text-slate-600",children:"Supabase (PostgreSQL + Edge Functions)"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Authentication"}),b.jsx("td",{className:"py-2 text-slate-600",children:"Supabase Auth (JWT-based)"})]}),b.jsxs("tr",{children:[b.jsx("td",{className:"py-2 font-medium text-slate-700",children:"Deployment"}),b.jsx("td",{className:"py-2 text-slate-600",children:"Netlify / Vercel (Static SPA)"})]})]})})})]})]})}),Che=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"System Architecture"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Architecture Pattern"}),b.jsxs("p",{className:"text-slate-600 mb-4",children:["The platform follows a ",b.jsx("strong",{children:"JAMstack architecture"})," with a React SPA frontend and serverless Supabase backend. This provides excellent performance, scalability, and developer experience."]}),b.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 mb-6",children:[b.jsx("div",{className:"text-center mb-4",children:b.jsx("div",{className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg mb-2",children:"Client (Browser)"})}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx(VN,{size:24,className:"text-slate-400 rotate-90"})}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[b.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[b.jsx(KI,{size:24,className:"text-green-600 mx-auto mb-2"}),b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Supabase API"}),b.jsx("div",{className:"text-xs text-slate-500",children:"REST + GraphQL"})]}),b.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[b.jsx(P0,{size:24,className:"text-purple-600 mx-auto mb-2"}),b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"PostgreSQL"}),b.jsx("div",{className:"text-xs text-slate-500",children:"68 tables"})]}),b.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[b.jsx(ns,{size:24,className:"text-yellow-600 mx-auto mb-2"}),b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Edge Functions"}),b.jsx("div",{className:"text-xs text-slate-500",children:"Deno runtime"})]})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx(VN,{size:24,className:"text-slate-400 rotate-90"})}),b.jsx("div",{className:"text-center",children:b.jsx("div",{className:"inline-block bg-slate-700 text-white px-4 py-2 rounded-lg",children:"External Services (Stripe, Email, etc.)"})})]}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Component Architecture"}),b.jsxs("ul",{className:"space-y-2 mb-4",children:[b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(UI,{size:18,className:"text-blue-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-slate-700",children:"Presentation Layer:"}),b.jsx("span",{className:"text-slate-600",children:" React components, modular design, single responsibility"})]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(Fb,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-slate-700",children:"Business Logic:"}),b.jsx("span",{className:"text-slate-600",children:" React hooks, context providers, custom utilities"})]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(P0,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-slate-700",children:"Data Layer:"}),b.jsx("span",{className:"text-slate-600",children:" Supabase client, RLS policies, real-time subscriptions"})]})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx(go,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-slate-700",children:"Security Layer:"}),b.jsx("span",{className:"text-slate-600",children:" JWT authentication, row-level security, field permissions"})]})]})]}),b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Data Flow"}),b.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:b.jsxs("ol",{className:"space-y-2 text-sm",children:[b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"1"}),b.jsx("span",{className:"text-slate-700 mt-0.5",children:"User interacts with React component (click, input, etc.)"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"2"}),b.jsx("span",{className:"text-slate-700 mt-0.5",children:"Component calls Supabase client method with JWT token"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"3"}),b.jsx("span",{className:"text-slate-700 mt-0.5",children:"Supabase validates JWT and applies RLS policies"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"4"}),b.jsx("span",{className:"text-slate-700 mt-0.5",children:"PostgreSQL executes query and returns filtered results"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"5"}),b.jsx("span",{className:"text-slate-700 mt-0.5",children:"Component updates state and re-renders with new data"})]})]})})]})]})}),jhe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Frontend Technology Stack"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Core Technologies"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(oG,{size:20,className:"text-blue-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"React 18.3.1"})]}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Modern React with functional components, hooks, and concurrent features."}),b.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[b.jsx("li",{children:"• useState, useEffect, useContext"}),b.jsx("li",{children:"• Custom hooks for reusability"}),b.jsx("li",{children:"• Strict mode enabled"})]})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(UI,{size:20,className:"text-blue-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"TypeScript 5.5"})]}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Strict type safety throughout the codebase for better developer experience."}),b.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[b.jsx("li",{children:"• Strict mode enabled"}),b.jsx("li",{children:"• Interface-based typing"}),b.jsx("li",{children:"• 100% type coverage"})]})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(ns,{size:20,className:"text-purple-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"Vite 5.4"})]}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Lightning-fast build tool with HMR for optimal development experience."}),b.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[b.jsx("li",{children:"• Instant HMR updates"}),b.jsx("li",{children:"• Optimized production builds"}),b.jsx("li",{children:"• 4.2s build time"})]})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(WI,{size:20,className:"text-cyan-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"Tailwind CSS 3.4"})]}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Utility-first CSS framework for rapid UI development and consistency."}),b.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[b.jsx("li",{children:"• Custom design system"}),b.jsx("li",{children:"• Responsive breakpoints"}),b.jsx("li",{children:"• Dark mode ready"})]})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"File Structure"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 font-mono text-sm",children:b.jsxs("div",{className:"space-y-1 text-slate-700",children:[b.jsx("div",{children:"src/"}),b.jsx("div",{className:"ml-4",children:"├── components/ (14 reusable components)"}),b.jsx("div",{className:"ml-8",children:"├── Layout.tsx"}),b.jsx("div",{className:"ml-8",children:"├── AuthForm.tsx"}),b.jsx("div",{className:"ml-8",children:"├── BPMNEditor.tsx"}),b.jsx("div",{className:"ml-8",children:"├── GanttChart.tsx"}),b.jsx("div",{className:"ml-8",children:"└── ... (10 more)"}),b.jsx("div",{className:"ml-4",children:"├── modules/ (12 main modules)"}),b.jsx("div",{className:"ml-8",children:"├── Dashboard.tsx"}),b.jsx("div",{className:"ml-8",children:"├── VisualBPMN.tsx"}),b.jsx("div",{className:"ml-8",children:"├── ProjectGantt.tsx"}),b.jsx("div",{className:"ml-8",children:"└── index.ts (exports 42 modules)"}),b.jsx("div",{className:"ml-4",children:"├── contexts/"}),b.jsx("div",{className:"ml-8",children:"└── AuthContext.tsx"}),b.jsx("div",{className:"ml-4",children:"├── lib/"}),b.jsx("div",{className:"ml-8",children:"└── supabase.ts"}),b.jsx("div",{className:"ml-4",children:"├── utils/"}),b.jsx("div",{className:"ml-8",children:"├── moduleGenerator.tsx"}),b.jsx("div",{className:"ml-8",children:"├── notifications.ts"}),b.jsx("div",{className:"ml-8",children:"└── emailService.ts"}),b.jsx("div",{className:"ml-4",children:"├── App.tsx"}),b.jsx("div",{className:"ml-4",children:"├── main.tsx"}),b.jsx("div",{className:"ml-4",children:"└── index.css"})]})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Component Patterns"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border-l-4 border-blue-600 bg-blue-50 p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Functional Components"}),b.jsx("p",{className:"text-sm text-slate-600",children:"All components use modern functional syntax with hooks. No class components."})]}),b.jsxs("div",{className:"border-l-4 border-green-600 bg-green-50 p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Single Responsibility"}),b.jsx("p",{className:"text-sm text-slate-600",children:"Each component has one clear purpose. Complex UIs are broken into smaller components."})]}),b.jsxs("div",{className:"border-l-4 border-purple-600 bg-purple-50 p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-1",children:"Props Interface Typing"}),b.jsx("p",{className:"text-sm text-slate-600",children:"All props are typed with TypeScript interfaces for type safety and documentation."})]})]})]})]})]})}),The=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backend & Database Architecture"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Supabase Backend"}),b.jsx("p",{className:"text-slate-600 mb-4",children:"Supabase provides a complete backend-as-a-service built on PostgreSQL. It handles authentication, database access, real-time subscriptions, and serverless functions."}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[b.jsx(P0,{size:32,className:"text-green-600 mx-auto mb-2"}),b.jsx("div",{className:"font-semibold text-slate-700",children:"PostgreSQL 15"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Relational database"})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[b.jsx(Hy,{size:32,className:"text-blue-600 mx-auto mb-2"}),b.jsx("div",{className:"font-semibold text-slate-700",children:"Supabase Auth"}),b.jsx("div",{className:"text-sm text-slate-600",children:"JWT authentication"})]}),b.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[b.jsx(KI,{size:32,className:"text-purple-600 mx-auto mb-2"}),b.jsx("div",{className:"font-semibold text-slate-700",children:"Edge Functions"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Deno runtime"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Database Schema"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-slate-800",children:"68"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Total Tables"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-slate-800",children:"742+"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Total Columns"})]})]})}),b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Table Categories"}),b.jsxs("div",{className:"space-y-2 text-sm",children:[b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Core Operations"}),b.jsx("span",{className:"font-mono text-slate-600",children:"7 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Change Management"}),b.jsx("span",{className:"font-mono text-slate-600",children:"7 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Governance & Compliance"}),b.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Resource Management"}),b.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Workflow & Automation"}),b.jsx("span",{className:"font-mono text-slate-600",children:"6 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Premium AI Features"}),b.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"4 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Premium Knowledge Management"}),b.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"4 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Premium Billing System"}),b.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"5 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Premium Training LMS"}),b.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"5 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[b.jsx("span",{className:"text-slate-700",children:"Premium Multi-Tenancy"}),b.jsx("span",{className:"font-mono text-slate-600 text-blue-600",children:"3 tables"})]}),b.jsxs("div",{className:"flex justify-between items-center py-2",children:[b.jsx("span",{className:"text-slate-700",children:"Additional Operations"}),b.jsx("span",{className:"font-mono text-slate-600",children:"15 tables"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Migrations"}),b.jsx("p",{className:"text-slate-600 mb-3",children:"Database schema is managed through SQL migration files with comprehensive documentation."}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:b.jsxs("div",{className:"font-mono text-xs space-y-1 text-slate-700",children:[b.jsx("div",{children:"supabase/migrations/"}),b.jsx("div",{className:"ml-4",children:"├── 20251006154156_create_core_tables.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006154227_create_change_management_tables.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006154306_create_operations_and_governance_tables.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006163020_add_notifications_and_storage.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006163235_add_workflow_execution_and_approvals.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006165512_add_email_to_users_profile.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006165650_add_diagram_data_to_processes.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006165745_create_active_users_table.sql"}),b.jsx("div",{className:"ml-4",children:"├── 20251006165828_create_collaboration_comments_table.sql"}),b.jsx("div",{className:"ml-4",children:"└── 20251006172807_create_project_tasks_and_dependencies.sql"})]})})]})]})]})}),Rhe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Security Architecture"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 rounded-lg p-4 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(br,{size:20,className:"text-green-600"}),b.jsx("div",{className:"font-semibold text-green-800",children:"100% Row-Level Security Coverage"})]}),b.jsx("p",{className:"text-sm text-green-700",children:"Every single table in the database has RLS enabled with restrictive policies. No data can be accessed without proper authentication and authorization."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Authentication"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"JWT-Based Authentication"}),b.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Supabase Auth provides secure JWT tokens for session management. Tokens contain user identity and are validated on every request."}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[b.jsx("li",{children:"• Email/password authentication"}),b.jsx("li",{children:"• Automatic token refresh"}),b.jsx("li",{children:"• Secure session storage"}),b.jsx("li",{children:"• Password reset workflows"})]})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Session Management"}),b.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"React Context API manages authentication state across the application with automatic persistence and refresh."}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[b.jsx("li",{children:"• Persistent sessions across page reloads"}),b.jsx("li",{children:"• Automatic logout on token expiry"}),b.jsx("li",{children:"• Protected route handling"})]})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Row-Level Security (RLS)"}),b.jsx("p",{className:"text-slate-600 mb-3",children:"PostgreSQL RLS policies ensure users can only access data they own or have explicit permission to view. Policies are enforced at the database level, not application level."}),b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[b.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Example RLS Policy"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`CREATE POLICY "Users can view own data"
  ON users_profile
  FOR SELECT
  TO authenticated
  USING (auth.uid() = id);`})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[b.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"SELECT Policies"}),b.jsx("p",{className:"text-xs text-blue-700",children:"Control who can read data"})]}),b.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[b.jsx("div",{className:"text-sm font-medium text-green-800 mb-1",children:"INSERT Policies"}),b.jsx("p",{className:"text-xs text-green-700",children:"Control who can create data"})]}),b.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[b.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"UPDATE Policies"}),b.jsx("p",{className:"text-xs text-yellow-700",children:"Control who can modify data"})]}),b.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[b.jsx("div",{className:"text-sm font-medium text-red-800 mb-1",children:"DELETE Policies"}),b.jsx("p",{className:"text-xs text-red-700",children:"Control who can remove data"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Additional Security Features"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[b.jsx(go,{size:18,className:"text-blue-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Audit Logging"}),b.jsx("p",{className:"text-xs text-slate-600",children:"All data access and modifications are logged in audit_logs and data_access_logs tables"})]})]}),b.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[b.jsx(go,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Field-Level Permissions"}),b.jsx("p",{className:"text-xs text-slate-600",children:"Premium feature allowing granular control over individual field access per role"})]})]}),b.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[b.jsx(go,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Multi-Tenant Isolation"}),b.jsx("p",{className:"text-xs text-slate-600",children:"Tenant ID filtering ensures complete data isolation between organizations"})]})]}),b.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg",children:[b.jsx(go,{size:18,className:"text-orange-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-slate-700 text-sm",children:"Approval Workflows"}),b.jsx("p",{className:"text-xs text-slate-600",children:"Multi-level approval system for sensitive operations requiring authorization"})]})]})]})]})]})]})}),Phe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Deployment Architecture"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Static Site Deployment"}),b.jsx("p",{className:"text-slate-600 mb-4",children:"The platform builds to static files that can be deployed to any CDN or static hosting service. Recommended platforms: Netlify or Vercel."}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(Uy,{size:24,className:"text-green-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"Netlify"})]}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[b.jsx("li",{children:"• Automatic deployments from git"}),b.jsx("li",{children:"• Built-in CDN (Cloudflare)"}),b.jsx("li",{children:"• SPA routing with _redirects"}),b.jsx("li",{children:"• Free tier available"})]})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(Uy,{size:24,className:"text-blue-600"}),b.jsx("h4",{className:"font-semibold text-slate-700",children:"Vercel"})]}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[b.jsx("li",{children:"• Zero-config deployment"}),b.jsx("li",{children:"• Edge network globally"}),b.jsx("li",{children:"• Automatic HTTPS"}),b.jsx("li",{children:"• Preview deployments"})]})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Build Process"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:b.jsxs("div",{className:"font-mono text-sm space-y-2",children:[b.jsx("div",{className:"text-slate-700",children:"$ npm run build"}),b.jsxs("div",{className:"text-slate-500 ml-4",children:[b.jsx("div",{children:"✓ 1566 modules transformed"}),b.jsx("div",{children:"✓ dist/index.html (0.46 KB)"}),b.jsx("div",{children:"✓ dist/assets/index.css (29.99 KB)"}),b.jsx("div",{children:"✓ dist/assets/index.js (396.64 KB)"}),b.jsx("div",{children:"✓ Built in 4.21s"})]})]})}),b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Build Output"}),b.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[b.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[b.jsx("span",{children:"HTML Entry Point"}),b.jsx("span",{className:"font-mono",children:"0.46 KB (0.29 KB gzipped)"})]}),b.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[b.jsx("span",{children:"CSS Bundle"}),b.jsx("span",{className:"font-mono",children:"29.99 KB (5.48 KB gzipped)"})]}),b.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200",children:[b.jsx("span",{children:"JavaScript Bundle"}),b.jsx("span",{className:"font-mono",children:"396.64 KB (108.27 KB gzipped)"})]}),b.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[b.jsx("span",{children:"Total Page Weight"}),b.jsx("span",{className:"font-mono text-green-600",children:"113.75 KB gzipped"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Environment Configuration"}),b.jsx("p",{className:"text-slate-600 mb-3",children:"Environment variables must be set in your hosting platform's dashboard."}),b.jsx("div",{className:"bg-slate-900 rounded-lg p-4",children:b.jsx("pre",{className:"text-slate-100 text-xs",children:`VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key`})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Performance Optimization"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Code Splitting Ready:"})," Can split premium features into separate chunks"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Tree Shaking:"})," Unused code automatically removed from build"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Minification:"})," All JavaScript and CSS minified in production"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Gzip Compression:"})," Automatic compression on CDN edge servers"]})]})]})]})]})]})}),Ohe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"API Reference"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Supabase Client API"}),b.jsx("p",{className:"text-slate-600 mb-4",children:"All database interactions use the Supabase JavaScript client. The client automatically handles authentication, RLS, and real-time subscriptions."}),b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[b.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Client Initialization"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  import.meta.env.VITE_SUPABASE_URL,
  import.meta.env.VITE_SUPABASE_ANON_KEY
);`})]}),b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Common Operations"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Query Data (SELECT)"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .select('*')
  .eq('status', 'active')
  .order('created_at', { ascending: false });`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Insert Data"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .insert({
    name: 'New Process',
    description: 'Process description',
    status: 'draft'
  })
  .select()
  .single();`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Update Data"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase
  .from('processes')
  .update({ status: 'active' })
  .eq('id', processId)
  .select()
  .single();`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Delete Data"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { error } = await supabase
  .from('processes')
  .delete()
  .eq('id', processId);`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Real-time Subscription"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const channel = supabase
  .channel('processes')
  .on('postgres_changes', {
    event: '*',
    schema: 'public',
    table: 'processes'
  }, (payload) => {
    console.log('Change received!', payload);
  })
  .subscribe();`})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Authentication API"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign Up"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.auth.signUp({
  email: 'user@example.com',
  password: 'secure-password'
});`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign In"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'secure-password'
});`})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Sign Out"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:"const { error } = await supabase.auth.signOut();"})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Get Current User"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:"const { data: { user } } = await supabase.auth.getUser();"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Edge Functions API"}),b.jsx("p",{className:"text-slate-600 mb-3",children:"Edge Functions are called via HTTP endpoints with authentication headers."}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-medium text-slate-700 mb-2",children:"Call Edge Function"}),b.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 rounded text-xs overflow-x-auto",children:`const { data, error } = await supabase.functions.invoke('send-email', {
  body: {
    to: 'user@example.com',
    subject: 'Hello',
    message: 'This is a test email'
  }
});`})]})]})]})]})}),Ihe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Module Catalog"}),b.jsx("div",{className:"mb-4",children:b.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"42"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Total Modules"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:"36"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Base Modules"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"6"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Premium Modules"})]})]})})}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Premium Modules (Phase 1-3)"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border-l-4 border-blue-600 bg-blue-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-blue-800",children:"AI Process Mining"}),b.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"AI discovers optimization opportunities and calculates potential savings"}),b.jsx("div",{className:"text-xs text-blue-600",children:"Table: process_mining_insights | Lines: ~350 | Features: Bottleneck detection, waste identification, savings calculations"})]}),b.jsxs("div",{className:"border-l-4 border-green-600 bg-green-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-green-800",children:"Predictive Analytics"}),b.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-green-700 mb-2",children:"ML-based forecasting predicts delays, resource shortages, and budget overruns"}),b.jsx("div",{className:"text-xs text-green-600",children:"Table: predictive_forecasts | Lines: ~400 | Features: Risk radar, confidence scoring, recommended actions"})]}),b.jsxs("div",{className:"border-l-4 border-purple-600 bg-purple-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-purple-800",children:"Automation Builder"}),b.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"No-code workflow creation with multiple trigger types and execution tracking"}),b.jsx("div",{className:"text-xs text-purple-600",children:"Tables: automation_workflows, automation_executions | Lines: ~250 | Features: Triggers, external connections"})]}),b.jsxs("div",{className:"border-l-4 border-orange-600 bg-orange-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-orange-800",children:"Knowledge Base"}),b.jsx("span",{className:"text-xs bg-orange-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"Centralized knowledge repository with versioning, search, and voting"}),b.jsx("div",{className:"text-xs text-orange-600",children:"Tables: knowledge_articles, knowledge_categories | Lines: ~250 | Features: Tags, views, votes"})]}),b.jsxs("div",{className:"border-l-4 border-teal-600 bg-teal-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-teal-800",children:"Training LMS"}),b.jsx("span",{className:"text-xs bg-teal-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-teal-700 mb-2",children:"Complete learning management system with courses, modules, and certifications"}),b.jsx("div",{className:"text-xs text-teal-600",children:"Tables: training_courses, training_modules, training_enrollments | Lines: ~300"})]}),b.jsxs("div",{className:"border-l-4 border-pink-600 bg-pink-50 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"font-semibold text-pink-800",children:"Client Billing"}),b.jsx("span",{className:"text-xs bg-pink-600 text-white px-2 py-1 rounded",children:"PREMIUM"})]}),b.jsx("p",{className:"text-sm text-pink-700 mb-2",children:"Complete billing system with clients, rates, invoices, and payment tracking"}),b.jsx("div",{className:"text-xs text-pink-600",children:"Tables: clients, billing_rates, invoices, payments | Lines: ~300 | Features: Invoice generation, revenue analytics"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Visual Editors (2)"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:"Visual BPMN Editor"}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Full drag-and-drop BPMN 2.0 diagram editor for process documentation"}),b.jsx("div",{className:"text-xs text-slate-500",children:"Module: VisualBPMN.tsx | Lines: ~375 | Features: Drag-and-drop, save/load, export"})]}),b.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[b.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:"Gantt Chart Editor"}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Full-featured Gantt chart with task dependencies and timeline management"}),b.jsx("div",{className:"text-xs text-slate-500",children:"Module: ProjectGantt.tsx | Lines: ~374 | Features: Dependencies, milestones, drag-and-drop"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Base Modules (36)"}),b.jsx("p",{className:"text-slate-600 mb-3",children:"All base modules are generated using the enhanced module generator with full CRUD operations, filtering, sorting, search, and export capabilities."}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:["BPMN Builder","SOP Builder","KPI Manager","Project Manager","Change Initiatives","Stakeholder Management","Communication Plans","Training Programs","Resistance Management","Readiness Assessment","Impact Analysis","Workflow Automation","Analytics","Executive Dashboards","Reporting","Transition Projects","Policy Management","Compliance Tracking","Audit Trails","RACI Matrix","Risk Analysis","Finance","Team Management","Capacity Planning","Budget Tracking","Time Tracking","Continuous Improvement","AI Document Processor","Process Mapping","Enhanced Dashboard","And 6 more..."].map(e=>b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 py-1",children:[b.jsx(br,{size:16,className:"text-green-600 flex-shrink-0"}),b.jsx("span",{children:e})]},e))})]})]})]})}),Mhe=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Performance Metrics"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Build Performance"}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:"A+"}),b.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Overall Grade"})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"4.2s"}),b.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Build Time"})]}),b.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"108 KB"}),b.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"JS Gzipped"})]}),b.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"0"}),b.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Errors"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Load Time Projections"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b-2 border-slate-200",children:[b.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Metric"}),b.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"3G (750 Kbps)"}),b.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"4G (4 Mbps)"}),b.jsx("th",{className:"text-center py-2 px-3 text-slate-700",children:"WiFi (10 Mbps)"})]})}),b.jsxs("tbody",{children:[b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"JS Download"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"1.15s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.22s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.09s"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"CSS Download"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.06s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.01s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"0.005s"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Parse/Execute"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"}),b.jsx("td",{className:"py-2 px-3 text-center text-slate-600",children:"~0.3s"})]}),b.jsxs("tr",{className:"bg-green-50 font-semibold",children:[b.jsx("td",{className:"py-2 px-3 text-slate-700",children:"Total Time to Interactive"}),b.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~1.5s"}),b.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~0.5s"}),b.jsx("td",{className:"py-2 px-3 text-center text-green-600",children:"~0.4s"})]})]})]})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Bundle Analysis"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[b.jsx("span",{className:"text-slate-700",children:"React + React DOM"}),b.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~130 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[b.jsx("span",{className:"text-slate-700",children:"Supabase Client"}),b.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~40 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[b.jsx("span",{className:"text-slate-700",children:"Lucide Icons"}),b.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~30 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[b.jsx("span",{className:"text-slate-700",children:"Application Code"}),b.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~140 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[b.jsx("span",{className:"text-slate-700",children:"Other Dependencies"}),b.jsx("span",{className:"font-mono text-sm text-slate-600",children:"~56 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border-t-2 border-blue-200",children:[b.jsx("span",{className:"font-semibold text-blue-800",children:"Total (Uncompressed)"}),b.jsx("span",{className:"font-mono text-sm font-semibold text-blue-600",children:"396.64 KB"})]}),b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[b.jsx("span",{className:"font-semibold text-green-800",children:"Total (Gzipped)"}),b.jsx("span",{className:"font-mono text-sm font-semibold text-green-600",children:"108.27 KB"})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Database Performance"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Indexed Queries:"})," All foreign keys and frequently queried columns have indexes"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Connection Pooling:"})," Supabase handles connection pooling automatically"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Query Optimization:"})," RLS policies optimized for performance"]})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[b.jsx(br,{size:18,className:"text-green-600 flex-shrink-0"}),b.jsxs("span",{className:"text-sm text-slate-700",children:[b.jsx("strong",{children:"Real-time Subscriptions:"})," WebSocket connections for live updates"]})]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Scalability Metrics"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b-2 border-slate-200",children:[b.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Users"}),b.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Database Tier"}),b.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Monthly Cost"}),b.jsx("th",{className:"text-left py-2 px-3 text-slate-700",children:"Performance"})]})}),b.jsxs("tbody",{children:[b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"1-100"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Pro"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$25/mo"}),b.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"100-500"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Team"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$100/mo"}),b.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),b.jsxs("tr",{className:"border-b border-slate-200",children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"500-2000"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Supabase Enterprise"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"$500+/mo"}),b.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:"Excellent"})]}),b.jsxs("tr",{children:[b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"2000+"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Custom Infrastructure"}),b.jsx("td",{className:"py-2 px-3 text-slate-600",children:"Custom"}),b.jsx("td",{className:"py-2 px-3 text-blue-600 font-medium",children:"Scalable"})]})]})]})})]})]})]})});var Lhe=Object.defineProperty,Dhe=Object.defineProperties,Bhe=Object.getOwnPropertyDescriptors,P9=Object.getOwnPropertySymbols,Fhe=Object.prototype.hasOwnProperty,zhe=Object.prototype.propertyIsEnumerable,s6=(e,t,r)=>t in e?Lhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vr=(e,t)=>{for(var r in t||(t={}))Fhe.call(t,r)&&s6(e,r,t[r]);if(P9)for(var r of P9(t))zhe.call(t,r)&&s6(e,r,t[r]);return e},rp=(e,t)=>Dhe(e,Bhe(t)),tt=(e,t,r)=>s6(e,typeof t!="symbol"?t+"":t,r),Uhe=(e,t,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(c){i(c)}},o=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(e,t)).next())});class mb{constructor(t){tt(this,"rootKey"),this.rootKey=t}}const $he=Object.seal({});class lt extends mb{constructor(t){super(t),tt(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof mb?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:$he}}addChildElement(t){return this.root.push(t),this}}class G2 extends lt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class ur extends mb{constructor(t){super("_attr"),tt(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class K2 extends mb{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>rp(Vr({},n),{[i]:s}),{})}}}class fi extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l_={},Nv={exports:{}},O9;function SE(){if(O9)return Nv.exports;O9=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(_,M,U){return Function.prototype.apply.call(_,M,U)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:r=function(_){return Object.getOwnPropertyNames(_)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(_){return _!==_};function s(){s.init.call(this)}Nv.exports=s,Nv.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");o=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(_){for(var M=[],U=1;U<arguments.length;U++)M.push(arguments[U]);var L=_==="error",O=this._events;if(O!==void 0)L=L&&O.error===void 0;else if(!L)return!1;if(L){var H;if(M.length>0&&(H=M[0]),H instanceof Error)throw H;var G=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw G.context=H,G}var I=O[_];if(I===void 0)return!1;if(typeof I=="function")t(I,this,M);else for(var R=I.length,S=p(I,R),U=0;U<R;++U)t(S[U],this,M);return!0};function c(w,_,M,U){var L,O,H;if(a(M),O=w._events,O===void 0?(O=w._events=Object.create(null),w._eventsCount=0):(O.newListener!==void 0&&(w.emit("newListener",_,M.listener?M.listener:M),O=w._events),H=O[_]),H===void 0)H=O[_]=M,++w._eventsCount;else if(typeof H=="function"?H=O[_]=U?[M,H]:[H,M]:U?H.unshift(M):H.push(M),L=l(w),L>0&&H.length>L&&!H.warned){H.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=w,G.type=_,G.count=H.length,n(G)}return w}s.prototype.addListener=function(_,M){return c(this,_,M,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(_,M){return c(this,_,M,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,_,M){var U={fired:!1,wrapFn:void 0,target:w,type:_,listener:M},L=u.bind(U);return L.listener=M,U.wrapFn=L,L}s.prototype.once=function(_,M){return a(M),this.on(_,h(this,_,M)),this},s.prototype.prependOnceListener=function(_,M){return a(M),this.prependListener(_,h(this,_,M)),this},s.prototype.removeListener=function(_,M){var U,L,O,H,G;if(a(M),L=this._events,L===void 0)return this;if(U=L[_],U===void 0)return this;if(U===M||U.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete L[_],L.removeListener&&this.emit("removeListener",_,U.listener||M));else if(typeof U!="function"){for(O=-1,H=U.length-1;H>=0;H--)if(U[H]===M||U[H].listener===M){G=U[H].listener,O=H;break}if(O<0)return this;O===0?U.shift():g(U,O),U.length===1&&(L[_]=U[0]),L.removeListener!==void 0&&this.emit("removeListener",_,G||M)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(_){var M,U,L;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[_]),this;if(arguments.length===0){var O=Object.keys(U),H;for(L=0;L<O.length;++L)H=O[L],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=U[_],typeof M=="function")this.removeListener(_,M);else if(M!==void 0)for(L=M.length-1;L>=0;L--)this.removeListener(_,M[L]);return this};function f(w,_,M){var U=w._events;if(U===void 0)return[];var L=U[_];return L===void 0?[]:typeof L=="function"?M?[L.listener||L]:[L]:M?m(L):p(L,L.length)}s.prototype.listeners=function(_){return f(this,_,!0)},s.prototype.rawListeners=function(_){return f(this,_,!1)},s.listenerCount=function(w,_){return typeof w.listenerCount=="function"?w.listenerCount(_):d.call(w,_)},s.prototype.listenerCount=d;function d(w){var _=this._events;if(_!==void 0){var M=_[w];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(w,_){for(var M=new Array(_),U=0;U<_;++U)M[U]=w[U];return M}function g(w,_){for(;_+1<w.length;_++)w[_]=w[_+1];w.pop()}function m(w){for(var _=new Array(w.length),M=0;M<_.length;++M)_[M]=w[M].listener||w[M];return _}function v(w,_){return new Promise(function(M,U){function L(H){w.removeListener(_,O),U(H)}function O(){typeof w.removeListener=="function"&&w.removeListener("error",L),M([].slice.call(arguments))}x(w,_,O,{once:!0}),_!=="error"&&y(w,L,{once:!0})})}function y(w,_,M){typeof w.on=="function"&&x(w,"error",_,M)}function x(w,_,M,U){if(typeof w.on=="function")U.once?w.once(_,M):w.on(_,M);else if(typeof w.addEventListener=="function")w.addEventListener(_,function L(O){U.once&&w.removeEventListener(_,L),M(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Nv.exports}var Av={exports:{}},I9;function Zu(){return I9||(I9=1,typeof Object.create=="function"?Av.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Av.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Av.exports}function Hhe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tz={exports:{}},pi=Tz.exports={},Ko,Xo;function a6(){throw new Error("setTimeout has not been defined")}function o6(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ko=setTimeout:Ko=a6}catch{Ko=a6}try{typeof clearTimeout=="function"?Xo=clearTimeout:Xo=o6}catch{Xo=o6}})();function Rz(e){if(Ko===setTimeout)return setTimeout(e,0);if((Ko===a6||!Ko)&&setTimeout)return Ko=setTimeout,setTimeout(e,0);try{return Ko(e,0)}catch{try{return Ko.call(null,e,0)}catch{return Ko.call(this,e,0)}}}function Whe(e){if(Xo===clearTimeout)return clearTimeout(e);if((Xo===o6||!Xo)&&clearTimeout)return Xo=clearTimeout,clearTimeout(e);try{return Xo(e)}catch{try{return Xo.call(null,e)}catch{return Xo.call(this,e)}}}var Yl=[],jf=!1,zd,py=-1;function qhe(){!jf||!zd||(jf=!1,zd.length?Yl=zd.concat(Yl):py=-1,Yl.length&&Pz())}function Pz(){if(!jf){var e=Rz(qhe);jf=!0;for(var t=Yl.length;t;){for(zd=Yl,Yl=[];++py<t;)zd&&zd[py].run();py=-1,t=Yl.length}zd=null,jf=!1,Whe(e)}}pi.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Yl.push(new Oz(e,t)),Yl.length===1&&!jf&&Rz(Pz)};function Oz(e,t){this.fun=e,this.array=t}Oz.prototype.run=function(){this.fun.apply(null,this.array)};pi.title="browser";pi.browser=!0;pi.env={};pi.argv=[];pi.version="";pi.versions={};function yc(){}pi.on=yc;pi.addListener=yc;pi.once=yc;pi.off=yc;pi.removeListener=yc;pi.removeAllListeners=yc;pi.emit=yc;pi.prependListener=yc;pi.prependOnceListener=yc;pi.listeners=function(e){return[]};pi.binding=function(e){throw new Error("process.binding is not supported")};pi.cwd=function(){return"/"};pi.chdir=function(e){throw new Error("process.chdir is not supported")};pi.umask=function(){return 0};var Vhe=Tz.exports;const Rr=Hhe(Vhe);var c_,M9;function Iz(){return M9||(M9=1,c_=SE().EventEmitter),c_}var u_={},km={},L9;function Ghe(){if(L9)return km;L9=1,km.byteLength=a,km.toByteArray=c,km.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=p);var m=g===p?0:4-g%4;return[g,m]}function a(d){var p=o(d),g=p[0],m=p[1];return(g+m)*3/4-m}function l(d,p,g){return(p+g)*3/4-g}function c(d){var p,g=o(d),m=g[0],v=g[1],y=new r(l(d,m,v)),x=0,w=v>0?m-4:m,_;for(_=0;_<w;_+=4)p=t[d.charCodeAt(_)]<<18|t[d.charCodeAt(_+1)]<<12|t[d.charCodeAt(_+2)]<<6|t[d.charCodeAt(_+3)],y[x++]=p>>16&255,y[x++]=p>>8&255,y[x++]=p&255;return v===2&&(p=t[d.charCodeAt(_)]<<2|t[d.charCodeAt(_+1)]>>4,y[x++]=p&255),v===1&&(p=t[d.charCodeAt(_)]<<10|t[d.charCodeAt(_+1)]<<4|t[d.charCodeAt(_+2)]>>2,y[x++]=p>>8&255,y[x++]=p&255),y}function u(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function h(d,p,g){for(var m,v=[],y=p;y<g;y+=3)m=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(d[y+2]&255),v.push(u(m));return v.join("")}function f(d){for(var p,g=d.length,m=g%3,v=[],y=16383,x=0,w=g-m;x<w;x+=y)v.push(h(d,x,x+y>w?w:x+y));return m===1?(p=d[g-1],v.push(e[p>>2]+e[p<<4&63]+"==")):m===2&&(p=(d[g-2]<<8)+d[g-1],v.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),v.join("")}return km}var Cv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var D9;function Khe(){return D9||(D9=1,Cv.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=s*256+e[t+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+e[t+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(d?-1:1)*o*Math.pow(2,s-n)},Cv.write=function(e,t,r,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+d]=o&255,d+=p,o/=256,c-=8);e[r+d-p]|=g*128}),Cv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var B9;function X2(){return B9||(B9=1,function(e){var t=Ghe(),r=Khe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var ee=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(ee,F),ee.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(ee){if(ee>i)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var F=new Uint8Array(ee);return Object.setPrototypeOf(F,a.prototype),F}function a(ee,F,W){if(typeof ee=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ee)}return l(ee,F,W)}a.poolSize=8192;function l(ee,F,W){if(typeof ee=="string")return f(ee,F);if(ArrayBuffer.isView(ee))return p(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(se(ee,ArrayBuffer)||ee&&se(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(ee,SharedArrayBuffer)||ee&&se(ee.buffer,SharedArrayBuffer)))return g(ee,F,W);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=ee.valueOf&&ee.valueOf();if(Y!=null&&Y!==ee)return a.from(Y,F,W);var ae=m(ee);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return a.from(ee[Symbol.toPrimitive]("string"),F,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}a.from=function(ee,F,W){return l(ee,F,W)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function u(ee,F,W){return c(ee),ee<=0?o(ee):F!==void 0?typeof W=="string"?o(ee).fill(F,W):o(ee).fill(F):o(ee)}a.alloc=function(ee,F,W){return u(ee,F,W)};function h(ee){return c(ee),o(ee<0?0:v(ee)|0)}a.allocUnsafe=function(ee){return h(ee)},a.allocUnsafeSlow=function(ee){return h(ee)};function f(ee,F){if((typeof F!="string"||F==="")&&(F="utf8"),!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);var W=x(ee,F)|0,Y=o(W),ae=Y.write(ee,F);return ae!==W&&(Y=Y.slice(0,ae)),Y}function d(ee){for(var F=ee.length<0?0:v(ee.length)|0,W=o(F),Y=0;Y<F;Y+=1)W[Y]=ee[Y]&255;return W}function p(ee){if(se(ee,Uint8Array)){var F=new Uint8Array(ee);return g(F.buffer,F.byteOffset,F.byteLength)}return d(ee)}function g(ee,F,W){if(F<0||ee.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<F+(W||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return F===void 0&&W===void 0?Y=new Uint8Array(ee):W===void 0?Y=new Uint8Array(ee,F):Y=new Uint8Array(ee,F,W),Object.setPrototypeOf(Y,a.prototype),Y}function m(ee){if(a.isBuffer(ee)){var F=v(ee.length)|0,W=o(F);return W.length===0||ee.copy(W,0,0,F),W}if(ee.length!==void 0)return typeof ee.length!="number"||B(ee.length)?o(0):d(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return d(ee.data)}function v(ee){if(ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ee|0}function y(ee){return+ee!=ee&&(ee=0),a.alloc(+ee)}a.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==a.prototype},a.compare=function(F,W){if(se(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),se(W,Uint8Array)&&(W=a.from(W,W.offset,W.byteLength)),!a.isBuffer(F)||!a.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===W)return 0;for(var Y=F.length,ae=W.length,ce=0,le=Math.min(Y,ae);ce<le;++ce)if(F[ce]!==W[ce]){Y=F[ce],ae=W[ce];break}return Y<ae?-1:ae<Y?1:0},a.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(F,W){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return a.alloc(0);var Y;if(W===void 0)for(W=0,Y=0;Y<F.length;++Y)W+=F[Y].length;var ae=a.allocUnsafe(W),ce=0;for(Y=0;Y<F.length;++Y){var le=F[Y];if(se(le,Uint8Array))ce+le.length>ae.length?a.from(le).copy(ae,ce):Uint8Array.prototype.set.call(ae,le,ce);else if(a.isBuffer(le))le.copy(ae,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=le.length}return ae};function x(ee,F){if(a.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||se(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var W=ee.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&W===0)return 0;for(var ae=!1;;)switch(F){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return N(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return J(ee).length;default:if(ae)return Y?-1:N(ee).length;F=(""+F).toLowerCase(),ae=!0}}a.byteLength=x;function w(ee,F,W){var Y=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,F>>>=0,W<=F))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return C(this,F,W);case"utf8":case"utf-8":return S(this,F,W);case"ascii":return E(this,F,W);case"latin1":case"binary":return A(this,F,W);case"base64":return R(this,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,F,W);default:if(Y)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),Y=!0}}a.prototype._isBuffer=!0;function _(ee,F,W){var Y=ee[F];ee[F]=ee[W],ee[W]=Y}a.prototype.swap16=function(){var F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<F;W+=2)_(this,W,W+1);return this},a.prototype.swap32=function(){var F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<F;W+=4)_(this,W,W+3),_(this,W+1,W+2);return this},a.prototype.swap64=function(){var F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<F;W+=8)_(this,W,W+7),_(this,W+1,W+6),_(this,W+2,W+5),_(this,W+3,W+4);return this},a.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?S(this,0,F):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(F){if(!a.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:a.compare(this,F)===0},a.prototype.inspect=function(){var F="",W=e.INSPECT_MAX_BYTES;return F=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(F+=" ... "),"<Buffer "+F+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(F,W,Y,ae,ce){if(se(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(W===void 0&&(W=0),Y===void 0&&(Y=F?F.length:0),ae===void 0&&(ae=0),ce===void 0&&(ce=this.length),W<0||Y>F.length||ae<0||ce>this.length)throw new RangeError("out of range index");if(ae>=ce&&W>=Y)return 0;if(ae>=ce)return-1;if(W>=Y)return 1;if(W>>>=0,Y>>>=0,ae>>>=0,ce>>>=0,this===F)return 0;for(var le=ce-ae,de=Y-W,me=Math.min(le,de),ge=this.slice(ae,ce),ke=F.slice(W,Y),Re=0;Re<me;++Re)if(ge[Re]!==ke[Re]){le=ge[Re],de=ke[Re];break}return le<de?-1:de<le?1:0};function M(ee,F,W,Y,ae){if(ee.length===0)return-1;if(typeof W=="string"?(Y=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,B(W)&&(W=ae?0:ee.length-1),W<0&&(W=ee.length+W),W>=ee.length){if(ae)return-1;W=ee.length-1}else if(W<0)if(ae)W=0;else return-1;if(typeof F=="string"&&(F=a.from(F,Y)),a.isBuffer(F))return F.length===0?-1:U(ee,F,W,Y,ae);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(ee,F,W):Uint8Array.prototype.lastIndexOf.call(ee,F,W):U(ee,[F],W,Y,ae);throw new TypeError("val must be string, number or Buffer")}function U(ee,F,W,Y,ae){var ce=1,le=ee.length,de=F.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(ee.length<2||F.length<2)return-1;ce=2,le/=2,de/=2,W/=2}function me(qe,Je){return ce===1?qe[Je]:qe.readUInt16BE(Je*ce)}var ge;if(ae){var ke=-1;for(ge=W;ge<le;ge++)if(me(ee,ge)===me(F,ke===-1?0:ge-ke)){if(ke===-1&&(ke=ge),ge-ke+1===de)return ke*ce}else ke!==-1&&(ge-=ge-ke),ke=-1}else for(W+de>le&&(W=le-de),ge=W;ge>=0;ge--){for(var Re=!0,je=0;je<de;je++)if(me(ee,ge+je)!==me(F,je)){Re=!1;break}if(Re)return ge}return-1}a.prototype.includes=function(F,W,Y){return this.indexOf(F,W,Y)!==-1},a.prototype.indexOf=function(F,W,Y){return M(this,F,W,Y,!0)},a.prototype.lastIndexOf=function(F,W,Y){return M(this,F,W,Y,!1)};function L(ee,F,W,Y){W=Number(W)||0;var ae=ee.length-W;Y?(Y=Number(Y),Y>ae&&(Y=ae)):Y=ae;var ce=F.length;Y>ce/2&&(Y=ce/2);for(var le=0;le<Y;++le){var de=parseInt(F.substr(le*2,2),16);if(B(de))return le;ee[W+le]=de}return le}function O(ee,F,W,Y){return re(N(F,ee.length-W),ee,W,Y)}function H(ee,F,W,Y){return re(T(F),ee,W,Y)}function G(ee,F,W,Y){return re(J(F),ee,W,Y)}function I(ee,F,W,Y){return re(V(F,ee.length-W),ee,W,Y)}a.prototype.write=function(F,W,Y,ae){if(W===void 0)ae="utf8",Y=this.length,W=0;else if(Y===void 0&&typeof W=="string")ae=W,Y=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(Y)?(Y=Y>>>0,ae===void 0&&(ae="utf8")):(ae=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ce=this.length-W;if((Y===void 0||Y>ce)&&(Y=ce),F.length>0&&(Y<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var le=!1;;)switch(ae){case"hex":return L(this,F,W,Y);case"utf8":case"utf-8":return O(this,F,W,Y);case"ascii":case"latin1":case"binary":return H(this,F,W,Y);case"base64":return G(this,F,W,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,F,W,Y);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(ee,F,W){return F===0&&W===ee.length?t.fromByteArray(ee):t.fromByteArray(ee.slice(F,W))}function S(ee,F,W){W=Math.min(ee.length,W);for(var Y=[],ae=F;ae<W;){var ce=ee[ae],le=null,de=ce>239?4:ce>223?3:ce>191?2:1;if(ae+de<=W){var me,ge,ke,Re;switch(de){case 1:ce<128&&(le=ce);break;case 2:me=ee[ae+1],(me&192)===128&&(Re=(ce&31)<<6|me&63,Re>127&&(le=Re));break;case 3:me=ee[ae+1],ge=ee[ae+2],(me&192)===128&&(ge&192)===128&&(Re=(ce&15)<<12|(me&63)<<6|ge&63,Re>2047&&(Re<55296||Re>57343)&&(le=Re));break;case 4:me=ee[ae+1],ge=ee[ae+2],ke=ee[ae+3],(me&192)===128&&(ge&192)===128&&(ke&192)===128&&(Re=(ce&15)<<18|(me&63)<<12|(ge&63)<<6|ke&63,Re>65535&&Re<1114112&&(le=Re))}}le===null?(le=65533,de=1):le>65535&&(le-=65536,Y.push(le>>>10&1023|55296),le=56320|le&1023),Y.push(le),ae+=de}return k(Y)}var j=4096;function k(ee){var F=ee.length;if(F<=j)return String.fromCharCode.apply(String,ee);for(var W="",Y=0;Y<F;)W+=String.fromCharCode.apply(String,ee.slice(Y,Y+=j));return W}function E(ee,F,W){var Y="";W=Math.min(ee.length,W);for(var ae=F;ae<W;++ae)Y+=String.fromCharCode(ee[ae]&127);return Y}function A(ee,F,W){var Y="";W=Math.min(ee.length,W);for(var ae=F;ae<W;++ae)Y+=String.fromCharCode(ee[ae]);return Y}function C(ee,F,W){var Y=ee.length;(!F||F<0)&&(F=0),(!W||W<0||W>Y)&&(W=Y);for(var ae="",ce=F;ce<W;++ce)ae+=ne[ee[ce]];return ae}function D(ee,F,W){for(var Y=ee.slice(F,W),ae="",ce=0;ce<Y.length-1;ce+=2)ae+=String.fromCharCode(Y[ce]+Y[ce+1]*256);return ae}a.prototype.slice=function(F,W){var Y=this.length;F=~~F,W=W===void 0?Y:~~W,F<0?(F+=Y,F<0&&(F=0)):F>Y&&(F=Y),W<0?(W+=Y,W<0&&(W=0)):W>Y&&(W=Y),W<F&&(W=F);var ae=this.subarray(F,W);return Object.setPrototypeOf(ae,a.prototype),ae};function z(ee,F,W){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+F>W)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F],ce=1,le=0;++le<W&&(ce*=256);)ae+=this[F+le]*ce;return ae},a.prototype.readUintBE=a.prototype.readUIntBE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F+--W],ce=1;W>0&&(ce*=256);)ae+=this[F+--W]*ce;return ae},a.prototype.readUint8=a.prototype.readUInt8=function(F,W){return F=F>>>0,W||z(F,1,this.length),this[F]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(F,W){return F=F>>>0,W||z(F,2,this.length),this[F]|this[F+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(F,W){return F=F>>>0,W||z(F,2,this.length),this[F]<<8|this[F+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(F,W){return F=F>>>0,W||z(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},a.prototype.readIntLE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=this[F],ce=1,le=0;++le<W&&(ce*=256);)ae+=this[F+le]*ce;return ce*=128,ae>=ce&&(ae-=Math.pow(2,8*W)),ae},a.prototype.readIntBE=function(F,W,Y){F=F>>>0,W=W>>>0,Y||z(F,W,this.length);for(var ae=W,ce=1,le=this[F+--ae];ae>0&&(ce*=256);)le+=this[F+--ae]*ce;return ce*=128,le>=ce&&(le-=Math.pow(2,8*W)),le},a.prototype.readInt8=function(F,W){return F=F>>>0,W||z(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},a.prototype.readInt16LE=function(F,W){F=F>>>0,W||z(F,2,this.length);var Y=this[F]|this[F+1]<<8;return Y&32768?Y|4294901760:Y},a.prototype.readInt16BE=function(F,W){F=F>>>0,W||z(F,2,this.length);var Y=this[F+1]|this[F]<<8;return Y&32768?Y|4294901760:Y},a.prototype.readInt32LE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},a.prototype.readInt32BE=function(F,W){return F=F>>>0,W||z(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},a.prototype.readFloatLE=function(F,W){return F=F>>>0,W||z(F,4,this.length),r.read(this,F,!0,23,4)},a.prototype.readFloatBE=function(F,W){return F=F>>>0,W||z(F,4,this.length),r.read(this,F,!1,23,4)},a.prototype.readDoubleLE=function(F,W){return F=F>>>0,W||z(F,8,this.length),r.read(this,F,!0,52,8)},a.prototype.readDoubleBE=function(F,W){return F=F>>>0,W||z(F,8,this.length),r.read(this,F,!1,52,8)};function P(ee,F,W,Y,ae,ce){if(!a.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>ae||F<ce)throw new RangeError('"value" argument is out of bounds');if(W+Y>ee.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(F,W,Y,ae){if(F=+F,W=W>>>0,Y=Y>>>0,!ae){var ce=Math.pow(2,8*Y)-1;P(this,F,W,Y,ce,0)}var le=1,de=0;for(this[W]=F&255;++de<Y&&(le*=256);)this[W+de]=F/le&255;return W+Y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(F,W,Y,ae){if(F=+F,W=W>>>0,Y=Y>>>0,!ae){var ce=Math.pow(2,8*Y)-1;P(this,F,W,Y,ce,0)}var le=Y-1,de=1;for(this[W+le]=F&255;--le>=0&&(de*=256);)this[W+le]=F/de&255;return W+Y},a.prototype.writeUint8=a.prototype.writeUInt8=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,1,255,0),this[W]=F&255,W+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,65535,0),this[W]=F&255,this[W+1]=F>>>8,W+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,65535,0),this[W]=F>>>8,this[W+1]=F&255,W+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,4294967295,0),this[W+3]=F>>>24,this[W+2]=F>>>16,this[W+1]=F>>>8,this[W]=F&255,W+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,4294967295,0),this[W]=F>>>24,this[W+1]=F>>>16,this[W+2]=F>>>8,this[W+3]=F&255,W+4},a.prototype.writeIntLE=function(F,W,Y,ae){if(F=+F,W=W>>>0,!ae){var ce=Math.pow(2,8*Y-1);P(this,F,W,Y,ce-1,-ce)}var le=0,de=1,me=0;for(this[W]=F&255;++le<Y&&(de*=256);)F<0&&me===0&&this[W+le-1]!==0&&(me=1),this[W+le]=(F/de>>0)-me&255;return W+Y},a.prototype.writeIntBE=function(F,W,Y,ae){if(F=+F,W=W>>>0,!ae){var ce=Math.pow(2,8*Y-1);P(this,F,W,Y,ce-1,-ce)}var le=Y-1,de=1,me=0;for(this[W+le]=F&255;--le>=0&&(de*=256);)F<0&&me===0&&this[W+le+1]!==0&&(me=1),this[W+le]=(F/de>>0)-me&255;return W+Y},a.prototype.writeInt8=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,1,127,-128),F<0&&(F=255+F+1),this[W]=F&255,W+1},a.prototype.writeInt16LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,32767,-32768),this[W]=F&255,this[W+1]=F>>>8,W+2},a.prototype.writeInt16BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,2,32767,-32768),this[W]=F>>>8,this[W+1]=F&255,W+2},a.prototype.writeInt32LE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,2147483647,-2147483648),this[W]=F&255,this[W+1]=F>>>8,this[W+2]=F>>>16,this[W+3]=F>>>24,W+4},a.prototype.writeInt32BE=function(F,W,Y){return F=+F,W=W>>>0,Y||P(this,F,W,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[W]=F>>>24,this[W+1]=F>>>16,this[W+2]=F>>>8,this[W+3]=F&255,W+4};function K(ee,F,W,Y,ae,ce){if(W+Y>ee.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Z(ee,F,W,Y,ae){return F=+F,W=W>>>0,ae||K(ee,F,W,4),r.write(ee,F,W,Y,23,4),W+4}a.prototype.writeFloatLE=function(F,W,Y){return Z(this,F,W,!0,Y)},a.prototype.writeFloatBE=function(F,W,Y){return Z(this,F,W,!1,Y)};function te(ee,F,W,Y,ae){return F=+F,W=W>>>0,ae||K(ee,F,W,8),r.write(ee,F,W,Y,52,8),W+8}a.prototype.writeDoubleLE=function(F,W,Y){return te(this,F,W,!0,Y)},a.prototype.writeDoubleBE=function(F,W,Y){return te(this,F,W,!1,Y)},a.prototype.copy=function(F,W,Y,ae){if(!a.isBuffer(F))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ae&&ae!==0&&(ae=this.length),W>=F.length&&(W=F.length),W||(W=0),ae>0&&ae<Y&&(ae=Y),ae===Y||F.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),F.length-W<ae-Y&&(ae=F.length-W+Y);var ce=ae-Y;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,Y,ae):Uint8Array.prototype.set.call(F,this.subarray(Y,ae),W),ce},a.prototype.fill=function(F,W,Y,ae){if(typeof F=="string"){if(typeof W=="string"?(ae=W,W=0,Y=this.length):typeof Y=="string"&&(ae=Y,Y=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!a.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(F.length===1){var ce=F.charCodeAt(0);(ae==="utf8"&&ce<128||ae==="latin1")&&(F=ce)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(W<0||this.length<W||this.length<Y)throw new RangeError("Out of range index");if(Y<=W)return this;W=W>>>0,Y=Y===void 0?this.length:Y>>>0,F||(F=0);var le;if(typeof F=="number")for(le=W;le<Y;++le)this[le]=F;else{var de=a.isBuffer(F)?F:a.from(F,ae),me=de.length;if(me===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(le=0;le<Y-W;++le)this[le+W]=de[le%me]}return this};var q=/[^+/0-9A-Za-z-_]/g;function $(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(q,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function N(ee,F){F=F||1/0;for(var W,Y=ee.length,ae=null,ce=[],le=0;le<Y;++le){if(W=ee.charCodeAt(le),W>55295&&W<57344){if(!ae){if(W>56319){(F-=3)>-1&&ce.push(239,191,189);continue}else if(le+1===Y){(F-=3)>-1&&ce.push(239,191,189);continue}ae=W;continue}if(W<56320){(F-=3)>-1&&ce.push(239,191,189),ae=W;continue}W=(ae-55296<<10|W-56320)+65536}else ae&&(F-=3)>-1&&ce.push(239,191,189);if(ae=null,W<128){if((F-=1)<0)break;ce.push(W)}else if(W<2048){if((F-=2)<0)break;ce.push(W>>6|192,W&63|128)}else if(W<65536){if((F-=3)<0)break;ce.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((F-=4)<0)break;ce.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return ce}function T(ee){for(var F=[],W=0;W<ee.length;++W)F.push(ee.charCodeAt(W)&255);return F}function V(ee,F){for(var W,Y,ae,ce=[],le=0;le<ee.length&&!((F-=2)<0);++le)W=ee.charCodeAt(le),Y=W>>8,ae=W%256,ce.push(ae),ce.push(Y);return ce}function J(ee){return t.toByteArray($(ee))}function re(ee,F,W,Y){for(var ae=0;ae<Y&&!(ae+W>=F.length||ae>=ee.length);++ae)F[ae+W]=ee[ae];return ae}function se(ee,F){return ee instanceof F||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===F.name}function B(ee){return ee!==ee}var ne=function(){for(var ee="0123456789abcdef",F=new Array(256),W=0;W<16;++W)for(var Y=W*16,ae=0;ae<16;++ae)F[Y+ae]=ee[W]+ee[ae];return F}()}(u_)),u_}var d_={},h_={},f_,F9;function Mz(){return F9||(F9=1,f_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),f_}var p_,z9;function EE(){if(z9)return p_;z9=1;var e=Mz();return p_=function(){return e()&&!!Symbol.toStringTag},p_}var m_,U9;function Lz(){return U9||(U9=1,m_=Object),m_}var g_,$9;function Xhe(){return $9||($9=1,g_=Error),g_}var v_,H9;function Zhe(){return H9||(H9=1,v_=EvalError),v_}var y_,W9;function Yhe(){return W9||(W9=1,y_=RangeError),y_}var b_,q9;function Jhe(){return q9||(q9=1,b_=ReferenceError),b_}var x_,V9;function Dz(){return V9||(V9=1,x_=SyntaxError),x_}var w_,G9;function Wg(){return G9||(G9=1,w_=TypeError),w_}var __,K9;function Qhe(){return K9||(K9=1,__=URIError),__}var S_,X9;function efe(){return X9||(X9=1,S_=Math.abs),S_}var E_,Z9;function tfe(){return Z9||(Z9=1,E_=Math.floor),E_}var k_,Y9;function rfe(){return Y9||(Y9=1,k_=Math.max),k_}var N_,J9;function nfe(){return J9||(J9=1,N_=Math.min),N_}var A_,Q9;function ife(){return Q9||(Q9=1,A_=Math.pow),A_}var C_,eT;function sfe(){return eT||(eT=1,C_=Math.round),C_}var j_,tT;function afe(){return tT||(tT=1,j_=Number.isNaN||function(t){return t!==t}),j_}var T_,rT;function ofe(){if(rT)return T_;rT=1;var e=afe();return T_=function(r){return e(r)||r===0?r:r<0?-1:1},T_}var R_,nT;function lfe(){return nT||(nT=1,R_=Object.getOwnPropertyDescriptor),R_}var P_,iT;function qg(){if(iT)return P_;iT=1;var e=lfe();if(e)try{e([],"length")}catch{e=null}return P_=e,P_}var O_,sT;function Z2(){if(sT)return O_;sT=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return O_=e,O_}var I_,aT;function cfe(){if(aT)return I_;aT=1;var e=typeof Symbol<"u"&&Symbol,t=Mz();return I_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},I_}var M_,oT;function Bz(){return oT||(oT=1,M_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),M_}var L_,lT;function Fz(){if(lT)return L_;lT=1;var e=Lz();return L_=e.getPrototypeOf||null,L_}var D_,cT;function ufe(){if(cT)return D_;cT=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var f=0;f<c.length;f+=1)u[f+l.length]=c[f];return u},s=function(l,c){for(var u=[],h=c,f=0;h<l.length;h+=1,f+=1)u[f]=l[h];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return D_=function(l){var c=this;if(typeof c!="function"||t.apply(c)!==n)throw new TypeError(e+c);for(var u=s(arguments,1),h,f=function(){if(this instanceof h){var v=c.apply(this,i(u,arguments));return Object(v)===v?v:this}return c.apply(l,i(u,arguments))},d=r(0,c.length-u.length),p=[],g=0;g<d;g++)p[g]="$"+g;if(h=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(f),c.prototype){var m=function(){};m.prototype=c.prototype,h.prototype=new m,m.prototype=null}return h},D_}var B_,uT;function Vg(){if(uT)return B_;uT=1;var e=ufe();return B_=Function.prototype.bind||e,B_}var F_,dT;function kE(){return dT||(dT=1,F_=Function.prototype.call),F_}var z_,hT;function zz(){return hT||(hT=1,z_=Function.prototype.apply),z_}var U_,fT;function dfe(){return fT||(fT=1,U_=typeof Reflect<"u"&&Reflect&&Reflect.apply),U_}var $_,pT;function hfe(){if(pT)return $_;pT=1;var e=Vg(),t=zz(),r=kE(),n=dfe();return $_=n||e.call(r,t),$_}var H_,mT;function ffe(){if(mT)return H_;mT=1;var e=Vg(),t=Wg(),r=kE(),n=hfe();return H_=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return n(e,r,s)},H_}var W_,gT;function pfe(){if(gT)return W_;gT=1;var e=ffe(),t=qg(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return W_=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,W_}var q_,vT;function mfe(){if(vT)return q_;vT=1;var e=Bz(),t=Fz(),r=pfe();return q_=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,q_}var V_,yT;function gfe(){if(yT)return V_;yT=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Vg();return V_=r.call(e,t),V_}var G_,bT;function NE(){if(bT)return G_;bT=1;var e,t=Lz(),r=Xhe(),n=Zhe(),i=Yhe(),s=Jhe(),o=Dz(),a=Wg(),l=Qhe(),c=efe(),u=tfe(),h=rfe(),f=nfe(),d=ife(),p=sfe(),g=ofe(),m=Function,v=function(T){try{return m('"use strict"; return ('+T+").constructor;")()}catch{}},y=qg(),x=Z2(),w=function(){throw new a},_=y?function(){try{return arguments.callee,w}catch{try{return y(arguments,"callee").get}catch{return w}}}():w,M=cfe()(),U=mfe(),L=Fz(),O=Bz(),H=zz(),G=kE(),I={},R=typeof Uint8Array>"u"||!U?e:U(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":M&&U?U([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&U?U(U([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!U?e:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!U?e:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&U?U(""[Symbol.iterator]()):e,"%Symbol%":M?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":_,"%TypedArray%":R,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":G,"%Function.prototype.apply%":H,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":L,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":d,"%Math.round%":p,"%Math.sign%":g,"%Reflect.getPrototypeOf%":O};if(U)try{null.error}catch(T){var j=U(U(T));S["%Error.prototype%"]=j}var k=function T(V){var J;if(V==="%AsyncFunction%")J=v("async function () {}");else if(V==="%GeneratorFunction%")J=v("function* () {}");else if(V==="%AsyncGeneratorFunction%")J=v("async function* () {}");else if(V==="%AsyncGenerator%"){var re=T("%AsyncGeneratorFunction%");re&&(J=re.prototype)}else if(V==="%AsyncIteratorPrototype%"){var se=T("%AsyncGenerator%");se&&U&&(J=U(se.prototype))}return S[V]=J,J},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Vg(),C=gfe(),D=A.call(G,Array.prototype.concat),z=A.call(H,Array.prototype.splice),P=A.call(G,String.prototype.replace),K=A.call(G,String.prototype.slice),Z=A.call(G,RegExp.prototype.exec),te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,$=function(V){var J=K(V,0,1),re=K(V,-1);if(J==="%"&&re!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&J!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var se=[];return P(V,te,function(B,ne,ee,F){se[se.length]=ee?P(F,q,"$1"):ne||B}),se},N=function(V,J){var re=V,se;if(C(E,re)&&(se=E[re],re="%"+se[0]+"%"),C(S,re)){var B=S[re];if(B===I&&(B=k(re)),typeof B>"u"&&!J)throw new a("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:se,name:re,value:B}}throw new o("intrinsic "+V+" does not exist!")};return G_=function(V,J){if(typeof V!="string"||V.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Z(/^%?[^%]*%?$/,V)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=$(V),se=re.length>0?re[0]:"",B=N("%"+se+"%",J),ne=B.name,ee=B.value,F=!1,W=B.alias;W&&(se=W[0],z(re,D([0,1],W)));for(var Y=1,ae=!0;Y<re.length;Y+=1){var ce=re[Y],le=K(ce,0,1),de=K(ce,-1);if((le==='"'||le==="'"||le==="`"||de==='"'||de==="'"||de==="`")&&le!==de)throw new o("property names with quotes must have matching quotes");if((ce==="constructor"||!ae)&&(F=!0),se+="."+ce,ne="%"+se+"%",C(S,ne))ee=S[ne];else if(ee!=null){if(!(ce in ee)){if(!J)throw new a("base intrinsic for "+V+" exists, but the property is not available.");return}if(y&&Y+1>=re.length){var me=y(ee,ce);ae=!!me,ae&&"get"in me&&!("originalValue"in me.get)?ee=me.get:ee=ee[ce]}else ae=C(ee,ce),ee=ee[ce];ae&&!F&&(S[ne]=ee)}}return ee},G_}var K_={exports:{}},X_,xT;function vfe(){if(xT)return X_;xT=1;var e=Z2(),t=Dz(),r=Wg(),n=qg();return X_=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,f=!!n&&n(s,o);if(e)e(s,o,{configurable:u===null&&f?f.configurable:!u,enumerable:l===null&&f?f.enumerable:!l,value:a,writable:c===null&&f?f.writable:!c});else if(h||!l&&!c&&!u)s[o]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},X_}var Z_,wT;function yfe(){if(wT)return Z_;wT=1;var e=Z2(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Z_=t,Z_}var Y_,_T;function bfe(){if(_T)return Y_;_T=1;var e=NE(),t=vfe(),r=yfe()(),n=qg(),i=Wg(),s=e("%Math.floor%");return Y_=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,h=!0;if("length"in a&&n){var f=n(a,"length");f&&!f.configurable&&(u=!1),f&&!f.writable&&(h=!1)}return(u||h||!c)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},Y_}var ST;function Uz(){return ST||(ST=1,function(e){var t=Vg(),r=NE(),n=bfe(),i=Wg(),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(o,s),l=Z2(),c=r("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=a(t,o,arguments);return n(d,1+c(0,f.length-(arguments.length-1)),!0)};var u=function(){return a(t,s,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(K_)),K_.exports}var J_,ET;function $z(){if(ET)return J_;ET=1;var e=NE(),t=Uz(),r=t(e("String.prototype.indexOf"));return J_=function(i,s){var o=e(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?t(o):o},J_}var Q_,kT;function xfe(){if(kT)return Q_;kT=1;var e=EE()(),t=$z(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Q_=s?n:i,Q_}var e5,NT;function wfe(){if(NT)return e5;NT=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=EE()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return e5=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var c=e.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var u=s();o=u?i(u):!1}return i(l)===o},e5}var t5,AT;function _fe(){if(AT)return t5;AT=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(y){y!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(x){try{var w=e.call(x);return i.test(w)}catch{return!1}},o=function(x){try{return s(x)?!1:(e.call(x),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",d="[object HTMLCollection]",p=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var v=document.all;a.call(v)===a.call(document.all)&&(m=function(x){if((g||!x)&&(typeof x>"u"||typeof x=="object"))try{var w=a.call(x);return(w===h||w===f||w===d||w===l)&&x("")==null}catch{}return!1})}return t5=t?function(x){if(m(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{t(x,null,r)}catch(w){if(w!==n)return!1}return!s(x)&&o(x)}:function(x){if(m(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(p)return o(x);if(s(x))return!1;var w=a.call(x);return w!==c&&w!==u&&!/^\[object HTML/.test(w)?!1:o(x)},t5}var r5,CT;function Sfe(){if(CT)return r5;CT=1;var e=_fe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var h=0,f=l.length;h<f;h++)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},i=function(l,c,u){for(var h=0,f=l.length;h<f;h++)u==null?c(l.charAt(h),h,l):c.call(u,l.charAt(h),h,l)},s=function(l,c,u){for(var h in l)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},o=function(l,c,u){if(!e(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=u),t.call(l)==="[object Array]"?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)};return r5=o,r5}var n5,jT;function Efe(){return jT||(jT=1,n5=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),n5}var i5,TT;function kfe(){if(TT)return i5;TT=1;var e=Efe(),t=typeof globalThis>"u"?tl:globalThis;return i5=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},i5}var s5,RT;function Hz(){if(RT)return s5;RT=1;var e=Sfe(),t=kfe(),r=Uz(),n=$z(),i=qg(),s=n("Object.prototype.toString"),o=EE()(),a=typeof globalThis>"u"?tl:globalThis,l=t(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(m,v){for(var y=0;y<m.length;y+=1)if(m[y]===v)return y;return-1},f={__proto__:null};o&&i&&u?e(l,function(g){var m=new a[g];if(Symbol.toStringTag in m){var v=u(m),y=i(v,Symbol.toStringTag);if(!y){var x=u(v);y=i(x,Symbol.toStringTag)}f["$"+g]=r(y.get)}}):e(l,function(g){var m=new a[g],v=m.slice||m.set;v&&(f["$"+g]=r(v))});var d=function(m){var v=!1;return e(f,function(y,x){if(!v)try{"$"+y(m)===x&&(v=c(x,1))}catch{}}),v},p=function(m){var v=!1;return e(f,function(y,x){if(!v)try{y(m),v=c(x,1)}catch{}}),v};return s5=function(m){if(!m||typeof m!="object")return!1;if(!o){var v=c(s(m),8,-1);return h(l,v)>-1?v:v!=="Object"?!1:p(m)}return i?d(m):null},s5}var a5,PT;function Nfe(){if(PT)return a5;PT=1;var e=Hz();return a5=function(r){return!!e(r)},a5}var OT;function Afe(){return OT||(OT=1,function(e){var t=xfe(),r=wfe(),n=Hz(),i=Nfe();function s(Y){return Y.call.bind(Y)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var d=s(Symbol.prototype.valueOf);function p(Y,ae){if(typeof Y!="object")return!1;try{return ae(Y),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function g(Y){return typeof Promise<"u"&&Y instanceof Promise||Y!==null&&typeof Y=="object"&&typeof Y.then=="function"&&typeof Y.catch=="function"}e.isPromise=g;function m(Y){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Y):i(Y)||K(Y)}e.isArrayBufferView=m;function v(Y){return n(Y)==="Uint8Array"}e.isUint8Array=v;function y(Y){return n(Y)==="Uint8ClampedArray"}e.isUint8ClampedArray=y;function x(Y){return n(Y)==="Uint16Array"}e.isUint16Array=x;function w(Y){return n(Y)==="Uint32Array"}e.isUint32Array=w;function _(Y){return n(Y)==="Int8Array"}e.isInt8Array=_;function M(Y){return n(Y)==="Int16Array"}e.isInt16Array=M;function U(Y){return n(Y)==="Int32Array"}e.isInt32Array=U;function L(Y){return n(Y)==="Float32Array"}e.isFloat32Array=L;function O(Y){return n(Y)==="Float64Array"}e.isFloat64Array=O;function H(Y){return n(Y)==="BigInt64Array"}e.isBigInt64Array=H;function G(Y){return n(Y)==="BigUint64Array"}e.isBigUint64Array=G;function I(Y){return l(Y)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function R(Y){return typeof Map>"u"?!1:I.working?I(Y):Y instanceof Map}e.isMap=R;function S(Y){return l(Y)==="[object Set]"}S.working=typeof Set<"u"&&S(new Set);function j(Y){return typeof Set>"u"?!1:S.working?S(Y):Y instanceof Set}e.isSet=j;function k(Y){return l(Y)==="[object WeakMap]"}k.working=typeof WeakMap<"u"&&k(new WeakMap);function E(Y){return typeof WeakMap>"u"?!1:k.working?k(Y):Y instanceof WeakMap}e.isWeakMap=E;function A(Y){return l(Y)==="[object WeakSet]"}A.working=typeof WeakSet<"u"&&A(new WeakSet);function C(Y){return A(Y)}e.isWeakSet=C;function D(Y){return l(Y)==="[object ArrayBuffer]"}D.working=typeof ArrayBuffer<"u"&&D(new ArrayBuffer);function z(Y){return typeof ArrayBuffer>"u"?!1:D.working?D(Y):Y instanceof ArrayBuffer}e.isArrayBuffer=z;function P(Y){return l(Y)==="[object DataView]"}P.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&P(new DataView(new ArrayBuffer(1),0,1));function K(Y){return typeof DataView>"u"?!1:P.working?P(Y):Y instanceof DataView}e.isDataView=K;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(Y){return l(Y)==="[object SharedArrayBuffer]"}function q(Y){return typeof Z>"u"?!1:(typeof te.working>"u"&&(te.working=te(new Z)),te.working?te(Y):Y instanceof Z)}e.isSharedArrayBuffer=q;function $(Y){return l(Y)==="[object AsyncFunction]"}e.isAsyncFunction=$;function N(Y){return l(Y)==="[object Map Iterator]"}e.isMapIterator=N;function T(Y){return l(Y)==="[object Set Iterator]"}e.isSetIterator=T;function V(Y){return l(Y)==="[object Generator]"}e.isGeneratorObject=V;function J(Y){return l(Y)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=J;function re(Y){return p(Y,c)}e.isNumberObject=re;function se(Y){return p(Y,u)}e.isStringObject=se;function B(Y){return p(Y,h)}e.isBooleanObject=B;function ne(Y){return o&&p(Y,f)}e.isBigIntObject=ne;function ee(Y){return a&&p(Y,d)}e.isSymbolObject=ee;function F(Y){return re(Y)||se(Y)||B(Y)||ne(Y)||ee(Y)}e.isBoxedPrimitive=F;function W(Y){return typeof Uint8Array<"u"&&(z(Y)||q(Y))}e.isAnyArrayBuffer=W,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Y){Object.defineProperty(e,Y,{enumerable:!1,value:function(){throw new Error(Y+" is not supported in userland")}})})}(h_)),h_}var o5,IT;function Cfe(){return IT||(IT=1,o5=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),o5}var MT;function Wz(){return MT||(MT=1,function(e){var t=Object.getOwnPropertyDescriptors||function(K){for(var Z=Object.keys(K),te={},q=0;q<Z.length;q++)te[Z[q]]=Object.getOwnPropertyDescriptor(K,Z[q]);return te},r=/%[sdj%]/g;e.format=function(P){if(!_(P)){for(var K=[],Z=0;Z<arguments.length;Z++)K.push(o(arguments[Z]));return K.join(" ")}for(var Z=1,te=arguments,q=te.length,$=String(P).replace(r,function(T){if(T==="%%")return"%";if(Z>=q)return T;switch(T){case"%s":return String(te[Z++]);case"%d":return Number(te[Z++]);case"%j":try{return JSON.stringify(te[Z++])}catch{return"[Circular]"}default:return T}}),N=te[Z];Z<q;N=te[++Z])y(N)||!O(N)?$+=" "+N:$+=" "+o(N);return $},e.deprecate=function(P,K){if(typeof Rr<"u"&&Rr.noDeprecation===!0)return P;if(typeof Rr>"u")return function(){return e.deprecate(P,K).apply(this,arguments)};var Z=!1;function te(){if(!Z){if(Rr.throwDeprecation)throw new Error(K);Rr.traceDeprecation?console.trace(K):console.error(K),Z=!0}return P.apply(this,arguments)}return te};var n={},i=/^$/;if(Rr.env.NODE_DEBUG){var s=Rr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(P){if(P=P.toUpperCase(),!n[P])if(i.test(P)){var K=Rr.pid;n[P]=function(){var Z=e.format.apply(e,arguments);console.error("%s %d: %s",P,K,Z)}}else n[P]=function(){};return n[P]};function o(P,K){var Z={seen:[],stylize:l};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),v(K)?Z.showHidden=K:K&&e._extend(Z,K),U(Z.showHidden)&&(Z.showHidden=!1),U(Z.depth)&&(Z.depth=2),U(Z.colors)&&(Z.colors=!1),U(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=a),u(Z,P,Z.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(P,K){var Z=o.styles[K];return Z?"\x1B["+o.colors[Z][0]+"m"+P+"\x1B["+o.colors[Z][1]+"m":P}function l(P,K){return P}function c(P){var K={};return P.forEach(function(Z,te){K[Z]=!0}),K}function u(P,K,Z){if(P.customInspect&&K&&I(K.inspect)&&K.inspect!==e.inspect&&!(K.constructor&&K.constructor.prototype===K)){var te=K.inspect(Z,P);return _(te)||(te=u(P,te,Z)),te}var q=h(P,K);if(q)return q;var $=Object.keys(K),N=c($);if(P.showHidden&&($=Object.getOwnPropertyNames(K)),G(K)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return f(K);if($.length===0){if(I(K)){var T=K.name?": "+K.name:"";return P.stylize("[Function"+T+"]","special")}if(L(K))return P.stylize(RegExp.prototype.toString.call(K),"regexp");if(H(K))return P.stylize(Date.prototype.toString.call(K),"date");if(G(K))return f(K)}var V="",J=!1,re=["{","}"];if(m(K)&&(J=!0,re=["[","]"]),I(K)){var se=K.name?": "+K.name:"";V=" [Function"+se+"]"}if(L(K)&&(V=" "+RegExp.prototype.toString.call(K)),H(K)&&(V=" "+Date.prototype.toUTCString.call(K)),G(K)&&(V=" "+f(K)),$.length===0&&(!J||K.length==0))return re[0]+V+re[1];if(Z<0)return L(K)?P.stylize(RegExp.prototype.toString.call(K),"regexp"):P.stylize("[Object]","special");P.seen.push(K);var B;return J?B=d(P,K,Z,N,$):B=$.map(function(ne){return p(P,K,Z,N,ne,J)}),P.seen.pop(),g(B,V,re)}function h(P,K){if(U(K))return P.stylize("undefined","undefined");if(_(K)){var Z="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(Z,"string")}if(w(K))return P.stylize(""+K,"number");if(v(K))return P.stylize(""+K,"boolean");if(y(K))return P.stylize("null","null")}function f(P){return"["+Error.prototype.toString.call(P)+"]"}function d(P,K,Z,te,q){for(var $=[],N=0,T=K.length;N<T;++N)A(K,String(N))?$.push(p(P,K,Z,te,String(N),!0)):$.push("");return q.forEach(function(V){V.match(/^\d+$/)||$.push(p(P,K,Z,te,V,!0))}),$}function p(P,K,Z,te,q,$){var N,T,V;if(V=Object.getOwnPropertyDescriptor(K,q)||{value:K[q]},V.get?V.set?T=P.stylize("[Getter/Setter]","special"):T=P.stylize("[Getter]","special"):V.set&&(T=P.stylize("[Setter]","special")),A(te,q)||(N="["+q+"]"),T||(P.seen.indexOf(V.value)<0?(y(Z)?T=u(P,V.value,null):T=u(P,V.value,Z-1),T.indexOf(`
`)>-1&&($?T=T.split(`
`).map(function(J){return"  "+J}).join(`
`).slice(2):T=`
`+T.split(`
`).map(function(J){return"   "+J}).join(`
`))):T=P.stylize("[Circular]","special")),U(N)){if($&&q.match(/^\d+$/))return T;N=JSON.stringify(""+q),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=P.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=P.stylize(N,"string"))}return N+": "+T}function g(P,K,Z){var te=P.reduce(function(q,$){return $.indexOf(`
`)>=0,q+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?Z[0]+(K===""?"":K+`
 `)+" "+P.join(`,
  `)+" "+Z[1]:Z[0]+K+" "+P.join(", ")+" "+Z[1]}e.types=Afe();function m(P){return Array.isArray(P)}e.isArray=m;function v(P){return typeof P=="boolean"}e.isBoolean=v;function y(P){return P===null}e.isNull=y;function x(P){return P==null}e.isNullOrUndefined=x;function w(P){return typeof P=="number"}e.isNumber=w;function _(P){return typeof P=="string"}e.isString=_;function M(P){return typeof P=="symbol"}e.isSymbol=M;function U(P){return P===void 0}e.isUndefined=U;function L(P){return O(P)&&S(P)==="[object RegExp]"}e.isRegExp=L,e.types.isRegExp=L;function O(P){return typeof P=="object"&&P!==null}e.isObject=O;function H(P){return O(P)&&S(P)==="[object Date]"}e.isDate=H,e.types.isDate=H;function G(P){return O(P)&&(S(P)==="[object Error]"||P instanceof Error)}e.isError=G,e.types.isNativeError=G;function I(P){return typeof P=="function"}e.isFunction=I;function R(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}e.isPrimitive=R,e.isBuffer=Cfe();function S(P){return Object.prototype.toString.call(P)}function j(P){return P<10?"0"+P.toString(10):P.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var P=new Date,K=[j(P.getHours()),j(P.getMinutes()),j(P.getSeconds())].join(":");return[P.getDate(),k[P.getMonth()],K].join(" ")}e.log=function(){console.log("%s - %s",E(),e.format.apply(e,arguments))},e.inherits=Zu(),e._extend=function(P,K){if(!K||!O(K))return P;for(var Z=Object.keys(K),te=Z.length;te--;)P[Z[te]]=K[Z[te]];return P};function A(P,K){return Object.prototype.hasOwnProperty.call(P,K)}var C=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(C&&K[C]){var Z=K[C];if(typeof Z!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,C,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(){for(var te,q,$=new Promise(function(V,J){te=V,q=J}),N=[],T=0;T<arguments.length;T++)N.push(arguments[T]);N.push(function(V,J){V?q(V):te(J)});try{K.apply(this,N)}catch(V){q(V)}return $}return Object.setPrototypeOf(Z,Object.getPrototypeOf(K)),C&&Object.defineProperty(Z,C,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Z,t(K))},e.promisify.custom=C;function D(P,K){if(!P){var Z=new Error("Promise was rejected with a falsy value");Z.reason=P,P=Z}return K(P)}function z(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var Z=[],te=0;te<arguments.length;te++)Z.push(arguments[te]);var q=Z.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var $=this,N=function(){return q.apply($,arguments)};P.apply(this,Z).then(function(T){Rr.nextTick(N.bind(null,null,T))},function(T){Rr.nextTick(D.bind(null,T,N))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(P)),Object.defineProperties(K,t(P)),K}e.callbackify=z}(d_)),d_}var l5,LT;function jfe(){if(LT)return l5;LT=1;function e(f,d){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);d&&(g=g.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),p.push.apply(p,g)}return p}function t(f){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?e(Object(p),!0).forEach(function(g){r(f,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(p,g))})}return f}function r(f,d,p){return d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}function n(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function i(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function s(f,d,p){return d&&i(f.prototype,d),f}var o=X2(),a=o.Buffer,l=Wz(),c=l.inspect,u=c&&c.custom||"inspect";function h(f,d,p){a.prototype.copy.call(f,d,p)}return l5=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,m=""+g.data;g=g.next;)m+=p+g.data;return m}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var g=a.allocUnsafe(p>>>0),m=this.head,v=0;m;)h(m.data,g,v),v+=m.data.length,m=m.next;return g}},{key:"consume",value:function(p,g){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?m=this.shift():m=g?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,m=1,v=g.data;for(p-=v.length;g=g.next;){var y=g.data,x=p>y.length?y.length:p;if(x===y.length?v+=y:v+=y.slice(0,p),p-=x,p===0){x===y.length?(++m,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=y.slice(x));break}++m}return this.length-=m,v}},{key:"_getBuffer",value:function(p){var g=a.allocUnsafe(p),m=this.head,v=1;for(m.data.copy(g),p-=m.data.length;m=m.next;){var y=m.data,x=p>y.length?y.length:p;if(y.copy(g,g.length-p,0,x),p-=x,p===0){x===y.length?(++v,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=y.slice(x));break}++v}return this.length-=v,g}},{key:u,value:function(p,g){return c(this,t({},g,{depth:0,customInspect:!1}))}}]),f}(),l5}var c5,DT;function qz(){if(DT)return c5;DT=1;function e(o,a){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Rr.nextTick(i,this,o)):Rr.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!a&&h?l._writableState?l._writableState.errorEmitted?Rr.nextTick(r,l):(l._writableState.errorEmitted=!0,Rr.nextTick(t,l,h)):Rr.nextTick(t,l,h):a?(Rr.nextTick(r,l),a(h)):Rr.nextTick(r,l)}),this)}function t(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,c=o._writableState;l&&l.autoDestroy||c&&c.autoDestroy?o.destroy(a):o.emit("error",a)}return c5={destroy:e,undestroy:n,errorOrDestroy:s},c5}var u5={},BT;function Pp(){if(BT)return u5;BT=1;function e(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var t={};function r(a,l,c){c||(c=Error);function u(f,d,p){return typeof l=="string"?l:l(f,d,p)}var h=function(f){e(d,f);function d(p,g,m){return f.call(this,u(p,g,m))||this}return d}(c);h.prototype.name=c.name,h.prototype.code=a,t[a]=h}function n(a,l){if(Array.isArray(a)){var c=a.length;return a=a.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,c){return a.substr(0,l.length)===l}function s(a,l,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-l.length,c)===l}function o(a,l,c){return typeof c!="number"&&(c=0),c+l.length>a.length?!1:a.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var h;if(s(a," argument"))h="The ".concat(a," ").concat(u," ").concat(n(l,"type"));else{var f=o(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(f," ").concat(u," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),u5.codes=t,u5}var d5,FT;function Vz(){if(FT)return d5;FT=1;var e=Pp().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=t(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return d5={getHighWaterMark:r},d5}var h5,zT;function Tfe(){if(zT)return h5;zT=1,h5=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!tl.localStorage)return!1}catch{return!1}var n=tl.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return h5}var f5,UT;function Gz(){if(UT)return f5;UT=1,f5=L;function e(q){var $=this;this.next=null,this.entry=null,this.finish=function(){te($,q)}}var t;L.WritableState=M;var r={deprecate:Tfe()},n=Iz(),i=X2().Buffer,s=tl.Uint8Array||function(){};function o(q){return i.from(q)}function a(q){return i.isBuffer(q)||q instanceof s}var l=qz(),c=Vz(),u=c.getHighWaterMark,h=Pp().codes,f=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,x=h.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;Zu()(L,n);function _(){}function M(q,$,N){t=t||np(),q=q||{},typeof N!="boolean"&&(N=$ instanceof t),this.objectMode=!!q.objectMode,N&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=u(this,q,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=q.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){k($,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}M.prototype.getBuffer=function(){for(var $=this.bufferedRequest,N=[];$;)N.push($),$=$.next;return N},function(){try{Object.defineProperty(M.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function($){return U.call(this,$)?!0:this!==L?!1:$&&$._writableState instanceof M}})):U=function($){return $ instanceof this};function L(q){t=t||np();var $=this instanceof t;if(!$&&!U.call(L,this))return new L(q);this._writableState=new M(q,this,$),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),n.call(this)}L.prototype.pipe=function(){w(this,new g)};function O(q,$){var N=new y;w(q,N),Rr.nextTick($,N)}function H(q,$,N,T){var V;return N===null?V=new v:typeof N!="string"&&!$.objectMode&&(V=new f("chunk",["string","Buffer"],N)),V?(w(q,V),Rr.nextTick(T,V),!1):!0}L.prototype.write=function(q,$,N){var T=this._writableState,V=!1,J=!T.objectMode&&a(q);return J&&!i.isBuffer(q)&&(q=o(q)),typeof $=="function"&&(N=$,$=null),J?$="buffer":$||($=T.defaultEncoding),typeof N!="function"&&(N=_),T.ending?O(this,N):(J||H(this,T,q,N))&&(T.pendingcb++,V=I(this,T,J,q,$,N)),V},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&C(this,q))},L.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new x($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function G(q,$,N){return!q.objectMode&&q.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,N)),$}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(q,$,N,T,V,J){if(!N){var re=G($,T,V);T!==re&&(N=!0,V="buffer",T=re)}var se=$.objectMode?1:T.length;$.length+=se;var B=$.length<$.highWaterMark;if(B||($.needDrain=!0),$.writing||$.corked){var ne=$.lastBufferedRequest;$.lastBufferedRequest={chunk:T,encoding:V,isBuf:N,callback:J,next:null},ne?ne.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else R(q,$,!1,se,T,V,J);return B}function R(q,$,N,T,V,J,re){$.writelen=T,$.writecb=re,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new m("write")):N?q._writev(V,$.onwrite):q._write(V,J,$.onwrite),$.sync=!1}function S(q,$,N,T,V){--$.pendingcb,N?(Rr.nextTick(V,T),Rr.nextTick(K,q,$),q._writableState.errorEmitted=!0,w(q,T)):(V(T),q._writableState.errorEmitted=!0,w(q,T),K(q,$))}function j(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function k(q,$){var N=q._writableState,T=N.sync,V=N.writecb;if(typeof V!="function")throw new p;if(j(N),$)S(q,N,T,$,V);else{var J=D(N)||q.destroyed;!J&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&C(q,N),T?Rr.nextTick(E,q,N,J,V):E(q,N,J,V)}}function E(q,$,N,T){N||A(q,$),$.pendingcb--,T(),K(q,$)}function A(q,$){$.length===0&&$.needDrain&&($.needDrain=!1,q.emit("drain"))}function C(q,$){$.bufferProcessing=!0;var N=$.bufferedRequest;if(q._writev&&N&&N.next){var T=$.bufferedRequestCount,V=new Array(T),J=$.corkedRequestsFree;J.entry=N;for(var re=0,se=!0;N;)V[re]=N,N.isBuf||(se=!1),N=N.next,re+=1;V.allBuffers=se,R(q,$,!0,$.length,V,"",J.finish),$.pendingcb++,$.lastBufferedRequest=null,J.next?($.corkedRequestsFree=J.next,J.next=null):$.corkedRequestsFree=new e($),$.bufferedRequestCount=0}else{for(;N;){var B=N.chunk,ne=N.encoding,ee=N.callback,F=$.objectMode?1:B.length;if(R(q,$,!1,F,B,ne,ee),N=N.next,$.bufferedRequestCount--,$.writing)break}N===null&&($.lastBufferedRequest=null)}$.bufferedRequest=N,$.bufferProcessing=!1}L.prototype._write=function(q,$,N){N(new d("_write()"))},L.prototype._writev=null,L.prototype.end=function(q,$,N){var T=this._writableState;return typeof q=="function"?(N=q,q=null,$=null):typeof $=="function"&&(N=$,$=null),q!=null&&this.write(q,$),T.corked&&(T.corked=1,this.uncork()),T.ending||Z(this,T,N),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function D(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function z(q,$){q._final(function(N){$.pendingcb--,N&&w(q,N),$.prefinished=!0,q.emit("prefinish"),K(q,$)})}function P(q,$){!$.prefinished&&!$.finalCalled&&(typeof q._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,Rr.nextTick(z,q,$)):($.prefinished=!0,q.emit("prefinish")))}function K(q,$){var N=D($);if(N&&(P(q,$),$.pendingcb===0&&($.finished=!0,q.emit("finish"),$.autoDestroy))){var T=q._readableState;(!T||T.autoDestroy&&T.endEmitted)&&q.destroy()}return N}function Z(q,$,N){$.ending=!0,K(q,$),N&&($.finished?Rr.nextTick(N):q.once("finish",N)),$.ended=!0,q.writable=!1}function te(q,$,N){var T=q.entry;for(q.entry=null;T;){var V=T.callback;$.pendingcb--,V(N),T=T.next}$.corkedRequestsFree.next=q}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),L.prototype.destroy=l.destroy,L.prototype._undestroy=l.undestroy,L.prototype._destroy=function(q,$){$(q)},f5}var p5,$T;function np(){if($T)return p5;$T=1;var e=Object.keys||function(c){var u=[];for(var h in c)u.push(h);return u};p5=o;var t=Kz(),r=Gz();Zu()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);t.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Rr.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),p5}var m5={},jv={exports:{}},HT;function Rfe(){return HT||(HT=1,function(e,t){var r=X2(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,l){return n(o,a,l)}i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(jv,jv.exports)),jv.exports}var WT;function l6(){if(WT)return m5;WT=1;var e=Rfe().Buffer,t=e.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(v){if(!v)return"utf8";for(var y;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(y)return;v=(""+v).toLowerCase(),y=!0}}function n(v){var y=r(v);if(typeof y!="string"&&(e.isEncoding===t||!t(v)))throw new Error("Unknown encoding: "+v);return y||v}m5.StringDecoder=i;function i(v){this.encoding=n(v);var y;switch(this.encoding){case"utf16le":this.text=h,this.end=f,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=d,this.end=p,y=3;break;default:this.write=g,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}i.prototype.write=function(v){if(v.length===0)return"";var y,x;if(this.lastNeed){if(y=this.fillLast(v),y===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<v.length?y?y+this.text(v,x):this.text(v,x):y||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function s(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function o(v,y,x){var w=y.length-1;if(w<x)return 0;var _=s(y[w]);return _>=0?(_>0&&(v.lastNeed=_-1),_):--w<x||_===-2?0:(_=s(y[w]),_>=0?(_>0&&(v.lastNeed=_-2),_):--w<x||_===-2?0:(_=s(y[w]),_>=0?(_>0&&(_===2?_=0:v.lastNeed=_-3),_):0))}function a(v,y,x){if((y[0]&192)!==128)return v.lastNeed=0,"�";if(v.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return v.lastNeed=1,"�";if(v.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return v.lastNeed=2,"�"}}function l(v){var y=this.lastTotal-this.lastNeed,x=a(this,v);if(x!==void 0)return x;if(this.lastNeed<=v.length)return v.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,y,0,v.length),this.lastNeed-=v.length}function c(v,y){var x=o(this,v,y);if(!this.lastNeed)return v.toString("utf8",y);this.lastTotal=x;var w=v.length-(x-this.lastNeed);return v.copy(this.lastChar,0,w),v.toString("utf8",y,w)}function u(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+"�":y}function h(v,y){if((v.length-y)%2===0){var x=v.toString("utf16le",y);if(x){var w=x.charCodeAt(x.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",y,v.length-1)}function f(v){var y=v&&v.length?this.write(v):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,x)}return y}function d(v,y){var x=(v.length-y)%3;return x===0?v.toString("base64",y):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",y,v.length-x))}function p(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(v){return v.toString(this.encoding)}function m(v){return v&&v.length?this.write(v):""}return m5}var g5,qT;function AE(){if(qT)return g5;qT=1;var e=Pp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=t(a||r);var l=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,u=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){c=!1,h=!0,l||a.call(s)},d=s._readableState&&s._readableState.endEmitted,p=function(){l=!1,d=!0,c||a.call(s)},g=function(x){a.call(s,x)},m=function(){var x;if(l&&!d)return(!s._readableState||!s._readableState.ended)&&(x=new e),a.call(s,x);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(x=new e),a.call(s,x)},v=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",m),s.req?v():s.on("request",v)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",p),s.on("finish",f),o.error!==!1&&s.on("error",g),s.on("close",m),function(){s.removeListener("complete",f),s.removeListener("abort",m),s.removeListener("request",v),s.req&&s.req.removeListener("finish",f),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",f),s.removeListener("end",p),s.removeListener("error",g),s.removeListener("close",m)}}return g5=i,g5}var v5,VT;function Pfe(){if(VT)return v5;VT=1;var e;function t(v,y,x){return y in v?Object.defineProperty(v,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[y]=x,v}var r=AE(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(v,y){return{value:v,done:y}}function h(v){var y=v[n];if(y!==null){var x=v[c].read();x!==null&&(v[a]=null,v[n]=null,v[i]=null,y(u(x,!1)))}}function f(v){Rr.nextTick(h,v)}function d(v,y){return function(x,w){v.then(function(){if(y[o]){x(u(void 0,!0));return}y[l](x,w)},w)}}var p=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((e={get stream(){return this[c]},next:function(){var y=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[o])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(U,L){Rr.nextTick(function(){y[s]?L(y[s]):U(u(void 0,!0))})});var w=this[a],_;if(w)_=new Promise(d(w,this));else{var M=this[c].read();if(M!==null)return Promise.resolve(u(M,!1));_=new Promise(this[l])}return this[a]=_,_}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var y=this;return new Promise(function(x,w){y[c].destroy(null,function(_){if(_){w(_);return}x(u(void 0,!0))})})}),e),p),m=function(y){var x,w=Object.create(g,(x={},t(x,c,{value:y,writable:!0}),t(x,n,{value:null,writable:!0}),t(x,i,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,o,{value:y._readableState.endEmitted,writable:!0}),t(x,l,{value:function(M,U){var L=w[c].read();L?(w[a]=null,w[n]=null,w[i]=null,M(u(L,!1))):(w[n]=M,w[i]=U)},writable:!0}),x));return w[a]=null,r(y,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=w[i];M!==null&&(w[a]=null,w[n]=null,w[i]=null,M(_)),w[s]=_;return}var U=w[n];U!==null&&(w[a]=null,w[n]=null,w[i]=null,U(u(void 0,!0))),w[o]=!0}),y.on("readable",f.bind(null,w)),w};return v5=m,v5}var y5,GT;function Ofe(){return GT||(GT=1,y5=function(){throw new Error("Readable.from is not available in the browser")}),y5}var b5,KT;function Kz(){if(KT)return b5;KT=1,b5=O;var e;O.ReadableState=L,SE().EventEmitter;var t=function(re,se){return re.listeners(se).length},r=Iz(),n=X2().Buffer,i=tl.Uint8Array||function(){};function s(J){return n.from(J)}function o(J){return n.isBuffer(J)||J instanceof i}var a=Wz(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var c=jfe(),u=qz(),h=Vz(),f=h.getHighWaterMark,d=Pp().codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_STREAM_PUSH_AFTER_EOF,m=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,x,w;Zu()(O,r);var _=u.errorOrDestroy,M=["error","close","destroy","pause","resume"];function U(J,re,se){if(typeof J.prependListener=="function")return J.prependListener(re,se);!J._events||!J._events[re]?J.on(re,se):Array.isArray(J._events[re])?J._events[re].unshift(se):J._events[re]=[se,J._events[re]]}function L(J,re,se){e=e||np(),J=J||{},typeof se!="boolean"&&(se=re instanceof e),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=f(this,J,"readableHighWaterMark",se),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(y||(y=l6().StringDecoder),this.decoder=new y(J.encoding),this.encoding=J.encoding)}function O(J){if(e=e||np(),!(this instanceof O))return new O(J);var re=this instanceof e;this._readableState=new L(J,this,re),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),r.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(J,re){re(J)},O.prototype.push=function(J,re){var se=this._readableState,B;return se.objectMode?B=!0:typeof J=="string"&&(re=re||se.defaultEncoding,re!==se.encoding&&(J=n.from(J,re),re=""),B=!0),H(this,J,re,!1,B)},O.prototype.unshift=function(J){return H(this,J,null,!0,!1)};function H(J,re,se,B,ne){l("readableAddChunk",re);var ee=J._readableState;if(re===null)ee.reading=!1,k(J,ee);else{var F;if(ne||(F=I(ee,re)),F)_(J,F);else if(ee.objectMode||re&&re.length>0)if(typeof re!="string"&&!ee.objectMode&&Object.getPrototypeOf(re)!==n.prototype&&(re=s(re)),B)ee.endEmitted?_(J,new v):G(J,ee,re,!0);else if(ee.ended)_(J,new g);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!se?(re=ee.decoder.write(re),ee.objectMode||re.length!==0?G(J,ee,re,!1):C(J,ee)):G(J,ee,re,!1)}else B||(ee.reading=!1,C(J,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function G(J,re,se,B){re.flowing&&re.length===0&&!re.sync?(re.awaitDrain=0,J.emit("data",se)):(re.length+=re.objectMode?1:se.length,B?re.buffer.unshift(se):re.buffer.push(se),re.needReadable&&E(J)),C(J,re)}function I(J,re){var se;return!o(re)&&typeof re!="string"&&re!==void 0&&!J.objectMode&&(se=new p("chunk",["string","Buffer","Uint8Array"],re)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(J){y||(y=l6().StringDecoder);var re=new y(J);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,B="";se!==null;)B+=re.write(se.data),se=se.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var R=1073741824;function S(J){return J>=R?J=R:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function j(J,re){return J<=0||re.length===0&&re.ended?0:re.objectMode?1:J!==J?re.flowing&&re.length?re.buffer.head.data.length:re.length:(J>re.highWaterMark&&(re.highWaterMark=S(J)),J<=re.length?J:re.ended?re.length:(re.needReadable=!0,0))}O.prototype.read=function(J){l("read",J),J=parseInt(J,10);var re=this._readableState,se=J;if(J!==0&&(re.emittedReadable=!1),J===0&&re.needReadable&&((re.highWaterMark!==0?re.length>=re.highWaterMark:re.length>0)||re.ended))return l("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?N(this):E(this),null;if(J=j(J,re),J===0&&re.ended)return re.length===0&&N(this),null;var B=re.needReadable;l("need readable",B),(re.length===0||re.length-J<re.highWaterMark)&&(B=!0,l("length less than watermark",B)),re.ended||re.reading?(B=!1,l("reading or ended",B)):B&&(l("do read"),re.reading=!0,re.sync=!0,re.length===0&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(J=j(se,re)));var ne;return J>0?ne=$(J,re):ne=null,ne===null?(re.needReadable=re.length<=re.highWaterMark,J=0):(re.length-=J,re.awaitDrain=0),re.length===0&&(re.ended||(re.needReadable=!0),se!==J&&re.ended&&N(this)),ne!==null&&this.emit("data",ne),ne};function k(J,re){if(l("onEofChunk"),!re.ended){if(re.decoder){var se=re.decoder.end();se&&se.length&&(re.buffer.push(se),re.length+=re.objectMode?1:se.length)}re.ended=!0,re.sync?E(J):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,A(J)))}}function E(J){var re=J._readableState;l("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(l("emitReadable",re.flowing),re.emittedReadable=!0,Rr.nextTick(A,J))}function A(J){var re=J._readableState;l("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(J.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,q(J)}function C(J,re){re.readingMore||(re.readingMore=!0,Rr.nextTick(D,J,re))}function D(J,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&re.length===0);){var se=re.length;if(l("maybeReadMore read 0"),J.read(0),se===re.length)break}re.readingMore=!1}O.prototype._read=function(J){_(this,new m("_read()"))},O.prototype.pipe=function(J,re){var se=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=J;break;case 1:B.pipes=[B.pipes,J];break;default:B.pipes.push(J);break}B.pipesCount+=1,l("pipe count=%d opts=%j",B.pipesCount,re);var ne=(!re||re.end!==!1)&&J!==Rr.stdout&&J!==Rr.stderr,ee=ne?W:ke;B.endEmitted?Rr.nextTick(ee):se.once("end",ee),J.on("unpipe",F);function F(Re,je){l("onunpipe"),Re===se&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,ce())}function W(){l("onend"),J.end()}var Y=z(se);J.on("drain",Y);var ae=!1;function ce(){l("cleanup"),J.removeListener("close",me),J.removeListener("finish",ge),J.removeListener("drain",Y),J.removeListener("error",de),J.removeListener("unpipe",F),se.removeListener("end",W),se.removeListener("end",ke),se.removeListener("data",le),ae=!0,B.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Y()}se.on("data",le);function le(Re){l("ondata");var je=J.write(Re);l("dest.write",je),je===!1&&((B.pipesCount===1&&B.pipes===J||B.pipesCount>1&&V(B.pipes,J)!==-1)&&!ae&&(l("false write response, pause",B.awaitDrain),B.awaitDrain++),se.pause())}function de(Re){l("onerror",Re),ke(),J.removeListener("error",de),t(J,"error")===0&&_(J,Re)}U(J,"error",de);function me(){J.removeListener("finish",ge),ke()}J.once("close",me);function ge(){l("onfinish"),J.removeListener("close",me),ke()}J.once("finish",ge);function ke(){l("unpipe"),se.unpipe(J)}return J.emit("pipe",se),B.flowing||(l("pipe resume"),se.resume()),J};function z(J){return function(){var se=J._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&t(J,"data")&&(se.flowing=!0,q(J))}}O.prototype.unpipe=function(J){var re=this._readableState,se={hasUnpiped:!1};if(re.pipesCount===0)return this;if(re.pipesCount===1)return J&&J!==re.pipes?this:(J||(J=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,J&&J.emit("unpipe",this,se),this);if(!J){var B=re.pipes,ne=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var ee=0;ee<ne;ee++)B[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var F=V(re.pipes,J);return F===-1?this:(re.pipes.splice(F,1),re.pipesCount-=1,re.pipesCount===1&&(re.pipes=re.pipes[0]),J.emit("unpipe",this,se),this)},O.prototype.on=function(J,re){var se=r.prototype.on.call(this,J,re),B=this._readableState;return J==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):J==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,l("on readable",B.length,B.reading),B.length?E(this):B.reading||Rr.nextTick(K,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(J,re){var se=r.prototype.removeListener.call(this,J,re);return J==="readable"&&Rr.nextTick(P,this),se},O.prototype.removeAllListeners=function(J){var re=r.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&Rr.nextTick(P,this),re};function P(J){var re=J._readableState;re.readableListening=J.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:J.listenerCount("data")>0&&J.resume()}function K(J){l("readable nexttick read 0"),J.read(0)}O.prototype.resume=function(){var J=this._readableState;return J.flowing||(l("resume"),J.flowing=!J.readableListening,Z(this,J)),J.paused=!1,this};function Z(J,re){re.resumeScheduled||(re.resumeScheduled=!0,Rr.nextTick(te,J,re))}function te(J,re){l("resume",re.reading),re.reading||J.read(0),re.resumeScheduled=!1,J.emit("resume"),q(J),re.flowing&&!re.reading&&J.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(J){var re=J._readableState;for(l("flow",re.flowing);re.flowing&&J.read()!==null;);}O.prototype.wrap=function(J){var re=this,se=this._readableState,B=!1;J.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var F=se.decoder.end();F&&F.length&&re.push(F)}re.push(null)}),J.on("data",function(F){if(l("wrapped data"),se.decoder&&(F=se.decoder.write(F)),!(se.objectMode&&F==null)&&!(!se.objectMode&&(!F||!F.length))){var W=re.push(F);W||(B=!0,J.pause())}});for(var ne in J)this[ne]===void 0&&typeof J[ne]=="function"&&(this[ne]=function(W){return function(){return J[W].apply(J,arguments)}}(ne));for(var ee=0;ee<M.length;ee++)J.on(M[ee],this.emit.bind(this,M[ee]));return this._read=function(F){l("wrapped _read",F),B&&(B=!1,J.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=Pfe()),x(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),O._fromList=$,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(J,re){if(re.length===0)return null;var se;return re.objectMode?se=re.buffer.shift():!J||J>=re.length?(re.decoder?se=re.buffer.join(""):re.buffer.length===1?se=re.buffer.first():se=re.buffer.concat(re.length),re.buffer.clear()):se=re.buffer.consume(J,re.decoder),se}function N(J){var re=J._readableState;l("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,Rr.nextTick(T,re,J))}function T(J,re){if(l("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,re.readable=!1,re.emit("end"),J.autoDestroy)){var se=re._writableState;(!se||se.autoDestroy&&se.finished)&&re.destroy()}}typeof Symbol=="function"&&(O.from=function(J,re){return w===void 0&&(w=Ofe()),w(O,J,re)});function V(J,re){for(var se=0,B=J.length;se<B;se++)if(J[se]===re)return se;return-1}return b5}var x5,XT;function Xz(){if(XT)return x5;XT=1,x5=a;var e=Pp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=np();Zu()(a,s);function o(u,h){var f=this._transformState;f.transforming=!1;var d=f.writecb;if(d===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);s.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){c(u,h,f)}):c(this,null,null)}a.prototype.push=function(u,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,h)},a.prototype._transform=function(u,h,f){f(new t("_transform()"))},a.prototype._write=function(u,h,f){var d=this._transformState;if(d.writecb=f,d.writechunk=u,d.writeencoding=h,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(u){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(u,h){s.prototype._destroy.call(this,u,function(f){h(f)})};function c(u,h,f){if(h)return u.emit("error",h);if(f!=null&&u.push(f),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return x5}var w5,ZT;function Ife(){if(ZT)return w5;ZT=1,w5=t;var e=Xz();Zu()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},w5}var _5,YT;function Mfe(){if(YT)return _5;YT=1;var e;function t(f){var d=!1;return function(){d||(d=!0,f.apply(void 0,arguments))}}var r=Pp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function o(f){return f.setHeader&&typeof f.abort=="function"}function a(f,d,p,g){g=t(g);var m=!1;f.on("close",function(){m=!0}),e===void 0&&(e=AE()),e(f,{readable:d,writable:p},function(y){if(y)return g(y);m=!0,g()});var v=!1;return function(y){if(!m&&!v){if(v=!0,o(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(y||new i("pipe"))}}}function l(f){f()}function c(f,d){return f.pipe(d)}function u(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var g=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var m,v=d.map(function(y,x){var w=x<d.length-1,_=x>0;return a(y,w,_,function(M){m||(m=M),M&&v.forEach(l),!w&&(v.forEach(l),g(m))})});return d.reduce(c)}return _5=h,_5}var S5,JT;function CE(){if(JT)return S5;JT=1,S5=r;var e=SE().EventEmitter,t=Zu();t(r,e),r.Readable=Kz(),r.Writable=Gz(),r.Duplex=np(),r.Transform=Xz(),r.PassThrough=Ife(),r.finished=AE(),r.pipeline=Mfe(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var s=this;function o(d){n.writable&&n.write(d)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",c),s.on("close",u));var l=!1;function c(){l||(l=!0,n.end())}function u(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(d){if(f(),e.listenerCount(this,"error")===0)throw d}s.on("error",h),n.on("error",h);function f(){s.removeListener("data",o),n.removeListener("drain",a),s.removeListener("end",c),s.removeListener("close",u),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",f),s.removeListener("close",f),n.removeListener("close",f)}return s.on("end",f),s.on("close",f),n.on("close",f),n.emit("pipe",s),n},S5}var QT;function Lfe(){return QT||(QT=1,function(e){(function(t){t.parser=function($,N){return new n($,N)},t.SAXParser=n,t.SAXStream=u,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,N){if(!(this instanceof n))return new n($,N);var T=this;s(T),T.q=T.c="",T.bufferCheckPosition=t.MAX_BUFFER_LENGTH,T.opt=N||{},T.opt.lowercase=T.opt.lowercase||T.opt.lowercasetags,T.looseCase=T.opt.lowercase?"toLowerCase":"toUpperCase",T.tags=[],T.closed=T.closedRoot=T.sawRoot=!1,T.tag=T.error=null,T.strict=!!$,T.noscript=!!($||T.opt.noscript),T.state=O.BEGIN,T.strictEntities=T.opt.strictEntities,T.ENTITIES=T.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),T.attribList=[],T.opt.xmlns&&(T.ns=Object.create(g)),T.trackPosition=T.opt.position!==!1,T.trackPosition&&(T.position=T.line=T.column=0),G(T,"onready")}Object.create||(Object.create=function($){function N(){}N.prototype=$;var T=new N;return T}),Object.keys||(Object.keys=function($){var N=[];for(var T in $)$.hasOwnProperty(T)&&N.push(T);return N});function i($){for(var N=Math.max(t.MAX_BUFFER_LENGTH,10),T=0,V=0,J=r.length;V<J;V++){var re=$[r[V]].length;if(re>N)switch(r[V]){case"textNode":R($);break;case"cdata":I($,"oncdata",$.cdata),$.cdata="";break;case"script":I($,"onscript",$.script),$.script="";break;default:j($,"Max buffer length exceeded: "+r[V])}T=Math.max(T,re)}var se=t.MAX_BUFFER_LENGTH-T;$.bufferCheckPosition=se+$.position}function s($){for(var N=0,T=r.length;N<T;N++)$[r[N]]=""}function o($){R($),$.cdata!==""&&(I($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(I($,"onscript",$.script),$.script="")}n.prototype={end:function(){k(this)},write:q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=CE().Stream}catch{a=function(){}}var l=t.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function c($,N){return new u($,N)}function u($,N){if(!(this instanceof u))return new u($,N);a.apply(this),this._parser=new n($,N),this.writable=!0,this.readable=!0;var T=this;this._parser.onend=function(){T.emit("end")},this._parser.onerror=function(V){T.emit("error",V),T._parser.error=null},this._decoder=null,l.forEach(function(V){Object.defineProperty(T,"on"+V,{get:function(){return T._parser["on"+V]},set:function(J){if(!J)return T.removeAllListeners(V),T._parser["on"+V]=J,J;T.on(V,J)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var N=l6().StringDecoder;this._decoder=new N("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},u.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},u.prototype.on=function($,N){var T=this;return!T._parser["on"+$]&&l.indexOf($)!==-1&&(T._parser["on"+$]=function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);V.splice(0,0,$),T.emit.apply(T,V)}),a.prototype.on.call(T,$,N)};var h="[CDATA[",f="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:d,xmlns:p},m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w($){return $===" "||$===`
`||$==="\r"||$==="	"}function _($){return $==='"'||$==="'"}function M($){return $===">"||w($)}function U($,N){return $.test(N)}function L($,N){return!U($,N)}var O=0;t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function($){var N=t.ENTITIES[$],T=typeof N=="number"?String.fromCharCode(N):N;t.ENTITIES[$]=T});for(var H in t.STATE)t.STATE[t.STATE[H]]=H;O=t.STATE;function G($,N,T){$[N]&&$[N](T)}function I($,N,T){$.textNode&&R($),G($,N,T)}function R($){$.textNode=S($.opt,$.textNode),$.textNode&&G($,"ontext",$.textNode),$.textNode=""}function S($,N){return $.trim&&(N=N.trim()),$.normalize&&(N=N.replace(/\s+/g," ")),N}function j($,N){return R($),$.trackPosition&&(N+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),N=new Error(N),$.error=N,G($,"onerror",N),$}function k($){return $.sawRoot&&!$.closedRoot&&E($,"Unclosed root tag"),$.state!==O.BEGIN&&$.state!==O.BEGIN_WHITESPACE&&$.state!==O.TEXT&&j($,"Unexpected end"),R($),$.c="",$.closed=!0,G($,"onend"),n.call($,$.strict,$.opt),$}function E($,N){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&j($,N)}function A($){$.strict||($.tagName=$.tagName[$.looseCase]());var N=$.tags[$.tags.length-1]||$,T=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(T.ns=N.ns),$.attribList.length=0,I($,"onopentagstart",T)}function C($,N){var T=$.indexOf(":"),V=T<0?["",$]:$.split(":"),J=V[0],re=V[1];return N&&$==="xmlns"&&(J="xmlns",re=""),{prefix:J,local:re}}function D($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var N=C($.attribName,!0),T=N.prefix,V=N.local;if(T==="xmlns")if(V==="xml"&&$.attribValue!==d)E($,"xml: prefix must be bound to "+d+`
Actual: `+$.attribValue);else if(V==="xmlns"&&$.attribValue!==p)E($,"xmlns: prefix must be bound to "+p+`
Actual: `+$.attribValue);else{var J=$.tag,re=$.tags[$.tags.length-1]||$;J.ns===re.ns&&(J.ns=Object.create(re.ns)),J.ns[V]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,I($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function z($,N){if($.opt.xmlns){var T=$.tag,V=C($.tagName);T.prefix=V.prefix,T.local=V.local,T.uri=T.ns[V.prefix]||"",T.prefix&&!T.uri&&(E($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),T.uri=V.prefix);var J=$.tags[$.tags.length-1]||$;T.ns&&J.ns!==T.ns&&Object.keys(T.ns).forEach(function(le){I($,"onopennamespace",{prefix:le,uri:T.ns[le]})});for(var re=0,se=$.attribList.length;re<se;re++){var B=$.attribList[re],ne=B[0],ee=B[1],F=C(ne,!0),W=F.prefix,Y=F.local,ae=W===""?"":T.ns[W]||"",ce={name:ne,value:ee,prefix:W,local:Y,uri:ae};W&&W!=="xmlns"&&!ae&&(E($,"Unbound namespace prefix: "+JSON.stringify(W)),ce.uri=W),$.tag.attributes[ne]=ce,I($,"onattribute",ce)}$.attribList.length=0}$.tag.isSelfClosing=!!N,$.sawRoot=!0,$.tags.push($.tag),I($,"onopentag",$.tag),N||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=O.SCRIPT:$.state=O.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function P($){if(!$.tagName){E($,"Weird empty close tag."),$.textNode+="</>",$.state=O.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=O.SCRIPT;return}I($,"onscript",$.script),$.script=""}var N=$.tags.length,T=$.tagName;$.strict||(T=T[$.looseCase]());for(var V=T;N--;){var J=$.tags[N];if(J.name!==V)E($,"Unexpected close tag");else break}if(N<0){E($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=O.TEXT;return}$.tagName=T;for(var re=$.tags.length;re-- >N;){var se=$.tag=$.tags.pop();$.tagName=$.tag.name,I($,"onclosetag",$.tagName);var B={};for(var ne in se.ns)B[ne]=se.ns[ne];var ee=$.tags[$.tags.length-1]||$;$.opt.xmlns&&se.ns!==ee.ns&&Object.keys(se.ns).forEach(function(F){var W=se.ns[F];I($,"onclosenamespace",{prefix:F,uri:W})})}N===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=O.TEXT}function K($){var N=$.entity,T=N.toLowerCase(),V,J="";return $.ENTITIES[N]?$.ENTITIES[N]:$.ENTITIES[T]?$.ENTITIES[T]:(N=T,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),V=parseInt(N,16),J=V.toString(16)):(N=N.slice(1),V=parseInt(N,10),J=V.toString(10))),N=N.replace(/^0+/,""),isNaN(V)||J.toLowerCase()!==N?(E($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(V))}function Z($,N){N==="<"?($.state=O.OPEN_WAKA,$.startTagPosition=$.position):w(N)||(E($,"Non-whitespace before first tag."),$.textNode=N,$.state=O.TEXT)}function te($,N){var T="";return N<$.length&&(T=$.charAt(N)),T}function q($){var N=this;if(this.error)throw this.error;if(N.closed)return j(N,"Cannot write after close. Assign an onready handler.");if($===null)return k(N);typeof $=="object"&&($=$.toString());for(var T=0,V="";V=te($,T++),N.c=V,!!V;)switch(N.trackPosition&&(N.position++,V===`
`?(N.line++,N.column=0):N.column++),N.state){case O.BEGIN:if(N.state=O.BEGIN_WHITESPACE,V==="\uFEFF")continue;Z(N,V);continue;case O.BEGIN_WHITESPACE:Z(N,V);continue;case O.TEXT:if(N.sawRoot&&!N.closedRoot){for(var J=T-1;V&&V!=="<"&&V!=="&";)V=te($,T++),V&&N.trackPosition&&(N.position++,V===`
`?(N.line++,N.column=0):N.column++);N.textNode+=$.substring(J,T-1)}V==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=O.OPEN_WAKA,N.startTagPosition=N.position):(!w(V)&&(!N.sawRoot||N.closedRoot)&&E(N,"Text data outside of root node."),V==="&"?N.state=O.TEXT_ENTITY:N.textNode+=V);continue;case O.SCRIPT:V==="<"?N.state=O.SCRIPT_ENDING:N.script+=V;continue;case O.SCRIPT_ENDING:V==="/"?N.state=O.CLOSE_TAG:(N.script+="<"+V,N.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(V==="!")N.state=O.SGML_DECL,N.sgmlDecl="";else if(!w(V))if(U(m,V))N.state=O.OPEN_TAG,N.tagName=V;else if(V==="/")N.state=O.CLOSE_TAG,N.tagName="";else if(V==="?")N.state=O.PROC_INST,N.procInstName=N.procInstBody="";else{if(E(N,"Unencoded <"),N.startTagPosition+1<N.position){var re=N.position-N.startTagPosition;V=new Array(re).join(" ")+V}N.textNode+="<"+V,N.state=O.TEXT}continue;case O.SGML_DECL:(N.sgmlDecl+V).toUpperCase()===h?(I(N,"onopencdata"),N.state=O.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+V==="--"?(N.state=O.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+V).toUpperCase()===f?(N.state=O.DOCTYPE,(N.doctype||N.sawRoot)&&E(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):V===">"?(I(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=O.TEXT):(_(V)&&(N.state=O.SGML_DECL_QUOTED),N.sgmlDecl+=V);continue;case O.SGML_DECL_QUOTED:V===N.q&&(N.state=O.SGML_DECL,N.q=""),N.sgmlDecl+=V;continue;case O.DOCTYPE:V===">"?(N.state=O.TEXT,I(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=V,V==="["?N.state=O.DOCTYPE_DTD:_(V)&&(N.state=O.DOCTYPE_QUOTED,N.q=V));continue;case O.DOCTYPE_QUOTED:N.doctype+=V,V===N.q&&(N.q="",N.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:N.doctype+=V,V==="]"?N.state=O.DOCTYPE:_(V)&&(N.state=O.DOCTYPE_DTD_QUOTED,N.q=V);continue;case O.DOCTYPE_DTD_QUOTED:N.doctype+=V,V===N.q&&(N.state=O.DOCTYPE_DTD,N.q="");continue;case O.COMMENT:V==="-"?N.state=O.COMMENT_ENDING:N.comment+=V;continue;case O.COMMENT_ENDING:V==="-"?(N.state=O.COMMENT_ENDED,N.comment=S(N.opt,N.comment),N.comment&&I(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+V,N.state=O.COMMENT);continue;case O.COMMENT_ENDED:V!==">"?(E(N,"Malformed comment"),N.comment+="--"+V,N.state=O.COMMENT):N.state=O.TEXT;continue;case O.CDATA:V==="]"?N.state=O.CDATA_ENDING:N.cdata+=V;continue;case O.CDATA_ENDING:V==="]"?N.state=O.CDATA_ENDING_2:(N.cdata+="]"+V,N.state=O.CDATA);continue;case O.CDATA_ENDING_2:V===">"?(N.cdata&&I(N,"oncdata",N.cdata),I(N,"onclosecdata"),N.cdata="",N.state=O.TEXT):V==="]"?N.cdata+="]":(N.cdata+="]]"+V,N.state=O.CDATA);continue;case O.PROC_INST:V==="?"?N.state=O.PROC_INST_ENDING:w(V)?N.state=O.PROC_INST_BODY:N.procInstName+=V;continue;case O.PROC_INST_BODY:if(!N.procInstBody&&w(V))continue;V==="?"?N.state=O.PROC_INST_ENDING:N.procInstBody+=V;continue;case O.PROC_INST_ENDING:V===">"?(I(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=O.TEXT):(N.procInstBody+="?"+V,N.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:U(v,V)?N.tagName+=V:(A(N),V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:(w(V)||E(N,"Invalid character in tag name"),N.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:V===">"?(z(N,!0),P(N)):(E(N,"Forward-slash in opening tag not followed by >"),N.state=O.ATTRIB);continue;case O.ATTRIB:if(w(V))continue;V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:U(m,V)?(N.attribName=V,N.attribValue="",N.state=O.ATTRIB_NAME):E(N,"Invalid attribute name");continue;case O.ATTRIB_NAME:V==="="?N.state=O.ATTRIB_VALUE:V===">"?(E(N,"Attribute without value"),N.attribValue=N.attribName,D(N),z(N)):w(V)?N.state=O.ATTRIB_NAME_SAW_WHITE:U(v,V)?N.attribName+=V:E(N,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(V==="=")N.state=O.ATTRIB_VALUE;else{if(w(V))continue;E(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",I(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",V===">"?z(N):U(m,V)?(N.attribName=V,N.state=O.ATTRIB_NAME):(E(N,"Invalid attribute name"),N.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(w(V))continue;_(V)?(N.q=V,N.state=O.ATTRIB_VALUE_QUOTED):(E(N,"Unquoted attribute value"),N.state=O.ATTRIB_VALUE_UNQUOTED,N.attribValue=V);continue;case O.ATTRIB_VALUE_QUOTED:if(V!==N.q){V==="&"?N.state=O.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=V;continue}D(N),N.q="",N.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:w(V)?N.state=O.ATTRIB:V===">"?z(N):V==="/"?N.state=O.OPEN_TAG_SLASH:U(m,V)?(E(N,"No whitespace between attributes"),N.attribName=V,N.attribValue="",N.state=O.ATTRIB_NAME):E(N,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!M(V)){V==="&"?N.state=O.ATTRIB_VALUE_ENTITY_U:N.attribValue+=V;continue}D(N),V===">"?z(N):N.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(N.tagName)V===">"?P(N):U(v,V)?N.tagName+=V:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=O.SCRIPT):(w(V)||E(N,"Invalid tagname in closing tag"),N.state=O.CLOSE_TAG_SAW_WHITE);else{if(w(V))continue;L(m,V)?N.script?(N.script+="</"+V,N.state=O.SCRIPT):E(N,"Invalid tagname in closing tag."):N.tagName=V}continue;case O.CLOSE_TAG_SAW_WHITE:if(w(V))continue;V===">"?P(N):E(N,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var se,B;switch(N.state){case O.TEXT_ENTITY:se=O.TEXT,B="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:se=O.ATTRIB_VALUE_QUOTED,B="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:se=O.ATTRIB_VALUE_UNQUOTED,B="attribValue";break}V===";"?(N[B]+=K(N),N.entity="",N.state=se):U(N.entity.length?x:y,V)?N.entity+=V:(E(N,"Invalid character in entity name"),N[B]+="&"+N.entity+V,N.entity="",N.state=se);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&i(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var $=String.fromCharCode,N=Math.floor,T=function(){var V=16384,J=[],re,se,B=-1,ne=arguments.length;if(!ne)return"";for(var ee="";++B<ne;){var F=Number(arguments[B]);if(!isFinite(F)||F<0||F>1114111||N(F)!==F)throw RangeError("Invalid code point: "+F);F<=65535?J.push(F):(F-=65536,re=(F>>10)+55296,se=F%1024+56320,J.push(re,se)),(B+1===ne||J.length>V)&&(ee+=$.apply(null,J),J.length=0)}return ee};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:T,configurable:!0,writable:!0}):String.fromCodePoint=T}()})(e)}(l_)),l_}var E5,eR;function jE(){return eR||(eR=1,E5={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),E5}var k5,tR;function TE(){if(tR)return k5;tR=1;var e=jE().isArray;return k5={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},k5}var N5,rR;function Zz(){if(rR)return N5;rR=1;var e=Lfe(),t=TE(),r=jE().isArray,n,i;function s(v){return n=t.copyOptions(v),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function o(v){var y=Number(v);if(!isNaN(y))return y;var x=v.toLowerCase();return x==="true"?!0:x==="false"?!1:v}function a(v,y){var x;if(n.compact){if(!i[n[v+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[v+"Key"])!==-1:n.alwaysArray)&&(i[n[v+"Key"]]=[]),i[n[v+"Key"]]&&!r(i[n[v+"Key"]])&&(i[n[v+"Key"]]=[i[n[v+"Key"]]]),v+"Fn"in n&&typeof y=="string"&&(y=n[v+"Fn"](y,i)),v==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(x in y)if(y.hasOwnProperty(x))if("instructionFn"in n)y[x]=n.instructionFn(y[x],x,i);else{var w=y[x];delete y[x],y[n.instructionNameFn(x,w,i)]=w}}r(i[n[v+"Key"]])?i[n[v+"Key"]].push(y):i[n[v+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var _={};if(_[n.typeKey]=v,v==="instruction"){for(x in y)if(y.hasOwnProperty(x))break;_[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(x,y,i):x,n.instructionHasAttributes?(_[n.attributesKey]=y[x][n.attributesKey],"instructionFn"in n&&(_[n.attributesKey]=n.instructionFn(_[n.attributesKey],x,i))):("instructionFn"in n&&(y[x]=n.instructionFn(y[x],x,i)),_[n.instructionKey]=y[x])}else v+"Fn"in n&&(y=n[v+"Fn"](y,i)),_[n[v+"Key"]]=y;n.addParent&&(_[n.parentKey]=i),i[n.elementsKey].push(_)}}function l(v){if("attributesFn"in n&&v&&(v=n.attributesFn(v,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&v){var y;for(y in v)if(v.hasOwnProperty(y)&&(n.trim&&(v[y]=v[y].trim()),n.nativeTypeAttributes&&(v[y]=o(v[y])),"attributeValueFn"in n&&(v[y]=n.attributeValueFn(v[y],y,i)),"attributeNameFn"in n)){var x=v[y];delete v[y],v[n.attributeNameFn(y,v[y],i)]=x}}return v}function c(v){var y={};if(v.body&&(v.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var x=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=x.exec(v.body))!==null;)y[w[1]]=w[2]||w[3]||w[4];y=l(y)}if(v.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(v.body=v.body.trim());var _={};n.instructionHasAttributes&&Object.keys(y).length?(_[v.name]={},_[v.name][n.attributesKey]=y):_[v.name]=v.body,a("instruction",_)}}function u(v,y){var x;if(typeof v=="object"&&(y=v.attributes,v=v.name),y=l(y),"elementNameFn"in n&&(v=n.elementNameFn(v,i)),n.compact){if(x={},!n.ignoreAttributes&&y&&Object.keys(y).length){x[n.attributesKey]={};var w;for(w in y)y.hasOwnProperty(w)&&(x[n.attributesKey][w]=y[w])}!(v in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(v)!==-1:n.alwaysArray)&&(i[v]=[]),i[v]&&!r(i[v])&&(i[v]=[i[v]]),r(i[v])?i[v].push(x):i[v]=x}else i[n.elementsKey]||(i[n.elementsKey]=[]),x={},x[n.typeKey]="element",x[n.nameKey]=v,!n.ignoreAttributes&&y&&Object.keys(y).length&&(x[n.attributesKey]=y),n.alwaysChildren&&(x[n.elementsKey]=[]),i[n.elementsKey].push(x);x[n.parentKey]=i,i=x}function h(v){n.ignoreText||!v.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(v=v.trim()),n.nativeType&&(v=o(v)),n.sanitize&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",v))}function f(v){n.ignoreComment||(n.trim&&(v=v.trim()),a("comment",v))}function d(v){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function p(v){n.ignoreCdata||(n.trim&&(v=v.trim()),a("cdata",v))}function g(v){n.ignoreDoctype||(v=v.replace(/^ /,""),n.trim&&(v=v.trim()),a("doctype",v))}function m(v){v.note=v}return N5=function(v,y){var x=e.parser(!0,{}),w={};if(i=w,n=s(y),x.opt={strictEntities:!0},x.onopentag=u,x.ontext=h,x.oncomment=f,x.onclosetag=d,x.onerror=m,x.oncdata=p,x.ondoctype=g,x.onprocessinginstruction=c,x.write(v).close(),w[n.elementsKey]){var _=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=_,delete w.text}return w},N5}var A5,nR;function Dfe(){if(nR)return A5;nR=1;var e=TE(),t=Zz();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return A5=function(n,i){var s,o,a,l;return s=r(i),o=t(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(c,u){return c===l?"_":u},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},A5}var C5,iR;function Yz(){if(iR)return C5;iR=1;var e=TE(),t=jE().isArray,r,n;function i(x){var w=e.copyOptions(x);return e.ensureFlagExists("ignoreDeclaration",w),e.ensureFlagExists("ignoreInstruction",w),e.ensureFlagExists("ignoreAttributes",w),e.ensureFlagExists("ignoreText",w),e.ensureFlagExists("ignoreComment",w),e.ensureFlagExists("ignoreCdata",w),e.ensureFlagExists("ignoreDoctype",w),e.ensureFlagExists("compact",w),e.ensureFlagExists("indentText",w),e.ensureFlagExists("indentCdata",w),e.ensureFlagExists("indentAttributes",w),e.ensureFlagExists("indentInstruction",w),e.ensureFlagExists("fullTagEmptyElement",w),e.ensureFlagExists("noQuotesForNativeAttributes",w),e.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),e.ensureKeyExists("declaration",w),e.ensureKeyExists("instruction",w),e.ensureKeyExists("attributes",w),e.ensureKeyExists("text",w),e.ensureKeyExists("comment",w),e.ensureKeyExists("cdata",w),e.ensureKeyExists("doctype",w),e.ensureKeyExists("type",w),e.ensureKeyExists("name",w),e.ensureKeyExists("elements",w),e.checkFnExists("doctype",w),e.checkFnExists("instruction",w),e.checkFnExists("cdata",w),e.checkFnExists("comment",w),e.checkFnExists("text",w),e.checkFnExists("instructionName",w),e.checkFnExists("elementName",w),e.checkFnExists("attributeName",w),e.checkFnExists("attributeValue",w),e.checkFnExists("attributes",w),e.checkFnExists("fullTagEmptyElement",w),w}function s(x,w,_){return(!_&&x.spaces?`
`:"")+Array(w+1).join(x.spaces)}function o(x,w,_){if(w.ignoreAttributes)return"";"attributesFn"in w&&(x=w.attributesFn(x,n,r));var M,U,L,O,H=[];for(M in x)x.hasOwnProperty(M)&&x[M]!==null&&x[M]!==void 0&&(O=w.noQuotesForNativeAttributes&&typeof x[M]!="string"?"":'"',U=""+x[M],U=U.replace(/"/g,"&quot;"),L="attributeNameFn"in w?w.attributeNameFn(M,U,n,r):M,H.push(w.spaces&&w.indentAttributes?s(w,_+1,!1):" "),H.push(L+"="+O+("attributeValueFn"in w?w.attributeValueFn(U,M,n,r):U)+O));return x&&Object.keys(x).length&&w.spaces&&w.indentAttributes&&H.push(s(w,_,!1)),H.join("")}function a(x,w,_){return r=x,n="xml",w.ignoreDeclaration?"":"<?xml"+o(x[w.attributesKey],w,_)+"?>"}function l(x,w,_){if(w.ignoreInstruction)return"";var M;for(M in x)if(x.hasOwnProperty(M))break;var U="instructionNameFn"in w?w.instructionNameFn(M,x[M],n,r):M;if(typeof x[M]=="object")return r=x,n=U,"<?"+U+o(x[M][w.attributesKey],w,_)+"?>";var L=x[M]?x[M]:"";return"instructionFn"in w&&(L=w.instructionFn(L,M,n,r)),"<?"+U+(L?" "+L:"")+"?>"}function c(x,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(x,n,r):x)+"-->"}function u(x,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(x,n,r):x.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(x,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(x,n,r):x)+">"}function f(x,w){return w.ignoreText?"":(x=""+x,x=x.replace(/&amp;/g,"&"),x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in w?w.textFn(x,n,r):x)}function d(x,w){var _;if(x.elements&&x.elements.length)for(_=0;_<x.elements.length;++_)switch(x.elements[_][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function p(x,w,_){r=x,n=x.name;var M=[],U="elementNameFn"in w?w.elementNameFn(x.name,x):x.name;M.push("<"+U),x[w.attributesKey]&&M.push(o(x[w.attributesKey],w,_));var L=x[w.elementsKey]&&x[w.elementsKey].length||x[w.attributesKey]&&x[w.attributesKey]["xml:space"]==="preserve";return L||("fullTagEmptyElementFn"in w?L=w.fullTagEmptyElementFn(x.name,x):L=w.fullTagEmptyElement),L?(M.push(">"),x[w.elementsKey]&&x[w.elementsKey].length&&(M.push(g(x[w.elementsKey],w,_+1)),r=x,n=x.name),M.push(w.spaces&&d(x,w)?`
`+Array(_+1).join(w.spaces):""),M.push("</"+U+">")):M.push("/>"),M.join("")}function g(x,w,_,M){return x.reduce(function(U,L){var O=s(w,_,M&&!U);switch(L.type){case"element":return U+O+p(L,w,_);case"comment":return U+O+c(L[w.commentKey],w);case"doctype":return U+O+h(L[w.doctypeKey],w);case"cdata":return U+(w.indentCdata?O:"")+u(L[w.cdataKey],w);case"text":return U+(w.indentText?O:"")+f(L[w.textKey],w);case"instruction":var H={};return H[L[w.nameKey]]=L[w.attributesKey]?L:L[w.instructionKey],U+(w.indentInstruction?O:"")+l(H,w,_)}},"")}function m(x,w,_){var M;for(M in x)if(x.hasOwnProperty(M))switch(M){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||_)return!0;break;case w.cdataKey:if(w.indentCdata||_)return!0;break;case w.instructionKey:if(w.indentInstruction||_)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function v(x,w,_,M,U){r=x,n=w;var L="elementNameFn"in _?_.elementNameFn(w,x):w;if(typeof x>"u"||x===null||x==="")return"fullTagEmptyElementFn"in _&&_.fullTagEmptyElementFn(w,x)||_.fullTagEmptyElement?"<"+L+"></"+L+">":"<"+L+"/>";var O=[];if(w){if(O.push("<"+L),typeof x!="object")return O.push(">"+f(x,_)+"</"+L+">"),O.join("");x[_.attributesKey]&&O.push(o(x[_.attributesKey],_,M));var H=m(x,_,!0)||x[_.attributesKey]&&x[_.attributesKey]["xml:space"]==="preserve";if(H||("fullTagEmptyElementFn"in _?H=_.fullTagEmptyElementFn(w,x):H=_.fullTagEmptyElement),H)O.push(">");else return O.push("/>"),O.join("")}return O.push(y(x,_,M+1,!1)),r=x,n=w,w&&O.push((U?s(_,M,!1):"")+"</"+L+">"),O.join("")}function y(x,w,_,M){var U,L,O,H=[];for(L in x)if(x.hasOwnProperty(L))for(O=t(x[L])?x[L]:[x[L]],U=0;U<O.length;++U){switch(L){case w.declarationKey:H.push(a(O[U],w,_));break;case w.instructionKey:H.push((w.indentInstruction?s(w,_,M):"")+l(O[U],w,_));break;case w.attributesKey:case w.parentKey:break;case w.textKey:H.push((w.indentText?s(w,_,M):"")+f(O[U],w));break;case w.cdataKey:H.push((w.indentCdata?s(w,_,M):"")+u(O[U],w));break;case w.doctypeKey:H.push(s(w,_,M)+h(O[U],w));break;case w.commentKey:H.push(s(w,_,M)+c(O[U],w));break;default:H.push(s(w,_,M)+v(O[U],L,w,_,m(O[U],w)))}M=M&&!H.length}return H.join("")}return C5=function(x,w){w=i(w);var _=[];return r=x,n="_root_",w.compact?_.push(y(x,w,0,!0)):(x[w.declarationKey]&&_.push(a(x[w.declarationKey],w,0)),x[w.elementsKey]&&x[w.elementsKey].length&&_.push(g(x[w.elementsKey],w,0,!_.length))),_.join("")},C5}var j5,sR;function Bfe(){if(sR)return j5;sR=1;var e=Yz();return j5=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},j5}var T5,aR;function Ffe(){if(aR)return T5;aR=1;var e=Zz(),t=Dfe(),r=Yz(),n=Bfe();return T5={xml2js:e,xml2json:t,js2xml:r,json2xml:n},T5}var Jz=Ffe();const RE=e=>{switch(e.type){case void 0:case"element":const t=new Ufe(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=RE(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class zfe extends ur{}class Ufe extends lt{static fromXmlString(t){const r=Jz.xml2js(t,{compact:!1});return RE(r)}constructor(t,r){super(t),r&&this.root.push(new zfe(r))}push(t){this.root.push(t)}}class $fe extends lt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class Qz extends lt{constructor(t,r){super(t),r&&(this.root=r.root)}}const ea=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},Y2=e=>{const t=ea(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},eU=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},oR=e=>eU(e,1),tU=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},rU=e=>{const t=tU(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},ip=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return eU(t,3)},Ud=e=>typeof e=="string"?tU(e):ea(e),Hfe=e=>typeof e=="string"?rU(e):Y2(e),mo=e=>typeof e=="string"?rU(e):Y2(e),Wfe=Y2,qfe=Y2,Vfe=e=>e.toISOString();class ut extends lt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new fi({val:r}))}}class R5 extends lt{constructor(t,r){super(t),this.root.push(new fi({val:Hfe(r)}))}}class Tf extends lt{constructor(t,r){super(t),this.root.push(new fi({val:r}))}}const Nm=(e,t)=>new hl({name:e,attributes:{value:{key:"w:val",value:t}}});class d0 extends lt{constructor(t,r){super(t),this.root.push(new fi({val:r}))}}class xd extends lt{constructor(t,r){super(t),this.root.push(r)}}class hl extends lt{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new K2(r)),n&&this.root.push(...n)}}const ma={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class Gfe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Kfe extends lt{constructor(t){super("w:jc"),this.root.push(new Gfe({val:t}))}}class Vn extends lt{constructor(t,{color:r,size:n,space:i,style:s}){super(t),this.root.push(new Xfe({style:s,color:r===void 0?void 0:ip(r),size:n===void 0?void 0:Wfe(n),space:i===void 0?void 0:qfe(i)}))}}class Xfe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const PE={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class Zfe extends G2{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Vn("w:top",t.top)),t.bottom&&this.root.push(new Vn("w:bottom",t.bottom)),t.left&&this.root.push(new Vn("w:left",t.left)),t.right&&this.root.push(new Vn("w:right",t.right))}}class Yfe extends lt{constructor(){super("w:pBdr");const t=new Vn("w:bottom",{color:"auto",space:1,style:PE.SINGLE,size:6});this.root.push(t)}}class Jfe extends lt{constructor({start:t,end:r,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new K2({start:{key:"w:start",value:t===void 0?void 0:Ud(t)},end:{key:"w:end",value:r===void 0?void 0:Ud(r)},left:{key:"w:left",value:n===void 0?void 0:Ud(n)},right:{key:"w:right",value:i===void 0?void 0:Ud(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:mo(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:mo(o)}}))}}let Qfe=class extends lt{constructor(){super("w:br")}};const OE={BEGIN:"begin",END:"end",SEPARATE:"separate"};class IE extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Tv extends lt{constructor(t){super("w:fldChar"),this.root.push(new IE({type:OE.BEGIN,dirty:t}))}}class Rv extends lt{constructor(t){super("w:fldChar"),this.root.push(new IE({type:OE.SEPARATE,dirty:t}))}}class Pv extends lt{constructor(t){super("w:fldChar"),this.root.push(new IE({type:OE.END,dirty:t}))}}const sp={DEFAULT:"default",PRESERVE:"preserve"};class ap extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{space:"xml:space"})}}class epe extends lt{constructor(){super("w:instrText"),this.root.push(new ap({space:sp.PRESERVE})),this.root.push("PAGE")}}class tpe extends lt{constructor(){super("w:instrText"),this.root.push(new ap({space:sp.PRESERVE})),this.root.push("NUMPAGES")}}class rpe extends lt{constructor(){super("w:instrText"),this.root.push(new ap({space:sp.PRESERVE})),this.root.push("SECTIONPAGES")}}class npe extends lt{constructor(){super("w:instrText"),this.root.push(new ap({space:sp.PRESERVE})),this.root.push("SECTION")}}class ipe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class nU extends lt{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new ipe({fill:t===void 0?void 0:ip(t),color:r===void 0?void 0:ip(r),type:n}))}}class spe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const ape={DOT:"dot"};class ope extends lt{constructor(t){super("w:em"),this.root.push(new fi({val:t}))}}class lpe extends ope{constructor(t=ape.DOT){super(t)}}class cpe extends lt{constructor(t){super("w:spacing"),this.root.push(new fi({val:Ud(t)}))}}class upe extends lt{constructor(t){super("w:color"),this.root.push(new fi({val:ip(t)}))}}class dpe extends lt{constructor(t){super("w:highlight"),this.root.push(new fi({val:t}))}}class hpe extends lt{constructor(t){super("w:highlightCs"),this.root.push(new fi({val:t}))}}const fpe=e=>new hl({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class lR extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class P5 extends lt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new lR({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new lR(n))}}}let iU=class extends lt{constructor(t){super("w:vertAlign"),this.root.push(new fi({val:t}))}};class ppe extends iU{constructor(){super("superscript")}}class mpe extends iU{constructor(){super("subscript")}}const sU={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class gpe extends lt{constructor(t=sU.SINGLE,r){super("w:u"),this.root.push(new fi({val:t,color:r===void 0?void 0:ip(r)}))}}class kh extends G2{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new Tf("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new P5(t.font)):"name"in t.font?this.push(new P5(t.font.name,t.font.hint)):this.push(new P5(t.font))),t.bold!==void 0&&this.push(new ut("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new ut("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new ut("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new ut("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new ut("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new ut("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new ut("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new ut("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new ut("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new ut("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new ut("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new ut("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new ut("w:vanish",t.vanish)),t.color&&this.push(new upe(t.color)),t.characterSpacing&&this.push(new cpe(t.characterSpacing)),t.scale!==void 0&&this.push(new d0("w:w",t.scale)),t.kern&&this.push(new R5("w:kern",t.kern)),t.position&&this.push(new Tf("w:position",t.position)),t.size!==void 0&&this.push(new R5("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new R5("w:szCs",i)),t.highlight&&this.push(new dpe(t.highlight));const s=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;s&&this.push(new hpe(s)),t.underline&&this.push(new gpe(t.underline.type,t.underline.color)),t.effect&&this.push(new Tf("w:effect",t.effect)),t.border&&this.push(new Vn("w:bdr",t.border)),t.shading&&this.push(new nU(t.shading)),t.subScript&&this.push(new mpe),t.superScript&&this.push(new ppe),t.rightToLeft!==void 0&&this.push(new ut("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new lpe(t.emphasisMark.type)),t.language&&this.push(fpe(t.language)),t.specVanish&&this.push(new ut("w:specVanish",t.vanish)),t.math&&this.push(new ut("w:oMath",t.math)),t.revision&&this.push(new vpe(t.revision))}push(t){this.root.push(t)}}class vpe extends lt{constructor(t){super("w:rPrChange"),this.root.push(new spe({id:t.id,author:t.author,date:t.date})),this.addChildElement(new kh(t))}}class cR extends lt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new ap({space:sp.PRESERVE})),this.root.push(t)):(this.root.push(new ap({space:(r=t.space)!=null?r:sp.DEFAULT})),this.root.push(t.text))}}const Ov={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class J2 extends lt{constructor(t){if(super("w:r"),tt(this,"properties"),this.properties=new kh(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new Qfe);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Ov.CURRENT:this.root.push(new Tv),this.root.push(new epe),this.root.push(new Rv),this.root.push(new Pv);break;case Ov.TOTAL_PAGES:this.root.push(new Tv),this.root.push(new tpe),this.root.push(new Rv),this.root.push(new Pv);break;case Ov.TOTAL_PAGES_IN_SECTION:this.root.push(new Tv),this.root.push(new rpe),this.root.push(new Rv),this.root.push(new Pv);break;case Ov.CURRENT_SECTION:this.root.push(new Tv),this.root.push(new npe),this.root.push(new Rv),this.root.push(new Pv);break;default:this.root.push(new cR(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new cR(t.text))}}class uR extends J2{constructor(t){super(typeof t=="string"?{text:t}:t)}}var O5={},un={},I5,dR;function Gg(){if(dR)return I5;dR=1,I5=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},I5}var hR;function bl(){if(hR)return un;hR=1;var e=Gg(),t=Zu();un.inherits=t;function r(I,R){return(I.charCodeAt(R)&64512)!==55296||R<0||R+1>=I.length?!1:(I.charCodeAt(R+1)&64512)===56320}function n(I,R){if(Array.isArray(I))return I.slice();if(!I)return[];var S=[];if(typeof I=="string")if(R){if(R==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),k=0;k<I.length;k+=2)S.push(parseInt(I[k]+I[k+1],16))}else for(var j=0,k=0;k<I.length;k++){var E=I.charCodeAt(k);E<128?S[j++]=E:E<2048?(S[j++]=E>>6|192,S[j++]=E&63|128):r(I,k)?(E=65536+((E&1023)<<10)+(I.charCodeAt(++k)&1023),S[j++]=E>>18|240,S[j++]=E>>12&63|128,S[j++]=E>>6&63|128,S[j++]=E&63|128):(S[j++]=E>>12|224,S[j++]=E>>6&63|128,S[j++]=E&63|128)}else for(k=0;k<I.length;k++)S[k]=I[k]|0;return S}un.toArray=n;function i(I){for(var R="",S=0;S<I.length;S++)R+=a(I[S].toString(16));return R}un.toHex=i;function s(I){var R=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return R>>>0}un.htonl=s;function o(I,R){for(var S="",j=0;j<I.length;j++){var k=I[j];R==="little"&&(k=s(k)),S+=l(k.toString(16))}return S}un.toHex32=o;function a(I){return I.length===1?"0"+I:I}un.zero2=a;function l(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}un.zero8=l;function c(I,R,S,j){var k=S-R;e(k%4===0);for(var E=new Array(k/4),A=0,C=R;A<E.length;A++,C+=4){var D;j==="big"?D=I[C]<<24|I[C+1]<<16|I[C+2]<<8|I[C+3]:D=I[C+3]<<24|I[C+2]<<16|I[C+1]<<8|I[C],E[A]=D>>>0}return E}un.join32=c;function u(I,R){for(var S=new Array(I.length*4),j=0,k=0;j<I.length;j++,k+=4){var E=I[j];R==="big"?(S[k]=E>>>24,S[k+1]=E>>>16&255,S[k+2]=E>>>8&255,S[k+3]=E&255):(S[k+3]=E>>>24,S[k+2]=E>>>16&255,S[k+1]=E>>>8&255,S[k]=E&255)}return S}un.split32=u;function h(I,R){return I>>>R|I<<32-R}un.rotr32=h;function f(I,R){return I<<R|I>>>32-R}un.rotl32=f;function d(I,R){return I+R>>>0}un.sum32=d;function p(I,R,S){return I+R+S>>>0}un.sum32_3=p;function g(I,R,S,j){return I+R+S+j>>>0}un.sum32_4=g;function m(I,R,S,j,k){return I+R+S+j+k>>>0}un.sum32_5=m;function v(I,R,S,j){var k=I[R],E=I[R+1],A=j+E>>>0,C=(A<j?1:0)+S+k;I[R]=C>>>0,I[R+1]=A}un.sum64=v;function y(I,R,S,j){var k=R+j>>>0,E=(k<R?1:0)+I+S;return E>>>0}un.sum64_hi=y;function x(I,R,S,j){var k=R+j;return k>>>0}un.sum64_lo=x;function w(I,R,S,j,k,E,A,C){var D=0,z=R;z=z+j>>>0,D+=z<R?1:0,z=z+E>>>0,D+=z<E?1:0,z=z+C>>>0,D+=z<C?1:0;var P=I+S+k+A+D;return P>>>0}un.sum64_4_hi=w;function _(I,R,S,j,k,E,A,C){var D=R+j+E+C;return D>>>0}un.sum64_4_lo=_;function M(I,R,S,j,k,E,A,C,D,z){var P=0,K=R;K=K+j>>>0,P+=K<R?1:0,K=K+E>>>0,P+=K<E?1:0,K=K+C>>>0,P+=K<C?1:0,K=K+z>>>0,P+=K<z?1:0;var Z=I+S+k+A+D+P;return Z>>>0}un.sum64_5_hi=M;function U(I,R,S,j,k,E,A,C,D,z){var P=R+j+E+C+z;return P>>>0}un.sum64_5_lo=U;function L(I,R,S){var j=R<<32-S|I>>>S;return j>>>0}un.rotr64_hi=L;function O(I,R,S){var j=I<<32-S|R>>>S;return j>>>0}un.rotr64_lo=O;function H(I,R,S){return I>>>S}un.shr64_hi=H;function G(I,R,S){var j=I<<32-S|R>>>S;return j>>>0}return un.shr64_lo=G,un}var M5={},fR;function Kg(){if(fR)return M5;fR=1;var e=bl(),t=Gg();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return M5.BlockHash=r,r.prototype.update=function(i,s){if(i=e.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,c=8;c<this.padLength;c++)a[l++]=0;return a},M5}var wd={},$o={},pR;function aU(){if(pR)return $o;pR=1;var e=bl(),t=e.rotr32;function r(u,h,f,d){if(u===0)return n(h,f,d);if(u===1||u===3)return s(h,f,d);if(u===2)return i(h,f,d)}$o.ft_1=r;function n(u,h,f){return u&h^~u&f}$o.ch32=n;function i(u,h,f){return u&h^u&f^h&f}$o.maj32=i;function s(u,h,f){return u^h^f}$o.p32=s;function o(u){return t(u,2)^t(u,13)^t(u,22)}$o.s0_256=o;function a(u){return t(u,6)^t(u,11)^t(u,25)}$o.s1_256=a;function l(u){return t(u,7)^t(u,18)^u>>>3}$o.g0_256=l;function c(u){return t(u,17)^t(u,19)^u>>>10}return $o.g1_256=c,$o}var L5,mR;function ype(){if(mR)return L5;mR=1;var e=bl(),t=Kg(),r=aU(),n=e.rotl32,i=e.sum32,s=e.sum32_5,o=r.ft_1,a=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,a),L5=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,f){for(var d=this.W,p=0;p<16;p++)d[p]=h[f+p];for(;p<d.length;p++)d[p]=n(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);var g=this.h[0],m=this.h[1],v=this.h[2],y=this.h[3],x=this.h[4];for(p=0;p<d.length;p++){var w=~~(p/20),_=s(n(g,5),o(w,m,v,y),x,d[p],l[w]);x=y,y=v,v=n(m,30),m=g,g=_}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],m),this.h[2]=i(this.h[2],v),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],x)},c.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},L5}var D5,gR;function oU(){if(gR)return D5;gR=1;var e=bl(),t=Kg(),r=aU(),n=Gg(),i=e.sum32,s=e.sum32_4,o=e.sum32_5,a=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,h=r.g0_256,f=r.g1_256,d=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(g,d),D5=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(v,y){for(var x=this.W,w=0;w<16;w++)x[w]=v[y+w];for(;w<x.length;w++)x[w]=s(f(x[w-2]),x[w-7],h(x[w-15]),x[w-16]);var _=this.h[0],M=this.h[1],U=this.h[2],L=this.h[3],O=this.h[4],H=this.h[5],G=this.h[6],I=this.h[7];for(n(this.k.length===x.length),w=0;w<x.length;w++){var R=o(I,u(O),a(O,H,G),this.k[w],x[w]),S=i(c(_),l(_,M,U));I=G,G=H,H=O,O=i(L,R),L=U,U=M,M=_,_=i(R,S)}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],M),this.h[2]=i(this.h[2],U),this.h[3]=i(this.h[3],L),this.h[4]=i(this.h[4],O),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],G),this.h[7]=i(this.h[7],I)},g.prototype._digest=function(v){return v==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},D5}var B5,vR;function bpe(){if(vR)return B5;vR=1;var e=bl(),t=oU();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),B5=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},B5}var F5,yR;function lU(){if(yR)return F5;yR=1;var e=bl(),t=Kg(),r=Gg(),n=e.rotr64_hi,i=e.rotr64_lo,s=e.shr64_hi,o=e.shr64_lo,a=e.sum64,l=e.sum64_hi,c=e.sum64_lo,u=e.sum64_4_hi,h=e.sum64_4_lo,f=e.sum64_5_hi,d=e.sum64_5_lo,p=t.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}e.inherits(m,p),F5=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(S,j){for(var k=this.W,E=0;E<32;E++)k[E]=S[j+E];for(;E<k.length;E+=2){var A=G(k[E-4],k[E-3]),C=I(k[E-4],k[E-3]),D=k[E-14],z=k[E-13],P=O(k[E-30],k[E-29]),K=H(k[E-30],k[E-29]),Z=k[E-32],te=k[E-31];k[E]=u(A,C,D,z,P,K,Z,te),k[E+1]=h(A,C,D,z,P,K,Z,te)}},m.prototype._update=function(S,j){this._prepareBlock(S,j);var k=this.W,E=this.h[0],A=this.h[1],C=this.h[2],D=this.h[3],z=this.h[4],P=this.h[5],K=this.h[6],Z=this.h[7],te=this.h[8],q=this.h[9],$=this.h[10],N=this.h[11],T=this.h[12],V=this.h[13],J=this.h[14],re=this.h[15];r(this.k.length===k.length);for(var se=0;se<k.length;se+=2){var B=J,ne=re,ee=U(te,q),F=L(te,q),W=v(te,q,$,N,T),Y=y(te,q,$,N,T,V),ae=this.k[se],ce=this.k[se+1],le=k[se],de=k[se+1],me=f(B,ne,ee,F,W,Y,ae,ce,le,de),ge=d(B,ne,ee,F,W,Y,ae,ce,le,de);B=_(E,A),ne=M(E,A),ee=x(E,A,C,D,z),F=w(E,A,C,D,z,P);var ke=l(B,ne,ee,F),Re=c(B,ne,ee,F);J=T,re=V,T=$,V=N,$=te,N=q,te=l(K,Z,me,ge),q=c(Z,Z,me,ge),K=z,Z=P,z=C,P=D,C=E,D=A,E=l(me,ge,ke,Re),A=c(me,ge,ke,Re)}a(this.h,0,E,A),a(this.h,2,C,D),a(this.h,4,z,P),a(this.h,6,K,Z),a(this.h,8,te,q),a(this.h,10,$,N),a(this.h,12,T,V),a(this.h,14,J,re)},m.prototype._digest=function(S){return S==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function v(R,S,j,k,E){var A=R&j^~R&E;return A<0&&(A+=4294967296),A}function y(R,S,j,k,E,A){var C=S&k^~S&A;return C<0&&(C+=4294967296),C}function x(R,S,j,k,E){var A=R&j^R&E^j&E;return A<0&&(A+=4294967296),A}function w(R,S,j,k,E,A){var C=S&k^S&A^k&A;return C<0&&(C+=4294967296),C}function _(R,S){var j=n(R,S,28),k=n(S,R,2),E=n(S,R,7),A=j^k^E;return A<0&&(A+=4294967296),A}function M(R,S){var j=i(R,S,28),k=i(S,R,2),E=i(S,R,7),A=j^k^E;return A<0&&(A+=4294967296),A}function U(R,S){var j=n(R,S,14),k=n(R,S,18),E=n(S,R,9),A=j^k^E;return A<0&&(A+=4294967296),A}function L(R,S){var j=i(R,S,14),k=i(R,S,18),E=i(S,R,9),A=j^k^E;return A<0&&(A+=4294967296),A}function O(R,S){var j=n(R,S,1),k=n(R,S,8),E=s(R,S,7),A=j^k^E;return A<0&&(A+=4294967296),A}function H(R,S){var j=i(R,S,1),k=i(R,S,8),E=o(R,S,7),A=j^k^E;return A<0&&(A+=4294967296),A}function G(R,S){var j=n(R,S,19),k=n(S,R,29),E=s(R,S,6),A=j^k^E;return A<0&&(A+=4294967296),A}function I(R,S){var j=i(R,S,19),k=i(S,R,29),E=o(R,S,6),A=j^k^E;return A<0&&(A+=4294967296),A}return F5}var z5,bR;function xpe(){if(bR)return z5;bR=1;var e=bl(),t=lU();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),z5=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},z5}var xR;function wpe(){return xR||(xR=1,wd.sha1=ype(),wd.sha224=bpe(),wd.sha256=oU(),wd.sha384=xpe(),wd.sha512=lU()),wd}var U5={},wR;function _pe(){if(wR)return U5;wR=1;var e=bl(),t=Kg(),r=e.rotl32,n=e.sum32,i=e.sum32_3,s=e.sum32_4,o=t.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(a,o),U5.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(m,v){for(var y=this.h[0],x=this.h[1],w=this.h[2],_=this.h[3],M=this.h[4],U=y,L=x,O=w,H=_,G=M,I=0;I<80;I++){var R=n(r(s(y,l(I,x,w,_),m[h[I]+v],c(I)),d[I]),M);y=M,M=_,_=r(w,10),w=x,x=R,R=n(r(s(U,l(79-I,L,O,H),m[f[I]+v],u(I)),p[I]),G),U=G,G=H,H=r(O,10),O=L,L=R}R=i(this.h[1],w,H),this.h[1]=i(this.h[2],_,G),this.h[2]=i(this.h[3],M,U),this.h[3]=i(this.h[4],y,L),this.h[4]=i(this.h[0],x,O),this.h[0]=R},a.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function l(g,m,v,y){return g<=15?m^v^y:g<=31?m&v|~m&y:g<=47?(m|~v)^y:g<=63?m&y|v&~y:m^(v|~y)}function c(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return U5}var $5,_R;function Spe(){if(_R)return $5;_R=1;var e=bl(),t=Gg();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,s))}return $5=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},$5}var SR;function Epe(){return SR||(SR=1,function(e){var t=e;t.utils=bl(),t.common=Kg(),t.sha=wpe(),t.ripemd=_pe(),t.hmac=Spe(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(O5)),O5}Epe();let kpe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Npe=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},Ape=(e=21)=>{let t="",r=e|0;for(;r--;)t+=kpe[Math.random()*64|0];return t};const lo=e=>Math.floor(e*72*20),ME=(e=0)=>{let t=e;return()=>++t},Cpe=()=>ME(),jpe=()=>ME(1),Tpe=()=>ME(),Rpe=()=>Ape().toLowerCase(),Am=e=>Npe("1234567890abcdef",e)(),Ppe=()=>`${Am(8)}-${Am(4)}-${Am(4)}-${Am(4)}-${Am(12)}`;class Ope extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class Ipe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Mpe={EXTERNAL:"External"};class Lpe extends lt{constructor(t,r,n,i){super("Relationship"),this.root.push(new Ipe({id:t,type:r,target:n,targetMode:i}))}}class Nh extends lt{constructor(){super("Relationships"),this.root.push(new Ope({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const s=new Lpe(`rId${t}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class Dpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Bpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Fpe extends lt{constructor({id:t,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new Dpe({id:t,initials:r,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class zpe extends lt{constructor({children:t}){super("w:comments"),tt(this,"relationships"),this.root.push(new Bpe({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new Fpe(r));this.relationships=new Nh}get Relationships(){return this.relationships}}class Upe extends lt{constructor(){super("w:pageBreakBefore")}}const c6={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class $pe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Hpe extends lt{constructor(t){super("w:spacing"),this.root.push(new $pe(t))}}const ER={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Iv=class extends lt{constructor(t){super("w:pStyle"),this.root.push(new fi({val:t}))}};class Wpe extends lt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new Vpe(r))}}const kR={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class qpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Vpe extends lt{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new qpe({val:t,pos:r,leader:n}))}}class H5 extends lt{constructor(t,r){super("w:numPr"),this.root.push(new Gpe(r)),this.root.push(new Kpe(t))}}class Gpe extends lt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new fi({val:t}))}}class Kpe extends lt{constructor(t){super("w:numId"),this.root.push(new fi({val:typeof t=="string"?`{${t}}`:t}))}}class Xpe extends lt{constructor(){super(...arguments),tt(this,"fileChild",Symbol())}}class Zpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Ype extends lt{constructor(t,r,n){super("w:hyperlink"),tt(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Zpe(i);this.root.push(s),t.forEach(o=>{this.root.push(o)})}}class Jpe extends lt{constructor(t){super("w:externalHyperlink"),this.options=t}}class Qpe extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class eme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id"})}}class tme{constructor(t){tt(this,"bookmarkUniqueNumericId",Tpe()),tt(this,"start"),tt(this,"children"),tt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new rme(t.id,r),this.children=t.children,this.end=new nme(r)}}class rme extends lt{constructor(t,r){super("w:bookmarkStart");const n=new Qpe({name:t,id:r});this.root.push(n)}}class nme extends lt{constructor(t){super("w:bookmarkEnd");const r=new eme({id:t});this.root.push(r)}}class ime extends lt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new fi({val:t}))}}const sme={TOP:"top",CENTER:"center",BOTTOM:"bottom"};rp(Vr({},sme),{BOTH:"both"});class ame extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{verticalAlign:"w:val"})}}class ome extends lt{constructor(t){super("w:vAlign"),this.root.push(new ame({verticalAlign:t}))}}class lme extends lt{constructor({space:t,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new K2({space:{key:"w:space",value:t===void 0?void 0:mo(t)},count:{key:"w:num",value:r===void 0?void 0:ea(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const cme=({type:e,linePitch:t,charSpace:r})=>new hl({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:ea(t)},charSpace:{key:"w:charSpace",value:r?ea(r):void 0}}}),Rf={DEFAULT:"default",FIRST:"first",EVEN:"even"};class ume extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const NR={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class W5 extends lt{constructor(t,r){super(t),this.root.push(new ume({type:r.type||Rf.DEFAULT,id:`rId${r.id}`}))}}const dme=({countBy:e,start:t,restart:r,distance:n})=>new hl({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:ea(e)},start:{key:"w:start",value:t===void 0?void 0:ea(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:mo(n)}}});class AR extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class hme extends G2{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new AR({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new AR({})),t.pageBorderTop&&this.root.push(new Vn("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Vn("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Vn("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Vn("w:right",t.pageBorderRight))}}class fme extends lt{constructor(t,r,n,i,s,o,a){super("w:pgMar"),this.root.push(new K2({top:{key:"w:top",value:Ud(t)},right:{key:"w:right",value:mo(r)},bottom:{key:"w:bottom",value:Ud(n)},left:{key:"w:left",value:mo(i)},header:{key:"w:header",value:mo(s)},footer:{key:"w:footer",value:mo(o)},gutter:{key:"w:gutter",value:mo(a)}}))}}class pme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class mme extends lt{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new pme({start:t===void 0?void 0:ea(t),formatType:r,separator:n}))}}const u6={PORTRAIT:"portrait",LANDSCAPE:"landscape"},gme=({width:e,height:t,orientation:r,code:n})=>{const i=mo(e),s=mo(t);return new hl({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===u6.LANDSCAPE?s:i},height:{key:"w:h",value:r===u6.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class vme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class yme extends lt{constructor(t){super("w:textDirection"),this.root.push(new vme({val:t}))}}class bme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class xme extends lt{constructor(t){super("w:type"),this.root.push(new bme({val:t}))}}const _d={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},q5={WIDTH:11906,HEIGHT:16838,ORIENTATION:u6.PORTRAIT};class wme extends lt{constructor({page:{size:{width:t=q5.WIDTH,height:r=q5.HEIGHT,orientation:n=q5.ORIENTATION}={},margin:{top:i=_d.TOP,right:s=_d.RIGHT,bottom:o=_d.BOTTOM,left:a=_d.LEFT,header:l=_d.HEADER,footer:c=_d.FOOTER,gutter:u=_d.GUTTER}={},pageNumbers:h={},borders:f,textDirection:d}={},grid:{linePitch:p=360,charSpace:g,type:m}={},headerWrapperGroup:v={},footerWrapperGroup:y={},lineNumbers:x,titlePage:w,verticalAlign:_,column:M,type:U}={}){super("w:sectPr"),this.addHeaderFooterGroup(NR.HEADER,v),this.addHeaderFooterGroup(NR.FOOTER,y),U&&this.root.push(new xme(U)),this.root.push(gme({width:t,height:r,orientation:n})),this.root.push(new fme(i,s,o,a,l,c,u)),f&&this.root.push(new hme(f)),x&&this.root.push(dme(x)),this.root.push(new mme(h)),M&&this.root.push(new lme(M)),_&&this.root.push(new ome(_)),w!==void 0&&this.root.push(new ut("w:titlePg",w)),d&&this.root.push(new yme(d)),this.root.push(cme({linePitch:p,charSpace:g,type:m}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new W5(t,{type:Rf.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new W5(t,{type:Rf.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new W5(t,{type:Rf.EVEN,id:r.even.View.ReferenceId}))}}class _me extends lt{constructor(){super("w:body"),tt(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new wme(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Hl({}),n=new op({});return n.push(t),r.addChildElement(n),r}}const CR={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Q2 extends ur{constructor(t,r){super(Vr({Ignorable:r},Object.fromEntries(t.map(n=>[n,CR[n]])))),tt(this,"xmlKeys",Vr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(CR).map(n=>[n,`xmlns:${n}`]))))}}class Sme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Eme extends lt{constructor(t){super("w:background"),this.root.push(new Sme({color:t.color===void 0?void 0:ip(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:oR(t.themeShade),themeTint:t.themeTint===void 0?void 0:oR(t.themeTint)}))}}class kme extends lt{constructor(t){super("w:document"),tt(this,"body"),this.root.push(new Q2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new _me,t.background&&this.root.push(new Eme(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class cU{constructor(t){tt(this,"document"),tt(this,"relationships"),this.document=new kme(t),this.relationships=new Nh}get View(){return this.document}get Relationships(){return this.relationships}}class Nme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Ame extends lt{constructor(){super("w:wordWrap"),this.root.push(new Nme({val:0}))}}const Cme=e=>{var t,r;return new hl({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class op extends G2{constructor(t){var r,n;if(super("w:pPr"),tt(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Iv(t.heading)),t.bullet&&this.push(new Iv("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Iv("ListParagraph"))),t.style&&this.push(new Iv(t.style)),t.keepNext!==void 0&&this.push(new ut("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new ut("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new Upe),t.frame&&this.push(Cme(t.frame)),t.widowControl!==void 0&&this.push(new ut("w:widowControl",t.widowControl)),t.bullet&&this.push(new H5(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new H5(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new H5(0,0)),t.border&&this.push(new Zfe(t.border)),t.thematicBreak&&this.push(new Yfe),t.shading&&this.push(new nU(t.shading)),t.wordWrap&&this.push(new Ame),t.overflowPunctuation&&this.push(new ut("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:kR.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:kR.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new Wpe(i)),t.bidirectional!==void 0&&this.push(new ut("w:bidi",t.bidirectional)),t.spacing&&this.push(new Hpe(t.spacing)),t.indent&&this.push(new Jfe(t.indent)),t.contextualSpacing!==void 0&&this.push(new ut("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new Kfe(t.alignment)),t.outlineLevel!==void 0&&this.push(new ime(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new ut("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new ut("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new kh(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof cU)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Hl extends Xpe{constructor(t){if(super("w:p"),tt(this,"properties"),typeof t=="string")return this.properties=new op({}),this.root.push(this.properties),this.root.push(new uR(t)),this;if(this.properties=new op(t),this.root.push(this.properties),t.text&&this.root.push(new uR(t.text)),t.children)for(const r of t.children){if(r instanceof tme){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof Jpe){const n=this.root.indexOf(r),i=new Ype(r.options.children,Rpe());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Mpe.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const ef={style:PE.NONE,size:0,color:"auto"},tf={style:PE.SINGLE,size:4,color:"auto"};class jme extends lt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Vn("w:top",t.top)):this.root.push(new Vn("w:top",tf)),t.left?this.root.push(new Vn("w:left",t.left)):this.root.push(new Vn("w:left",tf)),t.bottom?this.root.push(new Vn("w:bottom",t.bottom)):this.root.push(new Vn("w:bottom",tf)),t.right?this.root.push(new Vn("w:right",t.right)):this.root.push(new Vn("w:right",tf)),t.insideHorizontal?this.root.push(new Vn("w:insideH",t.insideHorizontal)):this.root.push(new Vn("w:insideH",tf)),t.insideVertical?this.root.push(new Vn("w:insideV",t.insideVertical)):this.root.push(new Vn("w:insideV",tf))}}tt(jme,"NONE",{top:ef,bottom:ef,left:ef,right:ef,insideHorizontal:ef,insideVertical:ef});class Tme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Rme extends lt{constructor(){super("Properties"),this.root.push(new Tme({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Pme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class Ome extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Il extends lt{constructor(t,r){super("Default"),this.root.push(new Ome({contentType:t,extension:r}))}}class Ime extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ma extends lt{constructor(t,r){super("Override"),this.root.push(new Ime({contentType:t,partName:r}))}}class Mme extends lt{constructor(){super("Types"),this.root.push(new Pme({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Il("image/png","png")),this.root.push(new Il("image/jpeg","jpeg")),this.root.push(new Il("image/jpeg","jpg")),this.root.push(new Il("image/bmp","bmp")),this.root.push(new Il("image/gif","gif")),this.root.push(new Il("image/svg+xml","svg")),this.root.push(new Il("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Il("application/xml","xml")),this.root.push(new Il("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ma("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Ma("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class Lme extends lt{constructor(t){super("cp:coreProperties"),this.root.push(new Q2(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new xd("dc:title",t.title)),t.subject&&this.root.push(new xd("dc:subject",t.subject)),t.creator&&this.root.push(new xd("dc:creator",t.creator)),t.keywords&&this.root.push(new xd("cp:keywords",t.keywords)),t.description&&this.root.push(new xd("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new xd("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new xd("cp:revision",String(t.revision))),this.root.push(new jR("dcterms:created")),this.root.push(new jR("dcterms:modified"))}}class Dme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"xsi:type"})}}class jR extends lt{constructor(t){super(t),this.root.push(new Dme({type:"dcterms:W3CDTF"})),this.root.push(Vfe(new Date))}}class Bme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Fme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class zme extends lt{constructor(t,r){super("property"),this.root.push(new Fme({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new Ume(r.value))}}class Ume extends lt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class $me extends lt{constructor(t){super("Properties"),tt(this,"nextId"),tt(this,"properties",[]),this.root.push(new Bme({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new zme(this.nextId++,t))}}const Mv=({id:e,fontKey:t,subsetted:r},n)=>new hl({name:n,attributes:Vr({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new ut("w:subsetted",r)]:[]]}),Hme=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:h})=>new hl({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Nm("w:altName",t)]:[],...r?[Nm("w:panose1",r)]:[],...n?[Nm("w:charset",n)]:[],Nm("w:family",i),...s?[new ut("w:notTrueType",s)]:[],Nm("w:pitch",o),...a?[new hl({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[Mv(l,"w:embedRegular")]:[],...c?[Mv(c,"w:embedBold")]:[],...u?[Mv(u,"w:embedItalic")]:[],...h?[Mv(h,"w:embedBoldItalic")]:[]]}),Wme=({name:e,index:t,fontKey:r,characterSet:n})=>Hme({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),qme=e=>new hl({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>Wme({name:t.name,index:r+1,fontKey:t.fontKey}))});class Vme{constructor(t){tt(this,"fontTable"),tt(this,"relationships"),tt(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>rp(Vr({},r),{fontKey:Ppe()})),this.fontTable=qme(this.fontOptionsWithKey),this.relationships=new Nh;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Gme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Kme=class extends Qz{constructor(t,r){super("w:ftr",r),tt(this,"refId"),this.refId=t,r||this.root.push(new Gme({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class Xme{constructor(t,r,n){tt(this,"footer"),tt(this,"relationships"),this.media=t,this.footer=new Kme(r,n),this.relationships=new Nh}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Zme extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Yme extends lt{constructor(){super("w:footnoteRef")}}class Jme extends J2{constructor(){super({style:"FootnoteReference"}),this.root.push(new Yme)}}const TR={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class V5 extends lt{constructor(t){super("w:footnote"),this.root.push(new Zme({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new Jme),this.root.push(n)}}}class Qme extends lt{constructor(){super("w:continuationSeparator")}}class e0e extends J2{constructor(){super({}),this.root.push(new Qme)}}class t0e extends lt{constructor(){super("w:separator")}}class r0e extends J2{constructor(){super({}),this.root.push(new t0e)}}class n0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class i0e extends lt{constructor(){super("w:footnotes"),this.root.push(new n0e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new V5({id:-1,type:TR.SEPERATOR,children:[new Hl({spacing:{after:0,line:240,lineRule:c6.AUTO},children:[new r0e]})]});this.root.push(t);const r=new V5({id:0,type:TR.CONTINUATION_SEPERATOR,children:[new Hl({spacing:{after:0,line:240,lineRule:c6.AUTO},children:[new e0e]})]});this.root.push(r)}createFootNote(t,r){const n=new V5({id:t,children:r});this.root.push(n)}}class s0e{constructor(){tt(this,"footnotess"),tt(this,"relationships"),this.footnotess=new i0e,this.relationships=new Nh}get View(){return this.footnotess}get Relationships(){return this.relationships}}class a0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let o0e=class extends Qz{constructor(t,r){super("w:hdr",r),tt(this,"refId"),this.refId=t,r||this.root.push(new a0e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class l0e{constructor(t,r,n){tt(this,"header"),tt(this,"relationships"),this.media=t,this.header=new o0e(r,n),this.relationships=new Nh}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class c0e{constructor(){tt(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const Ml={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class u0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class d0e extends lt{constructor(t){super("w:numFmt"),this.root.push(new fi({val:t}))}}class h0e extends lt{constructor(t){super("w:lvlText"),this.root.push(new fi({val:t}))}}class f0e extends lt{constructor(t){super("w:lvlJc"),this.root.push(new fi({val:t}))}}class p0e extends lt{constructor(t){super("w:suff"),this.root.push(new fi({val:t}))}}class m0e extends lt{constructor(){super("w:isLgl")}}class g0e extends lt{constructor({level:t,format:r,text:n,alignment:i=ma.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.root.push(new d0("w:start",ea(s))),r&&this.root.push(new d0e(r)),a&&this.root.push(new p0e(a)),l&&this.root.push(new m0e),n&&this.root.push(new h0e(n)),this.root.push(new f0e(i)),this.paragraphProperties=new op(o&&o.paragraph),this.runProperties=new kh(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new u0e({ilvl:ea(t),tentative:1}))}}class v0e extends g0e{}class y0e extends lt{constructor(t){super("w:multiLevelType"),this.root.push(new fi({val:t}))}}class b0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class RR extends lt{constructor(t,r){super("w:abstractNum"),tt(this,"id"),this.root.push(new b0e({abstractNumId:ea(t),restartNumberingAfterBreak:0})),this.root.push(new y0e("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new v0e(n))}}class x0e extends lt{constructor(t){super("w:abstractNumId"),this.root.push(new fi({val:t}))}}class w0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{numId:"w:numId"})}}class PR extends lt{constructor(t){if(super("w:num"),tt(this,"numId"),tt(this,"reference"),tt(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new w0e({numId:ea(t.numId)})),this.root.push(new x0e(ea(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new S0e(r.num,r.start))}}class _0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class S0e extends lt{constructor(t,r){super("w:lvlOverride"),this.root.push(new _0e({ilvl:t})),r!==void 0&&this.root.push(new k0e(r))}}class E0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class k0e extends lt{constructor(t){super("w:startOverride"),this.root.push(new E0e({val:t}))}}class N0e extends lt{constructor(t){super("w:numbering"),tt(this,"abstractNumberingMap",new Map),tt(this,"concreteNumberingMap",new Map),tt(this,"referenceConfigMap",new Map),tt(this,"abstractNumUniqueNumericId",Cpe()),tt(this,"concreteNumUniqueNumericId",jpe()),this.root.push(new Q2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new RR(this.abstractNumUniqueNumericId(),[{level:0,format:Ml.BULLET,text:"●",alignment:ma.LEFT,style:{paragraph:{indent:{left:lo(.5),hanging:lo(.25)}}}},{level:1,format:Ml.BULLET,text:"○",alignment:ma.LEFT,style:{paragraph:{indent:{left:lo(1),hanging:lo(.25)}}}},{level:2,format:Ml.BULLET,text:"■",alignment:ma.LEFT,style:{paragraph:{indent:{left:2160,hanging:lo(.25)}}}},{level:3,format:Ml.BULLET,text:"●",alignment:ma.LEFT,style:{paragraph:{indent:{left:2880,hanging:lo(.25)}}}},{level:4,format:Ml.BULLET,text:"○",alignment:ma.LEFT,style:{paragraph:{indent:{left:3600,hanging:lo(.25)}}}},{level:5,format:Ml.BULLET,text:"■",alignment:ma.LEFT,style:{paragraph:{indent:{left:4320,hanging:lo(.25)}}}},{level:6,format:Ml.BULLET,text:"●",alignment:ma.LEFT,style:{paragraph:{indent:{left:5040,hanging:lo(.25)}}}},{level:7,format:Ml.BULLET,text:"●",alignment:ma.LEFT,style:{paragraph:{indent:{left:5760,hanging:lo(.25)}}}},{level:8,format:Ml.BULLET,text:"●",alignment:ma.LEFT,style:{paragraph:{indent:{left:6480,hanging:lo(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new PR({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new RR(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(t),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new PR(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class A0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class C0e extends lt{constructor(t){super("w:compatSetting"),this.root.push(new A0e({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class j0e extends lt{constructor(t){super("w:compat"),t.version&&this.root.push(new C0e(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new ut("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new ut("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new ut("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new ut("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new ut("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new ut("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new ut("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new ut("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new ut("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new ut("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new ut("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new ut("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new ut("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new ut("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new ut("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new ut("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new ut("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new ut("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new ut("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new ut("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new ut("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new ut("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new ut("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new ut("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new ut("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new ut("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new ut("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new ut("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new ut("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new ut("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new ut("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new ut("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new ut("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new ut("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new ut("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new ut("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new ut("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ut("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new ut("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new ut("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new ut("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new ut("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new ut("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new ut("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new ut("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new ut("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new ut("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new ut("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new ut("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new ut("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new ut("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new ut("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new ut("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new ut("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new ut("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new ut("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new ut("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new ut("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new ut("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new ut("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new ut("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new ut("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ut("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new ut("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new ut("w:cachedColBalance",t.cachedColumnBalance))}}class T0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class R0e extends lt{constructor(t){var r,n,i,s,o,a,l,c;super("w:settings"),this.root.push(new T0e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ut("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new ut("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new ut("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new ut("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new d0("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new ut("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new d0("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new d0("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((s=t.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new ut("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new j0e(rp(Vr({},(o=t.compatibility)!=null?o:{}),{version:(c=(l=(a=t.compatibility)==null?void 0:a.version)!=null?l:t.compatibilityModeVersion)!=null?c:15})))}}class uU extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class P0e extends lt{constructor(t){super("w:name"),this.root.push(new uU({val:t}))}}class O0e extends lt{constructor(t){super("w:uiPriority"),this.root.push(new uU({val:ea(t)}))}}class I0e extends ur{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class dU extends lt{constructor(t,r){super("w:style"),this.root.push(new I0e(t)),r.name&&this.root.push(new P0e(r.name)),r.basedOn&&this.root.push(new Tf("w:basedOn",r.basedOn)),r.next&&this.root.push(new Tf("w:next",r.next)),r.link&&this.root.push(new Tf("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new O0e(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ut("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ut("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ut("w:qFormat",r.quickFormat))}}class ex extends dU{constructor(t){super({type:"paragraph",styleId:t.id},t),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.paragraphProperties=new op(t.paragraph),this.runProperties=new kh(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class tx extends dU{constructor(t){super({type:"character",styleId:t.id},Vr({uiPriority:99,unhideWhenUsed:!0},t)),tt(this,"runProperties"),this.runProperties=new kh(t.run),this.root.push(this.runProperties)}}class Yu extends ex{constructor(t){super(Vr({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class M0e extends Yu{constructor(t){super(Vr({id:"Title",name:"Title"},t))}}class L0e extends Yu{constructor(t){super(Vr({id:"Heading1",name:"Heading 1"},t))}}class D0e extends Yu{constructor(t){super(Vr({id:"Heading2",name:"Heading 2"},t))}}class B0e extends Yu{constructor(t){super(Vr({id:"Heading3",name:"Heading 3"},t))}}class F0e extends Yu{constructor(t){super(Vr({id:"Heading4",name:"Heading 4"},t))}}class z0e extends Yu{constructor(t){super(Vr({id:"Heading5",name:"Heading 5"},t))}}class U0e extends Yu{constructor(t){super(Vr({id:"Heading6",name:"Heading 6"},t))}}class $0e extends Yu{constructor(t){super(Vr({id:"Strong",name:"Strong"},t))}}class H0e extends ex{constructor(t){super(Vr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class W0e extends ex{constructor(t){super(Vr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:c6.AUTO}},run:{size:20}},t))}}class q0e extends tx{constructor(t){super(Vr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class V0e extends tx{constructor(t){super(Vr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class G0e extends tx{constructor(t){super(Vr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:sU.SINGLE}}},t))}}class d6 extends lt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new ex(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new tx(r))}}class K0e extends lt{constructor(t){super("w:pPrDefault"),this.root.push(new op(t))}}class X0e extends lt{constructor(t){super("w:rPrDefault"),this.root.push(new kh(t))}}class Z0e extends lt{constructor(t){super("w:docDefaults"),tt(this,"runPropertiesDefaults"),tt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new X0e(t.run),this.paragraphPropertiesDefaults=new K0e(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Y0e{newInstance(t){const r=Jz.xml2js(t,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new d6({initialStyles:new $fe(n.attributes),importedStyles:i.map(o=>RE(o))})}}class OR{newInstance(t={}){var r;return{initialStyles:new Q2(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new Z0e((r=t.document)!=null?r:{}),new M0e(Vr({run:{size:56}},t.title)),new L0e(Vr({run:{color:"2E74B5",size:32}},t.heading1)),new D0e(Vr({run:{color:"2E74B5",size:26}},t.heading2)),new B0e(Vr({run:{color:"1F4D78",size:24}},t.heading3)),new F0e(Vr({run:{color:"2E74B5",italics:!0}},t.heading4)),new z0e(Vr({run:{color:"2E74B5"}},t.heading5)),new U0e(Vr({run:{color:"1F4D78"}},t.heading6)),new $0e(Vr({run:{bold:!0}},t.strong)),new H0e(t.listParagraph||{}),new G0e(t.hyperlink||{}),new q0e(t.footnoteReference||{}),new W0e(t.footnoteText||{}),new V0e(t.footnoteTextChar||{})]}}}class J0e{constructor(t){tt(this,"currentRelationshipId",1),tt(this,"documentWrapper"),tt(this,"headers",[]),tt(this,"footers",[]),tt(this,"coreProperties"),tt(this,"numbering"),tt(this,"media"),tt(this,"fileRelationships"),tt(this,"footnotesWrapper"),tt(this,"settings"),tt(this,"contentTypes"),tt(this,"customProperties"),tt(this,"appProperties"),tt(this,"styles"),tt(this,"comments"),tt(this,"fontWrapper");var r,n,i,s,o,a,l,c,u,h,f,d;if(this.coreProperties=new Lme(rp(Vr({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new N0e(t.numbering?t.numbering:{config:[]}),this.comments=new zpe((s=t.comments)!=null?s:{children:[]}),this.fileRelationships=new Nh,this.customProperties=new $me((o=t.customProperties)!=null?o:[]),this.appProperties=new Rme,this.footnotesWrapper=new s0e,this.contentTypes=new Mme,this.documentWrapper=new cU({background:t.background}),this.settings=new R0e({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(a=t.features)==null?void 0:a.trackRevisions,updateFields:(l=t.features)==null?void 0:l.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(c=t.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(u=t.hyphenation)==null?void 0:u.hyphenationZone,consecutiveHyphenLimit:(h=t.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(f=t.hyphenation)==null?void 0:f.doNotHyphenateCaps}}),this.media=new c0e,t.externalStyles!==void 0){const p=new Y0e;this.styles=p.newInstance(t.externalStyles)}else if(t.styles){const g=new OR().newInstance(t.styles.default);this.styles=new d6(Vr(Vr({},g),t.styles))}else{const p=new OR;this.styles=new d6(p.newInstance())}this.addDefaultRelationships();for(const p of t.sections)this.addSection(p);if(t.footnotes)for(const p in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(p),t.footnotes[p].children);this.fontWrapper=new Vme((d=t.fonts)!=null?d:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(rp(Vr({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(t){const r=new l0e(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new Xme(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Rf.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Rf.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Q0e=CE();function Lv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var G5={exports:{}},IR;function ege(){return IR||(IR=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof Lv=="function"&&Lv;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){var g=n[c][1][p];return o(g||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof Lv=="function"&&Lv,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,f,d,p,g,m=[],v=0,y=l.length,x=y,w=s.getTypeOf(l)!=="string";v<l.length;)x=y-v,h=w?(c=l[v++],u=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),u=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=c>>2,d=(3&c)<<4|u>>4,p=1<x?(15&u)<<2|h>>6:64,g=2<x?63&h:64,m.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return m.join("")},i.decode=function(l){var c,u,h,f,d,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|x):new Array(0|x);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,u=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),y[m++]=c,d!==64&&(y[m++]=u),p!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,f,d,p){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u[g])];return-1^c}(0|l,a,a.length,0):function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function o(d,p,g,m,v,y){var x,w,_=d.file,M=d.compression,U=y!==c.utf8encode,L=a.transformTo("string",y(_.name)),O=a.transformTo("string",c.utf8encode(_.name)),H=_.comment,G=a.transformTo("string",y(H)),I=a.transformTo("string",c.utf8encode(H)),R=O.length!==_.name.length,S=I.length!==H.length,j="",k="",E="",A=_.dir,C=_.date,D={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(D.crc32=d.crc32,D.compressedSize=d.compressedSize,D.uncompressedSize=d.uncompressedSize);var z=0;p&&(z|=8),U||!R&&!S||(z|=2048);var P=0,K=0;A&&(P|=16),v==="UNIX"?(K=798,P|=function(te,q){var $=te;return te||($=q?16893:33204),(65535&$)<<16}(_.unixPermissions,A)):(K=20,P|=function(te){return 63&(te||0)}(_.dosPermissions)),x=C.getUTCHours(),x<<=6,x|=C.getUTCMinutes(),x<<=5,x|=C.getUTCSeconds()/2,w=C.getUTCFullYear()-1980,w<<=4,w|=C.getUTCMonth()+1,w<<=5,w|=C.getUTCDate(),R&&(k=s(1,1)+s(u(L),4)+O,j+="up"+s(k.length,2)+k),S&&(E=s(1,1)+s(u(G),4)+I,j+="uc"+s(E.length,2)+E);var Z="";return Z+=`
\0`,Z+=s(z,2),Z+=M.magic,Z+=s(x,2),Z+=s(w,2),Z+=s(D.crc32,4),Z+=s(D.compressedSize,4),Z+=s(D.uncompressedSize,4),Z+=s(L.length,2),Z+=s(j.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Z+L+j,dirRecord:h.CENTRAL_FILE_HEADER+s(K,2)+Z+s(G.length,2)+"\0\0\0\0"+s(P,4)+s(m,4)+L+j+G}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function f(d,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return h.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,m=function(v,y,x,w,_){var M=a.transformTo("string",_(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(y,4)+s(x,4)+s(M.length,2)+M}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,d){h++;var p=function(y,x){var w=y||x,_=s[w];if(!_)throw new Error(w+" is not a valid compression method !");return _}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:m,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new l(d);return m.load(g),m}).then(function(g){var m=[o.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var y=0;y<v.length;y++)m.push(h(v[y]));return o.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,y=0;y<v.length;y++){var x=v[y],w=x.fileNameStr,_=s.resolve(x.fileNameStr);p.file(_,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:d.createFolders}),x.dir||(p.file(_).unsafeOriginalName=w)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(_,M,U){var L,O=a.getTypeOf(M),H=a.extend(U||{},u);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(_=v(_)),H.createFolders&&(L=m(_))&&y.call(this,L,!0);var G=O==="string"&&H.binary===!1&&H.base64===!1;U&&U.binary!==void 0||(H.binary=!G),(M instanceof h&&M.uncompressedSize===0||H.dir||!M||M.length===0)&&(H.base64=!1,H.binary=!0,M="",H.compression="STORE",O="string");var I=null;I=M instanceof h||M instanceof l?M:p.isNode&&p.isStream(M)?new g(_,M):a.prepareContent(_,M,H.binary,H.optimizedBinaryString,H.base64);var R=new f(_,I,H);this.files[_]=R}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),m=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var M=_.lastIndexOf("/");return 0<M?_.substring(0,M):""},v=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,M){return M=M!==void 0?M:u.createFolders,_=v(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:M}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var M,U,L;for(M in this.files)L=this.files[M],(U=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&_(U,L)},filter:function(_){var M=[];return this.forEach(function(U,L){_(U,L)&&M.push(L)}),M},file:function(_,M,U){if(arguments.length!==1)return _=this.root+_,s.call(this,_,M,U),this;if(x(_)){var L=_;return this.filter(function(H,G){return!G.dir&&L.test(H)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(O,H){return H.dir&&_.test(O)});var M=this.root+_,U=y.call(this,M),L=this.clone();return L.root=U.name,L},remove:function(_){_=this.root+_;var M=this.files[_];if(M||(_.slice(-1)!=="/"&&(_+="/"),M=this.files[_]),M&&!M.dir)delete this.files[_];else for(var U=this.filter(function(O,H){return H.name.slice(0,_.length)===_}),L=0;L<U.length;L++)delete this.files[U[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var M,U={};try{if((U=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");a.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var L=U.comment||this.comment||"";M=d.generateWorker(this,U,L)}catch(O){(M=new l("error")).error(O)}return new c(M,U.type||"string",U.mimeType)},generateAsync:function(_,M){return this.generateInternalStream(_).accumulate(M)},generateNodeStream:function(_,M){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(M)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new u.Promise(function(m,v){var y=[],x=p._internalType,w=p._outputType,_=p._mimeType;p.on("data",function(M,U){y.push(M),g&&g(U)}).on("error",function(M){y=[],v(M)}).on("end",function(){try{var M=function(U,L,O){switch(U){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),O);case"base64":return l.encode(L);default:return s.transformTo(U,L)}}(w,function(U,L){var O,H=0,G=null,I=0;for(O=0;O<L.length;O++)I+=L[O].length;switch(U){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(G=new Uint8Array(I),O=0;O<L.length;O++)G.set(L[O],H),H+=L[O].length;return G;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+U+"'")}}(x,y),_);m(M)}catch(U){v(U)}y=[]}).resume()})}function d(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,s.checkSupport(v),this._worker=p.pipe(new o(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,m,v,y,x,w=p.length,_=0;for(y=0;y<w;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(g=o.uint8array?new Uint8Array(_):new Array(_),y=x=0;x<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[x++]=m:(m<2048?g[x++]=192|m>>>6:(m<65536?g[x++]=224|m>>>12:(g[x++]=240|m>>>18,g[x++]=128|m>>>12&63),g[x++]=128|m>>>6&63),g[x++]=128|63&m);return g}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,m,v,y,x=p.length,w=new Array(2*x);for(g=m=0;g<x;)if((v=p[g++])<128)w[m++]=v;else if(4<(y=c[v]))w[m++]=65533,g+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&g<x;)v=v<<6|63&p[g++],y--;1<y?w[m++]=65533:v<65536?w[m++]=v:(v-=65536,w[m++]=55296|v>>10&1023,w[m++]=56320|1023&v)}return w.length!==m&&(w.subarray?w=w.subarray(0,m):w.length=m),s.applyFromCharCode(w)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,x){var w;for((x=x||y.length)>y.length&&(x=y.length),w=x-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?x:w+c[y[w]]>x?w:x}(p),v=p;m!==p.length&&(o.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(v),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}r("setimmediate"),i.newBlob=function(g,m){i.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,m,v){var y=[],x=0,w=g.length;if(w<=v)return String.fromCharCode.apply(null,g);for(;x<w;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(x,Math.min(x+v,w)))):y.push(String.fromCharCode.apply(null,g.subarray(x,Math.min(x+v,w)))),x+=v;return y.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var m=65536,v=i.getTypeOf(g),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(g)}function d(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}i.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,m){if(m=m||"",!g)return m;i.checkSupport(g);var v=i.getTypeOf(m);return p[v][g](m)},i.resolve=function(g){for(var m=g.split("/"),v=[],y=0;y<m.length;y++){var x=m[y];x==="."||x===""&&y!==0&&y!==m.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var m,v,y="";for(v=0;v<(g||"").length;v++)y+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},i.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},i.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},i.prepareContent=function(g,m,v,y,x){return l.Promise.resolve(m).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,M){var U=new FileReader;U.onload=function(L){_(L.target.result)},U.onerror=function(L){M(L.target.error)},U.readAsArrayBuffer(w)}):w}).then(function(w){var _=i.getTypeOf(w);return _?(_==="arraybuffer"?w=i.transformTo("uint8array",w):_==="string"&&(x?w=o.decode(w):v&&y!==!0&&(w=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===m)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,m,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[p]={id:p,length:g,value:m};d.setIndex(v)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(x){(g=new u("error")).error(x)}return new o(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(p),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,m;a=!0;for(var v=d.length;v;){for(m=d,d=[],g=-1;++g<v;)m[g]();v=d.length}a=!1}n.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==o&&g(this,v)}function f(v,y,x){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function d(v,y,x){s(function(){var w;try{w=y(x)}catch(_){return a.reject(v,_)}w===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,w)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function g(v,y){var x=!1;function w(U){x||(x=!0,a.reject(v,U))}function _(U){x||(x=!0,a.resolve(v,U))}var M=m(function(){y(_,w)});M.status==="error"&&w(M.value)}function m(v,y){var x={};try{x.value=v(y),x.status="success"}catch(w){x.status="error",x.value=w}return x}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(v()).then(function(){return x})},function(x){return y.resolve(v()).then(function(){throw x})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?d(x,this.state===c?v:y,this.outcome):this.queue.push(new f(x,v,y)),x},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},a.resolve=function(v,y){var x=m(p,y);if(x.status==="error")return a.reject(v,x.value);var w=x.value;if(w)g(v,w);else{v.state=c,v.outcome=y;for(var _=-1,M=v.queue.length;++_<M;)v.queue[_].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var x=-1,w=v.queue.length;++x<w;)v.queue[x].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},h.reject=function(v){var y=new this(o);return a.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var _=new Array(x),M=0,U=-1,L=new this(o);++U<x;)O(v[U],U);return L;function O(H,G){y.resolve(H).then(function(I){_[G]=I,++M!==x||w||(w=!0,a.resolve(L,_))},function(I){w||(w=!0,a.reject(L,I))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var _=-1,M=new this(o);++_<x;)U=v[_],y.resolve(U).then(function(L){w||(w=!0,a.resolve(M,L))},function(L){w||(w=!0,a.reject(M,L))});var U;return M}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==h)throw new Error(l[x]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=s.deflateSetDictionary(this.strm,w))!==h)throw new Error(l[x]);this._dict_set=!0}}function m(v,y){var x=new g(y);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}g.prototype.push=function(v,y){var x,w,_=this.strm,M=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof v=="string"?_.input=a.string2buf(v):u.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(M),_.next_out=0,_.avail_out=M),(x=s.deflate(_,w))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&x!==1);return w===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):w!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=m,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,m(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,m(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new d(m);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(g,m){var v,y,x,w,_,M,U=this.strm,L=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?U.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?U.input=new Uint8Array(g):U.input=g,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(L),U.next_out=0,U.avail_out=L),(v=s.inflate(U,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(M=typeof O=="string"?a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,v=s.inflateSetDictionary(this.strm,M)),v===l.Z_BUF_ERROR&&H===!0&&(v=l.Z_OK,H=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&v!==l.Z_STREAM_END&&(U.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(U.output,U.next_out),w=U.next_out-x,_=a.buf2string(U.output,x),U.next_out=w,U.avail_out=L-w,w&&o.arraySet(U.output,U.output,x,w,0),this.onData(_)):this.onData(o.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(H=!0)}while((0<U.avail_in||U.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(U.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){var c,u,h,f,d,p;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(p=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,u,h,f){for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,m,v=h.length,y=0;for(g=0;g<v;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),y+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(y),g=m=0;m<y;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[m++]=d:(d<2048?f[m++]=192|d>>>6:(d<65536?f[m++]=224|d>>>12:(f[m++]=240|d>>>18,f[m++]=128|d>>>12&63),f[m++]=128|d>>>6&63),f[m++]=128|63&d);return f},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,m,v=f||h.length,y=new Array(2*v);for(d=p=0;d<v;)if((g=h[d++])<128)y[p++]=g;else if(4<(m=l[g]))y[p++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<v;)g=g<<6|63&h[d++],m--;1<m?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return u(y,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var f=c;f<h;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,m=4,v=2,y=8,x=9,w=286,_=30,M=19,U=2*w+1,L=15,O=3,H=258,G=H+O+1,I=42,R=113,S=1,j=2,k=3,E=4;function A(B,ne){return B.msg=u[ne],ne}function C(B){return(B<<1)-(4<B?9:0)}function D(B){for(var ne=B.length;0<=--ne;)B[ne]=0}function z(B){var ne=B.state,ee=ne.pending;ee>B.avail_out&&(ee=B.avail_out),ee!==0&&(o.arraySet(B.output,ne.pending_buf,ne.pending_out,ee,B.next_out),B.next_out+=ee,ne.pending_out+=ee,B.total_out+=ee,B.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function P(B,ne){a._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ne),B.block_start=B.strstart,z(B.strm)}function K(B,ne){B.pending_buf[B.pending++]=ne}function Z(B,ne){B.pending_buf[B.pending++]=ne>>>8&255,B.pending_buf[B.pending++]=255&ne}function te(B,ne){var ee,F,W=B.max_chain_length,Y=B.strstart,ae=B.prev_length,ce=B.nice_match,le=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,de=B.window,me=B.w_mask,ge=B.prev,ke=B.strstart+H,Re=de[Y+ae-1],je=de[Y+ae];B.prev_length>=B.good_match&&(W>>=2),ce>B.lookahead&&(ce=B.lookahead);do if(de[(ee=ne)+ae]===je&&de[ee+ae-1]===Re&&de[ee]===de[Y]&&de[++ee]===de[Y+1]){Y+=2,ee++;do;while(de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&Y<ke);if(F=H-(ke-Y),Y=ke-H,ae<F){if(B.match_start=ne,ce<=(ae=F))break;Re=de[Y+ae-1],je=de[Y+ae]}}while((ne=ge[ne&me])>le&&--W!=0);return ae<=B.lookahead?ae:B.lookahead}function q(B){var ne,ee,F,W,Y,ae,ce,le,de,me,ge=B.w_size;do{if(W=B.window_size-B.lookahead-B.strstart,B.strstart>=ge+(ge-G)){for(o.arraySet(B.window,B.window,ge,ge,0),B.match_start-=ge,B.strstart-=ge,B.block_start-=ge,ne=ee=B.hash_size;F=B.head[--ne],B.head[ne]=ge<=F?F-ge:0,--ee;);for(ne=ee=ge;F=B.prev[--ne],B.prev[ne]=ge<=F?F-ge:0,--ee;);W+=ge}if(B.strm.avail_in===0)break;if(ae=B.strm,ce=B.window,le=B.strstart+B.lookahead,de=W,me=void 0,me=ae.avail_in,de<me&&(me=de),ee=me===0?0:(ae.avail_in-=me,o.arraySet(ce,ae.input,ae.next_in,me,le),ae.state.wrap===1?ae.adler=l(ae.adler,ce,me,le):ae.state.wrap===2&&(ae.adler=c(ae.adler,ce,me,le)),ae.next_in+=me,ae.total_in+=me,me),B.lookahead+=ee,B.lookahead+B.insert>=O)for(Y=B.strstart-B.insert,B.ins_h=B.window[Y],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+O-1])&B.hash_mask,B.prev[Y&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Y,Y++,B.insert--,!(B.lookahead+B.insert<O)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function $(B,ne){for(var ee,F;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ee!==0&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee)),B.match_length>=O)if(F=a._tr_tally(B,B.strstart-B.match_start,B.match_length-O),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=O){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else F=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(F&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function N(B,ne){for(var ee,F,W;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=O-1,ee!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee),B.match_length<=5&&(B.strategy===1||B.match_length===O&&4096<B.strstart-B.match_start)&&(B.match_length=O-1)),B.prev_length>=O&&B.match_length<=B.prev_length){for(W=B.strstart+B.lookahead-O,F=a._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-O),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=W&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=O-1,B.strstart++,F&&(P(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((F=a._tr_tally(B,0,B.window[B.strstart-1]))&&P(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(F=a._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function T(B,ne,ee,F,W){this.good_length=B,this.max_lazy=ne,this.nice_length=ee,this.max_chain=F,this.func=W}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*U),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*w+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(B){var ne;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ne=B.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:R,B.adler=ne.wrap===2?0:1,ne.last_flush=h,a._tr_init(ne),d):A(B,p)}function re(B){var ne=J(B);return ne===d&&function(ee){ee.window_size=2*ee.w_size,D(ee.head),ee.max_lazy_match=s[ee.level].max_lazy,ee.good_match=s[ee.level].good_length,ee.nice_match=s[ee.level].nice_length,ee.max_chain_length=s[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,ee.ins_h=0}(B.state),ne}function se(B,ne,ee,F,W,Y){if(!B)return p;var ae=1;if(ne===g&&(ne=6),F<0?(ae=0,F=-F):15<F&&(ae=2,F-=16),W<1||x<W||ee!==y||F<8||15<F||ne<0||9<ne||Y<0||m<Y)return A(B,p);F===8&&(F=9);var ce=new V;return(B.state=ce).strm=B,ce.wrap=ae,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=W+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+O-1)/O),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<W+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=Y,ce.method=ee,re(B)}s=[new T(0,0,0,0,function(B,ne){var ee=65535;for(ee>B.pending_buf_size-5&&(ee=B.pending_buf_size-5);;){if(B.lookahead<=1){if(q(B),B.lookahead===0&&ne===h)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var F=B.block_start+ee;if((B.strstart===0||B.strstart>=F)&&(B.lookahead=B.strstart-F,B.strstart=F,P(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):(B.strstart>B.block_start&&(P(B,!1),B.strm.avail_out),S)}),new T(4,4,8,4,$),new T(4,5,16,8,$),new T(4,6,32,32,$),new T(4,4,16,16,N),new T(8,16,32,32,N),new T(8,16,128,128,N),new T(8,32,128,256,N),new T(32,128,258,1024,N),new T(32,258,258,4096,N)],i.deflateInit=function(B,ne){return se(B,ne,y,15,8,0)},i.deflateInit2=se,i.deflateReset=re,i.deflateResetKeep=J,i.deflateSetHeader=function(B,ne){return B&&B.state?B.state.wrap!==2?p:(B.state.gzhead=ne,d):p},i.deflate=function(B,ne){var ee,F,W,Y;if(!B||!B.state||5<ne||ne<0)return B?A(B,p):p;if(F=B.state,!B.output||!B.input&&B.avail_in!==0||F.status===666&&ne!==f)return A(B,B.avail_out===0?-5:p);if(F.strm=B,ee=F.last_flush,F.last_flush=ne,F.status===I)if(F.wrap===2)B.adler=0,K(F,31),K(F,139),K(F,8),F.gzhead?(K(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),K(F,255&F.gzhead.time),K(F,F.gzhead.time>>8&255),K(F,F.gzhead.time>>16&255),K(F,F.gzhead.time>>24&255),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(K(F,255&F.gzhead.extra.length),K(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(B.adler=c(B.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(K(F,0),K(F,0),K(F,0),K(F,0),K(F,0),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,3),F.status=R);else{var ae=y+(F.w_bits-8<<4)<<8;ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ae|=32),ae+=31-ae%31,F.status=R,Z(F,ae),F.strstart!==0&&(Z(F,B.adler>>>16),Z(F,65535&B.adler)),B.adler=1}if(F.status===69)if(F.gzhead.extra){for(W=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending!==F.pending_buf_size));)K(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&z(B),F.pending+2<=F.pending_buf_size&&(K(F,255&B.adler),K(F,B.adler>>8&255),B.adler=0,F.status=R)):F.status=R),F.pending!==0){if(z(B),B.avail_out===0)return F.last_flush=-1,d}else if(B.avail_in===0&&C(ne)<=C(ee)&&ne!==f)return A(B,-5);if(F.status===666&&B.avail_in!==0)return A(B,-5);if(B.avail_in!==0||F.lookahead!==0||ne!==h&&F.status!==666){var ce=F.strategy===2?function(le,de){for(var me;;){if(le.lookahead===0&&(q(le),le.lookahead===0)){if(de===h)return S;break}if(le.match_length=0,me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?k:E):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):F.strategy===3?function(le,de){for(var me,ge,ke,Re,je=le.window;;){if(le.lookahead<=H){if(q(le),le.lookahead<=H&&de===h)return S;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=O&&0<le.strstart&&(ge=je[ke=le.strstart-1])===je[++ke]&&ge===je[++ke]&&ge===je[++ke]){Re=le.strstart+H;do;while(ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ke<Re);le.match_length=H-(Re-ke),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=O?(me=a._tr_tally(le,1,le.match_length-O),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?k:E):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):s[F.level].func(F,ne);if(ce!==k&&ce!==E||(F.status=666),ce===S||ce===k)return B.avail_out===0&&(F.last_flush=-1),d;if(ce===j&&(ne===1?a._tr_align(F):ne!==5&&(a._tr_stored_block(F,0,0,!1),ne===3&&(D(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),z(B),B.avail_out===0))return F.last_flush=-1,d}return ne!==f?d:F.wrap<=0?1:(F.wrap===2?(K(F,255&B.adler),K(F,B.adler>>8&255),K(F,B.adler>>16&255),K(F,B.adler>>24&255),K(F,255&B.total_in),K(F,B.total_in>>8&255),K(F,B.total_in>>16&255),K(F,B.total_in>>24&255)):(Z(F,B.adler>>>16),Z(F,65535&B.adler)),z(B),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?d:1)},i.deflateEnd=function(B){var ne;return B&&B.state?(ne=B.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==R&&ne!==666?A(B,p):(B.state=null,ne===R?A(B,-3):d):p},i.deflateSetDictionary=function(B,ne){var ee,F,W,Y,ae,ce,le,de,me=ne.length;if(!B||!B.state||(Y=(ee=B.state).wrap)===2||Y===1&&ee.status!==I||ee.lookahead)return p;for(Y===1&&(B.adler=l(B.adler,ne,me,0)),ee.wrap=0,me>=ee.w_size&&(Y===0&&(D(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),de=new o.Buf8(ee.w_size),o.arraySet(de,ne,me-ee.w_size,ee.w_size,0),ne=de,me=ee.w_size),ae=B.avail_in,ce=B.next_in,le=B.input,B.avail_in=me,B.next_in=0,B.input=ne,q(ee);ee.lookahead>=O;){for(F=ee.strstart,W=ee.lookahead-(O-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[F+O-1])&ee.hash_mask,ee.prev[F&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=F,F++,--W;);ee.strstart=F,ee.lookahead=O-1,q(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,B.next_in=ce,B.input=le,B.avail_in=ae,ee.wrap=Y,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,c,u,h,f,d,p,g,m,v,y,x,w,_,M,U,L,O,H,G,I,R,S,j;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,j=s.output,h=u-(o-s.avail_out),f=u+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,m=a.wnext,v=a.window,y=a.hold,x=a.bits,w=a.lencode,_=a.distcode,M=(1<<a.lenbits)-1,U=(1<<a.distbits)-1;e:do{x<15&&(y+=S[l++]<<x,x+=8,y+=S[l++]<<x,x+=8),L=w[y&M];t:for(;;){if(y>>>=O=L>>>24,x-=O,(O=L>>>16&255)===0)j[u++]=65535&L;else{if(!(16&O)){if(!(64&O)){L=w[(65535&L)+(y&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}H=65535&L,(O&=15)&&(x<O&&(y+=S[l++]<<x,x+=8),H+=y&(1<<O)-1,y>>>=O,x-=O),x<15&&(y+=S[l++]<<x,x+=8,y+=S[l++]<<x,x+=8),L=_[y&U];r:for(;;){if(y>>>=O=L>>>24,x-=O,!(16&(O=L>>>16&255))){if(!(64&O)){L=_[(65535&L)+(y&(1<<O)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(G=65535&L,x<(O&=15)&&(y+=S[l++]<<x,(x+=8)<O&&(y+=S[l++]<<x,x+=8)),d<(G+=y&(1<<O)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=O,x-=O,(O=u-h)<G){if(g<(O=G-O)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(R=v,(I=0)===m){if(I+=p-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}}else if(m<O){if(I+=p+m-O,(O-=m)<H){for(H-=O;j[u++]=v[I++],--O;);if(I=0,m<H){for(H-=O=m;j[u++]=v[I++],--O;);I=u-G,R=j}}}else if(I+=m-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}for(;2<H;)j[u++]=R[I++],j[u++]=R[I++],j[u++]=R[I++],H-=3;H&&(j[u++]=R[I++],1<H&&(j[u++]=R[I++]))}else{for(I=u-G;j[u++]=j[I++],j[u++]=j[I++],j[u++]=j[I++],2<(H-=3););H&&(j[u++]=j[I++],1<H&&(j[u++]=j[I++]))}break}}break}}while(l<c&&u<f);l-=H=x>>3,y&=(1<<(x-=H<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=y,a.bits=x}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,f=0,d=-2,p=1,g=852,m=592;function v(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(I){var R;return I&&I.state?(R=I.state,I.total_in=I.total_out=R.total=0,I.msg="",R.wrap&&(I.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(g),R.distcode=R.distdyn=new s.Buf32(m),R.sane=1,R.back=-1,f):d}function w(I){var R;return I&&I.state?((R=I.state).wsize=0,R.whave=0,R.wnext=0,x(I)):d}function _(I,R){var S,j;return I&&I.state?(j=I.state,R<0?(S=0,R=-R):(S=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?d:(j.window!==null&&j.wbits!==R&&(j.window=null),j.wrap=S,j.wbits=R,w(I))):d}function M(I,R){var S,j;return I?(j=new y,(I.state=j).window=null,(S=_(I,R))!==f&&(I.state=null),S):d}var U,L,O=!0;function H(I){if(O){var R;for(U=new s.Buf32(512),L=new s.Buf32(32),R=0;R<144;)I.lens[R++]=8;for(;R<256;)I.lens[R++]=9;for(;R<280;)I.lens[R++]=7;for(;R<288;)I.lens[R++]=8;for(c(u,I.lens,0,288,U,0,I.work,{bits:9}),R=0;R<32;)I.lens[R++]=5;c(h,I.lens,0,32,L,0,I.work,{bits:5}),O=!1}I.lencode=U,I.lenbits=9,I.distcode=L,I.distbits=5}function G(I,R,S,j){var k,E=I.state;return E.window===null&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new s.Buf8(E.wsize)),j>=E.wsize?(s.arraySet(E.window,R,S-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(j<(k=E.wsize-E.wnext)&&(k=j),s.arraySet(E.window,R,S-j,k,E.wnext),(j-=k)?(s.arraySet(E.window,R,S-j,j,0),E.wnext=j,E.whave=E.wsize):(E.wnext+=k,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=k))),0}i.inflateReset=w,i.inflateReset2=_,i.inflateResetKeep=x,i.inflateInit=function(I){return M(I,15)},i.inflateInit2=M,i.inflate=function(I,R){var S,j,k,E,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W=0,Y=new s.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(S=I.state).mode===12&&(S.mode=13),A=I.next_out,k=I.output,D=I.avail_out,E=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,K=C,Z=D,ne=f;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(2&S.wrap&&z===35615){Y[S.check=0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0),P=z=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&z)<<8)+(z>>8))%31){I.msg="incorrect header check",S.mode=30;break}if((15&z)!=8){I.msg="unknown compression method",S.mode=30;break}if(P-=4,B=8+(15&(z>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){I.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,I.adler=S.check=1,S.mode=512&z?10:12,P=z=0;break;case 2:for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(S.flags=z,(255&S.flags)!=8){I.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){I.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=z>>8&1),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=3;case 3:for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.head&&(S.head.time=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,Y[2]=z>>>16&255,Y[3]=z>>>24&255,S.check=a(S.check,Y,4,0)),P=z=0,S.mode=4;case 4:for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.head&&(S.head.xflags=255&z,S.head.os=z>>8),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=5;case 5:if(1024&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.length=z,S.head&&(S.head.extra_len=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(C<(te=S.length)&&(te=C),te&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,j,E,te,B)),512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,S.length-=te),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(C===0)break e;for(te=0;B=j[E+te++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(C===0)break e;for(te=0;B=j[E+te++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z!==(65535&S.check)){I.msg="header crc mismatch",S.mode=30;break}P=z=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),I.adler=S.check=0,S.mode=12;break;case 10:for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}I.adler=S.check=v(z),P=z=0,S.mode=11;case 11:if(S.havedict===0)return I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,2;I.adler=S.check=1,S.mode=12;case 12:if(R===5||R===6)break e;case 13:if(S.last){z>>>=7&P,P-=7&P,S.mode=27;break}for(;P<3;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}switch(S.last=1&z,P-=1,3&(z>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,R!==6)break;z>>>=2,P-=2;break e;case 2:S.mode=17;break;case 3:I.msg="invalid block type",S.mode=30}z>>>=2,P-=2;break;case 14:for(z>>>=7&P,P-=7&P;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if((65535&z)!=(z>>>16^65535)){I.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&z,P=z=0,S.mode=15,R===6)break e;case 15:S.mode=16;case 16:if(te=S.length){if(C<te&&(te=C),D<te&&(te=D),te===0)break e;s.arraySet(k,j,E,te,A),C-=te,E+=te,D-=te,A+=te,S.length-=te;break}S.mode=12;break;case 17:for(;P<14;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(S.nlen=257+(31&z),z>>>=5,P-=5,S.ndist=1+(31&z),z>>>=5,P-=5,S.ncode=4+(15&z),z>>>=4,P-=4,286<S.nlen||30<S.ndist){I.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;P<3;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.lens[ae[S.have++]]=7&z,z>>>=3,P-=3}for(;S.have<19;)S.lens[ae[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ee={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(V<16)z>>>=N,P-=N,S.lens[S.have++]=V;else{if(V===16){for(F=N+2;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z>>>=N,P-=N,S.have===0){I.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],te=3+(3&z),z>>>=2,P-=2}else if(V===17){for(F=N+3;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}P-=N,B=0,te=3+(7&(z>>>=N)),z>>>=3,P-=3}else{for(F=N+7;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}P-=N,B=0,te=11+(127&(z>>>=N)),z>>>=7,P-=7}if(S.have+te>S.nlen+S.ndist){I.msg="invalid bit length repeat",S.mode=30;break}for(;te--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){I.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ee={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ee={bits:S.distbits},ne=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ee),S.distbits=ee.bits,ne){I.msg="invalid distances set",S.mode=30;break}if(S.mode=20,R===6)break e;case 20:S.mode=21;case 21:if(6<=C&&258<=D){I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,l(I,Z),A=I.next_out,k=I.output,D=I.avail_out,E=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(T&&!(240&T)){for(J=N,re=T,se=V;T=(W=S.lencode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,S.length=V,T===0){S.mode=26;break}if(32&T){S.back=-1,S.mode=12;break}if(64&T){I.msg="invalid literal/length code",S.mode=30;break}S.extra=15&T,S.mode=22;case 22:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.length+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;T=(W=S.distcode[z&(1<<S.distbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(!(240&T)){for(J=N,re=T,se=V;T=(W=S.distcode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,64&T){I.msg="invalid distance code",S.mode=30;break}S.offset=V,S.extra=15&T,S.mode=24;case 24:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.offset+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){I.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(D===0)break e;if(te=Z-D,S.offset>te){if((te=S.offset-te)>S.whave&&S.sane){I.msg="invalid distance too far back",S.mode=30;break}q=te>S.wnext?(te-=S.wnext,S.wsize-te):S.wnext-te,te>S.length&&(te=S.length),$=S.window}else $=k,q=A-S.offset,te=S.length;for(D<te&&(te=D),D-=te,S.length-=te;k[A++]=$[q++],--te;);S.length===0&&(S.mode=21);break;case 26:if(D===0)break e;k[A++]=S.length,D--,S.mode=21;break;case 27:if(S.wrap){for(;P<32;){if(C===0)break e;C--,z|=j[E++]<<P,P+=8}if(Z-=D,I.total_out+=Z,S.total+=Z,Z&&(I.adler=S.check=S.flags?a(S.check,k,Z,A-Z):o(S.check,k,Z,A-Z)),Z=D,(S.flags?z:v(z))!==S.check){I.msg="incorrect data check",S.mode=30;break}P=z=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z!==(4294967295&S.total)){I.msg="incorrect length check",S.mode=30;break}P=z=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,(S.wsize||Z!==I.avail_out&&S.mode<30&&(S.mode<27||R!==4))&&G(I,I.output,I.next_out,Z-I.avail_out)?(S.mode=31,-4):(K-=I.avail_in,Z-=I.avail_out,I.total_in+=K,I.total_out+=Z,S.total+=Z,S.wrap&&Z&&(I.adler=S.check=S.flags?a(S.check,k,Z,I.next_out-Z):o(S.check,k,Z,I.next_out-Z)),I.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(K==0&&Z===0||R===4)&&ne===f&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return d;var R=I.state;return R.window&&(R.window=null),I.state=null,f},i.inflateGetHeader=function(I,R){var S;return I&&I.state&&2&(S=I.state).wrap?((S.head=R).done=!1,f):d},i.inflateSetDictionary=function(I,R){var S,j=R.length;return I&&I.state?(S=I.state).wrap!==0&&S.mode!==11?d:S.mode===11&&o(1,R,j,0)!==S.check?-3:G(I,R,j,j)?(S.mode=31,-4):(S.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,f,d,p,g,m,v){var y,x,w,_,M,U,L,O,H,G=v.bits,I=0,R=0,S=0,j=0,k=0,E=0,A=0,C=0,D=0,z=0,P=null,K=0,Z=new s.Buf16(16),te=new s.Buf16(16),q=null,$=0;for(I=0;I<=15;I++)Z[I]=0;for(R=0;R<d;R++)Z[h[f+R]]++;for(k=G,j=15;1<=j&&Z[j]===0;j--);if(j<k&&(k=j),j===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(S=1;S<j&&Z[S]===0;S++);for(k<S&&(k=S),I=C=1;I<=15;I++)if(C<<=1,(C-=Z[I])<0)return-1;if(0<C&&(u===0||j!==1))return-1;for(te[1]=0,I=1;I<15;I++)te[I+1]=te[I]+Z[I];for(R=0;R<d;R++)h[f+R]!==0&&(m[te[h[f+R]]++]=R);if(U=u===0?(P=q=m,19):u===1?(P=o,K-=257,q=a,$-=257,256):(P=l,q=c,-1),I=S,M=g,A=R=z=0,w=-1,_=(D=1<<(E=k))-1,u===1&&852<D||u===2&&592<D)return 1;for(;;){for(L=I-A,H=m[R]<U?(O=0,m[R]):m[R]>U?(O=q[$+m[R]],P[K+m[R]]):(O=96,0),y=1<<I-A,S=x=1<<E;p[M+(z>>A)+(x-=y)]=L<<24|O<<16|H|0,x!==0;);for(y=1<<I-1;z&y;)y>>=1;if(y!==0?(z&=y-1,z+=y):z=0,R++,--Z[I]==0){if(I===j)break;I=h[f+m[R]]}if(k<I&&(z&_)!==w){for(A===0&&(A=k),M+=S,C=1<<(E=I-A);E+A<j&&!((C-=Z[E+A])<=0);)E++,C<<=1;if(D+=1<<E,u===1&&852<D||u===2&&592<D)return 1;p[w=z&_]=k<<24|E<<16|M-g|0}}return z!==0&&(p[M+z]=I-A<<24|64<<16|0),v.bits=k,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(W){for(var Y=W.length;0<=--Y;)W[Y]=0}var c=0,u=29,h=256,f=h+1+u,d=30,p=19,g=2*f+1,m=15,v=16,y=7,x=256,w=16,_=17,M=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(f+2));l(G);var I=new Array(2*d);l(I);var R=new Array(512);l(R);var S=new Array(256);l(S);var j=new Array(u);l(j);var k,E,A,C=new Array(d);function D(W,Y,ae,ce,le){this.static_tree=W,this.extra_bits=Y,this.extra_base=ae,this.elems=ce,this.max_length=le,this.has_stree=W&&W.length}function z(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function P(W){return W<256?R[W]:R[256+(W>>>7)]}function K(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function Z(W,Y,ae){W.bi_valid>v-ae?(W.bi_buf|=Y<<W.bi_valid&65535,K(W,W.bi_buf),W.bi_buf=Y>>v-W.bi_valid,W.bi_valid+=ae-v):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=ae)}function te(W,Y,ae){Z(W,ae[2*Y],ae[2*Y+1])}function q(W,Y){for(var ae=0;ae|=1&W,W>>>=1,ae<<=1,0<--Y;);return ae>>>1}function $(W,Y,ae){var ce,le,de=new Array(m+1),me=0;for(ce=1;ce<=m;ce++)de[ce]=me=me+ae[ce-1]<<1;for(le=0;le<=Y;le++){var ge=W[2*le+1];ge!==0&&(W[2*le]=q(de[ge]++,ge))}}function N(W){var Y;for(Y=0;Y<f;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<d;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<p;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[2*x]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function T(W){8<W.bi_valid?K(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function V(W,Y,ae,ce){var le=2*Y,de=2*ae;return W[le]<W[de]||W[le]===W[de]&&ce[Y]<=ce[ae]}function J(W,Y,ae){for(var ce=W.heap[ae],le=ae<<1;le<=W.heap_len&&(le<W.heap_len&&V(Y,W.heap[le+1],W.heap[le],W.depth)&&le++,!V(Y,ce,W.heap[le],W.depth));)W.heap[ae]=W.heap[le],ae=le,le<<=1;W.heap[ae]=ce}function re(W,Y,ae){var ce,le,de,me,ge=0;if(W.last_lit!==0)for(;ce=W.pending_buf[W.d_buf+2*ge]<<8|W.pending_buf[W.d_buf+2*ge+1],le=W.pending_buf[W.l_buf+ge],ge++,ce===0?te(W,le,Y):(te(W,(de=S[le])+h+1,Y),(me=U[de])!==0&&Z(W,le-=j[de],me),te(W,de=P(--ce),ae),(me=L[de])!==0&&Z(W,ce-=C[de],me)),ge<W.last_lit;);te(W,x,Y)}function se(W,Y){var ae,ce,le,de=Y.dyn_tree,me=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,ke=Y.stat_desc.elems,Re=-1;for(W.heap_len=0,W.heap_max=g,ae=0;ae<ke;ae++)de[2*ae]!==0?(W.heap[++W.heap_len]=Re=ae,W.depth[ae]=0):de[2*ae+1]=0;for(;W.heap_len<2;)de[2*(le=W.heap[++W.heap_len]=Re<2?++Re:0)]=1,W.depth[le]=0,W.opt_len--,ge&&(W.static_len-=me[2*le+1]);for(Y.max_code=Re,ae=W.heap_len>>1;1<=ae;ae--)J(W,de,ae);for(le=ke;ae=W.heap[1],W.heap[1]=W.heap[W.heap_len--],J(W,de,1),ce=W.heap[1],W.heap[--W.heap_max]=ae,W.heap[--W.heap_max]=ce,de[2*le]=de[2*ae]+de[2*ce],W.depth[le]=(W.depth[ae]>=W.depth[ce]?W.depth[ae]:W.depth[ce])+1,de[2*ae+1]=de[2*ce+1]=le,W.heap[1]=le++,J(W,de,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(je,qe){var Je,Ve,pt,$e,Ue,Ke,rt=qe.dyn_tree,Ze=qe.max_code,kt=qe.stat_desc.static_tree,wt=qe.stat_desc.has_stree,xt=qe.stat_desc.extra_bits,Wt=qe.stat_desc.extra_base,St=qe.stat_desc.max_length,ot=0;for($e=0;$e<=m;$e++)je.bl_count[$e]=0;for(rt[2*je.heap[je.heap_max]+1]=0,Je=je.heap_max+1;Je<g;Je++)St<($e=rt[2*rt[2*(Ve=je.heap[Je])+1]+1]+1)&&($e=St,ot++),rt[2*Ve+1]=$e,Ze<Ve||(je.bl_count[$e]++,Ue=0,Wt<=Ve&&(Ue=xt[Ve-Wt]),Ke=rt[2*Ve],je.opt_len+=Ke*($e+Ue),wt&&(je.static_len+=Ke*(kt[2*Ve+1]+Ue)));if(ot!==0){do{for($e=St-1;je.bl_count[$e]===0;)$e--;je.bl_count[$e]--,je.bl_count[$e+1]+=2,je.bl_count[St]--,ot-=2}while(0<ot);for($e=St;$e!==0;$e--)for(Ve=je.bl_count[$e];Ve!==0;)Ze<(pt=je.heap[--Je])||(rt[2*pt+1]!==$e&&(je.opt_len+=($e-rt[2*pt+1])*rt[2*pt],rt[2*pt+1]=$e),Ve--)}}(W,Y),$(de,Re,W.bl_count)}function B(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),Y[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)le=me,me=Y[2*(ce+1)+1],++ge<ke&&le===me||(ge<Re?W.bl_tree[2*le]+=ge:le!==0?(le!==de&&W.bl_tree[2*le]++,W.bl_tree[2*w]++):ge<=10?W.bl_tree[2*_]++:W.bl_tree[2*M]++,de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4))}function ne(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),ce=0;ce<=ae;ce++)if(le=me,me=Y[2*(ce+1)+1],!(++ge<ke&&le===me)){if(ge<Re)for(;te(W,le,W.bl_tree),--ge!=0;);else le!==0?(le!==de&&(te(W,le,W.bl_tree),ge--),te(W,w,W.bl_tree),Z(W,ge-3,2)):ge<=10?(te(W,_,W.bl_tree),Z(W,ge-3,3)):(te(W,M,W.bl_tree),Z(W,ge-11,7));de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4)}}l(C);var ee=!1;function F(W,Y,ae,ce){Z(W,(c<<1)+(ce?1:0),3),function(le,de,me,ge){T(le),K(le,me),K(le,~me),s.arraySet(le.pending_buf,le.window,de,me,le.pending),le.pending+=me}(W,Y,ae)}i._tr_init=function(W){ee||(function(){var Y,ae,ce,le,de,me=new Array(m+1);for(le=ce=0;le<u-1;le++)for(j[le]=ce,Y=0;Y<1<<U[le];Y++)S[ce++]=le;for(S[ce-1]=le,le=de=0;le<16;le++)for(C[le]=de,Y=0;Y<1<<L[le];Y++)R[de++]=le;for(de>>=7;le<d;le++)for(C[le]=de<<7,Y=0;Y<1<<L[le]-7;Y++)R[256+de++]=le;for(ae=0;ae<=m;ae++)me[ae]=0;for(Y=0;Y<=143;)G[2*Y+1]=8,Y++,me[8]++;for(;Y<=255;)G[2*Y+1]=9,Y++,me[9]++;for(;Y<=279;)G[2*Y+1]=7,Y++,me[7]++;for(;Y<=287;)G[2*Y+1]=8,Y++,me[8]++;for($(G,f+1,me),Y=0;Y<d;Y++)I[2*Y+1]=5,I[2*Y]=q(Y,5);k=new D(G,U,h+1,f,m),E=new D(I,L,0,d,m),A=new D(new Array(0),O,0,p,y)}(),ee=!0),W.l_desc=new z(W.dyn_ltree,k),W.d_desc=new z(W.dyn_dtree,E),W.bl_desc=new z(W.bl_tree,A),W.bi_buf=0,W.bi_valid=0,N(W)},i._tr_stored_block=F,i._tr_flush_block=function(W,Y,ae,ce){var le,de,me=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ge){var ke,Re=4093624447;for(ke=0;ke<=31;ke++,Re>>>=1)if(1&Re&&ge.dyn_ltree[2*ke]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(ke=32;ke<h;ke++)if(ge.dyn_ltree[2*ke]!==0)return a;return o}(W)),se(W,W.l_desc),se(W,W.d_desc),me=function(ge){var ke;for(B(ge,ge.dyn_ltree,ge.l_desc.max_code),B(ge,ge.dyn_dtree,ge.d_desc.max_code),se(ge,ge.bl_desc),ke=p-1;3<=ke&&ge.bl_tree[2*H[ke]+1]===0;ke--);return ge.opt_len+=3*(ke+1)+5+5+4,ke}(W),le=W.opt_len+3+7>>>3,(de=W.static_len+3+7>>>3)<=le&&(le=de)):le=de=ae+5,ae+4<=le&&Y!==-1?F(W,Y,ae,ce):W.strategy===4||de===le?(Z(W,2+(ce?1:0),3),re(W,G,I)):(Z(W,4+(ce?1:0),3),function(ge,ke,Re,je){var qe;for(Z(ge,ke-257,5),Z(ge,Re-1,5),Z(ge,je-4,4),qe=0;qe<je;qe++)Z(ge,ge.bl_tree[2*H[qe]+1],3);ne(ge,ge.dyn_ltree,ke-1),ne(ge,ge.dyn_dtree,Re-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,me+1),re(W,W.dyn_ltree,W.dyn_dtree)),N(W),ce&&T(W)},i._tr_tally=function(W,Y,ae){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&ae,W.last_lit++,Y===0?W.dyn_ltree[2*ae]++:(W.matches++,Y--,W.dyn_ltree[2*(S[ae]+h+1)]++,W.dyn_dtree[2*P(Y)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){Z(W,2,3),te(W,x,G),function(Y){Y.bi_valid===16?(K(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,f=1,d={},p=!1,g=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,l={}.toString.call(o.process)==="[object process]"?function(w){Rr.nextTick(function(){y(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,_=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=_,w}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(w){o.postMessage(h+w,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){u.port2.postMessage(w)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(w){var _=g.createElement("script");_.onreadystatechange=function(){y(w),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(w){setTimeout(y,0,w)},m.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),M=0;M<_.length;M++)_[M]=arguments[M+1];var U={callback:w,args:_};return d[f]=U,l(f),f++},m.clearImmediate=v}function v(w){delete d[w]}function y(w){if(p)setTimeout(y,0,w);else{var _=d[w];if(_){p=!0;try{(function(M){var U=M.callback,L=M.args;switch(L.length){case 0:U();break;case 1:U(L[0]);break;case 2:U(L[0],L[1]);break;case 3:U(L[0],L[1],L[2]);break;default:U.apply(a,L)}})(_)}finally{v(w),p=!1}}}}function x(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(h)===0&&y(+w.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(G5)),G5.exports}var tge=ege();const rge=jz(tge);var Cm={exports:{}},K5,MR;function nge(){if(MR)return K5;MR=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return K5=t,K5}var LR;function ige(){if(LR)return Cm.exports;LR=1;var e=nge(),t=CE().Stream,r="    ";function n(c,u){typeof u!="object"&&(u={indent:u});var h=u.stream?new t:null,f="",d=!1,p=u.indent?u.indent===!0?r:u.indent:"",g=!0;function m(_){g?Rr.nextTick(_):_()}function v(_,M){if(M!==void 0&&(f+=M),_&&!d&&(h=h||new t,d=!0),_&&d){var U=f;m(function(){h.emit("data",U)}),f=""}}function y(_,M){a(v,o(_,p,p?1:0),M)}function x(){if(h){var _=f;m(function(){h.emit("data",_),h.emit("end"),h.readable=!1,h.emit("close")})}}function w(_){var M=_.encoding||"UTF-8",U={version:"1.0",encoding:M};_.standalone&&(U.standalone=_.standalone),y({"?xml":{_attr:U}}),f=f.replace("/>","?>")}return m(function(){g=!1}),u.declaration&&w(u.declaration),c&&c.forEach?c.forEach(function(_,M){var U;M+1===c.length&&(U=x),y(_,U)}):y(c,x),h?(h.readable=!0,h):f}function i(){var c=Array.prototype.slice.call(arguments),u={_elem:o(c)};return u.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var f=this,d=this._elem.indent;a(this.append,o(h,d,this._elem.icount+(d?1:0)),function(){f.append(!0)})},u.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},u}function s(c,u){return new Array(u||0).join(c||"")}function o(c,u,h){h=h||0;var f=s(u,h),d,p=c,g=!1;if(typeof c=="object"){var m=Object.keys(c);if(d=m[0],p=c[d],p&&p._elem)return p._elem.name=d,p._elem.icount=h,p._elem.indent=u,p._elem.indents=f,p._elem.interrupt=p,p._elem}var v=[],y=[],x;function w(_){var M=Object.keys(_);M.forEach(function(U){v.push(l(U,_[U]))})}switch(typeof p){case"object":if(p===null)break;p._attr&&w(p._attr),p._cdata&&y.push(("<![CDATA["+p._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),p.forEach&&(x=!1,y.push(""),p.forEach(function(_){if(typeof _=="object"){var M=Object.keys(_)[0];M=="_attr"?w(_._attr):y.push(o(_,u,h+1))}else y.pop(),x=!0,y.push(e(_))}),x||y.push(""));break;default:y.push(e(p))}return{name:d,interrupt:g,attributes:v,content:y,icount:h,indents:f,indent:u}}function a(c,u,h){if(typeof u!="object")return c(!1,u);var f=u.interrupt?1:u.content.length;function d(){for(;u.content.length;){var g=u.content.shift();if(g!==void 0){if(p(g))return;a(c,g)}}c(!1,(f>1?u.indents:"")+(u.name?"</"+u.name+">":"")+(u.indent&&!h?`
`:"")),h&&h()}function p(g){return g.interrupt?(g.interrupt.append=c,g.interrupt.end=d,g.interrupt=!1,c(!0),!0):!1}if(c(!1,u.indents+(u.name?"<"+u.name:"")+(u.attributes.length?" "+u.attributes.join(" "):"")+(f?u.name?">":"":u.name?"/>":"")+(u.indent&&f>1?`
`:"")),!f)return c(!1,u.indent?`
`:"");p(u)||d()}function l(c,u){return c+'="'+e(u)+'"'}return Cm.exports=n,Cm.exports.element=Cm.exports.Element=i,Cm.exports}var sge=ige();const Hn=jz(sge),jm=0,X5=32,age=32,oge=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==age)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=e.slice(jm,X5).map((l,c)=>l^i[c%i.length]),a=new Uint8Array(jm+o.length+Math.max(0,e.length-X5));return a.set(e.slice(0,jm)),a.set(o,jm),a.set(e.slice(X5),jm+o.length),a};class lge{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class cge{replace(t,r,n){let i=t;return r.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class uge{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class dge{constructor(){tt(this,"formatter"),tt(this,"imageReplacer"),tt(this,"numberingReplacer"),this.formatter=new lge,this.imageReplacer=new cge,this.numberingReplacer=new uge}compile(t,r,n=[]){const i=new rge,s=this.xmlifyFile(t,r),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const l of a)i.file(l.path,l.data);else i.file(a.path,a.data);for(const a of n)i.file(a.path,a.data);for(const a of t.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:l,fontKey:c}of t.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,oge(a,c))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=Hn(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=t.Comments.Relationships.RelationshipCount+1,o=Hn(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,t.Media),l=this.imageReplacer.getMediaData(o,t.Media);return{Relationships:{data:(a.forEach((c,u)=>{t.Document.Relationships.createRelationship(n+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Hn(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Hn(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Hn(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Hn(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Hn(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{c.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Hn(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:t.Footers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{c.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Hn(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:t.Headers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:t.Footers.map((c,u)=>{const h=Hn(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:Hn(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Hn(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Hn(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Hn(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Hn(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Hn(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(o,l,s);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,u)=>{t.Comments.Relationships.createRelationship(s+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Hn(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Hn(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Hn(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const hge={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},DR=e=>e===!0?hge.WITH_2_BLANKS:e===!1?void 0:e,hU=class of{static pack(t,r,n){return Uhe(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,DR(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return of.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return of.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return of.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return of.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return of.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new Q0e.Stream;return this.compiler.compile(t,DR(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};tt(hU,"compiler",new dge);let fge=hU;function au(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pge={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof au=="function"&&au;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){return o(n[c][1][p]||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof au=="function"&&au,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){const s=r("fs"),o=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),c=r("dayjs").extend(a).extend(l),u=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,p){if(p=p||{},!await h(d))throw new Error("File not found: "+d);const g=s.createReadStream(d),m=await this.read(g,p);return g.close(),m}read(d,p){return p=p||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(p.sheetName),y=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=p.map||function(_){if(_==="")return null;const M=Number(_);if(!Number.isNaN(M)&&M!==1/0)return M;const U=y.reduce((O,H)=>{if(O)return O;const G=c(_,H,!0);return G.isValid()?G:null},null);if(U)return new Date(U.valueOf());const L=f[_];return L!==void 0?L:_},w=o.parse(p.parserOptions).on("data",_=>{v.addRow(_.map(x))}).on("end",()=>{w.emit("worksheet",v)});w.on("worksheet",g).on("error",m),d.pipe(w)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,p){return new Promise((g,m)=>{p=p||{};const v=this.workbook.getWorksheet(p.sheetName||p.sheetId),y=o.format(p.formatterOptions);d.on("finish",()=>{g()}),y.on("error",m),y.pipe(d);const{dateFormat:x,dateUTC:w}=p,_=p.map||(L=>{if(L){if(L.text||L.hyperlink)return L.hyperlink||L.text||"";if(L.formula||L.result)return L.result||"";if(L instanceof Date)return x?w?c.utc(L).format(x):c(L).format(x):w?c.utc(L).format():c(L).format();if(L.error)return L.error;if(typeof L=="object")return JSON.stringify(L)}return L}),M=p.includeEmptyRows===void 0||p.includeEmptyRows;let U=1;v&&v.eachRow((L,O)=>{if(M)for(;U++<O-1;)y.write([]);const{values:H}=L;H.shift(),y.write(H.map(_)),U=O}),y.end()})}writeFile(d,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=s.createWriteStream(d,g);return this.write(m,p)}async writeBuffer(d){const p=new u;return await this.write(p,d),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const h=s.decodeAddress(c);this.nativeCol=h.col+u,this.nativeColOff=0,this.nativeRow=h.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(r,n,i){const s=r("../utils/col-cache"),o=r("../utils/under-dash"),a=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),c=r("./note");class u{constructor(d,p,g){if(!d||!p)throw new Error("A Cell needs a Row");this._row=d,this._column=p,s.validateAddress(g),this._address=g,this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,p,g){const m=d&&d.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const v=d&&d.font||p&&p.font;v&&(g.font=v);const y=d&&d.alignment||p&&p.alignment;y&&(g.alignment=y);const x=d&&d.border||p&&p.border;x&&(g.border=x);const w=d&&d.fill||p&&p.fill;w&&(g.fill=w);const _=d&&d.protection||p&&p.protection;return _&&(g.protection=_),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,p){this._value.release(),this._value=h.create(u.Types.Merge,this,d),p||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=h.create(h.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new c(d)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=h.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),d.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=h.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=c.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=a.ValueType;const h={getType:f=>f==null?u.Types.Null:f instanceof String||typeof f=="string"?u.Types.String:typeof f=="number"?u.Types.Number:typeof f=="boolean"?u.Types.Boolean:f instanceof Date?u.Types.Date:f.text&&f.hyperlink?u.Types.Hyperlink:f.formula||f.sharedFormula?u.Types.Formula:f.richText?u.Types.RichText:f.sharedString?u.Types.SharedString:f.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(f){this.model={address:f.address,type:u.Types.Null}}get value(){return null}set value(f){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(f,d){this.cell=f,this.model={address:f.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(f){const d={},p=g=>{const m=f[g];m&&(d[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(h.getType(f)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return u.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?a.ValueType.Null:f instanceof String||typeof f=="string"?a.ValueType.String:typeof f=="number"?a.ValueType.Number:f instanceof Date?a.ValueType.Date:f.text&&f.hyperlink?a.ValueType.Hyperlink:f.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,d=f.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof u?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,d)=>(f[d.t]=d.f,f),[]),create(f,d,p){const g=this.types[f];if(!g)throw new Error("Could not create Value of type "+f);return new g(d,p)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache");class l{constructor(u,h,f){this._worksheet=u,this._number=h,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((h,f)=>{this._worksheet.getCell(f+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,h){const f=this.number;h||(h=u,u=null),this._worksheet.eachRow(u,(d,p)=>{h(d.getCell(f),p)})}get values(){const u=[];return this.eachCell((h,f)=>{h&&h.type!==o.ValueType.Null&&(u[f]=h.value)}),u}set values(u){if(!u)return;const h=this.number;let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((d,p)=>{this._worksheet.getCell(p+f,h).value=d})}_applyStyle(u,h){return this.style[u]=h,this.eachCell(f=>{f[u]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const h=[];let f=null;return u&&u.forEach((d,p)=>{d.isDefault?f&&(f=null):f&&d.equivalentTo(f)?f.max=p+1:(f={min:p+1,max:p+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},h.push(f))}),h.length?h:void 0}static fromModel(u,h){const f=[];let d=1,p=0;for(h=(h=h||[]).sort(function(g,m){return g.min-m.min});p<h.length;){const g=h[p++];for(;d<g.min;)f.push(new l(u,d++));for(;d<=g.max;)f.push(new l(u,d++,g))}return f.length?f:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("../utils/cell-matrix"),l=r("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new a)}add(u,h){const f=o.decodeEx(u);this.addEx(f,h)}addEx(u,h){const f=this.getMatrix(h);if(u.top)for(let d=u.left;d<=u.right;d++)for(let p=u.top;p<=u.bottom;p++){const g={sheetName:u.sheetName,address:o.n2l(d)+p,row:p,col:d};f.addCellEx(g)}else f.addCellEx(u)}remove(u,h){const f=o.decodeEx(u);this.removeEx(f,h)}removeEx(u,h){this.getMatrix(h).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,h=>{h.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(h,f)=>{h.forEach(d=>{u(f,d)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(h,f)=>h.findCellEx(u)&&f).filter(Boolean)}_explore(u,h){h.mark=!1;const{sheetName:f}=h,d=new l(h.row,h.col,h.row,h.col,f);let p,g;function m(y,x){const w=u.findCellAt(f,y,h.col);return!(!w||!w.mark)&&(d[x]=y,w.mark=!1,!0)}for(g=h.row-1;m(g,"top");g--);for(g=h.row+1;m(g,"bottom");g++);function v(y,x){const w=[];for(g=d.top;g<=d.bottom;g++){const _=u.findCellAt(f,g,y);if(!_||!_.mark)return!1;w.push(_)}d[x]=y;for(let _=0;_<w.length;_++)w[_].mark=!1;return!0}for(p=h.col-1;v(p,"left");p--);for(p=h.col+1;v(p,"right");p++);return d}getRanges(u,h){return(h=h||this.matrixMap[u])?(h.forEach(f=>{f.mark=!0}),{name:u,ranges:h.map(f=>f.mark&&this._explore(h,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,h){u.forEachInSheet(h,(f,d,p)=>{f&&(f.row===d&&f.col===p||(f.row=d,f.col=p,f.address=o.n2l(p)+d))})}spliceRows(u,h,f,d){s.each(this.matrixMap,p=>{p.spliceRows(u,h,f,d),this.normaliseMatrix(p,u)})}spliceColumns(u,h,f,d){s.each(this.matrixMap,p=>{p.spliceColumns(u,h,f,d),this.normaliseMatrix(p,u)})}get model(){return s.map(this.matrixMap,(u,h)=>this.getRanges(h,u)).filter(u=>u.ranges.length)}set model(u){const h=this.matrixMap={};u.forEach(f=>{const d=h[f.name]=new a;f.ranges.forEach(p=>{c.test(p.split("!").pop()||"")&&d.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const s=r("../utils/col-cache"),o=r("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:c,range:u,hyperlinks:h}=a;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const f=s.decode(u);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:h||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const s=r("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new o;return c.model=l,c}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,c,u,h,f){if(arguments.length<4){const d=s.decodeAddress(l),p=s.decodeAddress(c);this.model={top:Math.min(d.row,p.row),left:Math.min(d.col,p.col),bottom:Math.max(d.row,p.row),right:Math.max(d.col,p.col),sheetName:u},this.setTLBR(d.row,d.col,p.row,p.col,f)}else this.model={top:Math.min(l,u),left:Math.min(c,h),bottom:Math.max(l,u),right:Math.max(c,h),sheetName:f}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof o)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=s.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,h){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=s.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=s.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,c),u,c)}}n.exports=o},{"../utils/col-cache":19}],11:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const h=this._worksheet.getColumn(c.col);u=new l(this,h,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:a.l2n(c)}return this._cells[c-1]||this.getCellEx({address:a.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const h=c+u;for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];const g=d.length-u,m=this._cells.length;let v,y,x;if(g<0)for(v=c+d.length;v<=m;v++)x=this._cells[v-1],y=this._cells[v-g-1],y?(x=this.getCell(v),x.value=y.value,x.style=y.style,x._comment=y._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(g>0)for(v=m;v>=h;v--)y=this._cells[v-1],y?(x=this.getCell(v+g),x.value=y.value,x.style=y.style,x._comment=y._comment):this._cells[v+g-1]=void 0;for(v=0;v<d.length;v++)x=this.getCell(c+v),x.value=d[v],x.style={},x._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const h=this._cells.length;for(let f=1;f<=h;f++)u(this.getCell(f),f)}else this._cells.forEach((h,f)=>{h&&h.type!==o.ValueType.Null&&u(h,f+1)})}addPageBreak(c,u){const h=this._worksheet,f=Math.max(0,c-1)||0,d=Math.max(0,u-1)||16838,p={id:this._number,max:d,man:1};f&&(p.min=f),h.rowBreaks.push(p)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((h,f)=>{h!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,f+u),row:this._number,col:f+u}).value=h)})}else this._worksheet.eachColumnKey((u,h)=>{c[h]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[h])})}get hasValues(){return s.some(this._cells,c=>c&&c.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(h=>{h&&h.type!==o.ValueType.Null&&((!c||c>h.col)&&(c=h.col),u<h.col&&(u=h.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(h=>{h&&(h[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,h=0;return this._cells.forEach(f=>{if(f){const d=f.model;d&&((!u||u>f.col)&&(u=f.col),h<f.col&&(h=f.col),c.push(d))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(h=>{switch(h.type){case l.Types.Merge:break;default:{let f;if(h.address)f=a.decodeAddress(h.address);else if(u){const{row:d}=u,p=u.col+1;f={row:d,col:p,address:a.encodeAddress(d,p),$col$row:`$${a.n2l(p)}$${d}`}}u=f,this.getCellEx(f).model=h;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const c=(g,m)=>{if(!g)throw new Error(m)};c(a.ref,"Table must have ref"),c(a.columns,"Table must have column definitions"),c(a.rows,"Table must have row definitions"),a.tl=s.decodeAddress(a.ref);const{row:u,col:h}=a.tl;c(u>0,"Table must be on valid row"),c(h>0,"Table must be on valid col");const{width:f,filterHeight:d,tableHeight:p}=this;a.autoFilterRef=s.encode(u,h,u+d-1,h+f-1),a.tableRef=s.encode(u,h,u+p-1,h+f-1),a.columns.forEach((g,m)=>{c(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const a=(d,p)=>{p&&Object.keys(p).forEach(g=>{d[g]=p[g]})},{worksheet:l,table:c}=this,{row:u,col:h}=c.tl;let f=0;if(c.headerRow){const d=l.getRow(u+f++);c.columns.forEach((p,g)=>{const{style:m,name:v}=p,y=d.getCell(h+g);y.value=v,a(y,m)})}if(c.rows.forEach(d=>{const p=l.getRow(u+f++);d.forEach((g,m)=>{const v=p.getCell(h+m);v.value=g,a(v,c.columns[m].style)})}),c.totalsRow){const d=l.getRow(u+f++);c.columns.forEach((p,g)=>{const m=d.getCell(h+g);if(g===0)m.value=p.totalsRowLabel;else{const v=this.getFormula(p);m.value=v?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}a(m,p.style)})}}load(a){const{table:l}=this,{row:c,col:u}=l.tl;let h=0;if(l.headerRow){const f=a.getRow(c+h++);l.columns.forEach((d,p)=>{f.getCell(u+p).value=d.name})}if(l.rows.forEach(f=>{const d=a.getRow(c+h++);f.forEach((p,g)=>{d.getCell(u+g).value=p})}),l.totalsRow){const f=a.getRow(c+h++);l.columns.forEach((d,p)=>{const g=f.getCell(u+p);p===0?g.value=d.totalsRowLabel:this.getFormula(d)&&(g.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(a.col+u).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new o(this,l,a)}addColumn(a,l,c){this.cacheState(),c===void 0?(this.table.columns.push(a),this.table.rows.forEach((u,h)=>{u.push(l[h])})):(this.table.columns.splice(c,0,a),this.table.rows.forEach((u,h)=>{u.splice(c,0,l[h])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(c=>{c.splice(a,l)})}_assign(a,l,c){this.cacheState(),a[l]=c}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,n,i){const s=r("./worksheet"),o=r("./defined-names"),a=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const h=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const f=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),d=Object.assign({},u,{id:h,name:c,orderNo:f+1,workbook:this}),p=new s(d);return this._worksheets[h]=p,p}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:h,name:f,state:d}=u,p=c.sheets&&c.sheets.findIndex(g=>g.id===h);(this._worksheets[h]=new s({id:h,name:f,orderNo:p,state:d,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("./range"),l=r("./row"),c=r("./column"),u=r("./enums"),h=r("./image"),f=r("./table"),d=r("./data-validations"),p=r("../utils/encryptor"),{copyStyle:g}=r("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new a;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&m.expand(v.number,y.min,v.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((x,w)=>{const _=(w.header?1:w.headers&&w.headers.length)||0;return Math.max(x,_)},0);let v=1;const y=this._columns=[];m.forEach(x=>{const w=new c(this,v++,!1);y.push(w),w.defn=x})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){s.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new c(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const y=this._rows.length;for(var x=arguments.length,w=new Array(x>2?x-2:0),_=2;_<x;_++)w[_-2]=arguments[_];if(w.length>0)for(let O=0;O<y;O++){const H=[m,v];w.forEach(I=>{H.push(I[O]||null)});const G=this.getRow(O+1);G.splice.apply(G,H)}else this._rows.forEach(O=>{O&&O.splice(m,v)});const M=w.length-v,U=m+v,L=this._columns.length;if(M<0)for(let O=m+w.length;O<=L;O++)this.getColumn(O).defn=this.getColumn(O-M).defn;else if(M>0)for(let O=L;O>=U;O--)this.getColumn(O+M).defn=this.getColumn(O).defn;for(let O=m;O<m+w.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,w.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(y=>{y.eachCell(x=>{let{col:w}=x;m[w]||(m[w]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const y=[];for(let x=m;x<m+v;x++)y.push(this.getRow(x));return y}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,x=this.getRow(y);return x.values=m,this._setStyleOption(y,v[0]==="i"?v:"n"),x}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(x=>{y.push(this.addRow(x,v))}),y}insertRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),y!=="n")for(let x=0;x<v.length;x++)y[0]==="o"&&this.findRow(v.length+m+x)!==void 0?this._copyStyle(v.length+m+x,m+x,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+x,y[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(m),w=this.getRow(v);w.style=g(x.style),x.eachCell({includeEmpty:y},(_,M)=>{w.getCell(M).style=g(_.style)}),w.height=x.height}duplicateRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[m-1],w=new Array(v).fill(x.values);this.spliceRows(m+1,y?0:v,...w);for(let _=0;_<v;_++){const M=this._rows[m+_];M.style=x.style,M.height=x.height,x.eachCell({includeEmpty:!0},(U,L)=>{M.getCell(L).style=U.style})}}spliceRows(m,v){const y=m+v;for(var x=arguments.length,w=new Array(x>2?x-2:0),_=2;_<x;_++)w[_-2]=arguments[_];const M=w.length,U=M-v,L=this._rows.length;let O,H;if(U<0)for(m===L&&(this._rows[L-1]=void 0),O=y;O<=L;O++)if(H=this._rows[O-1],H){const G=this.getRow(O+U);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(I,R)=>{G.getCell(R).style=I.style}),this._rows[O-1]=void 0}else this._rows[O+U-1]=void 0;else if(U>0)for(O=L;O>=y;O--)if(H=this._rows[O-1],H){const G=this.getRow(O+U);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(I,R)=>{if(G.getCell(R).style=I.style,I._value.constructor.name==="MergeValue"){const S=this.getRow(I._row._number+M).getCell(R),j=I._value._master,k=this.getRow(j._row._number+M).getCell(j._column._number);S.merge(k)}})}else this._rows[O+U-1]=void 0;for(O=0;O<M;O++){const G=this.getRow(m+O);G.style={},G.values=w[O]}this.workbook.definedNames.spliceRows(this.name,m,v,M)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let x=1;x<=y;x++)v(this.getRow(x),x)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const y=o.getAddress(m,v),x=this._rows[y.row-1];return x?x.findCell(y.col):void 0}getCell(m,v){const y=o.getAddress(m,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const x=new a(v);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const x=new a(v);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(m,v){s.each(this._merges,x=>{if(x.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let x=m.top;x<=m.bottom;x++)for(let w=m.left;w<=m.right;w++)(x>m.top||w>m.left)&&this.getCell(x,w).merge(y,v);this._merges[y.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let x=v.left;x<=v.right;x++)this.getCell(y,x).unmerge();delete this._merges[m.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const x=new a(v);for(let w=x.top;w<=x.bottom;w++)for(let _=x.left;_<=x.right;_++){const M=this.findCell(w,_);M&&(M.type===u.ValueType.Merge?this._unMergeMaster(M.master):this._merges[M.address]&&this._unMergeMaster(M))}}fillFormula(m,v,y){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const w=o.decode(m),{top:_,left:M,bottom:U,right:L}=w,O=L-M+1,H=o.encodeAddress(_,M),G=x==="shared";let I;I=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(S,j)=>y[S-_][j-M]:(S,j)=>y[(S-_)*O+(j-M)]:()=>{};let R=!0;for(let S=_;S<=U;S++)for(let j=M;j<=L;j++)R?(this.getCell(S,j).value={shareType:x,formula:v,ref:m,result:I(S,j)},R=!1):this.getCell(S,j).value=G?{sharedFormula:H,result:I(S,j)}:I(S,j)}addImage(m,v){const y={type:"image",imageId:m,range:v};this._media.push(new h(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new h(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};m.cols=c.toModel(this.columns);const v=m.rows=[],y=m.dimensions=new a;return this._rows.forEach(x=>{const w=x&&x.model;w&&(y.expand(w.number,w.min,w.number,w.max),v.push(w))}),m.merges=[],s.each(this._merges,x=>{m.merges.push(x.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(m){s.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=c.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new h(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,y)=>{const x=new f;return x.model=y,v[y.name]=x,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const s={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(a=>{s[a]=o[a]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(r,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=r("buffer");i.stringToBuffer=function(a){return typeof a!="string"?a:s?o.from(s.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(r,n,i){const s=r("./under-dash"),o=r("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,l,c){const u=this.sheets[a],h=u&&u[l];return h&&h[c]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let c=a.left;c<=a.right;c++)this.getCellAt(a.sheetName,l,c);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const c=this.findSheet(a,l),u=this.findSheetRow(c,a,l);return this.findRowCell(u,a,l)}getCellAt(a,l,c){const u=this.sheets[a]||(this.sheets[a]=[]),h=u[l]||(u[l]=[]);return h[c]||(h[c]={sheetName:a,address:o.n2l(c)+l,row:l,col:c})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const c=this.findSheetRow(l,a);c&&delete c[a.col]}forEachInSheet(a,l){const c=this.sheets[a];c&&c.forEach((u,h)=>{u&&u.forEach((f,d)=>{f&&l(f,h,d)})})}forEach(a){s.each(this.sheets,(l,c)=>{this.forEachInSheet(c,a)})}map(a){const l=[];return this.forEach(c=>{l.push(a(c))}),l}findSheet(a,l){const c=a.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(a,l,c){const{row:u}=l;return a&&a[u]?a[u]:c?a[u]=[]:void 0}findRowCell(a,l,c){const{col:u}=l;return a&&a[u]?a[u]:c?a[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,c,u){const h=this.sheets[a];if(h){const f=[];for(let d=0;d<u;d++)f.push([]);h.splice(l,c,...f)}}spliceColumns(a,l,c,u){const h=this.sheets[a];if(h){const f=[];for(let d=0;d<u;d++)f.push(null);s.each(h,d=>{d.splice(l,c,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,c,u,h,f,d=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(d=27;d<=702;)c=d-27,u=c%26,h=Math.floor(c/26),l=this._dictionary[h]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(d=703;d<=16384;)c=d-703,u=c%26,h=Math.floor(c/26)%26,f=Math.floor(c/676),l=this._dictionary[f]+this._dictionary[h]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!s.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let c=!1,u="",h=0,f=!1,d="",p=0;for(let m,v=0;v<a.length;v++)if(m=a.charCodeAt(v),!f&&m>=65&&m<=90)c=!0,u+=a[v],h=26*h+m-64;else if(m>=48&&m<=57)f=!0,d+=a[v],p=10*p+m-48;else if(f&&c&&m!==36)break;if(c){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else h=void 0;f||(p=void 0);const g={address:a=u+d,col:h,row:p,$col$row:`$${u}$${d}`};return h<=100&&p<=100&&(this._hash[a]=g,this._hash[g.$col$row]=g),g},getAddress(a,l){if(l){const c=this.n2l(l)+a;return this.decodeAddress(c)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),h={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],h=u.split(":");if(h.length>1){let d=this.decodeAddress(h[0]),p=this.decodeAddress(h[1]);const g=Math.min(d.row,p.row),m=Math.min(d.col,p.col),v=Math.max(d.row,p.row),y=Math.max(d.col,p.col);return d=this.n2l(m)+g,p=this.n2l(y)+v,{top:g,left:m,bottom:v,right:y,sheetName:c,tl:{address:d,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:c},br:{address:p,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:c},dimensions:`${d}:${p}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const f=this.decodeAddress(u);return c?{sheetName:c,...f}:f},encodeAddress:(a,l)=>o.n2l(l)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[c,u,,h,f]=a,[d,p]=l;return d>=c&&d<=h&&p>=u&&p<=f}};n.exports=o},{}],20:[function(r,n,i){const s=(a,l)=>({...a,...l.reduce((c,u)=>(a[u]&&(c[u]={...a[u]}),c),{})}),o=function(a,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[c]&&(l[c]=s(a[c],u))};i.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const c={...a};return o(a,c,"font",["color"]),o(a,c,"alignment"),o(a,c,"protection"),a.border&&(o(a,c,"border"),o(a.border,c.border,"top",["color"]),o(a.border,c.border,"left",["color"]),o(a.border,c.border,"bottom",["color"]),o(a.border,c.border,"right",["color"]),o(a.border,c.border,"diagonal",["color"])),a.fill&&(o(a,c,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(c.fill.stops=a.fill.stops.map(u=>s(u,["color"])))),c}},{}],21:[function(r,n,i){(function(s){(function(){const o=r("crypto"),a={hash(l){const c=o.createHash(l);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return c.update(s.concat(h)),c.digest()},convertPasswordToHash(l,c,u,h){if(c=c.toLowerCase(),o.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const f=s.from(l,"utf16le");let d=this.hash(c,s.from(u,"base64"),f);for(let p=0;p<h;p++){const g=s.alloc(4);g.writeUInt32LE(p,0),d=this.hash(c,d,g)}return d.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:s}=r("saxes"),{PassThrough:o}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const c=new s;let u;c.on("error",f=>{u=f});let h=[];c.on("opentag",f=>h.push({eventType:"opentag",value:f})),c.on("text",f=>h.push({eventType:"text",value:f})),c.on("closetag",f=>h.push({eventType:"closetag",value:f}));for await(const f of l){if(c.write(a(f)),u)throw u;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const s=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const h=s.decode(c),f=s.decode(u);return l.replace(o,(d,p,g,m,v)=>{if(v)return d;const y=a.exec(m);if(y){const x=y[1],w=y[2].toUpperCase(),_=y[3],M=y[4];if(w.length>3||w.length===3&&w>"XFD")return d;let U=s.l2n(w),L=parseInt(M,10);return x||(U+=f.col-h.col),_||(L+=f.row-h.row),(p||"")+(x||"")+s.n2l(U)+(_||"")+L}return d})}}},{"./col-cache":19}],24:[function(r,n,i){(function(s,o){(function(){const a=r("readable-stream"),l=r("./utils"),c=r("./string-buf");class u{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,y,x){return this.toBuffer().copy(m,v,y,x)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,x){return this._data._buf.copy(m,v,y,x)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,x){this._data.copy(m,v,y,x)}toBuffer(){return this._data}}class d{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=o.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,y){const x=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+x),this.iWrite+=x,x}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new d(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let y;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof c)y=new h(g);else if(g instanceof o)y=new f(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),s.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const y=x=>{x?v(x):(this._flush(),this.pipes.forEach(w=>{w.end()}),this.emit("finish"))};g?this.write(g,m,y):y()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(g);g-=y.length,m.push(y),v.eod&&v.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=p}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const l=s.alloc(a);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,a={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,h)=>(u[h[c]]=h,u),{}),isEqual:function(l,c){const u=typeof l,h=typeof c,f=Array.isArray(l),d=Array.isArray(c);let p;if(u!==h)return!1;switch(typeof l){case"object":if(f||d)return!(!f||!d)&&l.length===c.length&&l.every((g,m)=>{const v=c[m];return a.isEqual(g,v)});if(l===null||c===null)return l===c;if(p=Object.keys(l),Object.keys(c).length!==p.length)return!1;for(const g of p)if(!c.hasOwnProperty(g))return!1;return a.every(l,(g,m)=>{const v=c[m];return a.isEqual(g,v)});default:return l===c}},escapeHtml(l){const c=o.exec(l);if(!c)return l;let u="",h="",f=0,d=c.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}f!==d&&(u+=l.substring(f,d)),f=d+1,u+=h}return f!==d?u+l.substring(f,d):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,h,f;function d(p,g){u=l[g],f=Array.isArray(p),a.isObject(p)||f?(f?(f=!1,h=u&&Array.isArray(u)?u:[]):h=u&&a.isObject(u)?u:{},l[g]=a.deepMerge(h,p)):a.isUndefined(p)||(l[g]=p)}for(let p=0;p<c;p++)a.each(arguments[p],d);return l}};n.exports=a},{}],27:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(h=>{s.setImmediate?o(()=>{h(u)}):setTimeout(()=>{h(u)},1)}),inherits:function(u,h,f,d){u.super_=h,d||(d=f,f=null),f&&Object.keys(f).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(f,g))});const p={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(d,g)}),u.prototype=Object.create(h.prototype,p)},dateToExcel:(u,h)=>25569+u.getTime()/864e5-(h?1462:0),excelToDate(u,h){const f=Math.round(24*(u-25569+(h?1462:0))*3600*1e3);return new Date(f)},parsePath(u){const h=u.lastIndexOf("/");return{path:u.substring(0,h),name:u.substring(h+1)}},getRelsPath(u){const h=c.parsePath(u);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(u){const h=l.exec(u);if(!h)return u;let f="",d="",p=0,g=h.index;for(;g<u.length;g++){const m=u.charCodeAt(g);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}p!==g&&(f+=u.substring(p,g)),p=g+1,d&&(f+=d)}return p!==g?f+u.substring(p,g):f},xmlDecode:u=>u.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(u){const h=parseInt(u,10);return Number.isNaN(h)?0:h},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(h=>{a.access(u,a.constants.F_OK,f=>{h(!f)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const s=r("./under-dash"),o=r("./utils");function a(u,h,f){u.push(` ${h}="${o.xmlEncode(f.toString())}"`)}function l(u,h){if(h){const f=[];s.each(h,(d,p)=>{d!==void 0&&a(f,p,d)}),u.push(f.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const f=this._xml;f.push("<?xml"),l(f,h),f.push(`?>
`)}openNode(h,f){const d=this.tos,p=this._xml;d&&this.open&&p.push(">"),this._stack.push(h),p.push("<"),p.push(h),l(p,f),this.leaf=!0,this.open=!0}addAttribute(h,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&a(this._xml,h,f)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,h)}writeText(h){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(h),f.push(">")),this.open=!1,this.leaf=!1}leafNode(h,f,d){this.openNode(h,f),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(s){(function(){const o=r("events"),a=r("jszip"),l=r("./stream-buf"),{stringToBuffer:c}=r("./browser-buffer-encode");class u extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new a,this.stream=new l}append(f,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,f,{base64:!0}):(s.browser&&typeof f=="string"&&(f=c(f)),this.zip.file(d.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,d){return this.stream.pipe(f,d)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:u}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const s=r("../../utils/parse-sax"),o=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof a?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:h,value:f}of u)if(h==="opentag")this.parseOpen(f);else if(h==="text")this.parseText(f);else if(h==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(c){return this.parse(s(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new o;return this.render(u,c),u.xml}static toAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c.toString()}static toStringAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/col-cache");function a(c){try{return o.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let h=!1,f="";return c.split(",").forEach(d=>{if(!d)return;const p=(d.match(/'/g)||[]).length;if(!p)return void(h?f+=d+",":a(d)&&u.push(d));const g=p%2==0;!h&&g&&a(d)?u.push(d):h&&!g?(h=!1,a(f+d)&&u.push(f+d),f=""):(h=!0,f+=d+",")}),u}n.exports=class extends s{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:s.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},l=function(u,h,f){const d=h!==void 0?a[u]=h:f;d!==void 0&&(a[u]=d)},c=function(u,h,f){const d=h!==void 0?a[u]=parseInt(h,10):f;d!==void 0&&(a[u]=d)};return c("x",o.attributes.xWindow,0),c("y",o.attributes.yWindow,0),c("width",o.attributes.windowWidth,25e3),c("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),c("activeTab",o.attributes.activeTab,void 0),c("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../base-xform"),c=r("../static-xform"),u=r("../list-xform"),h=r("./defined-name-xform"),f=r("./sheet-xform"),d=r("./workbook-view-xform"),p=r("./workbook-properties-xform"),g=r("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new f}),definedNames:new u({tag:"definedNames",count:!1,childXform:new h}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const x=[];let w=0;y.sheets.forEach(_=>{if(_.pageSetup&&_.pageSetup.printArea&&_.pageSetup.printArea.split("&&").forEach(M=>{const U=M.split(":"),L={name:"_xlnm.Print_Area",ranges:[`'${_.name}'!$${U[0]}:$${U[1]}`],localSheetId:w};x.push(L)}),_.pageSetup&&(_.pageSetup.printTitlesRow||_.pageSetup.printTitlesColumn)){const M=[];if(_.pageSetup.printTitlesColumn){const L=_.pageSetup.printTitlesColumn.split(":");M.push(`'${_.name}'!$${L[0]}:$${L[1]}`)}if(_.pageSetup.printTitlesRow){const L=_.pageSetup.printTitlesRow.split(":");M.push(`'${_.name}'!$${L[0]}:$${L[1]}`)}const U={name:"_xlnm.Print_Titles",ranges:M,localSheetId:w};x.push(U)}w++}),x.length&&(y.definedNames=y.definedNames.concat(x)),(y.media||[]).forEach((_,M)=>{_.name=_.type+(M+1)})}render(y,x){y.openXml(a.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,x.properties),this.map.bookViews.render(y,x.views),this.map.sheets.render(y,x.sheets),this.map.definedNames.render(y,x.definedNames),this.map.calcPr.render(y,x.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const x=(y.workbookRels||[]).reduce((L,O)=>(L[O.Id]=O,L),{}),w=[];let _,M=0;(y.sheets||[]).forEach(L=>{const O=x[L.rId];O&&(_=y.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],_&&(_.name=L.name,_.id=L.id,_.state=L.state,w[M++]=_))});const U=[];s.each(y.definedNames,L=>{if(L.name==="_xlnm.Print_Area"){if(_=w[L.localSheetId],_){_.pageSetup||(_.pageSetup={});const O=o.decodeEx(L.ranges[0]);_.pageSetup.printArea=_.pageSetup.printArea?`${_.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(L.name==="_xlnm.Print_Titles"){if(_=w[L.localSheetId],_){_.pageSetup||(_.pageSetup={});const O=L.ranges.join(","),H=/\$/g,G=/\$\d+:\$\d+/,I=O.match(G);if(I&&I.length){const j=I[0];_.pageSetup.printTitlesRow=j.replace(H,"")}const R=/\$[A-Z]+:\$[A-Z]+/,S=O.match(R);if(S&&S.length){const j=S[0];_.pageSetup.printTitlesColumn=j.replace(H,"")}}}else U.push(L)}),y.definedNames=U,y.media.forEach((L,O)=>{L.index=O})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const s=r("../strings/rich-text-xform"),o=r("../../../utils/utils"),a=r("../base-xform"),l=n.exports=function(c){this.model=c};o.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(h=>{this.richTextXform.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),a=r("../base-xform"),l=r("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};o.inherits(c,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,h){h=h||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),h.comments.forEach(f=>{this.map.comment.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),l=Math.floor(68*(o.left-a)),c=Math.floor(o.top),u=Math.floor(18*(o.top-c)),h=Math.floor(o.right),f=Math.floor(68*(o.right-h)),d=Math.floor(o.bottom);return[a,l,c,u,h,f,d,Math.floor(18*(o.bottom-d))]}getDefaultRect(o){const a=o.col,l=Math.max(o.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(o,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,h){const{protection:f,editAs:d}=h.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,c),this.map["x:SizeWithCells"].render(u,d,c),this.map["x:Anchor"].render(u,h),this.map["x:Locked"].render(u,f.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,f.lockText),u.leafNode("x:Row",null,h.refAddress.row-1),u.leafNode("x:Column",null,h.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(u).length;this.model.editAs=c[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(u,h){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),h.comments.forEach((f,d)=>{this.map["v:shape"].render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,h){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,h):this.map["xdr:oneCellAnchor"].reconcile(f,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(u,h,f){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(h,f)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,h),this.map["x:ClientData"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,a,l){return`${parseFloat(o)*a.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:c}=a.note&&a.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(f,d){f.openXml(s.StdDocAttributes),f.openNode("Properties",u.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,d.worksheets),this.map.TitleOfParts.render(f,d.worksheets),this.map.Company.render(f,d.company||""),this.map.Manager.render(f,d.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform");class a extends o{render(c,u){c.openXml(s.StdDocAttributes),c.openNode("Types",a.PROPERTY_ATTRIBUTES);const h={};(u.media||[]).forEach(f=>{if(f.type==="image"){const d=f.extension;h[d]||(h[d]=!0,c.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(f=>{const d=`/xl/worksheets/sheet${f.id}.xml`;c.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(f=>{c.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(f=>{c.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(f=>{let{commentName:d}=f;c.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/date-xform"),l=r("../simple/string-xform"),c=r("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(f,d){f.openXml(s.StdDocAttributes),f.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,d.creator),this.map["dc:title"].render(f,d.title),this.map["dc:subject"].render(f,d.subject),this.map["dc:description"].render(f,d.description),this.map["dc:identifier"].render(f,d.identifier),this.map["dc:language"].render(f,d.language),this.map["cp:keywords"].render(f,d.keywords),this.map["cp:category"].render(f,d.category),this.map["cp:lastModifiedBy"].render(f,d.lastModifiedBy),this.map["cp:lastPrinted"].render(f,d.lastPrinted),this.map["cp:revision"].render(f,d.revision),this.map["cp:version"].render(f,d.version),this.map["cp:contentStatus"].render(f,d.contentStatus),this.map["cp:contentType"].render(f,d.contentType),this.map["dcterms:created"].render(f,d.created),this.map["dcterms:modified"].render(f,d.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new a}}render(u,h){h=h||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),h.forEach(f=>{this.map.Relationship.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const l=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=a.mediaIndex[c];return a.media[u]}}}}},{"../base-xform":32}],57:[function(r,n,i){const s=r("../base-xform"),o=r("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const s=r("../base-xform"),o=r("./hlink-click-xform"),a=r("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const s=r("../base-xform"),o=r("../simple/integer-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform");class u extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(f){f.anchors.forEach((d,p)=>{d.anchorType=function(g){return(typeof g.range=="string"?s.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:p})})}get tag(){return"xdr:wsDr"}render(f,d){f.openXml(o.StdDocAttributes),f.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(p=>{this.map[p.anchorType].render(f,p)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,d){f.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,d):this.map["xdr:oneCellAnchor"].reconcile(p,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const l=Math.floor(9525*a.width),c=Math.floor(9525*a.height);o.addAttribute("cx",l),o.addAttribute("cy",c),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const s=r("../base-xform"),o=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./ext-xform"),c=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,h){this.map["xdr:pic"].prepare(u.picture,h)}render(u,h){u.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,h.range.tl),this.map["xdr:ext"].render(u,h.range.ext),this.map["xdr:pic"].render(u,h.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,h){u.medium=this.reconcilePicture(u.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const s=r("../base-xform"),o=r("../static-xform"),a=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),c=r("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new o(c)}}get tag(){return"xdr:pic"}prepare(u,h){u.index=h.index+1}render(u,h){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,h),this.map["xdr:blipFill"].render(u,h),this.map["xdr:spPr"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:l}=this;o&&o.forEach((c,u)=>{a.index=u,l.prepare(c,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((c,u)=>{l.render(o,c,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:l}=this;o.forEach(c=>{l.reconcile(c,a)})}}}},{"./base-xform":32}],72:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const c=function(f){return typeof f=="string"?f:s.getAddress(f.row,f.column).address},u=c(l.from),h=c(l.to);u&&h&&a.leafNode("autoFilter",{ref:`${u}:${h}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform"),a=r("../../../doc/range"),l=r("../../../doc/enums"),c=r("../strings/rich-text-xform");function u(h){if(h==null)return l.ValueType.Null;if(h instanceof String||typeof h=="string")return l.ValueType.String;if(typeof h=="number")return l.ValueType.Number;if(typeof h=="boolean")return l.ValueType.Boolean;if(h instanceof Date)return l.ValueType.Date;if(h.text&&h.hyperlink)return l.ValueType.Hyperlink;if(h.formula)return l.ValueType.Formula;if(h.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(h,f){const d=f.styles.addStyleModel(h.style||{},function(p){switch(p.type){case l.ValueType.Formula:return u(p.result);default:return p.type}}(h));switch(d&&(h.styleId=d),h.comment&&f.comments.push({...h.comment,ref:h.address}),h.type){case l.ValueType.String:case l.ValueType.RichText:f.sharedStrings&&(h.ssId=f.sharedStrings.add(h.value));break;case l.ValueType.Date:f.date1904&&(h.date1904=!0);break;case l.ValueType.Hyperlink:f.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=f.sharedStrings.add(h.text)),f.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case l.ValueType.Merge:f.merges.add(h);break;case l.ValueType.Formula:if(f.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=f.siFormulae++),h.formula)f.formulae[h.address]=h;else if(h.sharedFormula){const p=f.formulae[h.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);p.si===void 0?(p.shareType="shared",p.si=f.siFormulae++,p.range=new a(p.address,h.address)):p.range&&p.range.expandToAddress(h.address),h.si=p.si}}}renderFormula(h,f){let d=null;switch(f.shareType){case"shared":d={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":d={t:"array",ref:f.ref};break;default:f.si!==void 0&&(d={t:"shared",si:f.si})}switch(u(f.result)){case l.ValueType.Null:h.leafNode("f",d,f.formula);break;case l.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result);break;case l.ValueType.Number:h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result?1:0);break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",d,f.formula),h.leafNode("v",null,f.result.error);break;case l.ValueType.Date:h.leafNode("f",d,f.formula),h.leafNode("v",null,s.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,f){if(f.type!==l.ValueType.Null||f.styleId){switch(h.openNode("c"),h.addAttribute("r",f.address),f.styleId&&h.addAttribute("s",f.styleId),f.type){case l.ValueType.Null:break;case l.ValueType.Number:h.leafNode("v",null,f.value);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,f.value?"1":"0");break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,f.value.error);break;case l.ValueType.String:case l.ValueType.RichText:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),f.value.richText.forEach(d=>{this.richTextXForm.render(h,d)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,f.value));break;case l.ValueType.Date:h.leafNode("v",null,s.dateToExcel(f.value,f.date1904));break;case l.ValueType.Hyperlink:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,f.text));break;case l.ValueType.Formula:this.renderFormula(h,f);break;case l.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=l.ValueType.Formula,f.value&&(this.t==="str"?f.result=s.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=l.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=l.ValueType.String,f.value=s.xmlDecode(f.value);break;case"inlineStr":f.type=l.ValueType.String;break;case"b":f.type=l.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=l.ValueType.Error,f.value={error:f.value};break;default:f.type=l.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=l.ValueType.Null:f.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,f){const d=h.styleId&&f.styles&&f.styles.getStyleModel(h.styleId);switch(d&&(h.style=d),h.styleId!==void 0&&(h.styleId=void 0),h.type){case l.ValueType.String:typeof h.value=="number"&&f.sharedStrings&&(h.value=f.sharedStrings.getString(h.value)),h.value.richText&&(h.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&s.isDateFmt(d.numFmt)&&(h.type=l.ValueType.Date,h.value=s.excelToDate(h.value,f.date1904));break;case l.ValueType.Formula:h.result!==void 0&&d&&s.isDateFmt(d.numFmt)&&(h.result=s.excelToDate(h.result,f.date1904)),h.shareType==="shared"&&(h.ref?f.formulae[h.si]=h.address:(h.sharedFormula=f.formulae[h.si],delete h.shareType),delete h.si)}const p=f.hyperlinkMap[h.address];p&&(h.type===l.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=l.ValueType.Hyperlink,h.hyperlink=p);const g=f.commentsMap&&f.commentsMap[h.address];g&&(h.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:s.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:s}=r("uuid"),o=r("../../base-xform"),a=r("../../composite-xform"),l=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){h.isExt(d)&&(d.x14Id=`{${s()}}`.toUpperCase())}render(d,p){if(h.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(d,p);break;case"iconSet":this.renderIconSet(d,p)}}renderDataBar(d,p){d.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(d,p),d.closeNode()}renderIconSet(d,p){d.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${s()}}`}),this.iconSetXform.render(d,p),d.closeNode()}createNewModel(d){let{attributes:p}=d;return{type:p.type,x14Id:p.id,priority:o.toIntValue(p.priority)}}onParserClose(d,p){Object.assign(this.model,p.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const s=r("../../composite-xform"),o=r("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const s=r("../../composite-xform"),o=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(a.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(o.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),u.icons&&u.icons.forEach((h,f)=>{h.iconId=f,this.cfIconXform.render(c,h)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../../../doc/range"),l=r("./databar-xform"),c=r("./ext-lst-ref-xform"),u=r("./formula-xform"),h=r("./color-scale-xform"),f=r("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:v,operator:y}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!d[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(x=>{this.formulaXform.render(v,x)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:s.toBoolAttribute(y.percent,!1),bottom:s.toBoolAttribute(y.bottom,!1),rank:s.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:s.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){g.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:s.toStringAttribute(y.operator,"containsText")});const x=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];const _=new a(w.ref),{tl:M}=_;switch(w.operator){case"containsText":return`NOT(ISERROR(SEARCH("${w.text}",${M})))`;case"containsBlanks":return`LEN(TRIM(${M}))=0`;case"notContainsBlanks":return`LEN(TRIM(${M}))>0`;case"containsErrors":return`ISERROR(${M})`;case"notContainsErrors":return`NOT(ISERROR(${M}))`;default:return}})(y);x&&this.formulaXform.render(v,x),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const x=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];const _=new a(w.ref),{tl:M}=_;switch(w.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${M},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${M},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${M},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${M},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${M},1)=TODAY()-1`;case"today":return`FLOOR(${M},1)=TODAY()`;case"tomorrow":return`FLOOR(${M},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${M},1)<=6,FLOOR(${M},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0-1)),YEAR(${M})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${M})=MONTH(TODAY()),YEAR(${M})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0+1)),YEAR(${M})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);x&&this.formulaXform.render(v,x),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...p(y),dxfId:s.toIntValue(y.dxfId),priority:s.toIntValue(y.priority),timePeriod:y.timePeriod,percent:s.toBoolValue(y.percent),bottom:s.toBoolValue(y.bottom),rank:s.toIntValue(y.rank),aboveAverage:s.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{o.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(a,c))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const s=r("../../base-xform"),o=r("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let c=a.reduce((u,h)=>Math.max(u,...h.rules.map(f=>f.priority||0)),1);a.forEach(u=>{u.rules.forEach(h=>{h.priority||(h.priority=c++),h.style&&(h.dxfId=l.styles.addDxfStyle(h.style))})})}render(a,l){l.forEach(c=>{this.cfXform.render(a,c)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform");class a extends s{get tag(){return"x14:id"}render(u,h){u.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(u,h){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,h.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,h){this.model.x14Id=h.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse),showValue:s.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(a,l){const c=l.styles.addStyleModel(a.style||{});c&&(a.styleId=c)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),s.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/utils"),a=r("../../../utils/col-cache"),l=r("../base-xform"),c=r("../../../doc/range");function u(f,d,p,g){const m=d[p];m!==void 0?f[p]=m:g!==void 0&&(f[p]=g)}function h(f,d,p,g){const m=d[p];m!==void 0&&(f[p]=o.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(f,d){const p=function(g){const m=s.map(g,(x,w)=>({address:w,dataValidation:x,marked:!1})).sort((x,w)=>s.strcmp(x.address,w.address)),v=s.keyBy(m,"address"),y=(x,w,_)=>{for(let M=0;M<w;M++){const U=a.encodeAddress(x.row+M,_);if(!g[U]||!s.isEqual(g[x.address],g[U]))return!1}return!0};return m.map(x=>{if(!x.marked){const w=a.decodeEx(x.address);if(w.dimensions)return v[w.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let _=1,M=a.encodeAddress(w.row+_,w.col);for(;g[M]&&s.isEqual(x.dataValidation,g[M]);)_++,M=a.encodeAddress(w.row+_,w.col);let U=1;for(;y(w,_,w.col+U);)U++;for(let L=0;L<_;L++)for(let O=0;O<U;O++)M=a.encodeAddress(w.row+L,w.col+O),v[M].marked=!0;if(_>1||U>1){const L=w.row+(_-1),O=w.col+(U-1);return{...x.dataValidation,sqref:`${x.address}:${a.encodeAddress(L,O)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(d);p.length&&(f.openNode("dataValidations",{count:p.length}),p.forEach(g=>{f.openNode("dataValidation"),g.type!=="any"&&(f.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&f.addAttribute("operator",g.operator),g.allowBlank&&f.addAttribute("allowBlank","1")),g.showInputMessage&&f.addAttribute("showInputMessage","1"),g.promptTitle&&f.addAttribute("promptTitle",g.promptTitle),g.prompt&&f.addAttribute("prompt",g.prompt),g.showErrorMessage&&f.addAttribute("showErrorMessage","1"),g.errorStyle&&f.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&f.addAttribute("errorTitle",g.errorTitle),g.error&&f.addAttribute("error",g.error),f.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),g.type==="date"?f.writeText(o.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const d={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&h(d,f.attributes,"allowBlank"),h(d,f.attributes,"showInputMessage"),h(d,f.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,f.attributes,"operator","between")}return u(d,f.attributes,"promptTitle"),u(d,f.attributes,"prompt"),u(d,f.attributes,"errorStyle"),u(d,f.attributes,"errorTitle"),u(d,f.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new c(d).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=o.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const s=r("../composite-xform"),o=r("./cf-ext/conditional-formattings-ext-xform");class a extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let l=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../doc/range"),a=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new o(u)}}get mergeCells(){return s.map(this.merges,c=>c.range)}reconcile(c,u){s.each(c,h=>{const f=a.decode(h);for(let d=f.top;d<=f.bottom;d++){const p=u[d-1];for(let g=f.left;g<=f.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=f.tl):p.cells[g]={type:l.ValueType.Null,address:a.encodeAddress(d,g)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const s=r("../base-xform"),o=a=>a!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(a,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(a,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(h){return h?"1":void 0}function l(h){switch(h){case"overThenDown":return h;default:return}}function c(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function u(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(h,f){if(f){const d={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:l(f.pageOrder),blackAndWhite:a(f.blackAndWhite),draft:a(f.draft),cellComments:c(f.cellComments),errors:u(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:a(f.firstPageNumber),usePrinterDefaults:a(f.usePrinterDefaults),copies:f.copies};s.some(d,p=>p!==void 0)&&h.leafNode(this.tag,d)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(f=h.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:a(c.showRowColHeaders),gridLines:a(c.showGridLines),horizontalCentered:a(c.horizontalCentered),verticalCentered:a(c.verticalCentered)};s.some(u,h=>h!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const s=r("./page-breaks-xform"),o=r("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(a,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const h=this.map.c;l.cells.forEach(f=>{h.prepare(f,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const h=this.map.c;c.cells.forEach(f=>{h.render(l,f,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(h=>{u.reconcile(h,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),s.some(c,u=>u!==void 0)&&a.leafNode("sheetFormatPr",c)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const s=r("../base-xform"),o=r("../style/color-xform"),a=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(c,u.tabColor)||h,h=this.map.pageSetUpPr.render(c,u.pageSetup)||h,h=this.map.outlinePr.render(c,u.outlineProperties)||h,h?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(c,u){if(u){const h={sheet:a(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:a(u.formatCells,"0"),formatColumns:a(u.formatColumns,"0"),formatRows:a(u.formatRows,"0"),insertColumns:a(u.insertColumns,"0"),insertRows:a(u.insertRows,"0"),insertHyperlinks:a(u.insertHyperlinks,"0"),deleteColumns:a(u.deleteColumns,"0"),deleteRows:a(u.deleteRows,"0"),sort:a(u.sort,"0"),autoFilter:a(u.autoFilter,"0"),pivotTables:a(u.pivotTables,"0")};u.sheet&&(h.algorithmName=u.algorithmName,h.hashValue=u.hashValue,h.saltValue=u.saltValue,h.spinCount=u.spinCount,h.objects=a(u.objects===!1,"1"),h.scenarios=a(u.scenarios===!1,"1")),s.some(h,f=>f!==void 0)&&c.leafNode(this.tag,h)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(g,m,v){v&&l.addAttribute(g,m)};let h,f,d,p;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":f=c.xSplit||0,d=c.ySplit||0,h=c.topLeftCell||s.getAddress(d+1,f+1).address,p=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:h,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../../rel-type"),c=r("./merges"),u=r("../base-xform"),h=r("../list-xform"),f=r("./row-xform"),d=r("./col-xform"),p=r("./dimension-xform"),g=r("./hyperlink-xform"),m=r("./merge-cell-xform"),v=r("./data-validations-xform"),y=r("./sheet-properties-xform"),x=r("./sheet-format-properties-xform"),w=r("./sheet-view-xform"),_=r("./sheet-protection-xform"),M=r("./page-margins-xform"),U=r("./page-setup-xform"),L=r("./print-options-xform"),O=r("./auto-filter-xform"),H=r("./picture-xform"),G=r("./drawing-xform"),I=r("./table-part-xform"),R=r("./row-breaks-xform"),S=r("./header-footer-xform"),j=r("./cf/conditional-formattings-xform"),k=r("./ext-lst-xform"),E=(C,D)=>{if(!D||!D.length)return C;if(!C||!C.length)return D;const z={},P={};return C.forEach(K=>{z[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:te}=Z;te&&(P[te]=Z)})}),D.forEach(K=>{K.rules.forEach(Z=>{const te=P[Z.x14Id];te?((q,$)=>{Object.keys($).forEach(N=>{const T=q[N],V=$[N];T===void 0&&V!==void 0&&(q[N]=V)})})(te,Z):z[K.ref]?z[K.ref].rules.push(Z):C.push({ref:K.ref,rules:[Z]})})}),C};class A extends u{constructor(D){super();const{maxRows:z,maxCols:P,ignoreNodes:K}=D||{};this.ignoreNodes=K||[],this.map={sheetPr:new y,dimension:new p,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new w}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new d}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:P}),maxItems:z}),autoFilter:new O,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new R,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new M,dataValidations:new v,pageSetup:new U,headerFooter:new S,printOptions:new L,picture:new H,drawing:new G,sheetProtection:new _,tableParts:new h({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new j,extLst:new k}}prepare(D,z){z.merges=new c,D.hyperlinks=z.hyperlinks=[],D.comments=z.comments=[],z.formulae={},z.siFormulae=0,this.map.cols.prepare(D.cols,z),this.map.sheetData.prepare(D.rows,z),this.map.conditionalFormatting.prepare(D.conditionalFormattings,z),D.mergeCells=z.merges.mergeCells;const P=D.rels=[];function K(q){return"rId"+(q.length+1)}if(D.hyperlinks.forEach(q=>{const $=K(P);q.rId=$,P.push({Id:$,Type:l.Hyperlink,Target:q.target,TargetMode:"External"})}),D.comments.length>0){const q={Id:K(P),Type:l.Comments,Target:`../comments${D.id}.xml`};P.push(q);const $={Id:K(P),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};P.push($),D.comments.forEach(N=>{N.refAddress=o.decodeAddress(N.ref)}),z.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const Z=[];let te;D.media.forEach(q=>{if(q.type==="background"){const $=K(P);te=z.media[q.imageId],P.push({Id:$,Type:l.Image,Target:`../media/${te.name}.${te.extension}`}),D.background={rId:$},D.image=z.media[q.imageId]}else if(q.type==="image"){let{drawing:$}=D;te=z.media[q.imageId],$||($=D.drawing={rId:K(P),name:"drawing"+ ++z.drawingsCount,anchors:[],rels:[]},z.drawings.push($),P.push({Id:$.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${$.name}.xml`}));let N=this.preImageId===q.imageId?Z[q.imageId]:Z[$.rels.length];N||(N=K($.rels),Z[$.rels.length]=N,$.rels.push({Id:N,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const T={picture:{rId:N},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const V=K($.rels);Z[$.rels.length]=V,T.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:V},$.rels.push({Id:V,Type:l.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,$.anchors.push(T)}}),D.tables.forEach(q=>{const $=K(P);q.rId=$,P.push({Id:$,Type:l.Table,Target:"../tables/"+q.target}),q.columns.forEach(N=>{const{style:T}=N;T&&(N.dxfId=z.styles.addDxfStyle(T))})}),this.map.extLst.prepare(D,z)}render(D,z){D.openXml(a.StdDocAttributes),D.openNode("worksheet",A.WORKSHEET_ATTRIBUTES);const P=z.properties?{defaultRowHeight:z.properties.defaultRowHeight,dyDescent:z.properties.dyDescent,outlineLevelCol:z.properties.outlineLevelCol,outlineLevelRow:z.properties.outlineLevelRow}:void 0;z.properties&&z.properties.defaultColWidth&&(P.defaultColWidth=z.properties.defaultColWidth);const K={outlineProperties:z.properties&&z.properties.outlineProperties,tabColor:z.properties&&z.properties.tabColor,pageSetup:z.pageSetup&&z.pageSetup.fitToPage?{fitToPage:z.pageSetup.fitToPage}:void 0},Z=z.pageSetup&&z.pageSetup.margins,te={showRowColHeaders:z.pageSetup&&z.pageSetup.showRowColHeaders,showGridLines:z.pageSetup&&z.pageSetup.showGridLines,horizontalCentered:z.pageSetup&&z.pageSetup.horizontalCentered,verticalCentered:z.pageSetup&&z.pageSetup.verticalCentered},q=z.sheetProtection;this.map.sheetPr.render(D,K),this.map.dimension.render(D,z.dimensions),this.map.sheetViews.render(D,z.views),this.map.sheetFormatPr.render(D,P),this.map.cols.render(D,z.cols),this.map.sheetData.render(D,z.rows),this.map.sheetProtection.render(D,q),this.map.autoFilter.render(D,z.autoFilter),this.map.mergeCells.render(D,z.mergeCells),this.map.conditionalFormatting.render(D,z.conditionalFormattings),this.map.dataValidations.render(D,z.dataValidations),this.map.hyperlinks.render(D,z.hyperlinks),this.map.printOptions.render(D,te),this.map.pageMargins.render(D,Z),this.map.pageSetup.render(D,z.pageSetup),this.map.headerFooter.render(D,z.headerFooter),this.map.rowBreaks.render(D,z.rowBreaks),this.map.drawing.render(D,z.drawing),this.map.picture.render(D,z.background),this.map.tableParts.render(D,z.tables),this.map.extLst.render(D,z),z.rels&&z.rels.forEach($=>{$.Type===l.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":$.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(s.each(this.map,z=>{z.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const z=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(z.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(z.outlineProperties=this.map.sheetPr.model.outlineProperties);const P={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(P,this.map.pageSetup.model,this.map.printOptions.model),Z=E(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:z,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,z){const P=(D.relationships||[]).reduce((Z,te)=>{if(Z[te.Id]=te,te.Type===l.Comments&&(D.comments=z.comments[te.Target].comments),te.Type===l.VmlDrawing&&D.comments&&D.comments.length){const q=z.vmlDrawings[te.Target].comments;D.comments.forEach(($,N)=>{$.note=Object.assign({},$.note,q[N])})}return Z},{});if(z.commentsMap=(D.comments||[]).reduce((Z,te)=>(te.ref&&(Z[te.ref]=te),Z),{}),z.hyperlinkMap=(D.hyperlinks||[]).reduce((Z,te)=>(te.rId&&(Z[te.address]=P[te.rId].Target),Z),{}),z.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,z),this.map.sheetData.reconcile(D.rows,z),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,z),D.media=[],D.drawing){const Z=P[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const te=Z[1];z.drawings[te].anchors.forEach(q=>{if(q.medium){const $={type:"image",imageId:q.medium.index,range:q.range,hyperlinks:q.picture.hyperlinks};D.media.push($)}})}}const K=D.background&&P[D.background.rId];if(K){const Z=K.Target.split("/media/")[1],te=z.mediaIndex&&z.mediaIndex[Z];te!==void 0&&D.media.push({type:"background",imageId:te})}D.tables=(D.tables||[]).map(Z=>{const te=P[Z.rId];return z.tables[te.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}A.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const s=r("./base-xform"),o=r("../../utils/xml-stream");n.exports=class extends s{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new o;(function c(u,h){u.openNode(h.tag,h.$),h.c&&h.c.forEach(f=>{c(u,f)}),h.t&&u.writeText(h.t),u.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(h=>{u.render(l,h)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const s=r("./text-xform"),o=r("../style/font-xform"),a=r("../base-xform");class l extends a{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(u,h){h=h||this.model,u.openNode("r"),h.font&&this.fontXform.render(u,h.font),this.textXform.render(u,h.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new o,t:new s,rPh:new a}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(h=>{this.map.r.render(c,h)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(h=>{u.render(l,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/utils"),a=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const h=Math.round(u);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(u){const h=o.validInt(u);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends a{get tag(){return"alignment"}render(u,h){u.addRollback(),u.openNode("alignment");let f=!1;function d(p,g){g&&(u.addAttribute(p,g),f=!0)}d("horizontal",l.horizontal(h.horizontal)),d("vertical",l.vertical(h.vertical)),d("wrapText",!!l.wrapText(h.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(h.shrinkToFit)&&"1"),d("indent",l.indent(h.indent)),d("textRotation",c.toXml(h.textRotation)),d("readingOrder",l.readingOrder(h.readingOrder)),u.closeNode(),f?u.commit():u.rollback()}parseOpen(u){const h={};let f=!1;function d(p,g,m){p&&(h[g]=m,f=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new a}}get tag(){return this.name}render(u,h,f){const d=h&&h.color||f||this.defaultColor;u.openNode(this.name),h&&h.style&&(u.addAttribute("style",h.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:h}=u.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:h}=u;function f(d,p){d&&!d.color&&u.color&&(d={...d,color:u.color}),p.render(c,d,h)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),f(u.left,this.map.left),f(u.right,this.map.right),f(u.top,this.map.top),f(u.bottom,this.map.bottom),f(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},h=function(f,d,p){d&&(p&&Object.assign(d,p),u[f]=d)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./border-xform"),l=r("./fill-xform"),c=r("./font-xform"),u=r("./numfmt-xform"),h=r("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new a,fill:new l,font:new c,numFmt:new u,protection:new h}}get tag(){return"dxf"}render(f,d){if(f.openNode(this.tag),d.font&&this.map.font.render(f,d.font),d.numFmt&&d.numFmtId){const p={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(f,p)}d.fill&&this.map.fill.render(f,d.fill),d.alignment&&this.map.alignment.render(f,d.alignment),d.border&&this.map.border.render(f,d.border),d.protection&&this.map.protection.render(f,d.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const s=r("../base-xform"),o=r("./color-xform");class a extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,d){f.openNode("stop"),f.addAttribute("position",d.position),this.map.color.render(f,d.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,d){f.openNode("patternFill"),f.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(f,d.fgColor),d.bgColor&&this.map.bgColor.render(f,d.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,d){switch(f.openNode("gradientFill"),d.gradient){case"angle":f.addAttribute("degree",d.degree);break;case"path":f.addAttribute("type","path"),d.center.left&&(f.addAttribute("left",d.center.left),d.center.right===void 0&&f.addAttribute("right",d.center.left)),d.center.right&&f.addAttribute("right",d.center.right),d.center.top&&(f.addAttribute("top",d.center.top),d.center.bottom===void 0&&f.addAttribute("bottom",d.center.top)),d.center.bottom&&f.addAttribute("bottom",d.center.bottom)}const p=this.map.stop;d.stops.forEach(g=>{p.render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const d=this.model={stops:[]};return f.attributes.degree?(d.gradient="angle",d.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(d.gradient="path",d.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(d.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(d.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(f,d){switch(f.addRollback(),f.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(f,d);break;case"gradient":this.map.gradientFill.render(f,d);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return u.validPatternValues[f]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,f)=>(h[f]=!0,h),{}),u.StopXform=a,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const s=r("./color-xform"),o=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),l=r("../simple/string-xform"),c=r("./underline-xform"),u=r("../../../utils/under-dash"),h=r("../base-xform");class f extends h{constructor(p){super(),this.options=p||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),u.each(this.map,(v,y)=>{m[y].xform.render(p,g[v.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../defaultnumformats"),a=r("../base-xform"),l=function(){const u={};return s.each(o,(h,f)=>{h.f&&(u[h.f]=parseInt(f,10))}),u}();class c extends a{constructor(h,f){super(),this.id=h,this.formatCode=f}get tag(){return"numFmt"}render(h,f){h.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return o[u]&&o[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const s=r("../base-xform"),o={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends s{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let c=!1;function u(h,f){f!==void 0&&(a.addAttribute(h,f),c=!0)}u("locked",o.boolean(l.locked,!0)?void 0:"0"),u("hidden",o.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),c?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("../static-xform"),c=r("../list-xform"),u=r("./font-xform"),h=r("./fill-xform"),f=r("./border-xform"),d=r("./numfmt-xform"),p=r("./style-xform"),g=r("./dxf-xform");class m extends a{constructor(y){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new d}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new h}),borders:new c({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new d,font:new u,fill:new h,border:new f,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,x){x=x||this.model,y.openXml(o.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(y.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(w=>{y.writeXml(w)}),y.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(w=>{y.writeXml(w)}),y.closeNode(),y.openNode("fills",{count:x.fills.length}),x.fills.forEach(w=>{y.writeXml(w)}),y.closeNode(),y.openNode("borders",{count:x.borders.length}),x.borders.forEach(w=>{y.writeXml(w)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(w=>{y.writeXml(w)}),y.closeNode()):(this.map.numFmts.render(y,x.numFmts),this.map.fonts.render(y,x.fonts),this.map.fills.render(y,x.fills),this.map.borders.render(y,x.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,x.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,x.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const x=(w,_)=>{_.model&&_.model.length&&(this.model[w]=_.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const w=this.index.numFmt;this.model.numFmts.forEach(_=>{w[_.id]=_.formatCode})}return!1}default:return!0}}addStyleModel(y,x){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const w={};if(x=x||s.ValueType.Number,y.numFmt)w.numFmtId=this._addNumFmtStr(y.numFmt);else switch(x){case s.ValueType.Number:w.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:w.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(w.fontId=this._addFont(y.font)),y.border&&(w.borderId=this._addBorder(y.border)),y.fill&&(w.fillId=this._addFill(y.fill)),y.alignment&&(w.alignment=y.alignment),y.protection&&(w.protection=y.protection);const _=this._addStyle(w);return this.weakMap&&this.weakMap.set(y,_),_}getStyleModel(y){const x=this.model.styles[y];if(!x)return null;let w=this.index.model[y];if(w)return w;if(w=this.index.model[y]={},x.numFmtId){const M=this.index.numFmt[x.numFmtId]||d.getDefaultFmtCode(x.numFmtId);M&&(w.numFmt=M)}function _(M,U,L){if(L||L===0){const O=U[L];O&&(w[M]=O)}}return _("font",this.model.fonts,x.fontId),_("border",this.model.borders,x.borderId),_("fill",this.model.fills,x.fillId),x.alignment&&(w.alignment=x.alignment),x.protection&&(w.protection=x.protection),w}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const x=this.map.style.toXml(y);let w=this.index.style[x];return w===void 0&&(w=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),w}_addNumFmtStr(y){let x=d.getDefaultFmtId(y);if(x!==void 0||(x=this.index.numFmt[y],x!==void 0))return x;x=this.index.numFmt[y]=164+this.model.numFmts.length;const w=this.map.numFmt.toXml({id:x,formatCode:y});return this.model.numFmts.push(w),x}_addFont(y){const x=this.map.font.toXml(y);let w=this.index.font[x];return w===void 0&&(w=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),w}_addBorder(y){const x=this.map.border.toXml(y);let w=this.index.border[x];return w===void 0&&(w=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),w}_addFill(y){const x=this.map.fill.toXml(y);let w=this.index.fill[x];return w===void 0&&(w=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),w}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const s=r("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=o.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(r,n,i){const s=r("../base-xform"),o=r("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(a,c)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const s=r("../base-xform"),o=r("../list-xform"),a=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../list-xform"),l=r("./auto-filter-xform"),c=r("./table-column-xform"),u=r("./table-style-info-xform");class h extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(d,p){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,p)}get tag(){return"table"}render(d,p){d.openXml(s.StdDocAttributes),d.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(d,p),this.map.tableColumns.render(d,p.columns),this.map.tableStyleInfo.render(d,p.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:p,attributes:g}=d;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,p){d.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=r("jszip"),{PassThrough:c}=r("readable-stream"),u=r("../utils/zip-stream"),h=r("../utils/stream-buf"),f=r("../utils/utils"),d=r("../utils/xml-stream"),{bufferToString:p}=r("../utils/browser-buffer-decode"),g=r("./xform/style/styles-xform"),m=r("./xform/core/core-xform"),v=r("./xform/strings/shared-strings-xform"),y=r("./xform/core/relationships-xform"),x=r("./xform/core/content-types-xform"),w=r("./xform/core/app-xform"),_=r("./xform/book/workbook-xform"),M=r("./xform/sheet/worksheet-xform"),U=r("./xform/drawing/drawing-xform"),L=r("./xform/table/table-xform"),O=r("./xform/comment/comments-xform"),H=r("./xform/comment/vml-notes-xform"),G=r("./xml/theme1");class I{constructor(S){this.workbook=S}async readFile(S,j){if(!await f.fs.exists(S))throw new Error("File not found: "+S);const k=a.createReadStream(S);try{const E=await this.read(k,j);return k.close(),E}catch(E){throw k.close(),E}}parseRels(S){return new y().parseStream(S)}parseWorkbook(S){return new _().parseStream(S)}parseSharedStrings(S){return new v().parseStream(S)}reconcile(S,j){const k=new _,E=new M(j),A=new U,C=new L;k.reconcile(S);const D={media:S.media,mediaIndex:S.mediaIndex};Object.keys(S.drawings).forEach(K=>{const Z=S.drawings[K],te=S.drawingRels[K];te&&(D.rels=te.reduce((q,$)=>(q[$.Id]=$,q),{}),(Z.anchors||[]).forEach(q=>{const $=q.picture&&q.picture.hyperlinks;$&&D.rels[$.rId]&&($.hyperlink=D.rels[$.rId].Target,delete $.rId)}),A.reconcile(Z,D))});const z={styles:S.styles};Object.values(S.tables).forEach(K=>{C.reconcile(K,z)});const P={styles:S.styles,sharedStrings:S.sharedStrings,media:S.media,mediaIndex:S.mediaIndex,date1904:S.properties&&S.properties.date1904,drawings:S.drawings,comments:S.comments,tables:S.tables,vmlDrawings:S.vmlDrawings};S.worksheets.forEach(K=>{K.relationships=S.worksheetRels[K.sheetNo],E.reconcile(K,P)}),delete S.worksheetHash,delete S.worksheetRels,delete S.globalRels,delete S.sharedStrings,delete S.workbookRels,delete S.sheetDefs,delete S.styles,delete S.mediaIndex,delete S.drawings,delete S.drawingRels,delete S.vmlDrawings}async _processWorksheetEntry(S,j,k,E,A){const C=new M(E),D=await C.parseStream(S);D.sheetNo=k,j.worksheetHash[A]=D,j.worksheets.push(D)}async _processCommentEntry(S,j,k){const E=new O,A=await E.parseStream(S);j.comments[`../${k}.xml`]=A}async _processTableEntry(S,j,k){const E=new L,A=await E.parseStream(S);j.tables[`../tables/${k}.xml`]=A}async _processWorksheetRelsEntry(S,j,k){const E=new y,A=await E.parseStream(S);j.worksheetRels[k]=A}async _processMediaEntry(S,j,k){const E=k.lastIndexOf(".");if(E>=1){const A=k.substr(E+1),C=k.substr(0,E);await new Promise((D,z)=>{const P=new h;P.on("finish",()=>{j.mediaIndex[k]=j.media.length,j.mediaIndex[C]=j.media.length;const K={type:"image",name:C,extension:A,buffer:P.toBuffer()};j.media.push(K),D()}),S.on("error",K=>{z(K)}),S.pipe(P)})}}async _processDrawingEntry(S,j,k){const E=new U,A=await E.parseStream(S);j.drawings[k]=A}async _processDrawingRelsEntry(S,j,k){const E=new y,A=await E.parseStream(S);j.drawingRels[k]=A}async _processVmlDrawingEntry(S,j,k){const E=new H,A=await E.parseStream(S);j.vmlDrawings[`../drawings/${k}.vml`]=A}async _processThemeEntry(S,j,k){await new Promise((E,A)=>{const C=new h;S.on("error",A),C.on("error",A),C.on("finish",()=>{j.themes[k]=C.read().toString(),E()}),S.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(S,j){!S[Symbol.asyncIterator]&&S.pipe&&(S=S.pipe(new c));const k=[];for await(const E of S)k.push(E);return this.load(o.concat(k),j)}async load(S,j){let k;k=j&&j.base64?o.from(S.toString(),"base64"):S;const E={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},A=await l.loadAsync(k);for(const C of Object.values(A.files))if(!C.dir){let D,z=C.name;if(z[0]==="/"&&(z=z.substr(1)),z.match(/xl\/media\//)||z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new c,D.write(await C.async("nodebuffer"));else{let P;D=new c({writableObjectMode:!0,readableObjectMode:!0}),P=s.browser?p(await C.async("nodebuffer")):await C.async("string");const K=16384;for(let Z=0;Z<P.length;Z+=K)D.write(P.substring(Z,Z+K))}switch(D.end(),z){case"_rels/.rels":E.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const P=await this.parseWorkbook(D);E.sheets=P.sheets,E.definedNames=P.definedNames,E.views=P.views,E.properties=P.properties,E.calcProperties=P.calcProperties;break}case"xl/_rels/workbook.xml.rels":E.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":E.sharedStrings=new v,await E.sharedStrings.parseStream(D);break;case"xl/styles.xml":E.styles=new g,await E.styles.parseStream(D);break;case"docProps/app.xml":{const P=new w,K=await P.parseStream(D);E.company=K.company,E.manager=K.manager;break}case"docProps/core.xml":{const P=new m,K=await P.parseStream(D);Object.assign(E,K);break}default:{let P=z.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(P){await this._processWorksheetEntry(D,E,P[1],j,z);break}if(P=z.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),P){await this._processWorksheetRelsEntry(D,E,P[1]);break}if(P=z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),P){await this._processThemeEntry(D,E,P[1]);break}if(P=z.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),P){await this._processMediaEntry(D,E,P[1]);break}if(P=z.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),P){await this._processDrawingEntry(D,E,P[1]);break}if(P=z.match(/xl\/(comments\d+)[.]xml/),P){await this._processCommentEntry(D,E,P[1]);break}if(P=z.match(/xl\/tables\/(table\d+)[.]xml/),P){await this._processTableEntry(D,E,P[1]);break}if(P=z.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),P){await this._processDrawingRelsEntry(D,E,P[1]);break}if(P=z.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),P){await this._processVmlDrawingEntry(D,E,P[1]);break}}}}return this.reconcile(E,j),this.workbook.model=E,this.workbook}async addMedia(S,j){await Promise.all(j.media.map(async k=>{if(k.type==="image"){const E=`xl/media/${k.name}.${k.extension}`;if(k.filename){const A=await function(C,D){return new Promise((z,P)=>{a.readFile(C,D,(K,Z)=>{K?P(K):z(Z)})})}(k.filename);return S.append(A,{name:E})}if(k.buffer)return S.append(k.buffer,{name:E});if(k.base64){const A=k.base64,C=A.substring(A.indexOf(",")+1);return S.append(C,{name:E,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(S,j){const k=new U,E=new y;j.worksheets.forEach(A=>{const{drawing:C}=A;if(C){k.prepare(C,{});let D=k.toXml(C);S.append(D,{name:`xl/drawings/${C.name}.xml`}),D=E.toXml(C.rels),S.append(D,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(S,j){const k=new L;j.worksheets.forEach(E=>{const{tables:A}=E;A.forEach(C=>{k.prepare(C,{});const D=k.toXml(C);S.append(D,{name:"xl/tables/"+C.target})})})}async addContentTypes(S,j){const k=new x().toXml(j);S.append(k,{name:"[Content_Types].xml"})}async addApp(S,j){const k=new w().toXml(j);S.append(k,{name:"docProps/app.xml"})}async addCore(S,j){const k=new m;S.append(k.toXml(j),{name:"docProps/core.xml"})}async addThemes(S,j){const k=j.themes||{theme1:G};Object.keys(k).forEach(E=>{const A=k[E],C=`xl/theme/${E}.xml`;S.append(A,{name:C})})}async addOfficeRels(S){const j=new y().toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);S.append(j,{name:"_rels/.rels"})}async addWorkbookRels(S,j){let k=1;const E=[{Id:"rId"+k++,Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId"+k++,Type:I.RelType.Theme,Target:"theme/theme1.xml"}];j.sharedStrings.count&&E.push({Id:"rId"+k++,Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),j.worksheets.forEach(C=>{C.rId="rId"+k++,E.push({Id:C.rId,Type:I.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const A=new y().toXml(E);S.append(A,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(S,j){j.sharedStrings&&j.sharedStrings.count&&S.append(j.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(S,j){const{xml:k}=j.styles;k&&S.append(k,{name:"xl/styles.xml"})}async addWorkbook(S,j){const k=new _;S.append(k.toXml(j),{name:"xl/workbook.xml"})}async addWorksheets(S,j){const k=new M,E=new y,A=new O,C=new H;j.worksheets.forEach(D=>{let z=new d;k.render(z,D),S.append(z.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(z=new d,E.render(z,D.rels),S.append(z.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(z=new d,A.render(z,D),S.append(z.xml,{name:`xl/comments${D.id}.xml`}),z=new d,C.render(z,D),S.append(z.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(S){return new Promise((j,k)=>{S.on("finish",()=>{j(this)}),S.on("error",k),S.finalize()})}prepareModel(S,j){S.creator=S.creator||"ExcelJS",S.lastModifiedBy=S.lastModifiedBy||"ExcelJS",S.created=S.created||new Date,S.modified=S.modified||new Date,S.useSharedStrings=j.useSharedStrings===void 0||j.useSharedStrings,S.useStyles=j.useStyles===void 0||j.useStyles,S.sharedStrings=new v,S.styles=S.useStyles?new g(!0):new g.Mock;const k=new _,E=new M;k.prepare(S);const A={sharedStrings:S.sharedStrings,styles:S.styles,date1904:S.properties.date1904,drawingsCount:0,media:S.media};A.drawings=S.drawings=[],A.commentRefs=S.commentRefs=[];let C=0;S.tables=[],S.worksheets.forEach(D=>{D.tables.forEach(z=>{C++,z.target=`table${C}.xml`,z.id=C,S.tables.push(z)}),E.prepare(D,A)})}async write(S,j){j=j||{};const{model:k}=this.workbook,E=new u.ZipWriter(j.zip);return E.pipe(S),this.prepareModel(k,j),await this.addContentTypes(E,k),await this.addOfficeRels(E,k),await this.addWorkbookRels(E,k),await this.addWorksheets(E,k),await this.addSharedStrings(E,k),await this.addDrawings(E,k),await this.addTables(E,k),await Promise.all([this.addThemes(E,k),this.addStyles(E,k)]),await this.addMedia(E,k),await Promise.all([this.addApp(E,k),this.addCore(E,k)]),await this.addWorkbook(E,k),this._finalize(E)}writeFile(S,j){const k=a.createWriteStream(S);return new Promise((E,A)=>{k.on("finish",()=>{E()}),k.on("error",C=>{A(C)}),this.write(k,j).then(()=>{k.end()}).catch(C=>{A(C)})})}async writeBuffer(S){const j=new h;return await this.write(j,S),j.read()}}I.RelType=r("./rel-type"),n.exports=I}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=r("stream"),a=r("./formatter");class l extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new a.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,h,f){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(p,g)=>p?(d=!0,f(p)):(g&&g.forEach(m=>{this.push(s.from(m,"utf8"))}),d=!0,f()))}catch(p){if(d)throw p;f(p)}}_flush(u){this.rowFormatter.finish((h,f)=>h?u(h):(f&&f.forEach(d=>{this.push(s.from(d,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(r("lodash.isboolean")),a=s(r("lodash.isnil")),l=s(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const h=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(h)?h:Array.isArray(h)?h[c]:this._headers!==null&&h[this._headers[c]]}format(c,u,h){const f=(""+(a.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&f.indexOf(d.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,d.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,h)?this.quoteField(f):f}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var s=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(r("lodash.isfunction")),a=s(r("lodash.isequal")),l=r("./FieldFormatter"),c=r("../types");class u{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new l.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return u.isRowHashArray(f)?f.map(d=>d[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return c.isSyncTransform(f)?(d,p)=>{let g=null;try{g=f(d)}catch(m){return p(m)}return p(null,g)}:(d,p)=>{f(d,p)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(f)}format(f,d){this.callTransformer(f,(p,g)=>{if(p)return d(p);if(!f)return d(null);const m=[];if(g){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const x=this.gatherColumns(g);m.push(this.formatColumns(x,!1))}}return d(null,m)})}finish(f){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),f(null,d)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(f);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(d,f),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?u.isRowHashArray(f)?this.headers.map((d,p)=>{const g=f[p];return g?g[1]:""}):u.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((d,p)=>f[p]):this.headers.map(d=>f[d])}callTransformer(f,d){return this._rowTransform?this._rowTransform(f,d):d(null,f)}formatColumns(f,d){const p=f.map((m,v)=>this.fieldFormatter.format(m,v,d)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(s){(function(){var o=Object.create?function(v,y,x,w){w===void 0&&(w=x),Object.defineProperty(v,w,{enumerable:!0,get:function(){return y[x]}})}:function(v,y,x,w){w===void 0&&(w=x),v[w]=y[x]},a=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&o(y,v,x);return a(y,v),y},c=function(v,y){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(y,x)||o(y,v,x)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=r("util"),h=r("stream"),f=l(r("fs")),d=r("./FormatterOptions"),p=r("./CsvFormatterStream");c(r("./types"),i);var g=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=v=>new p.CsvFormatterStream(new d.FormatterOptions(v)),i.write=(v,y)=>{const x=i.format(y),w=u.promisify((_,M)=>{x.write(_,void 0,M)});return v.reduce((_,M)=>_.then(()=>w(M)),Promise.resolve()).then(()=>x.end()).catch(_=>{x.emit("error",_)}),x},i.writeToStream=(v,y,x)=>i.write(y,x).pipe(v),i.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],w=new h.Writable({write(_,M,U){x.push(_),U()}});return new Promise((_,M)=>{w.on("error",M).on("finish",()=>_(s.concat(x))),i.write(v,y).pipe(w)})},i.writeToString=(v,y)=>i.writeToBuffer(v,y).then(x=>x.toString()),i.writeToPath=(v,y,x)=>{const w=f.createWriteStream(v,{encoding:"utf8"});return i.write(y,x).pipe(w)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=r("string_decoder"),a=r("stream"),l=r("./transforms"),c=r("./parser");class u extends a.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new c.Parser(f),this.headerTransformer=new l.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return super.emit(f,...p)}_transform(f,d,p){if(this.hasHitRowLimit)return p();const g=u.wrapDoneCallback(p);try{const{lines:m}=this,v=m+this.decoder.write(f),y=this.parse(v,!0);return this.processRows(y,g)}catch(m){return g(m)}}_flush(f){const d=u.wrapDoneCallback(f);if(this.hasHitRowLimit)return d();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,d)}catch(p){return d(p)}}parse(f,d){if(!f)return[];const{line:p,rows:g}=this.parser.parse(f,d);return this.lines=p,g}processRows(f,d){const p=f.length,g=m=>{const v=w=>w?d(w):m%100!=0?g(m+1):void s(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=f[m];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(y,(w,_)=>{if(w)return this.rowCount-=1,v(w);if(!_)return v(new Error("expected transform result"));if(_.isValid){if(_.row)return this.pushRow(_.row,v)}else this.emit("data-invalid",_.row,x,_.reason);return v()})};g(0)}transformRow(f,d){try{this.headerTransformer.transform(f,(p,g)=>p?d(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:f}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(p){d(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,d){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),d()}catch(p){d(p)}}static wrapDoneCallback(f){let d=!1;return function(p){if(p){if(d)throw p;return d=!0,void f(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];f(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(r("lodash.escaperegexp")),a=s(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var s=Object.create?function(g,m,v,y){y===void 0&&(y=v),Object.defineProperty(g,y,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,y){y===void 0&&(y=v),g[y]=m[v]},o=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},a=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&s(m,g,v);return o(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||s(m,g,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const c=a(r("fs")),u=r("stream"),h=r("./ParserOptions"),f=r("./CsvParserStream");l(r("./types"),i);var d=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var p=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),i.parse=g=>new f.CsvParserStream(new h.ParserOptions(g)),i.parseStream=(g,m)=>g.pipe(new f.CsvParserStream(new h.ParserOptions(m))),i.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(g).pipe(new f.CsvParserStream(new h.ParserOptions(m)))},i.parseString=(g,m)=>{const v=new u.Readable;return v.push(g),v.push(null),v.pipe(new f.CsvParserStream(new h.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=r("./Scanner"),o=r("./RowParser"),a=r("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,h){const f=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(u){const h=[];let f=!0;for(;f;)f=this.parseRow(u,h);return{line:u.line,rows:h}}parseWithComments(u){const{parserOptions:h}=this,f=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(a.Token.isTokenComment(d,h)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:f};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:f};u.truncateToCursor()}else if(!this.parseRow(u,f))break;return{line:u.line,rows:f}}parseRow(u,h){if(!u.nextNonSpaceToken)return!1;const f=this.rowParser.parse(u);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||h.push(f),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=r("./column"),o=r("./Token");i.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new s.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:c}=a,u=a,h=[];let f=this.getStartToken(u,h);for(;f;){if(o.Token.isTokenRowDelimiter(f))return u.advancePastToken(f),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,l)&&c?null:(u.truncateToCursor(),h);if(!this.shouldSkipColumnParse(u,f,h)){const d=this.columnParser.parse(u);if(d===null)return null;h.push(d)}f=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),h)}getStartToken(a,l){const c=a.nextNonSpaceToken;return c!==null&&o.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):c}shouldSkipColumnParse(a,l,c){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(l,u)){a.advancePastToken(l);const h=a.nextCharacterToken;if(!a.hasMoreCharacters||h!==null&&o.Token.isTokenRowDelimiter(h)||h!==null&&o.Token.isTokenDelimiter(h,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=r("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const c=l.exec(a);if(c==null)return null;const u=c[1],h=this.cursor+(c.index||0);return new s.Token({token:u,startCursor:h,endCursor:h+u.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new s.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=r("./NonQuotedColumnParser"),o=r("./QuotedColumnParser"),a=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&a.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=a.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,l)&&!o.Token.isTokenRowDelimiter(u);u=a.nextCharacterToken)c.push(u.token),a.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(a);if(!c){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),u}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let c=!1,u=!1;const h=[];let f=a.nextCharacterToken;for(;!u&&f!==null;f=a.nextCharacterToken){const d=o.Token.isTokenQuote(f,l);if(!c&&d)c=!0;else if(c)if(o.Token.isTokenEscapeCharacter(f,l)){a.advancePastToken(f);const p=a.nextCharacterToken;p!==null&&(o.Token.isTokenQuote(p,l)||o.Token.isTokenEscapeCharacter(p,l))?(h.push(p.token),f=p):d?u=!0:h.push(f.token)}else d?u=!0:h.push(f.token);a.advancePastToken(f)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:u}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:c}=a;if(c){const u=o.Token.isTokenDelimiter(c,l),h=o.Token.isTokenRowDelimiter(c);if(!u&&!h){const f=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${f}`)}a.advanceToToken(c)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var c=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(r("lodash.isundefined")),a=s(r("lodash.isfunction")),l=s(r("lodash.uniq")),c=s(r("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):a.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,h){return this.shouldMapRow(u)?h(null,this.processRow(u)):h(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&u.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return h.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const h={},{headers:f,headersLength:d}=this;for(let p=0;p<d;p+=1){const g=f[p];if(!o.default(g)){const m=u[p];o.default(m)?h[g]="":h[g]=m}}return h}setHeaders(u){var h;const f=u.filter(d=>!!d);if(l.default(f).length!==f.length){const d=c.default(f),p=Object.keys(d).filter(g=>d[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(r("lodash.isfunction")),a=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return a.isSyncTransform(u)?(h,f)=>{let d=null;try{d=u(h)}catch(p){return f(p)}return f(null,d)}:u}static createValidator(u){return a.isSyncValidate(u)?(h,f)=>{f(null,{row:h,isValid:u(h)})}:(h,f)=>{u(h,(d,p,g)=>d?f(d):f(null,p?{row:h,isValid:p,reason:g}:{row:h,isValid:!1,reason:g}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,h){return this.callTransformer(u,(f,d)=>f?h(f):d?this.callValidator(d,(p,g)=>p?h(p):g&&!g.isValid?h(null,{row:d,isValid:!1,reason:g.reason}):h(null,{row:d,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(u,h){return this._rowTransform?this._rowTransform(u,h):h(null,u)}callValidator(u,h){return this._rowValidator?this._rowValidator(u,h):h(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(r,n,i){const s=i;s.bignum=r("bn.js"),s.define=r("./asn1/api").define,s.base=r("./asn1/base"),s.constants=r("./asn1/constants"),s.decoders=r("./asn1/decoders"),s.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const s=r("./encoders"),o=r("./decoders"),a=r("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}i.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function h(f){this._initNamed(f,u)}return a(h,c),h.prototype._initNamed=function(f,d){c.call(this,f,d)},new h(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(o[c])),this.decoders[c]},l.prototype.decode=function(c,u,h){return this._getDecoder(u).decode(c,h)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(s[c])),this.encoders[c]},l.prototype.encode=function(c,u,h){return this._getEncoder(u).encode(c,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const s=r("inherits"),o=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function l(u,h){o.call(this,h),a.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(f){return c.isEncoderBuffer(f)||(f=new c(f,h)),this.length+=f.length,f},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=a.byteLength(u);else{if(!a.isBuffer(u))return h.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&a.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(u){const h=new l(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),h},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");const f=new l(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+u,this.offset+=u,f},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,h){return u||(u=a.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(u,h),h+=f.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const s=i;s.Reporter=r("./reporter").Reporter,s.DecoderBuffer=r("./buffer").DecoderBuffer,s.EncoderBuffer=r("./buffer").EncoderBuffer,s.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const s=r("../base/reporter").Reporter,o=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function h(d,p,g){const m={};this._baseState=m,m.name=g,m.enc=d,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=h;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const d=this._baseState,p={};f.forEach(function(m){p[m]=d[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},h.prototype._wrap=function(){const d=this._baseState;u.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return d.children.push(g),g[p].apply(g,arguments)}},this)},h.prototype._init=function(d){const p=this._baseState;l(p.parent===null),d.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(d){const p=this._baseState,g=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),d.length!==0&&(l(p.args===null),p.args=d,p.reverseArgs=d.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const x=m[y];v[x]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){h.prototype[d]=function(){const p=this._baseState;throw new Error(d+" not implemented for encoding: "+p.enc)}}),c.forEach(function(d){h.prototype[d]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=d,this._useArgs(g),this}}),h.prototype.use=function(d){l(d);const p=this._baseState;return l(p.use===null),p.use=d,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(d){const p=this._baseState;return l(p.default===null),p.default=d,p.optional=!0,this},h.prototype.explicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=d,this},h.prototype.implicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=d,this},h.prototype.obj=function(){const d=this._baseState,p=Array.prototype.slice.call(arguments);return d.obj=!0,p.length!==0&&this._useArgs(p),this},h.prototype.key=function(d){const p=this._baseState;return l(p.key===null),p.key=d,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(d){const p=this._baseState;return l(p.choice===null),p.choice=d,this._useArgs(Object.keys(d).map(function(g){return d[g]})),this},h.prototype.contains=function(d){const p=this._baseState;return l(p.use===null),p.contains=d,this},h.prototype._decode=function(d,p){const g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,p));let m,v=g.default,y=!0,x=null;if(g.key!==null&&(x=d.enterKey(g.key)),g.optional){let w=null;if(g.explicit!==null?w=g.explicit:g.implicit!==null?w=g.implicit:g.tag!==null&&(w=g.tag),w!==null||g.any){if(y=this._peekTag(d,w,g.any),d.isError(y))return y}else{const _=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p),y=!0}catch{y=!1}d.restore(_)}}if(g.obj&&y&&(m=d.enterObject()),y){if(g.explicit!==null){const _=this._decodeTag(d,g.explicit);if(d.isError(_))return _;d=_}const w=d.offset;if(g.use===null&&g.choice===null){let _;g.any&&(_=d.save());const M=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(M))return M;g.any?v=d.raw(_):d=M}if(p&&p.track&&g.tag!==null&&p.track(d.path(),w,d.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(d.path(),d.offset,d.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p)),d.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(_){_._decode(d,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const _=new a(v);v=this._getUse(g.contains,d._reporterState.obj)._decode(_,p)}}return g.obj&&y&&(v=d.leaveObject(m)),g.key===null||v===null&&y!==!0?x!==null&&d.exitKey(x):d.leaveKey(x,g.key,v),v},h.prototype._decodeGeneric=function(d,p,g){const m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(p,d,m.args[0],g):/str$/.test(d)?this._decodeStr(p,d,g):d==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):d==="objid"?this._decodeObjid(p,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(p,d,g):d==="null_"?this._decodeNull(p,g):d==="bool"?this._decodeBool(p,g):d==="objDesc"?this._decodeStr(p,d,g):d==="int"||d==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+d)},h.prototype._getUse=function(d,p){const g=this._baseState;return g.useDecoder=this._use(d,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},h.prototype._decodeChoice=function(d,p){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(y){const x=d.save(),w=g.choice[y];try{const _=w._decode(d,p);if(d.isError(_))return!1;m={type:y,value:_},v=!0}catch{return d.restore(x),!1}return!0},this),v?m:d.error("Choice not matched")},h.prototype._createEncoderBuffer=function(d){return new o(d,this.reporter)},h.prototype._encode=function(d,p,g){const m=this._baseState;if(m.default!==null&&m.default===d)return;const v=this._encodeValue(d,p,g);return v===void 0||this._skipDefault(v,p,g)?void 0:v},h.prototype._encodeValue=function(d,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,p||new s);let v=null;if(this.reporter=p,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let y=null,x=!1;if(m.any)v=this._createEncoderBuffer(d);else if(m.choice)v=this._encodeChoice(d,p);else if(m.contains)y=this._getUse(m.contains,g)._encode(d,p),x=!0;else if(m.children)y=m.children.map(function(w){if(w._baseState.tag==="null_")return w._encode(null,p,d);if(w._baseState.key===null)return p.error("Child should have a key");const _=p.enterKey(w._baseState.key);if(typeof d!="object")return p.error("Child expected, but input is not object");const M=w._encode(d[w._baseState.key],p,d);return p.leaveKey(_),M},this).filter(function(w){return w}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(d))return p.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(_){const M=this._baseState;return this._getUse(M.args[0],d)._encode(_,p)},w))}else m.use!==null?v=this._getUse(m.use,g)._encode(d,p):(y=this._encodePrimitive(m.tag,d),x=!0);if(!m.any&&m.choice===null){const w=m.implicit!==null?m.implicit:m.tag,_=m.implicit===null?"universal":"context";w===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(w,x,_,y))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(d,p){const g=this._baseState,m=g.choice[d.type];return m||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(d.value,p)},h.prototype._encodePrimitive=function(d,p){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(p,d);if(d==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(p,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(p,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(p);if(d==="objDesc")return this._encodeStr(p,d);throw new Error("Unsupported tag: "+d)},h.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},h.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const s=r("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,c){this.path=l,this.rethrow(c)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof a},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},o.prototype.leaveKey=function(l,c,u){const h=this._reporterState;this.exitKey(l),h.obj!==null&&(h.obj[c]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},o.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},o.prototype.error=function(l){let c;const u=this._reporterState,h=l instanceof a;if(c=h?l:new a(u.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return h||u.errors.push(c),c},o.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},s(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(r,n,i){function s(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(r,n,i){const s=i;s._reverse=function(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a},s.der=r("./der")},{"./der":176}],178:[function(r,n,i){const s=r("inherits"),o=r("bn.js"),a=r("../base/buffer").DecoderBuffer,l=r("../base/node"),c=r("../constants/der");function u(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new h,this.tree._init(p.body)}function h(p){l.call(this,"der",p)}function f(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const v=c.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let x=m;for(m=0;(128&x)==128;){if(x=p.readUInt8(g),p.isError(x))return x;m<<=7,m|=127&x}}else m&=31;return{cls:v,primitive:y,tag:m,tagStr:c.tag[m]}}function d(p,g,m){let v=p.readUInt8(m);if(p.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return p.error("length octect is too long");v=0;for(let x=0;x<y;x++){v<<=8;const w=p.readUInt8(m);if(p.isError(w))return w;v|=w}return v}n.exports=u,u.prototype.decode=function(p,g){return a.isDecoderBuffer(p)||(p=new a(p,g)),this.tree._decode(p,g)},s(h,l),h.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const v=p.save(),y=f(p,'Failed to peek tag: "'+g+'"');return p.isError(y)?y:(p.restore(v),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||m)},h.prototype._decodeTag=function(p,g,m){const v=f(p,'Failed to decode tag of "'+g+'"');if(p.isError(v))return v;let y=d(p,v.primitive,'Failed to get length of "'+g+'"');if(p.isError(y))return y;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(v.primitive||y!==null)return p.skip(y,'Failed to match body of: "'+g+'"');const x=p.save(),w=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(w)?w:(y=p.offset-x.offset,p.restore(x),p.skip(y,'Failed to match body of: "'+g+'"'))},h.prototype._skipUntilEnd=function(p,g){for(;;){const m=f(p,g);if(p.isError(m))return m;const v=d(p,m.primitive,g);if(p.isError(v))return v;let y;if(y=m.primitive||v!==null?p.skip(v):this._skipUntilEnd(p,g),p.isError(y))return y;if(m.tagStr==="end")break}},h.prototype._decodeList=function(p,g,m,v){const y=[];for(;!p.isEmpty();){const x=this._peekTag(p,"end");if(p.isError(x))return x;const w=m.decode(p,"der",v);if(p.isError(w)&&x)break;y.push(w)}return y},h.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<m.length/2;y++)v+=String.fromCharCode(m.readUInt16BE(2*y));return v}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},h.prototype._decodeObjid=function(p,g,m){let v;const y=[];let x=0,w=0;for(;!p.isEmpty();)w=p.readUInt8(),x<<=7,x|=127&w,!(128&w)&&(y.push(x),x=0);128&w&&y.push(x);const _=y[0]/40|0,M=y[0]%40;if(v=m?y:[_,M].concat(y.slice(1)),g){let U=g[v.join(" ")];U===void 0&&(U=g[v.join(".")]),U!==void 0&&(v=U)}return v},h.prototype._decodeTime=function(p,g){const m=p.raw().toString();let v,y,x,w,_,M;if(g==="gentime")v=0|m.slice(0,4),y=0|m.slice(4,6),x=0|m.slice(6,8),w=0|m.slice(8,10),_=0|m.slice(10,12),M=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),y=0|m.slice(2,4),x=0|m.slice(4,6),w=0|m.slice(6,8),_=0|m.slice(8,10),M=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,x,w,_,M,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},h.prototype._decodeInt=function(p,g){const m=p.raw();let v=new o(m);return g&&(v=g[v.toString(10)]||v),v},h.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("./der");function l(c){a.call(this,c),this.enc="pem"}s(l,a),n.exports=l,l.prototype.decode=function(c,u){const h=c.toString().split(/[\r\n]+/g),f=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let y=0;y<h.length;y++){const x=h[y].match(d);if(x!==null&&x[2]===f){if(p!==-1){if(x[1]!=="END")break;g=y;break}if(x[1]!=="BEGIN")break;p=y}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+f);const m=h.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=o.from(m,"base64");return a.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("../base/node"),l=r("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){a.call(this,"der",f)}function h(f){return f<10?"0"+f:f}n.exports=c,c.prototype.encode=function(f,d){return this.tree._encode(f,d).join()},s(u,a),u.prototype._encodeComposite=function(f,d,p,g){const m=function(x,w,_,M){let U;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),l.tagByName.hasOwnProperty(x))U=l.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return M.error("Unknown tag: "+x);U=x}return U>=31?M.error("Multi-octet tag encoding unsupported"):(w||(U|=32),U|=l.tagClassByName[_||"universal"]<<6,U)}(f,d,p,this.reporter);if(g.length<128){const x=o.alloc(2);return x[0]=m,x[1]=g.length,this._createEncoderBuffer([x,g])}let v=1;for(let x=g.length;x>=256;x>>=8)v++;const y=o.alloc(2+v);y[0]=m,y[1]=128|v;for(let x=1+v,w=g.length;w>0;x--,w>>=8)y[x]=255&w;return this._createEncoderBuffer([y,g])},u.prototype._encodeStr=function(f,d){if(d==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(d==="bmpstr"){const p=o.alloc(2*f.length);for(let g=0;g<f.length;g++)p.writeUInt16BE(f.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return d==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(f,d,p){if(typeof f=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=d[f].split(/[\s.]+/g);for(let y=0;y<f.length;y++)f[y]|=0}else if(Array.isArray(f)){f=f.slice();for(let y=0;y<f.length;y++)f[y]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!p){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let g=0;for(let y=0;y<f.length;y++){let x=f[y];for(g++;x>=128;x>>=7)g++}const m=o.alloc(g);let v=m.length-1;for(let y=f.length-1;y>=0;y--){let x=f[y];for(m[v--]=127&x;(x>>=7)>0;)m[v--]=128|127&x}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(f,d){let p;const g=new Date(f);return d==="gentime"?p=[h(g.getUTCFullYear()),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?p=[h(g.getUTCFullYear()%100),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(p,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,d){if(typeof f=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=d[f]}if(typeof f!="number"&&!o.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=o.from(m)}if(o.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=o.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let p=1;for(let m=f;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&f,f>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,d){return typeof f=="function"&&(f=f(d)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,d,p){const g=this._baseState;let m;if(g.default===null)return!1;const v=f.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,d,p).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const s=r("inherits"),o=r("./der");function a(l){o.call(this,l),this.enc="pem"}s(a,o),n.exports=a,a.prototype.encode=function(l,c){const u=o.prototype.encode.call(this,l).toString("base64"),h=["-----BEGIN "+c.label+"-----"];for(let f=0;f<u.length;f+=64)h.push(u.slice(f,f+64));return h.push("-----END "+c.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(s,o){function a(R,S){if(!R)throw new Error(S||"Assertion failed")}function l(R,S){R.super_=S;var j=function(){};j.prototype=S.prototype,R.prototype=new j,R.prototype.constructor=R}function c(R,S,j){if(c.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(S!=="le"&&S!=="be"||(j=S,S=10),this._init(R||0,S||10,j||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(R,S){var j=R.charCodeAt(S);return j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:j-48&15}function f(R,S,j){var k=h(R,j);return j-1>=S&&(k|=h(R,j-1)<<4),k}function d(R,S,j,k){for(var E=0,A=Math.min(R.length,j),C=S;C<A;C++){var D=R.charCodeAt(C)-48;E*=k,E+=D>=49?D-49+10:D>=17?D-17+10:D}return E}c.isBN=function(R){return R instanceof c||R!==null&&typeof R=="object"&&R.constructor.wordSize===c.wordSize&&Array.isArray(R.words)},c.max=function(R,S){return R.cmp(S)>0?R:S},c.min=function(R,S){return R.cmp(S)<0?R:S},c.prototype._init=function(R,S,j){if(typeof R=="number")return this._initNumber(R,S,j);if(typeof R=="object")return this._initArray(R,S,j);S==="hex"&&(S=16),a(S===(0|S)&&S>=2&&S<=36);var k=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<R.length&&(S===16?this._parseHex(R,k,j):(this._parseBase(R,S,k),j==="le"&&this._initArray(this.toArray(),S,j)))},c.prototype._initNumber=function(R,S,j){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(a(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),S,j)},c.prototype._initArray=function(R,S,j){if(a(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,A,C=0;if(j==="be")for(k=R.length-1,E=0;k>=0;k-=3)A=R[k]|R[k-1]<<8|R[k-2]<<16,this.words[E]|=A<<C&67108863,this.words[E+1]=A>>>26-C&67108863,(C+=24)>=26&&(C-=26,E++);else if(j==="le")for(k=0,E=0;k<R.length;k+=3)A=R[k]|R[k+1]<<8|R[k+2]<<16,this.words[E]|=A<<C&67108863,this.words[E+1]=A>>>26-C&67108863,(C+=24)>=26&&(C-=26,E++);return this.strip()},c.prototype._parseHex=function(R,S,j){this.length=Math.ceil((R.length-S)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,A=0,C=0;if(j==="be")for(k=R.length-1;k>=S;k-=2)E=f(R,S,k)<<A,this.words[C]|=67108863&E,A>=18?(A-=18,C+=1,this.words[C]|=E>>>26):A+=8;else for(k=(R.length-S)%2==0?S+1:S;k<R.length;k+=2)E=f(R,S,k)<<A,this.words[C]|=67108863&E,A>=18?(A-=18,C+=1,this.words[C]|=E>>>26):A+=8;this.strip()},c.prototype._parseBase=function(R,S,j){this.words=[0],this.length=1;for(var k=0,E=1;E<=67108863;E*=S)k++;k--,E=E/S|0;for(var A=R.length-j,C=A%k,D=Math.min(A,A-C)+j,z=0,P=j;P<D;P+=k)z=d(R,P,P+k,S),this.imuln(E),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(C!==0){var K=1;for(z=d(R,P,R.length,S),P=0;P<C;P++)K*=S;this.imuln(K),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this.strip()},c.prototype.copy=function(R){R.words=new Array(this.length);for(var S=0;S<this.length;S++)R.words[S]=this.words[S];R.length=this.length,R.negative=this.negative,R.red=this.red},c.prototype.clone=function(){var R=new c(null);return this.copy(R),R},c.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(R,S,j){j.negative=S.negative^R.negative;var k=R.length+S.length|0;j.length=k,k=k-1|0;var E=0|R.words[0],A=0|S.words[0],C=E*A,D=67108863&C,z=C/67108864|0;j.words[0]=D;for(var P=1;P<k;P++){for(var K=z>>>26,Z=67108863&z,te=Math.min(P,S.length-1),q=Math.max(0,P-R.length+1);q<=te;q++){var $=P-q|0;K+=(C=(E=0|R.words[$])*(A=0|S.words[q])+Z)/67108864|0,Z=67108863&C}j.words[P]=0|Z,z=0|K}return z!==0?j.words[P]=0|z:j.length--,j.strip()}c.prototype.toString=function(R,S){var j;if(S=0|S||1,(R=R||10)===16||R==="hex"){j="";for(var k=0,E=0,A=0;A<this.length;A++){var C=this.words[A],D=(16777215&(C<<k|E)).toString(16);j=(E=C>>>24-k&16777215)!==0||A!==this.length-1?p[6-D.length]+D+j:D+j,(k+=2)>=26&&(k-=26,A--)}for(E!==0&&(j=E.toString(16)+j);j.length%S!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(R===(0|R)&&R>=2&&R<=36){var z=g[R],P=m[R];j="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(P).toString(R);j=(K=K.idivn(P)).isZero()?Z+j:p[z-Z.length]+Z+j}for(this.isZero()&&(j="0"+j);j.length%S!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(R,S){return a(u!==void 0),this.toArrayLike(u,R,S)},c.prototype.toArray=function(R,S){return this.toArrayLike(Array,R,S)},c.prototype.toArrayLike=function(R,S,j){var k=this.byteLength(),E=j||Math.max(1,k);a(k<=E,"byte array longer than desired length"),a(E>0,"Requested array length <= 0"),this.strip();var A,C,D=S==="le",z=new R(E),P=this.clone();if(D){for(C=0;!P.isZero();C++)A=P.andln(255),P.iushrn(8),z[C]=A;for(;C<E;C++)z[C]=0}else{for(C=0;C<E-k;C++)z[C]=0;for(C=0;!P.isZero();C++)A=P.andln(255),P.iushrn(8),z[E-C-1]=A}return z},Math.clz32?c.prototype._countBits=function(R){return 32-Math.clz32(R)}:c.prototype._countBits=function(R){var S=R,j=0;return S>=4096&&(j+=13,S>>>=13),S>=64&&(j+=7,S>>>=7),S>=8&&(j+=4,S>>>=4),S>=2&&(j+=2,S>>>=2),j+S},c.prototype._zeroBits=function(R){if(R===0)return 26;var S=R,j=0;return!(8191&S)&&(j+=13,S>>>=13),!(127&S)&&(j+=7,S>>>=7),!(15&S)&&(j+=4,S>>>=4),!(3&S)&&(j+=2,S>>>=2),!(1&S)&&j++,j},c.prototype.bitLength=function(){var R=this.words[this.length-1],S=this._countBits(R);return 26*(this.length-1)+S},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,S=0;S<this.length;S++){var j=this._zeroBits(this.words[S]);if(R+=j,j!==26)break}return R},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},c.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var S=0;S<R.length;S++)this.words[S]=this.words[S]|R.words[S];return this.strip()},c.prototype.ior=function(R){return a((this.negative|R.negative)==0),this.iuor(R)},c.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},c.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},c.prototype.iuand=function(R){var S;S=this.length>R.length?R:this;for(var j=0;j<S.length;j++)this.words[j]=this.words[j]&R.words[j];return this.length=S.length,this.strip()},c.prototype.iand=function(R){return a((this.negative|R.negative)==0),this.iuand(R)},c.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},c.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},c.prototype.iuxor=function(R){var S,j;this.length>R.length?(S=this,j=R):(S=R,j=this);for(var k=0;k<j.length;k++)this.words[k]=S.words[k]^j.words[k];if(this!==S)for(;k<S.length;k++)this.words[k]=S.words[k];return this.length=S.length,this.strip()},c.prototype.ixor=function(R){return a((this.negative|R.negative)==0),this.iuxor(R)},c.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},c.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},c.prototype.inotn=function(R){a(typeof R=="number"&&R>=0);var S=0|Math.ceil(R/26),j=R%26;this._expand(S),j>0&&S--;for(var k=0;k<S;k++)this.words[k]=67108863&~this.words[k];return j>0&&(this.words[k]=~this.words[k]&67108863>>26-j),this.strip()},c.prototype.notn=function(R){return this.clone().inotn(R)},c.prototype.setn=function(R,S){a(typeof R=="number"&&R>=0);var j=R/26|0,k=R%26;return this._expand(j+1),this.words[j]=S?this.words[j]|1<<k:this.words[j]&~(1<<k),this.strip()},c.prototype.iadd=function(R){var S,j,k;if(this.negative!==0&&R.negative===0)return this.negative=0,S=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,S=this.isub(R),R.negative=1,S._normSign();this.length>R.length?(j=this,k=R):(j=R,k=this);for(var E=0,A=0;A<k.length;A++)S=(0|j.words[A])+(0|k.words[A])+E,this.words[A]=67108863&S,E=S>>>26;for(;E!==0&&A<j.length;A++)S=(0|j.words[A])+E,this.words[A]=67108863&S,E=S>>>26;if(this.length=j.length,E!==0)this.words[this.length]=E,this.length++;else if(j!==this)for(;A<j.length;A++)this.words[A]=j.words[A];return this},c.prototype.add=function(R){var S;return R.negative!==0&&this.negative===0?(R.negative=0,S=this.sub(R),R.negative^=1,S):R.negative===0&&this.negative!==0?(this.negative=0,S=R.sub(this),this.negative=1,S):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},c.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var S=this.iadd(R);return R.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var j,k,E=this.cmp(R);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(j=this,k=R):(j=R,k=this);for(var A=0,C=0;C<k.length;C++)A=(S=(0|j.words[C])-(0|k.words[C])+A)>>26,this.words[C]=67108863&S;for(;A!==0&&C<j.length;C++)A=(S=(0|j.words[C])+A)>>26,this.words[C]=67108863&S;if(A===0&&C<j.length&&j!==this)for(;C<j.length;C++)this.words[C]=j.words[C];return this.length=Math.max(this.length,C),j!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(R){return this.clone().isub(R)};var y=function(R,S,j){var k,E,A,C=R.words,D=S.words,z=j.words,P=0,K=0|C[0],Z=8191&K,te=K>>>13,q=0|C[1],$=8191&q,N=q>>>13,T=0|C[2],V=8191&T,J=T>>>13,re=0|C[3],se=8191&re,B=re>>>13,ne=0|C[4],ee=8191&ne,F=ne>>>13,W=0|C[5],Y=8191&W,ae=W>>>13,ce=0|C[6],le=8191&ce,de=ce>>>13,me=0|C[7],ge=8191&me,ke=me>>>13,Re=0|C[8],je=8191&Re,qe=Re>>>13,Je=0|C[9],Ve=8191&Je,pt=Je>>>13,$e=0|D[0],Ue=8191&$e,Ke=$e>>>13,rt=0|D[1],Ze=8191&rt,kt=rt>>>13,wt=0|D[2],xt=8191&wt,Wt=wt>>>13,St=0|D[3],ot=8191&St,qt=St>>>13,kr=0|D[4],jt=8191&kr,hr=kr>>>13,Cr=0|D[5],dt=8191&Cr,wr=Cr>>>13,jr=0|D[6],Gt=8191&jr,Ne=jr>>>13,Pe=0|D[7],We=8191&Pe,ct=Pe>>>13,Bt=0|D[8],vt=8191&Bt,Ft=Bt>>>13,It=0|D[9],Tt=8191&It,Kt=It>>>13;j.negative=R.negative^S.negative,j.length=19;var zt=(P+(k=Math.imul(Z,Ue))|0)+((8191&(E=(E=Math.imul(Z,Ke))+Math.imul(te,Ue)|0))<<13)|0;P=((A=Math.imul(te,Ke))+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,k=Math.imul($,Ue),E=(E=Math.imul($,Ke))+Math.imul(N,Ue)|0,A=Math.imul(N,Ke);var ar=(P+(k=k+Math.imul(Z,Ze)|0)|0)+((8191&(E=(E=E+Math.imul(Z,kt)|0)+Math.imul(te,Ze)|0))<<13)|0;P=((A=A+Math.imul(te,kt)|0)+(E>>>13)|0)+(ar>>>26)|0,ar&=67108863,k=Math.imul(V,Ue),E=(E=Math.imul(V,Ke))+Math.imul(J,Ue)|0,A=Math.imul(J,Ke),k=k+Math.imul($,Ze)|0,E=(E=E+Math.imul($,kt)|0)+Math.imul(N,Ze)|0,A=A+Math.imul(N,kt)|0;var Gr=(P+(k=k+Math.imul(Z,xt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Wt)|0)+Math.imul(te,xt)|0))<<13)|0;P=((A=A+Math.imul(te,Wt)|0)+(E>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,k=Math.imul(se,Ue),E=(E=Math.imul(se,Ke))+Math.imul(B,Ue)|0,A=Math.imul(B,Ke),k=k+Math.imul(V,Ze)|0,E=(E=E+Math.imul(V,kt)|0)+Math.imul(J,Ze)|0,A=A+Math.imul(J,kt)|0,k=k+Math.imul($,xt)|0,E=(E=E+Math.imul($,Wt)|0)+Math.imul(N,xt)|0,A=A+Math.imul(N,Wt)|0;var zr=(P+(k=k+Math.imul(Z,ot)|0)|0)+((8191&(E=(E=E+Math.imul(Z,qt)|0)+Math.imul(te,ot)|0))<<13)|0;P=((A=A+Math.imul(te,qt)|0)+(E>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(ee,Ue),E=(E=Math.imul(ee,Ke))+Math.imul(F,Ue)|0,A=Math.imul(F,Ke),k=k+Math.imul(se,Ze)|0,E=(E=E+Math.imul(se,kt)|0)+Math.imul(B,Ze)|0,A=A+Math.imul(B,kt)|0,k=k+Math.imul(V,xt)|0,E=(E=E+Math.imul(V,Wt)|0)+Math.imul(J,xt)|0,A=A+Math.imul(J,Wt)|0,k=k+Math.imul($,ot)|0,E=(E=E+Math.imul($,qt)|0)+Math.imul(N,ot)|0,A=A+Math.imul(N,qt)|0;var mn=(P+(k=k+Math.imul(Z,jt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,hr)|0)+Math.imul(te,jt)|0))<<13)|0;P=((A=A+Math.imul(te,hr)|0)+(E>>>13)|0)+(mn>>>26)|0,mn&=67108863,k=Math.imul(Y,Ue),E=(E=Math.imul(Y,Ke))+Math.imul(ae,Ue)|0,A=Math.imul(ae,Ke),k=k+Math.imul(ee,Ze)|0,E=(E=E+Math.imul(ee,kt)|0)+Math.imul(F,Ze)|0,A=A+Math.imul(F,kt)|0,k=k+Math.imul(se,xt)|0,E=(E=E+Math.imul(se,Wt)|0)+Math.imul(B,xt)|0,A=A+Math.imul(B,Wt)|0,k=k+Math.imul(V,ot)|0,E=(E=E+Math.imul(V,qt)|0)+Math.imul(J,ot)|0,A=A+Math.imul(J,qt)|0,k=k+Math.imul($,jt)|0,E=(E=E+Math.imul($,hr)|0)+Math.imul(N,jt)|0,A=A+Math.imul(N,hr)|0;var gn=(P+(k=k+Math.imul(Z,dt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,wr)|0)+Math.imul(te,dt)|0))<<13)|0;P=((A=A+Math.imul(te,wr)|0)+(E>>>13)|0)+(gn>>>26)|0,gn&=67108863,k=Math.imul(le,Ue),E=(E=Math.imul(le,Ke))+Math.imul(de,Ue)|0,A=Math.imul(de,Ke),k=k+Math.imul(Y,Ze)|0,E=(E=E+Math.imul(Y,kt)|0)+Math.imul(ae,Ze)|0,A=A+Math.imul(ae,kt)|0,k=k+Math.imul(ee,xt)|0,E=(E=E+Math.imul(ee,Wt)|0)+Math.imul(F,xt)|0,A=A+Math.imul(F,Wt)|0,k=k+Math.imul(se,ot)|0,E=(E=E+Math.imul(se,qt)|0)+Math.imul(B,ot)|0,A=A+Math.imul(B,qt)|0,k=k+Math.imul(V,jt)|0,E=(E=E+Math.imul(V,hr)|0)+Math.imul(J,jt)|0,A=A+Math.imul(J,hr)|0,k=k+Math.imul($,dt)|0,E=(E=E+Math.imul($,wr)|0)+Math.imul(N,dt)|0,A=A+Math.imul(N,wr)|0;var Qn=(P+(k=k+Math.imul(Z,Gt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Ne)|0)+Math.imul(te,Gt)|0))<<13)|0;P=((A=A+Math.imul(te,Ne)|0)+(E>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,k=Math.imul(ge,Ue),E=(E=Math.imul(ge,Ke))+Math.imul(ke,Ue)|0,A=Math.imul(ke,Ke),k=k+Math.imul(le,Ze)|0,E=(E=E+Math.imul(le,kt)|0)+Math.imul(de,Ze)|0,A=A+Math.imul(de,kt)|0,k=k+Math.imul(Y,xt)|0,E=(E=E+Math.imul(Y,Wt)|0)+Math.imul(ae,xt)|0,A=A+Math.imul(ae,Wt)|0,k=k+Math.imul(ee,ot)|0,E=(E=E+Math.imul(ee,qt)|0)+Math.imul(F,ot)|0,A=A+Math.imul(F,qt)|0,k=k+Math.imul(se,jt)|0,E=(E=E+Math.imul(se,hr)|0)+Math.imul(B,jt)|0,A=A+Math.imul(B,hr)|0,k=k+Math.imul(V,dt)|0,E=(E=E+Math.imul(V,wr)|0)+Math.imul(J,dt)|0,A=A+Math.imul(J,wr)|0,k=k+Math.imul($,Gt)|0,E=(E=E+Math.imul($,Ne)|0)+Math.imul(N,Gt)|0,A=A+Math.imul(N,Ne)|0;var we=(P+(k=k+Math.imul(Z,We)|0)|0)+((8191&(E=(E=E+Math.imul(Z,ct)|0)+Math.imul(te,We)|0))<<13)|0;P=((A=A+Math.imul(te,ct)|0)+(E>>>13)|0)+(we>>>26)|0,we&=67108863,k=Math.imul(je,Ue),E=(E=Math.imul(je,Ke))+Math.imul(qe,Ue)|0,A=Math.imul(qe,Ke),k=k+Math.imul(ge,Ze)|0,E=(E=E+Math.imul(ge,kt)|0)+Math.imul(ke,Ze)|0,A=A+Math.imul(ke,kt)|0,k=k+Math.imul(le,xt)|0,E=(E=E+Math.imul(le,Wt)|0)+Math.imul(de,xt)|0,A=A+Math.imul(de,Wt)|0,k=k+Math.imul(Y,ot)|0,E=(E=E+Math.imul(Y,qt)|0)+Math.imul(ae,ot)|0,A=A+Math.imul(ae,qt)|0,k=k+Math.imul(ee,jt)|0,E=(E=E+Math.imul(ee,hr)|0)+Math.imul(F,jt)|0,A=A+Math.imul(F,hr)|0,k=k+Math.imul(se,dt)|0,E=(E=E+Math.imul(se,wr)|0)+Math.imul(B,dt)|0,A=A+Math.imul(B,wr)|0,k=k+Math.imul(V,Gt)|0,E=(E=E+Math.imul(V,Ne)|0)+Math.imul(J,Gt)|0,A=A+Math.imul(J,Ne)|0,k=k+Math.imul($,We)|0,E=(E=E+Math.imul($,ct)|0)+Math.imul(N,We)|0,A=A+Math.imul(N,ct)|0;var De=(P+(k=k+Math.imul(Z,vt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Ft)|0)+Math.imul(te,vt)|0))<<13)|0;P=((A=A+Math.imul(te,Ft)|0)+(E>>>13)|0)+(De>>>26)|0,De&=67108863,k=Math.imul(Ve,Ue),E=(E=Math.imul(Ve,Ke))+Math.imul(pt,Ue)|0,A=Math.imul(pt,Ke),k=k+Math.imul(je,Ze)|0,E=(E=E+Math.imul(je,kt)|0)+Math.imul(qe,Ze)|0,A=A+Math.imul(qe,kt)|0,k=k+Math.imul(ge,xt)|0,E=(E=E+Math.imul(ge,Wt)|0)+Math.imul(ke,xt)|0,A=A+Math.imul(ke,Wt)|0,k=k+Math.imul(le,ot)|0,E=(E=E+Math.imul(le,qt)|0)+Math.imul(de,ot)|0,A=A+Math.imul(de,qt)|0,k=k+Math.imul(Y,jt)|0,E=(E=E+Math.imul(Y,hr)|0)+Math.imul(ae,jt)|0,A=A+Math.imul(ae,hr)|0,k=k+Math.imul(ee,dt)|0,E=(E=E+Math.imul(ee,wr)|0)+Math.imul(F,dt)|0,A=A+Math.imul(F,wr)|0,k=k+Math.imul(se,Gt)|0,E=(E=E+Math.imul(se,Ne)|0)+Math.imul(B,Gt)|0,A=A+Math.imul(B,Ne)|0,k=k+Math.imul(V,We)|0,E=(E=E+Math.imul(V,ct)|0)+Math.imul(J,We)|0,A=A+Math.imul(J,ct)|0,k=k+Math.imul($,vt)|0,E=(E=E+Math.imul($,Ft)|0)+Math.imul(N,vt)|0,A=A+Math.imul(N,Ft)|0;var et=(P+(k=k+Math.imul(Z,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Kt)|0)+Math.imul(te,Tt)|0))<<13)|0;P=((A=A+Math.imul(te,Kt)|0)+(E>>>13)|0)+(et>>>26)|0,et&=67108863,k=Math.imul(Ve,Ze),E=(E=Math.imul(Ve,kt))+Math.imul(pt,Ze)|0,A=Math.imul(pt,kt),k=k+Math.imul(je,xt)|0,E=(E=E+Math.imul(je,Wt)|0)+Math.imul(qe,xt)|0,A=A+Math.imul(qe,Wt)|0,k=k+Math.imul(ge,ot)|0,E=(E=E+Math.imul(ge,qt)|0)+Math.imul(ke,ot)|0,A=A+Math.imul(ke,qt)|0,k=k+Math.imul(le,jt)|0,E=(E=E+Math.imul(le,hr)|0)+Math.imul(de,jt)|0,A=A+Math.imul(de,hr)|0,k=k+Math.imul(Y,dt)|0,E=(E=E+Math.imul(Y,wr)|0)+Math.imul(ae,dt)|0,A=A+Math.imul(ae,wr)|0,k=k+Math.imul(ee,Gt)|0,E=(E=E+Math.imul(ee,Ne)|0)+Math.imul(F,Gt)|0,A=A+Math.imul(F,Ne)|0,k=k+Math.imul(se,We)|0,E=(E=E+Math.imul(se,ct)|0)+Math.imul(B,We)|0,A=A+Math.imul(B,ct)|0,k=k+Math.imul(V,vt)|0,E=(E=E+Math.imul(V,Ft)|0)+Math.imul(J,vt)|0,A=A+Math.imul(J,Ft)|0;var it=(P+(k=k+Math.imul($,Tt)|0)|0)+((8191&(E=(E=E+Math.imul($,Kt)|0)+Math.imul(N,Tt)|0))<<13)|0;P=((A=A+Math.imul(N,Kt)|0)+(E>>>13)|0)+(it>>>26)|0,it&=67108863,k=Math.imul(Ve,xt),E=(E=Math.imul(Ve,Wt))+Math.imul(pt,xt)|0,A=Math.imul(pt,Wt),k=k+Math.imul(je,ot)|0,E=(E=E+Math.imul(je,qt)|0)+Math.imul(qe,ot)|0,A=A+Math.imul(qe,qt)|0,k=k+Math.imul(ge,jt)|0,E=(E=E+Math.imul(ge,hr)|0)+Math.imul(ke,jt)|0,A=A+Math.imul(ke,hr)|0,k=k+Math.imul(le,dt)|0,E=(E=E+Math.imul(le,wr)|0)+Math.imul(de,dt)|0,A=A+Math.imul(de,wr)|0,k=k+Math.imul(Y,Gt)|0,E=(E=E+Math.imul(Y,Ne)|0)+Math.imul(ae,Gt)|0,A=A+Math.imul(ae,Ne)|0,k=k+Math.imul(ee,We)|0,E=(E=E+Math.imul(ee,ct)|0)+Math.imul(F,We)|0,A=A+Math.imul(F,ct)|0,k=k+Math.imul(se,vt)|0,E=(E=E+Math.imul(se,Ft)|0)+Math.imul(B,vt)|0,A=A+Math.imul(B,Ft)|0;var At=(P+(k=k+Math.imul(V,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(V,Kt)|0)+Math.imul(J,Tt)|0))<<13)|0;P=((A=A+Math.imul(J,Kt)|0)+(E>>>13)|0)+(At>>>26)|0,At&=67108863,k=Math.imul(Ve,ot),E=(E=Math.imul(Ve,qt))+Math.imul(pt,ot)|0,A=Math.imul(pt,qt),k=k+Math.imul(je,jt)|0,E=(E=E+Math.imul(je,hr)|0)+Math.imul(qe,jt)|0,A=A+Math.imul(qe,hr)|0,k=k+Math.imul(ge,dt)|0,E=(E=E+Math.imul(ge,wr)|0)+Math.imul(ke,dt)|0,A=A+Math.imul(ke,wr)|0,k=k+Math.imul(le,Gt)|0,E=(E=E+Math.imul(le,Ne)|0)+Math.imul(de,Gt)|0,A=A+Math.imul(de,Ne)|0,k=k+Math.imul(Y,We)|0,E=(E=E+Math.imul(Y,ct)|0)+Math.imul(ae,We)|0,A=A+Math.imul(ae,ct)|0,k=k+Math.imul(ee,vt)|0,E=(E=E+Math.imul(ee,Ft)|0)+Math.imul(F,vt)|0,A=A+Math.imul(F,Ft)|0;var mt=(P+(k=k+Math.imul(se,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(se,Kt)|0)+Math.imul(B,Tt)|0))<<13)|0;P=((A=A+Math.imul(B,Kt)|0)+(E>>>13)|0)+(mt>>>26)|0,mt&=67108863,k=Math.imul(Ve,jt),E=(E=Math.imul(Ve,hr))+Math.imul(pt,jt)|0,A=Math.imul(pt,hr),k=k+Math.imul(je,dt)|0,E=(E=E+Math.imul(je,wr)|0)+Math.imul(qe,dt)|0,A=A+Math.imul(qe,wr)|0,k=k+Math.imul(ge,Gt)|0,E=(E=E+Math.imul(ge,Ne)|0)+Math.imul(ke,Gt)|0,A=A+Math.imul(ke,Ne)|0,k=k+Math.imul(le,We)|0,E=(E=E+Math.imul(le,ct)|0)+Math.imul(de,We)|0,A=A+Math.imul(de,ct)|0,k=k+Math.imul(Y,vt)|0,E=(E=E+Math.imul(Y,Ft)|0)+Math.imul(ae,vt)|0,A=A+Math.imul(ae,Ft)|0;var yt=(P+(k=k+Math.imul(ee,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(ee,Kt)|0)+Math.imul(F,Tt)|0))<<13)|0;P=((A=A+Math.imul(F,Kt)|0)+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,k=Math.imul(Ve,dt),E=(E=Math.imul(Ve,wr))+Math.imul(pt,dt)|0,A=Math.imul(pt,wr),k=k+Math.imul(je,Gt)|0,E=(E=E+Math.imul(je,Ne)|0)+Math.imul(qe,Gt)|0,A=A+Math.imul(qe,Ne)|0,k=k+Math.imul(ge,We)|0,E=(E=E+Math.imul(ge,ct)|0)+Math.imul(ke,We)|0,A=A+Math.imul(ke,ct)|0,k=k+Math.imul(le,vt)|0,E=(E=E+Math.imul(le,Ft)|0)+Math.imul(de,vt)|0,A=A+Math.imul(de,Ft)|0;var _r=(P+(k=k+Math.imul(Y,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(Y,Kt)|0)+Math.imul(ae,Tt)|0))<<13)|0;P=((A=A+Math.imul(ae,Kt)|0)+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Ve,Gt),E=(E=Math.imul(Ve,Ne))+Math.imul(pt,Gt)|0,A=Math.imul(pt,Ne),k=k+Math.imul(je,We)|0,E=(E=E+Math.imul(je,ct)|0)+Math.imul(qe,We)|0,A=A+Math.imul(qe,ct)|0,k=k+Math.imul(ge,vt)|0,E=(E=E+Math.imul(ge,Ft)|0)+Math.imul(ke,vt)|0,A=A+Math.imul(ke,Ft)|0;var lr=(P+(k=k+Math.imul(le,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(le,Kt)|0)+Math.imul(de,Tt)|0))<<13)|0;P=((A=A+Math.imul(de,Kt)|0)+(E>>>13)|0)+(lr>>>26)|0,lr&=67108863,k=Math.imul(Ve,We),E=(E=Math.imul(Ve,ct))+Math.imul(pt,We)|0,A=Math.imul(pt,ct),k=k+Math.imul(je,vt)|0,E=(E=E+Math.imul(je,Ft)|0)+Math.imul(qe,vt)|0,A=A+Math.imul(qe,Ft)|0;var fr=(P+(k=k+Math.imul(ge,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(ge,Kt)|0)+Math.imul(ke,Tt)|0))<<13)|0;P=((A=A+Math.imul(ke,Kt)|0)+(E>>>13)|0)+(fr>>>26)|0,fr&=67108863,k=Math.imul(Ve,vt),E=(E=Math.imul(Ve,Ft))+Math.imul(pt,vt)|0,A=Math.imul(pt,Ft);var Xt=(P+(k=k+Math.imul(je,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(je,Kt)|0)+Math.imul(qe,Tt)|0))<<13)|0;P=((A=A+Math.imul(qe,Kt)|0)+(E>>>13)|0)+(Xt>>>26)|0,Xt&=67108863;var Dr=(P+(k=Math.imul(Ve,Tt))|0)+((8191&(E=(E=Math.imul(Ve,Kt))+Math.imul(pt,Tt)|0))<<13)|0;return P=((A=Math.imul(pt,Kt))+(E>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,z[0]=zt,z[1]=ar,z[2]=Gr,z[3]=zr,z[4]=mn,z[5]=gn,z[6]=Qn,z[7]=we,z[8]=De,z[9]=et,z[10]=it,z[11]=At,z[12]=mt,z[13]=yt,z[14]=_r,z[15]=lr,z[16]=fr,z[17]=Xt,z[18]=Dr,P!==0&&(z[19]=P,j.length++),j};function x(R,S,j){return new w().mulp(R,S,j)}function w(R,S){this.x=R,this.y=S}Math.imul||(y=v),c.prototype.mulTo=function(R,S){var j=this.length+R.length;return this.length===10&&R.length===10?y(this,R,S):j<63?v(this,R,S):j<1024?function(k,E,A){A.negative=E.negative^k.negative,A.length=k.length+E.length;for(var C=0,D=0,z=0;z<A.length-1;z++){var P=D;D=0;for(var K=67108863&C,Z=Math.min(z,E.length-1),te=Math.max(0,z-k.length+1);te<=Z;te++){var q=z-te,$=(0|k.words[q])*(0|E.words[te]),N=67108863&$;K=67108863&(N=N+K|0),D+=(P=(P=P+($/67108864|0)|0)+(N>>>26)|0)>>>26,P&=67108863}A.words[z]=K,C=P,P=D}return C!==0?A.words[z]=C:A.length--,A.strip()}(this,R,S):x(this,R,S)},w.prototype.makeRBT=function(R){for(var S=new Array(R),j=c.prototype._countBits(R)-1,k=0;k<R;k++)S[k]=this.revBin(k,j,R);return S},w.prototype.revBin=function(R,S,j){if(R===0||R===j-1)return R;for(var k=0,E=0;E<S;E++)k|=(1&R)<<S-E-1,R>>=1;return k},w.prototype.permute=function(R,S,j,k,E,A){for(var C=0;C<A;C++)k[C]=S[R[C]],E[C]=j[R[C]]},w.prototype.transform=function(R,S,j,k,E,A){this.permute(A,R,S,j,k,E);for(var C=1;C<E;C<<=1)for(var D=C<<1,z=Math.cos(2*Math.PI/D),P=Math.sin(2*Math.PI/D),K=0;K<E;K+=D)for(var Z=z,te=P,q=0;q<C;q++){var $=j[K+q],N=k[K+q],T=j[K+q+C],V=k[K+q+C],J=Z*T-te*V;V=Z*V+te*T,T=J,j[K+q]=$+T,k[K+q]=N+V,j[K+q+C]=$-T,k[K+q+C]=N-V,q!==D&&(J=z*Z-P*te,te=z*te+P*Z,Z=J)}},w.prototype.guessLen13b=function(R,S){var j=1|Math.max(S,R),k=1&j,E=0;for(j=j/2|0;j;j>>>=1)E++;return 1<<E+1+k},w.prototype.conjugate=function(R,S,j){if(!(j<=1))for(var k=0;k<j/2;k++){var E=R[k];R[k]=R[j-k-1],R[j-k-1]=E,E=S[k],S[k]=-S[j-k-1],S[j-k-1]=-E}},w.prototype.normalize13b=function(R,S){for(var j=0,k=0;k<S/2;k++){var E=8192*Math.round(R[2*k+1]/S)+Math.round(R[2*k]/S)+j;R[k]=67108863&E,j=E<67108864?0:E/67108864|0}return R},w.prototype.convert13b=function(R,S,j,k){for(var E=0,A=0;A<S;A++)E+=0|R[A],j[2*A]=8191&E,E>>>=13,j[2*A+1]=8191&E,E>>>=13;for(A=2*S;A<k;++A)j[A]=0;a(E===0),a((-8192&E)==0)},w.prototype.stub=function(R){for(var S=new Array(R),j=0;j<R;j++)S[j]=0;return S},w.prototype.mulp=function(R,S,j){var k=2*this.guessLen13b(R.length,S.length),E=this.makeRBT(k),A=this.stub(k),C=new Array(k),D=new Array(k),z=new Array(k),P=new Array(k),K=new Array(k),Z=new Array(k),te=j.words;te.length=k,this.convert13b(R.words,R.length,C,k),this.convert13b(S.words,S.length,P,k),this.transform(C,A,D,z,k,E),this.transform(P,A,K,Z,k,E);for(var q=0;q<k;q++){var $=D[q]*K[q]-z[q]*Z[q];z[q]=D[q]*Z[q]+z[q]*K[q],D[q]=$}return this.conjugate(D,z,k),this.transform(D,z,te,A,k,E),this.conjugate(te,A,k),this.normalize13b(te,k),j.negative=R.negative^S.negative,j.length=R.length+S.length,j.strip()},c.prototype.mul=function(R){var S=new c(null);return S.words=new Array(this.length+R.length),this.mulTo(R,S)},c.prototype.mulf=function(R){var S=new c(null);return S.words=new Array(this.length+R.length),x(this,R,S)},c.prototype.imul=function(R){return this.clone().mulTo(R,this)},c.prototype.imuln=function(R){a(typeof R=="number"),a(R<67108864);for(var S=0,j=0;j<this.length;j++){var k=(0|this.words[j])*R,E=(67108863&k)+(67108863&S);S>>=26,S+=k/67108864|0,S+=E>>>26,this.words[j]=67108863&E}return S!==0&&(this.words[j]=S,this.length++),this},c.prototype.muln=function(R){return this.clone().imuln(R)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(R){var S=function(A){for(var C=new Array(A.bitLength()),D=0;D<C.length;D++){var z=D/26|0,P=D%26;C[D]=(A.words[z]&1<<P)>>>P}return C}(R);if(S.length===0)return new c(1);for(var j=this,k=0;k<S.length&&S[k]===0;k++,j=j.sqr());if(++k<S.length)for(var E=j.sqr();k<S.length;k++,E=E.sqr())S[k]!==0&&(j=j.mul(E));return j},c.prototype.iushln=function(R){a(typeof R=="number"&&R>=0);var S,j=R%26,k=(R-j)/26,E=67108863>>>26-j<<26-j;if(j!==0){var A=0;for(S=0;S<this.length;S++){var C=this.words[S]&E,D=(0|this.words[S])-C<<j;this.words[S]=D|A,A=C>>>26-j}A&&(this.words[S]=A,this.length++)}if(k!==0){for(S=this.length-1;S>=0;S--)this.words[S+k]=this.words[S];for(S=0;S<k;S++)this.words[S]=0;this.length+=k}return this.strip()},c.prototype.ishln=function(R){return a(this.negative===0),this.iushln(R)},c.prototype.iushrn=function(R,S,j){var k;a(typeof R=="number"&&R>=0),k=S?(S-S%26)/26:0;var E=R%26,A=Math.min((R-E)/26,this.length),C=67108863^67108863>>>E<<E,D=j;if(k-=A,k=Math.max(0,k),D){for(var z=0;z<A;z++)D.words[z]=this.words[z];D.length=A}if(A!==0)if(this.length>A)for(this.length-=A,z=0;z<this.length;z++)this.words[z]=this.words[z+A];else this.words[0]=0,this.length=1;var P=0;for(z=this.length-1;z>=0&&(P!==0||z>=k);z--){var K=0|this.words[z];this.words[z]=P<<26-E|K>>>E,P=K&C}return D&&P!==0&&(D.words[D.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(R,S,j){return a(this.negative===0),this.iushrn(R,S,j)},c.prototype.shln=function(R){return this.clone().ishln(R)},c.prototype.ushln=function(R){return this.clone().iushln(R)},c.prototype.shrn=function(R){return this.clone().ishrn(R)},c.prototype.ushrn=function(R){return this.clone().iushrn(R)},c.prototype.testn=function(R){a(typeof R=="number"&&R>=0);var S=R%26,j=(R-S)/26,k=1<<S;return!(this.length<=j)&&!!(this.words[j]&k)},c.prototype.imaskn=function(R){a(typeof R=="number"&&R>=0);var S=R%26,j=(R-S)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(S!==0&&j++,this.length=Math.min(j,this.length),S!==0){var k=67108863^67108863>>>S<<S;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(R){return this.clone().imaskn(R)},c.prototype.iaddn=function(R){return a(typeof R=="number"),a(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},c.prototype._iaddn=function(R){this.words[0]+=R;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},c.prototype.isubn=function(R){if(a(typeof R=="number"),a(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},c.prototype.addn=function(R){return this.clone().iaddn(R)},c.prototype.subn=function(R){return this.clone().isubn(R)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(R,S,j){var k,E,A=R.length+j;this._expand(A);var C=0;for(k=0;k<R.length;k++){E=(0|this.words[k+j])+C;var D=(0|R.words[k])*S;C=((E-=67108863&D)>>26)-(D/67108864|0),this.words[k+j]=67108863&E}for(;k<this.length-j;k++)C=(E=(0|this.words[k+j])+C)>>26,this.words[k+j]=67108863&E;if(C===0)return this.strip();for(a(C===-1),C=0,k=0;k<this.length;k++)C=(E=-(0|this.words[k])+C)>>26,this.words[k]=67108863&E;return this.negative=1,this.strip()},c.prototype._wordDiv=function(R,S){var j=(this.length,R.length),k=this.clone(),E=R,A=0|E.words[E.length-1];(j=26-this._countBits(A))!==0&&(E=E.ushln(j),k.iushln(j),A=0|E.words[E.length-1]);var C,D=k.length-E.length;if(S!=="mod"){(C=new c(null)).length=D+1,C.words=new Array(C.length);for(var z=0;z<C.length;z++)C.words[z]=0}var P=k.clone()._ishlnsubmul(E,1,D);P.negative===0&&(k=P,C&&(C.words[D]=1));for(var K=D-1;K>=0;K--){var Z=67108864*(0|k.words[E.length+K])+(0|k.words[E.length+K-1]);for(Z=Math.min(Z/A|0,67108863),k._ishlnsubmul(E,Z,K);k.negative!==0;)Z--,k.negative=0,k._ishlnsubmul(E,1,K),k.isZero()||(k.negative^=1);C&&(C.words[K]=Z)}return C&&C.strip(),k.strip(),S!=="div"&&j!==0&&k.iushrn(j),{div:C||null,mod:k}},c.prototype.divmod=function(R,S,j){return a(!R.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&R.negative===0?(A=this.neg().divmod(R,S),S!=="mod"&&(k=A.div.neg()),S!=="div"&&(E=A.mod.neg(),j&&E.negative!==0&&E.iadd(R)),{div:k,mod:E}):this.negative===0&&R.negative!==0?(A=this.divmod(R.neg(),S),S!=="mod"&&(k=A.div.neg()),{div:k,mod:A.mod}):this.negative&R.negative?(A=this.neg().divmod(R.neg(),S),S!=="div"&&(E=A.mod.neg(),j&&E.negative!==0&&E.isub(R)),{div:A.div,mod:E}):R.length>this.length||this.cmp(R)<0?{div:new c(0),mod:this}:R.length===1?S==="div"?{div:this.divn(R.words[0]),mod:null}:S==="mod"?{div:null,mod:new c(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new c(this.modn(R.words[0]))}:this._wordDiv(R,S);var k,E,A},c.prototype.div=function(R){return this.divmod(R,"div",!1).div},c.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},c.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},c.prototype.divRound=function(R){var S=this.divmod(R);if(S.mod.isZero())return S.div;var j=S.div.negative!==0?S.mod.isub(R):S.mod,k=R.ushrn(1),E=R.andln(1),A=j.cmp(k);return A<0||E===1&&A===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},c.prototype.modn=function(R){a(R<=67108863);for(var S=(1<<26)%R,j=0,k=this.length-1;k>=0;k--)j=(S*j+(0|this.words[k]))%R;return j},c.prototype.idivn=function(R){a(R<=67108863);for(var S=0,j=this.length-1;j>=0;j--){var k=(0|this.words[j])+67108864*S;this.words[j]=k/R|0,S=k%R}return this.strip()},c.prototype.divn=function(R){return this.clone().idivn(R)},c.prototype.egcd=function(R){a(R.negative===0),a(!R.isZero());var S=this,j=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var k=new c(1),E=new c(0),A=new c(0),C=new c(1),D=0;S.isEven()&&j.isEven();)S.iushrn(1),j.iushrn(1),++D;for(var z=j.clone(),P=S.clone();!S.isZero();){for(var K=0,Z=1;!(S.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(S.iushrn(K);K-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(z),E.isub(P)),k.iushrn(1),E.iushrn(1);for(var te=0,q=1;!(j.words[0]&q)&&te<26;++te,q<<=1);if(te>0)for(j.iushrn(te);te-- >0;)(A.isOdd()||C.isOdd())&&(A.iadd(z),C.isub(P)),A.iushrn(1),C.iushrn(1);S.cmp(j)>=0?(S.isub(j),k.isub(A),E.isub(C)):(j.isub(S),A.isub(k),C.isub(E))}return{a:A,b:C,gcd:j.iushln(D)}},c.prototype._invmp=function(R){a(R.negative===0),a(!R.isZero());var S=this,j=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var k,E=new c(1),A=new c(0),C=j.clone();S.cmpn(1)>0&&j.cmpn(1)>0;){for(var D=0,z=1;!(S.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(S.iushrn(D);D-- >0;)E.isOdd()&&E.iadd(C),E.iushrn(1);for(var P=0,K=1;!(j.words[0]&K)&&P<26;++P,K<<=1);if(P>0)for(j.iushrn(P);P-- >0;)A.isOdd()&&A.iadd(C),A.iushrn(1);S.cmp(j)>=0?(S.isub(j),E.isub(A)):(j.isub(S),A.isub(E))}return(k=S.cmpn(1)===0?E:A).cmpn(0)<0&&k.iadd(R),k},c.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var S=this.clone(),j=R.clone();S.negative=0,j.negative=0;for(var k=0;S.isEven()&&j.isEven();k++)S.iushrn(1),j.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;j.isEven();)j.iushrn(1);var E=S.cmp(j);if(E<0){var A=S;S=j,j=A}else if(E===0||j.cmpn(1)===0)break;S.isub(j)}return j.iushln(k)},c.prototype.invm=function(R){return this.egcd(R).a.umod(R)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(R){return this.words[0]&R},c.prototype.bincn=function(R){a(typeof R=="number");var S=R%26,j=(R-S)/26,k=1<<S;if(this.length<=j)return this._expand(j+1),this.words[j]|=k,this;for(var E=k,A=j;E!==0&&A<this.length;A++){var C=0|this.words[A];E=(C+=E)>>>26,C&=67108863,this.words[A]=C}return E!==0&&(this.words[A]=E,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(R){var S,j=R<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this.strip(),this.length>1)S=1;else{j&&(R=-R),a(R<=67108863,"Number is too big");var k=0|this.words[0];S=k===R?0:k<R?-1:1}return this.negative!==0?0|-S:S},c.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var S=this.ucmp(R);return this.negative!==0?0|-S:S},c.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var S=0,j=this.length-1;j>=0;j--){var k=0|this.words[j],E=0|R.words[j];if(k!==E){k<E?S=-1:k>E&&(S=1);break}}return S},c.prototype.gtn=function(R){return this.cmpn(R)===1},c.prototype.gt=function(R){return this.cmp(R)===1},c.prototype.gten=function(R){return this.cmpn(R)>=0},c.prototype.gte=function(R){return this.cmp(R)>=0},c.prototype.ltn=function(R){return this.cmpn(R)===-1},c.prototype.lt=function(R){return this.cmp(R)===-1},c.prototype.lten=function(R){return this.cmpn(R)<=0},c.prototype.lte=function(R){return this.cmp(R)<=0},c.prototype.eqn=function(R){return this.cmpn(R)===0},c.prototype.eq=function(R){return this.cmp(R)===0},c.red=function(R){return new G(R)},c.prototype.toRed=function(R){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(R){return this.red=R,this},c.prototype.forceRed=function(R){return a(!this.red,"Already a number in reduction context"),this._forceRed(R)},c.prototype.redAdd=function(R){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},c.prototype.redIAdd=function(R){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},c.prototype.redSub=function(R){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},c.prototype.redISub=function(R){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},c.prototype.redShl=function(R){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},c.prototype.redMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},c.prototype.redIMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(R){return a(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var _={k256:null,p224:null,p192:null,p25519:null};function M(R,S){this.name=R,this.p=new c(S,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(R){if(typeof R=="string"){var S=c._prime(R);this.m=S.p,this.prime=S}else a(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function I(R){G.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var R=new c(null);return R.words=new Array(Math.ceil(this.n/13)),R},M.prototype.ireduce=function(R){var S,j=R;do this.split(j,this.tmp),S=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(S>this.n);var k=S<this.n?-1:j.ucmp(this.p);return k===0?(j.words[0]=0,j.length=1):k>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},M.prototype.split=function(R,S){R.iushrn(this.n,0,S)},M.prototype.imulK=function(R){return R.imul(this.k)},l(U,M),U.prototype.split=function(R,S){for(var j=Math.min(R.length,9),k=0;k<j;k++)S.words[k]=R.words[k];if(S.length=j,R.length<=9)return R.words[0]=0,void(R.length=1);var E=R.words[9];for(S.words[S.length++]=4194303&E,k=10;k<R.length;k++){var A=0|R.words[k];R.words[k-10]=(4194303&A)<<4|E>>>22,E=A}E>>>=22,R.words[k-10]=E,E===0&&R.length>10?R.length-=10:R.length-=9},U.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var S=0,j=0;j<R.length;j++){var k=0|R.words[j];S+=977*k,R.words[j]=67108863&S,S=64*k+(S/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},l(L,M),l(O,M),l(H,M),H.prototype.imulK=function(R){for(var S=0,j=0;j<R.length;j++){var k=19*(0|R.words[j])+S,E=67108863&k;k>>>=26,R.words[j]=E,S=k}return S!==0&&(R.words[R.length++]=S),R},c._prime=function(R){if(_[R])return _[R];var S;if(R==="k256")S=new U;else if(R==="p224")S=new L;else if(R==="p192")S=new O;else{if(R!=="p25519")throw new Error("Unknown prime "+R);S=new H}return _[R]=S,S},G.prototype._verify1=function(R){a(R.negative===0,"red works only with positives"),a(R.red,"red works only with red numbers")},G.prototype._verify2=function(R,S){a((R.negative|S.negative)==0,"red works only with positives"),a(R.red&&R.red===S.red,"red works only with red numbers")},G.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},G.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},G.prototype.add=function(R,S){this._verify2(R,S);var j=R.add(S);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},G.prototype.iadd=function(R,S){this._verify2(R,S);var j=R.iadd(S);return j.cmp(this.m)>=0&&j.isub(this.m),j},G.prototype.sub=function(R,S){this._verify2(R,S);var j=R.sub(S);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},G.prototype.isub=function(R,S){this._verify2(R,S);var j=R.isub(S);return j.cmpn(0)<0&&j.iadd(this.m),j},G.prototype.shl=function(R,S){return this._verify1(R),this.imod(R.ushln(S))},G.prototype.imul=function(R,S){return this._verify2(R,S),this.imod(R.imul(S))},G.prototype.mul=function(R,S){return this._verify2(R,S),this.imod(R.mul(S))},G.prototype.isqr=function(R){return this.imul(R,R.clone())},G.prototype.sqr=function(R){return this.mul(R,R)},G.prototype.sqrt=function(R){if(R.isZero())return R.clone();var S=this.m.andln(3);if(a(S%2==1),S===3){var j=this.m.add(new c(1)).iushrn(2);return this.pow(R,j)}for(var k=this.m.subn(1),E=0;!k.isZero()&&k.andln(1)===0;)E++,k.iushrn(1);a(!k.isZero());var A=new c(1).toRed(this),C=A.redNeg(),D=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new c(2*z*z).toRed(this);this.pow(z,D).cmp(C)!==0;)z.redIAdd(C);for(var P=this.pow(z,k),K=this.pow(R,k.addn(1).iushrn(1)),Z=this.pow(R,k),te=E;Z.cmp(A)!==0;){for(var q=Z,$=0;q.cmp(A)!==0;$++)q=q.redSqr();a($<te);var N=this.pow(P,new c(1).iushln(te-$-1));K=K.redMul(N),P=N.redSqr(),Z=Z.redMul(P),te=$}return K},G.prototype.invm=function(R){var S=R._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},G.prototype.pow=function(R,S){if(S.isZero())return new c(1).toRed(this);if(S.cmpn(1)===0)return R.clone();var j=new Array(16);j[0]=new c(1).toRed(this),j[1]=R;for(var k=2;k<j.length;k++)j[k]=this.mul(j[k-1],R);var E=j[0],A=0,C=0,D=S.bitLength()%26;for(D===0&&(D=26),k=S.length-1;k>=0;k--){for(var z=S.words[k],P=D-1;P>=0;P--){var K=z>>P&1;E!==j[0]&&(E=this.sqr(E)),K!==0||A!==0?(A<<=1,A|=K,(++C===4||k===0&&P===0)&&(E=this.mul(E,j[A]),C=0,A=0)):C=0}D=26}return E},G.prototype.convertTo=function(R){var S=R.umod(this.m);return S===R?S.clone():S},G.prototype.convertFrom=function(R){var S=R.clone();return S.red=null,S},c.mont=function(R){return new I(R)},l(I,G),I.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},I.prototype.convertFrom=function(R){var S=this.imod(R.mul(this.rinv));return S.red=null,S},I.prototype.imul=function(R,S){if(R.isZero()||S.isZero())return R.words[0]=0,R.length=1,R;var j=R.imul(S),k=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=j.isub(k).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},I.prototype.mul=function(R,S){if(R.isZero()||S.isZero())return new c(0)._forceRed(this);var j=R.mul(S),k=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=j.isub(k).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},I.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(d){var p=h(d),g=p[0],m=p[1];return 3*(g+m)/4-m},i.toByteArray=function(d){var p,g,m=h(d),v=m[0],y=m[1],x=new a(function(M,U,L){return 3*(U+L)/4-L}(0,v,y)),w=0,_=y>0?v-4:v;for(g=0;g<_;g+=4)p=o[d.charCodeAt(g)]<<18|o[d.charCodeAt(g+1)]<<12|o[d.charCodeAt(g+2)]<<6|o[d.charCodeAt(g+3)],x[w++]=p>>16&255,x[w++]=p>>8&255,x[w++]=255&p;return y===2&&(p=o[d.charCodeAt(g)]<<2|o[d.charCodeAt(g+1)]>>4,x[w++]=255&p),y===1&&(p=o[d.charCodeAt(g)]<<10|o[d.charCodeAt(g+1)]<<4|o[d.charCodeAt(g+2)]>>2,x[w++]=p>>8&255,x[w++]=255&p),x},i.fromByteArray=function(d){for(var p,g=d.length,m=g%3,v=[],y=0,x=g-m;y<x;y+=16383)v.push(f(d,y,y+16383>x?x:y+16383));return m===1?(p=d[g-1],v.push(s[p>>2]+s[p<<4&63]+"==")):m===2&&(p=(d[g-2]<<8)+d[g-1],v.push(s[p>>10]+s[p>>4&63]+s[p<<2&63]+"=")),v.join("")};for(var s=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)s[c]=l[c],o[l.charCodeAt(c)]=c;function h(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function f(d,p,g){for(var m,v,y=[],x=p;x<g;x+=3)m=(d[x]<<16&16711680)+(d[x+1]<<8&65280)+(255&d[x+2]),y.push(s[(v=m)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return y.join("")}o[45]=62,o[95]=63},{}],186:[function(r,n,i){(function(s,o){function a(j,k){if(!j)throw new Error(k||"Assertion failed")}function l(j,k){j.super_=k;var E=function(){};E.prototype=k.prototype,j.prototype=new E,j.prototype.constructor=j}function c(j,k,E){if(c.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&(k!=="le"&&k!=="be"||(E=k,k=10),this._init(j||0,k||10,E||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(j,k){var E=j.charCodeAt(k);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void a(!1,"Invalid character in "+j)}function f(j,k,E){var A=h(j,E);return E-1>=k&&(A|=h(j,E-1)<<4),A}function d(j,k,E,A){for(var C=0,D=0,z=Math.min(j.length,E),P=k;P<z;P++){var K=j.charCodeAt(P)-48;C*=A,D=K>=49?K-49+10:K>=17?K-17+10:K,a(K>=0&&D<A,"Invalid character"),C+=D}return C}function p(j,k){j.words=k.words,j.length=k.length,j.negative=k.negative,j.red=k.red}if(c.isBN=function(j){return j instanceof c||j!==null&&typeof j=="object"&&j.constructor.wordSize===c.wordSize&&Array.isArray(j.words)},c.max=function(j,k){return j.cmp(k)>0?j:k},c.min=function(j,k){return j.cmp(k)<0?j:k},c.prototype._init=function(j,k,E){if(typeof j=="number")return this._initNumber(j,k,E);if(typeof j=="object")return this._initArray(j,k,E);k==="hex"&&(k=16),a(k===(0|k)&&k>=2&&k<=36);var A=0;(j=j.toString().replace(/\s+/g,""))[0]==="-"&&(A++,this.negative=1),A<j.length&&(k===16?this._parseHex(j,A,E):(this._parseBase(j,k,A),E==="le"&&this._initArray(this.toArray(),k,E)))},c.prototype._initNumber=function(j,k,E){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[67108863&j],this.length=1):j<4503599627370496?(this.words=[67108863&j,j/67108864&67108863],this.length=2):(a(j<9007199254740992),this.words=[67108863&j,j/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),k,E)},c.prototype._initArray=function(j,k,E){if(a(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var C,D,z=0;if(E==="be")for(A=j.length-1,C=0;A>=0;A-=3)D=j[A]|j[A-1]<<8|j[A-2]<<16,this.words[C]|=D<<z&67108863,this.words[C+1]=D>>>26-z&67108863,(z+=24)>=26&&(z-=26,C++);else if(E==="le")for(A=0,C=0;A<j.length;A+=3)D=j[A]|j[A+1]<<8|j[A+2]<<16,this.words[C]|=D<<z&67108863,this.words[C+1]=D>>>26-z&67108863,(z+=24)>=26&&(z-=26,C++);return this._strip()},c.prototype._parseHex=function(j,k,E){this.length=Math.ceil((j.length-k)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var C,D=0,z=0;if(E==="be")for(A=j.length-1;A>=k;A-=2)C=f(j,k,A)<<D,this.words[z]|=67108863&C,D>=18?(D-=18,z+=1,this.words[z]|=C>>>26):D+=8;else for(A=(j.length-k)%2==0?k+1:k;A<j.length;A+=2)C=f(j,k,A)<<D,this.words[z]|=67108863&C,D>=18?(D-=18,z+=1,this.words[z]|=C>>>26):D+=8;this._strip()},c.prototype._parseBase=function(j,k,E){this.words=[0],this.length=1;for(var A=0,C=1;C<=67108863;C*=k)A++;A--,C=C/k|0;for(var D=j.length-E,z=D%A,P=Math.min(D,D-z)+E,K=0,Z=E;Z<P;Z+=A)K=d(j,Z,Z+A,k),this.imuln(C),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(z!==0){var te=1;for(K=d(j,Z,j.length,k),Z=0;Z<z;Z++)te*=k;this.imuln(te),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},c.prototype.copy=function(j){j.words=new Array(this.length);for(var k=0;k<this.length;k++)j.words[k]=this.words[k];j.length=this.length,j.negative=this.negative,j.red=this.red},c.prototype._move=function(j){p(j,this)},c.prototype.clone=function(){var j=new c(null);return this.copy(j),j},c.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{c.prototype.inspect=g}else c.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(j,k){var E;if(k=0|k||1,(j=j||10)===16||j==="hex"){E="";for(var A=0,C=0,D=0;D<this.length;D++){var z=this.words[D],P=(16777215&(z<<A|C)).toString(16);C=z>>>24-A&16777215,(A+=2)>=26&&(A-=26,D--),E=C!==0||D!==this.length-1?m[6-P.length]+P+E:P+E}for(C!==0&&(E=C.toString(16)+E);E.length%k!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(j===(0|j)&&j>=2&&j<=36){var K=v[j],Z=y[j];E="";var te=this.clone();for(te.negative=0;!te.isZero();){var q=te.modrn(Z).toString(j);E=(te=te.idivn(Z)).isZero()?q+E:m[K-q.length]+q+E}for(this.isZero()&&(E="0"+E);E.length%k!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=67108864*this.words[1]:this.length===3&&this.words[2]===1?j+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(j,k){return this.toArrayLike(u,j,k)}),c.prototype.toArray=function(j,k){return this.toArrayLike(Array,j,k)};function x(j,k,E){E.negative=k.negative^j.negative;var A=j.length+k.length|0;E.length=A,A=A-1|0;var C=0|j.words[0],D=0|k.words[0],z=C*D,P=67108863&z,K=z/67108864|0;E.words[0]=P;for(var Z=1;Z<A;Z++){for(var te=K>>>26,q=67108863&K,$=Math.min(Z,k.length-1),N=Math.max(0,Z-j.length+1);N<=$;N++){var T=Z-N|0;te+=(z=(C=0|j.words[T])*(D=0|k.words[N])+q)/67108864|0,q=67108863&z}E.words[Z]=0|q,K=0|te}return K!==0?E.words[Z]=0|K:E.length--,E._strip()}c.prototype.toArrayLike=function(j,k,E){this._strip();var A=this.byteLength(),C=E||Math.max(1,A);a(A<=C,"byte array longer than desired length"),a(C>0,"Requested array length <= 0");var D=function(z,P){return z.allocUnsafe?z.allocUnsafe(P):new z(P)}(j,C);return this["_toArrayLike"+(k==="le"?"LE":"BE")](D,A),D},c.prototype._toArrayLikeLE=function(j,k){for(var E=0,A=0,C=0,D=0;C<this.length;C++){var z=this.words[C]<<D|A;j[E++]=255&z,E<j.length&&(j[E++]=z>>8&255),E<j.length&&(j[E++]=z>>16&255),D===6?(E<j.length&&(j[E++]=z>>24&255),A=0,D=0):(A=z>>>24,D+=2)}if(E<j.length)for(j[E++]=A;E<j.length;)j[E++]=0},c.prototype._toArrayLikeBE=function(j,k){for(var E=j.length-1,A=0,C=0,D=0;C<this.length;C++){var z=this.words[C]<<D|A;j[E--]=255&z,E>=0&&(j[E--]=z>>8&255),E>=0&&(j[E--]=z>>16&255),D===6?(E>=0&&(j[E--]=z>>24&255),A=0,D=0):(A=z>>>24,D+=2)}if(E>=0)for(j[E--]=A;E>=0;)j[E--]=0},Math.clz32?c.prototype._countBits=function(j){return 32-Math.clz32(j)}:c.prototype._countBits=function(j){var k=j,E=0;return k>=4096&&(E+=13,k>>>=13),k>=64&&(E+=7,k>>>=7),k>=8&&(E+=4,k>>>=4),k>=2&&(E+=2,k>>>=2),E+k},c.prototype._zeroBits=function(j){if(j===0)return 26;var k=j,E=0;return!(8191&k)&&(E+=13,k>>>=13),!(127&k)&&(E+=7,k>>>=7),!(15&k)&&(E+=4,k>>>=4),!(3&k)&&(E+=2,k>>>=2),!(1&k)&&E++,E},c.prototype.bitLength=function(){var j=this.words[this.length-1],k=this._countBits(j);return 26*(this.length-1)+k},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,k=0;k<this.length;k++){var E=this._zeroBits(this.words[k]);if(j+=E,E!==26)break}return j},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},c.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var k=0;k<j.length;k++)this.words[k]=this.words[k]|j.words[k];return this._strip()},c.prototype.ior=function(j){return a((this.negative|j.negative)==0),this.iuor(j)},c.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},c.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},c.prototype.iuand=function(j){var k;k=this.length>j.length?j:this;for(var E=0;E<k.length;E++)this.words[E]=this.words[E]&j.words[E];return this.length=k.length,this._strip()},c.prototype.iand=function(j){return a((this.negative|j.negative)==0),this.iuand(j)},c.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},c.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},c.prototype.iuxor=function(j){var k,E;this.length>j.length?(k=this,E=j):(k=j,E=this);for(var A=0;A<E.length;A++)this.words[A]=k.words[A]^E.words[A];if(this!==k)for(;A<k.length;A++)this.words[A]=k.words[A];return this.length=k.length,this._strip()},c.prototype.ixor=function(j){return a((this.negative|j.negative)==0),this.iuxor(j)},c.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},c.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},c.prototype.inotn=function(j){a(typeof j=="number"&&j>=0);var k=0|Math.ceil(j/26),E=j%26;this._expand(k),E>0&&k--;for(var A=0;A<k;A++)this.words[A]=67108863&~this.words[A];return E>0&&(this.words[A]=~this.words[A]&67108863>>26-E),this._strip()},c.prototype.notn=function(j){return this.clone().inotn(j)},c.prototype.setn=function(j,k){a(typeof j=="number"&&j>=0);var E=j/26|0,A=j%26;return this._expand(E+1),this.words[E]=k?this.words[E]|1<<A:this.words[E]&~(1<<A),this._strip()},c.prototype.iadd=function(j){var k,E,A;if(this.negative!==0&&j.negative===0)return this.negative=0,k=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,k=this.isub(j),j.negative=1,k._normSign();this.length>j.length?(E=this,A=j):(E=j,A=this);for(var C=0,D=0;D<A.length;D++)k=(0|E.words[D])+(0|A.words[D])+C,this.words[D]=67108863&k,C=k>>>26;for(;C!==0&&D<E.length;D++)k=(0|E.words[D])+C,this.words[D]=67108863&k,C=k>>>26;if(this.length=E.length,C!==0)this.words[this.length]=C,this.length++;else if(E!==this)for(;D<E.length;D++)this.words[D]=E.words[D];return this},c.prototype.add=function(j){var k;return j.negative!==0&&this.negative===0?(j.negative=0,k=this.sub(j),j.negative^=1,k):j.negative===0&&this.negative!==0?(this.negative=0,k=j.sub(this),this.negative=1,k):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},c.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var k=this.iadd(j);return j.negative=1,k._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var E,A,C=this.cmp(j);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(E=this,A=j):(E=j,A=this);for(var D=0,z=0;z<A.length;z++)D=(k=(0|E.words[z])-(0|A.words[z])+D)>>26,this.words[z]=67108863&k;for(;D!==0&&z<E.length;z++)D=(k=(0|E.words[z])+D)>>26,this.words[z]=67108863&k;if(D===0&&z<E.length&&E!==this)for(;z<E.length;z++)this.words[z]=E.words[z];return this.length=Math.max(this.length,z),E!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(j){return this.clone().isub(j)};var w=function(j,k,E){var A,C,D,z=j.words,P=k.words,K=E.words,Z=0,te=0|z[0],q=8191&te,$=te>>>13,N=0|z[1],T=8191&N,V=N>>>13,J=0|z[2],re=8191&J,se=J>>>13,B=0|z[3],ne=8191&B,ee=B>>>13,F=0|z[4],W=8191&F,Y=F>>>13,ae=0|z[5],ce=8191&ae,le=ae>>>13,de=0|z[6],me=8191&de,ge=de>>>13,ke=0|z[7],Re=8191&ke,je=ke>>>13,qe=0|z[8],Je=8191&qe,Ve=qe>>>13,pt=0|z[9],$e=8191&pt,Ue=pt>>>13,Ke=0|P[0],rt=8191&Ke,Ze=Ke>>>13,kt=0|P[1],wt=8191&kt,xt=kt>>>13,Wt=0|P[2],St=8191&Wt,ot=Wt>>>13,qt=0|P[3],kr=8191&qt,jt=qt>>>13,hr=0|P[4],Cr=8191&hr,dt=hr>>>13,wr=0|P[5],jr=8191&wr,Gt=wr>>>13,Ne=0|P[6],Pe=8191&Ne,We=Ne>>>13,ct=0|P[7],Bt=8191&ct,vt=ct>>>13,Ft=0|P[8],It=8191&Ft,Tt=Ft>>>13,Kt=0|P[9],zt=8191&Kt,ar=Kt>>>13;E.negative=j.negative^k.negative,E.length=19;var Gr=(Z+(A=Math.imul(q,rt))|0)+((8191&(C=(C=Math.imul(q,Ze))+Math.imul($,rt)|0))<<13)|0;Z=((D=Math.imul($,Ze))+(C>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,A=Math.imul(T,rt),C=(C=Math.imul(T,Ze))+Math.imul(V,rt)|0,D=Math.imul(V,Ze);var zr=(Z+(A=A+Math.imul(q,wt)|0)|0)+((8191&(C=(C=C+Math.imul(q,xt)|0)+Math.imul($,wt)|0))<<13)|0;Z=((D=D+Math.imul($,xt)|0)+(C>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(re,rt),C=(C=Math.imul(re,Ze))+Math.imul(se,rt)|0,D=Math.imul(se,Ze),A=A+Math.imul(T,wt)|0,C=(C=C+Math.imul(T,xt)|0)+Math.imul(V,wt)|0,D=D+Math.imul(V,xt)|0;var mn=(Z+(A=A+Math.imul(q,St)|0)|0)+((8191&(C=(C=C+Math.imul(q,ot)|0)+Math.imul($,St)|0))<<13)|0;Z=((D=D+Math.imul($,ot)|0)+(C>>>13)|0)+(mn>>>26)|0,mn&=67108863,A=Math.imul(ne,rt),C=(C=Math.imul(ne,Ze))+Math.imul(ee,rt)|0,D=Math.imul(ee,Ze),A=A+Math.imul(re,wt)|0,C=(C=C+Math.imul(re,xt)|0)+Math.imul(se,wt)|0,D=D+Math.imul(se,xt)|0,A=A+Math.imul(T,St)|0,C=(C=C+Math.imul(T,ot)|0)+Math.imul(V,St)|0,D=D+Math.imul(V,ot)|0;var gn=(Z+(A=A+Math.imul(q,kr)|0)|0)+((8191&(C=(C=C+Math.imul(q,jt)|0)+Math.imul($,kr)|0))<<13)|0;Z=((D=D+Math.imul($,jt)|0)+(C>>>13)|0)+(gn>>>26)|0,gn&=67108863,A=Math.imul(W,rt),C=(C=Math.imul(W,Ze))+Math.imul(Y,rt)|0,D=Math.imul(Y,Ze),A=A+Math.imul(ne,wt)|0,C=(C=C+Math.imul(ne,xt)|0)+Math.imul(ee,wt)|0,D=D+Math.imul(ee,xt)|0,A=A+Math.imul(re,St)|0,C=(C=C+Math.imul(re,ot)|0)+Math.imul(se,St)|0,D=D+Math.imul(se,ot)|0,A=A+Math.imul(T,kr)|0,C=(C=C+Math.imul(T,jt)|0)+Math.imul(V,kr)|0,D=D+Math.imul(V,jt)|0;var Qn=(Z+(A=A+Math.imul(q,Cr)|0)|0)+((8191&(C=(C=C+Math.imul(q,dt)|0)+Math.imul($,Cr)|0))<<13)|0;Z=((D=D+Math.imul($,dt)|0)+(C>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,A=Math.imul(ce,rt),C=(C=Math.imul(ce,Ze))+Math.imul(le,rt)|0,D=Math.imul(le,Ze),A=A+Math.imul(W,wt)|0,C=(C=C+Math.imul(W,xt)|0)+Math.imul(Y,wt)|0,D=D+Math.imul(Y,xt)|0,A=A+Math.imul(ne,St)|0,C=(C=C+Math.imul(ne,ot)|0)+Math.imul(ee,St)|0,D=D+Math.imul(ee,ot)|0,A=A+Math.imul(re,kr)|0,C=(C=C+Math.imul(re,jt)|0)+Math.imul(se,kr)|0,D=D+Math.imul(se,jt)|0,A=A+Math.imul(T,Cr)|0,C=(C=C+Math.imul(T,dt)|0)+Math.imul(V,Cr)|0,D=D+Math.imul(V,dt)|0;var we=(Z+(A=A+Math.imul(q,jr)|0)|0)+((8191&(C=(C=C+Math.imul(q,Gt)|0)+Math.imul($,jr)|0))<<13)|0;Z=((D=D+Math.imul($,Gt)|0)+(C>>>13)|0)+(we>>>26)|0,we&=67108863,A=Math.imul(me,rt),C=(C=Math.imul(me,Ze))+Math.imul(ge,rt)|0,D=Math.imul(ge,Ze),A=A+Math.imul(ce,wt)|0,C=(C=C+Math.imul(ce,xt)|0)+Math.imul(le,wt)|0,D=D+Math.imul(le,xt)|0,A=A+Math.imul(W,St)|0,C=(C=C+Math.imul(W,ot)|0)+Math.imul(Y,St)|0,D=D+Math.imul(Y,ot)|0,A=A+Math.imul(ne,kr)|0,C=(C=C+Math.imul(ne,jt)|0)+Math.imul(ee,kr)|0,D=D+Math.imul(ee,jt)|0,A=A+Math.imul(re,Cr)|0,C=(C=C+Math.imul(re,dt)|0)+Math.imul(se,Cr)|0,D=D+Math.imul(se,dt)|0,A=A+Math.imul(T,jr)|0,C=(C=C+Math.imul(T,Gt)|0)+Math.imul(V,jr)|0,D=D+Math.imul(V,Gt)|0;var De=(Z+(A=A+Math.imul(q,Pe)|0)|0)+((8191&(C=(C=C+Math.imul(q,We)|0)+Math.imul($,Pe)|0))<<13)|0;Z=((D=D+Math.imul($,We)|0)+(C>>>13)|0)+(De>>>26)|0,De&=67108863,A=Math.imul(Re,rt),C=(C=Math.imul(Re,Ze))+Math.imul(je,rt)|0,D=Math.imul(je,Ze),A=A+Math.imul(me,wt)|0,C=(C=C+Math.imul(me,xt)|0)+Math.imul(ge,wt)|0,D=D+Math.imul(ge,xt)|0,A=A+Math.imul(ce,St)|0,C=(C=C+Math.imul(ce,ot)|0)+Math.imul(le,St)|0,D=D+Math.imul(le,ot)|0,A=A+Math.imul(W,kr)|0,C=(C=C+Math.imul(W,jt)|0)+Math.imul(Y,kr)|0,D=D+Math.imul(Y,jt)|0,A=A+Math.imul(ne,Cr)|0,C=(C=C+Math.imul(ne,dt)|0)+Math.imul(ee,Cr)|0,D=D+Math.imul(ee,dt)|0,A=A+Math.imul(re,jr)|0,C=(C=C+Math.imul(re,Gt)|0)+Math.imul(se,jr)|0,D=D+Math.imul(se,Gt)|0,A=A+Math.imul(T,Pe)|0,C=(C=C+Math.imul(T,We)|0)+Math.imul(V,Pe)|0,D=D+Math.imul(V,We)|0;var et=(Z+(A=A+Math.imul(q,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(q,vt)|0)+Math.imul($,Bt)|0))<<13)|0;Z=((D=D+Math.imul($,vt)|0)+(C>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(Je,rt),C=(C=Math.imul(Je,Ze))+Math.imul(Ve,rt)|0,D=Math.imul(Ve,Ze),A=A+Math.imul(Re,wt)|0,C=(C=C+Math.imul(Re,xt)|0)+Math.imul(je,wt)|0,D=D+Math.imul(je,xt)|0,A=A+Math.imul(me,St)|0,C=(C=C+Math.imul(me,ot)|0)+Math.imul(ge,St)|0,D=D+Math.imul(ge,ot)|0,A=A+Math.imul(ce,kr)|0,C=(C=C+Math.imul(ce,jt)|0)+Math.imul(le,kr)|0,D=D+Math.imul(le,jt)|0,A=A+Math.imul(W,Cr)|0,C=(C=C+Math.imul(W,dt)|0)+Math.imul(Y,Cr)|0,D=D+Math.imul(Y,dt)|0,A=A+Math.imul(ne,jr)|0,C=(C=C+Math.imul(ne,Gt)|0)+Math.imul(ee,jr)|0,D=D+Math.imul(ee,Gt)|0,A=A+Math.imul(re,Pe)|0,C=(C=C+Math.imul(re,We)|0)+Math.imul(se,Pe)|0,D=D+Math.imul(se,We)|0,A=A+Math.imul(T,Bt)|0,C=(C=C+Math.imul(T,vt)|0)+Math.imul(V,Bt)|0,D=D+Math.imul(V,vt)|0;var it=(Z+(A=A+Math.imul(q,It)|0)|0)+((8191&(C=(C=C+Math.imul(q,Tt)|0)+Math.imul($,It)|0))<<13)|0;Z=((D=D+Math.imul($,Tt)|0)+(C>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul($e,rt),C=(C=Math.imul($e,Ze))+Math.imul(Ue,rt)|0,D=Math.imul(Ue,Ze),A=A+Math.imul(Je,wt)|0,C=(C=C+Math.imul(Je,xt)|0)+Math.imul(Ve,wt)|0,D=D+Math.imul(Ve,xt)|0,A=A+Math.imul(Re,St)|0,C=(C=C+Math.imul(Re,ot)|0)+Math.imul(je,St)|0,D=D+Math.imul(je,ot)|0,A=A+Math.imul(me,kr)|0,C=(C=C+Math.imul(me,jt)|0)+Math.imul(ge,kr)|0,D=D+Math.imul(ge,jt)|0,A=A+Math.imul(ce,Cr)|0,C=(C=C+Math.imul(ce,dt)|0)+Math.imul(le,Cr)|0,D=D+Math.imul(le,dt)|0,A=A+Math.imul(W,jr)|0,C=(C=C+Math.imul(W,Gt)|0)+Math.imul(Y,jr)|0,D=D+Math.imul(Y,Gt)|0,A=A+Math.imul(ne,Pe)|0,C=(C=C+Math.imul(ne,We)|0)+Math.imul(ee,Pe)|0,D=D+Math.imul(ee,We)|0,A=A+Math.imul(re,Bt)|0,C=(C=C+Math.imul(re,vt)|0)+Math.imul(se,Bt)|0,D=D+Math.imul(se,vt)|0,A=A+Math.imul(T,It)|0,C=(C=C+Math.imul(T,Tt)|0)+Math.imul(V,It)|0,D=D+Math.imul(V,Tt)|0;var At=(Z+(A=A+Math.imul(q,zt)|0)|0)+((8191&(C=(C=C+Math.imul(q,ar)|0)+Math.imul($,zt)|0))<<13)|0;Z=((D=D+Math.imul($,ar)|0)+(C>>>13)|0)+(At>>>26)|0,At&=67108863,A=Math.imul($e,wt),C=(C=Math.imul($e,xt))+Math.imul(Ue,wt)|0,D=Math.imul(Ue,xt),A=A+Math.imul(Je,St)|0,C=(C=C+Math.imul(Je,ot)|0)+Math.imul(Ve,St)|0,D=D+Math.imul(Ve,ot)|0,A=A+Math.imul(Re,kr)|0,C=(C=C+Math.imul(Re,jt)|0)+Math.imul(je,kr)|0,D=D+Math.imul(je,jt)|0,A=A+Math.imul(me,Cr)|0,C=(C=C+Math.imul(me,dt)|0)+Math.imul(ge,Cr)|0,D=D+Math.imul(ge,dt)|0,A=A+Math.imul(ce,jr)|0,C=(C=C+Math.imul(ce,Gt)|0)+Math.imul(le,jr)|0,D=D+Math.imul(le,Gt)|0,A=A+Math.imul(W,Pe)|0,C=(C=C+Math.imul(W,We)|0)+Math.imul(Y,Pe)|0,D=D+Math.imul(Y,We)|0,A=A+Math.imul(ne,Bt)|0,C=(C=C+Math.imul(ne,vt)|0)+Math.imul(ee,Bt)|0,D=D+Math.imul(ee,vt)|0,A=A+Math.imul(re,It)|0,C=(C=C+Math.imul(re,Tt)|0)+Math.imul(se,It)|0,D=D+Math.imul(se,Tt)|0;var mt=(Z+(A=A+Math.imul(T,zt)|0)|0)+((8191&(C=(C=C+Math.imul(T,ar)|0)+Math.imul(V,zt)|0))<<13)|0;Z=((D=D+Math.imul(V,ar)|0)+(C>>>13)|0)+(mt>>>26)|0,mt&=67108863,A=Math.imul($e,St),C=(C=Math.imul($e,ot))+Math.imul(Ue,St)|0,D=Math.imul(Ue,ot),A=A+Math.imul(Je,kr)|0,C=(C=C+Math.imul(Je,jt)|0)+Math.imul(Ve,kr)|0,D=D+Math.imul(Ve,jt)|0,A=A+Math.imul(Re,Cr)|0,C=(C=C+Math.imul(Re,dt)|0)+Math.imul(je,Cr)|0,D=D+Math.imul(je,dt)|0,A=A+Math.imul(me,jr)|0,C=(C=C+Math.imul(me,Gt)|0)+Math.imul(ge,jr)|0,D=D+Math.imul(ge,Gt)|0,A=A+Math.imul(ce,Pe)|0,C=(C=C+Math.imul(ce,We)|0)+Math.imul(le,Pe)|0,D=D+Math.imul(le,We)|0,A=A+Math.imul(W,Bt)|0,C=(C=C+Math.imul(W,vt)|0)+Math.imul(Y,Bt)|0,D=D+Math.imul(Y,vt)|0,A=A+Math.imul(ne,It)|0,C=(C=C+Math.imul(ne,Tt)|0)+Math.imul(ee,It)|0,D=D+Math.imul(ee,Tt)|0;var yt=(Z+(A=A+Math.imul(re,zt)|0)|0)+((8191&(C=(C=C+Math.imul(re,ar)|0)+Math.imul(se,zt)|0))<<13)|0;Z=((D=D+Math.imul(se,ar)|0)+(C>>>13)|0)+(yt>>>26)|0,yt&=67108863,A=Math.imul($e,kr),C=(C=Math.imul($e,jt))+Math.imul(Ue,kr)|0,D=Math.imul(Ue,jt),A=A+Math.imul(Je,Cr)|0,C=(C=C+Math.imul(Je,dt)|0)+Math.imul(Ve,Cr)|0,D=D+Math.imul(Ve,dt)|0,A=A+Math.imul(Re,jr)|0,C=(C=C+Math.imul(Re,Gt)|0)+Math.imul(je,jr)|0,D=D+Math.imul(je,Gt)|0,A=A+Math.imul(me,Pe)|0,C=(C=C+Math.imul(me,We)|0)+Math.imul(ge,Pe)|0,D=D+Math.imul(ge,We)|0,A=A+Math.imul(ce,Bt)|0,C=(C=C+Math.imul(ce,vt)|0)+Math.imul(le,Bt)|0,D=D+Math.imul(le,vt)|0,A=A+Math.imul(W,It)|0,C=(C=C+Math.imul(W,Tt)|0)+Math.imul(Y,It)|0,D=D+Math.imul(Y,Tt)|0;var _r=(Z+(A=A+Math.imul(ne,zt)|0)|0)+((8191&(C=(C=C+Math.imul(ne,ar)|0)+Math.imul(ee,zt)|0))<<13)|0;Z=((D=D+Math.imul(ee,ar)|0)+(C>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul($e,Cr),C=(C=Math.imul($e,dt))+Math.imul(Ue,Cr)|0,D=Math.imul(Ue,dt),A=A+Math.imul(Je,jr)|0,C=(C=C+Math.imul(Je,Gt)|0)+Math.imul(Ve,jr)|0,D=D+Math.imul(Ve,Gt)|0,A=A+Math.imul(Re,Pe)|0,C=(C=C+Math.imul(Re,We)|0)+Math.imul(je,Pe)|0,D=D+Math.imul(je,We)|0,A=A+Math.imul(me,Bt)|0,C=(C=C+Math.imul(me,vt)|0)+Math.imul(ge,Bt)|0,D=D+Math.imul(ge,vt)|0,A=A+Math.imul(ce,It)|0,C=(C=C+Math.imul(ce,Tt)|0)+Math.imul(le,It)|0,D=D+Math.imul(le,Tt)|0;var lr=(Z+(A=A+Math.imul(W,zt)|0)|0)+((8191&(C=(C=C+Math.imul(W,ar)|0)+Math.imul(Y,zt)|0))<<13)|0;Z=((D=D+Math.imul(Y,ar)|0)+(C>>>13)|0)+(lr>>>26)|0,lr&=67108863,A=Math.imul($e,jr),C=(C=Math.imul($e,Gt))+Math.imul(Ue,jr)|0,D=Math.imul(Ue,Gt),A=A+Math.imul(Je,Pe)|0,C=(C=C+Math.imul(Je,We)|0)+Math.imul(Ve,Pe)|0,D=D+Math.imul(Ve,We)|0,A=A+Math.imul(Re,Bt)|0,C=(C=C+Math.imul(Re,vt)|0)+Math.imul(je,Bt)|0,D=D+Math.imul(je,vt)|0,A=A+Math.imul(me,It)|0,C=(C=C+Math.imul(me,Tt)|0)+Math.imul(ge,It)|0,D=D+Math.imul(ge,Tt)|0;var fr=(Z+(A=A+Math.imul(ce,zt)|0)|0)+((8191&(C=(C=C+Math.imul(ce,ar)|0)+Math.imul(le,zt)|0))<<13)|0;Z=((D=D+Math.imul(le,ar)|0)+(C>>>13)|0)+(fr>>>26)|0,fr&=67108863,A=Math.imul($e,Pe),C=(C=Math.imul($e,We))+Math.imul(Ue,Pe)|0,D=Math.imul(Ue,We),A=A+Math.imul(Je,Bt)|0,C=(C=C+Math.imul(Je,vt)|0)+Math.imul(Ve,Bt)|0,D=D+Math.imul(Ve,vt)|0,A=A+Math.imul(Re,It)|0,C=(C=C+Math.imul(Re,Tt)|0)+Math.imul(je,It)|0,D=D+Math.imul(je,Tt)|0;var Xt=(Z+(A=A+Math.imul(me,zt)|0)|0)+((8191&(C=(C=C+Math.imul(me,ar)|0)+Math.imul(ge,zt)|0))<<13)|0;Z=((D=D+Math.imul(ge,ar)|0)+(C>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,A=Math.imul($e,Bt),C=(C=Math.imul($e,vt))+Math.imul(Ue,Bt)|0,D=Math.imul(Ue,vt),A=A+Math.imul(Je,It)|0,C=(C=C+Math.imul(Je,Tt)|0)+Math.imul(Ve,It)|0,D=D+Math.imul(Ve,Tt)|0;var Dr=(Z+(A=A+Math.imul(Re,zt)|0)|0)+((8191&(C=(C=C+Math.imul(Re,ar)|0)+Math.imul(je,zt)|0))<<13)|0;Z=((D=D+Math.imul(je,ar)|0)+(C>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul($e,It),C=(C=Math.imul($e,Tt))+Math.imul(Ue,It)|0,D=Math.imul(Ue,Tt);var Hr=(Z+(A=A+Math.imul(Je,zt)|0)|0)+((8191&(C=(C=C+Math.imul(Je,ar)|0)+Math.imul(Ve,zt)|0))<<13)|0;Z=((D=D+Math.imul(Ve,ar)|0)+(C>>>13)|0)+(Hr>>>26)|0,Hr&=67108863;var ir=(Z+(A=Math.imul($e,zt))|0)+((8191&(C=(C=Math.imul($e,ar))+Math.imul(Ue,zt)|0))<<13)|0;return Z=((D=Math.imul(Ue,ar))+(C>>>13)|0)+(ir>>>26)|0,ir&=67108863,K[0]=Gr,K[1]=zr,K[2]=mn,K[3]=gn,K[4]=Qn,K[5]=we,K[6]=De,K[7]=et,K[8]=it,K[9]=At,K[10]=mt,K[11]=yt,K[12]=_r,K[13]=lr,K[14]=fr,K[15]=Xt,K[16]=Dr,K[17]=Hr,K[18]=ir,Z!==0&&(K[19]=Z,E.length++),E};function _(j,k,E){E.negative=k.negative^j.negative,E.length=j.length+k.length;for(var A=0,C=0,D=0;D<E.length-1;D++){var z=C;C=0;for(var P=67108863&A,K=Math.min(D,k.length-1),Z=Math.max(0,D-j.length+1);Z<=K;Z++){var te=D-Z,q=(0|j.words[te])*(0|k.words[Z]),$=67108863&q;P=67108863&($=$+P|0),C+=(z=(z=z+(q/67108864|0)|0)+($>>>26)|0)>>>26,z&=67108863}E.words[D]=P,A=z,z=C}return A!==0?E.words[D]=A:E.length--,E._strip()}function M(j,k,E){return _(j,k,E)}Math.imul||(w=x),c.prototype.mulTo=function(j,k){var E=this.length+j.length;return this.length===10&&j.length===10?w(this,j,k):E<63?x(this,j,k):E<1024?_(this,j,k):M(this,j,k)},c.prototype.mul=function(j){var k=new c(null);return k.words=new Array(this.length+j.length),this.mulTo(j,k)},c.prototype.mulf=function(j){var k=new c(null);return k.words=new Array(this.length+j.length),M(this,j,k)},c.prototype.imul=function(j){return this.clone().mulTo(j,this)},c.prototype.imuln=function(j){var k=j<0;k&&(j=-j),a(typeof j=="number"),a(j<67108864);for(var E=0,A=0;A<this.length;A++){var C=(0|this.words[A])*j,D=(67108863&C)+(67108863&E);E>>=26,E+=C/67108864|0,E+=D>>>26,this.words[A]=67108863&D}return E!==0&&(this.words[A]=E,this.length++),k?this.ineg():this},c.prototype.muln=function(j){return this.clone().imuln(j)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(j){var k=function(D){for(var z=new Array(D.bitLength()),P=0;P<z.length;P++){var K=P/26|0,Z=P%26;z[P]=D.words[K]>>>Z&1}return z}(j);if(k.length===0)return new c(1);for(var E=this,A=0;A<k.length&&k[A]===0;A++,E=E.sqr());if(++A<k.length)for(var C=E.sqr();A<k.length;A++,C=C.sqr())k[A]!==0&&(E=E.mul(C));return E},c.prototype.iushln=function(j){a(typeof j=="number"&&j>=0);var k,E=j%26,A=(j-E)/26,C=67108863>>>26-E<<26-E;if(E!==0){var D=0;for(k=0;k<this.length;k++){var z=this.words[k]&C,P=(0|this.words[k])-z<<E;this.words[k]=P|D,D=z>>>26-E}D&&(this.words[k]=D,this.length++)}if(A!==0){for(k=this.length-1;k>=0;k--)this.words[k+A]=this.words[k];for(k=0;k<A;k++)this.words[k]=0;this.length+=A}return this._strip()},c.prototype.ishln=function(j){return a(this.negative===0),this.iushln(j)},c.prototype.iushrn=function(j,k,E){var A;a(typeof j=="number"&&j>=0),A=k?(k-k%26)/26:0;var C=j%26,D=Math.min((j-C)/26,this.length),z=67108863^67108863>>>C<<C,P=E;if(A-=D,A=Math.max(0,A),P){for(var K=0;K<D;K++)P.words[K]=this.words[K];P.length=D}if(D!==0)if(this.length>D)for(this.length-=D,K=0;K<this.length;K++)this.words[K]=this.words[K+D];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=A);K--){var te=0|this.words[K];this.words[K]=Z<<26-C|te>>>C,Z=te&z}return P&&Z!==0&&(P.words[P.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(j,k,E){return a(this.negative===0),this.iushrn(j,k,E)},c.prototype.shln=function(j){return this.clone().ishln(j)},c.prototype.ushln=function(j){return this.clone().iushln(j)},c.prototype.shrn=function(j){return this.clone().ishrn(j)},c.prototype.ushrn=function(j){return this.clone().iushrn(j)},c.prototype.testn=function(j){a(typeof j=="number"&&j>=0);var k=j%26,E=(j-k)/26,A=1<<k;return!(this.length<=E)&&!!(this.words[E]&A)},c.prototype.imaskn=function(j){a(typeof j=="number"&&j>=0);var k=j%26,E=(j-k)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(k!==0&&E++,this.length=Math.min(E,this.length),k!==0){var A=67108863^67108863>>>k<<k;this.words[this.length-1]&=A}return this._strip()},c.prototype.maskn=function(j){return this.clone().imaskn(j)},c.prototype.iaddn=function(j){return a(typeof j=="number"),a(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(0|this.words[0])<=j?(this.words[0]=j-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},c.prototype._iaddn=function(j){this.words[0]+=j;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},c.prototype.isubn=function(j){if(a(typeof j=="number"),a(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},c.prototype.addn=function(j){return this.clone().iaddn(j)},c.prototype.subn=function(j){return this.clone().isubn(j)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(j,k,E){var A,C,D=j.length+E;this._expand(D);var z=0;for(A=0;A<j.length;A++){C=(0|this.words[A+E])+z;var P=(0|j.words[A])*k;z=((C-=67108863&P)>>26)-(P/67108864|0),this.words[A+E]=67108863&C}for(;A<this.length-E;A++)z=(C=(0|this.words[A+E])+z)>>26,this.words[A+E]=67108863&C;if(z===0)return this._strip();for(a(z===-1),z=0,A=0;A<this.length;A++)z=(C=-(0|this.words[A])+z)>>26,this.words[A]=67108863&C;return this.negative=1,this._strip()},c.prototype._wordDiv=function(j,k){var E=(this.length,j.length),A=this.clone(),C=j,D=0|C.words[C.length-1];(E=26-this._countBits(D))!==0&&(C=C.ushln(E),A.iushln(E),D=0|C.words[C.length-1]);var z,P=A.length-C.length;if(k!=="mod"){(z=new c(null)).length=P+1,z.words=new Array(z.length);for(var K=0;K<z.length;K++)z.words[K]=0}var Z=A.clone()._ishlnsubmul(C,1,P);Z.negative===0&&(A=Z,z&&(z.words[P]=1));for(var te=P-1;te>=0;te--){var q=67108864*(0|A.words[C.length+te])+(0|A.words[C.length+te-1]);for(q=Math.min(q/D|0,67108863),A._ishlnsubmul(C,q,te);A.negative!==0;)q--,A.negative=0,A._ishlnsubmul(C,1,te),A.isZero()||(A.negative^=1);z&&(z.words[te]=q)}return z&&z._strip(),A._strip(),k!=="div"&&E!==0&&A.iushrn(E),{div:z||null,mod:A}},c.prototype.divmod=function(j,k,E){return a(!j.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&j.negative===0?(D=this.neg().divmod(j,k),k!=="mod"&&(A=D.div.neg()),k!=="div"&&(C=D.mod.neg(),E&&C.negative!==0&&C.iadd(j)),{div:A,mod:C}):this.negative===0&&j.negative!==0?(D=this.divmod(j.neg(),k),k!=="mod"&&(A=D.div.neg()),{div:A,mod:D.mod}):this.negative&j.negative?(D=this.neg().divmod(j.neg(),k),k!=="div"&&(C=D.mod.neg(),E&&C.negative!==0&&C.isub(j)),{div:D.div,mod:C}):j.length>this.length||this.cmp(j)<0?{div:new c(0),mod:this}:j.length===1?k==="div"?{div:this.divn(j.words[0]),mod:null}:k==="mod"?{div:null,mod:new c(this.modrn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new c(this.modrn(j.words[0]))}:this._wordDiv(j,k);var A,C,D},c.prototype.div=function(j){return this.divmod(j,"div",!1).div},c.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},c.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},c.prototype.divRound=function(j){var k=this.divmod(j);if(k.mod.isZero())return k.div;var E=k.div.negative!==0?k.mod.isub(j):k.mod,A=j.ushrn(1),C=j.andln(1),D=E.cmp(A);return D<0||C===1&&D===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},c.prototype.modrn=function(j){var k=j<0;k&&(j=-j),a(j<=67108863);for(var E=(1<<26)%j,A=0,C=this.length-1;C>=0;C--)A=(E*A+(0|this.words[C]))%j;return k?-A:A},c.prototype.modn=function(j){return this.modrn(j)},c.prototype.idivn=function(j){var k=j<0;k&&(j=-j),a(j<=67108863);for(var E=0,A=this.length-1;A>=0;A--){var C=(0|this.words[A])+67108864*E;this.words[A]=C/j|0,E=C%j}return this._strip(),k?this.ineg():this},c.prototype.divn=function(j){return this.clone().idivn(j)},c.prototype.egcd=function(j){a(j.negative===0),a(!j.isZero());var k=this,E=j.clone();k=k.negative!==0?k.umod(j):k.clone();for(var A=new c(1),C=new c(0),D=new c(0),z=new c(1),P=0;k.isEven()&&E.isEven();)k.iushrn(1),E.iushrn(1),++P;for(var K=E.clone(),Z=k.clone();!k.isZero();){for(var te=0,q=1;!(k.words[0]&q)&&te<26;++te,q<<=1);if(te>0)for(k.iushrn(te);te-- >0;)(A.isOdd()||C.isOdd())&&(A.iadd(K),C.isub(Z)),A.iushrn(1),C.iushrn(1);for(var $=0,N=1;!(E.words[0]&N)&&$<26;++$,N<<=1);if($>0)for(E.iushrn($);$-- >0;)(D.isOdd()||z.isOdd())&&(D.iadd(K),z.isub(Z)),D.iushrn(1),z.iushrn(1);k.cmp(E)>=0?(k.isub(E),A.isub(D),C.isub(z)):(E.isub(k),D.isub(A),z.isub(C))}return{a:D,b:z,gcd:E.iushln(P)}},c.prototype._invmp=function(j){a(j.negative===0),a(!j.isZero());var k=this,E=j.clone();k=k.negative!==0?k.umod(j):k.clone();for(var A,C=new c(1),D=new c(0),z=E.clone();k.cmpn(1)>0&&E.cmpn(1)>0;){for(var P=0,K=1;!(k.words[0]&K)&&P<26;++P,K<<=1);if(P>0)for(k.iushrn(P);P-- >0;)C.isOdd()&&C.iadd(z),C.iushrn(1);for(var Z=0,te=1;!(E.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(E.iushrn(Z);Z-- >0;)D.isOdd()&&D.iadd(z),D.iushrn(1);k.cmp(E)>=0?(k.isub(E),C.isub(D)):(E.isub(k),D.isub(C))}return(A=k.cmpn(1)===0?C:D).cmpn(0)<0&&A.iadd(j),A},c.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var k=this.clone(),E=j.clone();k.negative=0,E.negative=0;for(var A=0;k.isEven()&&E.isEven();A++)k.iushrn(1),E.iushrn(1);for(;;){for(;k.isEven();)k.iushrn(1);for(;E.isEven();)E.iushrn(1);var C=k.cmp(E);if(C<0){var D=k;k=E,E=D}else if(C===0||E.cmpn(1)===0)break;k.isub(E)}return E.iushln(A)},c.prototype.invm=function(j){return this.egcd(j).a.umod(j)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(j){return this.words[0]&j},c.prototype.bincn=function(j){a(typeof j=="number");var k=j%26,E=(j-k)/26,A=1<<k;if(this.length<=E)return this._expand(E+1),this.words[E]|=A,this;for(var C=A,D=E;C!==0&&D<this.length;D++){var z=0|this.words[D];C=(z+=C)>>>26,z&=67108863,this.words[D]=z}return C!==0&&(this.words[D]=C,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(j){var k,E=j<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this._strip(),this.length>1)k=1;else{E&&(j=-j),a(j<=67108863,"Number is too big");var A=0|this.words[0];k=A===j?0:A<j?-1:1}return this.negative!==0?0|-k:k},c.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var k=this.ucmp(j);return this.negative!==0?0|-k:k},c.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var k=0,E=this.length-1;E>=0;E--){var A=0|this.words[E],C=0|j.words[E];if(A!==C){A<C?k=-1:A>C&&(k=1);break}}return k},c.prototype.gtn=function(j){return this.cmpn(j)===1},c.prototype.gt=function(j){return this.cmp(j)===1},c.prototype.gten=function(j){return this.cmpn(j)>=0},c.prototype.gte=function(j){return this.cmp(j)>=0},c.prototype.ltn=function(j){return this.cmpn(j)===-1},c.prototype.lt=function(j){return this.cmp(j)===-1},c.prototype.lten=function(j){return this.cmpn(j)<=0},c.prototype.lte=function(j){return this.cmp(j)<=0},c.prototype.eqn=function(j){return this.cmpn(j)===0},c.prototype.eq=function(j){return this.cmp(j)===0},c.red=function(j){return new R(j)},c.prototype.toRed=function(j){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(j){return this.red=j,this},c.prototype.forceRed=function(j){return a(!this.red,"Already a number in reduction context"),this._forceRed(j)},c.prototype.redAdd=function(j){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},c.prototype.redIAdd=function(j){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},c.prototype.redSub=function(j){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},c.prototype.redISub=function(j){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},c.prototype.redShl=function(j){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},c.prototype.redMul=function(j){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},c.prototype.redIMul=function(j){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(j){return a(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var U={k256:null,p224:null,p192:null,p25519:null};function L(j,k){this.name=j,this.p=new c(k,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(j){if(typeof j=="string"){var k=c._prime(j);this.m=k.p,this.prime=k}else a(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}function S(j){R.call(this,j),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var j=new c(null);return j.words=new Array(Math.ceil(this.n/13)),j},L.prototype.ireduce=function(j){var k,E=j;do this.split(E,this.tmp),k=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(k>this.n);var A=k<this.n?-1:E.ucmp(this.p);return A===0?(E.words[0]=0,E.length=1):A>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},L.prototype.split=function(j,k){j.iushrn(this.n,0,k)},L.prototype.imulK=function(j){return j.imul(this.k)},l(O,L),O.prototype.split=function(j,k){for(var E=Math.min(j.length,9),A=0;A<E;A++)k.words[A]=j.words[A];if(k.length=E,j.length<=9)return j.words[0]=0,void(j.length=1);var C=j.words[9];for(k.words[k.length++]=4194303&C,A=10;A<j.length;A++){var D=0|j.words[A];j.words[A-10]=(4194303&D)<<4|C>>>22,C=D}C>>>=22,j.words[A-10]=C,C===0&&j.length>10?j.length-=10:j.length-=9},O.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var k=0,E=0;E<j.length;E++){var A=0|j.words[E];k+=977*A,j.words[E]=67108863&k,k=64*A+(k/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j},l(H,L),l(G,L),l(I,L),I.prototype.imulK=function(j){for(var k=0,E=0;E<j.length;E++){var A=19*(0|j.words[E])+k,C=67108863&A;A>>>=26,j.words[E]=C,k=A}return k!==0&&(j.words[j.length++]=k),j},c._prime=function(j){if(U[j])return U[j];var k;if(j==="k256")k=new O;else if(j==="p224")k=new H;else if(j==="p192")k=new G;else{if(j!=="p25519")throw new Error("Unknown prime "+j);k=new I}return U[j]=k,k},R.prototype._verify1=function(j){a(j.negative===0,"red works only with positives"),a(j.red,"red works only with red numbers")},R.prototype._verify2=function(j,k){a((j.negative|k.negative)==0,"red works only with positives"),a(j.red&&j.red===k.red,"red works only with red numbers")},R.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):(p(j,j.umod(this.m)._forceRed(this)),j)},R.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},R.prototype.add=function(j,k){this._verify2(j,k);var E=j.add(k);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},R.prototype.iadd=function(j,k){this._verify2(j,k);var E=j.iadd(k);return E.cmp(this.m)>=0&&E.isub(this.m),E},R.prototype.sub=function(j,k){this._verify2(j,k);var E=j.sub(k);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},R.prototype.isub=function(j,k){this._verify2(j,k);var E=j.isub(k);return E.cmpn(0)<0&&E.iadd(this.m),E},R.prototype.shl=function(j,k){return this._verify1(j),this.imod(j.ushln(k))},R.prototype.imul=function(j,k){return this._verify2(j,k),this.imod(j.imul(k))},R.prototype.mul=function(j,k){return this._verify2(j,k),this.imod(j.mul(k))},R.prototype.isqr=function(j){return this.imul(j,j.clone())},R.prototype.sqr=function(j){return this.mul(j,j)},R.prototype.sqrt=function(j){if(j.isZero())return j.clone();var k=this.m.andln(3);if(a(k%2==1),k===3){var E=this.m.add(new c(1)).iushrn(2);return this.pow(j,E)}for(var A=this.m.subn(1),C=0;!A.isZero()&&A.andln(1)===0;)C++,A.iushrn(1);a(!A.isZero());var D=new c(1).toRed(this),z=D.redNeg(),P=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new c(2*K*K).toRed(this);this.pow(K,P).cmp(z)!==0;)K.redIAdd(z);for(var Z=this.pow(K,A),te=this.pow(j,A.addn(1).iushrn(1)),q=this.pow(j,A),$=C;q.cmp(D)!==0;){for(var N=q,T=0;N.cmp(D)!==0;T++)N=N.redSqr();a(T<$);var V=this.pow(Z,new c(1).iushln($-T-1));te=te.redMul(V),Z=V.redSqr(),q=q.redMul(Z),$=T}return te},R.prototype.invm=function(j){var k=j._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},R.prototype.pow=function(j,k){if(k.isZero())return new c(1).toRed(this);if(k.cmpn(1)===0)return j.clone();var E=new Array(16);E[0]=new c(1).toRed(this),E[1]=j;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],j);var C=E[0],D=0,z=0,P=k.bitLength()%26;for(P===0&&(P=26),A=k.length-1;A>=0;A--){for(var K=k.words[A],Z=P-1;Z>=0;Z--){var te=K>>Z&1;C!==E[0]&&(C=this.sqr(C)),te!==0||D!==0?(D<<=1,D|=te,(++z===4||A===0&&Z===0)&&(C=this.mul(C,E[D]),z=0,D=0)):z=0}P=26}return C},R.prototype.convertTo=function(j){var k=j.umod(this.m);return k===j?k.clone():k},R.prototype.convertFrom=function(j){var k=j.clone();return k.red=null,k},c.mont=function(j){return new S(j)},l(S,R),S.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},S.prototype.convertFrom=function(j){var k=this.imod(j.mul(this.rinv));return k.red=null,k},S.prototype.imul=function(j,k){if(j.isZero()||k.isZero())return j.words[0]=0,j.length=1,j;var E=j.imul(k),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(A).iushrn(this.shift),D=C;return C.cmp(this.m)>=0?D=C.isub(this.m):C.cmpn(0)<0&&(D=C.iadd(this.m)),D._forceRed(this)},S.prototype.mul=function(j,k){if(j.isZero()||k.isZero())return new c(0)._forceRed(this);var E=j.mul(k),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(A).iushrn(this.shift),D=C;return C.cmp(this.m)>=0?D=C.isub(this.m):C.cmpn(0)<0&&(D=C.iadd(this.m)),D._forceRed(this)},S.prototype.invm=function(j){return this.imod(j._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var s;function o(l){this.rand=l}if(n.exports=function(l){return s||(s=new o(null)),s.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(f){s.isBuffer(f)||(f=s.from(f));for(var d=f.length/4|0,p=new Array(d),g=0;g<d;g++)p[g]=f.readUInt32BE(4*g);return p}function a(f){for(;0<f.length;f++)f[0]=0}function l(f,d,p,g,m){for(var v,y,x,w,_=p[0],M=p[1],U=p[2],L=p[3],O=f[0]^d[0],H=f[1]^d[1],G=f[2]^d[2],I=f[3]^d[3],R=4,S=1;S<m;S++)v=_[O>>>24]^M[H>>>16&255]^U[G>>>8&255]^L[255&I]^d[R++],y=_[H>>>24]^M[G>>>16&255]^U[I>>>8&255]^L[255&O]^d[R++],x=_[G>>>24]^M[I>>>16&255]^U[O>>>8&255]^L[255&H]^d[R++],w=_[I>>>24]^M[O>>>16&255]^U[H>>>8&255]^L[255&G]^d[R++],O=v,H=y,G=x,I=w;return v=(g[O>>>24]<<24|g[H>>>16&255]<<16|g[G>>>8&255]<<8|g[255&I])^d[R++],y=(g[H>>>24]<<24|g[G>>>16&255]<<16|g[I>>>8&255]<<8|g[255&O])^d[R++],x=(g[G>>>24]<<24|g[I>>>16&255]<<16|g[O>>>8&255]<<8|g[255&H])^d[R++],w=(g[I>>>24]<<24|g[O>>>16&255]<<16|g[H>>>8&255]<<8|g[255&G])^d[R++],[v>>>=0,y>>>=0,x>>>=0,w>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var f=new Array(256),d=0;d<256;d++)f[d]=d<128?d<<1:d<<1^283;for(var p=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],y=0,x=0,w=0;w<256;++w){var _=x^x<<1^x<<2^x<<3^x<<4;_=_>>>8^255&_^99,p[y]=_,g[_]=y;var M=f[y],U=f[M],L=f[U],O=257*f[_]^16843008*_;m[0][y]=O<<24|O>>>8,m[1][y]=O<<16|O>>>16,m[2][y]=O<<8|O>>>24,m[3][y]=O,O=16843009*L^65537*U^257*M^16843008*y,v[0][_]=O<<24|O>>>8,v[1][_]=O<<16|O>>>16,v[2][_]=O<<8|O>>>24,v[3][_]=O,y===0?y=x=1:(y=M^f[f[f[L^M]]],x^=f[f[x]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function h(f){this._key=o(f),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var f=this._key,d=f.length,p=d+6,g=4*(p+1),m=[],v=0;v<d;v++)m[v]=f[v];for(v=d;v<g;v++){var y=m[v-1];v%d==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=c[v/d|0]<<24):d>6&&v%d==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),m[v]=m[v-d]^y}for(var x=[],w=0;w<g;w++){var _=g-w,M=m[_-(w%4?0:4)];x[w]=w<4||_<=4?M:u.INV_SUB_MIX[0][u.SBOX[M>>>24]]^u.INV_SUB_MIX[1][u.SBOX[M>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[M>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&M]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(f){return l(f=o(f),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},h.prototype.encryptBlock=function(f){var d=this.encryptBlockRaw(f),p=s.allocUnsafe(16);return p.writeUInt32BE(d[0],0),p.writeUInt32BE(d[1],4),p.writeUInt32BE(d[2],8),p.writeUInt32BE(d[3],12),p},h.prototype.decryptBlock=function(f){var d=(f=o(f))[1];f[1]=f[3],f[3]=d;var p=l(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=s.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=r("inherits"),c=r("./ghash"),u=r("buffer-xor"),h=r("./incr32");function f(d,p,g,m){a.call(this);var v=o.alloc(4,0);this._cipher=new s.AES(p);var y=this._cipher.encryptBlock(v);this._ghash=new c(y),g=function(x,w,_){if(w.length===12)return x._finID=o.concat([w,o.from([0,0,0,1])]),o.concat([w,o.from([0,0,0,2])]);var M=new c(_),U=w.length,L=U%16;M.update(w),L&&(L=16-L,M.update(o.alloc(L,0))),M.update(o.alloc(8,0));var O=8*U,H=o.alloc(8);H.writeUIntBE(O,0,8),M.update(H),x._finID=M.state;var G=o.from(x._finID);return h(G),G}(this,g,y),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(f,a),f.prototype._update=function(d){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=o.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(g),this._len+=d.length,g},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var v=Math.min(p.length,g.length),y=0;y<v;++y)m+=p[y]^g[y];return m}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},f.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var s=r("./encrypter"),o=r("./decrypter"),a=r("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var s=r("./authCipher"),o=r("safe-buffer").Buffer,a=r("./modes"),l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function f(g,m,v){c.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(m),this._prev=o.from(v),this._mode=g,this._autopadding=!0}function d(){this.cache=o.allocUnsafe(0)}function p(g,m,v){var y=a[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new l(y.module,m,v,!0):y.type==="auth"?new s(y.module,m,v,!0):new f(y.module,m,v)}r("inherits")(f,c),f.prototype._update=function(g){var m,v;this._cache.add(g);for(var y=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),y.push(v);return o.concat(y)},f.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(m[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=o.concat([this.cache,g])},d.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,m){var v=a[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=h(m,!1,v.key,v.iv);return p(g,y.key,y.iv)},i.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var s=r("./modes"),o=r("./authCipher"),a=r("safe-buffer").Buffer,l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function f(m,v,y){c.call(this),this._cache=new p,this._cipher=new u.AES(v),this._prev=a.from(y),this._mode=m,this._autopadding=!0}r("inherits")(f,c),f.prototype._update=function(m){var v,y;this._cache.add(m);for(var x=[];v=this._cache.get();)y=this._mode.encrypt(this,v),x.push(y);return a.concat(x)};var d=a.alloc(16,16);function p(){this.cache=a.allocUnsafe(0)}function g(m,v,y){var x=s[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),v.length!==x.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=a.from(y)),x.mode!=="GCM"&&y.length!==x.iv)throw new TypeError("invalid iv length "+y.length);return x.type==="stream"?new l(x.module,v,y):x.type==="auth"?new o(x.module,v,y):new f(x.module,v,y)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=a.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,v=a.allocUnsafe(m),y=-1;++y<m;)v.writeUInt8(m,y);return a.concat([this.cache,v])},i.createCipheriv=g,i.createCipher=function(m,v){var y=s[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var x=h(v,!1,y.key,y.iv);return g(m,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.alloc(16,0);function a(c){var u=s.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,h,f=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],d=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(d[0]^=f[0],d[1]^=f[1],d[2]^=f[2],d[3]^=f[3]),h=(1&f[3])!=0,u=3;u>0;u--)f[u]=f[u]>>>1|(1&f[u-1])<<31;f[0]=f[0]>>>1,h&&(f[0]=f[0]^225<<24)}this.state=a(d)},l.prototype.update=function(c){var u;for(this.cache=s.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(a([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(s){for(var o,a=s.length;a--;){if((o=s.readUInt8(a))!==255){o++,s.writeUInt8(o,a);break}s.writeUInt8(0,a)}}},{}],196:[function(r,n,i){var s=r("buffer-xor");i.encrypt=function(o,a){var l=s(a,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,a){var l=o._prev;o._prev=a;var c=o._cipher.decryptBlock(a);return s(c,l)}},{"buffer-xor":219}],197:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("buffer-xor");function a(l,c,u){var h=c.length,f=o(c,l._cache);return l._cache=l._cache.slice(h),l._prev=s.concat([l._prev,u?c:f]),f}i.encrypt=function(l,c,u){for(var h,f=s.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=c.length)){f=s.concat([f,a(l,c,u)]);break}h=l._cache.length,f=s.concat([f,a(l,c.slice(0,h),u)]),c=c.slice(h)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(l,c,u){for(var h,f,d=-1,p=0;++d<8;)h=c&1<<7-d?128:0,p+=(128&(f=l._cipher.encryptBlock(l._prev)[0]^h))>>d%8,l._prev=a(l._prev,u?h:f);return p}function a(l,c){var u=l.length,h=-1,f=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([c])]);++h<u;)f[h]=l[h]<<1|l[h+1]>>7;return f}i.encrypt=function(l,c,u){for(var h=c.length,f=s.allocUnsafe(h),d=-1;++d<h;)f[d]=o(l,c[d],u);return f}},{"safe-buffer":494}],199:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l,c){var u=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=s.concat([a._prev.slice(1),s.from([c?l:u])]),u}i.encrypt=function(a,l,c){for(var u=l.length,h=s.allocUnsafe(u),f=-1;++f<u;)h[f]=o(a,l[f],c);return h}},{"safe-buffer":494}],200:[function(r,n,i){var s=r("buffer-xor"),o=r("safe-buffer").Buffer,a=r("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return a(c._prev),u}i.encrypt=function(c,u){var h=Math.ceil(u.length/16),f=c._cache.length;c._cache=o.concat([c._cache,o.allocUnsafe(16*h)]);for(var d=0;d<h;d++){var p=l(c),g=f+16*d;c._cache.writeUInt32BE(p[0],g+0),c._cache.writeUInt32BE(p[1],g+4),c._cache.writeUInt32BE(p[2],g+8),c._cache.writeUInt32BE(p[3],g+12)}var m=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),s(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(r,n,i){var s={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var a in o)o[a].module=s[o[a].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(s){(function(){var o=r("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=s.concat([l._cache,a(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),o(c,u)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base");function l(c,u,h,f){a.call(this),this._cipher=new s.AES(u),this._prev=o.from(h),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=c}r("inherits")(l,a),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var s=r("browserify-des"),o=r("browserify-aes/browser"),a=r("browserify-aes/modes"),l=r("browserify-des/modes"),c=r("evp_bytestokey");function u(f,d,p){if(f=f.toLowerCase(),a[f])return o.createCipheriv(f,d,p);if(l[f])return new s({key:d,iv:p,mode:f});throw new TypeError("invalid suite type")}function h(f,d,p){if(f=f.toLowerCase(),a[f])return o.createDecipheriv(f,d,p);if(l[f])return new s({key:d,iv:p,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(f,d){var p,g;if(f=f.toLowerCase(),a[f])p=a[f].key,g=a[f].iv;else{if(!l[f])throw new TypeError("invalid suite type");p=8*l[f].key,g=l[f].iv}var m=c(d,!1,p,g);return u(f,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(f,d){var p,g;if(f=f.toLowerCase(),a[f])p=a[f].key,g=a[f].iv;else{if(!l[f])throw new TypeError("invalid suite type");p=8*l[f].key,g=l[f].iv}var m=c(d,!1,p,g);return h(f,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=h,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var s=r("cipher-base"),o=r("des.js"),a=r("inherits"),l=r("safe-buffer").Buffer,c={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(h){s.call(this);var f,d=h.mode.toLowerCase(),p=c[d];f=h.decrypt?"decrypt":"encrypt";var g=h.key;l.isBuffer(g)||(g=l.from(g)),d!=="des-ede"&&d!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=h.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:f})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,a(u,s),u.prototype._update=function(h){return l.from(this._des.update(h))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=r("randombytes");function l(u){var h,f=u.modulus.byteLength();do h=new o(a(f));while(h.cmp(u.modulus)>=0||!h.umod(u.prime1)||!h.umod(u.prime2));return h}function c(u,h){var f=function(U){var L=l(U);return{blinder:L.toRed(o.mont(U.modulus)).redPow(new o(U.publicExponent)).fromRed(),unblinder:L.invm(U.modulus)}}(h),d=h.modulus.byteLength(),p=new o(u).mul(f.blinder).umod(h.modulus),g=p.toRed(o.mont(h.prime1)),m=p.toRed(o.mont(h.prime2)),v=h.coefficient,y=h.prime1,x=h.prime2,w=g.redPow(h.exponent1).fromRed(),_=m.redPow(h.exponent2).fromRed(),M=w.isub(_).imul(v).umod(y).imul(x);return _.iadd(M).imul(f.unblinder).umod(h.modulus).toArrayLike(s,"be",d)}c.getr=l,n.exports=c}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hash"),a=r("readable-stream"),l=r("inherits"),c=r("./sign"),u=r("./verify"),h=r("./algorithms.json");function f(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function d(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){return new f(m)}function g(m){return new d(m)}Object.keys(h).forEach(function(m){h[m].id=s.from(h[m].id,"hex"),h[m.toLowerCase()]=h[m]}),l(f,a.Writable),f.prototype._write=function(m,v,y){this._hash.update(m),y()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var y=this._hash.digest(),x=c(y,m,this._hashType,this._signType,this._tag);return v?x.toString(v):x},l(d,a.Writable),d.prototype._write=function(m,v,y){this._hash.update(m),y()},d.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},d.prototype.verify=function(m,v,y){typeof v=="string"&&(v=s.from(v,y)),this.end();var x=this._hash.digest();return u(v,x,m,this._signType,this._tag)},n.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hmac"),a=r("browserify-rsa"),l=r("elliptic").ec,c=r("bn.js"),u=r("parse-asn1"),h=r("./curves.json");function f(m,v,y,x){if((m=s.from(m.toArray())).length<v.byteLength()){var w=s.alloc(v.byteLength()-m.length);m=s.concat([w,m])}var _=y.length,M=function(O,H){O=(O=d(O,H)).mod(H);var G=s.from(O.toArray());if(G.length<H.byteLength()){var I=s.alloc(H.byteLength()-G.length);G=s.concat([I,G])}return G}(y,v),U=s.alloc(_);U.fill(1);var L=s.alloc(_);return L=o(x,L).update(U).update(s.from([0])).update(m).update(M).digest(),U=o(x,L).update(U).digest(),{k:L=o(x,L).update(U).update(s.from([1])).update(m).update(M).digest(),v:U=o(x,L).update(U).digest()}}function d(m,v){var y=new c(m),x=(m.length<<3)-v.bitLength();return x>0&&y.ishrn(x),y}function p(m,v,y){var x,w;do{for(x=s.alloc(0);8*x.length<m.bitLength();)v.v=o(y,v.k).update(v.v).digest(),x=s.concat([x,v.v]);w=d(x,m),v.k=o(y,v.k).update(v.v).update(s.from([0])).digest(),v.v=o(y,v.k).update(v.v).digest()}while(w.cmp(m)!==-1);return w}function g(m,v,y,x){return m.toRed(c.mont(y)).redPow(v).fromRed().mod(x)}n.exports=function(m,v,y,x,w){var _=u(v);if(_.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(O,H){var G=h[H.curve.join(".")];if(!G)throw new Error("unknown curve "+H.curve.join("."));var I=new l(G).keyFromPrivate(H.privateKey).sign(O);return s.from(I.toDER())}(m,_)}if(_.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(O,H,G){for(var I,R=H.params.priv_key,S=H.params.p,j=H.params.q,k=H.params.g,E=new c(0),A=d(O,j).mod(j),C=!1,D=f(R,j,O,G);C===!1;)I=p(j,D,G),E=g(k,I,S,j),(C=I.invm(j).imul(A.add(R.mul(E))).mod(j)).cmpn(0)===0&&(C=!1,E=new c(0));return function(z,P){z=z.toArray(),P=P.toArray(),128&z[0]&&(z=[0].concat(z)),128&P[0]&&(P=[0].concat(P));var K=[48,z.length+P.length+4,2,z.length];return K=K.concat(z,[2,P.length],P),s.from(K)}(E,C)}(m,_,y)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");m=s.concat([w,m]);for(var M=_.modulus.byteLength(),U=[0,1];m.length+U.length+1<M;)U.push(255);U.push(0);for(var L=-1;++L<m.length;)U.push(m[L]);return a(U,_)},n.exports.getKey=f,n.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("bn.js"),a=r("elliptic").ec,l=r("parse-asn1"),c=r("./curves.json");function u(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(h,f,d,p,g){var m=l(d);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(U,L,O){var H=c[O.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var G=new a(H),I=O.data.subjectPrivateKey.data;return G.verify(L,U,I)}(h,f,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(U,L,O){var H=O.data.p,G=O.data.q,I=O.data.g,R=O.data.pub_key,S=l.signature.decode(U,"der"),j=S.s,k=S.r;u(j,G),u(k,G);var E=o.mont(H),A=j.invm(G);return I.toRed(E).redPow(new o(L).mul(A).mod(G)).fromRed().mul(R.toRed(E).redPow(k.mul(A).mod(G)).fromRed()).mod(H).mod(G).cmp(k)===0}(h,f,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");f=s.concat([g,f]);for(var v=m.modulus.byteLength(),y=[1],x=0;f.length+y.length+2<v;)y.push(255),x++;y.push(0);for(var w=-1;++w<f.length;)y.push(f[w]);y=s.from(y);var _=o.mont(m.modulus);h=(h=new o(h).toRed(_)).redPow(new o(m.publicExponent)),h=s.from(h.fromRed().toArray());var M=x<8?1:0;for(v=Math.min(h.length,y.length),h.length!==y.length&&(M=1),w=-1;++w<v;)M|=h[w]^y[w];return M===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=o(c);return u!==void 0?typeof h=="string"?f.fill(u,h):f.fill(u):f.fill(0),f},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],218:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(m){var v;switch(this.encoding=function(y){var x=function(w){if(!w)return"utf8";for(var _;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(_)return;w=(""+w).toLowerCase(),_=!0}}(y);if(typeof x!="string"&&(s.isEncoding===o||!o(y)))throw new Error("Unknown encoding: "+y);return x||y}(m),this.encoding){case"utf16le":this.text=u,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=f,this.end=d,v=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function c(m){var v=this.lastTotal-this.lastNeed,y=function(x,w,_){if((192&w[0])!=128)return x.lastNeed=0,"�";if(x.lastNeed>1&&w.length>1){if((192&w[1])!=128)return x.lastNeed=1,"�";if(x.lastNeed>2&&w.length>2&&(192&w[2])!=128)return x.lastNeed=2,"�"}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function u(m,v){if((m.length-v)%2==0){var y=m.toString("utf16le",v);if(y){var x=y.charCodeAt(y.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function h(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function f(m,v){var y=(m.length-v)%3;return y===0?m.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-y))}function d(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}i.StringDecoder=a,a.prototype.write=function(m){if(m.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?v?v+this.text(m,y):this.text(m,y):v||""},a.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v},a.prototype.text=function(m,v){var y=function(w,_,M){var U=_.length-1;if(U<M)return 0;var L=l(_[U]);return L>=0?(L>0&&(w.lastNeed=L-1),L):--U<M||L===-2?0:(L=l(_[U]))>=0?(L>0&&(w.lastNeed=L-2),L):--U<M||L===-2?0:(L=l(_[U]))>=0?(L>0&&(L===2?L=0:w.lastNeed=L-3),L):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=y;var x=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",v,x)},a.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(s){(function(){n.exports=function(o,a){for(var l=Math.min(o.length,a.length),c=new s(l),u=0;u<l;++u)c[u]=o[u]^a[u];return c}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(s){(function(){var o=r("base64-js"),a=r("ieee754");i.Buffer=c,i.SlowBuffer=function(N){return+N!=N&&(N=0),c.alloc(+N)},i.INSPECT_MAX_BYTES=50;function l(N){if(N>2147483647)throw new RangeError('The value "'+N+'" is invalid for option "size"');var T=new Uint8Array(N);return T.__proto__=c.prototype,T}function c(N,T,V){if(typeof N=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return u(N,T,V)}function u(N,T,V){if(typeof N=="string")return function(se,B){if(typeof B=="string"&&B!==""||(B="utf8"),!c.isEncoding(B))throw new TypeError("Unknown encoding: "+B);var ne=0|g(se,B),ee=l(ne),F=ee.write(se,B);return F!==ne&&(ee=ee.slice(0,F)),ee}(N,T);if(ArrayBuffer.isView(N))return d(N);if(N==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(q(N,ArrayBuffer)||N&&q(N.buffer,ArrayBuffer))return function(se,B,ne){if(B<0||se.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<B+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var ee;return ee=B===void 0&&ne===void 0?new Uint8Array(se):ne===void 0?new Uint8Array(se,B):new Uint8Array(se,B,ne),ee.__proto__=c.prototype,ee}(N,T,V);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=N.valueOf&&N.valueOf();if(J!=null&&J!==N)return c.from(J,T,V);var re=function(se){if(c.isBuffer(se)){var B=0|p(se.length),ne=l(B);return ne.length===0||se.copy(ne,0,0,B),ne}if(se.length!==void 0)return typeof se.length!="number"||$(se.length)?l(0):d(se);if(se.type==="Buffer"&&Array.isArray(se.data))return d(se.data)}(N);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return c.from(N[Symbol.toPrimitive]("string"),T,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function h(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function f(N){return h(N),l(N<0?0:0|p(N))}function d(N){for(var T=N.length<0?0:0|p(N.length),V=l(T),J=0;J<T;J+=1)V[J]=255&N[J];return V}function p(N){if(N>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|N}function g(N,T){if(c.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||q(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var V=N.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&V===0)return 0;for(var re=!1;;)switch(T){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return K(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return Z(N).length;default:if(re)return J?-1:K(N).length;T=(""+T).toLowerCase(),re=!0}}function m(N,T,V){var J=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(T>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,T,V);case"utf8":case"utf-8":return G(this,T,V);case"ascii":return I(this,T,V);case"latin1":case"binary":return R(this,T,V);case"base64":return H(this,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,T,V);default:if(J)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),J=!0}}function v(N,T,V){var J=N[T];N[T]=N[V],N[V]=J}function y(N,T,V,J,re){if(N.length===0)return-1;if(typeof V=="string"?(J=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),$(V=+V)&&(V=re?0:N.length-1),V<0&&(V=N.length+V),V>=N.length){if(re)return-1;V=N.length-1}else if(V<0){if(!re)return-1;V=0}if(typeof T=="string"&&(T=c.from(T,J)),c.isBuffer(T))return T.length===0?-1:x(N,T,V,J,re);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(N,T,V):Uint8Array.prototype.lastIndexOf.call(N,T,V):x(N,[T],V,J,re);throw new TypeError("val must be string, number or Buffer")}function x(N,T,V,J,re){var se,B=1,ne=N.length,ee=T.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(N.length<2||T.length<2)return-1;B=2,ne/=2,ee/=2,V/=2}function F(ce,le){return B===1?ce[le]:ce.readUInt16BE(le*B)}if(re){var W=-1;for(se=V;se<ne;se++)if(F(N,se)===F(T,W===-1?0:se-W)){if(W===-1&&(W=se),se-W+1===ee)return W*B}else W!==-1&&(se-=se-W),W=-1}else for(V+ee>ne&&(V=ne-ee),se=V;se>=0;se--){for(var Y=!0,ae=0;ae<ee;ae++)if(F(N,se+ae)!==F(T,ae)){Y=!1;break}if(Y)return se}return-1}function w(N,T,V,J){V=Number(V)||0;var re=N.length-V;J?(J=Number(J))>re&&(J=re):J=re;var se=T.length;J>se/2&&(J=se/2);for(var B=0;B<J;++B){var ne=parseInt(T.substr(2*B,2),16);if($(ne))return B;N[V+B]=ne}return B}function _(N,T,V,J){return te(K(T,N.length-V),N,V,J)}function M(N,T,V,J){return te(function(re){for(var se=[],B=0;B<re.length;++B)se.push(255&re.charCodeAt(B));return se}(T),N,V,J)}function U(N,T,V,J){return M(N,T,V,J)}function L(N,T,V,J){return te(Z(T),N,V,J)}function O(N,T,V,J){return te(function(re,se){for(var B,ne,ee,F=[],W=0;W<re.length&&!((se-=2)<0);++W)B=re.charCodeAt(W),ne=B>>8,ee=B%256,F.push(ee),F.push(ne);return F}(T,N.length-V),N,V,J)}function H(N,T,V){return T===0&&V===N.length?o.fromByteArray(N):o.fromByteArray(N.slice(T,V))}function G(N,T,V){V=Math.min(N.length,V);for(var J=[],re=T;re<V;){var se,B,ne,ee,F=N[re],W=null,Y=F>239?4:F>223?3:F>191?2:1;if(re+Y<=V)switch(Y){case 1:F<128&&(W=F);break;case 2:(192&(se=N[re+1]))==128&&(ee=(31&F)<<6|63&se)>127&&(W=ee);break;case 3:se=N[re+1],B=N[re+2],(192&se)==128&&(192&B)==128&&(ee=(15&F)<<12|(63&se)<<6|63&B)>2047&&(ee<55296||ee>57343)&&(W=ee);break;case 4:se=N[re+1],B=N[re+2],ne=N[re+3],(192&se)==128&&(192&B)==128&&(192&ne)==128&&(ee=(15&F)<<18|(63&se)<<12|(63&B)<<6|63&ne)>65535&&ee<1114112&&(W=ee)}W===null?(W=65533,Y=1):W>65535&&(W-=65536,J.push(W>>>10&1023|55296),W=56320|1023&W),J.push(W),re+=Y}return function(ae){var ce=ae.length;if(ce<=4096)return String.fromCharCode.apply(String,ae);for(var le="",de=0;de<ce;)le+=String.fromCharCode.apply(String,ae.slice(de,de+=4096));return le}(J)}i.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(N,T,V){return u(N,T,V)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(N,T,V){return function(J,re,se){return h(J),J<=0?l(J):re!==void 0?typeof se=="string"?l(J).fill(re,se):l(J).fill(re):l(J)}(N,T,V)},c.allocUnsafe=function(N){return f(N)},c.allocUnsafeSlow=function(N){return f(N)},c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,T){if(q(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),q(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(N)||!c.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===T)return 0;for(var V=N.length,J=T.length,re=0,se=Math.min(V,J);re<se;++re)if(N[re]!==T[re]){V=N[re],J=T[re];break}return V<J?-1:J<V?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,T){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);var V;if(T===void 0)for(T=0,V=0;V<N.length;++V)T+=N[V].length;var J=c.allocUnsafe(T),re=0;for(V=0;V<N.length;++V){var se=N[V];if(q(se,Uint8Array)&&(se=c.from(se)),!c.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(J,re),re+=se.length}return J},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<N;T+=2)v(this,T,T+1);return this},c.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<N;T+=4)v(this,T,T+3),v(this,T+1,T+2);return this},c.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<N;T+=8)v(this,T,T+7),v(this,T+1,T+6),v(this,T+2,T+5),v(this,T+3,T+4);return this},c.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?G(this,0,N):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||c.compare(this,N)===0},c.prototype.inspect=function(){var N="",T=i.INSPECT_MAX_BYTES;return N=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(N+=" ... "),"<Buffer "+N+">"},c.prototype.compare=function(N,T,V,J,re){if(q(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(T===void 0&&(T=0),V===void 0&&(V=N?N.length:0),J===void 0&&(J=0),re===void 0&&(re=this.length),T<0||V>N.length||J<0||re>this.length)throw new RangeError("out of range index");if(J>=re&&T>=V)return 0;if(J>=re)return-1;if(T>=V)return 1;if(this===N)return 0;for(var se=(re>>>=0)-(J>>>=0),B=(V>>>=0)-(T>>>=0),ne=Math.min(se,B),ee=this.slice(J,re),F=N.slice(T,V),W=0;W<ne;++W)if(ee[W]!==F[W]){se=ee[W],B=F[W];break}return se<B?-1:B<se?1:0},c.prototype.includes=function(N,T,V){return this.indexOf(N,T,V)!==-1},c.prototype.indexOf=function(N,T,V){return y(this,N,T,V,!0)},c.prototype.lastIndexOf=function(N,T,V){return y(this,N,T,V,!1)},c.prototype.write=function(N,T,V,J){if(T===void 0)J="utf8",V=this.length,T=0;else if(V===void 0&&typeof T=="string")J=T,V=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(V)?(V>>>=0,J===void 0&&(J="utf8")):(J=V,V=void 0)}var re=this.length-T;if((V===void 0||V>re)&&(V=re),N.length>0&&(V<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var se=!1;;)switch(J){case"hex":return w(this,N,T,V);case"utf8":case"utf-8":return _(this,N,T,V);case"ascii":return M(this,N,T,V);case"latin1":case"binary":return U(this,N,T,V);case"base64":return L(this,N,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,N,T,V);default:if(se)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),se=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(N,T,V){var J="";V=Math.min(N.length,V);for(var re=T;re<V;++re)J+=String.fromCharCode(127&N[re]);return J}function R(N,T,V){var J="";V=Math.min(N.length,V);for(var re=T;re<V;++re)J+=String.fromCharCode(N[re]);return J}function S(N,T,V){var J=N.length;(!T||T<0)&&(T=0),(!V||V<0||V>J)&&(V=J);for(var re="",se=T;se<V;++se)re+=P(N[se]);return re}function j(N,T,V){for(var J=N.slice(T,V),re="",se=0;se<J.length;se+=2)re+=String.fromCharCode(J[se]+256*J[se+1]);return re}function k(N,T,V){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+T>V)throw new RangeError("Trying to access beyond buffer length")}function E(N,T,V,J,re,se){if(!c.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>re||T<se)throw new RangeError('"value" argument is out of bounds');if(V+J>N.length)throw new RangeError("Index out of range")}function A(N,T,V,J,re,se){if(V+J>N.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function C(N,T,V,J,re){return T=+T,V>>>=0,re||A(N,0,V,4),a.write(N,T,V,J,23,4),V+4}function D(N,T,V,J,re){return T=+T,V>>>=0,re||A(N,0,V,8),a.write(N,T,V,J,52,8),V+8}c.prototype.slice=function(N,T){var V=this.length;(N=~~N)<0?(N+=V)<0&&(N=0):N>V&&(N=V),(T=T===void 0?V:~~T)<0?(T+=V)<0&&(T=0):T>V&&(T=V),T<N&&(T=N);var J=this.subarray(N,T);return J.__proto__=c.prototype,J},c.prototype.readUIntLE=function(N,T,V){N>>>=0,T>>>=0,V||k(N,T,this.length);for(var J=this[N],re=1,se=0;++se<T&&(re*=256);)J+=this[N+se]*re;return J},c.prototype.readUIntBE=function(N,T,V){N>>>=0,T>>>=0,V||k(N,T,this.length);for(var J=this[N+--T],re=1;T>0&&(re*=256);)J+=this[N+--T]*re;return J},c.prototype.readUInt8=function(N,T){return N>>>=0,T||k(N,1,this.length),this[N]},c.prototype.readUInt16LE=function(N,T){return N>>>=0,T||k(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUInt16BE=function(N,T){return N>>>=0,T||k(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUInt32LE=function(N,T){return N>>>=0,T||k(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},c.prototype.readUInt32BE=function(N,T){return N>>>=0,T||k(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readIntLE=function(N,T,V){N>>>=0,T>>>=0,V||k(N,T,this.length);for(var J=this[N],re=1,se=0;++se<T&&(re*=256);)J+=this[N+se]*re;return J>=(re*=128)&&(J-=Math.pow(2,8*T)),J},c.prototype.readIntBE=function(N,T,V){N>>>=0,T>>>=0,V||k(N,T,this.length);for(var J=T,re=1,se=this[N+--J];J>0&&(re*=256);)se+=this[N+--J]*re;return se>=(re*=128)&&(se-=Math.pow(2,8*T)),se},c.prototype.readInt8=function(N,T){return N>>>=0,T||k(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},c.prototype.readInt16LE=function(N,T){N>>>=0,T||k(N,2,this.length);var V=this[N]|this[N+1]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt16BE=function(N,T){N>>>=0,T||k(N,2,this.length);var V=this[N+1]|this[N]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt32LE=function(N,T){return N>>>=0,T||k(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,T){return N>>>=0,T||k(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readFloatLE=function(N,T){return N>>>=0,T||k(N,4,this.length),a.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,T){return N>>>=0,T||k(N,4,this.length),a.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,T){return N>>>=0,T||k(N,8,this.length),a.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,T){return N>>>=0,T||k(N,8,this.length),a.read(this,N,!1,52,8)},c.prototype.writeUIntLE=function(N,T,V,J){N=+N,T>>>=0,V>>>=0,J||E(this,N,T,V,Math.pow(2,8*V)-1,0);var re=1,se=0;for(this[T]=255&N;++se<V&&(re*=256);)this[T+se]=N/re&255;return T+V},c.prototype.writeUIntBE=function(N,T,V,J){N=+N,T>>>=0,V>>>=0,J||E(this,N,T,V,Math.pow(2,8*V)-1,0);var re=V-1,se=1;for(this[T+re]=255&N;--re>=0&&(se*=256);)this[T+re]=N/se&255;return T+V},c.prototype.writeUInt8=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,1,255,0),this[T]=255&N,T+1},c.prototype.writeUInt16LE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,2,65535,0),this[T]=255&N,this[T+1]=N>>>8,T+2},c.prototype.writeUInt16BE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,2,65535,0),this[T]=N>>>8,this[T+1]=255&N,T+2},c.prototype.writeUInt32LE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,4,4294967295,0),this[T+3]=N>>>24,this[T+2]=N>>>16,this[T+1]=N>>>8,this[T]=255&N,T+4},c.prototype.writeUInt32BE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,4,4294967295,0),this[T]=N>>>24,this[T+1]=N>>>16,this[T+2]=N>>>8,this[T+3]=255&N,T+4},c.prototype.writeIntLE=function(N,T,V,J){if(N=+N,T>>>=0,!J){var re=Math.pow(2,8*V-1);E(this,N,T,V,re-1,-re)}var se=0,B=1,ne=0;for(this[T]=255&N;++se<V&&(B*=256);)N<0&&ne===0&&this[T+se-1]!==0&&(ne=1),this[T+se]=(N/B>>0)-ne&255;return T+V},c.prototype.writeIntBE=function(N,T,V,J){if(N=+N,T>>>=0,!J){var re=Math.pow(2,8*V-1);E(this,N,T,V,re-1,-re)}var se=V-1,B=1,ne=0;for(this[T+se]=255&N;--se>=0&&(B*=256);)N<0&&ne===0&&this[T+se+1]!==0&&(ne=1),this[T+se]=(N/B>>0)-ne&255;return T+V},c.prototype.writeInt8=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,1,127,-128),N<0&&(N=255+N+1),this[T]=255&N,T+1},c.prototype.writeInt16LE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,2,32767,-32768),this[T]=255&N,this[T+1]=N>>>8,T+2},c.prototype.writeInt16BE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,2,32767,-32768),this[T]=N>>>8,this[T+1]=255&N,T+2},c.prototype.writeInt32LE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,4,2147483647,-2147483648),this[T]=255&N,this[T+1]=N>>>8,this[T+2]=N>>>16,this[T+3]=N>>>24,T+4},c.prototype.writeInt32BE=function(N,T,V){return N=+N,T>>>=0,V||E(this,N,T,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[T]=N>>>24,this[T+1]=N>>>16,this[T+2]=N>>>8,this[T+3]=255&N,T+4},c.prototype.writeFloatLE=function(N,T,V){return C(this,N,T,!0,V)},c.prototype.writeFloatBE=function(N,T,V){return C(this,N,T,!1,V)},c.prototype.writeDoubleLE=function(N,T,V){return D(this,N,T,!0,V)},c.prototype.writeDoubleBE=function(N,T,V){return D(this,N,T,!1,V)},c.prototype.copy=function(N,T,V,J){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if(V||(V=0),J||J===0||(J=this.length),T>=N.length&&(T=N.length),T||(T=0),J>0&&J<V&&(J=V),J===V||N.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-T<J-V&&(J=N.length-T+V);var re=J-V;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,V,J);else if(this===N&&V<T&&T<J)for(var se=re-1;se>=0;--se)N[se+T]=this[se+V];else Uint8Array.prototype.set.call(N,this.subarray(V,J),T);return re},c.prototype.fill=function(N,T,V,J){if(typeof N=="string"){if(typeof T=="string"?(J=T,T=0,V=this.length):typeof V=="string"&&(J=V,V=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){var re=N.charCodeAt(0);(J==="utf8"&&re<128||J==="latin1")&&(N=re)}}else typeof N=="number"&&(N&=255);if(T<0||this.length<T||this.length<V)throw new RangeError("Out of range index");if(V<=T)return this;var se;if(T>>>=0,V=V===void 0?this.length:V>>>0,N||(N=0),typeof N=="number")for(se=T;se<V;++se)this[se]=N;else{var B=c.isBuffer(N)?N:c.from(N,J),ne=B.length;if(ne===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(se=0;se<V-T;++se)this[se+T]=B[se%ne]}return this};var z=/[^+/0-9A-Za-z-_]/g;function P(N){return N<16?"0"+N.toString(16):N.toString(16)}function K(N,T){var V;T=T||1/0;for(var J=N.length,re=null,se=[],B=0;B<J;++B){if((V=N.charCodeAt(B))>55295&&V<57344){if(!re){if(V>56319){(T-=3)>-1&&se.push(239,191,189);continue}if(B+1===J){(T-=3)>-1&&se.push(239,191,189);continue}re=V;continue}if(V<56320){(T-=3)>-1&&se.push(239,191,189),re=V;continue}V=65536+(re-55296<<10|V-56320)}else re&&(T-=3)>-1&&se.push(239,191,189);if(re=null,V<128){if((T-=1)<0)break;se.push(V)}else if(V<2048){if((T-=2)<0)break;se.push(V>>6|192,63&V|128)}else if(V<65536){if((T-=3)<0)break;se.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;se.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return se}function Z(N){return o.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(N))}function te(N,T,V,J){for(var re=0;re<J&&!(re+V>=T.length||re>=N.length);++re)T[re+V]=N[re];return re}function q(N,T){return N instanceof T||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===T.name}function $(N){return N!=N}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("stream").Transform,a=r("string_decoder").StringDecoder;function l(c){o.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,o),l.prototype.update=function(c,u,h){typeof c=="string"&&(c=s.from(c,u));var f=this._update(c);return this.hashMode?this:(h&&(f=this._toString(f,h)),f)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,h){var f;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(d){f=d}finally{h(f)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(h){u=h}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||s.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,h){if(this._decoder||(this._decoder=new a(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var f=this._decoder.write(c);return h&&(f+=this._decoder.end()),f},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var s=r("../internals/is-constructor"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var s=r("../internals/is-callable"),o=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new a("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/object-create"),a=r("../internals/object-define-property").f,l=s("unscopables"),c=Array.prototype;c[l]===void 0&&a(c,l,{configurable:!0,value:o(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var s=r("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(a,l){if(s(l,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var s=r("../internals/is-object"),o=String,a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),l=function(c){return function(u,h,f){var d,p=s(u),g=a(p),m=o(f,g);if(c&&h!=h){for(;g>m;)if((d=p[m++])!=d)return!0}else for(;g>m;m++)if((c||m in p)&&p[m]===h)return c||m||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),l=r("../internals/to-object"),c=r("../internals/length-of-array-like"),u=r("../internals/array-species-create"),h=o([].push),f=function(d){var p=d===1,g=d===2,m=d===3,v=d===4,y=d===6,x=d===7,w=d===5||y;return function(_,M,U,L){for(var O,H,G=l(_),I=a(G),R=s(M,U),S=c(I),j=0,k=L||u,E=p?k(_,S):g||x?k(_,0):void 0;S>j;j++)if((w||j in I)&&(H=R(O=I[j],j,G),d))if(p)E[j]=H;else if(H)switch(d){case 3:return!0;case 5:return O;case 6:return j;case 2:h(E,O)}else switch(d){case 4:return!1;case 7:h(E,O)}return y?-1:m||v?v:E}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var s=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),a=r("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,h,f){for(var d=o(u),p=s(h,d),g=s(f===void 0?d:f,d),m=l(c(g-p,0)),v=0;p<g;p++,v++)a(m,v,u[p]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var s=r("../internals/is-array"),o=r("../internals/is-constructor"),a=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var h;return s(u)&&(h=u.constructor,(o(h)&&(h===c||s(h.prototype))||a(h)&&(h=h[l])===null)&&(h=void 0)),h===void 0?c:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var s=r("../internals/array-species-constructor");n.exports=function(o,a){return new(s(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var s=r("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){o=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!o)return!1}catch{return!1}var h=!1;try{var f={};f[s]=function(){return{next:function(){return{done:h=!0}}}},c(f)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=s({}.toString),a=s("".slice);n.exports=function(l){return a(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var s=r("../internals/to-string-tag-support"),o=r("../internals/is-callable"),a=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),c=Object,u=a(function(){return arguments}())==="Arguments";n.exports=s?a:function(h){var f,d,p;return h===void 0?"Undefined":h===null?"Null":typeof(d=function(g,m){try{return g[m]}catch{}}(f=c(h),l))=="string"?d:u?a(f):(p=a(f))==="Object"&&o(f.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(c,u,h){for(var f=o(u),d=l.f,p=a.f,g=0;g<f.length;g++){var m=f[g];s(c,m)||h&&s(h,m)||d(c,m,p(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var s=r("../internals/well-known-symbol")("match");n.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[s]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=s?function(l,c,u){return o.f(l,c,a(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(r,n,i){var s=r("../internals/to-property-key"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=function(l,c,u){var h=s(c);h in l?o.f(l,h,a(0,u)):l[h]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var s=r("../internals/make-built-in"),o=r("../internals/object-define-property");n.exports=function(a,l,c){return c.get&&s(c.get,l,{getter:!0}),c.set&&s(c.set,l,{setter:!0}),o.f(a,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/object-define-property"),a=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(c,u,h,f){f||(f={});var d=f.enumerable,p=f.name!==void 0?f.name:u;if(s(h)&&a(h,p,f),f.global)d?c[u]=h:l(u,h);else{try{f.unsafe?c[u]&&(d=!0):delete c[u]}catch{}d?c[u]=h:o.f(c,u,{value:h,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var s=r("../internals/global"),o=Object.defineProperty;n.exports=function(a,l){try{o(s,a,{value:l,configurable:!0,writable:!0})}catch{s[a]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-object"),a=s.document,l=o(a)&&o(a.createElement);n.exports=function(c){return l?a.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var s=r("../internals/engine-is-deno"),o=r("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var s,o,a=r("../internals/global"),l=r("../internals/engine-user-agent"),c=a.process,u=a.Deno,h=c&&c.versions||u&&u.version,f=h&&h.v8;f&&(o=(s=f.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),c=r("../internals/define-global-property"),u=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");n.exports=function(f,d){var p,g,m,v,y,x=f.target,w=f.global,_=f.stat;if(p=w?s:_?s[x]||c(x,{}):(s[x]||{}).prototype)for(g in d){if(v=d[g],m=f.dontCallGetSet?(y=o(p,g))&&y.value:p[g],!h(w?g:x+(_?".":"#")+g,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;u(v,m)}(f.sham||m&&m.sham)&&a(v,"sham",!0),l(p,g,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var s=r("../internals/function-uncurry-this-clause"),o=r("../internals/a-callable"),a=r("../internals/function-bind-native"),l=s(s.bind);n.exports=function(c,u){return o(c),u===void 0?c:a?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/has-own-property"),a=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=o(a,"name"),u=c&&(function(){}).name==="something",h=c&&(!s||s&&l(a,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/a-callable");n.exports=function(a,l,c){try{return s(o(Object.getOwnPropertyDescriptor(a,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/function-uncurry-this");n.exports=function(a){if(s(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.call,l=s&&o.bind.bind(a,a);n.exports=s?l:function(c){return function(){return a.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=function(l){return o(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?a(s[l]):s[l]&&s[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var s=r("../internals/classof"),o=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!a(u))return o(u,c)||o(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/a-callable"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/get-iterator-method"),u=TypeError;n.exports=function(h,f){var d=arguments.length<2?c(h):f;if(o(d))return a(s(d,h));throw new u(l(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-array"),a=r("../internals/is-callable"),l=r("../internals/classof-raw"),c=r("../internals/to-string"),u=s([].push);n.exports=function(h){if(a(h))return h;if(o(h)){for(var f=h.length,d=[],p=0;p<f;p++){var g=h[p];typeof g=="string"?u(d,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||u(d,c(g))}var m=d.length,v=!0;return function(y,x){if(v)return v=!1,x;if(o(this))return x;for(var w=0;w<m;w++)if(d[w]===y)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var s=r("../internals/a-callable"),o=r("../internals/is-null-or-undefined");n.exports=function(a,l){var c=a[l];return o(c)?void 0:s(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(s){(function(){var o=function(a){return a&&a.Math===Math&&a};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/to-object"),a=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return a(o(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(r,n,i){var s=r("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/document-create-element");n.exports=!s&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/classof-raw"),l=Object,c=s("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return a(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-callable"),a=r("../internals/shared-store"),l=s(Function.toString);o(a.inspectSource)||(a.inspectSource=function(c){return l(c)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var s,o,a,l=r("../internals/weak-map-basic-detection"),c=r("../internals/global"),u=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),f=r("../internals/has-own-property"),d=r("../internals/shared-store"),p=r("../internals/shared-key"),g=r("../internals/hidden-keys"),m=c.TypeError,v=c.WeakMap;if(l||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,s=function(w,_){if(y.has(w))throw new m("Object already initialized");return _.facade=w,y.set(w,_),_},o=function(w){return y.get(w)||{}},a=function(w){return y.has(w)}}else{var x=p("state");g[x]=!0,s=function(w,_){if(f(w,x))throw new m("Object already initialized");return _.facade=w,h(w,x,_),_},o=function(w){return f(w,x)?w[x]:{}},a=function(w){return f(w,x)}}n.exports={set:s,get:o,has:a,enforce:function(w){return a(w)?o(w):s(w,{})},getterFor:function(w){return function(_){var M;if(!u(_)||(M=o(_)).type!==w)throw new m("Incompatible receiver, "+w+" required");return M}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/iterators"),a=s("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(o.Array===c||l[a]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var s=r("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var s=r("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/classof"),c=r("../internals/get-built-in"),u=r("../internals/inspect-source"),h=function(){},f=[],d=c("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=s(p.exec),m=!p.test(h),v=function(x){if(!a(x))return!1;try{return d(h,f,x),!0}catch{return!1}},y=function(x){if(!a(x))return!1;switch(l(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,u(x))}catch{return!0}};y.sham=!0,n.exports=!d||o(function(){var x;return v(v.call)||!v(Object)||!v(function(){x=!0})||x})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var s=r("../internals/fails"),o=r("../internals/is-callable"),a=/#|\.prototype\./,l=function(d,p){var g=u[c(d)];return g===f||g!==h&&(o(p)?s(p):!!p)},c=l.normalize=function(d){return String(d).replace(a,".").toLowerCase()},u=l.data={},h=l.NATIVE="N",f=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(s){return s==null}},{}],289:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/document-all"),a=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===a}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var s=r("../internals/is-object"),o=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");n.exports=function(l){var c;return s(l)&&((c=l[a])!==void 0?!!c:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var h=s("Symbol");return o(h)&&a(h.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-call"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/is-array-iterator-method"),u=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),f=r("../internals/get-iterator"),d=r("../internals/get-iterator-method"),p=r("../internals/iterator-close"),g=TypeError,m=function(y,x){this.stopped=y,this.result=x},v=m.prototype;n.exports=function(y,x,w){var _,M,U,L,O,H,G,I=w&&w.that,R=!(!w||!w.AS_ENTRIES),S=!(!w||!w.IS_RECORD),j=!(!w||!w.IS_ITERATOR),k=!(!w||!w.INTERRUPTED),E=s(x,I),A=function(D){return _&&p(_,"normal",D),new m(!0,D)},C=function(D){return R?(a(D),k?E(D[0],D[1],A):E(D[0],D[1])):k?E(D,A):E(D)};if(S)_=y.iterator;else if(j)_=y;else{if(!(M=d(y)))throw new g(l(y)+" is not iterable");if(c(M)){for(U=0,L=u(y);L>U;U++)if((O=C(y[U]))&&h(v,O))return O;return new m(!1)}_=f(y,M)}for(H=S?y.next:_.next;!(G=o(H,_)).done;){try{O=C(G.value)}catch(D){p(_,"throw",D)}if(typeof O=="object"&&O&&h(v,O))return O}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/an-object"),a=r("../internals/get-method");n.exports=function(l,c,u){var h,f;o(l);try{if(!(h=a(l,"return"))){if(c==="throw")throw u;return u}h=s(h,l)}catch(d){f=!0,h=d}if(c==="throw")throw u;if(f)throw h;return o(h),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var s=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),c=r("../internals/iterators"),u=function(){return this};n.exports=function(h,f,d,p){var g=f+" Iterator";return h.prototype=o(s,{next:a(+!p,d)}),l(h,g,!1,!0),c[g]=u,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/is-pure"),l=r("../internals/function-name"),c=r("../internals/is-callable"),u=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),f=r("../internals/object-set-prototype-of"),d=r("../internals/set-to-string-tag"),p=r("../internals/create-non-enumerable-property"),g=r("../internals/define-built-in"),m=r("../internals/well-known-symbol"),v=r("../internals/iterators"),y=r("../internals/iterators-core"),x=l.PROPER,w=l.CONFIGURABLE,_=y.IteratorPrototype,M=y.BUGGY_SAFARI_ITERATORS,U=m("iterator"),L=function(){return this};n.exports=function(O,H,G,I,R,S,j){u(G,H,I);var k,E,A,C=function(q){if(q===R&&Z)return Z;if(!M&&q&&q in P)return P[q];switch(q){case"keys":case"values":case"entries":return function(){return new G(this,q)}}return function(){return new G(this)}},D=H+" Iterator",z=!1,P=O.prototype,K=P[U]||P["@@iterator"]||R&&P[R],Z=!M&&K||C(R),te=H==="Array"&&P.entries||K;if(te&&(k=h(te.call(new O)))!==Object.prototype&&k.next&&(a||h(k)===_||(f?f(k,_):c(k[U])||g(k,U,L)),d(k,D,!0,!0),a&&(v[D]=L)),x&&R==="values"&&K&&K.name!=="values"&&(!a&&w?p(P,"name","values"):(z=!0,Z=function(){return o(K,this)})),R)if(E={values:C("values"),keys:S?Z:C("keys"),entries:C("entries")},j)for(A in E)(M||z||!(A in P))&&g(P,A,E[A]);else s({target:H,proto:!0,forced:M||z},E);return a&&!j||P[U]===Z||g(P,U,Z,{name:R}),v[H]=Z,E}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var s,o,a,l=r("../internals/fails"),c=r("../internals/is-callable"),u=r("../internals/is-object"),h=r("../internals/object-create"),f=r("../internals/object-get-prototype-of"),d=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),g=r("../internals/is-pure"),m=p("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(o=f(f(a)))!==Object.prototype&&(s=o):v=!0),!u(s)||l(function(){var y={};return s[m].call(y)!==y})?s={}:g&&(s=h(s)),c(s[m])||d(s,m,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var s=r("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),c=r("../internals/descriptors"),u=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),f=r("../internals/internal-state"),d=f.enforce,p=f.get,g=String,m=Object.defineProperty,v=s("".slice),y=s("".replace),x=s([].join),w=c&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),M=n.exports=function(U,L,O){v(g(L),0,7)==="Symbol("&&(L="["+y(g(L),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(L="get "+L),O&&O.setter&&(L="set "+L),(!l(U,"name")||u&&U.name!==L)&&(c?m(U,"name",{value:L,configurable:!0}):U.name=L),w&&O&&l(O,"arity")&&U.length!==O.arity&&m(U,"length",{value:O.arity});try{O&&l(O,"constructor")&&O.constructor?c&&m(U,"prototype",{writable:!1}):U.prototype&&(U.prototype=void 0)}catch{}var H=d(U);return l(H,"source")||(H.source=x(_,typeof L=="string"?L:"")),U};Function.prototype.toString=M(function(){return a(this)&&p(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?o:s)(l)}},{}],302:[function(r,n,i){var s,o,a,l,c,u=r("../internals/global"),h=r("../internals/function-bind-context"),f=r("../internals/object-get-own-property-descriptor").f,d=r("../internals/task").set,p=r("../internals/queue"),g=r("../internals/engine-is-ios"),m=r("../internals/engine-is-ios-pebble"),v=r("../internals/engine-is-webos-webkit"),y=r("../internals/engine-is-node"),x=u.MutationObserver||u.WebKitMutationObserver,w=u.document,_=u.process,M=u.Promise,U=f(u,"queueMicrotask"),L=U&&U.value;if(!L){var O=new p,H=function(){var G,I;for(y&&(G=_.domain)&&G.exit();I=O.get();)try{I()}catch(R){throw O.head&&s(),R}G&&G.enter()};g||y||v||!x||!w?!m&&M&&M.resolve?((l=M.resolve(void 0)).constructor=M,c=h(l.then,l),s=function(){c(H)}):y?s=function(){_.nextTick(H)}:(d=h(d,u),s=function(){d(H)}):(o=!0,a=w.createTextNode(""),new x(H).observe(a,{characterData:!0}),s=function(){a.data=o=!o}),L=function(G){O.head||s(),O.add(G)}}n.exports=L},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var s=r("../internals/a-callable"),o=TypeError,a=function(l){var c,u;this.promise=new l(function(h,f){if(c!==void 0||u!==void 0)throw new o("Bad Promise constructor");c=h,u=f}),this.resolve=s(c),this.reject=s(u)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var s=r("../internals/is-regexp"),o=TypeError;n.exports=function(a){if(s(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),l=r("../internals/fails"),c=r("../internals/object-keys"),u=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),f=r("../internals/to-object"),d=r("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=o([].concat);n.exports=!p||l(function(){if(s&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},x=Symbol("assign detection");return v[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(w){y[w]=w}),p({},v)[x]!==7||c(p({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var x=f(v),w=arguments.length,_=1,M=u.f,U=h.f;w>_;)for(var L,O=d(arguments[_++]),H=M?m(c(O),M(O)):c(O),G=H.length,I=0;G>I;)L=H[I++],s&&!a(U,O,L)||(x[L]=O[L]);return x}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var s,o=r("../internals/an-object"),a=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),c=r("../internals/hidden-keys"),u=r("../internals/html"),h=r("../internals/document-create-element"),f=r("../internals/shared-key"),d=f("IE_PROTO"),p=function(){},g=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(g("")),y.close();var x=y.parentWindow.Object;return y=null,x},v=function(){try{s=new ActiveXObject("htmlfile")}catch{}var y,x;v=typeof document<"u"?document.domain&&s?m(s):((x=h("iframe")).style.display="none",u.appendChild(x),x.src="javascript:",(y=x.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):m(s);for(var w=l.length;w--;)delete v.prototype[l[w]];return v()};c[d]=!0,n.exports=Object.create||function(y,x){var w;return y!==null?(p.prototype=o(y),w=new p,p.prototype=null,w[d]=y):w=v(),x===void 0?w:a.f(w,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),l=r("../internals/an-object"),c=r("../internals/to-indexed-object"),u=r("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(h,f){l(h);for(var d,p=c(f),g=u(f),m=g.length,v=0;m>v;)a.f(h,d=g[v++],p[d]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),c=r("../internals/to-property-key"),u=TypeError,h=Object.defineProperty,f=Object.getOwnPropertyDescriptor;i.f=s?a?function(d,p,g){if(l(d),p=c(p),l(g),typeof d=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=f(d,p);m&&m.writable&&(d[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return h(d,p,g)}:h:function(d,p,g){if(l(d),p=c(p),l(g),o)try{return h(d,p,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(d[p]=g.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),c=r("../internals/to-indexed-object"),u=r("../internals/to-property-key"),h=r("../internals/has-own-property"),f=r("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=s?d:function(p,g){if(p=c(p),g=u(g),f)try{return d(p,g)}catch{}if(h(p,g))return l(!o(a.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&s(u)==="Window"?function(h){try{return a(h)}catch{return l(c)}}(u):a(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/is-callable"),a=r("../internals/to-object"),l=r("../internals/shared-key"),c=r("../internals/correct-prototype-getter"),u=l("IE_PROTO"),h=Object,f=h.prototype;n.exports=c?h.getPrototypeOf:function(d){var p=a(d);if(s(p,u))return p[u];var g=p.constructor;return o(g)&&p instanceof g?g.prototype:p instanceof h?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,c=r("../internals/hidden-keys"),u=s([].push);n.exports=function(h,f){var d,p=a(h),g=0,m=[];for(d in p)!o(c,d)&&o(p,d)&&u(m,d);for(;f.length>g;)o(p,d=f[g++])&&(~l(m,d)||u(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!s.call({1:2},1);i.f=a?function(l){var c=o(this,l);return!!c&&c.enumerable}:s},{}],318:[function(r,n,i){var s=r("../internals/function-uncurry-this-accessor"),o=r("../internals/an-object"),a=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(h,f){return o(h),a(f),c?l(h,f):h.__proto__=f,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),c=r("../internals/object-keys"),u=r("../internals/to-indexed-object"),h=a(r("../internals/object-property-is-enumerable").f),f=a([].push),d=s&&o(function(){var g=Object.create(null);return g[2]=2,!h(g,2)}),p=function(g){return function(m){for(var v,y=u(m),x=c(y),w=d&&l(y)===null,_=x.length,M=0,U=[];_>M;)v=x[M++],s&&!(w?v in y:h(y,v))||f(U,g?[v,y[v]]:y[v]);return U}};n.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-callable"),a=r("../internals/is-object"),l=TypeError;n.exports=function(c,u){var h,f;if(u==="string"&&o(h=c.toString)&&!a(f=s(h,c))||o(h=c.valueOf)&&!a(f=s(h,c))||u!=="string"&&o(h=c.toString)&&!a(f=s(h,c)))return f;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/an-object"),u=o([].concat);n.exports=s("Reflect","ownKeys")||function(h){var f=a.f(c(h)),d=l.f;return d?u(f,d(h)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var s=r("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),l=r("../internals/is-forced"),c=r("../internals/inspect-source"),u=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),f=r("../internals/engine-is-deno"),d=r("../internals/is-pure"),p=r("../internals/engine-v8-version"),g=o&&o.prototype,m=u("species"),v=!1,y=a(s.PromiseRejectionEvent),x=l("Promise",function(){var w=c(o),_=w!==String(o);if(!_&&p===66||d&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(w)){var M=new o(function(L){L(1)}),U=function(L){L(function(){},function(){})};if((M.constructor={})[m]=U,!(v=M.then(function(){})instanceof U))return!0}return!_&&(h||f)&&!y});n.exports={CONSTRUCTOR:x,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var s=r("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/is-object"),a=r("../internals/new-promise-capability");n.exports=function(l,c){if(s(l),o(c)&&c.constructor===l)return c;var u=a.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var s=r("../internals/promise-native-constructor"),o=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!o(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var a={item:o,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(r,n,i){var s=r("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(a){if(s(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),c=a("species");n.exports=function(u){var h=s(u);l&&h&&!h[c]&&o(h,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var s=r("../internals/object-define-property").f,o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!o(l,a)&&s(l,a,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var s=r("../internals/shared"),o=r("../internals/uid"),a=s("keys");n.exports=function(l){return a[l]||(a[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/define-global-property"),a=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var s=r("../internals/is-pure"),o=r("../internals/shared-store");(n.exports=function(a,l){return o[a]||(o[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(c,u){var h,f=s(c).constructor;return f===void 0||a(h=s(f)[l])?u:o(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var s=r("../internals/engine-v8-version"),o=r("../internals/fails"),a=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var c=o("Symbol"),u=c&&c.prototype,h=u&&u.valueOf,f=a("toPrimitive");u&&!u[f]&&l(u,f,function(d){return s(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var s,o,a,l,c=r("../internals/global"),u=r("../internals/function-apply"),h=r("../internals/function-bind-context"),f=r("../internals/is-callable"),d=r("../internals/has-own-property"),p=r("../internals/fails"),g=r("../internals/html"),m=r("../internals/array-slice"),v=r("../internals/document-create-element"),y=r("../internals/validate-arguments-length"),x=r("../internals/engine-is-ios"),w=r("../internals/engine-is-node"),_=c.setImmediate,M=c.clearImmediate,U=c.process,L=c.Dispatch,O=c.Function,H=c.MessageChannel,G=c.String,I=0,R={};p(function(){s=c.location});var S=function(A){if(d(R,A)){var C=R[A];delete R[A],C()}},j=function(A){return function(){S(A)}},k=function(A){S(A.data)},E=function(A){c.postMessage(G(A),s.protocol+"//"+s.host)};_&&M||(_=function(A){y(arguments.length,1);var C=f(A)?A:O(A),D=m(arguments,1);return R[++I]=function(){u(C,void 0,D)},o(I),I},M=function(A){delete R[A]},w?o=function(A){U.nextTick(j(A))}:L&&L.now?o=function(A){L.now(j(A))}:H&&!x?(l=(a=new H).port2,a.port1.onmessage=k,o=h(l.postMessage,l)):c.addEventListener&&f(c.postMessage)&&!c.importScripts&&s&&s.protocol!=="file:"&&!p(E)?(o=E,c.addEventListener("message",k,!1)):o="onreadystatechange"in v("script")?function(A){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),S(A)}}:function(A){setTimeout(j(A),0)}),n.exports={set:_,clear:M}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;n.exports=function(l,c){var u=s(l);return u<0?o(u+c,0):a(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var s=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");n.exports=function(a){return s(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var s=r("../internals/math-trunc");n.exports=function(o){var a=+o;return a!=a||a===0?0:s(a)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(a){return a>0?o(s(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var s=r("../internals/require-object-coercible"),o=Object;n.exports=function(a){return o(s(a))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-object"),a=r("../internals/is-symbol"),l=r("../internals/get-method"),c=r("../internals/ordinary-to-primitive"),u=r("../internals/well-known-symbol"),h=TypeError,f=u("toPrimitive");n.exports=function(d,p){if(!o(d)||a(d))return d;var g,m=l(d,f);if(m){if(p===void 0&&(p="default"),g=s(m,d,p),!o(g)||a(g))return g;throw new h("Can't convert object to primitive value")}return p===void 0&&(p="number"),c(d,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var s=r("../internals/to-primitive"),o=r("../internals/is-symbol");n.exports=function(a){var l=s(a,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var s={};s[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var s=r("../internals/classof"),o=String;n.exports=function(a){if(s(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(r,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=0,a=Math.random(),l=s(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails");n.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var s=TypeError;n.exports=function(o,a){if(o<a)throw new s("Not enough arguments");return o}},{}],354:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=s.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var s=r("../internals/path"),o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(c){var u=s.Symbol||(s.Symbol={});o(u,c)||l(u,c,{value:a.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var s=r("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/shared"),a=r("../internals/has-own-property"),l=r("../internals/uid"),c=r("../internals/symbol-constructor-detection"),u=r("../internals/use-symbol-as-uid"),h=s.Symbol,f=o("wks"),d=u?h.for||h:h&&h.withoutSetter||l;n.exports=function(p){return a(f,p)||(f[p]=c&&a(h,p)?h[p]:d("Symbol."+p)),f[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-includes").includes,a=r("../internals/fails"),l=r("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),l=r("../internals/internal-state"),c=r("../internals/object-define-property").f,u=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),f=r("../internals/is-pure"),d=r("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,y){p(this,{type:"Array Iterator",target:s(v),index:0,kind:y})},function(){var v=g(this),y=v.target,x=v.kind,w=v.index++;if(!y||w>=y.length)return v.target=void 0,h(void 0,!0);switch(x){case"keys":return h(w,!1);case"values":return h(y[w],!1)}return h([w,y[w]],!1)},"values");var m=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!f&&d&&m.name!=="values")try{c(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/function-apply"),l=r("../internals/function-call"),c=r("../internals/function-uncurry-this"),u=r("../internals/fails"),h=r("../internals/is-callable"),f=r("../internals/is-symbol"),d=r("../internals/array-slice"),p=r("../internals/get-json-replacer-function"),g=r("../internals/symbol-constructor-detection"),m=String,v=o("JSON","stringify"),y=c(/./.exec),x=c("".charAt),w=c("".charCodeAt),_=c("".replace),M=c(1 .toString),U=/[\uD800-\uDFFF]/g,L=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,H=!g||u(function(){var S=o("Symbol")("stringify detection");return v([S])!=="[null]"||v({a:S})!=="{}"||v(Object(S))!=="{}"}),G=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),I=function(S,j){var k=d(arguments),E=p(j);if(h(E)||S!==void 0&&!f(S))return k[1]=function(A,C){if(h(E)&&(C=l(E,this,m(A),C)),!f(C))return C},a(v,null,k)},R=function(S,j,k){var E=x(k,j-1),A=x(k,j+1);return y(L,S)&&!y(O,A)||y(O,S)&&!y(L,E)?"\\u"+M(w(S,0),16):S};v&&s({target:"JSON",stat:!0,arity:3,forced:H||G},{stringify:function(S,j,k){var E=d(arguments),A=a(H?I:v,null,E);return G&&typeof A=="string"?_(A,U,R):A}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/to-object");s({target:"Object",stat:!0,forced:!o||a(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var h=l.f;return h?h(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/to-object"),a=r("../internals/object-keys");s({target:"Object",stat:!0,forced:r("../internals/fails")(function(){a(1)})},{keys:function(l){return a(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var f=this,d=l.f(f),p=d.resolve,g=d.reject,m=c(function(){var v=a(f.resolve),y=[],x=0,w=1;u(h,function(_){var M=x++,U=!1;w++,o(v,f,_).then(function(L){U||(U=!0,y[M]=L,--w||p(y))},g)}),--w||p(y)});return m.error&&g(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/define-built-in"),f=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(p){return this.then(void 0,p)}}),!o&&u(l)){var d=c("Promise").prototype.catch;f.catch!==d&&h(f,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var s,o,a,l=r("../internals/export"),c=r("../internals/is-pure"),u=r("../internals/engine-is-node"),h=r("../internals/global"),f=r("../internals/function-call"),d=r("../internals/define-built-in"),p=r("../internals/object-set-prototype-of"),g=r("../internals/set-to-string-tag"),m=r("../internals/set-species"),v=r("../internals/a-callable"),y=r("../internals/is-callable"),x=r("../internals/is-object"),w=r("../internals/an-instance"),_=r("../internals/species-constructor"),M=r("../internals/task").set,U=r("../internals/microtask"),L=r("../internals/host-report-errors"),O=r("../internals/perform"),H=r("../internals/queue"),G=r("../internals/internal-state"),I=r("../internals/promise-native-constructor"),R=r("../internals/promise-constructor-detection"),S=r("../internals/new-promise-capability"),j=R.CONSTRUCTOR,k=R.REJECTION_EVENT,E=R.SUBCLASSING,A=G.getterFor("Promise"),C=G.set,D=I&&I.prototype,z=I,P=D,K=h.TypeError,Z=h.document,te=h.process,q=S.f,$=q,N=!!(Z&&Z.createEvent&&h.dispatchEvent),T=function(Y){var ae;return!(!x(Y)||!y(ae=Y.then))&&ae},V=function(Y,ae){var ce,le,de,me=ae.value,ge=ae.state===1,ke=ge?Y.ok:Y.fail,Re=Y.resolve,je=Y.reject,qe=Y.domain;try{ke?(ge||(ae.rejection===2&&ne(ae),ae.rejection=1),ke===!0?ce=me:(qe&&qe.enter(),ce=ke(me),qe&&(qe.exit(),de=!0)),ce===Y.promise?je(new K("Promise-chain cycle")):(le=T(ce))?f(le,ce,Re,je):Re(ce)):je(me)}catch(Je){qe&&!de&&qe.exit(),je(Je)}},J=function(Y,ae){Y.notified||(Y.notified=!0,U(function(){for(var ce,le=Y.reactions;ce=le.get();)V(ce,Y);Y.notified=!1,ae&&!Y.rejection&&se(Y)}))},re=function(Y,ae,ce){var le,de;N?((le=Z.createEvent("Event")).promise=ae,le.reason=ce,le.initEvent(Y,!1,!0),h.dispatchEvent(le)):le={promise:ae,reason:ce},!k&&(de=h["on"+Y])?de(le):Y==="unhandledrejection"&&L("Unhandled promise rejection",ce)},se=function(Y){f(M,h,function(){var ae,ce=Y.facade,le=Y.value;if(B(Y)&&(ae=O(function(){u?te.emit("unhandledRejection",le,ce):re("unhandledrejection",ce,le)}),Y.rejection=u||B(Y)?2:1,ae.error))throw ae.value})},B=function(Y){return Y.rejection!==1&&!Y.parent},ne=function(Y){f(M,h,function(){var ae=Y.facade;u?te.emit("rejectionHandled",ae):re("rejectionhandled",ae,Y.value)})},ee=function(Y,ae,ce){return function(le){Y(ae,le,ce)}},F=function(Y,ae,ce){Y.done||(Y.done=!0,ce&&(Y=ce),Y.value=ae,Y.state=2,J(Y,!0))},W=function(Y,ae,ce){if(!Y.done){Y.done=!0,ce&&(Y=ce);try{if(Y.facade===ae)throw new K("Promise can't be resolved itself");var le=T(ae);le?U(function(){var de={done:!1};try{f(le,ae,ee(W,de,Y),ee(F,de,Y))}catch(me){F(de,me,Y)}}):(Y.value=ae,Y.state=1,J(Y,!1))}catch(de){F({done:!1},de,Y)}}};if(j&&(P=(z=function(Y){w(this,P),v(Y),f(s,this);var ae=A(this);try{Y(ee(W,ae),ee(F,ae))}catch(ce){F(ae,ce)}}).prototype,(s=function(Y){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=d(P,"then",function(Y,ae){var ce=A(this),le=q(_(this,z));return ce.parent=!0,le.ok=!y(Y)||Y,le.fail=y(ae)&&ae,le.domain=u?te.domain:void 0,ce.state===0?ce.reactions.add(le):U(function(){V(le,ce)}),le.promise}),o=function(){var Y=new s,ae=A(Y);this.promise=Y,this.resolve=ee(W,ae),this.reject=ee(F,ae)},S.f=q=function(Y){return Y===z||Y===void 0?new o(Y):$(Y)},!c&&y(I)&&D!==Object.prototype)){a=D.then,E||d(D,"then",function(Y,ae){var ce=this;return new z(function(le,de){f(a,ce,le,de)}).then(Y,ae)},{unsafe:!0});try{delete D.constructor}catch{}p&&p(D,P)}l({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:z}),g(z,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),l=r("../internals/fails"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/species-constructor"),f=r("../internals/promise-resolve"),d=r("../internals/define-built-in"),p=a&&a.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!a&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=h(this,c("Promise")),y=u(m);return this.then(y?function(x){return f(v,m()).then(function(){return x})}:m,y?function(x){return f(v,m()).then(function(){throw x})}:m)}}),!o&&u(a)){var g=c("Promise").prototype.finally;p.finally!==g&&d(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var f=this,d=l.f(f),p=d.reject,g=c(function(){var m=a(f.resolve);u(h,function(v){o(m,f,v).then(d.resolve,p)})});return g.error&&p(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=a.f(this);return o(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),c=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-resolve"),h=o("Promise"),f=a&&!c;s({target:"Promise",stat:!0,forced:a||c},{resolve:function(d){return u(f&&this===h?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,h=o([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(f){for(var d,p=[],g=arguments.length,m=0;g>m;){if(d=+arguments[m++],a(d,1114111)!==d)throw new l(d+" is not a valid code point");p[m]=d<65536?c(d):c(55296+((d-=65536)>>10),d%1024+56320)}return h(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),c=r("../internals/to-string"),u=r("../internals/correct-is-regexp-logic"),h=o("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(f){return!!~h(c(l(this)),c(a(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),c=r("../internals/is-pure"),u=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),f=r("../internals/fails"),d=r("../internals/has-own-property"),p=r("../internals/object-is-prototype-of"),g=r("../internals/an-object"),m=r("../internals/to-indexed-object"),v=r("../internals/to-property-key"),y=r("../internals/to-string"),x=r("../internals/create-property-descriptor"),w=r("../internals/object-create"),_=r("../internals/object-keys"),M=r("../internals/object-get-own-property-names"),U=r("../internals/object-get-own-property-names-external"),L=r("../internals/object-get-own-property-symbols"),O=r("../internals/object-get-own-property-descriptor"),H=r("../internals/object-define-property"),G=r("../internals/object-define-properties"),I=r("../internals/object-property-is-enumerable"),R=r("../internals/define-built-in"),S=r("../internals/define-built-in-accessor"),j=r("../internals/shared"),k=r("../internals/shared-key"),E=r("../internals/hidden-keys"),A=r("../internals/uid"),C=r("../internals/well-known-symbol"),D=r("../internals/well-known-symbol-wrapped"),z=r("../internals/well-known-symbol-define"),P=r("../internals/symbol-define-to-primitive"),K=r("../internals/set-to-string-tag"),Z=r("../internals/internal-state"),te=r("../internals/array-iteration").forEach,q=k("hidden"),$=Z.set,N=Z.getterFor("Symbol"),T=Object.prototype,V=o.Symbol,J=V&&V.prototype,re=o.RangeError,se=o.TypeError,B=o.QObject,ne=O.f,ee=H.f,F=U.f,W=I.f,Y=l([].push),ae=j("symbols"),ce=j("op-symbols"),le=j("wks"),de=!B||!B.prototype||!B.prototype.findChild,me=function($e,Ue,Ke){var rt=ne(T,Ue);rt&&delete T[Ue],ee($e,Ue,Ke),rt&&$e!==T&&ee(T,Ue,rt)},ge=u&&f(function(){return w(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a!==7})?me:ee,ke=function($e,Ue){var Ke=ae[$e]=w(J);return $(Ke,{type:"Symbol",tag:$e,description:Ue}),u||(Ke.description=Ue),Ke},Re=function($e,Ue,Ke){$e===T&&Re(ce,Ue,Ke),g($e);var rt=v(Ue);return g(Ke),d(ae,rt)?(Ke.enumerable?(d($e,q)&&$e[q][rt]&&($e[q][rt]=!1),Ke=w(Ke,{enumerable:x(0,!1)})):(d($e,q)||ee($e,q,x(1,{})),$e[q][rt]=!0),ge($e,rt,Ke)):ee($e,rt,Ke)},je=function($e,Ue){g($e);var Ke=m(Ue),rt=_(Ke).concat(pt(Ke));return te(rt,function(Ze){u&&!a(qe,Ke,Ze)||Re($e,Ze,Ke[Ze])}),$e},qe=function($e){var Ue=v($e),Ke=a(W,this,Ue);return!(this===T&&d(ae,Ue)&&!d(ce,Ue))&&(!(Ke||!d(this,Ue)||!d(ae,Ue)||d(this,q)&&this[q][Ue])||Ke)},Je=function($e,Ue){var Ke=m($e),rt=v(Ue);if(Ke!==T||!d(ae,rt)||d(ce,rt)){var Ze=ne(Ke,rt);return!Ze||!d(ae,rt)||d(Ke,q)&&Ke[q][rt]||(Ze.enumerable=!0),Ze}},Ve=function($e){var Ue=F(m($e)),Ke=[];return te(Ue,function(rt){d(ae,rt)||d(E,rt)||Y(Ke,rt)}),Ke},pt=function($e){var Ue=$e===T,Ke=F(Ue?ce:m($e)),rt=[];return te(Ke,function(Ze){!d(ae,Ze)||Ue&&!d(T,Ze)||Y(rt,ae[Ze])}),rt};h||(R(J=(V=function(){if(p(J,this))throw new se("Symbol is not a constructor");var $e=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Ue=A($e),Ke=function(rt){this===T&&a(Ke,ce,rt),d(this,q)&&d(this[q],Ue)&&(this[q][Ue]=!1);var Ze=x(1,rt);try{ge(this,Ue,Ze)}catch(kt){if(!(kt instanceof re))throw kt;me(this,Ue,Ze)}};return u&&de&&ge(T,Ue,{configurable:!0,set:Ke}),ke(Ue,$e)}).prototype,"toString",function(){return N(this).tag}),R(V,"withoutSetter",function($e){return ke(A($e),$e)}),I.f=qe,H.f=Re,G.f=je,O.f=Je,M.f=U.f=Ve,L.f=pt,D.f=function($e){return ke(C($e),$e)},u&&(S(J,"description",{configurable:!0,get:function(){return N(this).description}}),c||R(T,"propertyIsEnumerable",qe,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:V}),te(_(le),function($e){z($e)}),s({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),s({target:"Object",stat:!0,forced:!h,sham:!u},{create:function($e,Ue){return Ue===void 0?w($e):je(w($e),Ue)},defineProperty:Re,defineProperties:je,getOwnPropertyDescriptor:Je}),s({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Ve}),P(),K(V,"Symbol"),E[q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/has-own-property"),l=r("../internals/to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("string-to-symbol-registry"),f=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(d){var p=l(d);if(a(h,p))return h[p];var g=o("Symbol")(p);return h[p]=g,f[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/has-own-property"),a=r("../internals/is-symbol"),l=r("../internals/try-to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(f){if(!a(f))throw new TypeError(l(f)+" is not a symbol");if(o(h,f))return h[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(s){(function(){var o=r("elliptic"),a=r("bn.js");n.exports=function(h){return new c(h)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(h){this.curveType=l[h],this.curveType||(this.curveType={name:h}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(h,f,d){Array.isArray(h)||(h=h.toArray());var p=new s(h);if(d&&p.length<d){var g=new s(d-p.length);g.fill(0),p=s.concat([g,p])}return f?p.toString(f):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(h,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,f)},c.prototype.computeSecret=function(h,f,d){return f=f||"utf8",s.isBuffer(h)||(h=new s(h,f)),u(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},c.prototype.getPublicKey=function(h,f){var d=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,h)},c.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},c.prototype.setPublicKey=function(h,f){return f=f||"utf8",s.isBuffer(h)||(h=new s(h,f)),this.keys._importPublic(h),this},c.prototype.setPrivateKey=function(h,f){f=f||"utf8",s.isBuffer(h)||(h=new s(h,f));var d=new a(h);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var s=r("inherits"),o=r("md5.js"),a=r("ripemd160"),l=r("sha.js"),c=r("cipher-base");function u(h){c.call(this,"digest"),this._hash=h}s(u,c),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new o:h==="rmd160"||h==="ripemd160"?new a:new u(l(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var s=r("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(r,n,i){var s=r("inherits"),o=r("./legacy"),a=r("cipher-base"),l=r("safe-buffer").Buffer,c=r("create-hash/md5"),u=r("ripemd160"),h=r("sha.js"),f=l.alloc(128);function d(p,g){a.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new u:h(p)).update(g).digest():g.length<m&&(g=l.concat([g,f],m));for(var v=this._ipad=l.allocUnsafe(m),y=this._opad=l.allocUnsafe(m),x=0;x<m;x++)v[x]=54^g[x],y[x]=92^g[x];this._hash=p==="rmd160"?new u:h(p),this._hash.update(v)}s(d,a),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new u:h(this._alg)).update(this._opad).update(p).digest()},n.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new d("rmd160",g):p==="md5"?new o(c,g):new d(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var s=r("inherits"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=o.alloc(128);function c(u,h){a.call(this,"digest"),typeof h=="string"&&(h=o.from(h)),this._alg=u,this._key=h,h.length>64?h=u(h):h.length<64&&(h=o.concat([h,l],64));for(var f=this._ipad=o.allocUnsafe(64),d=this._opad=o.allocUnsafe(64),p=0;p<64;p++)f[p]=54^h[p],d[p]=92^h[p];this._hash=[f]}s(c,a),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var s=r("browserify-sign/algos"),o=Object.keys(s),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return a};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var c=r("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=r("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var h=r("browserify-sign");i.createSign=h.createSign,i.Sign=h.Sign,i.createVerify=h.createVerify,i.Verify=h.Verify,i.createECDH=r("create-ecdh");var f=r("public-encrypt");i.publicEncrypt=f.publicEncrypt,i.privateEncrypt=f.privateEncrypt,i.publicDecrypt=f.publicDecrypt,i.privateDecrypt=f.privateDecrypt;var d=r("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,function(){var s=6e4,o=36e5,a="millisecond",l="second",c="minute",u="hour",h="day",f="week",d="month",p="quarter",g="year",m="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var E=["th","st","nd","rd"],A=k%100;return"["+k+(E[(A-20)%10]||E[A]||E[0])+"]"}},_=function(k,E,A){var C=String(k);return!C||C.length>=E?k:""+Array(E+1-C.length).join(A)+k},M={s:_,z:function(k){var E=-k.utcOffset(),A=Math.abs(E),C=Math.floor(A/60),D=A%60;return(E<=0?"+":"-")+_(C,2,"0")+":"+_(D,2,"0")},m:function k(E,A){if(E.date()<A.date())return-k(A,E);var C=12*(A.year()-E.year())+(A.month()-E.month()),D=E.clone().add(C,d),z=A-D<0,P=E.clone().add(C+(z?-1:1),d);return+(-(C+(A-D)/(z?D-P:P-D))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:d,y:g,w:f,d:h,D:m,h:u,m:c,s:l,ms:a,Q:p}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},U="en",L={};L[U]=w;var O="$isDayjsObject",H=function(k){return k instanceof S||!(!k||!k[O])},G=function k(E,A,C){var D;if(!E)return U;if(typeof E=="string"){var z=E.toLowerCase();L[z]&&(D=z),A&&(L[z]=A,D=z);var P=E.split("-");if(!D&&P.length>1)return k(P[0])}else{var K=E.name;L[K]=E,D=K}return!C&&D&&(U=D),D||!C&&U},I=function(k,E){if(H(k))return k.clone();var A=typeof E=="object"?E:{};return A.date=k,A.args=arguments,new S(A)},R=M;R.l=G,R.i=H,R.w=function(k,E){return I(k,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var S=function(){function k(A){this.$L=G(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[O]=!0}var E=k.prototype;return E.parse=function(A){this.$d=function(C){var D=C.date,z=C.utc;if(D===null)return new Date(NaN);if(R.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var P=D.match(y);if(P){var K=P[2]-1||0,Z=(P[7]||"0").substring(0,3);return z?new Date(Date.UTC(P[1],K,P[3]||1,P[4]||0,P[5]||0,P[6]||0,Z)):new Date(P[1],K,P[3]||1,P[4]||0,P[5]||0,P[6]||0,Z)}}return new Date(D)}(A),this.init()},E.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},E.$utils=function(){return R},E.isValid=function(){return this.$d.toString()!==v},E.isSame=function(A,C){var D=I(A);return this.startOf(C)<=D&&D<=this.endOf(C)},E.isAfter=function(A,C){return I(A)<this.startOf(C)},E.isBefore=function(A,C){return this.endOf(C)<I(A)},E.$g=function(A,C,D){return R.u(A)?this[C]:this.set(D,A)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(A,C){var D=this,z=!!R.u(C)||C,P=R.p(A),K=function(J,re){var se=R.w(D.$u?Date.UTC(D.$y,re,J):new Date(D.$y,re,J),D);return z?se:se.endOf(h)},Z=function(J,re){return R.w(D.toDate()[J].apply(D.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(re)),D)},te=this.$W,q=this.$M,$=this.$D,N="set"+(this.$u?"UTC":"");switch(P){case g:return z?K(1,0):K(31,11);case d:return z?K(1,q):K(0,q+1);case f:var T=this.$locale().weekStart||0,V=(te<T?te+7:te)-T;return K(z?$-V:$+(6-V),q);case h:case m:return Z(N+"Hours",0);case u:return Z(N+"Minutes",1);case c:return Z(N+"Seconds",2);case l:return Z(N+"Milliseconds",3);default:return this.clone()}},E.endOf=function(A){return this.startOf(A,!1)},E.$set=function(A,C){var D,z=R.p(A),P="set"+(this.$u?"UTC":""),K=(D={},D[h]=P+"Date",D[m]=P+"Date",D[d]=P+"Month",D[g]=P+"FullYear",D[u]=P+"Hours",D[c]=P+"Minutes",D[l]=P+"Seconds",D[a]=P+"Milliseconds",D)[z],Z=z===h?this.$D+(C-this.$W):C;if(z===d||z===g){var te=this.clone().set(m,1);te.$d[K](Z),te.init(),this.$d=te.set(m,Math.min(this.$D,te.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},E.set=function(A,C){return this.clone().$set(A,C)},E.get=function(A){return this[R.p(A)]()},E.add=function(A,C){var D,z=this;A=Number(A);var P=R.p(C),K=function(q){var $=I(z);return R.w($.date($.date()+Math.round(q*A)),z)};if(P===d)return this.set(d,this.$M+A);if(P===g)return this.set(g,this.$y+A);if(P===h)return K(1);if(P===f)return K(7);var Z=(D={},D[c]=s,D[u]=o,D[l]=1e3,D)[P]||1,te=this.$d.getTime()+A*Z;return R.w(te,this)},E.subtract=function(A,C){return this.add(-1*A,C)},E.format=function(A){var C=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var z=A||"YYYY-MM-DDTHH:mm:ssZ",P=R.z(this),K=this.$H,Z=this.$m,te=this.$M,q=D.weekdays,$=D.months,N=D.meridiem,T=function(re,se,B,ne){return re&&(re[se]||re(C,z))||B[se].slice(0,ne)},V=function(re){return R.s(K%12||12,re,"0")},J=N||function(re,se,B){var ne=re<12?"AM":"PM";return B?ne.toLowerCase():ne};return z.replace(x,function(re,se){return se||function(B){switch(B){case"YY":return String(C.$y).slice(-2);case"YYYY":return R.s(C.$y,4,"0");case"M":return te+1;case"MM":return R.s(te+1,2,"0");case"MMM":return T(D.monthsShort,te,$,3);case"MMMM":return T($,te);case"D":return C.$D;case"DD":return R.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return T(D.weekdaysMin,C.$W,q,2);case"ddd":return T(D.weekdaysShort,C.$W,q,3);case"dddd":return q[C.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return J(K,Z,!0);case"A":return J(K,Z,!1);case"m":return String(Z);case"mm":return R.s(Z,2,"0");case"s":return String(C.$s);case"ss":return R.s(C.$s,2,"0");case"SSS":return R.s(C.$ms,3,"0");case"Z":return P}return null}(re)||P.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(A,C,D){var z,P=this,K=R.p(C),Z=I(A),te=(Z.utcOffset()-this.utcOffset())*s,q=this-Z,$=function(){return R.m(P,Z)};switch(K){case g:z=$()/12;break;case d:z=$();break;case p:z=$()/3;break;case f:z=(q-te)/6048e5;break;case h:z=(q-te)/864e5;break;case u:z=q/o;break;case c:z=q/s;break;case l:z=q/1e3;break;default:z=q}return D?z:R.a(z)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return L[this.$L]},E.locale=function(A,C){if(!A)return this.$L;var D=this.clone(),z=G(A,C,!0);return z&&(D.$L=z),D},E.clone=function(){return R.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},k}(),j=S.prototype;return I.prototype=j,[["$ms",a],["$s",l],["$m",c],["$H",u],["$W",h],["$M",d],["$y",g],["$D",m]].forEach(function(k){j[k[1]]=function(E){return this.$g(E,k[0],k[1])}}),I.extend=function(k,E){return k.$i||(k(E,S,I),k.$i=!0),I},I.locale=G,I.isDayjs=H,I.unix=function(k){return I(1e3*k)},I.en=L[U],I.Ls=L,I.p={},I})},{}],392:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},h=function(y){return(y=+y)+(y>68?1900:2e3)},f=function(y){return function(x){this[y]=+x}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var w=x.match(/([+-]|\d\d)/g),_=60*w[1]+(+w[2]||0);return _===0?0:w[0]==="+"?-_:_}(y)}],p=function(y){var x=u[y];return x&&(x.indexOf?x:x.s.concat(x.f))},g=function(y,x){var w,_=u.meridiem;if(_){for(var M=1;M<=24;M+=1)if(y.indexOf(_(M,0,x))>-1){w=M>12;break}}else w=y===(x?"pm":"PM");return w},m={A:[c,function(y){this.afternoon=g(y,!1)}],a:[c,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[a,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,f("seconds")],ss:[l,f("seconds")],m:[l,f("minutes")],mm:[l,f("minutes")],H:[l,f("hours")],h:[l,f("hours")],HH:[l,f("hours")],hh:[l,f("hours")],D:[l,f("day")],DD:[a,f("day")],Do:[c,function(y){var x=u.ordinal,w=y.match(/\d+/);if(this.day=w[0],x)for(var _=1;_<=31;_+=1)x(_).replace(/\[|\]/g,"")===y&&(this.day=_)}],M:[l,f("month")],MM:[a,f("month")],MMM:[c,function(y){var x=p("months"),w=(p("monthsShort")||x.map(function(_){return _.slice(0,3)})).indexOf(y)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[c,function(y){var x=p("months").indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,f("year")],YY:[a,function(y){this.year=h(y)}],YYYY:[/\d{4}/,f("year")],Z:d,ZZ:d};function v(y){var x,w;x=y,w=u&&u.formats;for(var _=(y=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,R,S){var j=S&&S.toUpperCase();return R||w[S]||s[S]||w[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,E,A){return E||A.slice(1)})})).match(o),M=_.length,U=0;U<M;U+=1){var L=_[U],O=m[L],H=O&&O[0],G=O&&O[1];_[U]=G?{regex:H,parser:G}:L.replace(/^\[|\]$/g,"")}return function(I){for(var R={},S=0,j=0;S<M;S+=1){var k=_[S];if(typeof k=="string")j+=k.length;else{var E=k.regex,A=k.parser,C=I.slice(j),D=E.exec(C)[0];A.call(R,D),I=I.replace(D,"")}}return function(z){var P=z.afternoon;if(P!==void 0){var K=z.hours;P?K<12&&(z.hours+=12):K===12&&(z.hours=0),delete z.afternoon}}(R),R}}return function(y,x,w){w.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(h=y.parseTwoDigitYear);var _=x.prototype,M=_.parse;_.parse=function(U){var L=U.date,O=U.utc,H=U.args;this.$u=O;var G=H[1];if(typeof G=="string"){var I=H[2]===!0,R=H[3]===!0,S=I||R,j=H[2];R&&(j=H[2]),u=this.$locale(),!I&&j&&(u=w.Ls[j]),this.$d=function(C,D,z){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*C);var P=v(D)(C),K=P.year,Z=P.month,te=P.day,q=P.hours,$=P.minutes,N=P.seconds,T=P.milliseconds,V=P.zone,J=new Date,re=te||(K||Z?1:J.getDate()),se=K||J.getFullYear(),B=0;K&&!Z||(B=Z>0?Z-1:J.getMonth());var ne=q||0,ee=$||0,F=N||0,W=T||0;return V?new Date(Date.UTC(se,B,re,ne,ee,F,W+60*V.offset*1e3)):z?new Date(Date.UTC(se,B,re,ne,ee,F,W)):new Date(se,B,re,ne,ee,F,W)}catch{return new Date("")}}(L,G,O),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),S&&L!=this.format(G)&&(this.$d=new Date("")),u={}}else if(G instanceof Array)for(var k=G.length,E=1;E<=k;E+=1){H[1]=G[E-1];var A=w.apply(this,H);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}E===k&&(this.$d=new Date(""))}else M.call(this,U)}}})},{}],393:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,c,u){var h=c.prototype;u.utc=function(y){var x={date:y,utc:!0,args:arguments};return new c(x)},h.utc=function(y){var x=u(this.toDate(),{locale:this.$L,utc:!0});return y?x.add(this.utcOffset(),s):x},h.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=h.parse;h.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),f.call(this,y)};var d=h.init;h.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var p=h.utcOffset;h.utcOffset=function(y,x){var w=this.$utils().u;if(w(y))return this.$u?0:w(this.$offset)?p.call(this):this.$offset;if(typeof y=="string"&&(y=function(L){L===void 0&&(L="");var O=L.match(o);if(!O)return null;var H=(""+O[0]).match(a)||["-",0,0],G=H[0],I=60*+H[1]+ +H[2];return I===0?0:G==="+"?I:-I}(y))===null)return this;var _=Math.abs(y)<=16?60*y:y,M=this;if(x)return M.$offset=_,M.$u=y===0,M;if(y!==0){var U=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(_+U,s)).$offset=_,M.$x.$localOffset=U}else M=this.utc();return M};var g=h.format;h.format=function(y){var x=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,x)},h.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var m=h.toDate;h.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=h.diff;h.diff=function(y,x,w){if(y&&this.$u===y.$u)return v.call(this,y,x,w);var _=this.local(),M=u(y).local();return v.call(_,M,x,w)}}})},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a={};function l(c){s.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}i.instantiate=function(c){function u(p){c.call(this,p),this._cbcInit()}o(u,c);for(var h=Object.keys(a),f=0;f<h.length;f++){var d=h[f];u.prototype[d]=a[d]}return u.create=function(p){return new u(p)},u},a._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},a._update=function(c,u,h,f){var d=this._cbcState,p=this.constructor.super_.prototype,g=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=c[u+m];for(p._update.call(this,g,0,h,f),m=0;m<this.blockSize;m++)g[m]=h[f+m]}else{for(p._update.call(this,c,u,h,f),m=0;m<this.blockSize;m++)h[f+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=c[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var s=r("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,l){for(var c=Math.min(this.buffer.length-this.bufferOff,a.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=a[l+u];return this.bufferOff+=c,c},o.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var l=0,c=0,u=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var f=a.length-(a.length-l)%this.blockSize;l<f;l+=this.blockSize)this._update(a,l,h,c),c+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return h},o.prototype._updateDecrypt=function(a){for(var l=0,c=0,u=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(a,l),c+=this._flushBuffer(h,c);return l+=this._buffer(a,l),h},o.prototype.final=function(a){var l,c;return a&&(l=this.update(a)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},o.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./utils"),l=r("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(f){l.call(this,f);var d=new c;this._desState=d,this.deriveKeys(d,f.key)}o(u,l),n.exports=u,u.create=function(f){return new u(f)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(f,d){f.keys=new Array(32),s.equal(d.length,this.blockSize,"Invalid key length");var p=a.readUInt32BE(d,0),g=a.readUInt32BE(d,4);a.pc1(p,g,f.tmp,0),p=f.tmp[0],g=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=h[m>>>1];p=a.r28shl(p,v),g=a.r28shl(g,v),a.pc2(p,g,f.keys,m)}},u.prototype._update=function(f,d,p,g){var m=this._desState,v=a.readUInt32BE(f,d),y=a.readUInt32BE(f,d+4);a.ip(v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,y,m.tmp,0):this._decrypt(m,v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],a.writeUInt32BE(p,v,g),a.writeUInt32BE(p,y,g+4)},u.prototype._pad=function(f,d){if(this.padding===!1)return!1;for(var p=f.length-d,g=d;g<f.length;g++)f[g]=p;return!0},u.prototype._unpad=function(f){if(this.padding===!1)return f;for(var d=f[f.length-1],p=f.length-d;p<f.length;p++)s.equal(f[p],d);return f.slice(0,f.length-d)},u.prototype._encrypt=function(f,d,p,g,m){for(var v=d,y=p,x=0;x<f.keys.length;x+=2){var w=f.keys[x],_=f.keys[x+1];a.expand(y,f.tmp,0),w^=f.tmp[0],_^=f.tmp[1];var M=a.substitute(w,_),U=y;y=(v^a.permute(M))>>>0,v=U}a.rip(y,v,g,m)},u.prototype._decrypt=function(f,d,p,g,m){for(var v=p,y=d,x=f.keys.length-2;x>=0;x-=2){var w=f.keys[x],_=f.keys[x+1];a.expand(v,f.tmp,0),w^=f.tmp[0],_^=f.tmp[1];var M=a.substitute(w,_),U=v;v=(y^a.permute(M))>>>0,y=U}a.rip(v,y,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./cipher"),l=r("./des");function c(h,f){s.equal(f.length,24,"Invalid key length");var d=f.slice(0,8),p=f.slice(8,16),g=f.slice(16,24);this.ciphers=h==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:d})]}function u(h){a.call(this,h);var f=new c(this.type,this.options.key);this._edeState=f}o(u,a),n.exports=u,u.create=function(h){return new u(h)},u.prototype._update=function(h,f,d,p){var g=this._edeState;g.ciphers[0]._update(h,f,d,p),g.ciphers[1]._update(d,p,d,p),g.ciphers[2]._update(d,p,d,p)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},i.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},i.ip=function(l,c,u,h){for(var f=0,d=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)f<<=1,f|=c>>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)d<<=1,d|=c>>>g+p&1;for(g=1;g<=25;g+=8)d<<=1,d|=l>>>g+p&1}u[h+0]=f>>>0,u[h+1]=d>>>0},i.rip=function(l,c,u,h){for(var f=0,d=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)f<<=1,f|=c>>>g+p&1,f<<=1,f|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)d<<=1,d|=c>>>g+p&1,d<<=1,d|=l>>>g+p&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.pc1=function(l,c,u,h){for(var f=0,d=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)f<<=1,f|=c>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1}for(g=0;g<=24;g+=8)f<<=1,f|=c>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)d<<=1,d|=c>>g+p&1;for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1}for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,c,u,h){for(var f=0,d=0,p=s.length>>>1,g=0;g<p;g++)f<<=1,f|=l>>>s[g]&1;for(g=p;g<s.length;g++)d<<=1,d|=c>>>s[g]&1;u[h+0]=f>>>0,u[h+1]=d>>>0},i.expand=function(l,c,u){var h=0,f=0;h=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)h<<=6,h|=l>>>d&63;for(d=11;d>=3;d-=4)f|=l>>>d&63,f<<=6;f|=(31&l)<<1|l>>>31,c[u+0]=h>>>0,c[u+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,c){for(var u=0,h=0;h<4;h++)u<<=4,u|=o[64*h+(l>>>18-6*h&63)];for(h=0;h<4;h++)u<<=4,u|=o[256+64*h+(c>>>18-6*h&63)];return u>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var c=0,u=0;u<a.length;u++)c<<=1,c|=l>>>a[u]&1;return c>>>0},i.padSplit=function(l,c,u){for(var h=l.toString(2);h.length<c;)h="0"+h;for(var f=[],d=0;d<c;d+=u)f.push(h.slice(d,d+u));return f.join(" ")}},{}],400:[function(r,n,i){(function(s){(function(){var o=r("./lib/generatePrime"),a=r("./lib/primes.json"),l=r("./lib/dh"),c={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var h=new s(a[u].prime,"hex"),f=new s(a[u].gen,"hex");return new l(h,f)},i.createDiffieHellman=i.DiffieHellman=function u(h,f,d,p){return s.isBuffer(f)||c[f]===void 0?u(h,"binary",f,d):(f=f||"binary",p=p||"binary",d=d||new s([2]),s.isBuffer(d)||(d=new s(d,p)),typeof h=="number"?new l(o(h,d),d,!0):(s.isBuffer(h)||(h=new s(h,f)),new l(h,d,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=new(r("miller-rabin")),l=new o(24),c=new o(11),u=new o(10),h=new o(3),f=new o(7),d=r("./generatePrime"),p=r("randombytes");function g(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this._pub=new o(w),this}function m(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this._priv=new o(w),this}n.exports=y;var v={};function y(w,_,M){this.setGenerator(_),this.__prime=new o(w),this._prime=o.mont(this.__prime),this._primeLen=w.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,M?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function x(w,_){var M=new s(w.toArray());return _?M.toString(_):M}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(w,_){var M=_.toString("hex"),U=[M,w.toString(16)].join("_");if(U in v)return v[U];var L,O=0;if(w.isEven()||!d.simpleSieve||!d.fermatTest(w)||!a.test(w))return O+=1,O+=M==="02"||M==="05"?8:4,v[U]=O,O;switch(a.test(w.shrn(1))||(O+=2),M){case"02":w.mod(l).cmp(c)&&(O+=8);break;case"05":(L=w.mod(u)).cmp(h)&&L.cmp(f)&&(O+=8);break;default:O+=4}return v[U]=O,O}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new o(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(w){var _=(w=(w=new o(w)).toRed(this._prime)).redPow(this._priv).fromRed(),M=new s(_.toArray()),U=this.getPrime();if(M.length<U.length){var L=new s(U.length-M.length);L.fill(0),M=s.concat([L,M])}return M},y.prototype.getPublicKey=function(w){return x(this._pub,w)},y.prototype.getPrivateKey=function(w){return x(this._priv,w)},y.prototype.getPrime=function(w){return x(this.__prime,w)},y.prototype.getGenerator=function(w){return x(this._gen,w)},y.prototype.setGenerator=function(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this.__gen=w,this._gen=new o(w),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var s=r("randombytes");n.exports=w,w.simpleSieve=y,w.fermatTest=x;var o=r("bn.js"),a=new o(24),l=new(r("miller-rabin")),c=new o(1),u=new o(2),h=new o(5),f=(new o(16),new o(8),new o(10)),d=new o(3),p=(new o(7),new o(11)),g=new o(4),m=(new o(12),null);function v(){if(m!==null)return m;var _=[];_[0]=2;for(var M=1,U=3;U<1048576;U+=2){for(var L=Math.ceil(Math.sqrt(U)),O=0;O<M&&_[O]<=L&&U%_[O]!=0;O++);M!==O&&_[O]<=L||(_[M++]=U)}return m=_,_}function y(_){for(var M=v(),U=0;U<M.length;U++)if(_.modn(M[U])===0)return _.cmpn(M[U])===0;return!0}function x(_){var M=o.mont(_);return u.toRed(M).redPow(_.subn(1)).fromRed().cmpn(1)===0}function w(_,M){if(_<16)return new o(M===2||M===5?[140,123]:[140,39]);var U,L;for(M=new o(M);;){for(U=new o(s(Math.ceil(_/8)));U.bitLength()>_;)U.ishrn(1);if(U.isEven()&&U.iadd(c),U.testn(1)||U.iadd(u),M.cmp(u)){if(!M.cmp(h))for(;U.mod(f).cmp(d);)U.iadd(g)}else for(;U.mod(a).cmp(p);)U.iadd(g);if(y(L=U.shrn(1))&&y(U)&&x(L)&&x(U)&&l.test(L)&&l.test(U))return U}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var s=i;s.version=r("../package.json").version,s.utils=r("./elliptic/utils"),s.rand=r("brorand"),s.curve=r("./elliptic/curve"),s.curves=r("./elliptic/curves"),s.ec=r("./elliptic/ec"),s.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.getNAF,l=o.getJSF,c=o.assert;function u(f,d){this.type=f,this.p=new s(d.p,16),this.red=d.prime?s.red(d.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=d.n&&new s(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(f,d){this.curve=f,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(f,d){c(f.precomputed);var p=f._getDoubles(),g=a(d,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var v,y,x=[];for(v=0;v<g.length;v+=p.step){y=0;for(var w=v+p.step-1;w>=v;w--)y=(y<<1)+g[w];x.push(y)}for(var _=this.jpoint(null,null,null),M=this.jpoint(null,null,null),U=m;U>0;U--){for(v=0;v<x.length;v++)(y=x[v])===U?M=M.mixedAdd(p.points[v]):y===-U&&(M=M.mixedAdd(p.points[v].neg()));_=_.add(M)}return _.toP()},u.prototype._wnafMul=function(f,d){var p=4,g=f._getNAFPoints(p);p=g.wnd;for(var m=g.points,v=a(d,p,this._bitLength),y=this.jpoint(null,null,null),x=v.length-1;x>=0;x--){for(var w=0;x>=0&&v[x]===0;x--)w++;if(x>=0&&w++,y=y.dblp(w),x<0)break;var _=v[x];c(_!==0),y=f.type==="affine"?_>0?y.mixedAdd(m[_-1>>1]):y.mixedAdd(m[-_-1>>1].neg()):_>0?y.add(m[_-1>>1]):y.add(m[-_-1>>1].neg())}return f.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(f,d,p,g,m){var v,y,x,w=this._wnafT1,_=this._wnafT2,M=this._wnafT3,U=0;for(v=0;v<g;v++){var L=(x=d[v])._getNAFPoints(f);w[v]=L.wnd,_[v]=L.points}for(v=g-1;v>=1;v-=2){var O=v-1,H=v;if(w[O]===1&&w[H]===1){var G=[d[O],null,null,d[H]];d[O].y.cmp(d[H].y)===0?(G[1]=d[O].add(d[H]),G[2]=d[O].toJ().mixedAdd(d[H].neg())):d[O].y.cmp(d[H].y.redNeg())===0?(G[1]=d[O].toJ().mixedAdd(d[H]),G[2]=d[O].add(d[H].neg())):(G[1]=d[O].toJ().mixedAdd(d[H]),G[2]=d[O].toJ().mixedAdd(d[H].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],R=l(p[O],p[H]);for(U=Math.max(R[0].length,U),M[O]=new Array(U),M[H]=new Array(U),y=0;y<U;y++){var S=0|R[0][y],j=0|R[1][y];M[O][y]=I[3*(S+1)+(j+1)],M[H][y]=0,_[O]=G}}else M[O]=a(p[O],w[O],this._bitLength),M[H]=a(p[H],w[H],this._bitLength),U=Math.max(M[O].length,U),U=Math.max(M[H].length,U)}var k=this.jpoint(null,null,null),E=this._wnafT4;for(v=U;v>=0;v--){for(var A=0;v>=0;){var C=!0;for(y=0;y<g;y++)E[y]=0|M[y][v],E[y]!==0&&(C=!1);if(!C)break;A++,v--}if(v>=0&&A++,k=k.dblp(A),v<0)break;for(y=0;y<g;y++){var D=E[y];D!==0&&(D>0?x=_[y][D-1>>1]:D<0&&(x=_[y][-D-1>>1].neg()),k=x.type==="affine"?k.mixedAdd(x):k.add(x))}}for(v=0;v<g;v++)_[v]=null;return m?k:k.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(f,d){f=o.toArray(f,d);var p=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*p)return f[0]===6?c(f[f.length-1]%2==0):f[0]===7&&c(f[f.length-1]%2==1),this.point(f.slice(1,1+p),f.slice(1+p,1+2*p));if((f[0]===2||f[0]===3)&&f.length-1===p)return this.pointFromX(f.slice(1,1+p),f[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(f){return this.encode(f,!0)},h.prototype._encode=function(f){var d=this.curve.p.byteLength(),p=this.getX().toArray("be",d);return f?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",d))},h.prototype.encode=function(f,d){return o.encode(this._encode(d),f)},h.prototype.precompute=function(f){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,f),d.beta=this._getBeta(),this.precomputed=d,this},h.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((f.bitLength()+1)/d.step)},h.prototype._getDoubles=function(f,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<d;m+=f){for(var v=0;v<f;v++)g=g.dbl();p.push(g)}return{step:f,points:p}},h.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],p=(1<<f)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)d[m]=d[m-1].add(g);return{wnd:f,points:d}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(f){for(var d=this,p=0;p<f;p++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function h(f,d,p,g,m){l.BasePoint.call(this,f,"projective"),d===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(d,16),this.y=new o(p,16),this.z=g?new o(g,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,l),n.exports=u,u.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},u.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},u.prototype.jpoint=function(f,d,p,g){return this.point(f,d,p,g)},u.prototype.pointFromX=function(f,d){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),v=g.redMul(m.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=y.fromRed().isOdd();return(d&&!x||!d&&x)&&(y=y.redNeg()),this.point(f,y)},u.prototype.pointFromY=function(f,d){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,f)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,f)},u.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var d=f.x.redSqr(),p=f.y.redSqr(),g=d.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(p)));return g.cmp(m)===0},a(h,l.BasePoint),u.prototype.pointFromJSON=function(f){return h.fromJSON(this,f)},u.prototype.point=function(f,d,p,g){return new h(this,f,d,p,g)},h.fromJSON=function(f,d){return new h(f,d[0],d[1],d[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var f=this.x.redSqr(),d=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(d),v=g.redAdd(d),y=v.redSub(p),x=g.redSub(d),w=m.redMul(y),_=v.redMul(x),M=m.redMul(x),U=y.redMul(v);return this.curve.point(w,_,U,M)},h.prototype._projDbl=function(){var f,d,p,g,m,v,y=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),w=this.y.redSqr();if(this.curve.twisted){var _=(g=this.curve._mulA(x)).redAdd(w);this.zOne?(f=y.redSub(x).redSub(w).redMul(_.redSub(this.curve.two)),d=_.redMul(g.redSub(w)),p=_.redSqr().redSub(_).redSub(_)):(m=this.z.redSqr(),v=_.redSub(m).redISub(m),f=y.redSub(x).redISub(w).redMul(v),d=_.redMul(g.redSub(w)),p=_.redMul(v))}else g=x.redAdd(w),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),f=this.curve._mulC(y.redISub(g)).redMul(v),d=this.curve._mulC(g).redMul(x.redISub(w)),p=g.redMul(v);return this.curve.point(f,d,p)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(f){var d=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),p=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),g=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=p.redSub(d),y=m.redSub(g),x=m.redAdd(g),w=p.redAdd(d),_=v.redMul(y),M=x.redMul(w),U=v.redMul(w),L=y.redMul(x);return this.curve.point(_,M,L,U)},h.prototype._projAdd=function(f){var d,p,g=this.z.redMul(f.z),m=g.redSqr(),v=this.x.redMul(f.x),y=this.y.redMul(f.y),x=this.curve.d.redMul(v).redMul(y),w=m.redSub(x),_=m.redAdd(x),M=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(y),U=g.redMul(w).redMul(M);return this.curve.twisted?(d=g.redMul(_).redMul(y.redSub(this.curve._mulA(v))),p=w.redMul(_)):(d=g.redMul(_).redMul(y.redSub(v)),p=this.curve._mulC(w).redMul(_)),this.curve.point(U,d,p)},h.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},h.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,d,p){return this.curve._wnafMulAdd(1,[this,d],[f,p],2,!1)},h.prototype.jmulAdd=function(f,d,p){return this.curve._wnafMulAdd(1,[this,d],[f,p],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},h.prototype.eqXToP=function(f){var d=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var p=f.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var s=i;s.base=r("./base"),s.short=r("./short"),s.mont=r("./mont"),s.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var s=r("bn.js"),o=r("inherits"),a=r("./base"),l=r("../utils");function c(h){a.call(this,"mont",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(h,f,d){a.BasePoint.call(this,h,"projective"),f===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(f,16),this.z=new s(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(c,a),n.exports=c,c.prototype.validate=function(h){var f=h.normalize().x,d=f.redSqr(),p=d.redMul(f).redAdd(d.redMul(this.a)).redAdd(f);return p.redSqrt().redSqr().cmp(p)===0},o(u,a.BasePoint),c.prototype.decodePoint=function(h,f){return this.point(l.toArray(h,f),1)},c.prototype.point=function(h,f){return new u(this,h,f)},c.prototype.pointFromJSON=function(h){return u.fromJSON(this,h)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(h,f){return new u(h,f[0],f[1]||h.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),d=h.redSub(f),p=h.redMul(f),g=d.redMul(f.redAdd(this.curve.a24.redMul(d)));return this.curve.point(p,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(h,f){var d=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=h.x.redAdd(h.z),m=h.x.redSub(h.z).redMul(d),v=g.redMul(p),y=f.z.redMul(m.redAdd(v).redSqr()),x=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(y,x)},u.prototype.mul=function(h){for(var f=h.clone(),d=this,p=this.curve.point(null,null),g=[];f.cmpn(0)!==0;f.iushrn(1))g.push(f.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(d=d.diffAdd(p,this),p=p.dbl()):(p=d.diffAdd(p,this),d=d.dbl());return p},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(d){l.call(this,"short",d),this.a=new o(d.a,16).toRed(this.red),this.b=new o(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(d,p,g,m){l.BasePoint.call(this,d,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(p,16),this.y=new o(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(d,p,g,m){l.BasePoint.call(this,d,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(p,16),this.y=new o(g,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,l),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(d.beta)p=new o(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)g=new o(d.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(p))===0?g=v[0]:(g=v[1],c(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:d.basis?d.basis.map(function(y){return{a:new o(y.a,16),b:new o(y.b,16)}}):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(d){var p=d===this.p?this.red:o.mont(d),g=new o(2).toRed(p).redInvm(),m=g.redNeg(),v=new o(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(d){for(var p,g,m,v,y,x,w,_,M,U=this.n.ushrn(Math.floor(this.n.bitLength()/2)),L=d,O=this.n.clone(),H=new o(1),G=new o(0),I=new o(0),R=new o(1),S=0;L.cmpn(0)!==0;){var j=O.div(L);_=O.sub(j.mul(L)),M=I.sub(j.mul(H));var k=R.sub(j.mul(G));if(!m&&_.cmp(U)<0)p=w.neg(),g=H,m=_.neg(),v=M;else if(m&&++S==2)break;w=_,O=L,L=_,I=H,H=M,R=G,G=k}y=_.neg(),x=M;var E=m.sqr().add(v.sqr());return y.sqr().add(x.sqr()).cmp(E)>=0&&(y=p,x=g),m.negative&&(m=m.neg(),v=v.neg()),y.negative&&(y=y.neg(),x=x.neg()),[{a:m,b:v},{a:y,b:x}]},u.prototype._endoSplit=function(d){var p=this.endo.basis,g=p[0],m=p[1],v=m.b.mul(d).divRound(this.n),y=g.b.neg().mul(d).divRound(this.n),x=v.mul(g.a),w=y.mul(m.a),_=v.mul(g.b),M=y.mul(m.b);return{k1:d.sub(x).sub(w),k2:_.add(M).neg()}},u.prototype.pointFromX=function(d,p){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(p&&!v||!p&&v)&&(m=m.redNeg()),this.point(d,m)},u.prototype.validate=function(d){if(d.inf)return!0;var p=d.x,g=d.y,m=this.a.redMul(p),v=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,p,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,y=0;y<d.length;y++){var x=this._endoSplit(p[y]),w=d[y],_=w._getBeta();x.k1.negative&&(x.k1.ineg(),w=w.neg(!0)),x.k2.negative&&(x.k2.ineg(),_=_.neg(!0)),m[2*y]=w,m[2*y+1]=_,v[2*y]=x.k1,v[2*y+1]=x.k2}for(var M=this._wnafMulAdd(1,m,v,2*y,g),U=0;U<2*y;U++)m[U]=null,v[U]=null;return M},a(h,l.BasePoint),u.prototype.point=function(d,p,g){return new h(this,d,p,g)},u.prototype.pointFromJSON=function(d,p){return h.fromJSON(this,d,p)},h.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};d.beta=p,p.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return p}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(d,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=d.point(p[0],p[1],g);if(!p[2])return m;function v(x){return d.point(x[0],x[1],g)}var y=p[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(v))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var p=this.y.redSub(d.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(d.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(d.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},h.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=d.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),y=v.redSqr().redISub(this.x.redAdd(this.x)),x=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(d){return d=new o(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,p,g){var m=[this,p],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},h.prototype.jmulAdd=function(d,p,g){var m=[this,p],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},h.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},h.prototype.neg=function(d){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(f,l.BasePoint),u.prototype.jpoint=function(d,p,g){return new f(this,d,p,g)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),p=d.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(d);return this.curve.point(g,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var p=d.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),v=d.x.redMul(g),y=this.y.redMul(p.redMul(d.z)),x=d.y.redMul(g.redMul(this.z)),w=m.redSub(v),_=y.redSub(x);if(w.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=w.redSqr(),U=M.redMul(w),L=m.redMul(M),O=_.redSqr().redIAdd(U).redISub(L).redISub(L),H=_.redMul(L.redISub(O)).redISub(y.redMul(U)),G=this.z.redMul(d.z).redMul(w);return this.curve.jpoint(O,H,G)},f.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=d.x.redMul(p),v=this.y,y=d.y.redMul(p).redMul(this.z),x=g.redSub(m),w=v.redSub(y);if(x.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=x.redSqr(),M=_.redMul(x),U=g.redMul(_),L=w.redSqr().redIAdd(M).redISub(U).redISub(U),O=w.redMul(U.redISub(L)).redISub(v.redMul(M)),H=this.z.redMul(x);return this.curve.jpoint(L,O,H)},f.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<d;p++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,y=this.x,x=this.y,w=this.z,_=w.redSqr().redSqr(),M=x.redAdd(x);for(p=0;p<d;p++){var U=y.redSqr(),L=M.redSqr(),O=L.redSqr(),H=U.redAdd(U).redIAdd(U).redIAdd(m.redMul(_)),G=y.redMul(L),I=H.redSqr().redISub(G.redAdd(G)),R=G.redISub(I),S=H.redMul(R);S=S.redIAdd(S).redISub(O);var j=M.redMul(w);p+1<d&&(_=_.redMul(O)),y=I,w=j,M=S}return this.curve.jpoint(y,M.redMul(v),w)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(y);x=x.redIAdd(x);var w=m.redAdd(m).redIAdd(m),_=w.redSqr().redISub(x).redISub(x),M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),d=_,p=w.redMul(x.redISub(_)).redISub(M),g=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),L=this.y.redSqr(),O=L.redSqr(),H=this.x.redAdd(L).redSqr().redISub(U).redISub(O);H=H.redIAdd(H);var G=U.redAdd(U).redIAdd(U),I=G.redSqr(),R=O.redIAdd(O);R=(R=R.redIAdd(R)).redIAdd(R),d=I.redISub(H).redISub(H),p=G.redMul(H.redISub(d)).redISub(R),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(d,p,g)},f.prototype._threeDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(y);x=x.redIAdd(x);var w=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),_=w.redSqr().redISub(x).redISub(x);d=_;var M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),p=w.redMul(x.redISub(_)).redISub(M),g=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),L=this.y.redSqr(),O=this.x.redMul(L),H=this.x.redSub(U).redMul(this.x.redAdd(U));H=H.redAdd(H).redIAdd(H);var G=O.redIAdd(O),I=(G=G.redIAdd(G)).redAdd(G);d=H.redSqr().redISub(I),g=this.y.redAdd(this.z).redSqr().redISub(L).redISub(U);var R=L.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),p=H.redMul(G.redISub(d)).redISub(R)}return this.curve.jpoint(d,p,g)},f.prototype._dbl=function(){var d=this.curve.a,p=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),y=p.redSqr(),x=g.redSqr(),w=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(v)),_=p.redAdd(p),M=(_=_.redIAdd(_)).redMul(x),U=w.redSqr().redISub(M.redAdd(M)),L=M.redISub(U),O=x.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var H=w.redMul(L).redISub(O),G=g.redAdd(g).redMul(m);return this.curve.jpoint(U,H,G)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),v=d.redAdd(d).redIAdd(d),y=v.redSqr(),x=this.x.redAdd(p).redSqr().redISub(d).redISub(m),w=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(y)).redSqr(),_=m.redIAdd(m);_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var M=v.redIAdd(x).redSqr().redISub(y).redISub(w).redISub(_),U=p.redMul(M);U=(U=U.redIAdd(U)).redIAdd(U);var L=this.x.redMul(w).redISub(U);L=(L=L.redIAdd(L)).redIAdd(L);var O=this.y.redMul(M.redMul(_.redISub(M)).redISub(x.redMul(w)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var H=this.z.redAdd(x).redSqr().redISub(g).redISub(w);return this.curve.jpoint(L,O,H)},f.prototype.mul=function(d,p){return d=new o(d,p),this.curve._wnafMul(this,d)},f.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var p=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),v=g.redMul(d.z);return this.y.redMul(v).redISub(d.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(d){var p=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=d.clone(),v=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var s,o=i,a=r("hash.js"),l=r("./curve"),c=r("./utils").assert;function u(f){f.type==="short"?this.curve=new l.short(f):f.type==="edwards"?this.curve=new l.edwards(f):this.curve=new l.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(f,d){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var p=new u(d);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:p}),p}})}o.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=r("./precomputed/secp256k1")}catch{s=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var s=r("bn.js"),o=r("hmac-drbg"),a=r("../utils"),l=r("../curves"),c=r("brorand"),u=a.assert,h=r("./key"),f=r("./signature");function d(p){if(!(this instanceof d))return new d(p);typeof p=="string"&&(u(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}n.exports=d,d.prototype.keyPair=function(p){return new h(this,p)},d.prototype.keyFromPrivate=function(p,g){return h.fromPrivate(this,p,g)},d.prototype.keyFromPublic=function(p,g){return h.fromPublic(this,p,g)},d.prototype.genKeyPair=function(p){p||(p={});for(var g=new o({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||c(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new s(2));;){var y=new s(g.generate(m));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},d.prototype.sign=function(p,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new s(p,16));for(var y=this.n.byteLength(),x=g.getPrivate().toArray("be",y),w=p.toArray("be",y),_=new o({hash:this.hash,entropy:x,nonce:w,pers:v.pers,persEnc:v.persEnc||"utf8"}),M=this.n.sub(new s(1)),U=0;;U++){var L=v.k?v.k(U):new s(_.generate(this.n.byteLength()));if(!((L=this._truncateToN(L,!0)).cmpn(1)<=0||L.cmp(M)>=0)){var O=this.g.mul(L);if(!O.isInfinity()){var H=O.getX(),G=H.umod(this.n);if(G.cmpn(0)!==0){var I=L.invm(this.n).mul(G.mul(g.getPrivate()).iadd(p));if((I=I.umod(this.n)).cmpn(0)!==0){var R=(O.getY().isOdd()?1:0)|(H.cmp(G)!==0?2:0);return v.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),R^=1),new f({r:G,s:I,recoveryParam:R})}}}}}},d.prototype.verify=function(p,g,m,v){p=this._truncateToN(new s(p,16)),m=this.keyFromPublic(m,v);var y=(g=new f(g,"hex")).r,x=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var w,_=x.invm(this.n),M=_.mul(p).umod(this.n),U=_.mul(y).umod(this.n);return this.curve._maxwellTrick?!(w=this.g.jmulAdd(M,m.getPublic(),U)).isInfinity()&&w.eqXToP(y):!(w=this.g.mulAdd(M,m.getPublic(),U)).isInfinity()&&w.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(p,g,m,v){u((3&m)===m,"The recovery param is more than two bits"),g=new f(g,v);var y=this.n,x=new s(p),w=g.r,_=g.s,M=1&m,U=m>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&U)throw new Error("Unable to find sencond key candinate");w=U?this.curve.pointFromX(w.add(this.curve.n),M):this.curve.pointFromX(w,M);var L=g.r.invm(y),O=y.sub(x).mul(L).umod(y),H=_.mul(L).umod(y);return this.g.mulAdd(O,w,H)},d.prototype.getKeyRecoveryParam=function(p,g,m,v){if((g=new f(g,v)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var x;try{x=this.recoverPubKey(p,g,y)}catch{continue}if(x.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var s=r("bn.js"),o=r("../utils").assert;function a(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=a,a.fromPublic=function(l,c,u){return c instanceof a?c:new a(l,{pub:c,pubEnc:u})},a.fromPrivate=function(l,c,u){return c instanceof a?c:new a(l,{priv:c,privEnc:u})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,c){this.priv=new s(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},a.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},a.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert;function l(d,p){if(d instanceof l)return d;this._importDER(d,p)||(a(d.r&&d.s,"Signature without r or s"),this.r=new s(d.r,16),this.s=new s(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function c(){this.place=0}function u(d,p){var g=d[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,y=0,x=p.place;y<m;y++,x++)v<<=8,v|=d[x],v>>>=0;return!(v<=127)&&(p.place=x,v)}function h(d){for(var p=0,g=d.length-1;!d[p]&&!(128&d[p+1])&&p<g;)p++;return p===0?d:d.slice(p)}function f(d,p){if(p<128)d.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(d.push(128|g);--g;)d.push(p>>>(g<<3)&255);d.push(p)}}n.exports=l,l.prototype._importDER=function(d,p){d=o.toArray(d,p);var g=new c;if(d[g.place++]!==48)return!1;var m=u(d,g);if(m===!1||m+g.place!==d.length||d[g.place++]!==2)return!1;var v=u(d,g);if(v===!1)return!1;var y=d.slice(g.place,v+g.place);if(g.place+=v,d[g.place++]!==2)return!1;var x=u(d,g);if(x===!1||d.length!==x+g.place)return!1;var w=d.slice(g.place,x+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(w[0]===0){if(!(128&w[1]))return!1;w=w.slice(1)}return this.r=new s(y),this.s=new s(w),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=h(p),g=h(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];f(m,p.length),(m=m.concat(p)).push(2),f(m,g.length);var v=m.concat(g),y=[48];return f(y,v.length),y=y.concat(v),o.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var s=r("hash.js"),o=r("../curves"),a=r("../utils"),l=a.assert,c=a.parseBytes,u=r("./key"),h=r("./signature");function f(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(d);d=o[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=s.sha512}n.exports=f,f.prototype.sign=function(d,p){d=c(d);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),d),v=this.g.mul(m),y=this.encodePoint(v),x=this.hashInt(y,g.pubBytes(),d).mul(g.priv()),w=m.add(x).umod(this.curve.n);return this.makeSignature({R:v,S:w,Rencoded:y})},f.prototype.verify=function(d,p,g){d=c(d),p=this.makeSignature(p);var m=this.keyFromPublic(g),v=this.hashInt(p.Rencoded(),m.pubBytes(),d),y=this.g.mul(p.S());return p.R().add(m.pub().mul(v)).eq(y)},f.prototype.hashInt=function(){for(var d=this.hash(),p=0;p<arguments.length;p++)d.update(arguments[p]);return a.intFromLE(d.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},f.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},f.prototype.makeSignature=function(d){return d instanceof h?d:new h(this,d)},f.prototype.encodePoint=function(d){var p=d.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=d.getX().isOdd()?128:0,p},f.prototype.decodePoint=function(d){var p=(d=a.parseBytes(d)).length-1,g=d.slice(0,p).concat(-129&d[p]),m=(128&d[p])!=0,v=a.intFromLE(g);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(d){return a.intFromLE(d)},f.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var s=r("../utils"),o=s.assert,a=s.parseBytes,l=s.cachedProperty;function c(u,h){this.eddsa=u,this._secret=a(h.secret),u.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=a(h.pub)}c.fromPublic=function(u,h){return h instanceof c?h:new c(u,{pub:h})},c.fromSecret=function(u,h){return h instanceof c?h:new c(u,{secret:h})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,h=this.hash(),f=u.encodingLength-1,d=h.slice(0,u.encodingLength);return d[0]&=248,d[f]&=127,d[f]|=64,d}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,h){return this.eddsa.verify(u,h,this)},c.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},c.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert,l=o.cachedProperty,c=o.parseBytes;function u(h,f){this.eddsa=h,typeof f!="object"&&(f=c(f)),Array.isArray(f)&&(f={R:f.slice(0,h.encodingLength),S:f.slice(h.encodingLength)}),a(f.R&&f.S,"Signature without R or S"),h.isPoint(f.R)&&(this._R=f.R),f.S instanceof s&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var s=i,o=r("bn.js"),a=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");s.assert=a,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(c,u,h){var f=new Array(Math.max(c.bitLength(),h)+1);f.fill(0);for(var d=1<<u+1,p=c.clone(),g=0;g<f.length;g++){var m,v=p.andln(d-1);p.isOdd()?(m=v>(d>>1)-1?(d>>1)-v:v,p.isubn(m)):m=0,f[g]=m,p.iushrn(1)}return f},s.getJSF=function(c,u){var h=[[],[]];c=c.clone(),u=u.clone();for(var f,d=0,p=0;c.cmpn(-d)>0||u.cmpn(-p)>0;){var g,m,v=c.andln(3)+d&3,y=u.andln(3)+p&3;v===3&&(v=-1),y===3&&(y=-1),g=1&v?(f=c.andln(7)+d&7)!==3&&f!==5||y!==2?v:-v:0,h[0].push(g),m=1&y?(f=u.andln(7)+p&7)!==3&&f!==5||v!==2?y:-y:0,h[1].push(m),2*d===g+1&&(d=1-d),2*p===m+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return h},s.cachedProperty=function(c,u,h){var f="_"+u;c.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new o(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var s=Object.create||function(L){var O=function(){};return O.prototype=L,new O},o=Object.keys||function(L){var O=[];for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&O.push(H);return H},a=Function.prototype.bind||function(L){var O=this;return function(){return O.apply(L,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),c=h.x===0}catch{c=!1}function f(L){return L._maxListeners===void 0?l.defaultMaxListeners:L._maxListeners}function d(L,O,H){if(O)L.call(H);else for(var G=L.length,I=U(L,G),R=0;R<G;++R)I[R].call(H)}function p(L,O,H,G){if(O)L.call(H,G);else for(var I=L.length,R=U(L,I),S=0;S<I;++S)R[S].call(H,G)}function g(L,O,H,G,I){if(O)L.call(H,G,I);else for(var R=L.length,S=U(L,R),j=0;j<R;++j)S[j].call(H,G,I)}function m(L,O,H,G,I,R){if(O)L.call(H,G,I,R);else for(var S=L.length,j=U(L,S),k=0;k<S;++k)j[k].call(H,G,I,R)}function v(L,O,H,G){if(O)L.apply(H,G);else for(var I=L.length,R=U(L,I),S=0;S<I;++S)R[S].apply(H,G)}function y(L,O,H,G){var I,R,S;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((R=L._events)?(R.newListener&&(L.emit("newListener",O,H.listener?H.listener:H),R=L._events),S=R[O]):(R=L._events=s(null),L._eventsCount=0),S){if(typeof S=="function"?S=R[O]=G?[H,S]:[S,H]:G?S.unshift(H):S.push(H),!S.warned&&(I=f(L))&&I>0&&S.length>I){S.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');j.name="MaxListenersExceededWarning",j.emitter=L,j.type=O,j.count=S.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",j.name,j.message)}}else S=R[O]=H,++L._eventsCount;return L}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var L=new Array(arguments.length),O=0;O<L.length;++O)L[O]=arguments[O];this.listener.apply(this.target,L)}}function w(L,O,H){var G={fired:!1,wrapFn:void 0,target:L,type:O,listener:H},I=a.call(x,G);return I.listener=H,G.wrapFn=I,I}function _(L,O,H){var G=L._events;if(!G)return[];var I=G[O];return I?typeof I=="function"?H?[I.listener||I]:[I]:H?function(R){for(var S=new Array(R.length),j=0;j<S.length;++j)S[j]=R[j].listener||R[j];return S}(I):U(I,I.length):[]}function M(L){var O=this._events;if(O){var H=O[L];if(typeof H=="function")return 1;if(H)return H.length}return 0}function U(L,O){for(var H=new Array(O),G=0;G<O;++G)H[G]=L[G];return H}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(L){if(typeof L!="number"||L<0||L!=L)throw new TypeError('"defaultMaxListeners" must be a positive number');u=L}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||isNaN(L))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=L,this},l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(L){var O,H,G,I,R,S,j=L==="error";if(S=this._events)j=j&&S.error==null;else if(!j)return!1;if(j){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var k=new Error('Unhandled "error" event. ('+O+")");throw k.context=O,k}if(!(H=S[L]))return!1;var E=typeof H=="function";switch(G=arguments.length){case 1:d(H,E,this);break;case 2:p(H,E,this,arguments[1]);break;case 3:g(H,E,this,arguments[1],arguments[2]);break;case 4:m(H,E,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(G-1),R=1;R<G;R++)I[R-1]=arguments[R];v(H,E,this,I)}return!0},l.prototype.addListener=function(L,O){return y(this,L,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(L,O){return y(this,L,O,!0)},l.prototype.once=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(L,w(this,L,O)),this},l.prototype.prependOnceListener=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(L,w(this,L,O)),this},l.prototype.removeListener=function(L,O){var H,G,I,R,S;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(H=G[L]))return this;if(H===O||H.listener===O)--this._eventsCount==0?this._events=s(null):(delete G[L],G.removeListener&&this.emit("removeListener",L,H.listener||O));else if(typeof H!="function"){for(I=-1,R=H.length-1;R>=0;R--)if(H[R]===O||H[R].listener===O){S=H[R].listener,I=R;break}if(I<0)return this;I===0?H.shift():function(j,k){for(var E=k,A=E+1,C=j.length;A<C;E+=1,A+=1)j[E]=j[A];j.pop()}(H,I),H.length===1&&(G[L]=H[0]),G.removeListener&&this.emit("removeListener",L,S||O)}return this},l.prototype.removeAllListeners=function(L){var O,H,G;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):H[L]&&(--this._eventsCount==0?this._events=s(null):delete H[L]),this;if(arguments.length===0){var I,R=o(H);for(G=0;G<R.length;++G)(I=R[G])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(O=H[L])=="function")this.removeListener(L,O);else if(O)for(G=O.length-1;G>=0;G--)this.removeListener(L,O[G]);return this},l.prototype.listeners=function(L){return _(this,L,!0)},l.prototype.rawListeners=function(L){return _(this,L,!1)},l.listenerCount=function(L,O){return typeof L.listenerCount=="function"?L.listenerCount(O):M.call(L,O)},l.prototype.listenerCount=M,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("md5.js");n.exports=function(a,l,c,u){if(s.isBuffer(a)||(a=s.from(a,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,f=s.alloc(h),d=s.alloc(u||0),p=s.alloc(0);h>0||u>0;){var g=new o;g.update(p),g.update(a),l&&g.update(l),p=g.digest();var m=0;if(h>0){var v=f.length-h;m=Math.min(h,p.length),p.copy(f,v,0,m),h-=m}if(m<p.length&&u>0){var y=d.length-u,x=Math.min(u,p.length-m);p.copy(d,y,m,m+x),u-=x}}return p.fill(0),{key:f,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function a(l){o.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,o),a.prototype._transform=function(l,c,u){var h=null;try{this.update(l,c)}catch(f){h=f}u(h)},a.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},a.prototype.update=function(l,c){if(function(g,m){if(!s.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,c));for(var u=this._block,h=0;this._blockOffset+l.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f++]=l[h++];this._update(),this._blockOffset=0}for(;h<l.length;)u[this._blockOffset++]=l[h++];for(var d=0,p=8*l.length;p>0;++d)this._length[d]+=p,(p=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*p);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var s=i;s.utils=r("./hash/utils"),s.common=r("./hash/common"),s.sha=r("./hash/sha"),s.ripemd=r("./hash/ripemd"),s.hmac=r("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=a,a.prototype.update=function(l,c){if(l=s.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var h=0;h<l.length;h+=this._delta32)this._update(l,h,h+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,h=new Array(u+this.padLength);h[0]=128;for(var f=1;f<u;f++)h[f]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)h[f++]=0;h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=l>>>24&255,h[f++]=l>>>16&255,h[f++]=l>>>8&255,h[f++]=255&l}else for(h[f++]=255&l,h[f++]=l>>>8&255,h[f++]=l>>>16&255,h[f++]=l>>>24&255,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,d=8;d<this.padLength;d++)h[f++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(l,c,u){if(!(this instanceof a))return new a(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,u))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,c){return this.inner.update(l,c),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var s=r("./utils"),o=r("./common"),a=s.rotl32,l=s.sum32,c=s.sum32_3,u=s.sum32_4,h=o.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(w,_,M,U){return w<=15?_^M^U:w<=31?_&M|~_&U:w<=47?(_|~M)^U:w<=63?_&U|M&~U:_^(M|~U)}function p(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function g(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}s.inherits(f,h),i.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(w,_){for(var M=this.h[0],U=this.h[1],L=this.h[2],O=this.h[3],H=this.h[4],G=M,I=U,R=L,S=O,j=H,k=0;k<80;k++){var E=l(a(u(M,d(k,U,L,O),w[m[k]+_],p(k)),y[k]),H);M=H,H=O,O=a(L,10),L=U,U=E,E=l(a(u(G,d(79-k,I,R,S),w[v[k]+_],g(k)),x[k]),j),G=j,j=S,S=a(R,10),R=I,I=E}E=c(this.h[1],L,S),this.h[1]=c(this.h[2],O,j),this.h[2]=c(this.h[3],H,G),this.h[3]=c(this.h[4],M,I),this.h[4]=c(this.h[0],U,R),this.h[0]=E},f.prototype._digest=function(w){return w==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=s.rotl32,c=s.sum32,u=s.sum32_5,h=a.ft_1,f=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(p,f),n.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var v=this.W,y=0;y<16;y++)v[y]=g[m+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var x=this.h[0],w=this.h[1],_=this.h[2],M=this.h[3],U=this.h[4];for(y=0;y<v.length;y++){var L=~~(y/20),O=u(l(x,5),h(L,w,_,M),U,v[y],d[L]);U=M,M=_,_=l(w,30),w=x,x=O}this.h[0]=c(this.h[0],x),this.h[1]=c(this.h[1],w),this.h[2]=c(this.h[2],_),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],U)},p.prototype._digest=function(g){return g==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var s=r("../utils"),o=r("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=r("minimalistic-assert"),c=s.sum32,u=s.sum32_4,h=s.sum32_5,f=a.ch32,d=a.maj32,p=a.s0_256,g=a.s1_256,m=a.g0_256,v=a.g1_256,y=o.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}s.inherits(w,y),n.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(_,M){for(var U=this.W,L=0;L<16;L++)U[L]=_[M+L];for(;L<U.length;L++)U[L]=u(v(U[L-2]),U[L-7],m(U[L-15]),U[L-16]);var O=this.h[0],H=this.h[1],G=this.h[2],I=this.h[3],R=this.h[4],S=this.h[5],j=this.h[6],k=this.h[7];for(l(this.k.length===U.length),L=0;L<U.length;L++){var E=h(k,g(R),f(R,S,j),this.k[L],U[L]),A=c(p(O),d(O,H,G));k=j,j=S,S=R,R=c(I,E),I=G,G=H,H=O,O=c(E,A)}this.h[0]=c(this.h[0],O),this.h[1]=c(this.h[1],H),this.h[2]=c(this.h[2],G),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],R),this.h[5]=c(this.h[5],S),this.h[6]=c(this.h[6],j),this.h[7]=c(this.h[7],k)},w.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var s=r("../utils"),o=r("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("minimalistic-assert"),l=s.rotr64_hi,c=s.rotr64_lo,u=s.shr64_hi,h=s.shr64_lo,f=s.sum64,d=s.sum64_hi,p=s.sum64_lo,g=s.sum64_4_hi,m=s.sum64_4_lo,v=s.sum64_5_hi,y=s.sum64_5_lo,x=o.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}function M(A,C,D,z,P){var K=A&D^~A&P;return K<0&&(K+=4294967296),K}function U(A,C,D,z,P,K){var Z=C&z^~C&K;return Z<0&&(Z+=4294967296),Z}function L(A,C,D,z,P){var K=A&D^A&P^D&P;return K<0&&(K+=4294967296),K}function O(A,C,D,z,P,K){var Z=C&z^C&K^z&K;return Z<0&&(Z+=4294967296),Z}function H(A,C){var D=l(A,C,28)^l(C,A,2)^l(C,A,7);return D<0&&(D+=4294967296),D}function G(A,C){var D=c(A,C,28)^c(C,A,2)^c(C,A,7);return D<0&&(D+=4294967296),D}function I(A,C){var D=l(A,C,14)^l(A,C,18)^l(C,A,9);return D<0&&(D+=4294967296),D}function R(A,C){var D=c(A,C,14)^c(A,C,18)^c(C,A,9);return D<0&&(D+=4294967296),D}function S(A,C){var D=l(A,C,1)^l(A,C,8)^u(A,C,7);return D<0&&(D+=4294967296),D}function j(A,C){var D=c(A,C,1)^c(A,C,8)^h(A,C,7);return D<0&&(D+=4294967296),D}function k(A,C){var D=l(A,C,19)^l(C,A,29)^u(A,C,6);return D<0&&(D+=4294967296),D}function E(A,C){var D=c(A,C,19)^c(C,A,29)^h(A,C,6);return D<0&&(D+=4294967296),D}s.inherits(_,x),n.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(A,C){for(var D=this.W,z=0;z<32;z++)D[z]=A[C+z];for(;z<D.length;z+=2){var P=k(D[z-4],D[z-3]),K=E(D[z-4],D[z-3]),Z=D[z-14],te=D[z-13],q=S(D[z-30],D[z-29]),$=j(D[z-30],D[z-29]),N=D[z-32],T=D[z-31];D[z]=g(P,K,Z,te,q,$,N,T),D[z+1]=m(P,K,Z,te,q,$,N,T)}},_.prototype._update=function(A,C){this._prepareBlock(A,C);var D=this.W,z=this.h[0],P=this.h[1],K=this.h[2],Z=this.h[3],te=this.h[4],q=this.h[5],$=this.h[6],N=this.h[7],T=this.h[8],V=this.h[9],J=this.h[10],re=this.h[11],se=this.h[12],B=this.h[13],ne=this.h[14],ee=this.h[15];a(this.k.length===D.length);for(var F=0;F<D.length;F+=2){var W=ne,Y=ee,ae=I(T,V),ce=R(T,V),le=M(T,V,J,re,se),de=U(T,V,J,re,se,B),me=this.k[F],ge=this.k[F+1],ke=D[F],Re=D[F+1],je=v(W,Y,ae,ce,le,de,me,ge,ke,Re),qe=y(W,Y,ae,ce,le,de,me,ge,ke,Re);W=H(z,P),Y=G(z,P),ae=L(z,P,K,Z,te),ce=O(z,P,K,Z,te,q);var Je=d(W,Y,ae,ce),Ve=p(W,Y,ae,ce);ne=se,ee=B,se=J,B=re,J=T,re=V,T=d($,N,je,qe),V=p(N,N,je,qe),$=te,N=q,te=K,q=Z,K=z,Z=P,z=d(je,qe,Je,Ve),P=p(je,qe,Je,Ve)}f(this.h,0,z,P),f(this.h,2,K,Z),f(this.h,4,te,q),f(this.h,6,$,N),f(this.h,8,T,V),f(this.h,10,J,re),f(this.h,12,se,B),f(this.h,14,ne,ee)},_.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var s=r("../utils").rotr32;function o(c,u,h){return c&u^~c&h}function a(c,u,h){return c&u^c&h^u&h}function l(c,u,h){return c^u^h}i.ft_1=function(c,u,h,f){return c===0?o(u,h,f):c===1||c===3?l(u,h,f):c===2?a(u,h,f):void 0},i.ch32=o,i.maj32=a,i.p32=l,i.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},i.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},i.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},i.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},{"../utils":437}],437:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits");function a(h,f){return(64512&h.charCodeAt(f))==55296&&!(f<0||f+1>=h.length)&&(64512&h.charCodeAt(f+1))==56320}function l(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function c(h){return h.length===1?"0"+h:h}function u(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}i.inherits=o,i.toArray=function(h,f){if(Array.isArray(h))return h.slice();if(!h)return[];var d=[];if(typeof h=="string")if(f){if(f==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),g=0;g<h.length;g+=2)d.push(parseInt(h[g]+h[g+1],16))}else for(var p=0,g=0;g<h.length;g++){var m=h.charCodeAt(g);m<128?d[p++]=m:m<2048?(d[p++]=m>>6|192,d[p++]=63&m|128):a(h,g)?(m=65536+((1023&m)<<10)+(1023&h.charCodeAt(++g)),d[p++]=m>>18|240,d[p++]=m>>12&63|128,d[p++]=m>>6&63|128,d[p++]=63&m|128):(d[p++]=m>>12|224,d[p++]=m>>6&63|128,d[p++]=63&m|128)}else for(g=0;g<h.length;g++)d[g]=0|h[g];return d},i.toHex=function(h){for(var f="",d=0;d<h.length;d++)f+=c(h[d].toString(16));return f},i.htonl=l,i.toHex32=function(h,f){for(var d="",p=0;p<h.length;p++){var g=h[p];f==="little"&&(g=l(g)),d+=u(g.toString(16))}return d},i.zero2=c,i.zero8=u,i.join32=function(h,f,d,p){var g=d-f;s(g%4==0);for(var m=new Array(g/4),v=0,y=f;v<m.length;v++,y+=4){var x;x=p==="big"?h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3]:h[y+3]<<24|h[y+2]<<16|h[y+1]<<8|h[y],m[v]=x>>>0}return m},i.split32=function(h,f){for(var d=new Array(4*h.length),p=0,g=0;p<h.length;p++,g+=4){var m=h[p];f==="big"?(d[g]=m>>>24,d[g+1]=m>>>16&255,d[g+2]=m>>>8&255,d[g+3]=255&m):(d[g+3]=m>>>24,d[g+2]=m>>>16&255,d[g+1]=m>>>8&255,d[g]=255&m)}return d},i.rotr32=function(h,f){return h>>>f|h<<32-f},i.rotl32=function(h,f){return h<<f|h>>>32-f},i.sum32=function(h,f){return h+f>>>0},i.sum32_3=function(h,f,d){return h+f+d>>>0},i.sum32_4=function(h,f,d,p){return h+f+d+p>>>0},i.sum32_5=function(h,f,d,p,g){return h+f+d+p+g>>>0},i.sum64=function(h,f,d,p){var g=h[f],m=p+h[f+1]>>>0,v=(m<p?1:0)+d+g;h[f]=v>>>0,h[f+1]=m},i.sum64_hi=function(h,f,d,p){return(f+p>>>0<f?1:0)+h+d>>>0},i.sum64_lo=function(h,f,d,p){return f+p>>>0},i.sum64_4_hi=function(h,f,d,p,g,m,v,y){var x=0,w=f;return x+=(w=w+p>>>0)<f?1:0,x+=(w=w+m>>>0)<m?1:0,h+d+g+v+(x+=(w=w+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(h,f,d,p,g,m,v,y){return f+p+m+y>>>0},i.sum64_5_hi=function(h,f,d,p,g,m,v,y,x,w){var _=0,M=f;return _+=(M=M+p>>>0)<f?1:0,_+=(M=M+m>>>0)<m?1:0,_+=(M=M+y>>>0)<y?1:0,h+d+g+v+x+(_+=(M=M+w>>>0)<w?1:0)>>>0},i.sum64_5_lo=function(h,f,d,p,g,m,v,y,x,w){return f+p+m+y+w>>>0},i.rotr64_hi=function(h,f,d){return(f<<32-d|h>>>d)>>>0},i.rotr64_lo=function(h,f,d){return(h<<32-d|f>>>d)>>>0},i.shr64_hi=function(h,f,d){return h>>>d},i.shr64_lo=function(h,f,d){return(h<<32-d|f>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var s=r("hash.js"),o=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(c.entropy,c.entropyEnc||"hex"),h=o.toArray(c.nonce,c.nonceEnc||"hex"),f=o.toArray(c.pers,c.persEnc||"hex");a(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,h,f)}n.exports=l,l.prototype._init=function(c,u,h){var f=c.concat(u).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,h,f){typeof u!="string"&&(f=h,h=u,u=null),c=o.toArray(c,u),h=o.toArray(h,f),a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},l.prototype.generate=function(c,u,h,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=h,h=u,u=null),h&&(h=o.toArray(h,f||"hex"),this._update(h));for(var d=[];d.length<c;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var p=d.slice(0,c);return this._update(h),this._reseed++,o.encode(p,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,a,l,c){var u,h,f=8*c-l-1,d=(1<<f)-1,p=d>>1,g=-7,m=a?c-1:0,v=a?-1:1,y=s[o+m];for(m+=v,u=y&(1<<-g)-1,y>>=-g,g+=f;g>0;u=256*u+s[o+m],m+=v,g-=8);for(h=u&(1<<-g)-1,u>>=-g,g+=l;g>0;h=256*h+s[o+m],m+=v,g-=8);if(u===0)u=1-p;else{if(u===d)return h?NaN:1/0*(y?-1:1);h+=Math.pow(2,l),u-=p}return(y?-1:1)*h*Math.pow(2,u-l)},i.write=function(s,o,a,l,c,u){var h,f,d,p=8*u-c-1,g=(1<<p)-1,m=g>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:u-1,x=l?1:-1,w=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,h=g):(h=Math.floor(Math.log(o)/Math.LN2),o*(d=Math.pow(2,-h))<1&&(h--,d*=2),(o+=h+m>=1?v/d:v*Math.pow(2,1-m))*d>=2&&(h++,d/=2),h+m>=g?(f=0,h=g):h+m>=1?(f=(o*d-1)*Math.pow(2,c),h+=m):(f=o*Math.pow(2,m-1)*Math.pow(2,c),h=0));c>=8;s[a+y]=255&f,y+=x,f/=256,c-=8);for(h=h<<c|f,p+=c;p>0;s[a+y]=255&h,y+=x,h/=256,p-=8);s[a+y-x]|=128*w}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}}},{}],441:[function(r,n,i){(function(s,o,a,l,c,u,h,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(p,g,m){function v(w,_){if(!g[w]){if(!p[w]){var M=typeof r=="function"&&r;if(!_&&M)return M(w,!0);if(y)return y(w,!0);var U=new Error("Cannot find module '"+w+"'");throw U.code="MODULE_NOT_FOUND",U}var L=g[w]={exports:{}};p[w][0].call(L.exports,function(O){return v(p[w][1][O]||O)},L,L.exports,d,p,g,m)}return g[w].exports}for(var y=typeof r=="function"&&r,x=0;x<m.length;x++)v(m[x]);return v}({1:[function(d,p,g){var m=d("./utils"),v=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(x){for(var w,_,M,U,L,O,H,G=[],I=0,R=x.length,S=R,j=m.getTypeOf(x)!=="string";I<x.length;)S=R-I,M=j?(w=x[I++],_=I<R?x[I++]:0,I<R?x[I++]:0):(w=x.charCodeAt(I++),_=I<R?x.charCodeAt(I++):0,I<R?x.charCodeAt(I++):0),U=w>>2,L=(3&w)<<4|_>>4,O=1<S?(15&_)<<2|M>>6:64,H=2<S?63&M:64,G.push(y.charAt(U)+y.charAt(L)+y.charAt(O)+y.charAt(H));return G.join("")},g.decode=function(x){var w,_,M,U,L,O,H=0,G=0,I="data:";if(x.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var R,S=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===y.charAt(64)&&S--,x.charAt(x.length-2)===y.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=v.uint8array?new Uint8Array(0|S):new Array(0|S);H<x.length;)w=y.indexOf(x.charAt(H++))<<2|(U=y.indexOf(x.charAt(H++)))>>4,_=(15&U)<<4|(L=y.indexOf(x.charAt(H++)))>>2,M=(3&L)<<6|(O=y.indexOf(x.charAt(H++))),R[G++]=w,L!==64&&(R[G++]=_),O!==64&&(R[G++]=M);return R}},{"./support":30,"./utils":32}],2:[function(d,p,g){var m=d("./external"),v=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),x=d("./stream/DataLengthProbe");function w(_,M,U,L,O){this.compressedSize=_,this.uncompressedSize=M,this.crc32=U,this.compression=L,this.compressedContent=O}w.prototype={getContentWorker:function(){var _=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),M=this;return _.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(_,M,U){return _.pipe(new y).pipe(new x("uncompressedSize")).pipe(M.compressWorker(U)).pipe(new x("compressedSize")).withStreamInfo("compression",M)},p.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,p,g){var m=d("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,p,g){var m=d("./utils"),v=function(){for(var y,x=[],w=0;w<256;w++){y=w;for(var _=0;_<8;_++)y=1&y?3988292384^y>>>1:y>>>1;x[w]=y}return x}();p.exports=function(y,x){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(w,_,M,U){var L=v,O=0+M;w^=-1;for(var H=0;H<O;H++)w=w>>>8^L[255&(w^_[H])];return-1^w}(0|x,y,y.length):function(w,_,M,U){var L=v,O=0+M;w^=-1;for(var H=0;H<O;H++)w=w>>>8^L[255&(w^_.charCodeAt(H))];return-1^w}(0|x,y,y.length):0}},{"./utils":32}],5:[function(d,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(d,p,g){var m;m=typeof Promise<"u"?Promise:d("lie"),p.exports={Promise:m}},{lie:37}],7:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=d("pako"),y=d("./utils"),x=d("./stream/GenericWorker"),w=m?"uint8array":"array";function _(M,U){x.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=U,this.meta={}}g.magic="\b\0",y.inherits(_,x),_.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(w,M.data),!1)},_.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(U){M.push({data:U,meta:M.meta})}},g.compressWorker=function(M){return new _("Deflate",M)},g.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,p,g){function m(L,O){var H,G="";for(H=0;H<O;H++)G+=String.fromCharCode(255&L),L>>>=8;return G}function v(L,O,H,G,I,R){var S,j,k=L.file,E=L.compression,A=R!==w.utf8encode,C=y.transformTo("string",R(k.name)),D=y.transformTo("string",w.utf8encode(k.name)),z=k.comment,P=y.transformTo("string",R(z)),K=y.transformTo("string",w.utf8encode(z)),Z=D.length!==k.name.length,te=K.length!==z.length,q="",$="",N="",T=k.dir,V=k.date,J={crc32:0,compressedSize:0,uncompressedSize:0};O&&!H||(J.crc32=L.crc32,J.compressedSize=L.compressedSize,J.uncompressedSize=L.uncompressedSize);var re=0;O&&(re|=8),A||!Z&&!te||(re|=2048);var se=0,B=0;T&&(se|=16),I==="UNIX"?(B=798,se|=function(ee,F){var W=ee;return ee||(W=F?16893:33204),(65535&W)<<16}(k.unixPermissions,T)):(B=20,se|=function(ee){return 63&(ee||0)}(k.dosPermissions)),S=V.getUTCHours(),S<<=6,S|=V.getUTCMinutes(),S<<=5,S|=V.getUTCSeconds()/2,j=V.getUTCFullYear()-1980,j<<=4,j|=V.getUTCMonth()+1,j<<=5,j|=V.getUTCDate(),Z&&($=m(1,1)+m(_(C),4)+D,q+="up"+m($.length,2)+$),te&&(N=m(1,1)+m(_(P),4)+K,q+="uc"+m(N.length,2)+N);var ne="";return ne+=`
\0`,ne+=m(re,2),ne+=E.magic,ne+=m(S,2),ne+=m(j,2),ne+=m(J.crc32,4),ne+=m(J.compressedSize,4),ne+=m(J.uncompressedSize,4),ne+=m(C.length,2),ne+=m(q.length,2),{fileRecord:M.LOCAL_FILE_HEADER+ne+C+q,dirRecord:M.CENTRAL_FILE_HEADER+m(B,2)+ne+m(P.length,2)+"\0\0\0\0"+m(se,4)+m(G,4)+C+q+P}}var y=d("../utils"),x=d("../stream/GenericWorker"),w=d("../utf8"),_=d("../crc32"),M=d("../signature");function U(L,O,H,G){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=H,this.encodeFileName=G,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(U,x),U.prototype.push=function(L){var O=L.meta.percent||0,H=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,x.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:H?(O+100*(H-G-1))/H:100}}))},U.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var O=this.streamFiles&&!L.file.dir;if(O){var H=v(L,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},U.prototype.closedSource=function(L){this.accumulate=!1;var O=this.streamFiles&&!L.file.dir,H=v(L,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),O)this.push({data:function(G){return M.DATA_DESCRIPTOR+m(G.crc32,4)+m(G.compressedSize,4)+m(G.uncompressedSize,4)}(L),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},U.prototype.flush=function(){for(var L=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var H=this.bytesWritten-L,G=function(I,R,S,j,k){var E=y.transformTo("string",k(j));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(I,2)+m(I,2)+m(R,4)+m(S,4)+m(E.length,2)+E}(this.dirRecords.length,H,L,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},U.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},U.prototype.registerPrevious=function(L){this._sources.push(L);var O=this;return L.on("data",function(H){O.processChunk(H)}),L.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),L.on("error",function(H){O.error(H)}),this},U.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},U.prototype.error=function(L){var O=this._sources;if(!x.prototype.error.call(this,L))return!1;for(var H=0;H<O.length;H++)try{O[H].error(L)}catch{}return!0},U.prototype.lock=function(){x.prototype.lock.call(this);for(var L=this._sources,O=0;O<L.length;O++)L[O].lock()},p.exports=U},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,p,g){var m=d("../compressions"),v=d("./ZipFileWorker");g.generateWorker=function(y,x,w){var _=new v(x.streamFiles,w,x.platform,x.encodeFileName),M=0;try{y.forEach(function(U,L){M++;var O=function(R,S){var j=R||S,k=m[j];if(!k)throw new Error(j+" is not a valid compression method !");return k}(L.options.compression,x.compression),H=L.options.compressionOptions||x.compressionOptions||{},G=L.dir,I=L.date;L._compressWorker(O,H).withStreamInfo("file",{name:U,dir:G,date:I,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(_)}),_.entriesCount=M}catch(U){_.error(U)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(v,y){return new m().loadAsync(v,y)},m.external=d("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,p,g){var m=d("./utils"),v=d("./external"),y=d("./utf8"),x=d("./zipEntries"),w=d("./stream/Crc32Probe"),_=d("./nodejsUtils");function M(U){return new v.Promise(function(L,O){var H=U.decompressed.getContentWorker().pipe(new w);H.on("error",function(G){O(G)}).on("end",function(){H.streamInfo.crc32!==U.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}p.exports=function(U,L){var O=this;return L=m.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),_.isNode&&_.isStream(U)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",U,!0,L.optimizedBinaryString,L.base64).then(function(H){var G=new x(L);return G.load(H),G}).then(function(H){var G=[v.Promise.resolve(H)],I=H.files;if(L.checkCRC32)for(var R=0;R<I.length;R++)G.push(M(I[R]));return v.Promise.all(G)}).then(function(H){for(var G=H.shift(),I=G.files,R=0;R<I.length;R++){var S=I[R],j=S.fileNameStr,k=m.resolve(S.fileNameStr);O.file(k,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:L.createFolders}),S.dir||(O.file(k).unsafeOriginalName=j)}return G.zipComment.length&&(O.comment=G.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,p,g){var m=d("../utils"),v=d("../stream/GenericWorker");function y(x,w){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(w)}m.inherits(y,v),y.prototype._bindStream=function(x){var w=this;(this._stream=x).pause(),x.on("data",function(_){w.push({data:_,meta:{percent:0}})}).on("error",function(_){w.isPaused?this.generatedError=_:w.error(_)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,p,g){var m=d("readable-stream").Readable;function v(y,x,w){m.call(this,x),this._helper=y;var _=this;y.on("data",function(M,U){_.push(M)||_._helper.pause(),w&&w(U)}).on("error",function(M){_.emit("error",M)}).on("end",function(){_.push(null)})}d("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},p.exports=v},{"../utils":32,"readable-stream":16}],14:[function(d,p,g){p.exports={isNode:a!==void 0,newBufferFrom:function(m,v){if(a.from&&a.from!==Uint8Array.from)return a.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new a(m,v)},allocBuffer:function(m){if(a.alloc)return a.alloc(m);var v=new a(m);return v.fill(0),v},isBuffer:function(m){return a.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,p,g){function m(k,E,A){var C,D=y.getTypeOf(E),z=y.extend(A||{},_);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(k=I(k)),z.createFolders&&(C=G(k))&&R.call(this,C,!0);var P=D==="string"&&z.binary===!1&&z.base64===!1;A&&A.binary!==void 0||(z.binary=!P),(E instanceof M&&E.uncompressedSize===0||z.dir||!E||E.length===0)&&(z.base64=!1,z.binary=!0,E="",z.compression="STORE",D="string");var K;K=E instanceof M||E instanceof x?E:O.isNode&&O.isStream(E)?new H(k,E):y.prepareContent(k,E,z.binary,z.optimizedBinaryString,z.base64);var Z=new U(k,K,z);this.files[k]=Z}var v=d("./utf8"),y=d("./utils"),x=d("./stream/GenericWorker"),w=d("./stream/StreamHelper"),_=d("./defaults"),M=d("./compressedObject"),U=d("./zipObject"),L=d("./generate"),O=d("./nodejsUtils"),H=d("./nodejs/NodejsStreamInputAdapter"),G=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var E=k.lastIndexOf("/");return 0<E?k.substring(0,E):""},I=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},R=function(k,E){return E=E!==void 0?E:_.createFolders,k=I(k),this.files[k]||m.call(this,k,null,{dir:!0,createFolders:E}),this.files[k]};function S(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var E,A,C;for(E in this.files)C=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&k(A,C)},filter:function(k){var E=[];return this.forEach(function(A,C){k(A,C)&&E.push(C)}),E},file:function(k,E,A){if(arguments.length!==1)return k=this.root+k,m.call(this,k,E,A),this;if(S(k)){var C=k;return this.filter(function(z,P){return!P.dir&&C.test(z)})}var D=this.files[this.root+k];return D&&!D.dir?D:null},folder:function(k){if(!k)return this;if(S(k))return this.filter(function(D,z){return z.dir&&k.test(D)});var E=this.root+k,A=R.call(this,E),C=this.clone();return C.root=A.name,C},remove:function(k){k=this.root+k;var E=this.files[k];if(E||(k.slice(-1)!=="/"&&(k+="/"),E=this.files[k]),E&&!E.dir)delete this.files[k];else for(var A=this.filter(function(D,z){return z.name.slice(0,k.length)===k}),C=0;C<A.length;C++)delete this.files[A[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var E,A={};try{if((A=y.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");y.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var C=A.comment||this.comment||"";E=L.generateWorker(this,A,C)}catch(D){(E=new x("error")).error(D)}return new w(E,A.type||"string",A.mimeType)},generateAsync:function(k,E){return this.generateInternalStream(k).accumulate(E)},generateNodeStream:function(k,E){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(E)}};p.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,p,g){p.exports=d("stream")},{stream:void 0}],17:[function(d,p,g){var m=d("./DataReader");function v(y){m.call(this,y);for(var x=0;x<this.data.length;x++)y[x]=255&y[x]}d("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var x=y.charCodeAt(0),w=y.charCodeAt(1),_=y.charCodeAt(2),M=y.charCodeAt(3),U=this.length-4;0<=U;--U)if(this.data[U]===x&&this.data[U+1]===w&&this.data[U+2]===_&&this.data[U+3]===M)return U-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var x=y.charCodeAt(0),w=y.charCodeAt(1),_=y.charCodeAt(2),M=y.charCodeAt(3),U=this.readData(4);return x===U[0]&&w===U[1]&&_===U[2]&&M===U[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=v},{"../utils":32,"./DataReader":18}],18:[function(d,p,g){var m=d("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var x,w=0;for(this.checkOffset(y),x=this.index+y-1;x>=this.index;x--)w=(w<<8)+this.byteAt(x);return this.index+=y,w},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},p.exports=v},{"../utils":32}],19:[function(d,p,g){var m=d("./Uint8ArrayReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,p,g){var m=d("./DataReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=v},{"../utils":32,"./DataReader":18}],21:[function(d,p,g){var m=d("./ArrayReader");function v(y){m.call(this,y)}d("../utils").inherits(v,m),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(d,p,g){var m=d("../utils"),v=d("../support"),y=d("./ArrayReader"),x=d("./StringReader"),w=d("./NodeBufferReader"),_=d("./Uint8ArrayReader");p.exports=function(M){var U=m.getTypeOf(M);return m.checkSupport(U),U!=="string"||v.uint8array?U==="nodebuffer"?new w(M):v.uint8array?new _(m.transformTo("uint8array",M)):new y(m.transformTo("array",M)):new x(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,p,g){var m=d("./GenericWorker"),v=d("../utils");function y(x){m.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(y,m),y.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},p.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,p,g){var m=d("./GenericWorker"),v=d("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,m),y.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},p.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,p,g){var m=d("../utils"),v=d("./GenericWorker");function y(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}m.inherits(y,v),y.prototype.processChunk=function(x){if(x){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+x.data.length}v.prototype.processChunk.call(this,x)},p.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,p,g){var m=d("../utils"),v=d("./GenericWorker");function y(x){v.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(_){w.dataIsReady=!0,w.data=_,w.max=_&&_.length||0,w.type=m.getTypeOf(_),w.isPaused||w._tickAndRepeat()},function(_){w.error(_)})}m.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,w);break;case"uint8array":x=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":x=this.data.slice(this.index,w)}return this.index=w,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,p,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(x){y.processChunk(x)}),v.on("end",function(){y.end()}),v.on("error",function(x){y.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},p.exports=m},{}],29:[function(d,p,g){var m=d("../utils"),v=d("./ConvertWorker"),y=d("./GenericWorker"),x=d("../base64"),w=d("../support"),_=d("../external"),M=null;if(w.nodestream)try{M=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function U(L,O,H){var G=O;switch(O){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=O,this._mimeType=H,m.checkSupport(G),this._worker=L.pipe(new v(G)),L.lock()}catch(I){this._worker=new y("error"),this._worker.error(I)}}U.prototype={accumulate:function(L){return function(O,H){return new _.Promise(function(G,I){var R=[],S=O._internalType,j=O._outputType,k=O._mimeType;O.on("data",function(E,A){R.push(E),H&&H(A)}).on("error",function(E){R=[],I(E)}).on("end",function(){try{var E=function(A,C,D){switch(A){case"blob":return m.newBlob(m.transformTo("arraybuffer",C),D);case"base64":return x.encode(C);default:return m.transformTo(A,C)}}(j,function(A,C){var D,z=0,P=null,K=0;for(D=0;D<C.length;D++)K+=C[D].length;switch(A){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(P=new Uint8Array(K),D=0;D<C.length;D++)P.set(C[D],z),z+=C[D].length;return P;case"nodebuffer":return a.concat(C);default:throw new Error("concat : unsupported type '"+A+"'")}}(S,R),k);G(E)}catch(A){I(A)}R=[]}).resume()})}(this,L)},on:function(L,O){var H=this;return L==="data"?this._worker.on(L,function(G){O.call(H,G.data,G.meta)}):this._worker.on(L,function(){m.delay(O,arguments,H)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},L)}},p.exports=U},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=a!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!d("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(d,p,g){for(var m=d("./utils"),v=d("./support"),y=d("./nodejsUtils"),x=d("./stream/GenericWorker"),w=new Array(256),_=0;_<256;_++)w[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function M(){x.call(this,"utf-8 decode"),this.leftOver=null}function U(){x.call(this,"utf-8 encode")}w[254]=w[254]=1,g.utf8encode=function(L){return v.nodebuffer?y.newBufferFrom(L,"utf-8"):function(O){var H,G,I,R,S,j=O.length,k=0;for(R=0;R<j;R++)(64512&(G=O.charCodeAt(R)))==55296&&R+1<j&&(64512&(I=O.charCodeAt(R+1)))==56320&&(G=65536+(G-55296<<10)+(I-56320),R++),k+=G<128?1:G<2048?2:G<65536?3:4;for(H=v.uint8array?new Uint8Array(k):new Array(k),R=S=0;S<k;R++)(64512&(G=O.charCodeAt(R)))==55296&&R+1<j&&(64512&(I=O.charCodeAt(R+1)))==56320&&(G=65536+(G-55296<<10)+(I-56320),R++),G<128?H[S++]=G:(G<2048?H[S++]=192|G>>>6:(G<65536?H[S++]=224|G>>>12:(H[S++]=240|G>>>18,H[S++]=128|G>>>12&63),H[S++]=128|G>>>6&63),H[S++]=128|63&G);return H}(L)},g.utf8decode=function(L){return v.nodebuffer?m.transformTo("nodebuffer",L).toString("utf-8"):function(O){var H,G,I,R,S=O.length,j=new Array(2*S);for(H=G=0;H<S;)if((I=O[H++])<128)j[G++]=I;else if(4<(R=w[I]))j[G++]=65533,H+=R-1;else{for(I&=R===2?31:R===3?15:7;1<R&&H<S;)I=I<<6|63&O[H++],R--;1<R?j[G++]=65533:I<65536?j[G++]=I:(I-=65536,j[G++]=55296|I>>10&1023,j[G++]=56320|1023&I)}return j.length!==G&&(j.subarray?j=j.subarray(0,G):j.length=G),m.applyFromCharCode(j)}(L=m.transformTo(v.uint8array?"uint8array":"array",L))},m.inherits(M,x),M.prototype.processChunk=function(L){var O=m.transformTo(v.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var H=O;(O=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),O.set(H,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var G=function(R,S){var j;for((S=S||R.length)>R.length&&(S=R.length),j=S-1;0<=j&&(192&R[j])==128;)j--;return j<0||j===0?S:j+w[R[j]]>S?j:S}(O),I=O;G!==O.length&&(v.uint8array?(I=O.subarray(0,G),this.leftOver=O.subarray(G,O.length)):(I=O.slice(0,G),this.leftOver=O.slice(G,O.length))),this.push({data:g.utf8decode(I),meta:L.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=M,m.inherits(U,x),U.prototype.processChunk=function(L){this.push({data:g.utf8encode(L.data),meta:L.meta})},g.Utf8EncodeWorker=U},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,p,g){var m=d("./support"),v=d("./base64"),y=d("./nodejsUtils"),x=d("./external");function w(H){return H}function _(H,G){for(var I=0;I<H.length;++I)G[I]=255&H.charCodeAt(I);return G}d("setimmediate"),g.newBlob=function(H,G){g.checkSupport("blob");try{return new Blob([H],{type:G})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(H),I.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(H,G,I){var R=[],S=0,j=H.length;if(j<=I)return String.fromCharCode.apply(null,H);for(;S<j;)G==="array"||G==="nodebuffer"?R.push(String.fromCharCode.apply(null,H.slice(S,Math.min(S+I,j)))):R.push(String.fromCharCode.apply(null,H.subarray(S,Math.min(S+I,j)))),S+=I;return R.join("")},stringifyByChar:function(H){for(var G="",I=0;I<H.length;I++)G+=String.fromCharCode(H[I]);return G},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function U(H){var G=65536,I=g.getTypeOf(H),R=!0;if(I==="uint8array"?R=M.applyCanBeUsed.uint8array:I==="nodebuffer"&&(R=M.applyCanBeUsed.nodebuffer),R)for(;1<G;)try{return M.stringifyByChunk(H,I,G)}catch{G=Math.floor(G/2)}return M.stringifyByChar(H)}function L(H,G){for(var I=0;I<H.length;I++)G[I]=H[I];return G}g.applyFromCharCode=U;var O={};O.string={string:w,array:function(H){return _(H,new Array(H.length))},arraybuffer:function(H){return O.string.uint8array(H).buffer},uint8array:function(H){return _(H,new Uint8Array(H.length))},nodebuffer:function(H){return _(H,y.allocBuffer(H.length))}},O.array={string:U,array:w,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return y.newBufferFrom(H)}},O.arraybuffer={string:function(H){return U(new Uint8Array(H))},array:function(H){return L(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:w,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return y.newBufferFrom(new Uint8Array(H))}},O.uint8array={string:U,array:function(H){return L(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:w,nodebuffer:function(H){return y.newBufferFrom(H)}},O.nodebuffer={string:U,array:function(H){return L(H,new Array(H.length))},arraybuffer:function(H){return O.nodebuffer.uint8array(H).buffer},uint8array:function(H){return L(H,new Uint8Array(H.length))},nodebuffer:w},g.transformTo=function(H,G){if(G=G||"",!H)return G;g.checkSupport(H);var I=g.getTypeOf(G);return O[I][H](G)},g.resolve=function(H){for(var G=H.split("/"),I=[],R=0;R<G.length;R++){var S=G[R];S==="."||S===""&&R!==0&&R!==G.length-1||(S===".."?I.pop():I.push(S))}return I.join("/")},g.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(H)?"nodebuffer":m.uint8array&&H instanceof Uint8Array?"uint8array":m.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(H){if(!m[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(H){var G,I,R="";for(I=0;I<(H||"").length;I++)R+="\\x"+((G=H.charCodeAt(I))<16?"0":"")+G.toString(16).toUpperCase();return R},g.delay=function(H,G,I){f(function(){H.apply(I||null,G||[])})},g.inherits=function(H,G){function I(){}I.prototype=G.prototype,H.prototype=new I},g.extend=function(){var H,G,I={};for(H=0;H<arguments.length;H++)for(G in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],G)&&I[G]===void 0&&(I[G]=arguments[H][G]);return I},g.prepareContent=function(H,G,I,R,S){return x.Promise.resolve(G).then(function(j){return m.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new x.Promise(function(k,E){var A=new FileReader;A.onload=function(C){k(C.target.result)},A.onerror=function(C){E(C.target.error)},A.readAsArrayBuffer(j)}):j}).then(function(j){var k=g.getTypeOf(j);return k?(k==="arraybuffer"?j=g.transformTo("uint8array",j):k==="string"&&(S?j=v.decode(j):I&&R!==!0&&(j=function(E){return _(E,m.uint8array?new Uint8Array(E.length):new Array(E.length))}(j))),j):x.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,p,g){var m=d("./reader/readerFor"),v=d("./utils"),y=d("./signature"),x=d("./zipEntry"),w=d("./support");function _(M){this.files=[],this.loadOptions=M}_.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var U=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(U)+", expected "+v.pretty(M)+")")}},isSignature:function(M,U){var L=this.reader.index;this.reader.setIndex(M);var O=this.reader.readString(4)===U;return this.reader.setIndex(L),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),U=w.uint8array?"uint8array":"array",L=v.transformTo(U,M);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,U,L,O=this.zip64EndOfCentralSize-44;0<O;)M=this.reader.readInt(2),U=this.reader.readInt(4),L=this.reader.readData(U),this.zip64ExtensibleData[M]={id:M,length:U,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,U;for(M=0;M<this.files.length;M++)U=this.files[M],this.reader.setIndex(U.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),U.readLocalPart(this.reader),U.handleUTF8(),U.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(M=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var U=M;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var O=U-L;if(0<O)this.isSignature(U,y.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(M){this.reader=m(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,p,g){var m=d("./reader/readerFor"),v=d("./utils"),y=d("./compressedObject"),x=d("./crc32"),w=d("./utf8"),_=d("./compressions"),M=d("./support");function U(L,O){this.options=L,this.loadOptions=O}U.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var O,H;if(L.skip(22),this.fileNameLength=L.readInt(2),H=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=function(G){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)&&_[I].magic===G)return _[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,O,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var O=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(O),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var O,H,G,I=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<I;)O=L.readInt(2),H=L.readInt(2),G=L.readData(H),this.extraFields[O]={id:O,length:H,value:G};L.setIndex(I)},handleUTF8:function(){var L=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var H=v.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var I=v.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var O=m(L.value);return O.readInt(1)!==1||x(this.fileName)!==O.readInt(4)?null:w.utf8decode(O.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var O=m(L.value);return O.readInt(1)!==1||x(this.fileComment)!==O.readInt(4)?null:w.utf8decode(O.readData(L.length-5))}return null}},p.exports=U},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,p,g){function m(O,H,G){this.name=O,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=H,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var v=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),x=d("./utf8"),w=d("./compressedObject"),_=d("./stream/GenericWorker");m.prototype={internalStream:function(O){var H=null,G="string";try{if(!O)throw new Error("No output type specified.");var I=(G=O.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),H=this._decompressWorker();var R=!this._dataBinary;R&&!I&&(H=H.pipe(new x.Utf8EncodeWorker)),!R&&I&&(H=H.pipe(new x.Utf8DecodeWorker))}catch(S){(H=new _("error")).error(S)}return new v(H,G,"")},async:function(O,H){return this.internalStream(O).accumulate(H)},nodeStream:function(O,H){return this.internalStream(O||"nodebuffer").toNodejsStream(H)},_compressWorker:function(O,H){if(this._data instanceof w&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new x.Utf8EncodeWorker)),w.createWorkerFrom(G,O,H)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof _?this._data:new y(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],U=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<M.length;L++)m.prototype[M[L]]=U;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,p,g){(function(m){var v,y,x=m.MutationObserver||m.WebKitMutationObserver;if(x){var w=0,_=new x(O),M=m.document.createTextNode("");_.observe(M,{characterData:!0}),v=function(){M.data=w=++w%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var H=m.document.createElement("script");H.onreadystatechange=function(){O(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},m.document.documentElement.appendChild(H)}:function(){setTimeout(O,0)};else{var U=new m.MessageChannel;U.port1.onmessage=O,v=function(){U.port2.postMessage(0)}}var L=[];function O(){var H,G;y=!0;for(var I=L.length;I;){for(G=L,L=[],H=-1;++H<I;)G[H]();I=L.length}y=!1}p.exports=function(H){L.push(H)!==1||y||v()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,p,g){var m=d("immediate");function v(){}var y={},x=["REJECTED"],w=["FULFILLED"],_=["PENDING"];function M(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,I!==v&&H(this,I)}function U(I,R,S){this.promise=I,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function L(I,R,S){m(function(){var j;try{j=R(S)}catch(k){return y.reject(I,k)}j===I?y.reject(I,new TypeError("Cannot resolve promise with itself")):y.resolve(I,j)})}function O(I){var R=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof R=="function")return function(){R.apply(I,arguments)}}function H(I,R){var S=!1;function j(A){S||(S=!0,y.reject(I,A))}function k(A){S||(S=!0,y.resolve(I,A))}var E=G(function(){R(k,j)});E.status==="error"&&j(E.value)}function G(I,R){var S={};try{S.value=I(R),S.status="success"}catch(j){S.status="error",S.value=j}return S}(p.exports=M).prototype.finally=function(I){if(typeof I!="function")return this;var R=this.constructor;return this.then(function(S){return R.resolve(I()).then(function(){return S})},function(S){return R.resolve(I()).then(function(){throw S})})},M.prototype.catch=function(I){return this.then(null,I)},M.prototype.then=function(I,R){if(typeof I!="function"&&this.state===w||typeof R!="function"&&this.state===x)return this;var S=new this.constructor(v);return this.state!==_?L(S,this.state===w?I:R,this.outcome):this.queue.push(new U(S,I,R)),S},U.prototype.callFulfilled=function(I){y.resolve(this.promise,I)},U.prototype.otherCallFulfilled=function(I){L(this.promise,this.onFulfilled,I)},U.prototype.callRejected=function(I){y.reject(this.promise,I)},U.prototype.otherCallRejected=function(I){L(this.promise,this.onRejected,I)},y.resolve=function(I,R){var S=G(O,R);if(S.status==="error")return y.reject(I,S.value);var j=S.value;if(j)H(I,j);else{I.state=w,I.outcome=R;for(var k=-1,E=I.queue.length;++k<E;)I.queue[k].callFulfilled(R)}return I},y.reject=function(I,R){I.state=x,I.outcome=R;for(var S=-1,j=I.queue.length;++S<j;)I.queue[S].callRejected(R);return I},M.resolve=function(I){return I instanceof this?I:y.resolve(new this(v),I)},M.reject=function(I){var R=new this(v);return y.reject(R,I)},M.all=function(I){var R=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,j=!1;if(!S)return this.resolve([]);for(var k=new Array(S),E=0,A=-1,C=new this(v);++A<S;)D(I[A],A);return C;function D(z,P){R.resolve(z).then(function(K){k[P]=K,++E!==S||j||(j=!0,y.resolve(C,k))},function(K){j||(j=!0,y.reject(C,K))})}},M.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=I.length,S=!1;if(!R)return this.resolve([]);for(var j,k=-1,E=new this(v);++k<R;)j=I[k],this.resolve(j).then(function(A){S||(S=!0,y.resolve(E,A))},function(A){S||(S=!0,y.reject(E,A))});return E}},{immediate:36}],38:[function(d,p,g){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,p,g){var m=d("./zlib/deflate"),v=d("./utils/common"),y=d("./utils/strings"),x=d("./zlib/messages"),w=d("./zlib/zstream"),_=Object.prototype.toString;function M(L){if(!(this instanceof M))return new M(L);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},L||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var H=m.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(H!==0)throw new Error(x[H]);if(O.header&&m.deflateSetHeader(this.strm,O.header),O.dictionary){var G;if(G=typeof O.dictionary=="string"?y.string2buf(O.dictionary):_.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(H=m.deflateSetDictionary(this.strm,G))!==0)throw new Error(x[H]);this._dict_set=!0}}function U(L,O){var H=new M(O);if(H.push(L,!0),H.err)throw H.msg||x[H.err];return H.result}M.prototype.push=function(L,O){var H,G,I=this.strm,R=this.options.chunkSize;if(this.ended)return!1;G=O===~~O?O:O===!0?4:0,typeof L=="string"?I.input=y.string2buf(L):_.call(L)==="[object ArrayBuffer]"?I.input=new Uint8Array(L):I.input=L,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new v.Buf8(R),I.next_out=0,I.avail_out=R),(H=m.deflate(I,G))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(I.output,I.next_out))):this.onData(v.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&H!==1);return G===4?(H=m.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):G!==2||(this.onEnd(0),!(I.avail_out=0))},M.prototype.onData=function(L){this.chunks.push(L)},M.prototype.onEnd=function(L){L===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},g.Deflate=M,g.deflate=U,g.deflateRaw=function(L,O){return(O=O||{}).raw=!0,U(L,O)},g.gzip=function(L,O){return(O=O||{}).gzip=!0,U(L,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,p,g){var m=d("./zlib/inflate"),v=d("./utils/common"),y=d("./utils/strings"),x=d("./zlib/constants"),w=d("./zlib/messages"),_=d("./zlib/zstream"),M=d("./zlib/gzheader"),U=Object.prototype.toString;function L(H){if(!(this instanceof L))return new L(H);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},H||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||H&&H.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var I=m.inflateInit2(this.strm,G.windowBits);if(I!==x.Z_OK)throw new Error(w[I]);this.header=new M,m.inflateGetHeader(this.strm,this.header)}function O(H,G){var I=new L(G);if(I.push(H,!0),I.err)throw I.msg||w[I.err];return I.result}L.prototype.push=function(H,G){var I,R,S,j,k,E,A=this.strm,C=this.options.chunkSize,D=this.options.dictionary,z=!1;if(this.ended)return!1;R=G===~~G?G:G===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof H=="string"?A.input=y.binstring2buf(H):U.call(H)==="[object ArrayBuffer]"?A.input=new Uint8Array(H):A.input=H,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new v.Buf8(C),A.next_out=0,A.avail_out=C),(I=m.inflate(A,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&D&&(E=typeof D=="string"?y.string2buf(D):U.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,I=m.inflateSetDictionary(this.strm,E)),I===x.Z_BUF_ERROR&&z===!0&&(I=x.Z_OK,z=!1),I!==x.Z_STREAM_END&&I!==x.Z_OK)return this.onEnd(I),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&I!==x.Z_STREAM_END&&(A.avail_in!==0||R!==x.Z_FINISH&&R!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=y.utf8border(A.output,A.next_out),j=A.next_out-S,k=y.buf2string(A.output,S),A.next_out=j,A.avail_out=C-j,j&&v.arraySet(A.output,A.output,S,j,0),this.onData(k)):this.onData(v.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(z=!0)}while((0<A.avail_in||A.avail_out===0)&&I!==x.Z_STREAM_END);return I===x.Z_STREAM_END&&(R=x.Z_FINISH),R===x.Z_FINISH?(I=m.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===x.Z_OK):R!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(A.avail_out=0))},L.prototype.onData=function(H){this.chunks.push(H)},L.prototype.onEnd=function(H){H===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},g.Inflate=L,g.inflate=O,g.inflateRaw=function(H,G){return(G=G||{}).raw=!0,O(H,G)},g.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(x){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var _=w.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var M in _)_.hasOwnProperty(M)&&(x[M]=_[M])}}return x},g.shrinkBuf=function(x,w){return x.length===w?x:x.subarray?x.subarray(0,w):(x.length=w,x)};var v={arraySet:function(x,w,_,M,U){if(w.subarray&&x.subarray)x.set(w.subarray(_,_+M),U);else for(var L=0;L<M;L++)x[U+L]=w[_+L]},flattenChunks:function(x){var w,_,M,U,L,O;for(w=M=0,_=x.length;w<_;w++)M+=x[w].length;for(O=new Uint8Array(M),w=U=0,_=x.length;w<_;w++)L=x[w],O.set(L,U),U+=L.length;return O}},y={arraySet:function(x,w,_,M,U){for(var L=0;L<M;L++)x[U+L]=w[_+L]},flattenChunks:function(x){return[].concat.apply([],x)}};g.setTyped=function(x){x?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(m)},{}],42:[function(d,p,g){var m=d("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var x=new m.Buf8(256),w=0;w<256;w++)x[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function _(M,U){if(U<65537&&(M.subarray&&y||!M.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(M,U));for(var L="",O=0;O<U;O++)L+=String.fromCharCode(M[O]);return L}x[254]=x[254]=1,g.string2buf=function(M){var U,L,O,H,G,I=M.length,R=0;for(H=0;H<I;H++)(64512&(L=M.charCodeAt(H)))==55296&&H+1<I&&(64512&(O=M.charCodeAt(H+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),H++),R+=L<128?1:L<2048?2:L<65536?3:4;for(U=new m.Buf8(R),H=G=0;G<R;H++)(64512&(L=M.charCodeAt(H)))==55296&&H+1<I&&(64512&(O=M.charCodeAt(H+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),H++),L<128?U[G++]=L:(L<2048?U[G++]=192|L>>>6:(L<65536?U[G++]=224|L>>>12:(U[G++]=240|L>>>18,U[G++]=128|L>>>12&63),U[G++]=128|L>>>6&63),U[G++]=128|63&L);return U},g.buf2binstring=function(M){return _(M,M.length)},g.binstring2buf=function(M){for(var U=new m.Buf8(M.length),L=0,O=U.length;L<O;L++)U[L]=M.charCodeAt(L);return U},g.buf2string=function(M,U){var L,O,H,G,I=U||M.length,R=new Array(2*I);for(L=O=0;L<I;)if((H=M[L++])<128)R[O++]=H;else if(4<(G=x[H]))R[O++]=65533,L+=G-1;else{for(H&=G===2?31:G===3?15:7;1<G&&L<I;)H=H<<6|63&M[L++],G--;1<G?R[O++]=65533:H<65536?R[O++]=H:(H-=65536,R[O++]=55296|H>>10&1023,R[O++]=56320|1023&H)}return _(R,O)},g.utf8border=function(M,U){var L;for((U=U||M.length)>M.length&&(U=M.length),L=U-1;0<=L&&(192&M[L])==128;)L--;return L<0||L===0?U:L+x[M[L]]>U?L:U}},{"./common":41}],43:[function(d,p,g){p.exports=function(m,v,y,x){for(var w=65535&m|0,_=m>>>16&65535|0,M=0;y!==0;){for(y-=M=2e3<y?2e3:y;_=_+(w=w+v[x++]|0)|0,--M;);w%=65521,_%=65521}return w|_<<16|0}},{}],44:[function(d,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,p,g){var m=function(){for(var v,y=[],x=0;x<256;x++){v=x;for(var w=0;w<8;w++)v=1&v?3988292384^v>>>1:v>>>1;y[x]=v}return y}();p.exports=function(v,y,x,w){var _=m,M=w+x;v^=-1;for(var U=w;U<M;U++)v=v>>>8^_[255&(v^y[U])];return-1^v}},{}],46:[function(d,p,g){var m,v=d("../utils/common"),y=d("./trees"),x=d("./adler32"),w=d("./crc32"),_=d("./messages"),M=-2,U=258,L=262,O=113;function H(q,$){return q.msg=_[$],$}function G(q){return(q<<1)-(4<q?9:0)}function I(q){for(var $=q.length;0<=--$;)q[$]=0}function R(q){var $=q.state,N=$.pending;N>q.avail_out&&(N=q.avail_out),N!==0&&(v.arraySet(q.output,$.pending_buf,$.pending_out,N,q.next_out),q.next_out+=N,$.pending_out+=N,q.total_out+=N,q.avail_out-=N,$.pending-=N,$.pending===0&&($.pending_out=0))}function S(q,$){y._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,$),q.block_start=q.strstart,R(q.strm)}function j(q,$){q.pending_buf[q.pending++]=$}function k(q,$){q.pending_buf[q.pending++]=$>>>8&255,q.pending_buf[q.pending++]=255&$}function E(q,$){var N,T,V=q.max_chain_length,J=q.strstart,re=q.prev_length,se=q.nice_match,B=q.strstart>q.w_size-L?q.strstart-(q.w_size-L):0,ne=q.window,ee=q.w_mask,F=q.prev,W=q.strstart+U,Y=ne[J+re-1],ae=ne[J+re];q.prev_length>=q.good_match&&(V>>=2),se>q.lookahead&&(se=q.lookahead);do if(ne[(N=$)+re]===ae&&ne[N+re-1]===Y&&ne[N]===ne[J]&&ne[++N]===ne[J+1]){J+=2,N++;do;while(ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&ne[++J]===ne[++N]&&J<W);if(T=U-(W-J),J=W-U,re<T){if(q.match_start=$,se<=(re=T))break;Y=ne[J+re-1],ae=ne[J+re]}}while(($=F[$&ee])>B&&--V!=0);return re<=q.lookahead?re:q.lookahead}function A(q){var $,N,T,V,J,re,se,B,ne,ee,F=q.w_size;do{if(V=q.window_size-q.lookahead-q.strstart,q.strstart>=F+(F-L)){for(v.arraySet(q.window,q.window,F,F,0),q.match_start-=F,q.strstart-=F,q.block_start-=F,$=N=q.hash_size;T=q.head[--$],q.head[$]=F<=T?T-F:0,--N;);for($=N=F;T=q.prev[--$],q.prev[$]=F<=T?T-F:0,--N;);V+=F}if(q.strm.avail_in===0)break;if(re=q.strm,se=q.window,B=q.strstart+q.lookahead,ee=void 0,(ne=V)<(ee=re.avail_in)&&(ee=ne),N=ee===0?0:(re.avail_in-=ee,v.arraySet(se,re.input,re.next_in,ee,B),re.state.wrap===1?re.adler=x(re.adler,se,ee,B):re.state.wrap===2&&(re.adler=w(re.adler,se,ee,B)),re.next_in+=ee,re.total_in+=ee,ee),q.lookahead+=N,q.lookahead+q.insert>=3)for(J=q.strstart-q.insert,q.ins_h=q.window[J],q.ins_h=(q.ins_h<<q.hash_shift^q.window[J+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[J+3-1])&q.hash_mask,q.prev[J&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=J,J++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<L&&q.strm.avail_in!==0)}function C(q,$){for(var N,T;;){if(q.lookahead<L){if(A(q),q.lookahead<L&&$===0)return 1;if(q.lookahead===0)break}if(N=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),N!==0&&q.strstart-N<=q.w_size-L&&(q.match_length=E(q,N)),q.match_length>=3)if(T=y._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else T=y._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(T&&(S(q,!1),q.strm.avail_out===0))return 1}return q.insert=q.strstart<2?q.strstart:2,$===4?(S(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(S(q,!1),q.strm.avail_out===0)?1:2}function D(q,$){for(var N,T,V;;){if(q.lookahead<L){if(A(q),q.lookahead<L&&$===0)return 1;if(q.lookahead===0)break}if(N=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,N!==0&&q.prev_length<q.max_lazy_match&&q.strstart-N<=q.w_size-L&&(q.match_length=E(q,N),q.match_length<=5&&(q.strategy===1||q.match_length===3&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(V=q.strstart+q.lookahead-3,T=y._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=V&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,N=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=2,q.strstart++,T&&(S(q,!1),q.strm.avail_out===0))return 1}else if(q.match_available){if((T=y._tr_tally(q,0,q.window[q.strstart-1]))&&S(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(T=y._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,$===4?(S(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(S(q,!1),q.strm.avail_out===0)?1:2}function z(q,$,N,T,V){this.good_length=q,this.max_lazy=$,this.nice_length=N,this.max_chain=T,this.func=V}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(q){var $;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,($=q.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:O,q.adler=$.wrap===2?0:1,$.last_flush=0,y._tr_init($),0):H(q,M)}function Z(q){var $=K(q);return $===0&&function(N){N.window_size=2*N.w_size,I(N.head),N.max_lazy_match=m[N.level].max_lazy,N.good_match=m[N.level].good_length,N.nice_match=m[N.level].nice_length,N.max_chain_length=m[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=2,N.match_available=0,N.ins_h=0}(q.state),$}function te(q,$,N,T,V,J){if(!q)return M;var re=1;if($===-1&&($=6),T<0?(re=0,T=-T):15<T&&(re=2,T-=16),V<1||9<V||N!==8||T<8||15<T||$<0||9<$||J<0||4<J)return H(q,M);T===8&&(T=9);var se=new P;return(q.state=se).strm=q,se.wrap=re,se.gzhead=null,se.w_bits=T,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=V+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+3-1)/3),se.window=new v.Buf8(2*se.w_size),se.head=new v.Buf16(se.hash_size),se.prev=new v.Buf16(se.w_size),se.lit_bufsize=1<<V+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new v.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=$,se.strategy=J,se.method=N,Z(q)}m=[new z(0,0,0,0,function(q,$){var N=65535;for(N>q.pending_buf_size-5&&(N=q.pending_buf_size-5);;){if(q.lookahead<=1){if(A(q),q.lookahead===0&&$===0)return 1;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var T=q.block_start+N;if((q.strstart===0||q.strstart>=T)&&(q.lookahead=q.strstart-T,q.strstart=T,S(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-L&&(S(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,$===4?(S(q,!0),q.strm.avail_out===0?3:4):(q.strstart>q.block_start&&(S(q,!1),q.strm.avail_out),1)}),new z(4,4,8,4,C),new z(4,5,16,8,C),new z(4,6,32,32,C),new z(4,4,16,16,D),new z(8,16,32,32,D),new z(8,16,128,128,D),new z(8,32,128,256,D),new z(32,128,258,1024,D),new z(32,258,258,4096,D)],g.deflateInit=function(q,$){return te(q,$,8,15,8,0)},g.deflateInit2=te,g.deflateReset=Z,g.deflateResetKeep=K,g.deflateSetHeader=function(q,$){return q&&q.state?q.state.wrap!==2?M:(q.state.gzhead=$,0):M},g.deflate=function(q,$){var N,T,V,J;if(!q||!q.state||5<$||$<0)return q?H(q,M):M;if(T=q.state,!q.output||!q.input&&q.avail_in!==0||T.status===666&&$!==4)return H(q,q.avail_out===0?-5:M);if(T.strm=q,N=T.last_flush,T.last_flush=$,T.status===42)if(T.wrap===2)q.adler=0,j(T,31),j(T,139),j(T,8),T.gzhead?(j(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),j(T,255&T.gzhead.time),j(T,T.gzhead.time>>8&255),j(T,T.gzhead.time>>16&255),j(T,T.gzhead.time>>24&255),j(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),j(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(j(T,255&T.gzhead.extra.length),j(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(q.adler=w(q.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(j(T,0),j(T,0),j(T,0),j(T,0),j(T,0),j(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),j(T,3),T.status=O);else{var re=8+(T.w_bits-8<<4)<<8;re|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(re|=32),re+=31-re%31,T.status=O,k(T,re),T.strstart!==0&&(k(T,q.adler>>>16),k(T,65535&q.adler)),q.adler=1}if(T.status===69)if(T.gzhead.extra){for(V=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending!==T.pending_buf_size));)j(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){V=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending===T.pending_buf_size)){J=1;break}J=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,j(T,J)}while(J!==0);T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),J===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){V=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),R(q),V=T.pending,T.pending===T.pending_buf_size)){J=1;break}J=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,j(T,J)}while(J!==0);T.gzhead.hcrc&&T.pending>V&&(q.adler=w(q.adler,T.pending_buf,T.pending-V,V)),J===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&R(q),T.pending+2<=T.pending_buf_size&&(j(T,255&q.adler),j(T,q.adler>>8&255),q.adler=0,T.status=O)):T.status=O),T.pending!==0){if(R(q),q.avail_out===0)return T.last_flush=-1,0}else if(q.avail_in===0&&G($)<=G(N)&&$!==4)return H(q,-5);if(T.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||T.lookahead!==0||$!==0&&T.status!==666){var se=T.strategy===2?function(B,ne){for(var ee;;){if(B.lookahead===0&&(A(B),B.lookahead===0)){if(ne===0)return 1;break}if(B.match_length=0,ee=y._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ee&&(S(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,ne===4?(S(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(S(B,!1),B.strm.avail_out===0)?1:2}(T,$):T.strategy===3?function(B,ne){for(var ee,F,W,Y,ae=B.window;;){if(B.lookahead<=U){if(A(B),B.lookahead<=U&&ne===0)return 1;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=3&&0<B.strstart&&(F=ae[W=B.strstart-1])===ae[++W]&&F===ae[++W]&&F===ae[++W]){Y=B.strstart+U;do;while(F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&F===ae[++W]&&W<Y);B.match_length=U-(Y-W),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=3?(ee=y._tr_tally(B,1,B.match_length-3),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ee=y._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ee&&(S(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,ne===4?(S(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(S(B,!1),B.strm.avail_out===0)?1:2}(T,$):m[T.level].func(T,$);if(se!==3&&se!==4||(T.status=666),se===1||se===3)return q.avail_out===0&&(T.last_flush=-1),0;if(se===2&&($===1?y._tr_align(T):$!==5&&(y._tr_stored_block(T,0,0,!1),$===3&&(I(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),R(q),q.avail_out===0))return T.last_flush=-1,0}return $!==4?0:T.wrap<=0?1:(T.wrap===2?(j(T,255&q.adler),j(T,q.adler>>8&255),j(T,q.adler>>16&255),j(T,q.adler>>24&255),j(T,255&q.total_in),j(T,q.total_in>>8&255),j(T,q.total_in>>16&255),j(T,q.total_in>>24&255)):(k(T,q.adler>>>16),k(T,65535&q.adler)),R(q),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?0:1)},g.deflateEnd=function(q){var $;return q&&q.state?($=q.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==103&&$!==O&&$!==666?H(q,M):(q.state=null,$===O?H(q,-3):0):M},g.deflateSetDictionary=function(q,$){var N,T,V,J,re,se,B,ne,ee=$.length;if(!q||!q.state||(J=(N=q.state).wrap)===2||J===1&&N.status!==42||N.lookahead)return M;for(J===1&&(q.adler=x(q.adler,$,ee,0)),N.wrap=0,ee>=N.w_size&&(J===0&&(I(N.head),N.strstart=0,N.block_start=0,N.insert=0),ne=new v.Buf8(N.w_size),v.arraySet(ne,$,ee-N.w_size,N.w_size,0),$=ne,ee=N.w_size),re=q.avail_in,se=q.next_in,B=q.input,q.avail_in=ee,q.next_in=0,q.input=$,A(N);N.lookahead>=3;){for(T=N.strstart,V=N.lookahead-2;N.ins_h=(N.ins_h<<N.hash_shift^N.window[T+3-1])&N.hash_mask,N.prev[T&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=T,T++,--V;);N.strstart=T,N.lookahead=2,A(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,q.next_in=se,q.input=B,q.avail_in=re,N.wrap=J,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,p,g){p.exports=function(m,v){var y,x,w,_,M,U,L,O,H,G,I,R,S,j,k,E,A,C,D,z,P,K,Z,te,q;y=m.state,x=m.next_in,te=m.input,w=x+(m.avail_in-5),_=m.next_out,q=m.output,M=_-(v-m.avail_out),U=_+(m.avail_out-257),L=y.dmax,O=y.wsize,H=y.whave,G=y.wnext,I=y.window,R=y.hold,S=y.bits,j=y.lencode,k=y.distcode,E=(1<<y.lenbits)-1,A=(1<<y.distbits)-1;e:do{S<15&&(R+=te[x++]<<S,S+=8,R+=te[x++]<<S,S+=8),C=j[R&E];t:for(;;){if(R>>>=D=C>>>24,S-=D,(D=C>>>16&255)==0)q[_++]=65535&C;else{if(!(16&D)){if(!(64&D)){C=j[(65535&C)+(R&(1<<D)-1)];continue t}if(32&D){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}z=65535&C,(D&=15)&&(S<D&&(R+=te[x++]<<S,S+=8),z+=R&(1<<D)-1,R>>>=D,S-=D),S<15&&(R+=te[x++]<<S,S+=8,R+=te[x++]<<S,S+=8),C=k[R&A];r:for(;;){if(R>>>=D=C>>>24,S-=D,!(16&(D=C>>>16&255))){if(!(64&D)){C=k[(65535&C)+(R&(1<<D)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if(P=65535&C,S<(D&=15)&&(R+=te[x++]<<S,(S+=8)<D&&(R+=te[x++]<<S,S+=8)),L<(P+=R&(1<<D)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(R>>>=D,S-=D,(D=_-M)<P){if(H<(D=P-D)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(Z=I,(K=0)===G){if(K+=O-D,D<z){for(z-=D;q[_++]=I[K++],--D;);K=_-P,Z=q}}else if(G<D){if(K+=O+G-D,(D-=G)<z){for(z-=D;q[_++]=I[K++],--D;);if(K=0,G<z){for(z-=D=G;q[_++]=I[K++],--D;);K=_-P,Z=q}}}else if(K+=G-D,D<z){for(z-=D;q[_++]=I[K++],--D;);K=_-P,Z=q}for(;2<z;)q[_++]=Z[K++],q[_++]=Z[K++],q[_++]=Z[K++],z-=3;z&&(q[_++]=Z[K++],1<z&&(q[_++]=Z[K++]))}else{for(K=_-P;q[_++]=q[K++],q[_++]=q[K++],q[_++]=q[K++],2<(z-=3););z&&(q[_++]=q[K++],1<z&&(q[_++]=q[K++]))}break}}break}}while(x<w&&_<U);x-=z=S>>3,R&=(1<<(S-=z<<3))-1,m.next_in=x,m.next_out=_,m.avail_in=x<w?w-x+5:5-(x-w),m.avail_out=_<U?U-_+257:257-(_-U),y.hold=R,y.bits=S}},{}],49:[function(d,p,g){var m=d("../utils/common"),v=d("./adler32"),y=d("./crc32"),x=d("./inffast"),w=d("./inftrees"),_=-2;function M(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(E){var A;return E&&E.state?(A=E.state,E.total_in=E.total_out=A.total=0,E.msg="",A.wrap&&(E.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new m.Buf32(852),A.distcode=A.distdyn=new m.Buf32(592),A.sane=1,A.back=-1,0):_}function O(E){var A;return E&&E.state?((A=E.state).wsize=0,A.whave=0,A.wnext=0,L(E)):_}function H(E,A){var C,D;return E&&E.state?(D=E.state,A<0?(C=0,A=-A):(C=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?_:(D.window!==null&&D.wbits!==A&&(D.window=null),D.wrap=C,D.wbits=A,O(E))):_}function G(E,A){var C,D;return E?(D=new U,(E.state=D).window=null,(C=H(E,A))!==0&&(E.state=null),C):_}var I,R,S=!0;function j(E){if(S){var A;for(I=new m.Buf32(512),R=new m.Buf32(32),A=0;A<144;)E.lens[A++]=8;for(;A<256;)E.lens[A++]=9;for(;A<280;)E.lens[A++]=7;for(;A<288;)E.lens[A++]=8;for(w(1,E.lens,0,288,I,0,E.work,{bits:9}),A=0;A<32;)E.lens[A++]=5;w(2,E.lens,0,32,R,0,E.work,{bits:5}),S=!1}E.lencode=I,E.lenbits=9,E.distcode=R,E.distbits=5}function k(E,A,C,D){var z,P=E.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new m.Buf8(P.wsize)),D>=P.wsize?(m.arraySet(P.window,A,C-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(D<(z=P.wsize-P.wnext)&&(z=D),m.arraySet(P.window,A,C-D,z,P.wnext),(D-=z)?(m.arraySet(P.window,A,C-D,D,0),P.wnext=D,P.whave=P.wsize):(P.wnext+=z,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=z))),0}g.inflateReset=O,g.inflateReset2=H,g.inflateResetKeep=L,g.inflateInit=function(E){return G(E,15)},g.inflateInit2=G,g.inflate=function(E,A){var C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W,Y,ae,ce,le,de=0,me=new m.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return _;(C=E.state).mode===12&&(C.mode=13),K=E.next_out,z=E.output,te=E.avail_out,P=E.next_in,D=E.input,Z=E.avail_in,q=C.hold,$=C.bits,N=Z,T=te,ae=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(2&C.wrap&&q===35615){me[C.check=0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0),$=q=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&q)<<8)+(q>>8))%31){E.msg="incorrect header check",C.mode=30;break}if((15&q)!=8){E.msg="unknown compression method",C.mode=30;break}if($-=4,Y=8+(15&(q>>>=4)),C.wbits===0)C.wbits=Y;else if(Y>C.wbits){E.msg="invalid window size",C.mode=30;break}C.dmax=1<<Y,E.adler=C.check=1,C.mode=512&q?10:12,$=q=0;break;case 2:for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(C.flags=q,(255&C.flags)!=8){E.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){E.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=q>>8&1),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0,C.mode=3;case 3:for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.head&&(C.head.time=q),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,me[2]=q>>>16&255,me[3]=q>>>24&255,C.check=y(C.check,me,4,0)),$=q=0,C.mode=4;case 4:for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.head&&(C.head.xflags=255&q,C.head.os=q>>8),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0,C.mode=5;case 5:if(1024&C.flags){for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.length=q,C.head&&(C.head.extra_len=q),512&C.flags&&(me[0]=255&q,me[1]=q>>>8&255,C.check=y(C.check,me,2,0)),$=q=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Z<(V=C.length)&&(V=Z),V&&(C.head&&(Y=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),m.arraySet(C.head.extra,D,P,V,Y)),512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,C.length-=V),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Z===0)break e;for(V=0;Y=D[P+V++],C.head&&Y&&C.length<65536&&(C.head.name+=String.fromCharCode(Y)),Y&&V<Z;);if(512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,Y)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Z===0)break e;for(V=0;Y=D[P+V++],C.head&&Y&&C.length<65536&&(C.head.comment+=String.fromCharCode(Y)),Y&&V<Z;);if(512&C.flags&&(C.check=y(C.check,D,V,P)),Z-=V,P+=V,Y)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;$<16;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q!==(65535&C.check)){E.msg="header crc mismatch",C.mode=30;break}$=q=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),E.adler=C.check=0,C.mode=12;break;case 10:for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}E.adler=C.check=M(q),$=q=0,C.mode=11;case 11:if(C.havedict===0)return E.next_out=K,E.avail_out=te,E.next_in=P,E.avail_in=Z,C.hold=q,C.bits=$,2;E.adler=C.check=1,C.mode=12;case 12:if(A===5||A===6)break e;case 13:if(C.last){q>>>=7&$,$-=7&$,C.mode=27;break}for(;$<3;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}switch(C.last=1&q,$-=1,3&(q>>>=1)){case 0:C.mode=14;break;case 1:if(j(C),C.mode=20,A!==6)break;q>>>=2,$-=2;break e;case 2:C.mode=17;break;case 3:E.msg="invalid block type",C.mode=30}q>>>=2,$-=2;break;case 14:for(q>>>=7&$,$-=7&$;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if((65535&q)!=(q>>>16^65535)){E.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&q,$=q=0,C.mode=15,A===6)break e;case 15:C.mode=16;case 16:if(V=C.length){if(Z<V&&(V=Z),te<V&&(V=te),V===0)break e;m.arraySet(z,D,P,V,K),Z-=V,P+=V,te-=V,K+=V,C.length-=V;break}C.mode=12;break;case 17:for(;$<14;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(C.nlen=257+(31&q),q>>>=5,$-=5,C.ndist=1+(31&q),q>>>=5,$-=5,C.ncode=4+(15&q),q>>>=4,$-=4,286<C.nlen||30<C.ndist){E.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;$<3;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.lens[ge[C.have++]]=7&q,q>>>=3,$-=3}for(;C.have<19;)C.lens[ge[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},ae=w(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ae){E.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;B=(de=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(ne<16)q>>>=se,$-=se,C.lens[C.have++]=ne;else{if(ne===16){for(le=se+2;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q>>>=se,$-=se,C.have===0){E.msg="invalid bit length repeat",C.mode=30;break}Y=C.lens[C.have-1],V=3+(3&q),q>>>=2,$-=2}else if(ne===17){for(le=se+3;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}$-=se,Y=0,V=3+(7&(q>>>=se)),q>>>=3,$-=3}else{for(le=se+7;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}$-=se,Y=0,V=11+(127&(q>>>=se)),q>>>=7,$-=7}if(C.have+V>C.nlen+C.ndist){E.msg="invalid bit length repeat",C.mode=30;break}for(;V--;)C.lens[C.have++]=Y}}if(C.mode===30)break;if(C.lens[256]===0){E.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},ae=w(1,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ae){E.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},ae=w(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,ae){E.msg="invalid distances set",C.mode=30;break}if(C.mode=20,A===6)break e;case 20:C.mode=21;case 21:if(6<=Z&&258<=te){E.next_out=K,E.avail_out=te,E.next_in=P,E.avail_in=Z,C.hold=q,C.bits=$,x(E,T),K=E.next_out,z=E.output,te=E.avail_out,P=E.next_in,D=E.input,Z=E.avail_in,q=C.hold,$=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;B=(de=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(B&&!(240&B)){for(ee=se,F=B,W=ne;B=(de=C.lencode[W+((q&(1<<ee+F)-1)>>ee)])>>>16&255,ne=65535&de,!(ee+(se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}q>>>=ee,$-=ee,C.back+=ee}if(q>>>=se,$-=se,C.back+=se,C.length=ne,B===0){C.mode=26;break}if(32&B){C.back=-1,C.mode=12;break}if(64&B){E.msg="invalid literal/length code",C.mode=30;break}C.extra=15&B,C.mode=22;case 22:if(C.extra){for(le=C.extra;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.length+=q&(1<<C.extra)-1,q>>>=C.extra,$-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;B=(de=C.distcode[q&(1<<C.distbits)-1])>>>16&255,ne=65535&de,!((se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(!(240&B)){for(ee=se,F=B,W=ne;B=(de=C.distcode[W+((q&(1<<ee+F)-1)>>ee)])>>>16&255,ne=65535&de,!(ee+(se=de>>>24)<=$);){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}q>>>=ee,$-=ee,C.back+=ee}if(q>>>=se,$-=se,C.back+=se,64&B){E.msg="invalid distance code",C.mode=30;break}C.offset=ne,C.extra=15&B,C.mode=24;case 24:if(C.extra){for(le=C.extra;$<le;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}C.offset+=q&(1<<C.extra)-1,q>>>=C.extra,$-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){E.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(te===0)break e;if(V=T-te,C.offset>V){if((V=C.offset-V)>C.whave&&C.sane){E.msg="invalid distance too far back",C.mode=30;break}J=V>C.wnext?(V-=C.wnext,C.wsize-V):C.wnext-V,V>C.length&&(V=C.length),re=C.window}else re=z,J=K-C.offset,V=C.length;for(te<V&&(V=te),te-=V,C.length-=V;z[K++]=re[J++],--V;);C.length===0&&(C.mode=21);break;case 26:if(te===0)break e;z[K++]=C.length,te--,C.mode=21;break;case 27:if(C.wrap){for(;$<32;){if(Z===0)break e;Z--,q|=D[P++]<<$,$+=8}if(T-=te,E.total_out+=T,C.total+=T,T&&(E.adler=C.check=C.flags?y(C.check,z,T,K-T):v(C.check,z,T,K-T)),T=te,(C.flags?q:M(q))!==C.check){E.msg="incorrect data check",C.mode=30;break}$=q=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;$<32;){if(Z===0)break e;Z--,q+=D[P++]<<$,$+=8}if(q!==(4294967295&C.total)){E.msg="incorrect length check",C.mode=30;break}$=q=0}C.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return _}return E.next_out=K,E.avail_out=te,E.next_in=P,E.avail_in=Z,C.hold=q,C.bits=$,(C.wsize||T!==E.avail_out&&C.mode<30&&(C.mode<27||A!==4))&&k(E,E.output,E.next_out,T-E.avail_out)?(C.mode=31,-4):(N-=E.avail_in,T-=E.avail_out,E.total_in+=N,E.total_out+=T,C.total+=T,C.wrap&&T&&(E.adler=C.check=C.flags?y(C.check,z,T,E.next_out-T):v(C.check,z,T,E.next_out-T)),E.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(N==0&&T===0||A===4)&&ae===0&&(ae=-5),ae)},g.inflateEnd=function(E){if(!E||!E.state)return _;var A=E.state;return A.window&&(A.window=null),E.state=null,0},g.inflateGetHeader=function(E,A){var C;return E&&E.state&&2&(C=E.state).wrap?((C.head=A).done=!1,0):_},g.inflateSetDictionary=function(E,A){var C,D=A.length;return E&&E.state?(C=E.state).wrap!==0&&C.mode!==11?_:C.mode===11&&v(1,A,D,0)!==C.check?-3:k(E,A,D,D)?(C.mode=31,-4):(C.havedict=1,0):_},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,p,g){var m=d("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(_,M,U,L,O,H,G,I){var R,S,j,k,E,A,C,D,z,P=I.bits,K=0,Z=0,te=0,q=0,$=0,N=0,T=0,V=0,J=0,re=0,se=null,B=0,ne=new m.Buf16(16),ee=new m.Buf16(16),F=null,W=0;for(K=0;K<=15;K++)ne[K]=0;for(Z=0;Z<L;Z++)ne[M[U+Z]]++;for($=P,q=15;1<=q&&ne[q]===0;q--);if(q<$&&($=q),q===0)return O[H++]=20971520,O[H++]=20971520,I.bits=1,0;for(te=1;te<q&&ne[te]===0;te++);for($<te&&($=te),K=V=1;K<=15;K++)if(V<<=1,(V-=ne[K])<0)return-1;if(0<V&&(_===0||q!==1))return-1;for(ee[1]=0,K=1;K<15;K++)ee[K+1]=ee[K]+ne[K];for(Z=0;Z<L;Z++)M[U+Z]!==0&&(G[ee[M[U+Z]]++]=Z);if(A=_===0?(se=F=G,19):_===1?(se=v,B-=257,F=y,W-=257,256):(se=x,F=w,-1),K=te,E=H,T=Z=re=0,j=-1,k=(J=1<<(N=$))-1,_===1&&852<J||_===2&&592<J)return 1;for(;;){for(C=K-T,z=G[Z]<A?(D=0,G[Z]):G[Z]>A?(D=F[W+G[Z]],se[B+G[Z]]):(D=96,0),R=1<<K-T,te=S=1<<N;O[E+(re>>T)+(S-=R)]=C<<24|D<<16|z|0,S!==0;);for(R=1<<K-1;re&R;)R>>=1;if(R!==0?(re&=R-1,re+=R):re=0,Z++,--ne[K]==0){if(K===q)break;K=M[U+G[Z]]}if($<K&&(re&k)!==j){for(T===0&&(T=$),E+=te,V=1<<(N=K-T);N+T<q&&!((V-=ne[N+T])<=0);)N++,V<<=1;if(J+=1<<N,_===1&&852<J||_===2&&592<J)return 1;O[j=re&k]=$<<24|N<<16|E-H|0}}return re!==0&&(O[E+re]=K-T<<24|64<<16|0),I.bits=$,0}},{"../utils/common":41}],51:[function(d,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,p,g){var m=d("../utils/common");function v(F){for(var W=F.length;0<=--W;)F[W]=0}var y=256,x=286,w=30,_=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);v(H);var G=new Array(60);v(G);var I=new Array(512);v(I);var R=new Array(256);v(R);var S=new Array(29);v(S);var j,k,E,A=new Array(w);function C(F,W,Y,ae,ce){this.static_tree=F,this.extra_bits=W,this.extra_base=Y,this.elems=ae,this.max_length=ce,this.has_stree=F&&F.length}function D(F,W){this.dyn_tree=F,this.max_code=0,this.stat_desc=W}function z(F){return F<256?I[F]:I[256+(F>>>7)]}function P(F,W){F.pending_buf[F.pending++]=255&W,F.pending_buf[F.pending++]=W>>>8&255}function K(F,W,Y){F.bi_valid>16-Y?(F.bi_buf|=W<<F.bi_valid&65535,P(F,F.bi_buf),F.bi_buf=W>>16-F.bi_valid,F.bi_valid+=Y-16):(F.bi_buf|=W<<F.bi_valid&65535,F.bi_valid+=Y)}function Z(F,W,Y){K(F,Y[2*W],Y[2*W+1])}function te(F,W){for(var Y=0;Y|=1&F,F>>>=1,Y<<=1,0<--W;);return Y>>>1}function q(F,W,Y){var ae,ce,le=new Array(16),de=0;for(ae=1;ae<=_;ae++)le[ae]=de=de+Y[ae-1]<<1;for(ce=0;ce<=W;ce++){var me=F[2*ce+1];me!==0&&(F[2*ce]=te(le[me]++,me))}}function $(F){var W;for(W=0;W<x;W++)F.dyn_ltree[2*W]=0;for(W=0;W<w;W++)F.dyn_dtree[2*W]=0;for(W=0;W<19;W++)F.bl_tree[2*W]=0;F.dyn_ltree[512]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function N(F){8<F.bi_valid?P(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function T(F,W,Y,ae){var ce=2*W,le=2*Y;return F[ce]<F[le]||F[ce]===F[le]&&ae[W]<=ae[Y]}function V(F,W,Y){for(var ae=F.heap[Y],ce=Y<<1;ce<=F.heap_len&&(ce<F.heap_len&&T(W,F.heap[ce+1],F.heap[ce],F.depth)&&ce++,!T(W,ae,F.heap[ce],F.depth));)F.heap[Y]=F.heap[ce],Y=ce,ce<<=1;F.heap[Y]=ae}function J(F,W,Y){var ae,ce,le,de,me=0;if(F.last_lit!==0)for(;ae=F.pending_buf[F.d_buf+2*me]<<8|F.pending_buf[F.d_buf+2*me+1],ce=F.pending_buf[F.l_buf+me],me++,ae===0?Z(F,ce,W):(Z(F,(le=R[ce])+y+1,W),(de=M[le])!==0&&K(F,ce-=S[le],de),Z(F,le=z(--ae),Y),(de=U[le])!==0&&K(F,ae-=A[le],de)),me<F.last_lit;);Z(F,256,W)}function re(F,W){var Y,ae,ce,le=W.dyn_tree,de=W.stat_desc.static_tree,me=W.stat_desc.has_stree,ge=W.stat_desc.elems,ke=-1;for(F.heap_len=0,F.heap_max=573,Y=0;Y<ge;Y++)le[2*Y]!==0?(F.heap[++F.heap_len]=ke=Y,F.depth[Y]=0):le[2*Y+1]=0;for(;F.heap_len<2;)le[2*(ce=F.heap[++F.heap_len]=ke<2?++ke:0)]=1,F.depth[ce]=0,F.opt_len--,me&&(F.static_len-=de[2*ce+1]);for(W.max_code=ke,Y=F.heap_len>>1;1<=Y;Y--)V(F,le,Y);for(ce=ge;Y=F.heap[1],F.heap[1]=F.heap[F.heap_len--],V(F,le,1),ae=F.heap[1],F.heap[--F.heap_max]=Y,F.heap[--F.heap_max]=ae,le[2*ce]=le[2*Y]+le[2*ae],F.depth[ce]=(F.depth[Y]>=F.depth[ae]?F.depth[Y]:F.depth[ae])+1,le[2*Y+1]=le[2*ae+1]=ce,F.heap[1]=ce++,V(F,le,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(Re,je){var qe,Je,Ve,pt,$e,Ue,Ke=je.dyn_tree,rt=je.max_code,Ze=je.stat_desc.static_tree,kt=je.stat_desc.has_stree,wt=je.stat_desc.extra_bits,xt=je.stat_desc.extra_base,Wt=je.stat_desc.max_length,St=0;for(pt=0;pt<=_;pt++)Re.bl_count[pt]=0;for(Ke[2*Re.heap[Re.heap_max]+1]=0,qe=Re.heap_max+1;qe<573;qe++)Wt<(pt=Ke[2*Ke[2*(Je=Re.heap[qe])+1]+1]+1)&&(pt=Wt,St++),Ke[2*Je+1]=pt,rt<Je||(Re.bl_count[pt]++,$e=0,xt<=Je&&($e=wt[Je-xt]),Ue=Ke[2*Je],Re.opt_len+=Ue*(pt+$e),kt&&(Re.static_len+=Ue*(Ze[2*Je+1]+$e)));if(St!==0){do{for(pt=Wt-1;Re.bl_count[pt]===0;)pt--;Re.bl_count[pt]--,Re.bl_count[pt+1]+=2,Re.bl_count[Wt]--,St-=2}while(0<St);for(pt=Wt;pt!==0;pt--)for(Je=Re.bl_count[pt];Je!==0;)rt<(Ve=Re.heap[--qe])||(Ke[2*Ve+1]!==pt&&(Re.opt_len+=(pt-Ke[2*Ve+1])*Ke[2*Ve],Ke[2*Ve+1]=pt),Je--)}}(F,W),q(le,ke,F.bl_count)}function se(F,W,Y){var ae,ce,le=-1,de=W[1],me=0,ge=7,ke=4;for(de===0&&(ge=138,ke=3),W[2*(Y+1)+1]=65535,ae=0;ae<=Y;ae++)ce=de,de=W[2*(ae+1)+1],++me<ge&&ce===de||(me<ke?F.bl_tree[2*ce]+=me:ce!==0?(ce!==le&&F.bl_tree[2*ce]++,F.bl_tree[32]++):me<=10?F.bl_tree[34]++:F.bl_tree[36]++,le=ce,ke=(me=0)===de?(ge=138,3):ce===de?(ge=6,3):(ge=7,4))}function B(F,W,Y){var ae,ce,le=-1,de=W[1],me=0,ge=7,ke=4;for(de===0&&(ge=138,ke=3),ae=0;ae<=Y;ae++)if(ce=de,de=W[2*(ae+1)+1],!(++me<ge&&ce===de)){if(me<ke)for(;Z(F,ce,F.bl_tree),--me!=0;);else ce!==0?(ce!==le&&(Z(F,ce,F.bl_tree),me--),Z(F,16,F.bl_tree),K(F,me-3,2)):me<=10?(Z(F,17,F.bl_tree),K(F,me-3,3)):(Z(F,18,F.bl_tree),K(F,me-11,7));le=ce,ke=(me=0)===de?(ge=138,3):ce===de?(ge=6,3):(ge=7,4)}}v(A);var ne=!1;function ee(F,W,Y,ae){K(F,0+(ae?1:0),3),function(ce,le,de,me){N(ce),P(ce,de),P(ce,~de),m.arraySet(ce.pending_buf,ce.window,le,de,ce.pending),ce.pending+=de}(F,W,Y)}g._tr_init=function(F){ne||(function(){var W,Y,ae,ce,le,de=new Array(16);for(ce=ae=0;ce<28;ce++)for(S[ce]=ae,W=0;W<1<<M[ce];W++)R[ae++]=ce;for(R[ae-1]=ce,ce=le=0;ce<16;ce++)for(A[ce]=le,W=0;W<1<<U[ce];W++)I[le++]=ce;for(le>>=7;ce<w;ce++)for(A[ce]=le<<7,W=0;W<1<<U[ce]-7;W++)I[256+le++]=ce;for(Y=0;Y<=_;Y++)de[Y]=0;for(W=0;W<=143;)H[2*W+1]=8,W++,de[8]++;for(;W<=255;)H[2*W+1]=9,W++,de[9]++;for(;W<=279;)H[2*W+1]=7,W++,de[7]++;for(;W<=287;)H[2*W+1]=8,W++,de[8]++;for(q(H,287,de),W=0;W<w;W++)G[2*W+1]=5,G[2*W]=te(W,5);j=new C(H,M,257,x,_),k=new C(G,U,0,w,_),E=new C(new Array(0),L,0,19,7)}(),ne=!0),F.l_desc=new D(F.dyn_ltree,j),F.d_desc=new D(F.dyn_dtree,k),F.bl_desc=new D(F.bl_tree,E),F.bi_buf=0,F.bi_valid=0,$(F)},g._tr_stored_block=ee,g._tr_flush_block=function(F,W,Y,ae){var ce,le,de=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(me){var ge,ke=4093624447;for(ge=0;ge<=31;ge++,ke>>>=1)if(1&ke&&me.dyn_ltree[2*ge]!==0)return 0;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return 1;for(ge=32;ge<y;ge++)if(me.dyn_ltree[2*ge]!==0)return 1;return 0}(F)),re(F,F.l_desc),re(F,F.d_desc),de=function(me){var ge;for(se(me,me.dyn_ltree,me.l_desc.max_code),se(me,me.dyn_dtree,me.d_desc.max_code),re(me,me.bl_desc),ge=18;3<=ge&&me.bl_tree[2*O[ge]+1]===0;ge--);return me.opt_len+=3*(ge+1)+5+5+4,ge}(F),ce=F.opt_len+3+7>>>3,(le=F.static_len+3+7>>>3)<=ce&&(ce=le)):ce=le=Y+5,Y+4<=ce&&W!==-1?ee(F,W,Y,ae):F.strategy===4||le===ce?(K(F,2+(ae?1:0),3),J(F,H,G)):(K(F,4+(ae?1:0),3),function(me,ge,ke,Re){var je;for(K(me,ge-257,5),K(me,ke-1,5),K(me,Re-4,4),je=0;je<Re;je++)K(me,me.bl_tree[2*O[je]+1],3);B(me,me.dyn_ltree,ge-1),B(me,me.dyn_dtree,ke-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,de+1),J(F,F.dyn_ltree,F.dyn_dtree)),$(F),ae&&N(F)},g._tr_tally=function(F,W,Y){return F.pending_buf[F.d_buf+2*F.last_lit]=W>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&W,F.pending_buf[F.l_buf+F.last_lit]=255&Y,F.last_lit++,W===0?F.dyn_ltree[2*Y]++:(F.matches++,W--,F.dyn_ltree[2*(R[Y]+y+1)]++,F.dyn_dtree[2*z(W)]++),F.last_lit===F.lit_bufsize-1},g._tr_align=function(F){K(F,2,3),Z(F,256,H),function(W){W.bi_valid===16?(P(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(d,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,p,g){(function(m){(function(v,y){if(!v.setImmediate){var x,w,_,M,U=1,L={},O=!1,H=v.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(v);G=G&&G.setTimeout?G:v,x={}.toString.call(v.process)==="[object process]"?function(j){s.nextTick(function(){R(j)})}:function(){if(v.postMessage&&!v.importScripts){var j=!0,k=v.onmessage;return v.onmessage=function(){j=!1},v.postMessage("","*"),v.onmessage=k,j}}()?(M="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",S,!1):v.attachEvent("onmessage",S),function(j){v.postMessage(M+j,"*")}):v.MessageChannel?((_=new MessageChannel).port1.onmessage=function(j){R(j.data)},function(j){_.port2.postMessage(j)}):H&&"onreadystatechange"in H.createElement("script")?(w=H.documentElement,function(j){var k=H.createElement("script");k.onreadystatechange=function(){R(j),k.onreadystatechange=null,w.removeChild(k),k=null},w.appendChild(k)}):function(j){setTimeout(R,0,j)},G.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var k=new Array(arguments.length-1),E=0;E<k.length;E++)k[E]=arguments[E+1];var A={callback:j,args:k};return L[U]=A,x(U),U++},G.clearImmediate=I}function I(j){delete L[j]}function R(j){if(O)setTimeout(R,0,j);else{var k=L[j];if(k){O=!0;try{(function(E){var A=E.callback,C=E.args;switch(C.length){case 0:A();break;case 1:A(C[0]);break;case 2:A(C[0],C[1]);break;case 3:A(C[0],C[1],C[2]);break;default:A.apply(void 0,C)}})(k)}finally{I(j),O=!1}}}}function S(j){j.source===v&&typeof j.data=="string"&&j.data.indexOf(M)===0&&R(+j.data.slice(M.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,f=u.Symbol,d=f?f.prototype:void 0,p=d?d.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(x){return!!x&&typeof x=="object"}(y)&&h.call(y)=="[object Symbol]"}(m))return p?p.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&a.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[o]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[a]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof s=="object"&&s&&s.Object===Object&&s,x=typeof self=="object"&&self&&self.Object===Object&&self,w=y||x||Function("return this")(),_=typeof i=="object"&&i&&!i.nodeType&&i,M=_&&typeof n=="object"&&n&&!n.nodeType&&n,U=M&&M.exports===_&&y.process,L=function(){try{return U&&U.binding("util")}catch{}}(),O=L&&L.isTypedArray;function H(we,De,et,it){for(var At=-1,mt=we?we.length:0;++At<mt;){var yt=we[At];De(it,yt,et(yt),we)}return it}function G(we,De){for(var et=-1,it=we?we.length:0;++et<it;)if(De(we[et],et,we))return!0;return!1}function I(we){var De=!1;if(we!=null&&typeof we.toString!="function")try{De=!!(we+"")}catch{}return De}function R(we){var De=-1,et=Array(we.size);return we.forEach(function(it,At){et[++De]=[At,it]}),et}function S(we){var De=-1,et=Array(we.size);return we.forEach(function(it){et[++De]=it}),et}var j,k,E,A=Array.prototype,C=Function.prototype,D=Object.prototype,z=w["__core-js_shared__"],P=(j=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",K=C.toString,Z=D.hasOwnProperty,te=D.toString,q=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=w.Symbol,N=w.Uint8Array,T=D.propertyIsEnumerable,V=A.splice,J=(k=Object.keys,E=Object,function(we){return k(E(we))}),re=jt(w,"DataView"),se=jt(w,"Map"),B=jt(w,"Promise"),ne=jt(w,"Set"),ee=jt(w,"WeakMap"),F=jt(Object,"create"),W=Pe(re),Y=Pe(se),ae=Pe(B),ce=Pe(ne),le=Pe(ee),de=$?$.prototype:void 0,me=de?de.valueOf:void 0,ge=de?de.toString:void 0;function ke(we){var De=-1,et=we?we.length:0;for(this.clear();++De<et;){var it=we[De];this.set(it[0],it[1])}}function Re(we){var De=-1,et=we?we.length:0;for(this.clear();++De<et;){var it=we[De];this.set(it[0],it[1])}}function je(we){var De=-1,et=we?we.length:0;for(this.clear();++De<et;){var it=we[De];this.set(it[0],it[1])}}function qe(we){var De=-1,et=we?we.length:0;for(this.__data__=new je;++De<et;)this.add(we[De])}function Je(we){this.__data__=new Re(we)}function Ve(we,De){var et=It(we)||Ft(we)?function(yt,_r){for(var lr=-1,fr=Array(yt);++lr<yt;)fr[lr]=_r(lr);return fr}(we.length,String):[],it=et.length,At=!!it;for(var mt in we)!Z.call(we,mt)||At&&(mt=="length"||Cr(mt,it))||et.push(mt);return et}function pt(we,De){for(var et=we.length;et--;)if(vt(we[et][0],De))return et;return-1}function $e(we,De,et,it){return Ke(we,function(At,mt,yt){De(it,At,et(At),yt)}),it}ke.prototype.clear=function(){this.__data__=F?F(null):{}},ke.prototype.delete=function(we){return this.has(we)&&delete this.__data__[we]},ke.prototype.get=function(we){var De=this.__data__;if(F){var et=De[we];return et==="__lodash_hash_undefined__"?void 0:et}return Z.call(De,we)?De[we]:void 0},ke.prototype.has=function(we){var De=this.__data__;return F?De[we]!==void 0:Z.call(De,we)},ke.prototype.set=function(we,De){return this.__data__[we]=F&&De===void 0?"__lodash_hash_undefined__":De,this},Re.prototype.clear=function(){this.__data__=[]},Re.prototype.delete=function(we){var De=this.__data__,et=pt(De,we);return!(et<0)&&(et==De.length-1?De.pop():V.call(De,et,1),!0)},Re.prototype.get=function(we){var De=this.__data__,et=pt(De,we);return et<0?void 0:De[et][1]},Re.prototype.has=function(we){return pt(this.__data__,we)>-1},Re.prototype.set=function(we,De){var et=this.__data__,it=pt(et,we);return it<0?et.push([we,De]):et[it][1]=De,this},je.prototype.clear=function(){this.__data__={hash:new ke,map:new(se||Re),string:new ke}},je.prototype.delete=function(we){return kr(this,we).delete(we)},je.prototype.get=function(we){return kr(this,we).get(we)},je.prototype.has=function(we){return kr(this,we).has(we)},je.prototype.set=function(we,De){return kr(this,we).set(we,De),this},qe.prototype.add=qe.prototype.push=function(we){return this.__data__.set(we,"__lodash_hash_undefined__"),this},qe.prototype.has=function(we){return this.__data__.has(we)},Je.prototype.clear=function(){this.__data__=new Re},Je.prototype.delete=function(we){return this.__data__.delete(we)},Je.prototype.get=function(we){return this.__data__.get(we)},Je.prototype.has=function(we){return this.__data__.has(we)},Je.prototype.set=function(we,De){var et=this.__data__;if(et instanceof Re){var it=et.__data__;if(!se||it.length<199)return it.push([we,De]),this;et=this.__data__=new je(it)}return et.set(we,De),this};var Ue,Ke=(Ue=function(we,De){return we&&rt(we,De,gn)},function(we,De){if(we==null)return we;if(!Tt(we))return Ue(we,De);for(var et=we.length,it=-1,At=Object(we);++it<et&&De(At[it],it,At)!==!1;);return we}),rt=function(we){return function(De,et,it){for(var At=-1,mt=Object(De),yt=it(De),_r=yt.length;_r--;){var lr=yt[++At];if(et(mt[lr],lr,mt)===!1)break}return De}}();function Ze(we,De){for(var et=0,it=(De=dt(De,we)?[De]:ot(De)).length;we!=null&&et<it;)we=we[Ne(De[et++])];return et&&et==it?we:void 0}function kt(we,De){return we!=null&&De in Object(we)}function wt(we,De,et,it,At){return we===De||(we==null||De==null||!ar(we)&&!Gr(De)?we!=we&&De!=De:function(mt,yt,_r,lr,fr,Xt){var Dr=It(mt),Hr=It(yt),ir="[object Array]",ln="[object Array]";Dr||(ir=(ir=hr(mt))==o?l:ir),Hr||(ln=(ln=hr(yt))==o?l:ln);var In=ir==l&&!I(mt),_n=ln==l&&!I(yt),xi=ir==ln;if(xi&&!In)return Xt||(Xt=new Je),Dr||mn(mt)?qt(mt,yt,_r,lr,fr,Xt):function(Wr,Mr,Ca,Di,xl,Bi,Fi){switch(Ca){case"[object DataView]":if(Wr.byteLength!=Mr.byteLength||Wr.byteOffset!=Mr.byteOffset)return!1;Wr=Wr.buffer,Mr=Mr.buffer;case"[object ArrayBuffer]":return!(Wr.byteLength!=Mr.byteLength||!Di(new N(Wr),new N(Mr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+Wr,+Mr);case"[object Error]":return Wr.name==Mr.name&&Wr.message==Mr.message;case"[object RegExp]":case"[object String]":return Wr==Mr+"";case a:var Ds=R;case c:var wl=2&Bi;if(Ds||(Ds=S),Wr.size!=Mr.size&&!wl)return!1;var bc=Fi.get(Wr);if(bc)return bc==Mr;Bi|=1,Fi.set(Wr,Mr);var Oo=qt(Ds(Wr),Ds(Mr),Di,xl,Bi,Fi);return Fi.delete(Wr),Oo;case"[object Symbol]":if(me)return me.call(Wr)==me.call(Mr)}return!1}(mt,yt,ir,_r,lr,fr,Xt);if(!(2&fr)){var wi=In&&Z.call(mt,"__wrapped__"),Ls=_n&&Z.call(yt,"__wrapped__");if(wi||Ls){var cn=wi?mt.value():mt,Aa=Ls?yt.value():yt;return Xt||(Xt=new Je),_r(cn,Aa,lr,fr,Xt)}}return xi?(Xt||(Xt=new Je),function(Wr,Mr,Ca,Di,xl,Bi){var Fi=2&xl,Ds=gn(Wr),wl=Ds.length,bc=gn(Mr).length;if(wl!=bc&&!Fi)return!1;for(var Oo=wl;Oo--;){var Bs=Ds[Oo];if(!(Fi?Bs in Mr:Z.call(Mr,Bs)))return!1}var Io=Bi.get(Wr);if(Io&&Bi.get(Mr))return Io==Mr;var ia=!0;Bi.set(Wr,Mr),Bi.set(Mr,Wr);for(var Ju=Fi;++Oo<wl;){Bs=Ds[Oo];var ja=Wr[Bs],Mo=Mr[Bs];if(Di)var or=Fi?Di(Mo,ja,Bs,Mr,Wr,Bi):Di(ja,Mo,Bs,Wr,Mr,Bi);if(!(or===void 0?ja===Mo||Ca(ja,Mo,Di,xl,Bi):or)){ia=!1;break}Ju||(Ju=Bs=="constructor")}if(ia&&!Ju){var xc=Wr.constructor,wc=Mr.constructor;xc==wc||!("constructor"in Wr)||!("constructor"in Mr)||typeof xc=="function"&&xc instanceof xc&&typeof wc=="function"&&wc instanceof wc||(ia=!1)}return Bi.delete(Wr),Bi.delete(Mr),ia}(mt,yt,_r,lr,fr,Xt)):!1}(we,De,wt,et,it,At))}function xt(we){return!(!ar(we)||function(De){return!!P&&P in De}(we))&&(Kt(we)||I(we)?q:g).test(Pe(we))}function Wt(we){return typeof we=="function"?we:we==null?Qn:typeof we=="object"?It(we)?function(it,At){return dt(it)&&wr(At)?jr(Ne(it),At):function(mt){var yt=function(_r,lr,fr){var Xt=_r==null?void 0:Ze(_r,lr);return Xt===void 0?fr:Xt}(mt,it);return yt===void 0&&yt===At?function(_r,lr){return _r!=null&&function(fr,Xt,Dr){Xt=dt(Xt,fr)?[Xt]:ot(Xt);for(var Hr,ir=-1,ln=Xt.length;++ir<ln;){var In=Ne(Xt[ir]);if(!(Hr=fr!=null&&Dr(fr,In)))break;fr=fr[In]}return Hr||!!(ln=fr?fr.length:0)&&zt(ln)&&Cr(In,ln)&&(It(fr)||Ft(fr))}(_r,lr,kt)}(mt,it):wt(At,yt,void 0,3)}}(we[0],we[1]):function(it){var At=function(mt){for(var yt=gn(mt),_r=yt.length;_r--;){var lr=yt[_r],fr=mt[lr];yt[_r]=[lr,fr,wr(fr)]}return yt}(it);return At.length==1&&At[0][2]?jr(At[0][0],At[0][1]):function(mt){return mt===it||function(yt,_r,lr,fr){var Xt=lr.length,Dr=Xt;if(yt==null)return!Dr;for(yt=Object(yt);Xt--;){var Hr=lr[Xt];if(Hr[2]?Hr[1]!==yt[Hr[0]]:!(Hr[0]in yt))return!1}for(;++Xt<Dr;){var ir=(Hr=lr[Xt])[0],ln=yt[ir],In=Hr[1];if(Hr[2]){if(ln===void 0&&!(ir in yt))return!1}else{var _n=new Je,xi;if(!(xi===void 0?wt(In,ln,fr,3,_n):xi))return!1}}return!0}(mt,it,At)}}(we):dt(De=we)?(et=Ne(De),function(it){return it==null?void 0:it[et]}):function(it){return function(At){return Ze(At,it)}}(De);var De,et}function St(we){if(et=(De=we)&&De.constructor,it=typeof et=="function"&&et.prototype||D,De!==it)return J(we);var De,et,it,At=[];for(var mt in Object(we))Z.call(we,mt)&&mt!="constructor"&&At.push(mt);return At}function ot(we){return It(we)?we:Gt(we)}function qt(we,De,et,it,At,mt){var yt=2&At,_r=we.length,lr=De.length;if(_r!=lr&&!(yt&&lr>_r))return!1;var fr=mt.get(we);if(fr&&mt.get(De))return fr==De;var Xt=-1,Dr=!0,Hr=1&At?new qe:void 0;for(mt.set(we,De),mt.set(De,we);++Xt<_r;){var ir=we[Xt],ln=De[Xt];if(it)var In=yt?it(ln,ir,Xt,De,we,mt):it(ir,ln,Xt,we,De,mt);if(In!==void 0){if(In)continue;Dr=!1;break}if(Hr){if(!G(De,function(_n,xi){if(!Hr.has(xi)&&(ir===_n||et(ir,_n,it,At,mt)))return Hr.add(xi)})){Dr=!1;break}}else if(ir!==ln&&!et(ir,ln,it,At,mt)){Dr=!1;break}}return mt.delete(we),mt.delete(De),Dr}function kr(we,De){var et,it,At=we.__data__;return((it=typeof(et=De))=="string"||it=="number"||it=="symbol"||it=="boolean"?et!=="__proto__":et===null)?At[typeof De=="string"?"string":"hash"]:At.map}function jt(we,De){var et=function(it,At){return it==null?void 0:it[At]}(we,De);return xt(et)?et:void 0}var hr=function(we){return te.call(we)};function Cr(we,De){return!!(De=De??9007199254740991)&&(typeof we=="number"||m.test(we))&&we>-1&&we%1==0&&we<De}function dt(we,De){if(It(we))return!1;var et=typeof we;return!(et!="number"&&et!="symbol"&&et!="boolean"&&we!=null&&!zr(we))||h.test(we)||!u.test(we)||De!=null&&we in Object(De)}function wr(we){return we==we&&!ar(we)}function jr(we,De){return function(et){return et!=null&&et[we]===De&&(De!==void 0||we in Object(et))}}(re&&hr(new re(new ArrayBuffer(1)))!="[object DataView]"||se&&hr(new se)!=a||B&&hr(B.resolve())!="[object Promise]"||ne&&hr(new ne)!=c||ee&&hr(new ee)!="[object WeakMap]")&&(hr=function(we){var De=te.call(we),et=De==l?we.constructor:void 0,it=et?Pe(et):void 0;if(it)switch(it){case W:return"[object DataView]";case Y:return a;case ae:return"[object Promise]";case ce:return c;case le:return"[object WeakMap]"}return De});var Gt=Bt(function(we){var De;we=(De=we)==null?"":function(it){if(typeof it=="string")return it;if(zr(it))return ge?ge.call(it):"";var At=it+"";return At=="0"&&1/it==-1/0?"-0":At}(De);var et=[];return f.test(we)&&et.push(""),we.replace(d,function(it,At,mt,yt){et.push(mt?yt.replace(p,"$1"):At||it)}),et});function Ne(we){if(typeof we=="string"||zr(we))return we;var De=we+"";return De=="0"&&1/we==-1/0?"-0":De}function Pe(we){if(we!=null){try{return K.call(we)}catch{}try{return we+""}catch{}}return""}var We,ct=(We=function(we,De,et){Z.call(we,et)?we[et].push(De):we[et]=[De]},function(we,De){var et=It(we)?H:$e,it={};return et(we,We,Wt(De),it)});function Bt(we,De){if(typeof we!="function"||De&&typeof De!="function")throw new TypeError("Expected a function");var et=function(){var it=arguments,At=De?De.apply(this,it):it[0],mt=et.cache;if(mt.has(At))return mt.get(At);var yt=we.apply(this,it);return et.cache=mt.set(At,yt),yt};return et.cache=new(Bt.Cache||je),et}function vt(we,De){return we===De||we!=we&&De!=De}function Ft(we){return function(De){return Gr(De)&&Tt(De)}(we)&&Z.call(we,"callee")&&(!T.call(we,"callee")||te.call(we)==o)}Bt.Cache=je;var It=Array.isArray;function Tt(we){return we!=null&&zt(we.length)&&!Kt(we)}function Kt(we){var De=ar(we)?te.call(we):"";return De=="[object Function]"||De=="[object GeneratorFunction]"}function zt(we){return typeof we=="number"&&we>-1&&we%1==0&&we<=9007199254740991}function ar(we){var De=typeof we;return!!we&&(De=="object"||De=="function")}function Gr(we){return!!we&&typeof we=="object"}function zr(we){return typeof we=="symbol"||Gr(we)&&te.call(we)=="[object Symbol]"}var mn=O?function(we){return function(De){return we(De)}}(O):function(we){return Gr(we)&&zt(we.length)&&!!v[te.call(we)]};function gn(we){return Tt(we)?Ve(we):St(we)}function Qn(we){return we}n.exports=ct}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[a]=f["[object Number]"]=f[l]=f["[object RegExp]"]=f[c]=f["[object String]"]=f["[object WeakMap]"]=!1;var d=typeof s=="object"&&s&&s.Object===Object&&s,p=typeof self=="object"&&self&&self.Object===Object&&self,g=d||p||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===m,x=y&&d.process,w=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),_=w&&w.isTypedArray;function M(Ne,Pe){for(var We=-1,ct=Ne==null?0:Ne.length;++We<ct;)if(Pe(Ne[We],We,Ne))return!0;return!1}function U(Ne){var Pe=-1,We=Array(Ne.size);return Ne.forEach(function(ct,Bt){We[++Pe]=[Bt,ct]}),We}function L(Ne){var Pe=-1,We=Array(Ne.size);return Ne.forEach(function(ct){We[++Pe]=ct}),We}var O,H,G,I=Array.prototype,R=Function.prototype,S=Object.prototype,j=g["__core-js_shared__"],k=R.toString,E=S.hasOwnProperty,A=(O=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",C=S.toString,D=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=y?g.Buffer:void 0,P=g.Symbol,K=g.Uint8Array,Z=S.propertyIsEnumerable,te=I.splice,q=P?P.toStringTag:void 0,$=Object.getOwnPropertySymbols,N=z?z.isBuffer:void 0,T=(H=Object.keys,G=Object,function(Ne){return H(G(Ne))}),V=kt(g,"DataView"),J=kt(g,"Map"),re=kt(g,"Promise"),se=kt(g,"Set"),B=kt(g,"WeakMap"),ne=kt(Object,"create"),ee=St(V),F=St(J),W=St(re),Y=St(se),ae=St(B),ce=P?P.prototype:void 0,le=ce?ce.valueOf:void 0;function de(Ne){var Pe=-1,We=Ne==null?0:Ne.length;for(this.clear();++Pe<We;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function me(Ne){var Pe=-1,We=Ne==null?0:Ne.length;for(this.clear();++Pe<We;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function ge(Ne){var Pe=-1,We=Ne==null?0:Ne.length;for(this.clear();++Pe<We;){var ct=Ne[Pe];this.set(ct[0],ct[1])}}function ke(Ne){var Pe=-1,We=Ne==null?0:Ne.length;for(this.__data__=new ge;++Pe<We;)this.add(Ne[Pe])}function Re(Ne){var Pe=this.__data__=new me(Ne);this.size=Pe.size}function je(Ne,Pe){var We=kr(Ne),ct=!We&&qt(Ne),Bt=!We&&!ct&&jt(Ne),vt=!We&&!ct&&!Bt&&jr(Ne),Ft=We||ct||Bt||vt,It=Ft?function(zt,ar){for(var Gr=-1,zr=Array(zt);++Gr<zt;)zr[Gr]=ar(Gr);return zr}(Ne.length,String):[],Tt=It.length;for(var Kt in Ne)!E.call(Ne,Kt)||Ft&&(Kt=="length"||Bt&&(Kt=="offset"||Kt=="parent")||vt&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||Wt(Kt,Tt))||It.push(Kt);return It}function qe(Ne,Pe){for(var We=Ne.length;We--;)if(ot(Ne[We][0],Pe))return We;return-1}function Je(Ne){return Ne==null?Ne===void 0?"[object Undefined]":"[object Null]":q&&q in Object(Ne)?function(Pe){var We=E.call(Pe,q),ct=Pe[q];try{Pe[q]=void 0;var Bt=!0}catch{}var vt=C.call(Pe);return Bt&&(We?Pe[q]=ct:delete Pe[q]),vt}(Ne):function(Pe){return C.call(Pe)}(Ne)}function Ve(Ne){return wr(Ne)&&Je(Ne)==o}function pt(Ne,Pe,We,ct,Bt){return Ne===Pe||(Ne==null||Pe==null||!wr(Ne)&&!wr(Pe)?Ne!=Ne&&Pe!=Pe:function(vt,Ft,It,Tt,Kt,zt){var ar=kr(vt),Gr=kr(Ft),zr=ar?"[object Array]":xt(vt),mn=Gr?"[object Array]":xt(Ft),gn=(zr=zr==o?l:zr)==l,Qn=(mn=mn==o?l:mn)==l,we=zr==mn;if(we&&jt(vt)){if(!jt(Ft))return!1;ar=!0,gn=!1}if(we&&!gn)return zt||(zt=new Re),ar||jr(vt)?Ke(vt,Ft,It,Tt,Kt,zt):function(mt,yt,_r,lr,fr,Xt,Dr){switch(_r){case"[object DataView]":if(mt.byteLength!=yt.byteLength||mt.byteOffset!=yt.byteOffset)return!1;mt=mt.buffer,yt=yt.buffer;case"[object ArrayBuffer]":return!(mt.byteLength!=yt.byteLength||!Xt(new K(mt),new K(yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ot(+mt,+yt);case"[object Error]":return mt.name==yt.name&&mt.message==yt.message;case"[object RegExp]":case"[object String]":return mt==yt+"";case a:var Hr=U;case c:var ir=1&lr;if(Hr||(Hr=L),mt.size!=yt.size&&!ir)return!1;var ln=Dr.get(mt);if(ln)return ln==yt;lr|=2,Dr.set(mt,yt);var In=Ke(Hr(mt),Hr(yt),lr,fr,Xt,Dr);return Dr.delete(mt),In;case"[object Symbol]":if(le)return le.call(mt)==le.call(yt)}return!1}(vt,Ft,zr,It,Tt,Kt,zt);if(!(1&It)){var De=gn&&E.call(vt,"__wrapped__"),et=Qn&&E.call(Ft,"__wrapped__");if(De||et){var it=De?vt.value():vt,At=et?Ft.value():Ft;return zt||(zt=new Re),Kt(it,At,It,Tt,zt)}}return we?(zt||(zt=new Re),function(mt,yt,_r,lr,fr,Xt){var Dr=1&_r,Hr=rt(mt),ir=Hr.length,ln=rt(yt).length;if(ir!=ln&&!Dr)return!1;for(var In=ir;In--;){var _n=Hr[In];if(!(Dr?_n in yt:E.call(yt,_n)))return!1}var xi=Xt.get(mt);if(xi&&Xt.get(yt))return xi==yt;var wi=!0;Xt.set(mt,yt),Xt.set(yt,mt);for(var Ls=Dr;++In<ir;){_n=Hr[In];var cn=mt[_n],Aa=yt[_n];if(lr)var Wr=Dr?lr(Aa,cn,_n,yt,mt,Xt):lr(cn,Aa,_n,mt,yt,Xt);if(!(Wr===void 0?cn===Aa||fr(cn,Aa,_r,lr,Xt):Wr)){wi=!1;break}Ls||(Ls=_n=="constructor")}if(wi&&!Ls){var Mr=mt.constructor,Ca=yt.constructor;Mr==Ca||!("constructor"in mt)||!("constructor"in yt)||typeof Mr=="function"&&Mr instanceof Mr&&typeof Ca=="function"&&Ca instanceof Ca||(wi=!1)}return Xt.delete(mt),Xt.delete(yt),wi}(vt,Ft,It,Tt,Kt,zt)):!1}(Ne,Pe,We,ct,pt,Bt))}function $e(Ne){return!(!dt(Ne)||function(Pe){return!!A&&A in Pe}(Ne))&&(hr(Ne)?D:u).test(St(Ne))}function Ue(Ne){if(We=(Pe=Ne)&&Pe.constructor,ct=typeof We=="function"&&We.prototype||S,Pe!==ct)return T(Ne);var Pe,We,ct,Bt=[];for(var vt in Object(Ne))E.call(Ne,vt)&&vt!="constructor"&&Bt.push(vt);return Bt}function Ke(Ne,Pe,We,ct,Bt,vt){var Ft=1&We,It=Ne.length,Tt=Pe.length;if(It!=Tt&&!(Ft&&Tt>It))return!1;var Kt=vt.get(Ne);if(Kt&&vt.get(Pe))return Kt==Pe;var zt=-1,ar=!0,Gr=2&We?new ke:void 0;for(vt.set(Ne,Pe),vt.set(Pe,Ne);++zt<It;){var zr=Ne[zt],mn=Pe[zt];if(ct)var gn=Ft?ct(mn,zr,zt,Pe,Ne,vt):ct(zr,mn,zt,Ne,Pe,vt);if(gn!==void 0){if(gn)continue;ar=!1;break}if(Gr){if(!M(Pe,function(Qn,we){if(De=we,!Gr.has(De)&&(zr===Qn||Bt(zr,Qn,We,ct,vt)))return Gr.push(we);var De})){ar=!1;break}}else if(zr!==mn&&!Bt(zr,mn,We,ct,vt)){ar=!1;break}}return vt.delete(Ne),vt.delete(Pe),ar}function rt(Ne){return function(Pe,We,ct){var Bt=We(Pe);return kr(Pe)?Bt:function(vt,Ft){for(var It=-1,Tt=Ft.length,Kt=vt.length;++It<Tt;)vt[Kt+It]=Ft[It];return vt}(Bt,ct(Pe))}(Ne,Gt,wt)}function Ze(Ne,Pe){var We,ct,Bt=Ne.__data__;return((ct=typeof(We=Pe))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?We!=="__proto__":We===null)?Bt[typeof Pe=="string"?"string":"hash"]:Bt.map}function kt(Ne,Pe){var We=function(ct,Bt){return ct==null?void 0:ct[Bt]}(Ne,Pe);return $e(We)?We:void 0}de.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},de.prototype.delete=function(Ne){var Pe=this.has(Ne)&&delete this.__data__[Ne];return this.size-=Pe?1:0,Pe},de.prototype.get=function(Ne){var Pe=this.__data__;if(ne){var We=Pe[Ne];return We==="__lodash_hash_undefined__"?void 0:We}return E.call(Pe,Ne)?Pe[Ne]:void 0},de.prototype.has=function(Ne){var Pe=this.__data__;return ne?Pe[Ne]!==void 0:E.call(Pe,Ne)},de.prototype.set=function(Ne,Pe){var We=this.__data__;return this.size+=this.has(Ne)?0:1,We[Ne]=ne&&Pe===void 0?"__lodash_hash_undefined__":Pe,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(Ne){var Pe=this.__data__,We=qe(Pe,Ne);return!(We<0)&&(We==Pe.length-1?Pe.pop():te.call(Pe,We,1),--this.size,!0)},me.prototype.get=function(Ne){var Pe=this.__data__,We=qe(Pe,Ne);return We<0?void 0:Pe[We][1]},me.prototype.has=function(Ne){return qe(this.__data__,Ne)>-1},me.prototype.set=function(Ne,Pe){var We=this.__data__,ct=qe(We,Ne);return ct<0?(++this.size,We.push([Ne,Pe])):We[ct][1]=Pe,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(J||me),string:new de}},ge.prototype.delete=function(Ne){var Pe=Ze(this,Ne).delete(Ne);return this.size-=Pe?1:0,Pe},ge.prototype.get=function(Ne){return Ze(this,Ne).get(Ne)},ge.prototype.has=function(Ne){return Ze(this,Ne).has(Ne)},ge.prototype.set=function(Ne,Pe){var We=Ze(this,Ne),ct=We.size;return We.set(Ne,Pe),this.size+=We.size==ct?0:1,this},ke.prototype.add=ke.prototype.push=function(Ne){return this.__data__.set(Ne,"__lodash_hash_undefined__"),this},ke.prototype.has=function(Ne){return this.__data__.has(Ne)},Re.prototype.clear=function(){this.__data__=new me,this.size=0},Re.prototype.delete=function(Ne){var Pe=this.__data__,We=Pe.delete(Ne);return this.size=Pe.size,We},Re.prototype.get=function(Ne){return this.__data__.get(Ne)},Re.prototype.has=function(Ne){return this.__data__.has(Ne)},Re.prototype.set=function(Ne,Pe){var We=this.__data__;if(We instanceof me){var ct=We.__data__;if(!J||ct.length<199)return ct.push([Ne,Pe]),this.size=++We.size,this;We=this.__data__=new ge(ct)}return We.set(Ne,Pe),this.size=We.size,this};var wt=$?function(Ne){return Ne==null?[]:(Ne=Object(Ne),function(Pe,We){for(var ct=-1,Bt=Pe==null?0:Pe.length,vt=0,Ft=[];++ct<Bt;){var It=Pe[ct];We(It,ct,Pe)&&(Ft[vt++]=It)}return Ft}($(Ne),function(Pe){return Z.call(Ne,Pe)}))}:function(){return[]},xt=Je;function Wt(Ne,Pe){return!!(Pe=Pe??9007199254740991)&&(typeof Ne=="number"||h.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Pe}function St(Ne){if(Ne!=null){try{return k.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function ot(Ne,Pe){return Ne===Pe||Ne!=Ne&&Pe!=Pe}(V&&xt(new V(new ArrayBuffer(1)))!="[object DataView]"||J&&xt(new J)!=a||re&&xt(re.resolve())!="[object Promise]"||se&&xt(new se)!=c||B&&xt(new B)!="[object WeakMap]")&&(xt=function(Ne){var Pe=Je(Ne),We=Pe==l?Ne.constructor:void 0,ct=We?St(We):"";if(ct)switch(ct){case ee:return"[object DataView]";case F:return a;case W:return"[object Promise]";case Y:return c;case ae:return"[object WeakMap]"}return Pe});var qt=Ve(function(){return arguments}())?Ve:function(Ne){return wr(Ne)&&E.call(Ne,"callee")&&!Z.call(Ne,"callee")},kr=Array.isArray,jt=N||function(){return!1};function hr(Ne){if(!dt(Ne))return!1;var Pe=Je(Ne);return Pe=="[object Function]"||Pe=="[object GeneratorFunction]"||Pe=="[object AsyncFunction]"||Pe=="[object Proxy]"}function Cr(Ne){return typeof Ne=="number"&&Ne>-1&&Ne%1==0&&Ne<=9007199254740991}function dt(Ne){var Pe=typeof Ne;return Ne!=null&&(Pe=="object"||Pe=="function")}function wr(Ne){return Ne!=null&&typeof Ne=="object"}var jr=_?function(Ne){return function(Pe){return Ne(Pe)}}(_):function(Ne){return wr(Ne)&&Cr(Ne.length)&&!!f[Je(Ne)]};function Gt(Ne){return(Pe=Ne)!=null&&Cr(Pe.length)&&!hr(Pe)?je(Ne):Ue(Ne);var Pe}n.exports=function(Ne,Pe){return pt(Ne,Pe)}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,h=c.toString,f=l.Symbol,d=f?f.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?function(m){var v=u.call(m,d),y=m[d];try{m[d]=void 0;var x=!0}catch{}var w=h.call(m);return x&&(v?m[d]=y:delete m[d]),w}(g):function(m){return h.call(m)}(g)}n.exports=function(g){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(s){return s==null}},{}],448:[function(r,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(r,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")();function u(P,K){return!!(P&&P.length)&&function(Z,te,q){if(te!=te)return function(T,V,J,re){for(var se=T.length,B=J+-1;++B<se;)if(V(T[B],B,T))return B;return-1}(Z,h,q);for(var $=q-1,N=Z.length;++$<N;)if(Z[$]===te)return $;return-1}(P,K,0)>-1}function h(P){return P!=P}function f(P,K){return P.has(K)}function d(P){var K=-1,Z=Array(P.size);return P.forEach(function(te){Z[++K]=te}),Z}var p,g=Array.prototype,m=Function.prototype,v=Object.prototype,y=c["__core-js_shared__"],x=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",w=m.toString,_=v.hasOwnProperty,M=v.toString,U=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=g.splice,O=D(c,"Map"),H=D(c,"Set"),G=D(Object,"create");function I(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function R(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function S(P){var K=-1,Z=P?P.length:0;for(this.clear();++K<Z;){var te=P[K];this.set(te[0],te[1])}}function j(P){var K=-1,Z=P?P.length:0;for(this.__data__=new S;++K<Z;)this.add(P[K])}function k(P,K){for(var Z,te,q=P.length;q--;)if((Z=P[q][0])===(te=K)||Z!=Z&&te!=te)return q;return-1}function E(P){return!(!z(P)||(K=P,x&&x in K))&&(function(Z){var te=z(Z)?M.call(Z):"";return te=="[object Function]"||te=="[object GeneratorFunction]"}(P)||function(Z){var te=!1;if(Z!=null&&typeof Z.toString!="function")try{te=!!(Z+"")}catch{}return te}(P)?U:o).test(function(Z){if(Z!=null){try{return w.call(Z)}catch{}try{return Z+""}catch{}}return""}(P));var K}I.prototype.clear=function(){this.__data__=G?G(null):{}},I.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},I.prototype.get=function(P){var K=this.__data__;if(G){var Z=K[P];return Z==="__lodash_hash_undefined__"?void 0:Z}return _.call(K,P)?K[P]:void 0},I.prototype.has=function(P){var K=this.__data__;return G?K[P]!==void 0:_.call(K,P)},I.prototype.set=function(P,K){return this.__data__[P]=G&&K===void 0?"__lodash_hash_undefined__":K,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(P){var K=this.__data__,Z=k(K,P);return!(Z<0)&&(Z==K.length-1?K.pop():L.call(K,Z,1),!0)},R.prototype.get=function(P){var K=this.__data__,Z=k(K,P);return Z<0?void 0:K[Z][1]},R.prototype.has=function(P){return k(this.__data__,P)>-1},R.prototype.set=function(P,K){var Z=this.__data__,te=k(Z,P);return te<0?Z.push([P,K]):Z[te][1]=K,this},S.prototype.clear=function(){this.__data__={hash:new I,map:new(O||R),string:new I}},S.prototype.delete=function(P){return C(this,P).delete(P)},S.prototype.get=function(P){return C(this,P).get(P)},S.prototype.has=function(P){return C(this,P).has(P)},S.prototype.set=function(P,K){return C(this,P).set(P,K),this},j.prototype.add=j.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},j.prototype.has=function(P){return this.__data__.has(P)};var A=H&&1/d(new H([,-0]))[1]==1/0?function(P){return new H(P)}:function(){};function C(P,K){var Z,te,q=P.__data__;return((te=typeof(Z=K))=="string"||te=="number"||te=="symbol"||te=="boolean"?Z!=="__proto__":Z===null)?q[typeof K=="string"?"string":"hash"]:q.map}function D(P,K){var Z=function(te,q){return te==null?void 0:te[q]}(P,K);return E(Z)?Z:void 0}function z(P){var K=typeof P;return!!P&&(K=="object"||K=="function")}n.exports=function(P){return P&&P.length?function(K,Z,te){var q=-1,$=u,N=K.length,T=!0,V=[],J=V;if(N>=200){var re=A(K);if(re)return d(re);T=!1,$=f,J=new j}else J=V;e:for(;++q<N;){var se=K[q],B=se;if(se=se!==0?se:0,T&&B==B){for(var ne=J.length;ne--;)if(J[ne]===B)continue e;V.push(se)}else $(J,B,te)||(J!==V&&J.push(B),V.push(se))}return V}(P):[]}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var s=r("inherits"),o=r("hash-base"),a=r("safe-buffer").Buffer,l=new Array(16);function c(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,m){return g<<m|g>>>32-m}function h(g,m,v,y,x,w,_){return u(g+(m&v|~m&y)+x+w|0,_)+m|0}function f(g,m,v,y,x,w,_){return u(g+(m&y|v&~y)+x+w|0,_)+m|0}function d(g,m,v,y,x,w,_){return u(g+(m^v^y)+x+w|0,_)+m|0}function p(g,m,v,y,x,w,_){return u(g+(v^(m|~y))+x+w|0,_)+m|0}s(c,o),c.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,y=this._b,x=this._c,w=this._d;v=h(v,y,x,w,g[0],3614090360,7),w=h(w,v,y,x,g[1],3905402710,12),x=h(x,w,v,y,g[2],606105819,17),y=h(y,x,w,v,g[3],3250441966,22),v=h(v,y,x,w,g[4],4118548399,7),w=h(w,v,y,x,g[5],1200080426,12),x=h(x,w,v,y,g[6],2821735955,17),y=h(y,x,w,v,g[7],4249261313,22),v=h(v,y,x,w,g[8],1770035416,7),w=h(w,v,y,x,g[9],2336552879,12),x=h(x,w,v,y,g[10],4294925233,17),y=h(y,x,w,v,g[11],2304563134,22),v=h(v,y,x,w,g[12],1804603682,7),w=h(w,v,y,x,g[13],4254626195,12),x=h(x,w,v,y,g[14],2792965006,17),v=f(v,y=h(y,x,w,v,g[15],1236535329,22),x,w,g[1],4129170786,5),w=f(w,v,y,x,g[6],3225465664,9),x=f(x,w,v,y,g[11],643717713,14),y=f(y,x,w,v,g[0],3921069994,20),v=f(v,y,x,w,g[5],3593408605,5),w=f(w,v,y,x,g[10],38016083,9),x=f(x,w,v,y,g[15],3634488961,14),y=f(y,x,w,v,g[4],3889429448,20),v=f(v,y,x,w,g[9],568446438,5),w=f(w,v,y,x,g[14],3275163606,9),x=f(x,w,v,y,g[3],4107603335,14),y=f(y,x,w,v,g[8],1163531501,20),v=f(v,y,x,w,g[13],2850285829,5),w=f(w,v,y,x,g[2],4243563512,9),x=f(x,w,v,y,g[7],1735328473,14),v=d(v,y=f(y,x,w,v,g[12],2368359562,20),x,w,g[5],4294588738,4),w=d(w,v,y,x,g[8],2272392833,11),x=d(x,w,v,y,g[11],1839030562,16),y=d(y,x,w,v,g[14],4259657740,23),v=d(v,y,x,w,g[1],2763975236,4),w=d(w,v,y,x,g[4],1272893353,11),x=d(x,w,v,y,g[7],4139469664,16),y=d(y,x,w,v,g[10],3200236656,23),v=d(v,y,x,w,g[13],681279174,4),w=d(w,v,y,x,g[0],3936430074,11),x=d(x,w,v,y,g[3],3572445317,16),y=d(y,x,w,v,g[6],76029189,23),v=d(v,y,x,w,g[9],3654602809,4),w=d(w,v,y,x,g[12],3873151461,11),x=d(x,w,v,y,g[15],530742520,16),v=p(v,y=d(y,x,w,v,g[2],3299628645,23),x,w,g[0],4096336452,6),w=p(w,v,y,x,g[7],1126891415,10),x=p(x,w,v,y,g[14],2878612391,15),y=p(y,x,w,v,g[5],4237533241,21),v=p(v,y,x,w,g[12],1700485571,6),w=p(w,v,y,x,g[3],2399980690,10),x=p(x,w,v,y,g[10],4293915773,15),y=p(y,x,w,v,g[1],2240044497,21),v=p(v,y,x,w,g[8],1873313359,6),w=p(w,v,y,x,g[15],4264355552,10),x=p(x,w,v,y,g[6],2734768916,15),y=p(y,x,w,v,g[13],1309151649,21),v=p(v,y,x,w,g[4],4149444226,6),w=p(w,v,y,x,g[11],3174756917,10),x=p(x,w,v,y,g[2],718787259,15),y=p(y,x,w,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+x|0,this._d=this._d+w|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=a.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var s=r("bn.js"),o=r("brorand");function a(l){this.rand=l||new o.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var h=new s(this.rand.generate(u));while(h.cmp(l)>=0);return h},a.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},a.prototype.test=function(l,c,u){var h=l.bitLength(),f=s.mont(l),d=new s(1).toRed(f);c||(c=Math.max(1,h/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),v=p.toRed(f);c>0;c--){var y=this._randrange(new s(2),p);u&&u(y);var x=y.toRed(f).redPow(m);if(x.cmp(d)!==0&&x.cmp(v)!==0){for(var w=1;w<g;w++){if((x=x.redSqr()).cmp(d)===0)return!1;if(x.cmp(v)===0)break}if(w===g)return!1}}return!0},a.prototype.getDivisor=function(l,c){var u=l.bitLength(),h=s.mont(l),f=new s(1).toRed(h);c||(c=Math.max(1,u/48|0));for(var d=l.subn(1),p=0;!d.testn(p);p++);for(var g=l.shrn(p),m=d.toRed(h);c>0;c--){var v=this._randrange(new s(2),d),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var x=v.toRed(h).redPow(g);if(x.cmp(f)!==0&&x.cmp(m)!==0){for(var w=1;w<p;w++){if((x=x.redSqr()).cmp(f)===0)return x.fromRed().subn(1).gcd(l);if(x.cmp(m)===0)break}if(w===p)return(x=x.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function s(o,a){if(!o)throw new Error(a||"Assertion failed")}n.exports=s,s.equal=function(o,a,l){if(o!=a)throw new Error(l||"Assertion failed: "+o+" != "+a)}},{}],454:[function(r,n,i){var s=i;function o(l){return l.length===1?"0"+l:l}function a(l){for(var c="",u=0;u<l.length;u++)c+=o(l[u].toString(16));return c}s.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var h=0;h<l.length;h++)u[h]=0|l[h];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),h=0;h<l.length;h+=2)u.push(parseInt(l[h]+l[h+1],16));else for(h=0;h<l.length;h++){var f=l.charCodeAt(h),d=f>>8,p=255&f;d?u.push(d,p):u.push(p)}return u},s.zero2=o,s.toHex=a,s.encode=function(l,c){return c==="hex"?a(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var s=r("asn1.js");i.certificate=r("./certificate");var o=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var a=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=a;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var h=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=h;var f=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=f,i.DSAparam=s.define("DSAparam",function(){this.int()});var d=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=d;var p=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var s=r("asn1.js"),o=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(a)}),h=s.define("RDNSequence",function(){this.seqof(u)}),f=s.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),d=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),p=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(f),this.key("validity").use(d),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(r,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),c=r("browserify-aes"),u=r("safe-buffer").Buffer;n.exports=function(h,f){var d,p=h.toString(),g=p.match(s);if(g){var m="aes"+g[1],v=u.from(g[2],"hex"),y=u.from(g[3].replace(/[\r\n]/g,""),"base64"),x=l(f,v.slice(0,8),parseInt(g[1],10)).key,w=[],_=c.createDecipheriv(m,x,v);w.push(_.update(y)),w.push(_.final()),d=u.concat(w)}else{var M=p.match(a);d=u.from(M[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(o)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var s=r("./asn1"),o=r("./aesid.json"),a=r("./fixProc"),l=r("browserify-aes"),c=r("pbkdf2"),u=r("safe-buffer").Buffer;function h(f){var d;typeof f!="object"||u.isBuffer(f)||(d=f.passphrase,f=f.key),typeof f=="string"&&(f=u.from(f));var p,g,m=a(f,d),v=m.tag,y=m.data;switch(v){case"CERTIFICATE":g=s.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=s.PublicKey.decode(y,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=s.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=function(x,w){var _=x.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),U=o[x.algorithm.decrypt.cipher.algo.join(".")],L=x.algorithm.decrypt.cipher.iv,O=x.subjectPrivateKey,H=parseInt(U.split("-")[1],10)/8,G=c.pbkdf2Sync(w,_,M,H,"sha1"),I=l.createDecipheriv(U,G,L),R=[];return R.push(I.update(O)),R.push(I.final()),u.concat(R)}(y=s.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(p=(g=s.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:s.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=s.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=s.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=h,h.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(s){(function(){var o,a,l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./sync"),f=r("./to-buffer"),d=s.crypto&&s.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return a||(a=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function v(y,x,w,_,M){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(U){return d.deriveBits({name:"PBKDF2",salt:x,iterations:w,hash:{name:M}},U,_<<3)}).then(function(U){return l.from(U)})}n.exports=function(y,x,w,_,M,U){typeof M=="function"&&(U=M,M=void 0);var L=p[(M=M||"sha1").toLowerCase()];if(L&&typeof s.Promise=="function"){if(c(w,_),y=f(y,u,"Password"),x=f(x,u,"Salt"),typeof U!="function")throw new Error("No callback provided to pbkdf2");(function(O,H){O.then(function(G){m()(function(){H(null,G)})},function(G){m()(function(){H(G)})})})(function(O){if(s.process&&!s.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(g[O]!==void 0)return g[O];var H=v(o=o||l.alloc(8),o,10,128,O).then(function(){return!0}).catch(function(){return!1});return g[O]=H,H}(L).then(function(O){return O?v(y,x,w,_,L):h(y,x,w,_,M)}),U)}else m()(function(){var O;try{O=h(y,x,w,_,M)}catch(H){return U(H)}U(null,O)})}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(s,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>s||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var s=r("create-hash/md5"),o=r("ripemd160"),a=r("sha.js"),l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./to-buffer"),f=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,v){var y=function(L){function O(H){return a(L).update(H).digest()}return L==="rmd160"||L==="ripemd160"?function(H){return new o().update(H).digest()}:L==="md5"?s:O}(g),x=g==="sha512"||g==="sha384"?128:64;m.length>x?m=y(m):m.length<x&&(m=l.concat([m,f],x));for(var w=l.allocUnsafe(x+d[g]),_=l.allocUnsafe(x+d[g]),M=0;M<x;M++)w[M]=54^m[M],_[M]=92^m[M];var U=l.allocUnsafe(x+v+4);w.copy(U,0,0,x),this.ipad1=U,this.ipad2=w,this.opad=_,this.alg=g,this.blocksize=x,this.hash=y,this.size=d[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,m,v,y,x){c(v,y);var w=new p(x=x||"sha1",g=h(g,u,"Password"),(m=h(m,u,"Salt")).length),_=l.allocUnsafe(y),M=l.allocUnsafe(m.length+4);m.copy(M,0,0,m.length);for(var U=0,L=d[x],O=Math.ceil(y/L),H=1;H<=O;H++){M.writeUInt32BE(H,m.length);for(var G=w.run(M,w.ipad1),I=G,R=1;R<v;R++){I=w.run(I,w.ipad2);for(var S=0;S<L;S++)G[S]^=I[S]}G.copy(_,U),U+=L}return _}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var s=r("safe-buffer").Buffer;n.exports=function(o,a,l){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,a);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,a,l,c){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,h,f=arguments.length;switch(f){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick(function(){o.call(null,a)});case 3:return s.nextTick(function(){o.call(null,a,l)});case 4:return s.nextTick(function(){o.call(null,a,l,c)});default:for(u=new Array(f-1),h=0;h<u.length;)u[h++]=arguments[h];return s.nextTick(function(){o.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var s,o,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(x){if(s===setTimeout)return setTimeout(x,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:c}catch{o=c}})();var h,f=[],d=!1,p=-1;function g(){d&&h&&(d=!1,h.length?f=h.concat(f):p=-1,f.length&&m())}function m(){if(!d){var x=u(g);d=!0;for(var w=f.length;w;){for(h=f,f=[];++p<w;)h&&h[p].run();p=-1,w=f.length}h=null,d=!1,function(_){if(o===clearTimeout)return clearTimeout(_);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}(x)}}function v(x,w){this.fun=x,this.array=w}function y(){}a.nextTick=function(x){var w=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)w[_-1]=arguments[_];f.push(new v(x,w)),f.length!==1||d||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var s=r("create-hash"),o=r("safe-buffer").Buffer;function a(l){var c=o.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,h=o.alloc(0),f=0;h.length<c;)u=a(f++),h=o.concat([h,s("sha1").update(l).update(u).digest()]);return h.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var s=r("parse-asn1"),o=r("./mgf"),a=r("./xor"),l=r("bn.js"),c=r("browserify-rsa"),u=r("create-hash"),h=r("./withPublic"),f=r("safe-buffer").Buffer;n.exports=function(d,p,g){var m;m=d.padding?d.padding:g?1:4;var v,y=s(d),x=y.modulus.byteLength();if(p.length>x||new l(p).cmp(y.modulus)>=0)throw new Error("decryption error");v=g?h(new l(p),y):c(p,y);var w=f.alloc(x-v.length);if(v=f.concat([w,v],x),m===4)return function(_,M){var U=_.modulus.byteLength(),L=u("sha1").update(f.alloc(0)).digest(),O=L.length;if(M[0]!==0)throw new Error("decryption error");var H=M.slice(1,O+1),G=M.slice(O+1),I=a(H,o(G,O)),R=a(G,o(I,U-O-1));if(function(j,k){j=f.from(j),k=f.from(k);var E=0,A=j.length;j.length!==k.length&&(E++,A=Math.min(j.length,k.length));for(var C=-1;++C<A;)E+=j[C]^k[C];return E}(L,R.slice(0,O)))throw new Error("decryption error");for(var S=O;R[S]===0;)S++;if(R[S++]!==1)throw new Error("decryption error");return R.slice(S)}(y,v);if(m===1)return function(_,M,U){for(var L=M.slice(0,2),O=2,H=0;M[O++]!==0;)if(O>=M.length){H++;break}var G=M.slice(2,O-1);if((L.toString("hex")!=="0002"&&!U||L.toString("hex")!=="0001"&&U)&&H++,G.length<8&&H++,H)throw new Error("decryption error");return M.slice(O)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var s=r("parse-asn1"),o=r("randombytes"),a=r("create-hash"),l=r("./mgf"),c=r("./xor"),u=r("bn.js"),h=r("./withPublic"),f=r("browserify-rsa"),d=r("safe-buffer").Buffer;n.exports=function(p,g,m){var v;v=p.padding?p.padding:m?1:4;var y,x=s(p);if(v===4)y=function(w,_){var M=w.modulus.byteLength(),U=_.length,L=a("sha1").update(d.alloc(0)).digest(),O=L.length,H=2*O;if(U>M-H-2)throw new Error("message too long");var G=d.alloc(M-U-H-2),I=M-O-1,R=o(O),S=c(d.concat([L,G,d.alloc(1,1),_],I),l(R,I)),j=c(R,l(S,O));return new u(d.concat([d.alloc(1),j,S],M))}(x,g);else if(v===1)y=function(w,_,M){var U,L=_.length,O=w.modulus.byteLength();if(L>O-11)throw new Error("message too long");return U=M?d.alloc(O-L-3,255):function(H){for(var G,I=d.allocUnsafe(H),R=0,S=o(2*H),j=0;R<H;)j===S.length&&(S=o(2*H),j=0),(G=S[j++])&&(I[R++]=G);return I}(O-L-3),new u(d.concat([d.from([0,M?1:2]),U,d.alloc(1),_],O))}(x,g,m);else{if(v!==3)throw new Error("unknown padding");if((y=new u(g)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return m?f(y,x):h(y,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var s=r("bn.js"),o=r("safe-buffer").Buffer;n.exports=function(a,l){return o.from(a.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(s,o){for(var a=s.length,l=-1;++l<a;)s[l]^=o[l];return s}},{}],475:[function(r,n,i){(function(s,o){(function(){var a=r("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var h=a.allocUnsafe(c);if(c>0)if(c>65536)for(var f=0;f<c;f+=65536)l.getRandomValues(h.slice(f,f+65536));else l.getRandomValues(h);return typeof u=="function"?s.nextTick(function(){u(null,h)}):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(s,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),c=r("randombytes"),u=l.Buffer,h=l.kMaxLength,f=o.crypto||o.msCrypto,d=Math.pow(2,32)-1;function p(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>d||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>y)throw new RangeError("offset out of range")}function g(v,y,x){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>d||v<0)throw new TypeError("size must be a uint32");if(v+y>x||v>h)throw new RangeError("buffer too small")}function m(v,y,x,w){if(s.browser){var _=v.buffer,M=new Uint8Array(_,y,x);return f.getRandomValues(M),w?void s.nextTick(function(){w(null,v)}):v}if(!w)return c(x).copy(v,y),v;c(x,function(U,L){if(U)return w(U);L.copy(v,y),w(null,v)})}f&&f.getRandomValues||!s.browser?(i.randomFill=function(v,y,x,w){if(!(u.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")w=y,y=0,x=v.length;else if(typeof x=="function")w=x,x=v.length-y;else if(typeof w!="function")throw new TypeError('"cb" argument must be a function');return p(y,v.length),g(x,y,v.length),m(v,y,x,w)},i.randomFillSync=function(v,y,x){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(y,v.length),x===void 0&&(x=v.length-y),g(x,y,v.length),m(v,y,x)}):(i.randomFill=a,i.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var s={};function o(l,c,u){u||(u=Error);var h=function(f){var d,p;function g(m,v,y){return f.call(this,function(x,w,_){return typeof c=="string"?c:c(x,w,_)}(m,v,y))||this}return p=f,(d=g).prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p,g}(u);h.prototype.name=u.name,h.prototype.code=l,s[l]=h}function a(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(h){return String(h)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,c,u){var h,f,d;if(typeof c=="string"&&(f="not ",c.substr(0,f.length)===f)?(h="must not be",c=c.replace(/^not /,"")):h="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))d="The ".concat(l," ").concat(h," ").concat(a(c,"type"));else{var p=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(p," ").concat(h," ").concat(a(c,"type"))}return d+=". Received type ".concat(typeof u)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(r,n,i){(function(s){(function(){var o=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};n.exports=f;var a=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(f,a);for(var c=o(l.prototype),u=0;u<c.length;u++){var h=c[u];f.prototype[h]||(f.prototype[h]=l.prototype[h])}function f(g){if(!(this instanceof f))return new f(g);a.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||s.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=o;var s=r("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);s.call(this,a)}r("inherits")(o,s),o.prototype._transform=function(a,l,c){c(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(s,o){(function(){var a;n.exports=I,I.ReadableState=G,r("events").EventEmitter;var l=function(N,T){return N.listeners(T).length},c=r("./internal/streams/stream"),u=r("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,d=r("util");f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g,m,v=r("./internal/streams/buffer_list"),y=r("./internal/streams/destroy"),x=r("./internal/streams/state").getHighWaterMark,w=r("../errors").codes,_=w.ERR_INVALID_ARG_TYPE,M=w.ERR_STREAM_PUSH_AFTER_EOF,U=w.ERR_METHOD_NOT_IMPLEMENTED,L=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(I,c);var O=y.errorOrDestroy,H=["error","close","destroy","pause","resume"];function G(N,T,V){a=a||r("./_stream_duplex"),N=N||{},typeof V!="boolean"&&(V=T instanceof a),this.objectMode=!!N.objectMode,V&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=x(this,N,"readableHighWaterMark",V),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(p||(p=r("string_decoder/").StringDecoder),this.decoder=new p(N.encoding),this.encoding=N.encoding)}function I(N){if(a=a||r("./_stream_duplex"),!(this instanceof I))return new I(N);var T=this instanceof a;this._readableState=new G(N,this,T),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),c.call(this)}function R(N,T,V,J,re){f("readableAddChunk",T);var se,B=N._readableState;if(T===null)B.reading=!1,function(ne,ee){if(f("onEofChunk"),!ee.ended){if(ee.decoder){var F=ee.decoder.end();F&&F.length&&(ee.buffer.push(F),ee.length+=ee.objectMode?1:F.length)}ee.ended=!0,ee.sync?k(ne):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,E(ne)))}}(N,B);else if(re||(se=function(ne,ee){var F;W=ee,u.isBuffer(W)||W instanceof h||typeof ee=="string"||ee===void 0||ne.objectMode||(F=new _("chunk",["string","Buffer","Uint8Array"],ee));var W;return F}(B,T)),se)O(N,se);else if(B.objectMode||T&&T.length>0)if(typeof T=="string"||B.objectMode||Object.getPrototypeOf(T)===u.prototype||(T=function(ne){return u.from(ne)}(T)),J)B.endEmitted?O(N,new L):S(N,B,T,!0);else if(B.ended)O(N,new M);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!V?(T=B.decoder.write(T),B.objectMode||T.length!==0?S(N,B,T,!1):A(N,B)):S(N,B,T,!1)}else J||(B.reading=!1,A(N,B));return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function S(N,T,V,J){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,N.emit("data",V)):(T.length+=T.objectMode?1:V.length,J?T.buffer.unshift(V):T.buffer.push(V),T.needReadable&&k(N)),A(N,T)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(N,T){T(N)},I.prototype.push=function(N,T){var V,J=this._readableState;return J.objectMode?V=!0:typeof N=="string"&&((T=T||J.defaultEncoding)!==J.encoding&&(N=u.from(N,T),T=""),V=!0),R(this,N,T,!1,V)},I.prototype.unshift=function(N){return R(this,N,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(N){p||(p=r("string_decoder/").StringDecoder);var T=new p(N);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,J="";V!==null;)J+=T.write(V.data),V=V.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function j(N,T){return N<=0||T.length===0&&T.ended?0:T.objectMode?1:N!=N?T.flowing&&T.length?T.buffer.head.data.length:T.length:(N>T.highWaterMark&&(T.highWaterMark=function(V){return V>=1073741824?V=1073741824:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(N)),N<=T.length?N:T.ended?T.length:(T.needReadable=!0,0))}function k(N){var T=N._readableState;f("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(f("emitReadable",T.flowing),T.emittedReadable=!0,s.nextTick(E,N))}function E(N){var T=N._readableState;f("emitReadable_",T.destroyed,T.length,T.ended),T.destroyed||!T.length&&!T.ended||(N.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,K(N)}function A(N,T){T.readingMore||(T.readingMore=!0,s.nextTick(C,N,T))}function C(N,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var V=T.length;if(f("maybeReadMore read 0"),N.read(0),V===T.length)break}T.readingMore=!1}function D(N){var T=N._readableState;T.readableListening=N.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:N.listenerCount("data")>0&&N.resume()}function z(N){f("readable nexttick read 0"),N.read(0)}function P(N,T){f("resume",T.reading),T.reading||N.read(0),T.resumeScheduled=!1,N.emit("resume"),K(N),T.flowing&&!T.reading&&N.read(0)}function K(N){var T=N._readableState;for(f("flow",T.flowing);T.flowing&&N.read()!==null;);}function Z(N,T){return T.length===0?null:(T.objectMode?V=T.buffer.shift():!N||N>=T.length?(V=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.first():T.buffer.concat(T.length),T.buffer.clear()):V=T.buffer.consume(N,T.decoder),V);var V}function te(N){var T=N._readableState;f("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,s.nextTick(q,T,N))}function q(N,T){if(f("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,T.readable=!1,T.emit("end"),N.autoDestroy)){var V=T._writableState;(!V||V.autoDestroy&&V.finished)&&T.destroy()}}function $(N,T){for(var V=0,J=N.length;V<J;V++)if(N[V]===T)return V;return-1}I.prototype.read=function(N){f("read",N),N=parseInt(N,10);var T=this._readableState,V=N;if(N!==0&&(T.emittedReadable=!1),N===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return f("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?te(this):k(this),null;if((N=j(N,T))===0&&T.ended)return T.length===0&&te(this),null;var J,re=T.needReadable;return f("need readable",re),(T.length===0||T.length-N<T.highWaterMark)&&f("length less than watermark",re=!0),T.ended||T.reading?f("reading or ended",re=!1):re&&(f("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(N=j(V,T))),(J=N>0?Z(N,T):null)===null?(T.needReadable=T.length<=T.highWaterMark,N=0):(T.length-=N,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),V!==N&&T.ended&&te(this)),J!==null&&this.emit("data",J),J},I.prototype._read=function(N){O(this,new U("_read()"))},I.prototype.pipe=function(N,T){var V=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=N;break;case 1:J.pipes=[J.pipes,N];break;default:J.pipes.push(N)}J.pipesCount+=1,f("pipe count=%d opts=%j",J.pipesCount,T);var re=(!T||T.end!==!1)&&N!==s.stdout&&N!==s.stderr?B:ce;function se(le,de){f("onunpipe"),le===V&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,f("cleanup"),N.removeListener("close",Y),N.removeListener("finish",ae),N.removeListener("drain",ne),N.removeListener("error",W),N.removeListener("unpipe",se),V.removeListener("end",B),V.removeListener("end",ce),V.removeListener("data",F),ee=!0,!J.awaitDrain||N._writableState&&!N._writableState.needDrain||ne())}function B(){f("onend"),N.end()}J.endEmitted?s.nextTick(re):V.once("end",re),N.on("unpipe",se);var ne=function(le){return function(){var de=le._readableState;f("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&l(le,"data")&&(de.flowing=!0,K(le))}}(V);N.on("drain",ne);var ee=!1;function F(le){f("ondata");var de=N.write(le);f("dest.write",de),de===!1&&((J.pipesCount===1&&J.pipes===N||J.pipesCount>1&&$(J.pipes,N)!==-1)&&!ee&&(f("false write response, pause",J.awaitDrain),J.awaitDrain++),V.pause())}function W(le){f("onerror",le),ce(),N.removeListener("error",W),l(N,"error")===0&&O(N,le)}function Y(){N.removeListener("finish",ae),ce()}function ae(){f("onfinish"),N.removeListener("close",Y),ce()}function ce(){f("unpipe"),V.unpipe(N)}return V.on("data",F),function(le,de,me){if(typeof le.prependListener=="function")return le.prependListener(de,me);le._events&&le._events[de]?Array.isArray(le._events[de])?le._events[de].unshift(me):le._events[de]=[me,le._events[de]]:le.on(de,me)}(N,"error",W),N.once("close",Y),N.once("finish",ae),N.emit("pipe",V),J.flowing||(f("pipe resume"),V.resume()),N},I.prototype.unpipe=function(N){var T=this._readableState,V={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return N&&N!==T.pipes||(N||(N=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,N&&N.emit("unpipe",this,V)),this;if(!N){var J=T.pipes,re=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var se=0;se<re;se++)J[se].emit("unpipe",this,{hasUnpiped:!1});return this}var B=$(T.pipes,N);return B===-1||(T.pipes.splice(B,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),N.emit("unpipe",this,V)),this},I.prototype.on=function(N,T){var V=c.prototype.on.call(this,N,T),J=this._readableState;return N==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):N==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,f("on readable",J.length,J.reading),J.length?k(this):J.reading||s.nextTick(z,this))),V},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(N,T){var V=c.prototype.removeListener.call(this,N,T);return N==="readable"&&s.nextTick(D,this),V},I.prototype.removeAllListeners=function(N){var T=c.prototype.removeAllListeners.apply(this,arguments);return N!=="readable"&&N!==void 0||s.nextTick(D,this),T},I.prototype.resume=function(){var N=this._readableState;return N.flowing||(f("resume"),N.flowing=!N.readableListening,function(T,V){V.resumeScheduled||(V.resumeScheduled=!0,s.nextTick(P,T,V))}(this,N)),N.paused=!1,this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(N){var T=this,V=this._readableState,J=!1;for(var re in N.on("end",function(){if(f("wrapped end"),V.decoder&&!V.ended){var B=V.decoder.end();B&&B.length&&T.push(B)}T.push(null)}),N.on("data",function(B){f("wrapped data"),V.decoder&&(B=V.decoder.write(B)),V.objectMode&&B==null||(V.objectMode||B&&B.length)&&(T.push(B)||(J=!0,N.pause()))}),N)this[re]===void 0&&typeof N[re]=="function"&&(this[re]=function(B){return function(){return N[B].apply(N,arguments)}}(re));for(var se=0;se<H.length;se++)N.on(H[se],this.emit.bind(this,H[se]));return this._read=function(B){f("wrapped _read",B),J&&(J=!1,N.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=r("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),I._fromList=Z,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(I.from=function(N,T){return m===void 0&&(m=r("./internal/streams/from")),m(I,N,T)})}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=f;var s=r("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,a=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,u=r("./_stream_duplex");function h(g,m){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new a);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),y(g);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function f(g){if(!(this instanceof f))return new f(g);u.call(this,g),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,v){p(g,m,v)})}function p(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new c;if(g._transformState.transforming)throw new l;return g.push(null)}r("inherits")(f,u),f.prototype.push=function(g,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,m)},f.prototype._transform=function(g,m,v){v(new o("_transform()"))},f.prototype._write=function(g,m,v){var y=this._transformState;if(y.writecb=v,y.writechunk=g,y.writeencoding=m,!y.transforming){var x=this._readableState;(y.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},f.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(g,m){u.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(s,o){(function(){function a(C){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(z,P,K){var Z=z.entry;for(z.entry=null;Z;){var te=Z.callback;P.pendingcb--,te(K),Z=Z.next}P.corkedRequestsFree.next=z})(D,C)}}var l;n.exports=I,I.WritableState=G;var c={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),h=r("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,p=r("./internal/streams/destroy"),g=r("./internal/streams/state").getHighWaterMark,m=r("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,w=m.ERR_STREAM_CANNOT_PIPE,_=m.ERR_STREAM_DESTROYED,M=m.ERR_STREAM_NULL_VALUES,U=m.ERR_STREAM_WRITE_AFTER_END,L=m.ERR_UNKNOWN_ENCODING,O=p.errorOrDestroy;function H(){}function G(C,D,z){l=l||r("./_stream_duplex"),C=C||{},typeof z!="boolean"&&(z=D instanceof l),this.objectMode=!!C.objectMode,z&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=g(this,C,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=C.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,te){var q=Z._writableState,$=q.sync,N=q.writecb;if(typeof N!="function")throw new x;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(q),te)(function(V,J,re,se,B){--J.pendingcb,re?(s.nextTick(B,se),s.nextTick(A,V,J),V._writableState.errorEmitted=!0,O(V,se)):(B(se),V._writableState.errorEmitted=!0,O(V,se),A(V,J))})(Z,q,$,te,N);else{var T=k(q)||Z.destroyed;T||q.corked||q.bufferProcessing||!q.bufferedRequest||j(Z,q),$?s.nextTick(S,Z,q,T,N):S(Z,q,T,N)}})(D,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function I(C){var D=this instanceof(l=l||r("./_stream_duplex"));if(!D&&!d.call(I,this))return new I(C);this._writableState=new G(C,this,D),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),u.call(this)}function R(C,D,z,P,K,Z,te){D.writelen=P,D.writecb=te,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new _("write")):z?C._writev(K,D.onwrite):C._write(K,Z,D.onwrite),D.sync=!1}function S(C,D,z,P){z||function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))}(C,D),D.pendingcb--,P(),A(C,D)}function j(C,D){D.bufferProcessing=!0;var z=D.bufferedRequest;if(C._writev&&z&&z.next){var P=D.bufferedRequestCount,K=new Array(P),Z=D.corkedRequestsFree;Z.entry=z;for(var te=0,q=!0;z;)K[te]=z,z.isBuf||(q=!1),z=z.next,te+=1;K.allBuffers=q,R(C,D,!0,D.length,K,"",Z.finish),D.pendingcb++,D.lastBufferedRequest=null,Z.next?(D.corkedRequestsFree=Z.next,Z.next=null):D.corkedRequestsFree=new a(D),D.bufferedRequestCount=0}else{for(;z;){var $=z.chunk,N=z.encoding,T=z.callback;if(R(C,D,!1,D.objectMode?1:$.length,$,N,T),z=z.next,D.bufferedRequestCount--,D.writing)break}z===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=z,D.bufferProcessing=!1}function k(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function E(C,D){C._final(function(z){D.pendingcb--,z&&O(C,z),D.prefinished=!0,C.emit("prefinish"),A(C,D)})}function A(C,D){var z=k(D);if(z&&(function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,s.nextTick(E,K,Z)))}(C,D),D.pendingcb===0&&(D.finished=!0,C.emit("finish"),D.autoDestroy))){var P=C._readableState;(!P||P.autoDestroy&&P.endEmitted)&&C.destroy()}return z}r("inherits")(I,u),G.prototype.getBuffer=function(){for(var C=this.bufferedRequest,D=[];C;)D.push(C),C=C.next;return D},function(){try{Object.defineProperty(G.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(C){return!!d.call(this,C)||this===I&&C&&C._writableState instanceof G}})):d=function(C){return C instanceof this},I.prototype.pipe=function(){O(this,new w)},I.prototype.write=function(C,D,z){var P,K=this._writableState,Z=!1,te=!K.objectMode&&(P=C,h.isBuffer(P)||P instanceof f);return te&&!h.isBuffer(C)&&(C=function(q){return h.from(q)}(C)),typeof D=="function"&&(z=D,D=null),te?D="buffer":D||(D=K.defaultEncoding),typeof z!="function"&&(z=H),K.ending?function(q,$){var N=new U;O(q,N),s.nextTick($,N)}(this,z):(te||function(q,$,N,T){var V;return N===null?V=new M:typeof N=="string"||$.objectMode||(V=new v("chunk",["string","Buffer"],N)),!V||(O(q,V),s.nextTick(T,V),!1)}(this,K,C,z))&&(K.pendingcb++,Z=function(q,$,N,T,V,J){if(!N){var re=function(ee,F,W){return ee.objectMode||ee.decodeStrings===!1||typeof F!="string"||(F=h.from(F,W)),F}($,T,V);T!==re&&(N=!0,V="buffer",T=re)}var se=$.objectMode?1:T.length;$.length+=se;var B=$.length<$.highWaterMark;if(B||($.needDrain=!0),$.writing||$.corked){var ne=$.lastBufferedRequest;$.lastBufferedRequest={chunk:T,encoding:V,isBuf:N,callback:J,next:null},ne?ne.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else R(q,$,!1,se,T,V,J);return B}(this,K,te,C,D,z)),Z},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||j(this,C))},I.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new L(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(C,D,z){z(new y("_write()"))},I.prototype._writev=null,I.prototype.end=function(C,D,z){var P=this._writableState;return typeof C=="function"?(z=C,C=null,D=null):typeof D=="function"&&(z=D,D=null),C!=null&&this.write(C,D),P.corked&&(P.corked=1,this.uncork()),P.ending||function(K,Z,te){Z.ending=!0,A(K,Z),te&&(Z.finished?s.nextTick(te):K.once("finish",te)),Z.ended=!0,K.writable=!1}(this,P,z),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(C,D){D(C)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(s){(function(){var o;function a(_,M,U){return(M=function(L){var O=function(H,G){if(typeof H!="object"||H===null)return H;var I=H[Symbol.toPrimitive];if(I!==void 0){var R=I.call(H,G||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(H)}(L,"string");return typeof O=="symbol"?O:String(O)}(M))in _?Object.defineProperty(_,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):_[M]=U,_}var l=r("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(_,M){return{value:_,done:M}}function v(_){var M=_[c];if(M!==null){var U=_[g].read();U!==null&&(_[d]=null,_[c]=null,_[u]=null,M(m(U,!1)))}}function y(_){s.nextTick(v,_)}var x=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((a(o={get stream(){return this[g]},next:function(){var _=this,M=this[h];if(M!==null)return Promise.reject(M);if(this[f])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(H,G){s.nextTick(function(){_[h]?G(_[h]):H(m(void 0,!0))})});var U,L=this[d];if(L)U=new Promise(function(H,G){return function(I,R){H.then(function(){G[f]?I(m(void 0,!0)):G[p](I,R)},R)}}(L,this));else{var O=this[g].read();if(O!==null)return Promise.resolve(m(O,!1));U=new Promise(this[p])}return this[d]=U,U}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var _=this;return new Promise(function(M,U){_[g].destroy(null,function(L){L?U(L):M(m(void 0,!0))})})}),o),x);n.exports=function(_){var M,U=Object.create(w,(a(M={},g,{value:_,writable:!0}),a(M,c,{value:null,writable:!0}),a(M,u,{value:null,writable:!0}),a(M,h,{value:null,writable:!0}),a(M,f,{value:_._readableState.endEmitted,writable:!0}),a(M,p,{value:function(L,O){var H=U[g].read();H?(U[d]=null,U[c]=null,U[u]=null,L(m(H,!1))):(U[c]=L,U[u]=O)},writable:!0}),M));return U[d]=null,l(_,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=U[u];return O!==null&&(U[d]=null,U[c]=null,U[u]=null,O(L)),void(U[h]=L)}var H=U[c];H!==null&&(U[d]=null,U[c]=null,U[u]=null,H(m(void 0,!0))),U[f]=!0}),_.on("readable",y.bind(null,U)),U}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function s(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);p&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,m)}return g}function o(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?s(Object(g),!0).forEach(function(m){a(d,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(g,m))})}return d}function a(d,p,g){return(p=c(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function l(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,c(m.key),m)}}function c(d){var p=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var y=v.call(g,m||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(d,"string");return typeof p=="symbol"?p:String(p)}var u=r("buffer").Buffer,h=r("util").inspect,f=h&&h.custom||"inspect";n.exports=function(){function d(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var p,g;return p=d,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=m+v.data;return y}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var v,y,x,w=u.allocUnsafe(m>>>0),_=this.head,M=0;_;)v=_.data,y=w,x=M,u.prototype.copy.call(v,y,x),M+=_.data.length,_=_.next;return w}},{key:"consume",value:function(m,v){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,y=1,x=v.data;for(m-=x.length;v=v.next;){var w=v.data,_=m>w.length?w.length:m;if(_===w.length?x+=w:x+=w.slice(0,m),(m-=_)==0){_===w.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(_));break}++y}return this.length-=y,x}},{key:"_getBuffer",value:function(m){var v=u.allocUnsafe(m),y=this.head,x=1;for(y.data.copy(v),m-=y.data.length;y=y.next;){var w=y.data,_=m>w.length?w.length:m;if(w.copy(v,v.length-m,0,_),(m-=_)==0){_===w.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(_));break}++x}return this.length-=x,v}},{key:f,value:function(m,v){return h(this,o(o({},v),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(r,n,i){(function(s){(function(){function o(c,u){l(c,u),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var h=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,c)):s.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(p){!u&&p?h._writableState?h._writableState.errorEmitted?s.nextTick(a,h):(h._writableState.errorEmitted=!0,s.nextTick(o,h,p)):s.nextTick(o,h,p):u?(s.nextTick(a,h),u(p)):s.nextTick(a,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var h=c._readableState,f=c._writableState;h&&h.autoDestroy||f&&f.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var s=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function a(l,c,u){if(typeof c=="function")return a(l,null,c);c||(c={}),u=function(_){var M=!1;return function(){if(!M){M=!0;for(var U=arguments.length,L=new Array(U),O=0;O<U;O++)L[O]=arguments[O];_.apply(this,L)}}}(u||o);var h=c.readable||c.readable!==!1&&l.readable,f=c.writable||c.writable!==!1&&l.writable,d=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){f=!1,p=!0,h||u.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){h=!1,m=!0,f||u.call(l)},y=function(_){u.call(l,_)},x=function(){var _;return h&&!m?(l._readableState&&l._readableState.ended||(_=new s),u.call(l,_)):f&&!p?(l._writableState&&l._writableState.ended||(_=new s),u.call(l,_)):void 0},w=function(){l.req.on("finish",g)};return function(_){return _.setHeader&&typeof _.abort=="function"}(l)?(l.on("complete",g),l.on("abort",x),l.req?w():l.on("request",w)):f&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",v),l.on("finish",g),c.error!==!1&&l.on("error",y),l.on("close",x),function(){l.removeListener("complete",g),l.removeListener("abort",x),l.removeListener("request",w),l.req&&l.req.removeListener("finish",g),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",x)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var s,o=r("../../../errors").codes,a=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function c(p){if(p)throw p}function u(p,g,m,v){v=function(w){var _=!1;return function(){_||(_=!0,w.apply(void 0,arguments))}}(v);var y=!1;p.on("close",function(){y=!0}),s===void 0&&(s=r("./end-of-stream")),s(p,{readable:g,writable:m},function(w){if(w)return v(w);y=!0,v()});var x=!1;return function(w){if(!y&&!x)return x=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void v(w||new l("pipe"))}}function h(p){p()}function f(p,g){return p.pipe(g)}function d(p){return p.length?typeof p[p.length-1]!="function"?c:p.pop():c}n.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var v,y=d(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new a("streams");var x=g.map(function(w,_){var M=_<g.length-1;return u(w,M,_>0,function(U){v||(v=U),U&&x.forEach(h),M||(x.forEach(h),y(v))})});return g.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,a,l,c){var u=function(h,f,d){return h.highWaterMark!=null?h.highWaterMark:f?h[d]:null}(a,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(c?l:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var s=function(o){var a=Object.prototype,l=a.hasOwnProperty,c=Object.defineProperty||function(A,C,D){A[C]=D.value},u=typeof Symbol=="function"?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(A,C,D){return Object.defineProperty(A,C,{value:D,enumerable:!0,configurable:!0,writable:!0}),A[C]}try{p({},"")}catch{p=function(C,D,z){return C[D]=z}}function g(A,C,D,z){var P=C&&C.prototype instanceof y?C:y,K=Object.create(P.prototype),Z=new j(z||[]);return c(K,"_invoke",{value:G(A,D,Z)}),K}function m(A,C,D){try{return{type:"normal",arg:A.call(C,D)}}catch(z){return{type:"throw",arg:z}}}o.wrap=g;var v={};function y(){}function x(){}function w(){}var _={};p(_,h,function(){return this});var M=Object.getPrototypeOf,U=M&&M(M(k([])));U&&U!==a&&l.call(U,h)&&(_=U);var L=w.prototype=y.prototype=Object.create(_);function O(A){["next","throw","return"].forEach(function(C){p(A,C,function(D){return this._invoke(C,D)})})}function H(A,C){var D;c(this,"_invoke",{value:function(z,P){function K(){return new C(function(Z,te){(function q($,N,T,V){var J=m(A[$],A,N);if(J.type!=="throw"){var re=J.arg,se=re.value;return se&&typeof se=="object"&&l.call(se,"__await")?C.resolve(se.__await).then(function(B){q("next",B,T,V)},function(B){q("throw",B,T,V)}):C.resolve(se).then(function(B){re.value=B,T(re)},function(B){return q("throw",B,T,V)})}V(J.arg)})(z,P,Z,te)})}return D=D?D.then(K,K):K()}})}function G(A,C,D){var z="suspendedStart";return function(P,K){if(z==="executing")throw new Error("Generator is already running");if(z==="completed"){if(P==="throw")throw K;return E()}for(D.method=P,D.arg=K;;){var Z=D.delegate;if(Z){var te=I(Z,D);if(te){if(te===v)continue;return te}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(z==="suspendedStart")throw z="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);z="executing";var q=m(A,C,D);if(q.type==="normal"){if(z=D.done?"completed":"suspendedYield",q.arg===v)continue;return{value:q.arg,done:D.done}}q.type==="throw"&&(z="completed",D.method="throw",D.arg=q.arg)}}}function I(A,C){var D=C.method,z=A.iterator[D];if(z===void 0)return C.delegate=null,D==="throw"&&A.iterator.return&&(C.method="return",C.arg=void 0,I(A,C),C.method==="throw")||D!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var P=m(z,A.iterator,C.arg);if(P.type==="throw")return C.method="throw",C.arg=P.arg,C.delegate=null,v;var K=P.arg;return K?K.done?(C[A.resultName]=K.value,C.next=A.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,v):K:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,v)}function R(A){var C={tryLoc:A[0]};1 in A&&(C.catchLoc=A[1]),2 in A&&(C.finallyLoc=A[2],C.afterLoc=A[3]),this.tryEntries.push(C)}function S(A){var C=A.completion||{};C.type="normal",delete C.arg,A.completion=C}function j(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(R,this),this.reset(!0)}function k(A){if(A){var C=A[h];if(C)return C.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var D=-1,z=function P(){for(;++D<A.length;)if(l.call(A,D))return P.value=A[D],P.done=!1,P;return P.value=void 0,P.done=!0,P};return z.next=z}}return{next:E}}function E(){return{value:void 0,done:!0}}return x.prototype=w,c(L,"constructor",{value:w,configurable:!0}),c(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(A){var C=typeof A=="function"&&A.constructor;return!!C&&(C===x||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,w):(A.__proto__=w,p(A,d,"GeneratorFunction")),A.prototype=Object.create(L),A},o.awrap=function(A){return{__await:A}},O(H.prototype),p(H.prototype,f,function(){return this}),o.AsyncIterator=H,o.async=function(A,C,D,z,P){P===void 0&&(P=Promise);var K=new H(g(A,C,D,z),P);return o.isGeneratorFunction(C)?K:K.next().then(function(Z){return Z.done?Z.value:K.next()})},O(L),p(L,d,"Generator"),p(L,h,function(){return this}),p(L,"toString",function(){return"[object Generator]"}),o.keys=function(A){var C=Object(A),D=[];for(var z in C)D.push(z);return D.reverse(),function P(){for(;D.length;){var K=D.pop();if(K in C)return P.value=K,P.done=!1,P}return P.done=!0,P}},o.values=k,j.prototype={constructor:j,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!A)for(var C in this)C.charAt(0)==="t"&&l.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var C=this;function D(q,$){return K.type="throw",K.arg=A,C.next=q,$&&(C.method="next",C.arg=void 0),!!$}for(var z=this.tryEntries.length-1;z>=0;--z){var P=this.tryEntries[z],K=P.completion;if(P.tryLoc==="root")return D("end");if(P.tryLoc<=this.prev){var Z=l.call(P,"catchLoc"),te=l.call(P,"finallyLoc");if(Z&&te){if(this.prev<P.catchLoc)return D(P.catchLoc,!0);if(this.prev<P.finallyLoc)return D(P.finallyLoc)}else if(Z){if(this.prev<P.catchLoc)return D(P.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return D(P.finallyLoc)}}}},abrupt:function(A,C){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.tryLoc<=this.prev&&l.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var P=z;break}}P&&(A==="break"||A==="continue")&&P.tryLoc<=C&&C<=P.finallyLoc&&(P=null);var K=P?P.completion:{};return K.type=A,K.arg=C,P?(this.method="next",this.next=P.finallyLoc,v):this.complete(K)},complete:function(A,C){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&C&&(this.next=C),v},finish:function(A){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.finallyLoc===A)return this.complete(D.completion,D.afterLoc),S(D),v}},catch:function(A){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.tryLoc===A){var z=D.completion;if(z.type==="throw"){var P=z.arg;S(D)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(A,C,D){return this.delegate={iterator:k(A),resultName:C,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(r,n,i){var s=r("buffer").Buffer,o=r("inherits"),a=r("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(M,U){return M<<U|M>>>32-U}function v(M,U,L,O,H,G,I,R){return m(M+(U^L^O)+G+I|0,R)+H|0}function y(M,U,L,O,H,G,I,R){return m(M+(U&L|~U&O)+G+I|0,R)+H|0}function x(M,U,L,O,H,G,I,R){return m(M+((U|~L)^O)+G+I|0,R)+H|0}function w(M,U,L,O,H,G,I,R){return m(M+(U&O|L&~O)+G+I|0,R)+H|0}function _(M,U,L,O,H,G,I,R){return m(M+(U^(L|~O))+G+I|0,R)+H|0}o(g,a),g.prototype._update=function(){for(var M=l,U=0;U<16;++U)M[U]=this._block.readInt32LE(4*U);for(var L=0|this._a,O=0|this._b,H=0|this._c,G=0|this._d,I=0|this._e,R=0|this._a,S=0|this._b,j=0|this._c,k=0|this._d,E=0|this._e,A=0;A<80;A+=1){var C,D;A<16?(C=v(L,O,H,G,I,M[c[A]],d[0],h[A]),D=_(R,S,j,k,E,M[u[A]],p[0],f[A])):A<32?(C=y(L,O,H,G,I,M[c[A]],d[1],h[A]),D=w(R,S,j,k,E,M[u[A]],p[1],f[A])):A<48?(C=x(L,O,H,G,I,M[c[A]],d[2],h[A]),D=x(R,S,j,k,E,M[u[A]],p[2],f[A])):A<64?(C=w(L,O,H,G,I,M[c[A]],d[3],h[A]),D=y(R,S,j,k,E,M[u[A]],p[3],f[A])):(C=_(L,O,H,G,I,M[c[A]],d[4],h[A]),D=v(R,S,j,k,E,M[u[A]],p[4],f[A])),L=I,I=G,G=m(H,10),H=O,O=C,R=E,E=k,k=m(j,10),j=S,S=D}var z=this._b+H+k|0;this._b=this._c+G+E|0,this._c=this._d+I+R|0,this._d=this._e+L+S|0,this._e=this._a+O+j|0,this._a=z},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var M=s.alloc?s.alloc(20):new s(20);return M.writeInt32LE(this._a,0),M.writeInt32LE(this._b,4),M.writeInt32LE(this._c,8),M.writeInt32LE(this._d,12),M.writeInt32LE(this._e,16),M},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),l.prototype=Object.create(o.prototype),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=o(c);return u!==void 0?typeof h=="string"?f.fill(u,h):f.fill(u):f.fill(0),f},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],495:[function(r,n,i){(function(s){(function(){var o,a=r("buffer"),l=a.Buffer,c={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(c[o]=a[o]);var u=c.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=l[o]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(h,f,d){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return l(h,f,d)}),u.alloc||(u.alloc=function(h,f,d){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var p=l(h);return f&&f.length!==0?typeof d=="string"?p.fill(f,d):p.fill(f):p.fill(0),p}),!c.kStringMaxLength)try{c.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=r("xmlchars/xml/1.0/ed5"),o=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var l=s.isS,c=s.isChar,u=s.isNameStartChar,h=s.isNameChar,f=s.S_LIST,d=s.NAME_RE,p=o.isChar,g=a.isNCNameStartChar,m=a.isNCNameChar,v=a.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:y,xmlns:x},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},M=k=>k===34||k===39,U=[34,39],L=[...U,91,62],O=[...U,60,93],H=[61,63,...f],G=[...f,62,38,60];function I(k,E,A){switch(E){case"xml":A!==y&&k.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":A!==x&&k.fail(`xmlns prefix must be bound to ${x}.`)}switch(A){case x:k.fail(E===""?`the default namespace may not be set to ${A}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case y:switch(E){case"xml":break;case"":k.fail(`the default namespace may not be set to ${A}.`);break;default:k.fail("may not assign the xml namespace to another prefix.")}}}const R=k=>v.test(k),S=k=>d.test(k);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const j={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(k){this.opt=k??{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,E){this.nameStartCheck=g,this.nameCheck=m,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},w);const A=this.opt.additionalNamespaces;A!=null&&(function(C,D){for(const z of Object.keys(D))I(C,z,D[z])}(this,A),Object.assign(this.ns,A))}else this.nameStartCheck=u,this.nameCheck=h,this.isName=S,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var k;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:A}=this.opt;if(A===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");A="1.0"}this.setXMLVersion(A),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(k=this.readyHandler)===null||k===void 0||k.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(k,E){this[j[k]]=E}off(k){this[j[k]]=void 0}makeError(k){var E;let A=(E=this.fileName)!==null&&E!==void 0?E:"";return this.trackPosition&&(A.length>0&&(A+=":"),A+=`${this.line}:${this.column}`),A.length>0&&(A+=": "),new Error(A+k)}fail(k){const E=this.makeError(k),A=this.errorHandler;if(A===void 0)throw E;return A(E),this}write(k){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;k===null?(E=!0,k=""):typeof k=="object"&&(k=k.toString()),this.carriedFromPrevious!==void 0&&(k=`${this.carriedFromPrevious}${k}`,this.carriedFromPrevious=void 0);let A=k.length;const C=k.charCodeAt(A-1);!E&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=k[A-1],A--,k=k.slice(0,A));const{stateTable:D}=this;for(this.chunk=k,this.i=0;this.i<A;)D[this.state].call(this);return this.chunkPosition+=A,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:k,i:E}=this;if(this.prevI=E,this.i=E+1,E>=k.length)return-1;const A=k.charCodeAt(E);if(this.column++,A<55296){if(A>=32||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return k.charCodeAt(E+1)===10&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const C=65536+1024*(A-55296)+(k.charCodeAt(E+1)-56320);return this.i=E+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:k,i:E}=this;if(this.prevI=E,this.i=E+1,E>=k.length)return-1;const A=k.charCodeAt(E);if(this.column++,A<55296){if(A>31&&A<127||A>159&&A!==8232||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=k.charCodeAt(E+1);D!==10&&D!==133||(this.i=E+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const C=65536+1024*(A-55296)+(k.charCodeAt(E+1)-56320);return this.i=E+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const k=this.getCode();return k===-2?10:k}unget(){this.i=this.prevI,this.column--}captureTo(k){let{i:E}=this;const{chunk:A}=this;for(;;){const C=this.getCode(),D=C===-2,z=D?10:C;if(z===-1||k.includes(z))return this.text+=A.slice(E,this.prevI),z;D&&(this.text+=A.slice(E,this.prevI)+`
`,E=this.i)}}captureToChar(k){let{i:E}=this;const{chunk:A}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=A.slice(E,this.prevI)+`
`,E=this.i,C=10;break;case-1:return this.text+=A.slice(E),!1}if(C===k)return this.text+=A.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:k,i:E}=this;for(;;){const A=this.getCode();if(A===-1)return this.name+=k.slice(E),-1;if(!h(A))return this.name+=k.slice(E,this.prevI),A===-2?10:A}}skipSpaces(){for(;;){const k=this.getCodeNorm();if(k===-1||!l(k))return k}}setXMLVersion(k){this.currentXMLVersion=k,k==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const k=this.i,E=this.skipSpaces();switch(this.prevI!==k&&(this.xmlDeclPossible=!1),E){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var k;const E=this.captureTo(L);switch(E){case 62:(k=this.doctypeHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(E),E===91?this.state=4:M(E)&&(this.state=3,this.q=E)}}sDoctypeQuote(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.q=null,this.state=2)}sDTD(){const k=this.captureTo(O);k!==-1&&(this.text+=String.fromCodePoint(k),k===93?this.state=2:k===60?this.state=6:M(k)&&(this.state=5,this.q=k))}sDTDQuoted(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.state=4,this.q=null)}sDTDOpenWaka(){const k=this.getCodeNorm();switch(this.text+=String.fromCodePoint(k),k){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const k=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=k;this.text+=k,E!=="-"&&(this.state=E==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),this.state=k===45?10:8}sDTDCommentEnded(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:k}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=E.slice(k,this.prevI)+`
`,k=this.i;break;case 59:{const{entityReturnState:A}=this,C=this.entity+E.slice(k,this.prevI);let D;this.state=A,C===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(C),this.entity=""),A===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=E.slice(k);break e}}sOpenWaka(){const k=this.getCode();if(u(k))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(k){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var k;const E=this.getCodeNorm();E===45?(this.state=19,(k=this.commentHandler)===null||k===void 0||k.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(E),this.state=17)}sCommentEnded(){const k=this.getCodeNorm();k!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(k),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const k=this.getCodeNorm();k===93?this.state=22:(this.text+="]"+String.fromCodePoint(k),this.state=20)}sCDataEnding2(){var k;const E=this.getCodeNorm();switch(E){case 62:(k=this.cdataHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(E),this.state=20}}sPIFirstChar(){const k=this.getCodeNorm();this.nameStartCheck(k)?(this.piTarget+=String.fromCodePoint(k),this.state=24):k===63||l(k)?(this.fail("processing instruction without a target."),this.state=k===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k),this.state=24)}sPIRest(){const{chunk:k,i:E}=this;for(;;){const A=this.getCodeNorm();if(A===-1)return void(this.piTarget+=k.slice(E));if(!this.nameCheck(A)){this.piTarget+=k.slice(E,this.prevI);const C=A===63;C||l(A)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(A));break}}}sPIBody(){if(this.text.length===0){const k=this.getCodeNorm();k===63?this.state=26:l(k)||(this.text=String.fromCodePoint(k))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var k;const E=this.getCodeNorm();if(E===62){const{piTarget:A}=this;A.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(k=this.piHandler)===null||k===void 0||k.call(this,{target:A,body:this.text}),this.piTarget=this.text="",this.state=13}else E===63?this.text+="?":(this.text+="?"+String.fromCodePoint(E),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const k=this.skipSpaces();k!==63?k!==-1&&(this.state=28,this.name=String.fromCodePoint(k)):this.state=33}sXMLDeclName(){const k=this.captureTo(H);if(k===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(k)||k===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=k===61?30:29}}sXMLDeclEq(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(k)||(k!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(k)||(M(k)?this.q=k:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const k=this.captureTo([this.q,63]);if(k===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(k===-1)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const A=E;this.xmlDecl.version=A,/^1\.[0-9]+$/.test(A)?this.opt.forceXMLVersion||this.setXMLVersion(A):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":E!=="yes"&&E!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=32}sXMLDeclSeparator(){const k=this.getCodeNorm();k!==63?(l(k)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var k;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(k=this.xmldeclHandler)===null||k===void 0||k.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var k;const E=this.captureNameChars();if(E===-1)return;const A=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=A.ns=Object.create(null)),(k=this.openTagStartHandler)===null||k===void 0||k.call(this,A),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case 62:this.openTag();break;case 47:this.state=35;break;default:l(E)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const k=this.skipSpaces();k!==-1&&(u(k)?(this.unget(),this.state=37):k===62?this.openTag():k===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const k=this.captureNameChars();k===61?this.state=39:l(k)?this.state=38:k===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):k!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const k=this.skipSpaces();switch(k){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",k===62?this.openTag():u(k)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const k=this.getCodeNorm();M(k)?(this.q=k,this.state=40):l(k)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:k,chunk:E}=this;let{i:A}=this;for(;;)switch(this.getCode()){case k:return this.pushAttrib(this.name,this.text+E.slice(A,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=E.slice(A,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=E.slice(A,this.prevI)+" ",A=this.i;break;case 60:return this.text+=E.slice(A,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=E.slice(A))}}sAttribValueClosed(){const k=this.getCodeNorm();l(k)?this.state=36:k===62?this.openTag():k===47?this.state=35:u(k)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const k=this.captureTo(G);switch(k){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",k===62?this.openTag():this.state=36}}sCloseTag(){const k=this.captureNameChars();k===62?this.closeTag():l(k)?this.state=44:k!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:k,forbiddenState:E}=this;const{chunk:A,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:D}=this,z=A.slice(k,this.prevI);D.length!==0?(C(D+z),this.text=""):z.length!==0&&C(z)}E=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=A.slice(k,this.prevI)),E=0;break e;case 93:switch(E){case 0:E=1;break;case 1:E=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:E===2&&this.fail('the string "]]>" is disallowed in char data.'),E=0;break;case-2:C!==void 0&&(this.text+=A.slice(k,this.prevI)+`
`),k=this.i,E=0;break;case-1:C!==void 0&&(this.text+=A.slice(k));break e;default:E=0}this.forbiddenState=E}handleTextOutsideRoot(){let{i:k}=this;const{chunk:E,textHandler:A}=this;let C=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,A!==void 0){const{text:z}=this,P=E.slice(k,this.prevI);z.length!==0?(A(z+P),this.text=""):P.length!==0&&A(P)}break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=E.slice(k,this.prevI)),C=!0;break e;case-2:A!==void 0&&(this.text+=E.slice(k,this.prevI)+`
`),k=this.i;break;case-1:A!==void 0&&(this.text+=E.slice(k));break e;default:l(D)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(k,E){var A;const{prefix:C,local:D}=this.qname(k),z={name:k,prefix:C,local:D,value:E};if(this.attribList.push(z),(A=this.attributeHandler)===null||A===void 0||A.call(this,z),C==="xmlns"){const P=E.trim();this.currentXMLVersion==="1.0"&&P===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=P,I(this,D,P)}else if(k==="xmlns"){const P=E.trim();this.topNS[""]=P,I(this,"",P)}}pushAttribPlain(k,E){var A;const C={name:k,value:E};this.attribList.push(C),(A=this.attributeHandler)===null||A===void 0||A.call(this,C)}end(){var k,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:A}=this;for(;A.length>0;){const D=A.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((k=this.textHandler)===null||k===void 0||k.call(this,C),this.text=""),this._closed=!0,(E=this.endHandler)===null||E===void 0||E.call(this),this._init(),this}resolve(k){var E,A;let C=this.topNS[k];if(C!==void 0)return C;const{tags:D}=this;for(let z=D.length-1;z>=0;z--)if(C=D[z].ns[k],C!==void 0)return C;return C=this.ns[k],C!==void 0?C:(A=(E=this.opt).resolvePrefix)===null||A===void 0?void 0:A.call(E,k)}qname(k){const E=k.indexOf(":");if(E===-1)return{prefix:"",local:k};const A=k.slice(E+1),C=k.slice(0,E);return(C===""||A===""||A.includes(":"))&&this.fail(`malformed name: ${k}.`),{prefix:C,local:A}}processAttribsNS(){var k;const{attribList:E}=this,A=this.tag;{const{prefix:z,local:P}=this.qname(A.name);A.prefix=z,A.local=P;const K=A.uri=(k=this.resolve(z))!==null&&k!==void 0?k:"";z!==""&&(z==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),A.uri=z))}if(E.length===0)return;const{attributes:C}=A,D=new Set;for(const z of E){const{name:P,prefix:K,local:Z}=z;let te,q;K===""?(te=P==="xmlns"?x:"",q=P):(te=this.resolve(K),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),te=K),q=`{${te}}${Z}`),D.has(q)&&this.fail(`duplicate attribute: ${q}.`),D.add(q),z.uri=te,C[P]=z}this.attribList=[]}processAttribsPlain(){const{attribList:k}=this,E=this.tag.attributes;for(const{name:A,value:C}of k)E[A]!==void 0&&this.fail(`duplicate attribute: ${A}.`),E[A]=C;this.attribList=[]}openTag(){var k;this.processAttribs();const{tags:E}=this,A=this.tag;A.isSelfClosing=!1,(k=this.openTagHandler)===null||k===void 0||k.call(this,A),E.push(A),this.state=13,this.name=""}openSelfClosingTag(){var k,E,A;this.processAttribs();const{tags:C}=this,D=this.tag;D.isSelfClosing=!0,(k=this.openTagHandler)===null||k===void 0||k.call(this,D),(E=this.closeTagHandler)===null||E===void 0||E.call(this,D),(this.tag=(A=C[C.length-1])!==null&&A!==void 0?A:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:k,name:E}=this;if(this.state=13,this.name="",E==="")return this.fail("weird empty close tag."),void(this.text+="</>");const A=this.closeTagHandler;let C=k.length;for(;C-- >0;){const D=this.tag=k.pop();if(this.topNS=D.ns,A==null||A(D),D.name===E)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(k){if(k[0]!=="#"){const A=this.ENTITIES[k];return A!==void 0?A:(this.fail(this.isName(k)?"undefined entity.":"disallowed character in entity name."),`&${k};`)}let E=NaN;return k[1]==="x"&&/^#x[0-9a-f]+$/i.test(k)?E=parseInt(k.slice(2),16):/^#[0-9]+$/.test(k)&&(E=parseInt(k.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${k};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l){this._block=s.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}o.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=s.from(a,l));for(var c=this._block,u=this._blockSize,h=a.length,f=this._len,d=0;d<h;){for(var p=f%u,g=Math.min(h-d,u-p),m=0;m<g;m++)c[p+m]=a[d+m];d+=g,(f+=g)%u==0&&this._update(c)}return this._len+=h,this},o.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,h=(c-u)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return a?f.toString(a):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(r,n,i){var s=n.exports=function(o){o=o.toLowerCase();var a=s[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};s.sha=r("./sha"),s.sha1=r("./sha1"),s.sha224=r("./sha224"),s.sha256=r("./sha256"),s.sha384=r("./sha384"),s.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(d){return d<<30|d>>>2}function f(d,p,g,m){return d===0?p&g|~p&m:d===2?p&g|p&m|g&m:p^g^m}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var p,g=this._w,m=0|this._a,v=0|this._b,y=0|this._c,x=0|this._d,w=0|this._e,_=0;_<16;++_)g[_]=d.readInt32BE(4*_);for(;_<80;++_)g[_]=g[_-3]^g[_-8]^g[_-14]^g[_-16];for(var M=0;M<80;++M){var U=~~(M/20),L=0|((p=m)<<5|p>>>27)+f(U,v,y,x)+w+g[M]+l[U];w=x,x=y,y=h(v),v=m,m=L}this._a=m+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=x+this._d|0,this._e=w+this._e|0},u.prototype._hash=function(){var d=a.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(p){return p<<5|p>>>27}function f(p){return p<<30|p>>>2}function d(p,g,m,v){return p===0?g&m|~g&v:p===2?g&m|g&v|m&v:g^m^v}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(p){for(var g,m=this._w,v=0|this._a,y=0|this._b,x=0|this._c,w=0|this._d,_=0|this._e,M=0;M<16;++M)m[M]=p.readInt32BE(4*M);for(;M<80;++M)m[M]=(g=m[M-3]^m[M-8]^m[M-14]^m[M-16])<<1|g>>>31;for(var U=0;U<80;++U){var L=~~(U/20),O=h(v)+d(L,y,x,w)+_+m[U]+l[L]|0;_=w,w=x,x=f(y),y=v,v=O}this._a=v+this._a|0,this._b=y+this._b|0,this._c=x+this._c|0,this._d=w+this._d|0,this._e=_+this._e|0},u.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var s=r("inherits"),o=r("./sha256"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}s(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(m,v,y){return y^m&(v^y)}function f(m,v,y){return m&v|y&(m|v)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}s(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var v,y=this._w,x=0|this._a,w=0|this._b,_=0|this._c,M=0|this._d,U=0|this._e,L=0|this._f,O=0|this._g,H=0|this._h,G=0;G<16;++G)y[G]=m.readInt32BE(4*G);for(;G<64;++G)y[G]=0|(((v=y[G-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[G-7]+g(y[G-15])+y[G-16];for(var I=0;I<64;++I){var R=H+p(U)+h(U,L,O)+l[I]+y[I]|0,S=d(x)+f(x,w,_)|0;H=O,O=L,L=U,U=M+R|0,M=_,_=w,w=x,x=R+S|0}this._a=x+this._a|0,this._b=w+this._b|0,this._c=_+this._c|0,this._d=M+this._d|0,this._e=U+this._e|0,this._f=L+this._f|0,this._g=O+this._g|0,this._h=H+this._h|0},u.prototype._hash=function(){var m=a.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var s=r("inherits"),o=r("./sha512"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}s(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(48);function f(d,p,g){h.writeInt32BE(d,g),h.writeInt32BE(p,g+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),h},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}function h(w,_,M){return M^w&(_^M)}function f(w,_,M){return w&_|M&(w|_)}function d(w,_){return(w>>>28|_<<4)^(_>>>2|w<<30)^(_>>>7|w<<25)}function p(w,_){return(w>>>14|_<<18)^(w>>>18|_<<14)^(_>>>9|w<<23)}function g(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7}function m(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)}function v(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6}function y(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26)}function x(w,_){return w>>>0<_>>>0?1:0}s(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(w){for(var _=this._w,M=0|this._ah,U=0|this._bh,L=0|this._ch,O=0|this._dh,H=0|this._eh,G=0|this._fh,I=0|this._gh,R=0|this._hh,S=0|this._al,j=0|this._bl,k=0|this._cl,E=0|this._dl,A=0|this._el,C=0|this._fl,D=0|this._gl,z=0|this._hl,P=0;P<32;P+=2)_[P]=w.readInt32BE(4*P),_[P+1]=w.readInt32BE(4*P+4);for(;P<160;P+=2){var K=_[P-30],Z=_[P-30+1],te=g(K,Z),q=m(Z,K),$=v(K=_[P-4],Z=_[P-4+1]),N=y(Z,K),T=_[P-14],V=_[P-14+1],J=_[P-32],re=_[P-32+1],se=q+V|0,B=te+T+x(se,q)|0;B=(B=B+$+x(se=se+N|0,N)|0)+J+x(se=se+re|0,re)|0,_[P]=B,_[P+1]=se}for(var ne=0;ne<160;ne+=2){B=_[ne],se=_[ne+1];var ee=f(M,U,L),F=f(S,j,k),W=d(M,S),Y=d(S,M),ae=p(H,A),ce=p(A,H),le=l[ne],de=l[ne+1],me=h(H,G,I),ge=h(A,C,D),ke=z+ce|0,Re=R+ae+x(ke,z)|0;Re=(Re=(Re=Re+me+x(ke=ke+ge|0,ge)|0)+le+x(ke=ke+de|0,de)|0)+B+x(ke=ke+se|0,se)|0;var je=Y+F|0,qe=W+ee+x(je,Y)|0;R=I,z=D,I=G,D=C,G=H,C=A,H=O+Re+x(A=E+ke|0,E)|0,O=L,E=k,L=U,k=j,U=M,j=S,M=Re+qe+x(S=ke+je|0,ke)|0}this._al=this._al+S|0,this._bl=this._bl+j|0,this._cl=this._cl+k|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+C|0,this._gl=this._gl+D|0,this._hl=this._hl+z|0,this._ah=this._ah+M+x(this._al,S)|0,this._bh=this._bh+U+x(this._bl,j)|0,this._ch=this._ch+L+x(this._cl,k)|0,this._dh=this._dh+O+x(this._dl,E)|0,this._eh=this._eh+H+x(this._el,A)|0,this._fh=this._fh+G+x(this._fl,C)|0,this._gh=this._gh+I+x(this._gl,D)|0,this._hh=this._hh+R+x(this._hl,z)|0},u.prototype._hash=function(){var w=a.allocUnsafe(64);function _(M,U,L){w.writeInt32BE(M,L),w.writeInt32BE(U,L+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),w},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=o;var s=r("events").EventEmitter;function o(){s.call(this)}r("inherits")(o,s),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,l){var c=this;function u(v){a.writable&&a.write(v)===!1&&c.pause&&c.pause()}function h(){c.readable&&c.resume&&c.resume()}c.on("data",u),a.on("drain",h),a._isStdio||l&&l.end===!1||(c.on("end",d),c.on("close",p));var f=!1;function d(){f||(f=!0,a.end())}function p(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function g(v){if(m(),s.listenerCount(this,"error")===0)throw v}function m(){c.removeListener("data",u),a.removeListener("drain",h),c.removeListener("end",d),c.removeListener("close",p),c.removeListener("error",g),a.removeListener("error",g),c.removeListener("end",m),c.removeListener("close",m),a.removeListener("close",m)}return c.on("error",g),a.on("error",g),c.on("end",m),c.on("close",m),a.on("close",m),a.emit("pipe",c),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var s=r("process-nextick-args"),o=Object.keys||function(m){var v=[];for(var y in m)v.push(y);return v};n.exports=d;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l=r("./_stream_readable"),c=r("./_stream_writable");a.inherits(d,l);for(var u=o(c.prototype),h=0;h<u.length;h++){var f=u[h];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(m){if(!(this instanceof d))return new d(m);l.call(this,m),c.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||s.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,v){this.push(null),this.end(),s.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=a;var s=r("./_stream_transform"),o=Object.create(r("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);s.call(this,l)}o.inherits=r("inherits"),o.inherits(a,s),a.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(s,o){(function(){var a=r("process-nextick-args");n.exports=M;var l,c=r("isarray");M.ReadableState=_,r("events").EventEmitter;var u=function(z,P){return z.listeners(P).length},h=r("./internal/streams/stream"),f=r("safe-buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(r("core-util-is"));p.inherits=r("inherits");var g=r("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,y=r("./internal/streams/BufferList"),x=r("./internal/streams/destroy");p.inherits(M,h);var w=["error","close","destroy","pause","resume"];function _(z,P){z=z||{};var K=P instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!z.objectMode,K&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var Z=z.highWaterMark,te=z.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(te||te===0)?te:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(v||(v=r("string_decoder/").StringDecoder),this.decoder=new v(z.encoding),this.encoding=z.encoding)}function M(z){if(l=l||r("./_stream_duplex"),!(this instanceof M))return new M(z);this._readableState=new _(z,this),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}function U(z,P,K,Z,te){var q,$=z._readableState;return P===null?($.reading=!1,function(N,T){if(!T.ended){if(T.decoder){var V=T.decoder.end();V&&V.length&&(T.buffer.push(V),T.length+=T.objectMode?1:V.length)}T.ended=!0,H(N)}}(z,$)):(te||(q=function(N,T){var V;J=T,f.isBuffer(J)||J instanceof d||typeof T=="string"||T===void 0||N.objectMode||(V=new TypeError("Invalid non-string/buffer chunk"));var J;return V}($,P)),q?z.emit("error",q):$.objectMode||P&&P.length>0?(typeof P=="string"||$.objectMode||Object.getPrototypeOf(P)===f.prototype||(P=function(N){return f.from(N)}(P)),Z?$.endEmitted?z.emit("error",new Error("stream.unshift() after end event")):L(z,$,P,!0):$.ended?z.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!K?(P=$.decoder.write(P),$.objectMode||P.length!==0?L(z,$,P,!1):I(z,$)):L(z,$,P,!1))):Z||($.reading=!1)),function(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}($)}function L(z,P,K,Z){P.flowing&&P.length===0&&!P.sync?(z.emit("data",K),z.read(0)):(P.length+=P.objectMode?1:K.length,Z?P.buffer.unshift(K):P.buffer.push(K),P.needReadable&&H(z)),I(z,P)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),M.prototype.destroy=x.destroy,M.prototype._undestroy=x.undestroy,M.prototype._destroy=function(z,P){this.push(null),P(z)},M.prototype.push=function(z,P){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof z=="string"&&((P=P||Z.defaultEncoding)!==Z.encoding&&(z=f.from(z,P),P=""),K=!0),U(this,z,P,!1,K)},M.prototype.unshift=function(z){return U(this,z,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(z){return v||(v=r("string_decoder/").StringDecoder),this._readableState.decoder=new v(z),this._readableState.encoding=z,this};function O(z,P){return z<=0||P.length===0&&P.ended?0:P.objectMode?1:z!=z?P.flowing&&P.length?P.buffer.head.data.length:P.length:(z>P.highWaterMark&&(P.highWaterMark=function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(z)),z<=P.length?z:P.ended?P.length:(P.needReadable=!0,0))}function H(z){var P=z._readableState;P.needReadable=!1,P.emittedReadable||(m("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?a.nextTick(G,z):G(z))}function G(z){m("emit readable"),z.emit("readable"),k(z)}function I(z,P){P.readingMore||(P.readingMore=!0,a.nextTick(R,z,P))}function R(z,P){for(var K=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(m("maybeReadMore read 0"),z.read(0),K!==P.length);)K=P.length;P.readingMore=!1}function S(z){m("readable nexttick read 0"),z.read(0)}function j(z,P){P.reading||(m("resume read 0"),z.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,z.emit("resume"),k(z),P.flowing&&!P.reading&&z.read(0)}function k(z){var P=z._readableState;for(m("flow",P.flowing);P.flowing&&z.read()!==null;);}function E(z,P){return P.length===0?null:(P.objectMode?K=P.buffer.shift():!z||z>=P.length?(K=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):K=function(Z,te,q){var $;return Z<te.head.data.length?($=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):$=Z===te.head.data.length?te.shift():q?function(N,T){var V=T.head,J=1,re=V.data;for(N-=re.length;V=V.next;){var se=V.data,B=N>se.length?se.length:N;if(B===se.length?re+=se:re+=se.slice(0,N),(N-=B)===0){B===se.length?(++J,V.next?T.head=V.next:T.head=T.tail=null):(T.head=V,V.data=se.slice(B));break}++J}return T.length-=J,re}(Z,te):function(N,T){var V=f.allocUnsafe(N),J=T.head,re=1;for(J.data.copy(V),N-=J.data.length;J=J.next;){var se=J.data,B=N>se.length?se.length:N;if(se.copy(V,V.length-N,0,B),(N-=B)===0){B===se.length?(++re,J.next?T.head=J.next:T.head=T.tail=null):(T.head=J,J.data=se.slice(B));break}++re}return T.length-=re,V}(Z,te),$}(z,P.buffer,P.decoder),K);var K}function A(z){var P=z._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,a.nextTick(C,P,z))}function C(z,P){z.endEmitted||z.length!==0||(z.endEmitted=!0,P.readable=!1,P.emit("end"))}function D(z,P){for(var K=0,Z=z.length;K<Z;K++)if(z[K]===P)return K;return-1}M.prototype.read=function(z){m("read",z),z=parseInt(z,10);var P=this._readableState,K=z;if(z!==0&&(P.emittedReadable=!1),z===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return m("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?A(this):H(this),null;if((z=O(z,P))===0&&P.ended)return P.length===0&&A(this),null;var Z,te=P.needReadable;return m("need readable",te),(P.length===0||P.length-z<P.highWaterMark)&&m("length less than watermark",te=!0),P.ended||P.reading?m("reading or ended",te=!1):te&&(m("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(z=O(K,P))),(Z=z>0?E(z,P):null)===null?(P.needReadable=!0,z=0):P.length-=z,P.length===0&&(P.ended||(P.needReadable=!0),K!==z&&P.ended&&A(this)),Z!==null&&this.emit("data",Z),Z},M.prototype._read=function(z){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(z,P){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=z;break;case 1:Z.pipes=[Z.pipes,z];break;default:Z.pipes.push(z)}Z.pipesCount+=1,m("pipe count=%d opts=%j",Z.pipesCount,P);var te=(!P||P.end!==!1)&&z!==s.stdout&&z!==s.stderr?$:ne;function q(ee,F){m("onunpipe"),ee===K&&F&&F.hasUnpiped===!1&&(F.hasUnpiped=!0,m("cleanup"),z.removeListener("close",se),z.removeListener("finish",B),z.removeListener("drain",N),z.removeListener("error",re),z.removeListener("unpipe",q),K.removeListener("end",$),K.removeListener("end",ne),K.removeListener("data",J),T=!0,!Z.awaitDrain||z._writableState&&!z._writableState.needDrain||N())}function $(){m("onend"),z.end()}Z.endEmitted?a.nextTick(te):K.once("end",te),z.on("unpipe",q);var N=function(ee){return function(){var F=ee._readableState;m("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,F.awaitDrain===0&&u(ee,"data")&&(F.flowing=!0,k(ee))}}(K);z.on("drain",N);var T=!1,V=!1;function J(ee){m("ondata"),V=!1,z.write(ee)!==!1||V||((Z.pipesCount===1&&Z.pipes===z||Z.pipesCount>1&&D(Z.pipes,z)!==-1)&&!T&&(m("false write response, pause",Z.awaitDrain),Z.awaitDrain++,V=!0),K.pause())}function re(ee){m("onerror",ee),ne(),z.removeListener("error",re),u(z,"error")===0&&z.emit("error",ee)}function se(){z.removeListener("finish",B),ne()}function B(){m("onfinish"),z.removeListener("close",se),ne()}function ne(){m("unpipe"),K.unpipe(z)}return K.on("data",J),function(ee,F,W){if(typeof ee.prependListener=="function")return ee.prependListener(F,W);ee._events&&ee._events[F]?c(ee._events[F])?ee._events[F].unshift(W):ee._events[F]=[W,ee._events[F]]:ee.on(F,W)}(z,"error",re),z.once("close",se),z.once("finish",B),z.emit("pipe",K),Z.flowing||(m("pipe resume"),K.resume()),z},M.prototype.unpipe=function(z){var P=this._readableState,K={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return z&&z!==P.pipes||(z||(z=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,z&&z.emit("unpipe",this,K)),this;if(!z){var Z=P.pipes,te=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var q=0;q<te;q++)Z[q].emit("unpipe",this,{hasUnpiped:!1});return this}var $=D(P.pipes,z);return $===-1||(P.pipes.splice($,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),z.emit("unpipe",this,K)),this},M.prototype.on=function(z,P){var K=h.prototype.on.call(this,z,P);if(z==="data")this._readableState.flowing!==!1&&this.resume();else if(z==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&H(this):a.nextTick(S,this))}return K},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var z=this._readableState;return z.flowing||(m("resume"),z.flowing=!0,function(P,K){K.resumeScheduled||(K.resumeScheduled=!0,a.nextTick(j,P,K))}(this,z)),this},M.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(z){var P=this,K=this._readableState,Z=!1;for(var te in z.on("end",function(){if(m("wrapped end"),K.decoder&&!K.ended){var $=K.decoder.end();$&&$.length&&P.push($)}P.push(null)}),z.on("data",function($){m("wrapped data"),K.decoder&&($=K.decoder.write($)),K.objectMode&&$==null||(K.objectMode||$&&$.length)&&(P.push($)||(Z=!0,z.pause()))}),z)this[te]===void 0&&typeof z[te]=="function"&&(this[te]=function($){return function(){return z[$].apply(z,arguments)}}(te));for(var q=0;q<w.length;q++)z.on(w[q],this.emit.bind(this,w[q]));return this._read=function($){m("wrapped _read",$),Z&&(Z=!1,z.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=E}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var s=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function a(h,f){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,f!=null&&this.push(f),p(h);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"?this._flush(function(f,d){u(h,f,d)}):u(this,null,null)}function u(h,f,d){if(f)return h.emit("error",f);if(d!=null&&h.push(d),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=r("inherits"),o.inherits(l,s),l.prototype.push=function(h,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,f)},l.prototype._transform=function(h,f,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(h,f,d){var p=this._transformState;if(p.writecb=d,p.writechunk=h,p.writeencoding=f,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},l.prototype._destroy=function(h,f){var d=this;s.prototype._destroy.call(this,h,function(p){f(p),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(s,o,a){(function(){var l=r("process-nextick-args");function c(I){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(S,j,k){var E=S.entry;for(S.entry=null;E;){var A=E.callback;j.pendingcb--,A(k),E=E.next}j.corkedRequestsFree.next=S})(R,I)}}n.exports=_;var u,h=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?a:l.nextTick;_.WritableState=w;var f=Object.create(r("core-util-is"));f.inherits=r("inherits");var d={deprecate:r("util-deprecate")},p=r("./internal/streams/stream"),g=r("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=r("./internal/streams/destroy");function x(){}function w(I,R){u=u||r("./_stream_duplex"),I=I||{};var S=R instanceof u;this.objectMode=!!I.objectMode,S&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var j=I.highWaterMark,k=I.writableHighWaterMark,E=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:S&&(k||k===0)?k:E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=I.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(D,z){var P=D._writableState,K=P.sync,Z=P.writecb;if(function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}(P),z)(function(q,$,N,T,V){--$.pendingcb,N?(l.nextTick(V,T),l.nextTick(G,q,$),q._writableState.errorEmitted=!0,q.emit("error",T)):(V(T),q._writableState.errorEmitted=!0,q.emit("error",T),G(q,$))})(D,P,K,z,Z);else{var te=O(P);te||P.corked||P.bufferProcessing||!P.bufferedRequest||L(D,P),K?h(U,D,P,te,Z):U(D,P,te,Z)}})(R,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function _(I){if(u=u||r("./_stream_duplex"),!(v.call(_,this)||this instanceof u))return new _(I);this._writableState=new w(I,this),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),p.call(this)}function M(I,R,S,j,k,E,A){R.writelen=j,R.writecb=A,R.writing=!0,R.sync=!0,S?I._writev(k,R.onwrite):I._write(k,E,R.onwrite),R.sync=!1}function U(I,R,S,j){S||function(k,E){E.length===0&&E.needDrain&&(E.needDrain=!1,k.emit("drain"))}(I,R),R.pendingcb--,j(),G(I,R)}function L(I,R){R.bufferProcessing=!0;var S=R.bufferedRequest;if(I._writev&&S&&S.next){var j=R.bufferedRequestCount,k=new Array(j),E=R.corkedRequestsFree;E.entry=S;for(var A=0,C=!0;S;)k[A]=S,S.isBuf||(C=!1),S=S.next,A+=1;k.allBuffers=C,M(I,R,!0,R.length,k,"",E.finish),R.pendingcb++,R.lastBufferedRequest=null,E.next?(R.corkedRequestsFree=E.next,E.next=null):R.corkedRequestsFree=new c(R),R.bufferedRequestCount=0}else{for(;S;){var D=S.chunk,z=S.encoding,P=S.callback;if(M(I,R,!1,R.objectMode?1:D.length,D,z,P),S=S.next,R.bufferedRequestCount--,R.writing)break}S===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=S,R.bufferProcessing=!1}function O(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function H(I,R){I._final(function(S){R.pendingcb--,S&&I.emit("error",S),R.prefinished=!0,I.emit("prefinish"),G(I,R)})}function G(I,R){var S=O(R);return S&&(function(j,k){k.prefinished||k.finalCalled||(typeof j._final=="function"?(k.pendingcb++,k.finalCalled=!0,l.nextTick(H,j,k)):(k.prefinished=!0,j.emit("prefinish")))}(I,R),R.pendingcb===0&&(R.finished=!0,I.emit("finish"))),S}f.inherits(_,p),w.prototype.getBuffer=function(){for(var I=this.bufferedRequest,R=[];I;)R.push(I),I=I.next;return R},function(){try{Object.defineProperty(w.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(I){return!!v.call(this,I)||this===_&&I&&I._writableState instanceof w}})):v=function(I){return I instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(I,R,S){var j,k=this._writableState,E=!1,A=!k.objectMode&&(j=I,g.isBuffer(j)||j instanceof m);return A&&!g.isBuffer(I)&&(I=function(C){return g.from(C)}(I)),typeof R=="function"&&(S=R,R=null),A?R="buffer":R||(R=k.defaultEncoding),typeof S!="function"&&(S=x),k.ended?function(C,D){var z=new Error("write after end");C.emit("error",z),l.nextTick(D,z)}(this,S):(A||function(C,D,z,P){var K=!0,Z=!1;return z===null?Z=new TypeError("May not write null values to stream"):typeof z=="string"||z===void 0||D.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(C.emit("error",Z),l.nextTick(P,Z),K=!1),K}(this,k,I,S))&&(k.pendingcb++,E=function(C,D,z,P,K,Z){if(!z){var te=function(T,V,J){return T.objectMode||T.decodeStrings===!1||typeof V!="string"||(V=g.from(V,J)),V}(D,P,K);P!==te&&(z=!0,K="buffer",P=te)}var q=D.objectMode?1:P.length;D.length+=q;var $=D.length<D.highWaterMark;if($||(D.needDrain=!0),D.writing||D.corked){var N=D.lastBufferedRequest;D.lastBufferedRequest={chunk:P,encoding:K,isBuf:z,callback:Z,next:null},N?N.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else M(C,D,!1,q,P,K,Z);return $}(this,k,A,I,R,S)),E},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||L(this,I))},_.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(I,R,S){S(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(I,R,S){var j=this._writableState;typeof I=="function"?(S=I,I=null,R=null):typeof R=="function"&&(S=R,R=null),I!=null&&this.write(I,R),j.corked&&(j.corked=1,this.uncork()),j.ending||function(k,E,A){E.ending=!0,G(k,E),A&&(E.finished?l.nextTick(A):k.once("finish",A)),E.ended=!0,k.writable=!1}(this,j,S)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(I,R){this.end(),R(I)}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("util");n.exports=function(){function a(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},a.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},a.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var c,u,h,f=s.allocUnsafe(l>>>0),d=this.head,p=0;d;)c=d.data,u=f,h=p,c.copy(u,h),p+=d.data.length,d=d.next;return f},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var s=r("process-nextick-args");function o(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return u||h?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,a)):s.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,s.nextTick(o,c,f)):s.nextTick(o,c,f):l&&l(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(s,o){(function(){var a=r("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},h=0;function f(d,p){this._id=d,this._clearFn=p}i.setTimeout=function(){return new f(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new f(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,p){clearTimeout(d._idleTimeoutId),d._idleTimeout=p},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var p=d._idleTimeout;p>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},p))},i.setImmediate=typeof s=="function"?s:function(d){var p=h++,g=!(arguments.length<2)&&c.call(arguments,1);return u[p]=!0,a(function(){u[p]&&(g?d.apply(null,g):d.call(null),i.clearImmediate(p))}),p},i.clearImmediate=typeof o=="function"?o:function(d){delete u[d]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(s){(function(){function o(a){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(o("noDeprecation"))return a;var c=!1;return function(){if(!c){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}},{}],526:[function(r,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(r,n,i){(function(s,o){(function(){var a=/%[sdj%]/g;i.format=function(k){if(!w(k)){for(var E=[],A=0;A<arguments.length;A++)E.push(u(arguments[A]));return E.join(" ")}A=1;for(var C=arguments,D=C.length,z=String(k).replace(a,function(K){if(K==="%%")return"%";if(A>=D)return K;switch(K){case"%s":return String(C[A++]);case"%d":return Number(C[A++]);case"%j":try{return JSON.stringify(C[A++])}catch{return"[Circular]"}default:return K}}),P=C[A];A<D;P=C[++A])y(P)||!U(P)?z+=" "+P:z+=" "+u(P);return z},i.deprecate=function(k,E){if(_(o.process))return function(){return i.deprecate(k,E).apply(this,arguments)};if(s.noDeprecation===!0)return k;var A=!1;return function(){if(!A){if(s.throwDeprecation)throw new Error(E);s.traceDeprecation?console.trace(E):console.error(E),A=!0}return k.apply(this,arguments)}};var l,c={};function u(k,E){var A={seen:[],stylize:f};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),v(E)?A.showHidden=E:E&&i._extend(A,E),_(A.showHidden)&&(A.showHidden=!1),_(A.depth)&&(A.depth=2),_(A.colors)&&(A.colors=!1),_(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=h),d(A,k,A.depth)}function h(k,E){var A=u.styles[E];return A?"\x1B["+u.colors[A][0]+"m"+k+"\x1B["+u.colors[A][1]+"m":k}function f(k,E){return k}function d(k,E,A){if(k.customInspect&&E&&H(E.inspect)&&E.inspect!==i.inspect&&(!E.constructor||E.constructor.prototype!==E)){var C=E.inspect(A,k);return w(C)||(C=d(k,C,A)),C}var D=function(N,T){if(_(T))return N.stylize("undefined","undefined");if(w(T)){var V="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(V,"string")}if(x(T))return N.stylize(""+T,"number");if(v(T))return N.stylize(""+T,"boolean");if(y(T))return N.stylize("null","null")}(k,E);if(D)return D;var z=Object.keys(E),P=function(N){var T={};return N.forEach(function(V,J){T[V]=!0}),T}(z);if(k.showHidden&&(z=Object.getOwnPropertyNames(E)),O(E)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return p(E);if(z.length===0){if(H(E)){var K=E.name?": "+E.name:"";return k.stylize("[Function"+K+"]","special")}if(M(E))return k.stylize(RegExp.prototype.toString.call(E),"regexp");if(L(E))return k.stylize(Date.prototype.toString.call(E),"date");if(O(E))return p(E)}var Z,te="",q=!1,$=["{","}"];return m(E)&&(q=!0,$=["[","]"]),H(E)&&(te=" [Function"+(E.name?": "+E.name:"")+"]"),M(E)&&(te=" "+RegExp.prototype.toString.call(E)),L(E)&&(te=" "+Date.prototype.toUTCString.call(E)),O(E)&&(te=" "+p(E)),z.length!==0||q&&E.length!=0?A<0?M(E)?k.stylize(RegExp.prototype.toString.call(E),"regexp"):k.stylize("[Object]","special"):(k.seen.push(E),Z=q?function(N,T,V,J,re){for(var se=[],B=0,ne=T.length;B<ne;++B)j(T,String(B))?se.push(g(N,T,V,J,String(B),!0)):se.push("");return re.forEach(function(ee){ee.match(/^\d+$/)||se.push(g(N,T,V,J,ee,!0))}),se}(k,E,A,P,z):z.map(function(N){return g(k,E,A,P,N,q)}),k.seen.pop(),function(N,T,V){return N.reduce(function(J,re){return re.indexOf(`
`)>=0,J+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?V[0]+(T===""?"":T+`
 `)+" "+N.join(`,
  `)+" "+V[1]:V[0]+T+" "+N.join(", ")+" "+V[1]}(Z,te,$)):$[0]+te+$[1]}function p(k){return"["+Error.prototype.toString.call(k)+"]"}function g(k,E,A,C,D,z){var P,K,Z;if((Z=Object.getOwnPropertyDescriptor(E,D)||{value:E[D]}).get?K=Z.set?k.stylize("[Getter/Setter]","special"):k.stylize("[Getter]","special"):Z.set&&(K=k.stylize("[Setter]","special")),j(C,D)||(P="["+D+"]"),K||(k.seen.indexOf(Z.value)<0?(K=y(A)?d(k,Z.value,null):d(k,Z.value,A-1)).indexOf(`
`)>-1&&(K=z?K.split(`
`).map(function(te){return"  "+te}).join(`
`).substr(2):`
`+K.split(`
`).map(function(te){return"   "+te}).join(`
`)):K=k.stylize("[Circular]","special")),_(P)){if(z&&D.match(/^\d+$/))return K;(P=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=k.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=k.stylize(P,"string"))}return P+": "+K}function m(k){return Array.isArray(k)}function v(k){return typeof k=="boolean"}function y(k){return k===null}function x(k){return typeof k=="number"}function w(k){return typeof k=="string"}function _(k){return k===void 0}function M(k){return U(k)&&G(k)==="[object RegExp]"}function U(k){return typeof k=="object"&&k!==null}function L(k){return U(k)&&G(k)==="[object Date]"}function O(k){return U(k)&&(G(k)==="[object Error]"||k instanceof Error)}function H(k){return typeof k=="function"}function G(k){return Object.prototype.toString.call(k)}function I(k){return k<10?"0"+k.toString(10):k.toString(10)}i.debuglog=function(k){if(_(l)&&(l=s.env.NODE_DEBUG||""),k=k.toUpperCase(),!c[k])if(new RegExp("\\b"+k+"\\b","i").test(l)){var E=s.pid;c[k]=function(){var A=i.format.apply(i,arguments);console.error("%s %d: %s",k,E,A)}}else c[k]=function(){};return c[k]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=v,i.isNull=y,i.isNullOrUndefined=function(k){return k==null},i.isNumber=x,i.isString=w,i.isSymbol=function(k){return typeof k=="symbol"},i.isUndefined=_,i.isRegExp=M,i.isObject=U,i.isDate=L,i.isError=O,i.isFunction=H,i.isPrimitive=function(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||k===void 0},i.isBuffer=r("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var k=new Date,E=[I(k.getHours()),I(k.getMinutes()),I(k.getSeconds())].join(":");return[k.getDate(),R[k.getMonth()],E].join(" ")}function j(k,E){return Object.prototype.hasOwnProperty.call(k,E)}i.log=function(){console.log("%s - %s",S(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(k,E){if(!E||!U(E))return k;for(var A=Object.keys(E),C=A.length;C--;)k[A[C]]=E[A[C]];return k}}).call(this)}).call(this,r("_process"),typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var s=p(r("./v1.js")),o=p(r("./v3.js")),a=p(r("./v4.js")),l=p(r("./v5.js")),c=p(r("./nil.js")),u=p(r("./version.js")),h=p(r("./validate.js")),f=p(r("./stringify.js")),d=p(r("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function s(d){return 14+(d+64>>>9<<4)+1}function o(d,p){const g=(65535&d)+(65535&p);return(d>>16)+(p>>16)+(g>>16)<<16|65535&g}function a(d,p,g,m,v,y){return o((x=o(o(p,d),o(m,y)))<<(w=v)|x>>>32-w,g);var x,w}function l(d,p,g,m,v,y,x){return a(p&g|~p&m,d,p,v,y,x)}function c(d,p,g,m,v,y,x){return a(p&m|g&~m,d,p,v,y,x)}function u(d,p,g,m,v,y,x){return a(p^g^m,d,p,v,y,x)}function h(d,p,g,m,v,y,x){return a(g^(p|~m),d,p,v,y,x)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var f=function(d){if(typeof d=="string"){const p=unescape(encodeURIComponent(d));d=new Uint8Array(p.length);for(let g=0;g<p.length;++g)d[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let v=0;v<m;v+=8){const y=p[v>>5]>>>v%32&255,x=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(x)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[s(g)-1]=g;let m=1732584193,v=-271733879,y=-1732584194,x=271733878;for(let w=0;w<p.length;w+=16){const _=m,M=v,U=y,L=x;m=l(m,v,y,x,p[w],7,-680876936),x=l(x,m,v,y,p[w+1],12,-389564586),y=l(y,x,m,v,p[w+2],17,606105819),v=l(v,y,x,m,p[w+3],22,-1044525330),m=l(m,v,y,x,p[w+4],7,-176418897),x=l(x,m,v,y,p[w+5],12,1200080426),y=l(y,x,m,v,p[w+6],17,-1473231341),v=l(v,y,x,m,p[w+7],22,-45705983),m=l(m,v,y,x,p[w+8],7,1770035416),x=l(x,m,v,y,p[w+9],12,-1958414417),y=l(y,x,m,v,p[w+10],17,-42063),v=l(v,y,x,m,p[w+11],22,-1990404162),m=l(m,v,y,x,p[w+12],7,1804603682),x=l(x,m,v,y,p[w+13],12,-40341101),y=l(y,x,m,v,p[w+14],17,-1502002290),v=l(v,y,x,m,p[w+15],22,1236535329),m=c(m,v,y,x,p[w+1],5,-165796510),x=c(x,m,v,y,p[w+6],9,-1069501632),y=c(y,x,m,v,p[w+11],14,643717713),v=c(v,y,x,m,p[w],20,-373897302),m=c(m,v,y,x,p[w+5],5,-701558691),x=c(x,m,v,y,p[w+10],9,38016083),y=c(y,x,m,v,p[w+15],14,-660478335),v=c(v,y,x,m,p[w+4],20,-405537848),m=c(m,v,y,x,p[w+9],5,568446438),x=c(x,m,v,y,p[w+14],9,-1019803690),y=c(y,x,m,v,p[w+3],14,-187363961),v=c(v,y,x,m,p[w+8],20,1163531501),m=c(m,v,y,x,p[w+13],5,-1444681467),x=c(x,m,v,y,p[w+2],9,-51403784),y=c(y,x,m,v,p[w+7],14,1735328473),v=c(v,y,x,m,p[w+12],20,-1926607734),m=u(m,v,y,x,p[w+5],4,-378558),x=u(x,m,v,y,p[w+8],11,-2022574463),y=u(y,x,m,v,p[w+11],16,1839030562),v=u(v,y,x,m,p[w+14],23,-35309556),m=u(m,v,y,x,p[w+1],4,-1530992060),x=u(x,m,v,y,p[w+4],11,1272893353),y=u(y,x,m,v,p[w+7],16,-155497632),v=u(v,y,x,m,p[w+10],23,-1094730640),m=u(m,v,y,x,p[w+13],4,681279174),x=u(x,m,v,y,p[w],11,-358537222),y=u(y,x,m,v,p[w+3],16,-722521979),v=u(v,y,x,m,p[w+6],23,76029189),m=u(m,v,y,x,p[w+9],4,-640364487),x=u(x,m,v,y,p[w+12],11,-421815835),y=u(y,x,m,v,p[w+15],16,530742520),v=u(v,y,x,m,p[w+2],23,-995338651),m=h(m,v,y,x,p[w],6,-198630844),x=h(x,m,v,y,p[w+7],10,1126891415),y=h(y,x,m,v,p[w+14],15,-1416354905),v=h(v,y,x,m,p[w+5],21,-57434055),m=h(m,v,y,x,p[w+12],6,1700485571),x=h(x,m,v,y,p[w+3],10,-1894986606),y=h(y,x,m,v,p[w+10],15,-1051523),v=h(v,y,x,m,p[w+1],21,-2054922799),m=h(m,v,y,x,p[w+8],6,1873313359),x=h(x,m,v,y,p[w+15],10,-30611744),y=h(y,x,m,v,p[w+6],15,-1560198380),v=h(v,y,x,m,p[w+13],21,1309151649),m=h(m,v,y,x,p[w+4],6,-145523070),x=h(x,m,v,y,p[w+11],10,-1120210379),y=h(y,x,m,v,p[w+2],15,718787259),v=h(v,y,x,m,p[w+9],21,-343485551),m=o(m,_),v=o(v,M),y=o(y,U),x=o(x,L)}return[m,v,y,x]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(s(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&p[v/8])<<v%32;return m}(d),8*d.length))};i.default=f},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};i.default=a},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(r,n,i){function s(l,c,u,h){switch(l){case 0:return c&u^~c&h;case 1:return c^u^h;case 2:return c&u^c&h^u&h;case 3:return c^u^h}}function o(l,c){return l<<c|l>>>32-c}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const h=l.length/4+2,f=Math.ceil(h/16),d=new Array(f);for(let p=0;p<f;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];d[p]=g}d[f-1][14]=8*(l.length-1)/Math.pow(2,32),d[f-1][14]=Math.floor(d[f-1][14]),d[f-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<f;++p){const g=new Uint32Array(80);for(let _=0;_<16;++_)g[_]=d[p][_];for(let _=16;_<80;++_)g[_]=o(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);let m=u[0],v=u[1],y=u[2],x=u[3],w=u[4];for(let _=0;_<80;++_){const M=Math.floor(_/20),U=o(m,5)+s(M,v,y,x)+w+c[M]+g[_]>>>0;w=x,x=y,y=o(v,30)>>>0,v=m,m=U}u[0]=u[0]+m>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+x>>>0,u[4]=u[4]+w>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=a},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s};const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(a[c[u+0]]+a[c[u+1]]+a[c[u+2]]+a[c[u+3]]+"-"+a[c[u+4]]+a[c[u+5]]+"-"+a[c[u+6]]+a[c[u+7]]+"-"+a[c[u+8]]+a[c[u+9]]+"-"+a[c[u+10]]+a[c[u+11]]+a[c[u+12]]+a[c[u+13]]+a[c[u+14]]+a[c[u+15]]).toLowerCase();if(!(0,o.default)(h))throw TypeError("Stringified UUID is invalid");return h};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(d){return d&&d.__esModule?d:{default:d}}let l,c,u=0,h=0;var f=function(d,p,g){let m=p&&g||0;const v=p||new Array(16);let y=(d=d||{}).node||l,x=d.clockseq!==void 0?d.clockseq:c;if(y==null||x==null){const O=d.random||(d.rng||s.default)();y==null&&(y=l=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),x==null&&(x=c=16383&(O[6]<<8|O[7]))}let w=d.msecs!==void 0?d.msecs:Date.now(),_=d.nsecs!==void 0?d.nsecs:h+1;const M=w-u+(_-h)/1e4;if(M<0&&d.clockseq===void 0&&(x=x+1&16383),(M<0||w>u)&&d.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=w,h=_,c=x,w+=122192928e5;const U=(1e4*(268435455&w)+_)%4294967296;v[m++]=U>>>24&255,v[m++]=U>>>16&255,v[m++]=U>>>8&255,v[m++]=255&U;const L=w/4294967296*1e4&268435455;v[m++]=L>>>8&255,v[m++]=255&L,v[m++]=L>>>24&15|16,v[m++]=L>>>16&255,v[m++]=x>>>8|128,v[m++]=255&x;for(let O=0;O<6;++O)v[m+O]=y[O];return p||(0,o.default)(v)};i.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./md5.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,h,f){function d(p,g,m,v){if(typeof p=="string"&&(p=function(x){x=unescape(encodeURIComponent(x));const w=[];for(let _=0;_<x.length;++_)w.push(x.charCodeAt(_));return w}(p)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+p.length);if(y.set(g),y.set(p,g.length),y=f(y),y[6]=15&y[6]|h,y[8]=63&y[8]|128,m){v=v||0;for(let x=0;x<16;++x)m[v+x]=y[x];return m}return(0,s.default)(y)}try{d.name=u}catch{}return d.DNS=l,d.URL=c,d},i.URL=i.DNS=void 0;var s=a(r("./stringify.js")),o=a(r("./parse.js"));function a(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,h){const f=(c=c||{}).random||(c.rng||s.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,u){h=h||0;for(let d=0;d<16;++d)u[h+d]=f[d];return u}return(0,o.default)(f)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./sha1.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./regex.js"))&&s.__esModule?s:{default:s},a=function(l){return typeof l=="string"&&o.default.test(l)};i.default=a},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=a},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(pge);var mge={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof au=="function"&&au;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(p){var g=n[c][1][p];return o(g||p)},d,d.exports,r,n,i,s)}return i[c].exports}for(var a=typeof au=="function"&&au,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,f,d,p,g,m=[],v=0,y=l.length,x=y,w=s.getTypeOf(l)!=="string";v<l.length;)x=y-v,h=w?(c=l[v++],u=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),u=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=c>>2,d=(3&c)<<4|u>>4,p=1<x?(15&u)<<2|h>>6:64,g=2<x?63&h:64,m.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return m.join("")},i.decode=function(l){var c,u,h,f,d,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|x):new Array(0|x);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,u=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),y[m++]=c,d!==64&&(y[m++]=u),p!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,f,d,p){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u[g])];return-1^c}(0|l,a,a.length,0):function(c,u,h,f){var d=o,p=f+h;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^u.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function o(d,p,g,m,v,y){var x,w,_=d.file,M=d.compression,U=y!==c.utf8encode,L=a.transformTo("string",y(_.name)),O=a.transformTo("string",c.utf8encode(_.name)),H=_.comment,G=a.transformTo("string",y(H)),I=a.transformTo("string",c.utf8encode(H)),R=O.length!==_.name.length,S=I.length!==H.length,j="",k="",E="",A=_.dir,C=_.date,D={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(D.crc32=d.crc32,D.compressedSize=d.compressedSize,D.uncompressedSize=d.uncompressedSize);var z=0;p&&(z|=8),U||!R&&!S||(z|=2048);var P=0,K=0;A&&(P|=16),v==="UNIX"?(K=798,P|=function(te,q){var $=te;return te||($=q?16893:33204),(65535&$)<<16}(_.unixPermissions,A)):(K=20,P|=function(te){return 63&(te||0)}(_.dosPermissions)),x=C.getUTCHours(),x<<=6,x|=C.getUTCMinutes(),x<<=5,x|=C.getUTCSeconds()/2,w=C.getUTCFullYear()-1980,w<<=4,w|=C.getUTCMonth()+1,w<<=5,w|=C.getUTCDate(),R&&(k=s(1,1)+s(u(L),4)+O,j+="up"+s(k.length,2)+k),S&&(E=s(1,1)+s(u(G),4)+I,j+="uc"+s(E.length,2)+E);var Z="";return Z+=`
\0`,Z+=s(z,2),Z+=M.magic,Z+=s(x,2),Z+=s(w,2),Z+=s(D.crc32,4),Z+=s(D.compressedSize,4),Z+=s(D.uncompressedSize,4),Z+=s(L.length,2),Z+=s(j.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Z+L+j,dirRecord:h.CENTRAL_FILE_HEADER+s(K,2)+Z+s(G.length,2)+"\0\0\0\0"+s(P,4)+s(m,4)+L+j+G}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function f(d,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return h.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,m=function(v,y,x,w,_){var M=a.transformTo("string",_(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(y,4)+s(x,4)+s(M.length,2)+M}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,d){h++;var p=function(y,x){var w=y||x,_=s[w];if(!_)throw new Error(w+" is not a valid compression method !");return _}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:m,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new l(d);return m.load(g),m}).then(function(g){var m=[o.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var y=0;y<v.length;y++)m.push(h(v[y]));return o.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,y=0;y<v.length;y++){var x=v[y],w=x.fileNameStr,_=s.resolve(x.fileNameStr);p.file(_,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:d.createFolders}),x.dir||(p.file(_).unsafeOriginalName=w)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(_,M,U){var L,O=a.getTypeOf(M),H=a.extend(U||{},u);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(_=v(_)),H.createFolders&&(L=m(_))&&y.call(this,L,!0);var G=O==="string"&&H.binary===!1&&H.base64===!1;U&&U.binary!==void 0||(H.binary=!G),(M instanceof h&&M.uncompressedSize===0||H.dir||!M||M.length===0)&&(H.base64=!1,H.binary=!0,M="",H.compression="STORE",O="string");var I=null;I=M instanceof h||M instanceof l?M:p.isNode&&p.isStream(M)?new g(_,M):a.prepareContent(_,M,H.binary,H.optimizedBinaryString,H.base64);var R=new f(_,I,H);this.files[_]=R}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),m=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var M=_.lastIndexOf("/");return 0<M?_.substring(0,M):""},v=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,M){return M=M!==void 0?M:u.createFolders,_=v(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:M}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var M,U,L;for(M in this.files)L=this.files[M],(U=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&_(U,L)},filter:function(_){var M=[];return this.forEach(function(U,L){_(U,L)&&M.push(L)}),M},file:function(_,M,U){if(arguments.length!==1)return _=this.root+_,s.call(this,_,M,U),this;if(x(_)){var L=_;return this.filter(function(H,G){return!G.dir&&L.test(H)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(O,H){return H.dir&&_.test(O)});var M=this.root+_,U=y.call(this,M),L=this.clone();return L.root=U.name,L},remove:function(_){_=this.root+_;var M=this.files[_];if(M||(_.slice(-1)!=="/"&&(_+="/"),M=this.files[_]),M&&!M.dir)delete this.files[_];else for(var U=this.filter(function(O,H){return H.name.slice(0,_.length)===_}),L=0;L<U.length;L++)delete this.files[U[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var M,U={};try{if((U=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");a.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var L=U.comment||this.comment||"";M=d.generateWorker(this,U,L)}catch(O){(M=new l("error")).error(O)}return new c(M,U.type||"string",U.mimeType)},generateAsync:function(_,M){return this.generateInternalStream(_).accumulate(M)},generateNodeStream:function(_,M){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(M)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new u.Promise(function(m,v){var y=[],x=p._internalType,w=p._outputType,_=p._mimeType;p.on("data",function(M,U){y.push(M),g&&g(U)}).on("error",function(M){y=[],v(M)}).on("end",function(){try{var M=function(U,L,O){switch(U){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),O);case"base64":return l.encode(L);default:return s.transformTo(U,L)}}(w,function(U,L){var O,H=0,G=null,I=0;for(O=0;O<L.length;O++)I+=L[O].length;switch(U){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(G=new Uint8Array(I),O=0;O<L.length;O++)G.set(L[O],H),H+=L[O].length;return G;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+U+"'")}}(x,y),_);m(M)}catch(U){v(U)}y=[]}).resume()})}function d(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,s.checkSupport(v),this._worker=p.pipe(new o(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,m,v,y,x,w=p.length,_=0;for(y=0;y<w;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(g=o.uint8array?new Uint8Array(_):new Array(_),y=x=0;x<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[x++]=m:(m<2048?g[x++]=192|m>>>6:(m<65536?g[x++]=224|m>>>12:(g[x++]=240|m>>>18,g[x++]=128|m>>>12&63),g[x++]=128|m>>>6&63),g[x++]=128|63&m);return g}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,m,v,y,x=p.length,w=new Array(2*x);for(g=m=0;g<x;)if((v=p[g++])<128)w[m++]=v;else if(4<(y=c[v]))w[m++]=65533,g+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&g<x;)v=v<<6|63&p[g++],y--;1<y?w[m++]=65533:v<65536?w[m++]=v:(v-=65536,w[m++]=55296|v>>10&1023,w[m++]=56320|1023&v)}return w.length!==m&&(w.subarray?w=w.subarray(0,m):w.length=m),s.applyFromCharCode(w)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,x){var w;for((x=x||y.length)>y.length&&(x=y.length),w=x-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?x:w+c[y[w]]>x?w:x}(p),v=p;m!==p.length&&(o.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(v),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}r("setimmediate"),i.newBlob=function(g,m){i.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,m,v){var y=[],x=0,w=g.length;if(w<=v)return String.fromCharCode.apply(null,g);for(;x<w;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(x,Math.min(x+v,w)))):y.push(String.fromCharCode.apply(null,g.subarray(x,Math.min(x+v,w)))),x+=v;return y.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var m=65536,v=i.getTypeOf(g),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(g)}function d(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}i.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,m){if(m=m||"",!g)return m;i.checkSupport(g);var v=i.getTypeOf(m);return p[v][g](m)},i.resolve=function(g){for(var m=g.split("/"),v=[],y=0;y<m.length;y++){var x=m[y];x==="."||x===""&&y!==0&&y!==m.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var m,v,y="";for(v=0;v<(g||"").length;v++)y+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},i.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},i.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},i.prepareContent=function(g,m,v,y,x){return l.Promise.resolve(m).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,M){var U=new FileReader;U.onload=function(L){_(L.target.result)},U.onerror=function(L){M(L.target.error)},U.readAsArrayBuffer(w)}):w}).then(function(w){var _=i.getTypeOf(w);return _?(_==="arraybuffer"?w=i.transformTo("uint8array",w):_==="string"&&(x?w=o.decode(w):v&&y!==!0&&(w=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===m)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,m,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[p]={id:p,length:g,value:m};d.setIndex(v)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(x){(g=new u("error")).error(x)}return new o(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(p),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,m;a=!0;for(var v=d.length;v;){for(m=d,d=[],g=-1;++g<v;)m[g]();v=d.length}a=!1}n.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==o&&g(this,v)}function f(v,y,x){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function d(v,y,x){s(function(){var w;try{w=y(x)}catch(_){return a.reject(v,_)}w===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,w)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function g(v,y){var x=!1;function w(U){x||(x=!0,a.reject(v,U))}function _(U){x||(x=!0,a.resolve(v,U))}var M=m(function(){y(_,w)});M.status==="error"&&w(M.value)}function m(v,y){var x={};try{x.value=v(y),x.status="success"}catch(w){x.status="error",x.value=w}return x}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(v()).then(function(){return x})},function(x){return y.resolve(v()).then(function(){throw x})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?d(x,this.state===c?v:y,this.outcome):this.queue.push(new f(x,v,y)),x},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},a.resolve=function(v,y){var x=m(p,y);if(x.status==="error")return a.reject(v,x.value);var w=x.value;if(w)g(v,w);else{v.state=c,v.outcome=y;for(var _=-1,M=v.queue.length;++_<M;)v.queue[_].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var x=-1,w=v.queue.length;++x<w;)v.queue[x].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},h.reject=function(v){var y=new this(o);return a.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var _=new Array(x),M=0,U=-1,L=new this(o);++U<x;)O(v[U],U);return L;function O(H,G){y.resolve(H).then(function(I){_[G]=I,++M!==x||w||(w=!0,a.resolve(L,_))},function(I){w||(w=!0,a.reject(L,I))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var _=-1,M=new this(o);++_<x;)U=v[_],y.resolve(U).then(function(L){w||(w=!0,a.resolve(M,L))},function(L){w||(w=!0,a.reject(M,L))});var U;return M}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==h)throw new Error(l[x]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=s.deflateSetDictionary(this.strm,w))!==h)throw new Error(l[x]);this._dict_set=!0}}function m(v,y){var x=new g(y);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}g.prototype.push=function(v,y){var x,w,_=this.strm,M=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof v=="string"?_.input=a.string2buf(v):u.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(M),_.next_out=0,_.avail_out=M),(x=s.deflate(_,w))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&x!==1);return w===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):w!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=m,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,m(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,m(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new d(m);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(g,m){var v,y,x,w,_,M,U=this.strm,L=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?U.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?U.input=new Uint8Array(g):U.input=g,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(L),U.next_out=0,U.avail_out=L),(v=s.inflate(U,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(M=typeof O=="string"?a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,v=s.inflateSetDictionary(this.strm,M)),v===l.Z_BUF_ERROR&&H===!0&&(v=l.Z_OK,H=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&v!==l.Z_STREAM_END&&(U.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(U.output,U.next_out),w=U.next_out-x,_=a.buf2string(U.output,x),U.next_out=w,U.avail_out=L-w,w&&o.arraySet(U.output,U.output,x,w,0),this.onData(_)):this.onData(o.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(H=!0)}while((0<U.avail_in||U.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(U.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){var c,u,h,f,d,p;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(p=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,u,h,f){for(var d=0;d<h;d++)l[f+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,m,v=h.length,y=0;for(g=0;g<v;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),y+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(y),g=m=0;m<y;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[m++]=d:(d<2048?f[m++]=192|d>>>6:(d<65536?f[m++]=224|d>>>12:(f[m++]=240|d>>>18,f[m++]=128|d>>>12&63),f[m++]=128|d>>>6&63),f[m++]=128|63&d);return f},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,m,v=f||h.length,y=new Array(2*v);for(d=p=0;d<v;)if((g=h[d++])<128)y[p++]=g;else if(4<(m=l[g]))y[p++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<v;)g=g<<6|63&h[d++],m--;1<m?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return u(y,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var f=c;f<h;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,m=4,v=2,y=8,x=9,w=286,_=30,M=19,U=2*w+1,L=15,O=3,H=258,G=H+O+1,I=42,R=113,S=1,j=2,k=3,E=4;function A(B,ne){return B.msg=u[ne],ne}function C(B){return(B<<1)-(4<B?9:0)}function D(B){for(var ne=B.length;0<=--ne;)B[ne]=0}function z(B){var ne=B.state,ee=ne.pending;ee>B.avail_out&&(ee=B.avail_out),ee!==0&&(o.arraySet(B.output,ne.pending_buf,ne.pending_out,ee,B.next_out),B.next_out+=ee,ne.pending_out+=ee,B.total_out+=ee,B.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function P(B,ne){a._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ne),B.block_start=B.strstart,z(B.strm)}function K(B,ne){B.pending_buf[B.pending++]=ne}function Z(B,ne){B.pending_buf[B.pending++]=ne>>>8&255,B.pending_buf[B.pending++]=255&ne}function te(B,ne){var ee,F,W=B.max_chain_length,Y=B.strstart,ae=B.prev_length,ce=B.nice_match,le=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,de=B.window,me=B.w_mask,ge=B.prev,ke=B.strstart+H,Re=de[Y+ae-1],je=de[Y+ae];B.prev_length>=B.good_match&&(W>>=2),ce>B.lookahead&&(ce=B.lookahead);do if(de[(ee=ne)+ae]===je&&de[ee+ae-1]===Re&&de[ee]===de[Y]&&de[++ee]===de[Y+1]){Y+=2,ee++;do;while(de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&de[++Y]===de[++ee]&&Y<ke);if(F=H-(ke-Y),Y=ke-H,ae<F){if(B.match_start=ne,ce<=(ae=F))break;Re=de[Y+ae-1],je=de[Y+ae]}}while((ne=ge[ne&me])>le&&--W!=0);return ae<=B.lookahead?ae:B.lookahead}function q(B){var ne,ee,F,W,Y,ae,ce,le,de,me,ge=B.w_size;do{if(W=B.window_size-B.lookahead-B.strstart,B.strstart>=ge+(ge-G)){for(o.arraySet(B.window,B.window,ge,ge,0),B.match_start-=ge,B.strstart-=ge,B.block_start-=ge,ne=ee=B.hash_size;F=B.head[--ne],B.head[ne]=ge<=F?F-ge:0,--ee;);for(ne=ee=ge;F=B.prev[--ne],B.prev[ne]=ge<=F?F-ge:0,--ee;);W+=ge}if(B.strm.avail_in===0)break;if(ae=B.strm,ce=B.window,le=B.strstart+B.lookahead,de=W,me=void 0,me=ae.avail_in,de<me&&(me=de),ee=me===0?0:(ae.avail_in-=me,o.arraySet(ce,ae.input,ae.next_in,me,le),ae.state.wrap===1?ae.adler=l(ae.adler,ce,me,le):ae.state.wrap===2&&(ae.adler=c(ae.adler,ce,me,le)),ae.next_in+=me,ae.total_in+=me,me),B.lookahead+=ee,B.lookahead+B.insert>=O)for(Y=B.strstart-B.insert,B.ins_h=B.window[Y],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Y+O-1])&B.hash_mask,B.prev[Y&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Y,Y++,B.insert--,!(B.lookahead+B.insert<O)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function $(B,ne){for(var ee,F;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ee!==0&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee)),B.match_length>=O)if(F=a._tr_tally(B,B.strstart-B.match_start,B.match_length-O),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=O){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else F=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(F&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function N(B,ne){for(var ee,F,W;;){if(B.lookahead<G){if(q(B),B.lookahead<G&&ne===h)return S;if(B.lookahead===0)break}if(ee=0,B.lookahead>=O&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=O-1,ee!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ee<=B.w_size-G&&(B.match_length=te(B,ee),B.match_length<=5&&(B.strategy===1||B.match_length===O&&4096<B.strstart-B.match_start)&&(B.match_length=O-1)),B.prev_length>=O&&B.match_length<=B.prev_length){for(W=B.strstart+B.lookahead-O,F=a._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-O),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=W&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+O-1])&B.hash_mask,ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=O-1,B.strstart++,F&&(P(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((F=a._tr_tally(B,0,B.window[B.strstart-1]))&&P(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(F=a._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<O-1?B.strstart:O-1,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?S:j}function T(B,ne,ee,F,W){this.good_length=B,this.max_lazy=ne,this.nice_length=ee,this.max_chain=F,this.func=W}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*U),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*w+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(B){var ne;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ne=B.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:R,B.adler=ne.wrap===2?0:1,ne.last_flush=h,a._tr_init(ne),d):A(B,p)}function re(B){var ne=J(B);return ne===d&&function(ee){ee.window_size=2*ee.w_size,D(ee.head),ee.max_lazy_match=s[ee.level].max_lazy,ee.good_match=s[ee.level].good_length,ee.nice_match=s[ee.level].nice_length,ee.max_chain_length=s[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,ee.ins_h=0}(B.state),ne}function se(B,ne,ee,F,W,Y){if(!B)return p;var ae=1;if(ne===g&&(ne=6),F<0?(ae=0,F=-F):15<F&&(ae=2,F-=16),W<1||x<W||ee!==y||F<8||15<F||ne<0||9<ne||Y<0||m<Y)return A(B,p);F===8&&(F=9);var ce=new V;return(B.state=ce).strm=B,ce.wrap=ae,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=W+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+O-1)/O),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<W+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=Y,ce.method=ee,re(B)}s=[new T(0,0,0,0,function(B,ne){var ee=65535;for(ee>B.pending_buf_size-5&&(ee=B.pending_buf_size-5);;){if(B.lookahead<=1){if(q(B),B.lookahead===0&&ne===h)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var F=B.block_start+ee;if((B.strstart===0||B.strstart>=F)&&(B.lookahead=B.strstart-F,B.strstart=F,P(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(P(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ne===f?(P(B,!0),B.strm.avail_out===0?k:E):(B.strstart>B.block_start&&(P(B,!1),B.strm.avail_out),S)}),new T(4,4,8,4,$),new T(4,5,16,8,$),new T(4,6,32,32,$),new T(4,4,16,16,N),new T(8,16,32,32,N),new T(8,16,128,128,N),new T(8,32,128,256,N),new T(32,128,258,1024,N),new T(32,258,258,4096,N)],i.deflateInit=function(B,ne){return se(B,ne,y,15,8,0)},i.deflateInit2=se,i.deflateReset=re,i.deflateResetKeep=J,i.deflateSetHeader=function(B,ne){return B&&B.state?B.state.wrap!==2?p:(B.state.gzhead=ne,d):p},i.deflate=function(B,ne){var ee,F,W,Y;if(!B||!B.state||5<ne||ne<0)return B?A(B,p):p;if(F=B.state,!B.output||!B.input&&B.avail_in!==0||F.status===666&&ne!==f)return A(B,B.avail_out===0?-5:p);if(F.strm=B,ee=F.last_flush,F.last_flush=ne,F.status===I)if(F.wrap===2)B.adler=0,K(F,31),K(F,139),K(F,8),F.gzhead?(K(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),K(F,255&F.gzhead.time),K(F,F.gzhead.time>>8&255),K(F,F.gzhead.time>>16&255),K(F,F.gzhead.time>>24&255),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(K(F,255&F.gzhead.extra.length),K(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(B.adler=c(B.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(K(F,0),K(F,0),K(F,0),K(F,0),K(F,0),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,3),F.status=R);else{var ae=y+(F.w_bits-8<<4)<<8;ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ae|=32),ae+=31-ae%31,F.status=R,Z(F,ae),F.strstart!==0&&(Z(F,B.adler>>>16),Z(F,65535&B.adler)),B.adler=1}if(F.status===69)if(F.gzhead.extra){for(W=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending!==F.pending_buf_size));)K(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),z(B),W=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,K(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>W&&(B.adler=c(B.adler,F.pending_buf,F.pending-W,W)),Y===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&z(B),F.pending+2<=F.pending_buf_size&&(K(F,255&B.adler),K(F,B.adler>>8&255),B.adler=0,F.status=R)):F.status=R),F.pending!==0){if(z(B),B.avail_out===0)return F.last_flush=-1,d}else if(B.avail_in===0&&C(ne)<=C(ee)&&ne!==f)return A(B,-5);if(F.status===666&&B.avail_in!==0)return A(B,-5);if(B.avail_in!==0||F.lookahead!==0||ne!==h&&F.status!==666){var ce=F.strategy===2?function(le,de){for(var me;;){if(le.lookahead===0&&(q(le),le.lookahead===0)){if(de===h)return S;break}if(le.match_length=0,me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?k:E):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):F.strategy===3?function(le,de){for(var me,ge,ke,Re,je=le.window;;){if(le.lookahead<=H){if(q(le),le.lookahead<=H&&de===h)return S;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=O&&0<le.strstart&&(ge=je[ke=le.strstart-1])===je[++ke]&&ge===je[++ke]&&ge===je[++ke]){Re=le.strstart+H;do;while(ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ge===je[++ke]&&ke<Re);le.match_length=H-(Re-ke),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=O?(me=a._tr_tally(le,1,le.match_length-O),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(me=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),me&&(P(le,!1),le.strm.avail_out===0))return S}return le.insert=0,de===f?(P(le,!0),le.strm.avail_out===0?k:E):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?S:j}(F,ne):s[F.level].func(F,ne);if(ce!==k&&ce!==E||(F.status=666),ce===S||ce===k)return B.avail_out===0&&(F.last_flush=-1),d;if(ce===j&&(ne===1?a._tr_align(F):ne!==5&&(a._tr_stored_block(F,0,0,!1),ne===3&&(D(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),z(B),B.avail_out===0))return F.last_flush=-1,d}return ne!==f?d:F.wrap<=0?1:(F.wrap===2?(K(F,255&B.adler),K(F,B.adler>>8&255),K(F,B.adler>>16&255),K(F,B.adler>>24&255),K(F,255&B.total_in),K(F,B.total_in>>8&255),K(F,B.total_in>>16&255),K(F,B.total_in>>24&255)):(Z(F,B.adler>>>16),Z(F,65535&B.adler)),z(B),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?d:1)},i.deflateEnd=function(B){var ne;return B&&B.state?(ne=B.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==R&&ne!==666?A(B,p):(B.state=null,ne===R?A(B,-3):d):p},i.deflateSetDictionary=function(B,ne){var ee,F,W,Y,ae,ce,le,de,me=ne.length;if(!B||!B.state||(Y=(ee=B.state).wrap)===2||Y===1&&ee.status!==I||ee.lookahead)return p;for(Y===1&&(B.adler=l(B.adler,ne,me,0)),ee.wrap=0,me>=ee.w_size&&(Y===0&&(D(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),de=new o.Buf8(ee.w_size),o.arraySet(de,ne,me-ee.w_size,ee.w_size,0),ne=de,me=ee.w_size),ae=B.avail_in,ce=B.next_in,le=B.input,B.avail_in=me,B.next_in=0,B.input=ne,q(ee);ee.lookahead>=O;){for(F=ee.strstart,W=ee.lookahead-(O-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[F+O-1])&ee.hash_mask,ee.prev[F&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=F,F++,--W;);ee.strstart=F,ee.lookahead=O-1,q(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=O-1,ee.match_available=0,B.next_in=ce,B.input=le,B.avail_in=ae,ee.wrap=Y,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,c,u,h,f,d,p,g,m,v,y,x,w,_,M,U,L,O,H,G,I,R,S,j;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,j=s.output,h=u-(o-s.avail_out),f=u+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,m=a.wnext,v=a.window,y=a.hold,x=a.bits,w=a.lencode,_=a.distcode,M=(1<<a.lenbits)-1,U=(1<<a.distbits)-1;e:do{x<15&&(y+=S[l++]<<x,x+=8,y+=S[l++]<<x,x+=8),L=w[y&M];t:for(;;){if(y>>>=O=L>>>24,x-=O,(O=L>>>16&255)===0)j[u++]=65535&L;else{if(!(16&O)){if(!(64&O)){L=w[(65535&L)+(y&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}H=65535&L,(O&=15)&&(x<O&&(y+=S[l++]<<x,x+=8),H+=y&(1<<O)-1,y>>>=O,x-=O),x<15&&(y+=S[l++]<<x,x+=8,y+=S[l++]<<x,x+=8),L=_[y&U];r:for(;;){if(y>>>=O=L>>>24,x-=O,!(16&(O=L>>>16&255))){if(!(64&O)){L=_[(65535&L)+(y&(1<<O)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(G=65535&L,x<(O&=15)&&(y+=S[l++]<<x,(x+=8)<O&&(y+=S[l++]<<x,x+=8)),d<(G+=y&(1<<O)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=O,x-=O,(O=u-h)<G){if(g<(O=G-O)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(R=v,(I=0)===m){if(I+=p-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}}else if(m<O){if(I+=p+m-O,(O-=m)<H){for(H-=O;j[u++]=v[I++],--O;);if(I=0,m<H){for(H-=O=m;j[u++]=v[I++],--O;);I=u-G,R=j}}}else if(I+=m-O,O<H){for(H-=O;j[u++]=v[I++],--O;);I=u-G,R=j}for(;2<H;)j[u++]=R[I++],j[u++]=R[I++],j[u++]=R[I++],H-=3;H&&(j[u++]=R[I++],1<H&&(j[u++]=R[I++]))}else{for(I=u-G;j[u++]=j[I++],j[u++]=j[I++],j[u++]=j[I++],2<(H-=3););H&&(j[u++]=j[I++],1<H&&(j[u++]=j[I++]))}break}}break}}while(l<c&&u<f);l-=H=x>>3,y&=(1<<(x-=H<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=y,a.bits=x}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,f=0,d=-2,p=1,g=852,m=592;function v(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(I){var R;return I&&I.state?(R=I.state,I.total_in=I.total_out=R.total=0,I.msg="",R.wrap&&(I.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(g),R.distcode=R.distdyn=new s.Buf32(m),R.sane=1,R.back=-1,f):d}function w(I){var R;return I&&I.state?((R=I.state).wsize=0,R.whave=0,R.wnext=0,x(I)):d}function _(I,R){var S,j;return I&&I.state?(j=I.state,R<0?(S=0,R=-R):(S=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?d:(j.window!==null&&j.wbits!==R&&(j.window=null),j.wrap=S,j.wbits=R,w(I))):d}function M(I,R){var S,j;return I?(j=new y,(I.state=j).window=null,(S=_(I,R))!==f&&(I.state=null),S):d}var U,L,O=!0;function H(I){if(O){var R;for(U=new s.Buf32(512),L=new s.Buf32(32),R=0;R<144;)I.lens[R++]=8;for(;R<256;)I.lens[R++]=9;for(;R<280;)I.lens[R++]=7;for(;R<288;)I.lens[R++]=8;for(c(u,I.lens,0,288,U,0,I.work,{bits:9}),R=0;R<32;)I.lens[R++]=5;c(h,I.lens,0,32,L,0,I.work,{bits:5}),O=!1}I.lencode=U,I.lenbits=9,I.distcode=L,I.distbits=5}function G(I,R,S,j){var k,E=I.state;return E.window===null&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new s.Buf8(E.wsize)),j>=E.wsize?(s.arraySet(E.window,R,S-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(j<(k=E.wsize-E.wnext)&&(k=j),s.arraySet(E.window,R,S-j,k,E.wnext),(j-=k)?(s.arraySet(E.window,R,S-j,j,0),E.wnext=j,E.whave=E.wsize):(E.wnext+=k,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=k))),0}i.inflateReset=w,i.inflateReset2=_,i.inflateResetKeep=x,i.inflateInit=function(I){return M(I,15)},i.inflateInit2=M,i.inflate=function(I,R){var S,j,k,E,A,C,D,z,P,K,Z,te,q,$,N,T,V,J,re,se,B,ne,ee,F,W=0,Y=new s.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(S=I.state).mode===12&&(S.mode=13),A=I.next_out,k=I.output,D=I.avail_out,E=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,K=C,Z=D,ne=f;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(2&S.wrap&&z===35615){Y[S.check=0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0),P=z=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&z)<<8)+(z>>8))%31){I.msg="incorrect header check",S.mode=30;break}if((15&z)!=8){I.msg="unknown compression method",S.mode=30;break}if(P-=4,B=8+(15&(z>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){I.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,I.adler=S.check=1,S.mode=512&z?10:12,P=z=0;break;case 2:for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(S.flags=z,(255&S.flags)!=8){I.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){I.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=z>>8&1),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=3;case 3:for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.head&&(S.head.time=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,Y[2]=z>>>16&255,Y[3]=z>>>24&255,S.check=a(S.check,Y,4,0)),P=z=0,S.mode=4;case 4:for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.head&&(S.head.xflags=255&z,S.head.os=z>>8),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0,S.mode=5;case 5:if(1024&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.length=z,S.head&&(S.head.extra_len=z),512&S.flags&&(Y[0]=255&z,Y[1]=z>>>8&255,S.check=a(S.check,Y,2,0)),P=z=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(C<(te=S.length)&&(te=C),te&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,j,E,te,B)),512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,S.length-=te),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(C===0)break e;for(te=0;B=j[E+te++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(C===0)break e;for(te=0;B=j[E+te++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&te<C;);if(512&S.flags&&(S.check=a(S.check,j,te,E)),C-=te,E+=te,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;P<16;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z!==(65535&S.check)){I.msg="header crc mismatch",S.mode=30;break}P=z=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),I.adler=S.check=0,S.mode=12;break;case 10:for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}I.adler=S.check=v(z),P=z=0,S.mode=11;case 11:if(S.havedict===0)return I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,2;I.adler=S.check=1,S.mode=12;case 12:if(R===5||R===6)break e;case 13:if(S.last){z>>>=7&P,P-=7&P,S.mode=27;break}for(;P<3;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}switch(S.last=1&z,P-=1,3&(z>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,R!==6)break;z>>>=2,P-=2;break e;case 2:S.mode=17;break;case 3:I.msg="invalid block type",S.mode=30}z>>>=2,P-=2;break;case 14:for(z>>>=7&P,P-=7&P;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if((65535&z)!=(z>>>16^65535)){I.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&z,P=z=0,S.mode=15,R===6)break e;case 15:S.mode=16;case 16:if(te=S.length){if(C<te&&(te=C),D<te&&(te=D),te===0)break e;s.arraySet(k,j,E,te,A),C-=te,E+=te,D-=te,A+=te,S.length-=te;break}S.mode=12;break;case 17:for(;P<14;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(S.nlen=257+(31&z),z>>>=5,P-=5,S.ndist=1+(31&z),z>>>=5,P-=5,S.ncode=4+(15&z),z>>>=4,P-=4,286<S.nlen||30<S.ndist){I.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;P<3;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.lens[ae[S.have++]]=7&z,z>>>=3,P-=3}for(;S.have<19;)S.lens[ae[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ee={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(V<16)z>>>=N,P-=N,S.lens[S.have++]=V;else{if(V===16){for(F=N+2;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z>>>=N,P-=N,S.have===0){I.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],te=3+(3&z),z>>>=2,P-=2}else if(V===17){for(F=N+3;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}P-=N,B=0,te=3+(7&(z>>>=N)),z>>>=3,P-=3}else{for(F=N+7;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}P-=N,B=0,te=11+(127&(z>>>=N)),z>>>=7,P-=7}if(S.have+te>S.nlen+S.ndist){I.msg="invalid bit length repeat",S.mode=30;break}for(;te--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){I.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ee={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){I.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ee={bits:S.distbits},ne=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ee),S.distbits=ee.bits,ne){I.msg="invalid distances set",S.mode=30;break}if(S.mode=20,R===6)break e;case 20:S.mode=21;case 21:if(6<=C&&258<=D){I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,l(I,Z),A=I.next_out,k=I.output,D=I.avail_out,E=I.next_in,j=I.input,C=I.avail_in,z=S.hold,P=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;T=(W=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(T&&!(240&T)){for(J=N,re=T,se=V;T=(W=S.lencode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,S.length=V,T===0){S.mode=26;break}if(32&T){S.back=-1,S.mode=12;break}if(64&T){I.msg="invalid literal/length code",S.mode=30;break}S.extra=15&T,S.mode=22;case 22:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.length+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;T=(W=S.distcode[z&(1<<S.distbits)-1])>>>16&255,V=65535&W,!((N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(!(240&T)){for(J=N,re=T,se=V;T=(W=S.distcode[se+((z&(1<<J+re)-1)>>J)])>>>16&255,V=65535&W,!(J+(N=W>>>24)<=P);){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}z>>>=J,P-=J,S.back+=J}if(z>>>=N,P-=N,S.back+=N,64&T){I.msg="invalid distance code",S.mode=30;break}S.offset=V,S.extra=15&T,S.mode=24;case 24:if(S.extra){for(F=S.extra;P<F;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}S.offset+=z&(1<<S.extra)-1,z>>>=S.extra,P-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){I.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(D===0)break e;if(te=Z-D,S.offset>te){if((te=S.offset-te)>S.whave&&S.sane){I.msg="invalid distance too far back",S.mode=30;break}q=te>S.wnext?(te-=S.wnext,S.wsize-te):S.wnext-te,te>S.length&&(te=S.length),$=S.window}else $=k,q=A-S.offset,te=S.length;for(D<te&&(te=D),D-=te,S.length-=te;k[A++]=$[q++],--te;);S.length===0&&(S.mode=21);break;case 26:if(D===0)break e;k[A++]=S.length,D--,S.mode=21;break;case 27:if(S.wrap){for(;P<32;){if(C===0)break e;C--,z|=j[E++]<<P,P+=8}if(Z-=D,I.total_out+=Z,S.total+=Z,Z&&(I.adler=S.check=S.flags?a(S.check,k,Z,A-Z):o(S.check,k,Z,A-Z)),Z=D,(S.flags?z:v(z))!==S.check){I.msg="incorrect data check",S.mode=30;break}P=z=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;P<32;){if(C===0)break e;C--,z+=j[E++]<<P,P+=8}if(z!==(4294967295&S.total)){I.msg="incorrect length check",S.mode=30;break}P=z=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=A,I.avail_out=D,I.next_in=E,I.avail_in=C,S.hold=z,S.bits=P,(S.wsize||Z!==I.avail_out&&S.mode<30&&(S.mode<27||R!==4))&&G(I,I.output,I.next_out,Z-I.avail_out)?(S.mode=31,-4):(K-=I.avail_in,Z-=I.avail_out,I.total_in+=K,I.total_out+=Z,S.total+=Z,S.wrap&&Z&&(I.adler=S.check=S.flags?a(S.check,k,Z,I.next_out-Z):o(S.check,k,Z,I.next_out-Z)),I.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(K==0&&Z===0||R===4)&&ne===f&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return d;var R=I.state;return R.window&&(R.window=null),I.state=null,f},i.inflateGetHeader=function(I,R){var S;return I&&I.state&&2&(S=I.state).wrap?((S.head=R).done=!1,f):d},i.inflateSetDictionary=function(I,R){var S,j=R.length;return I&&I.state?(S=I.state).wrap!==0&&S.mode!==11?d:S.mode===11&&o(1,R,j,0)!==S.check?-3:G(I,R,j,j)?(S.mode=31,-4):(S.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,f,d,p,g,m,v){var y,x,w,_,M,U,L,O,H,G=v.bits,I=0,R=0,S=0,j=0,k=0,E=0,A=0,C=0,D=0,z=0,P=null,K=0,Z=new s.Buf16(16),te=new s.Buf16(16),q=null,$=0;for(I=0;I<=15;I++)Z[I]=0;for(R=0;R<d;R++)Z[h[f+R]]++;for(k=G,j=15;1<=j&&Z[j]===0;j--);if(j<k&&(k=j),j===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(S=1;S<j&&Z[S]===0;S++);for(k<S&&(k=S),I=C=1;I<=15;I++)if(C<<=1,(C-=Z[I])<0)return-1;if(0<C&&(u===0||j!==1))return-1;for(te[1]=0,I=1;I<15;I++)te[I+1]=te[I]+Z[I];for(R=0;R<d;R++)h[f+R]!==0&&(m[te[h[f+R]]++]=R);if(U=u===0?(P=q=m,19):u===1?(P=o,K-=257,q=a,$-=257,256):(P=l,q=c,-1),I=S,M=g,A=R=z=0,w=-1,_=(D=1<<(E=k))-1,u===1&&852<D||u===2&&592<D)return 1;for(;;){for(L=I-A,H=m[R]<U?(O=0,m[R]):m[R]>U?(O=q[$+m[R]],P[K+m[R]]):(O=96,0),y=1<<I-A,S=x=1<<E;p[M+(z>>A)+(x-=y)]=L<<24|O<<16|H|0,x!==0;);for(y=1<<I-1;z&y;)y>>=1;if(y!==0?(z&=y-1,z+=y):z=0,R++,--Z[I]==0){if(I===j)break;I=h[f+m[R]]}if(k<I&&(z&_)!==w){for(A===0&&(A=k),M+=S,C=1<<(E=I-A);E+A<j&&!((C-=Z[E+A])<=0);)E++,C<<=1;if(D+=1<<E,u===1&&852<D||u===2&&592<D)return 1;p[w=z&_]=k<<24|E<<16|M-g|0}}return z!==0&&(p[M+z]=I-A<<24|64<<16|0),v.bits=k,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(W){for(var Y=W.length;0<=--Y;)W[Y]=0}var c=0,u=29,h=256,f=h+1+u,d=30,p=19,g=2*f+1,m=15,v=16,y=7,x=256,w=16,_=17,M=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(f+2));l(G);var I=new Array(2*d);l(I);var R=new Array(512);l(R);var S=new Array(256);l(S);var j=new Array(u);l(j);var k,E,A,C=new Array(d);function D(W,Y,ae,ce,le){this.static_tree=W,this.extra_bits=Y,this.extra_base=ae,this.elems=ce,this.max_length=le,this.has_stree=W&&W.length}function z(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function P(W){return W<256?R[W]:R[256+(W>>>7)]}function K(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function Z(W,Y,ae){W.bi_valid>v-ae?(W.bi_buf|=Y<<W.bi_valid&65535,K(W,W.bi_buf),W.bi_buf=Y>>v-W.bi_valid,W.bi_valid+=ae-v):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=ae)}function te(W,Y,ae){Z(W,ae[2*Y],ae[2*Y+1])}function q(W,Y){for(var ae=0;ae|=1&W,W>>>=1,ae<<=1,0<--Y;);return ae>>>1}function $(W,Y,ae){var ce,le,de=new Array(m+1),me=0;for(ce=1;ce<=m;ce++)de[ce]=me=me+ae[ce-1]<<1;for(le=0;le<=Y;le++){var ge=W[2*le+1];ge!==0&&(W[2*le]=q(de[ge]++,ge))}}function N(W){var Y;for(Y=0;Y<f;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<d;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<p;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[2*x]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function T(W){8<W.bi_valid?K(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function V(W,Y,ae,ce){var le=2*Y,de=2*ae;return W[le]<W[de]||W[le]===W[de]&&ce[Y]<=ce[ae]}function J(W,Y,ae){for(var ce=W.heap[ae],le=ae<<1;le<=W.heap_len&&(le<W.heap_len&&V(Y,W.heap[le+1],W.heap[le],W.depth)&&le++,!V(Y,ce,W.heap[le],W.depth));)W.heap[ae]=W.heap[le],ae=le,le<<=1;W.heap[ae]=ce}function re(W,Y,ae){var ce,le,de,me,ge=0;if(W.last_lit!==0)for(;ce=W.pending_buf[W.d_buf+2*ge]<<8|W.pending_buf[W.d_buf+2*ge+1],le=W.pending_buf[W.l_buf+ge],ge++,ce===0?te(W,le,Y):(te(W,(de=S[le])+h+1,Y),(me=U[de])!==0&&Z(W,le-=j[de],me),te(W,de=P(--ce),ae),(me=L[de])!==0&&Z(W,ce-=C[de],me)),ge<W.last_lit;);te(W,x,Y)}function se(W,Y){var ae,ce,le,de=Y.dyn_tree,me=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,ke=Y.stat_desc.elems,Re=-1;for(W.heap_len=0,W.heap_max=g,ae=0;ae<ke;ae++)de[2*ae]!==0?(W.heap[++W.heap_len]=Re=ae,W.depth[ae]=0):de[2*ae+1]=0;for(;W.heap_len<2;)de[2*(le=W.heap[++W.heap_len]=Re<2?++Re:0)]=1,W.depth[le]=0,W.opt_len--,ge&&(W.static_len-=me[2*le+1]);for(Y.max_code=Re,ae=W.heap_len>>1;1<=ae;ae--)J(W,de,ae);for(le=ke;ae=W.heap[1],W.heap[1]=W.heap[W.heap_len--],J(W,de,1),ce=W.heap[1],W.heap[--W.heap_max]=ae,W.heap[--W.heap_max]=ce,de[2*le]=de[2*ae]+de[2*ce],W.depth[le]=(W.depth[ae]>=W.depth[ce]?W.depth[ae]:W.depth[ce])+1,de[2*ae+1]=de[2*ce+1]=le,W.heap[1]=le++,J(W,de,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(je,qe){var Je,Ve,pt,$e,Ue,Ke,rt=qe.dyn_tree,Ze=qe.max_code,kt=qe.stat_desc.static_tree,wt=qe.stat_desc.has_stree,xt=qe.stat_desc.extra_bits,Wt=qe.stat_desc.extra_base,St=qe.stat_desc.max_length,ot=0;for($e=0;$e<=m;$e++)je.bl_count[$e]=0;for(rt[2*je.heap[je.heap_max]+1]=0,Je=je.heap_max+1;Je<g;Je++)St<($e=rt[2*rt[2*(Ve=je.heap[Je])+1]+1]+1)&&($e=St,ot++),rt[2*Ve+1]=$e,Ze<Ve||(je.bl_count[$e]++,Ue=0,Wt<=Ve&&(Ue=xt[Ve-Wt]),Ke=rt[2*Ve],je.opt_len+=Ke*($e+Ue),wt&&(je.static_len+=Ke*(kt[2*Ve+1]+Ue)));if(ot!==0){do{for($e=St-1;je.bl_count[$e]===0;)$e--;je.bl_count[$e]--,je.bl_count[$e+1]+=2,je.bl_count[St]--,ot-=2}while(0<ot);for($e=St;$e!==0;$e--)for(Ve=je.bl_count[$e];Ve!==0;)Ze<(pt=je.heap[--Je])||(rt[2*pt+1]!==$e&&(je.opt_len+=($e-rt[2*pt+1])*rt[2*pt],rt[2*pt+1]=$e),Ve--)}}(W,Y),$(de,Re,W.bl_count)}function B(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),Y[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)le=me,me=Y[2*(ce+1)+1],++ge<ke&&le===me||(ge<Re?W.bl_tree[2*le]+=ge:le!==0?(le!==de&&W.bl_tree[2*le]++,W.bl_tree[2*w]++):ge<=10?W.bl_tree[2*_]++:W.bl_tree[2*M]++,de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4))}function ne(W,Y,ae){var ce,le,de=-1,me=Y[1],ge=0,ke=7,Re=4;for(me===0&&(ke=138,Re=3),ce=0;ce<=ae;ce++)if(le=me,me=Y[2*(ce+1)+1],!(++ge<ke&&le===me)){if(ge<Re)for(;te(W,le,W.bl_tree),--ge!=0;);else le!==0?(le!==de&&(te(W,le,W.bl_tree),ge--),te(W,w,W.bl_tree),Z(W,ge-3,2)):ge<=10?(te(W,_,W.bl_tree),Z(W,ge-3,3)):(te(W,M,W.bl_tree),Z(W,ge-11,7));de=le,Re=(ge=0)===me?(ke=138,3):le===me?(ke=6,3):(ke=7,4)}}l(C);var ee=!1;function F(W,Y,ae,ce){Z(W,(c<<1)+(ce?1:0),3),function(le,de,me,ge){T(le),K(le,me),K(le,~me),s.arraySet(le.pending_buf,le.window,de,me,le.pending),le.pending+=me}(W,Y,ae)}i._tr_init=function(W){ee||(function(){var Y,ae,ce,le,de,me=new Array(m+1);for(le=ce=0;le<u-1;le++)for(j[le]=ce,Y=0;Y<1<<U[le];Y++)S[ce++]=le;for(S[ce-1]=le,le=de=0;le<16;le++)for(C[le]=de,Y=0;Y<1<<L[le];Y++)R[de++]=le;for(de>>=7;le<d;le++)for(C[le]=de<<7,Y=0;Y<1<<L[le]-7;Y++)R[256+de++]=le;for(ae=0;ae<=m;ae++)me[ae]=0;for(Y=0;Y<=143;)G[2*Y+1]=8,Y++,me[8]++;for(;Y<=255;)G[2*Y+1]=9,Y++,me[9]++;for(;Y<=279;)G[2*Y+1]=7,Y++,me[7]++;for(;Y<=287;)G[2*Y+1]=8,Y++,me[8]++;for($(G,f+1,me),Y=0;Y<d;Y++)I[2*Y+1]=5,I[2*Y]=q(Y,5);k=new D(G,U,h+1,f,m),E=new D(I,L,0,d,m),A=new D(new Array(0),O,0,p,y)}(),ee=!0),W.l_desc=new z(W.dyn_ltree,k),W.d_desc=new z(W.dyn_dtree,E),W.bl_desc=new z(W.bl_tree,A),W.bi_buf=0,W.bi_valid=0,N(W)},i._tr_stored_block=F,i._tr_flush_block=function(W,Y,ae,ce){var le,de,me=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ge){var ke,Re=4093624447;for(ke=0;ke<=31;ke++,Re>>>=1)if(1&Re&&ge.dyn_ltree[2*ke]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(ke=32;ke<h;ke++)if(ge.dyn_ltree[2*ke]!==0)return a;return o}(W)),se(W,W.l_desc),se(W,W.d_desc),me=function(ge){var ke;for(B(ge,ge.dyn_ltree,ge.l_desc.max_code),B(ge,ge.dyn_dtree,ge.d_desc.max_code),se(ge,ge.bl_desc),ke=p-1;3<=ke&&ge.bl_tree[2*H[ke]+1]===0;ke--);return ge.opt_len+=3*(ke+1)+5+5+4,ke}(W),le=W.opt_len+3+7>>>3,(de=W.static_len+3+7>>>3)<=le&&(le=de)):le=de=ae+5,ae+4<=le&&Y!==-1?F(W,Y,ae,ce):W.strategy===4||de===le?(Z(W,2+(ce?1:0),3),re(W,G,I)):(Z(W,4+(ce?1:0),3),function(ge,ke,Re,je){var qe;for(Z(ge,ke-257,5),Z(ge,Re-1,5),Z(ge,je-4,4),qe=0;qe<je;qe++)Z(ge,ge.bl_tree[2*H[qe]+1],3);ne(ge,ge.dyn_ltree,ke-1),ne(ge,ge.dyn_dtree,Re-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,me+1),re(W,W.dyn_ltree,W.dyn_dtree)),N(W),ce&&T(W)},i._tr_tally=function(W,Y,ae){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&ae,W.last_lit++,Y===0?W.dyn_ltree[2*ae]++:(W.matches++,Y--,W.dyn_ltree[2*(S[ae]+h+1)]++,W.dyn_dtree[2*P(Y)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){Z(W,2,3),te(W,x,G),function(Y){Y.bi_valid===16?(K(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,f=1,d={},p=!1,g=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,l={}.toString.call(o.process)==="[object process]"?function(w){process.nextTick(function(){y(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,_=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=_,w}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(w){o.postMessage(h+w,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){u.port2.postMessage(w)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(w){var _=g.createElement("script");_.onreadystatechange=function(){y(w),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(w){setTimeout(y,0,w)},m.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),M=0;M<_.length;M++)_[M]=arguments[M+1];var U={callback:w,args:_};return d[f]=U,l(f),f++},m.clearImmediate=v}function v(w){delete d[w]}function y(w){if(p)setTimeout(y,0,w);else{var _=d[w];if(_){p=!0;try{(function(M){var U=M.callback,L=M.args;switch(L.length){case 0:U();break;case 1:U(L[0]);break;case 2:U(L[0],L[1]);break;case 3:U(L[0],L[1],L[2]);break;default:U.apply(a,L)}})(_)}finally{v(w),p=!1}}}}function x(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(h)===0&&y(+w.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mge);var BR;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(BR||(BR={}));var FR;(function(e){e.b="b",e.ctr="ctr",e.t="t"})(FR||(FR={}));var zR;(function(e){e.arraybuffer="arraybuffer",e.base64="base64",e.binarystring="binarystring",e.blob="blob",e.nodebuffer="nodebuffer",e.uint8array="uint8array"})(zR||(zR={}));var UR;(function(e){e.area="area",e.bar="bar",e.bar3d="bar3D",e.bubble="bubble",e.bubble3d="bubble3D",e.doughnut="doughnut",e.line="line",e.pie="pie",e.radar="radar",e.scatter="scatter"})(UR||(UR={}));var $R;(function(e){e.accentBorderCallout1="accentBorderCallout1",e.accentBorderCallout2="accentBorderCallout2",e.accentBorderCallout3="accentBorderCallout3",e.accentCallout1="accentCallout1",e.accentCallout2="accentCallout2",e.accentCallout3="accentCallout3",e.actionButtonBackPrevious="actionButtonBackPrevious",e.actionButtonBeginning="actionButtonBeginning",e.actionButtonBlank="actionButtonBlank",e.actionButtonDocument="actionButtonDocument",e.actionButtonEnd="actionButtonEnd",e.actionButtonForwardNext="actionButtonForwardNext",e.actionButtonHelp="actionButtonHelp",e.actionButtonHome="actionButtonHome",e.actionButtonInformation="actionButtonInformation",e.actionButtonMovie="actionButtonMovie",e.actionButtonReturn="actionButtonReturn",e.actionButtonSound="actionButtonSound",e.arc="arc",e.bentArrow="bentArrow",e.bentUpArrow="bentUpArrow",e.bevel="bevel",e.blockArc="blockArc",e.borderCallout1="borderCallout1",e.borderCallout2="borderCallout2",e.borderCallout3="borderCallout3",e.bracePair="bracePair",e.bracketPair="bracketPair",e.callout1="callout1",e.callout2="callout2",e.callout3="callout3",e.can="can",e.chartPlus="chartPlus",e.chartStar="chartStar",e.chartX="chartX",e.chevron="chevron",e.chord="chord",e.circularArrow="circularArrow",e.cloud="cloud",e.cloudCallout="cloudCallout",e.corner="corner",e.cornerTabs="cornerTabs",e.cube="cube",e.curvedDownArrow="curvedDownArrow",e.curvedLeftArrow="curvedLeftArrow",e.curvedRightArrow="curvedRightArrow",e.curvedUpArrow="curvedUpArrow",e.custGeom="custGeom",e.decagon="decagon",e.diagStripe="diagStripe",e.diamond="diamond",e.dodecagon="dodecagon",e.donut="donut",e.doubleWave="doubleWave",e.downArrow="downArrow",e.downArrowCallout="downArrowCallout",e.ellipse="ellipse",e.ellipseRibbon="ellipseRibbon",e.ellipseRibbon2="ellipseRibbon2",e.flowChartAlternateProcess="flowChartAlternateProcess",e.flowChartCollate="flowChartCollate",e.flowChartConnector="flowChartConnector",e.flowChartDecision="flowChartDecision",e.flowChartDelay="flowChartDelay",e.flowChartDisplay="flowChartDisplay",e.flowChartDocument="flowChartDocument",e.flowChartExtract="flowChartExtract",e.flowChartInputOutput="flowChartInputOutput",e.flowChartInternalStorage="flowChartInternalStorage",e.flowChartMagneticDisk="flowChartMagneticDisk",e.flowChartMagneticDrum="flowChartMagneticDrum",e.flowChartMagneticTape="flowChartMagneticTape",e.flowChartManualInput="flowChartManualInput",e.flowChartManualOperation="flowChartManualOperation",e.flowChartMerge="flowChartMerge",e.flowChartMultidocument="flowChartMultidocument",e.flowChartOfflineStorage="flowChartOfflineStorage",e.flowChartOffpageConnector="flowChartOffpageConnector",e.flowChartOnlineStorage="flowChartOnlineStorage",e.flowChartOr="flowChartOr",e.flowChartPredefinedProcess="flowChartPredefinedProcess",e.flowChartPreparation="flowChartPreparation",e.flowChartProcess="flowChartProcess",e.flowChartPunchedCard="flowChartPunchedCard",e.flowChartPunchedTape="flowChartPunchedTape",e.flowChartSort="flowChartSort",e.flowChartSummingJunction="flowChartSummingJunction",e.flowChartTerminator="flowChartTerminator",e.folderCorner="folderCorner",e.frame="frame",e.funnel="funnel",e.gear6="gear6",e.gear9="gear9",e.halfFrame="halfFrame",e.heart="heart",e.heptagon="heptagon",e.hexagon="hexagon",e.homePlate="homePlate",e.horizontalScroll="horizontalScroll",e.irregularSeal1="irregularSeal1",e.irregularSeal2="irregularSeal2",e.leftArrow="leftArrow",e.leftArrowCallout="leftArrowCallout",e.leftBrace="leftBrace",e.leftBracket="leftBracket",e.leftCircularArrow="leftCircularArrow",e.leftRightArrow="leftRightArrow",e.leftRightArrowCallout="leftRightArrowCallout",e.leftRightCircularArrow="leftRightCircularArrow",e.leftRightRibbon="leftRightRibbon",e.leftRightUpArrow="leftRightUpArrow",e.leftUpArrow="leftUpArrow",e.lightningBolt="lightningBolt",e.line="line",e.lineInv="lineInv",e.mathDivide="mathDivide",e.mathEqual="mathEqual",e.mathMinus="mathMinus",e.mathMultiply="mathMultiply",e.mathNotEqual="mathNotEqual",e.mathPlus="mathPlus",e.moon="moon",e.noSmoking="noSmoking",e.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",e.notchedRightArrow="notchedRightArrow",e.octagon="octagon",e.parallelogram="parallelogram",e.pentagon="pentagon",e.pie="pie",e.pieWedge="pieWedge",e.plaque="plaque",e.plaqueTabs="plaqueTabs",e.plus="plus",e.quadArrow="quadArrow",e.quadArrowCallout="quadArrowCallout",e.rect="rect",e.ribbon="ribbon",e.ribbon2="ribbon2",e.rightArrow="rightArrow",e.rightArrowCallout="rightArrowCallout",e.rightBrace="rightBrace",e.rightBracket="rightBracket",e.round1Rect="round1Rect",e.round2DiagRect="round2DiagRect",e.round2SameRect="round2SameRect",e.roundRect="roundRect",e.rtTriangle="rtTriangle",e.smileyFace="smileyFace",e.snip1Rect="snip1Rect",e.snip2DiagRect="snip2DiagRect",e.snip2SameRect="snip2SameRect",e.snipRoundRect="snipRoundRect",e.squareTabs="squareTabs",e.star10="star10",e.star12="star12",e.star16="star16",e.star24="star24",e.star32="star32",e.star4="star4",e.star5="star5",e.star6="star6",e.star7="star7",e.star8="star8",e.stripedRightArrow="stripedRightArrow",e.sun="sun",e.swooshArrow="swooshArrow",e.teardrop="teardrop",e.trapezoid="trapezoid",e.triangle="triangle",e.upArrow="upArrow",e.upArrowCallout="upArrowCallout",e.upDownArrow="upDownArrow",e.upDownArrowCallout="upDownArrowCallout",e.uturnArrow="uturnArrow",e.verticalScroll="verticalScroll",e.wave="wave",e.wedgeEllipseCallout="wedgeEllipseCallout",e.wedgeRectCallout="wedgeRectCallout",e.wedgeRoundRectCallout="wedgeRoundRectCallout"})($R||($R={}));var HR;(function(e){e.text1="tx1",e.text2="tx2",e.background1="bg1",e.background2="bg2",e.accent1="accent1",e.accent2="accent2",e.accent3="accent3",e.accent4="accent4",e.accent5="accent5",e.accent6="accent6"})(HR||(HR={}));var WR;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(WR||(WR={}));var qR;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(qR||(qR={}));var VR;(function(e){e.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",e.ACTION_BUTTON_BEGINNING="actionButtonBeginning",e.ACTION_BUTTON_CUSTOM="actionButtonBlank",e.ACTION_BUTTON_DOCUMENT="actionButtonDocument",e.ACTION_BUTTON_END="actionButtonEnd",e.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",e.ACTION_BUTTON_HELP="actionButtonHelp",e.ACTION_BUTTON_HOME="actionButtonHome",e.ACTION_BUTTON_INFORMATION="actionButtonInformation",e.ACTION_BUTTON_MOVIE="actionButtonMovie",e.ACTION_BUTTON_RETURN="actionButtonReturn",e.ACTION_BUTTON_SOUND="actionButtonSound",e.ARC="arc",e.BALLOON="wedgeRoundRectCallout",e.BENT_ARROW="bentArrow",e.BENT_UP_ARROW="bentUpArrow",e.BEVEL="bevel",e.BLOCK_ARC="blockArc",e.CAN="can",e.CHART_PLUS="chartPlus",e.CHART_STAR="chartStar",e.CHART_X="chartX",e.CHEVRON="chevron",e.CHORD="chord",e.CIRCULAR_ARROW="circularArrow",e.CLOUD="cloud",e.CLOUD_CALLOUT="cloudCallout",e.CORNER="corner",e.CORNER_TABS="cornerTabs",e.CROSS="plus",e.CUBE="cube",e.CURVED_DOWN_ARROW="curvedDownArrow",e.CURVED_DOWN_RIBBON="ellipseRibbon",e.CURVED_LEFT_ARROW="curvedLeftArrow",e.CURVED_RIGHT_ARROW="curvedRightArrow",e.CURVED_UP_ARROW="curvedUpArrow",e.CURVED_UP_RIBBON="ellipseRibbon2",e.CUSTOM_GEOMETRY="custGeom",e.DECAGON="decagon",e.DIAGONAL_STRIPE="diagStripe",e.DIAMOND="diamond",e.DODECAGON="dodecagon",e.DONUT="donut",e.DOUBLE_BRACE="bracePair",e.DOUBLE_BRACKET="bracketPair",e.DOUBLE_WAVE="doubleWave",e.DOWN_ARROW="downArrow",e.DOWN_ARROW_CALLOUT="downArrowCallout",e.DOWN_RIBBON="ribbon",e.EXPLOSION1="irregularSeal1",e.EXPLOSION2="irregularSeal2",e.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",e.FLOWCHART_CARD="flowChartPunchedCard",e.FLOWCHART_COLLATE="flowChartCollate",e.FLOWCHART_CONNECTOR="flowChartConnector",e.FLOWCHART_DATA="flowChartInputOutput",e.FLOWCHART_DECISION="flowChartDecision",e.FLOWCHART_DELAY="flowChartDelay",e.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",e.FLOWCHART_DISPLAY="flowChartDisplay",e.FLOWCHART_DOCUMENT="flowChartDocument",e.FLOWCHART_EXTRACT="flowChartExtract",e.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",e.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",e.FLOWCHART_MANUAL_INPUT="flowChartManualInput",e.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",e.FLOWCHART_MERGE="flowChartMerge",e.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",e.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",e.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",e.FLOWCHART_OR="flowChartOr",e.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",e.FLOWCHART_PREPARATION="flowChartPreparation",e.FLOWCHART_PROCESS="flowChartProcess",e.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",e.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",e.FLOWCHART_SORT="flowChartSort",e.FLOWCHART_STORED_DATA="flowChartOnlineStorage",e.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",e.FLOWCHART_TERMINATOR="flowChartTerminator",e.FOLDED_CORNER="folderCorner",e.FRAME="frame",e.FUNNEL="funnel",e.GEAR_6="gear6",e.GEAR_9="gear9",e.HALF_FRAME="halfFrame",e.HEART="heart",e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.HORIZONTAL_SCROLL="horizontalScroll",e.ISOSCELES_TRIANGLE="triangle",e.LEFT_ARROW="leftArrow",e.LEFT_ARROW_CALLOUT="leftArrowCallout",e.LEFT_BRACE="leftBrace",e.LEFT_BRACKET="leftBracket",e.LEFT_CIRCULAR_ARROW="leftCircularArrow",e.LEFT_RIGHT_ARROW="leftRightArrow",e.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",e.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",e.LEFT_RIGHT_RIBBON="leftRightRibbon",e.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",e.LEFT_UP_ARROW="leftUpArrow",e.LIGHTNING_BOLT="lightningBolt",e.LINE_CALLOUT_1="borderCallout1",e.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",e.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",e.LINE_CALLOUT_1_NO_BORDER="callout1",e.LINE_CALLOUT_2="borderCallout2",e.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",e.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",e.LINE_CALLOUT_2_NO_BORDER="callout2",e.LINE_CALLOUT_3="borderCallout3",e.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",e.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",e.LINE_CALLOUT_3_NO_BORDER="callout3",e.LINE_CALLOUT_4="borderCallout4",e.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",e.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",e.LINE_CALLOUT_4_NO_BORDER="callout4",e.LINE="line",e.LINE_INVERSE="lineInv",e.MATH_DIVIDE="mathDivide",e.MATH_EQUAL="mathEqual",e.MATH_MINUS="mathMinus",e.MATH_MULTIPLY="mathMultiply",e.MATH_NOT_EQUAL="mathNotEqual",e.MATH_PLUS="mathPlus",e.MOON="moon",e.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",e.NOTCHED_RIGHT_ARROW="notchedRightArrow",e.NO_SYMBOL="noSmoking",e.OCTAGON="octagon",e.OVAL="ellipse",e.OVAL_CALLOUT="wedgeEllipseCallout",e.PARALLELOGRAM="parallelogram",e.PENTAGON="homePlate",e.PIE="pie",e.PIE_WEDGE="pieWedge",e.PLAQUE="plaque",e.PLAQUE_TABS="plaqueTabs",e.QUAD_ARROW="quadArrow",e.QUAD_ARROW_CALLOUT="quadArrowCallout",e.RECTANGLE="rect",e.RECTANGULAR_CALLOUT="wedgeRectCallout",e.REGULAR_PENTAGON="pentagon",e.RIGHT_ARROW="rightArrow",e.RIGHT_ARROW_CALLOUT="rightArrowCallout",e.RIGHT_BRACE="rightBrace",e.RIGHT_BRACKET="rightBracket",e.RIGHT_TRIANGLE="rtTriangle",e.ROUNDED_RECTANGLE="roundRect",e.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",e.ROUND_1_RECTANGLE="round1Rect",e.ROUND_2_DIAG_RECTANGLE="round2DiagRect",e.ROUND_2_SAME_RECTANGLE="round2SameRect",e.SMILEY_FACE="smileyFace",e.SNIP_1_RECTANGLE="snip1Rect",e.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",e.SNIP_2_SAME_RECTANGLE="snip2SameRect",e.SNIP_ROUND_RECTANGLE="snipRoundRect",e.SQUARE_TABS="squareTabs",e.STAR_10_POINT="star10",e.STAR_12_POINT="star12",e.STAR_16_POINT="star16",e.STAR_24_POINT="star24",e.STAR_32_POINT="star32",e.STAR_4_POINT="star4",e.STAR_5_POINT="star5",e.STAR_6_POINT="star6",e.STAR_7_POINT="star7",e.STAR_8_POINT="star8",e.STRIPED_RIGHT_ARROW="stripedRightArrow",e.SUN="sun",e.SWOOSH_ARROW="swooshArrow",e.TEAR="teardrop",e.TRAPEZOID="trapezoid",e.UP_ARROW="upArrow",e.UP_ARROW_CALLOUT="upArrowCallout",e.UP_DOWN_ARROW="upDownArrow",e.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",e.UP_RIBBON="ribbon2",e.U_TURN_ARROW="uturnArrow",e.VERTICAL_SCROLL="verticalScroll",e.WAVE="wave"})(VR||(VR={}));var GR;(function(e){e.AREA="area",e.BAR="bar",e.BAR3D="bar3D",e.BUBBLE="bubble",e.BUBBLE3D="bubble3D",e.DOUGHNUT="doughnut",e.LINE="line",e.PIE="pie",e.RADAR="radar",e.SCATTER="scatter"})(GR||(GR={}));var KR;(function(e){e.TEXT1="tx1",e.TEXT2="tx2",e.BACKGROUND1="bg1",e.BACKGROUND2="bg2",e.ACCENT1="accent1",e.ACCENT2="accent2",e.ACCENT3="accent3",e.ACCENT4="accent4",e.ACCENT5="accent5",e.ACCENT6="accent6"})(KR||(KR={}));var XR;(function(e){e.chart="chart",e.image="image",e.line="line",e.rect="rect",e.text="text",e.placeholder="placeholder"})(XR||(XR={}));var ZR;(function(e){e.chart="chart",e.hyperlink="hyperlink",e.image="image",e.media="media",e.online="online",e.placeholder="placeholder",e.table="table",e.tablecell="tablecell",e.text="text",e.notes="notes"})(ZR||(ZR={}));var YR;(function(e){e.title="title",e.body="body",e.image="pic",e.chart="chart",e.table="tbl",e.media="media"})(YR||(YR={}));var JR;(function(e){e.DEFAULT="&#x2022;",e.CHECK="&#x2713;",e.STAR="&#x2605;",e.TRIANGLE="&#x25B6;"})(JR||(JR={}));async function gge(e,t,r){const n=new Dt,i=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),o=20;let a=o;n.setFontSize(20),n.setFont("helvetica","bold"),n.text(r.title,i/2,a,{align:"center"}),a+=15,r.subtitle&&(n.setFontSize(12),n.setFont("helvetica","normal"),n.text(r.subtitle,i/2,a,{align:"center"}),a+=10),n.setFontSize(10),n.setFont("helvetica","italic");const l=(r.date||new Date).toLocaleDateString();n.text(`Generated: ${l}`,i/2,a,{align:"center"}),a+=15,n.setLineWidth(.5),n.line(o,a,i-o,a),a+=10,a=await vge(n,e,a,o,i,s),n.setFontSize(8),n.setFont("helvetica","italic");const c=n.internal.pages.length-1;for(let u=1;u<=c;u++)n.setPage(u),n.text(`Page ${u} of ${c}`,i/2,s-10,{align:"center"});return n.output("blob")}async function vge(e,t,r,n,i,s){e.setFontSize(11),e.setFont("helvetica","normal");const o=t.split(`

`);let a=r;for(const l of o){if(!l.trim())continue;const u=l.split(`
`)[0];a>s-40&&(e.addPage(),a=n),u.match(/^[A-Z\s]+:/)||u.match(/^\d+\./)?(e.setFont("helvetica","bold"),e.setFontSize(12)):(e.setFont("helvetica","normal"),e.setFontSize(11));const h=e.splitTextToSize(l,i-2*n);for(const f of h)a>s-30&&(e.addPage(),a=n),e.text(f,n,a),a+=7;a+=5}return a}async function yge(e,t,r){const n=[];n.push(new Hl({text:r.title,heading:ER.HEADING_1,alignment:ma.CENTER,spacing:{after:200}})),r.subtitle&&n.push(new Hl({text:r.subtitle,alignment:ma.CENTER,spacing:{after:100}})),n.push(new Hl({text:`Generated: ${(r.date||new Date).toLocaleDateString()}`,alignment:ma.CENTER,italics:!0,spacing:{after:400}}));{const s=(typeof e=="string"?e:JSON.stringify(e,null,2)).split(`

`);for(const o of s){if(!o.trim())continue;const a=o.split(`
`),l=a[0];if(l.match(/^[A-Z\s]+:/)||l.match(/^\d+\./)){n.push(new Hl({text:l,heading:ER.HEADING_2,spacing:{before:200,after:100}}));for(let c=1;c<a.length;c++)a[c].trim()&&n.push(new Hl({text:a[c],spacing:{after:100}}))}else n.push(new Hl({text:o,spacing:{after:200}}))}}const i=new J0e({sections:[{properties:{},children:n}]});return await fge.toBlob(i)}const bge=({bucket:e,path:t,onUploadComplete:r,accept:n="*",maxSizeMB:i=10})=>{const[s,o]=Me.useState(!1),[a,l]=Me.useState(null),c=async u=>{var d;const h=(d=u.target.files)==null?void 0:d[0];if(!h)return;const f=i*1024*1024;if(h.size>f){l(`File size must be less than ${i}MB`);return}l(null),o(!0);try{const p=h.name.split(".").pop(),g=`${t}/${Date.now()}.${p}`,m=(h.size/(1024*1024)).toFixed(2),{data:{user:v}}=await He.auth.getUser();if(!v)throw new Error("User not authenticated");const y=new FileReader;y.onload=async x=>{var U;const w=(U=x.target)==null?void 0:U.result,{data:_,error:M}=await He.from("process_documents").insert({document_name:h.name,document_type:h.type||"application/octet-stream",file_size_mb:parseFloat(m),storage_path:g,storage_url:w,uploaded_by:v.id,upload_status:"uploaded",parsing_status:"pending"}).select().single();if(M)throw M;r(w,h.name),o(!1)},y.onerror=()=>{throw new Error("Failed to read file")},y.readAsDataURL(h)}catch(p){l(p.message||"Upload failed"),o(!1)}};return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:s?b.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[b.jsx(tG,{size:20,className:"animate-spin"}),b.jsx("span",{children:"Uploading..."})]}):b.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[b.jsx(p8,{size:20}),b.jsx("span",{children:"Click to upload file"})]})}),b.jsx("input",{type:"file",onChange:c,accept:n,disabled:s,className:"hidden"})]}),a&&b.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[b.jsx(ll,{size:16}),b.jsx("span",{children:a})]})]})};function xge(){const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState([]),[s,o]=Me.useState(!0),[a,l]=Me.useState(!1),[c,u]=Me.useState(!1),[h,f]=Me.useState(null),[d,p]=Me.useState(!1),[g,m]=Me.useState(!1),[v,y]=Me.useState({title:"",content:"",version:"1.0",changeDescription:""});Me.useEffect(()=>{x()},[]),Me.useEffect(()=>{h&&w(h.id)},[h]);const x=async()=>{try{const{data:k,error:E}=await He.from("sops").select("*").order("updated_at",{ascending:!1});if(E)throw E;r(k||[])}catch(k){console.error("Error loading SOPs:",k)}finally{o(!1)}},w=async k=>{try{const{data:E,error:A}=await He.from("sop_versions").select("*").eq("sop_id",k).order("created_at",{ascending:!1});if(A)throw A;i(E||[])}catch(E){console.error("Error loading versions:",E)}},_=async()=>{if(!(!v.title||!v.content||!e))try{const{data:k,error:E}=await He.from("sops").insert({title:v.title,content:v.content,version:v.version,status:"draft",created_by:e.id}).select().single();if(E)throw E;await t4(k.id,v.content,v.changeDescription||"Initial version"),y({title:"",content:"",version:"1.0",changeDescription:""}),l(!1),x()}catch(k){console.error("Error creating SOP:",k),alert("Failed to create SOP")}},M=async()=>{if(!(!h||!e))try{const k=h.version.split("."),E=`${k[0]}.${parseInt(k[1])+1}`,{error:A}=await He.from("sops").update({content:v.content,version:E,status:"draft",updated_at:new Date().toISOString()}).eq("id",h.id);if(A)throw A;await t4(h.id,v.content,v.changeDescription||"Updated content"),p(!1),f(null),x()}catch(k){console.error("Error updating SOP:",k),alert("Failed to update SOP")}},U=async k=>{if(e)try{await XI("sop",k,e.id,"sop_approval"),alert("Approval request submitted successfully"),x()}catch(E){console.error("Error requesting approval:",E),alert("Failed to request approval")}},L=async k=>{try{const{error:E}=await He.from("sops").update({status:"published",approved_by:e==null?void 0:e.id,approved_at:new Date().toISOString()}).eq("id",k);if(E)throw E;x()}catch(E){console.error("Error publishing SOP:",E),alert("Failed to publish SOP")}},O=async k=>{if(confirm("Are you sure you want to delete this SOP?"))try{const{error:E}=await He.from("sops").delete().eq("id",k);if(E)throw E;x()}catch(E){console.error("Error deleting SOP:",E),alert("Failed to delete SOP")}},H=async k=>{try{const E={title:k.title,subtitle:`Version ${k.version}`,author:"OllieProcess",date:new Date},A=await gge(k,"sop",E),C=window.URL.createObjectURL(A),D=document.createElement("a");D.href=C,D.download=`${k.title.replace(/\s+/g,"_")}_v${k.version}.pdf`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(C),document.body.removeChild(D)}catch(E){console.error("Error exporting PDF:",E),alert("Failed to export PDF")}},G=async k=>{try{const E={title:k.title,subtitle:`Version ${k.version}`,author:"OllieProcess",date:new Date},A=await yge(k,"sop",E),C=window.URL.createObjectURL(A),D=document.createElement("a");D.href=C,D.download=`${k.title.replace(/\s+/g,"_")}_v${k.version}.docx`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(C),document.body.removeChild(D)}catch(E){console.error("Error exporting DOCX:",E),alert("Failed to export DOCX")}},I=async k=>{const E=k[0];if(!E)return;const A=new FileReader;A.onload=async C=>{var z;const D=(z=C.target)==null?void 0:z.result;y({...v,title:E.name.replace(/\.(docx|pdf|txt)$/i,""),content:D}),m(!1),l(!0)},E.type==="text/plain"?A.readAsText(E):alert("Please upload a text file. DOCX and PDF parsing will be available soon.")},R=k=>{f(k),y({title:k.title,content:k.content,version:k.version,changeDescription:""}),p(!0)},S=k=>{f(k),p(!1)},j=k=>{switch(k){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-gray-100 text-gray-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}};return s?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h&&!d?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("button",{onClick:()=>{f(null),u(!1)},className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to SOPs"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>u(!c),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[b.jsx(as,{className:"w-4 h-4"}),"Version History"]}),b.jsxs("button",{onClick:()=>R(h),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[b.jsx(XN,{className:"w-4 h-4"}),"Edit"]}),b.jsxs("button",{onClick:()=>G(h),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[b.jsx(YV,{className:"w-4 h-4"}),"Export DOCX"]}),b.jsxs("button",{onClick:()=>H(h),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(I0,{className:"w-4 h-4"}),"Export PDF"]})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[b.jsx("div",{className:"flex items-start justify-between mb-6",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:h.title}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[b.jsxs("span",{className:"flex items-center gap-1",children:["Version ",h.version]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(h.status)}`,children:h.status.replace("_"," ").toUpperCase()})]})]})}),b.jsx("div",{className:"prose max-w-none",children:b.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:h.content})}),h.status==="draft"&&b.jsxs("div",{className:"mt-8 pt-6 border-t flex gap-3",children:[b.jsx("button",{onClick:()=>U(h.id),className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Request Approval"}),b.jsx("button",{onClick:()=>L(h.id),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Publish Now"})]})]}),c&&n.length>0&&b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Version History"}),b.jsx("div",{className:"space-y-3",children:n.map(k=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("h3",{className:"font-semibold text-gray-900",children:["Version ",k.version_number]}),b.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()})]}),k.change_description&&b.jsx("p",{className:"text-sm text-gray-600",children:k.change_description})]},k.id))})]})]}):a||d?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d?"Edit SOP":"Create New SOP"}),b.jsx("button",{onClick:()=>{l(!1),p(!1),f(null),y({title:"",content:"",version:"1.0",changeDescription:""})},className:"text-gray-500 hover:text-gray-700",children:b.jsx(ll,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SOP Title"}),b.jsx("input",{type:"text",value:v.title,onChange:k=>y({...v,title:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter SOP title..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),b.jsx("textarea",{value:v.content,onChange:k=>y({...v,content:k.target.value}),rows:20,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"Enter SOP content..."})]}),d&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Description"}),b.jsx("input",{type:"text",value:v.changeDescription,onChange:k=>y({...v,changeDescription:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe what changed in this version..."})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>{l(!1),p(!1),f(null),y({title:"",content:"",version:"1.0",changeDescription:""})},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),b.jsxs("button",{onClick:d?M:_,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[b.jsx(Gl,{className:"w-4 h-4"}),d?"Save Changes":"Create SOP"]})]})]})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[b.jsx(Ii,{className:"w-7 h-7 text-blue-600"}),"SOP Builder"]}),b.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage Standard Operating Procedures"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[b.jsx(p8,{className:"w-4 h-4"}),"Upload Document"]}),b.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[b.jsx(M0,{className:"w-4 h-4"}),"New SOP"]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(k=>b.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-blue-500",children:[b.jsx("div",{className:"flex items-start justify-between mb-4",children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:k.title}),b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsxs("span",{className:"text-xs text-gray-500",children:["v",k.version]}),b.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j(k.status)}`,children:k.status.replace("_"," ")})]})]})}),b.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[k.content.substring(0,150),"..."]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>S(k),className:"flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm flex items-center justify-center gap-2",children:[b.jsx(zf,{className:"w-4 h-4"}),"View"]}),b.jsx("button",{onClick:()=>R(k),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",title:"Edit",children:b.jsx(XN,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>H(k),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",title:"Export PDF",children:b.jsx(I0,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>O(k.id),className:"px-3 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50",title:"Delete",children:b.jsx(Bb,{className:"w-4 h-4"})})]})]},k.id))}),t.length===0&&b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[b.jsx(Ii,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No SOPs found"}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Create your first Standard Operating Procedure"})]}),g&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload Document"}),b.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:b.jsx(ll,{className:"w-6 h-6"})})]}),b.jsx(bge,{onUpload:I,accept:".txt,.docx,.pdf",maxSize:10*1024*1024}),b.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported formats: TXT, DOCX, PDF (up to 10MB)"})]})})]})}const wge=()=>{const{user:e}=Is(),[t,r]=Me.useState("profile"),[n,i]=Me.useState(!0),[s,o]=Me.useState(!1),[a,l]=Me.useState(null),[c,u]=Me.useState({full_name:"",email:"",role:"",department:""}),[h,f]=Me.useState({notification_preferences:{email:{enabled:!0,approvals:!0,mentions:!0,assignments:!0,digest:!1},in_app:{enabled:!0,approvals:!0,mentions:!0,assignments:!0,updates:!0},push:{enabled:!1,approvals:!1,mentions:!1,assignments:!1}},email_frequency:"immediate",theme:"light",language:"en",timezone:"UTC",default_view:"dashboard",show_onboarding:!0}),[d,p]=Me.useState({current:"",new:"",confirm:""}),[g,m]=Me.useState({openai:{api_key:""}}),[v,y]=Me.useState(!1);Me.useEffect(()=>{e&&x()},[e]);const x=async()=>{var O;try{const[H,G]=await Promise.all([He.from("user_profiles").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle(),He.from("user_settings").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle()]);if(H.data&&u({full_name:H.data.full_name||"",email:H.data.email||"",role:H.data.role||"",department:H.data.department||""}),G.data){const I=G.data;f(I),(O=I.api_keys)!=null&&O.openai&&m(R=>({...R,openai:I.api_keys.openai||{api_key:""}}))}else await He.from("user_settings").insert({user_id:e==null?void 0:e.id})}catch(H){console.error("Error loading data:",H)}finally{i(!1)}},w=async()=>{o(!0),l(null);try{const{error:O}=await He.from("user_profiles").update({full_name:c.full_name,department:c.department}).eq("user_id",e==null?void 0:e.id);if(O)throw O;l({type:"success",text:"Profile updated successfully!"})}catch{l({type:"error",text:"Failed to update profile"})}finally{o(!1)}},_=async()=>{o(!0),l(null);try{const{error:O}=await He.from("user_settings").update(h).eq("user_id",e==null?void 0:e.id);if(O)throw O;l({type:"success",text:"Settings saved successfully!"})}catch{l({type:"error",text:"Failed to save settings"})}finally{o(!1)}},M=async()=>{o(!0),l(null);try{const{error:O}=await He.from("user_settings").update({api_keys:g}).eq("user_id",e==null?void 0:e.id);if(O)throw O;l({type:"success",text:"API keys saved successfully!"})}catch{l({type:"error",text:"Failed to save API keys"})}finally{o(!1)}},U=async()=>{if(d.new!==d.confirm){l({type:"error",text:"Passwords do not match"});return}if(d.new.length<6){l({type:"error",text:"Password must be at least 6 characters"});return}o(!0),l(null);try{const{error:O}=await He.auth.updateUser({password:d.new});if(O)throw O;l({type:"success",text:"Password changed successfully!"}),p({current:"",new:"",confirm:""})}catch{l({type:"error",text:"Failed to change password"})}finally{o(!1)}},L=[{id:"profile",label:"Profile",icon:pG},{id:"notifications",label:"Notifications",icon:FI},{id:"preferences",label:"Preferences",icon:mu},{id:"security",label:"Security",icon:Hy},{id:"api",label:"API Keys",icon:e4}];return n?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:b.jsx(mu,{className:"w-6 h-6 text-blue-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Settings"}),b.jsx("p",{className:"text-slate-600",children:"Manage your account settings and preferences"})]})]}),a&&b.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${a.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[a.type==="success"?b.jsx(br,{className:"w-5 h-5"}):b.jsx(ol,{className:"w-5 h-5"}),b.jsx("span",{children:a.text})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[b.jsx("div",{className:"border-b border-slate-200",children:b.jsx("div",{className:"flex gap-2 p-2",children:L.map(O=>b.jsxs("button",{onClick:()=>r(O.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg transition-colors ${t===O.id?"bg-blue-50 text-blue-600 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[b.jsx(O.icon,{className:"w-4 h-4"}),O.label]},O.id))})}),b.jsxs("div",{className:"p-6",children:[t==="profile"&&b.jsxs("div",{className:"space-y-6 max-w-2xl",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),b.jsx("input",{type:"text",value:c.full_name,onChange:O=>u({...c,full_name:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:c.email,disabled:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-500"}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Email cannot be changed"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Department"}),b.jsx("input",{type:"text",value:c.department,onChange:O=>u({...c,department:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Operations, Finance, HR"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Role"}),b.jsx("input",{type:"text",value:c.role,disabled:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-500"}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Role is managed by administrators"})]}),b.jsxs("button",{onClick:w,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Gl,{className:"w-4 h-4"}),s?"Saving...":"Save Profile"]})]}),t==="notifications"&&b.jsxs("div",{className:"space-y-6 max-w-3xl",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[b.jsx(rG,{className:"w-5 h-5"}),"Email Notifications"]}),b.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-lg",children:[b.jsxs("label",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-slate-700",children:"Enable email notifications"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.email.enabled,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,email:{...h.notification_preferences.email,enabled:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),h.notification_preferences.email.enabled&&b.jsxs(b.Fragment,{children:[b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Approval requests"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.email.approvals,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,email:{...h.notification_preferences.email,approvals:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Mentions and comments"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.email.mentions,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,email:{...h.notification_preferences.email,mentions:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Task assignments"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.email.assignments,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,email:{...h.notification_preferences.email,assignments:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Frequency"}),b.jsxs("select",{value:h.email_frequency,onChange:O=>f({...h,email_frequency:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"immediate",children:"Immediate"}),b.jsx("option",{value:"daily_digest",children:"Daily Digest"}),b.jsx("option",{value:"weekly_digest",children:"Weekly Digest"}),b.jsx("option",{value:"never",children:"Never"})]})]})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[b.jsx(aG,{className:"w-5 h-5"}),"In-App Notifications"]}),b.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-lg",children:[b.jsxs("label",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-slate-700",children:"Enable in-app notifications"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.in_app.enabled,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,in_app:{...h.notification_preferences.in_app,enabled:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),h.notification_preferences.in_app.enabled&&b.jsxs(b.Fragment,{children:[b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Approval requests"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.in_app.approvals,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,in_app:{...h.notification_preferences.in_app,approvals:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Mentions and comments"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.in_app.mentions,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,in_app:{...h.notification_preferences.in_app,mentions:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Task assignments"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.in_app.assignments,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,in_app:{...h.notification_preferences.in_app,assignments:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]}),b.jsxs("label",{className:"flex items-center justify-between pl-6",children:[b.jsx("span",{className:"text-slate-600",children:"Process updates"}),b.jsx("input",{type:"checkbox",checked:h.notification_preferences.in_app.updates,onChange:O=>f({...h,notification_preferences:{...h.notification_preferences,in_app:{...h.notification_preferences.in_app,updates:O.target.checked}}}),className:"w-4 h-4 text-blue-600 rounded"})]})]})]})]}),b.jsxs("button",{onClick:_,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Gl,{className:"w-4 h-4"}),s?"Saving...":"Save Notification Settings"]})]}),t==="preferences"&&b.jsxs("div",{className:"space-y-6 max-w-2xl",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center gap-2",children:[b.jsx(lG,{className:"w-4 h-4"}),"Theme"]}),b.jsxs("select",{value:h.theme,onChange:O=>f({...h,theme:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"light",children:"Light"}),b.jsx("option",{value:"dark",children:"Dark"}),b.jsx("option",{value:"auto",children:"Auto (System)"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center gap-2",children:[b.jsx(Q3,{className:"w-4 h-4"}),"Language"]}),b.jsxs("select",{value:h.language,onChange:O=>f({...h,language:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"en",children:"English"}),b.jsx("option",{value:"es",children:"Spanish"}),b.jsx("option",{value:"fr",children:"French"}),b.jsx("option",{value:"de",children:"German"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center gap-2",children:[b.jsx(as,{className:"w-4 h-4"}),"Timezone"]}),b.jsxs("select",{value:h.timezone,onChange:O=>f({...h,timezone:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"UTC",children:"UTC"}),b.jsx("option",{value:"America/New_York",children:"Eastern Time"}),b.jsx("option",{value:"America/Chicago",children:"Central Time"}),b.jsx("option",{value:"America/Denver",children:"Mountain Time"}),b.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),b.jsx("option",{value:"Europe/London",children:"London"}),b.jsx("option",{value:"Europe/Paris",children:"Paris"}),b.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Default View"}),b.jsxs("select",{value:h.default_view,onChange:O=>f({...h,default_view:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"dashboard",children:"Dashboard"}),b.jsx("option",{value:"processes",children:"My Processes"}),b.jsx("option",{value:"tasks",children:"My Tasks"}),b.jsx("option",{value:"approvals",children:"Approvals"})]})]}),b.jsxs("button",{onClick:_,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Gl,{className:"w-4 h-4"}),s?"Saving...":"Save Preferences"]})]}),t==="security"&&b.jsxs("div",{className:"space-y-6 max-w-2xl",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[b.jsx(go,{className:"w-5 h-5"}),"Change Password"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Password"}),b.jsx("input",{type:"password",value:d.new,onChange:O=>p({...d,new:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter new password"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm New Password"}),b.jsx("input",{type:"password",value:d.confirm,onChange:O=>p({...d,confirm:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password"})]}),b.jsxs("button",{onClick:U,disabled:s||!d.new||!d.confirm,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Hy,{className:"w-4 h-4"}),s?"Changing...":"Change Password"]})]})]}),b.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(ol,{className:"w-5 h-5 text-amber-600 mt-0.5"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-amber-900 mb-1",children:"Password Requirements"}),b.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[b.jsx("li",{children:"• Minimum 6 characters"}),b.jsx("li",{children:"• Use a unique password"}),b.jsx("li",{children:"• Consider using a password manager"})]})]})]})})]}),t==="api"&&b.jsxs("div",{className:"space-y-6 max-w-2xl",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[b.jsx(ns,{className:"w-5 h-5"}),"OpenAI API Configuration"]}),b.jsx("p",{className:"text-slate-600 mb-4",children:"Configure your OpenAI API key to enable AI-powered features including transcription, sentiment analysis, and intelligent routing."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"OpenAI API Key"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:v?"text":"password",value:g.openai.api_key,onChange:O=>m({...g,openai:{api_key:O.target.value}}),className:"w-full px-4 py-2 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"sk-..."}),b.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:v?b.jsx($I,{className:"w-4 h-4"}):b.jsx(zf,{className:"w-4 h-4"})})]}),b.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Get your API key from ",b.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"OpenAI Platform"})]})]}),b.jsxs("button",{onClick:M,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Gl,{className:"w-4 h-4"}),s?"Saving...":"Save API Key"]})]})]}),b.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(e4,{className:"w-5 h-5 text-blue-600 mt-0.5"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Security Note"}),b.jsx("p",{className:"text-sm text-blue-800",children:"Your API key is stored securely and encrypted at rest. It is only accessible by you and used for authorized AI features within your account."})]})]})}),b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"AI-Powered Features"}),b.jsxs("ul",{className:"text-sm text-slate-700 space-y-2",children:[b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-green-600 mt-0.5",children:"•"}),b.jsx("span",{children:"Speech-to-text transcription for calls and voice interactions"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-green-600 mt-0.5",children:"•"}),b.jsx("span",{children:"Sentiment analysis for customer interactions"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-green-600 mt-0.5",children:"•"}),b.jsx("span",{children:"Intelligent complaint routing and categorization"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-green-600 mt-0.5",children:"•"}),b.jsx("span",{children:"AI-powered process optimization suggestions"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-green-600 mt-0.5",children:"•"}),b.jsx("span",{children:"Natural language query for analytics"})]})]})]})]})]})]})]})},_ge=()=>{const{user:e}=Is(),[t,r]=Me.useState(!0),[n,i]=Me.useState(!1),[s,o]=Me.useState(null),[a,l]=Me.useState({}),[c,u]=Me.useState({}),[h,f]=Me.useState("openai"),d=[{id:"openai",name:"OpenAI",description:"AI-powered features including transcription, sentiment analysis, and intelligent routing",icon:ns,fields:[{key:"api_key",label:"API Key",placeholder:"sk-...",type:"password",required:!0}]},{id:"twilio",name:"Twilio",description:"SMS, Voice, and WhatsApp communication services",icon:cG,fields:[{key:"account_sid",label:"Account SID",placeholder:"AC...",type:"text",required:!0},{key:"auth_token",label:"Auth Token",placeholder:"Your auth token",type:"password",required:!0},{key:"phone_number",label:"Phone Number",placeholder:"+1234567890",type:"text",required:!0}]},{id:"salesforce",name:"Salesforce Service Cloud",description:"CRM integration for case management and customer data sync",icon:Uy,fields:[{key:"instance_url",label:"Instance URL",placeholder:"https://yourinstance.salesforce.com",type:"text",required:!0},{key:"client_id",label:"Client ID",placeholder:"Your connected app client ID",type:"text",required:!0},{key:"client_secret",label:"Client Secret",placeholder:"Your client secret",type:"password",required:!0},{key:"access_token",label:"Access Token",placeholder:"Leave empty for OAuth flow",type:"password",required:!1},{key:"refresh_token",label:"Refresh Token",placeholder:"Leave empty for OAuth flow",type:"password",required:!1}]},{id:"bird",name:"Bird.com",description:"Omnichannel messaging platform for SMS, WhatsApp, Email, and more",icon:iG,fields:[{key:"workspace_id",label:"Workspace ID",placeholder:"Your workspace ID",type:"text",required:!0},{key:"api_key",label:"API Key",placeholder:"Your Bird.com API key",type:"password",required:!0}]}];Me.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:w,error:_}=await He.from("user_settings").select("api_keys").eq("user_id",e==null?void 0:e.id).maybeSingle();if(_)throw _;w!=null&&w.api_keys?l(w.api_keys):await He.from("user_settings").insert({user_id:e==null?void 0:e.id,api_keys:{}})}catch(w){console.error("Error loading API keys:",w),o({type:"error",text:"Failed to load API keys"})}finally{r(!1)}},g=async()=>{i(!0),o(null);try{const{error:w}=await He.from("user_settings").update({api_keys:a}).eq("user_id",e==null?void 0:e.id);if(w)throw w;o({type:"success",text:"API keys saved successfully!"})}catch(w){console.error("Error saving API keys:",w),o({type:"error",text:"Failed to save API keys"})}finally{i(!1)}},m=(w,_,M)=>{l(U=>({...U,[w]:{...U[w],[_]:M}}))},v=w=>{u(_=>({..._,[w]:!_[w]}))},y=async w=>{o({type:"success",text:`Testing ${w} connection...`})};if(t)return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const x=d.find(w=>w.id===h);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:b.jsx(qI,{className:"w-6 h-6 text-blue-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Integration Management"}),b.jsx("p",{className:"text-slate-600",children:"Configure API keys for third-party integrations"})]})]}),s&&b.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[s.type==="success"?b.jsx(br,{className:"w-5 h-5"}):b.jsx(ol,{className:"w-5 h-5"}),b.jsx("span",{children:s.text})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[b.jsx("div",{className:"lg:col-span-1",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 space-y-2",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Available Integrations"}),d.map(w=>{const _=w.icon,M=a[w.id]&&Object.keys(a[w.id]||{}).length>0;return b.jsxs("button",{onClick:()=>f(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${h===w.id?"bg-blue-50 text-blue-600 border-2 border-blue-200":"hover:bg-slate-50 text-slate-700 border border-transparent"}`,children:[b.jsx(_,{className:"w-5 h-5"}),b.jsx("div",{className:"flex-1 text-left",children:b.jsx("div",{className:"font-medium",children:w.name})}),M&&b.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]},w.id)})]})}),b.jsx("div",{className:"lg:col-span-3",children:b.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:x&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:b.jsx(x.icon,{className:"w-6 h-6 text-blue-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-1",children:x.name}),b.jsx("p",{className:"text-slate-600",children:x.description})]})]}),b.jsx("div",{className:"space-y-4 mb-6",children:x.fields.map(w=>{var U;const _=`${x.id}.${w.key}`,M=((U=a[x.id])==null?void 0:U[w.key])||"";return b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[w.label,w.required&&b.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:w.type==="password"&&!c[_]?"password":"text",value:M,onChange:L=>m(x.id,w.key,L.target.value),placeholder:w.placeholder,className:"w-full px-4 py-2 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),w.type==="password"&&b.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:c[_]?b.jsx($I,{className:"w-4 h-4"}):b.jsx(zf,{className:"w-4 h-4"})})]})]},w.key)})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:g,disabled:n,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400",children:[b.jsx(Gl,{className:"w-4 h-4"}),n?"Saving...":"Save Configuration"]}),b.jsxs("button",{onClick:()=>y(x.id),className:"flex items-center gap-2 px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[b.jsx(mu,{className:"w-4 h-4"}),"Test Connection"]})]}),b.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(e4,{className:"w-5 h-5 text-blue-600 mt-0.5"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Security Note"}),b.jsx("p",{className:"text-sm text-blue-800",children:"API keys are stored securely and encrypted at rest. They are only accessible by you and used for authorized integrations within your account."})]})]})})]})})})]})]})},QR=()=>{console.log("🔑 OpenAI Key:","NOT FOUND","| Present:",!1,"| Length:",void 0),console.error("❌ VITE_OPENAI_API_KEY is not set in environment variables!")};function Sge({currentModule:e,currentModuleName:t}){const{user:r}=Is(),[n,i]=Me.useState(!1),[s,o]=Me.useState(!1),[a,l]=Me.useState([]),[c,u]=Me.useState(""),[h,f]=Me.useState(!1),[d,p]=Me.useState(null),[g,m]=Me.useState(!1),v=Me.useRef(null);Me.useEffect(()=>{n&&!d&&w()},[n]),Me.useEffect(()=>{y()},[a]),Me.useEffect(()=>{n&&m(!1)},[n]);const y=()=>{var G;(G=v.current)==null||G.scrollIntoView({behavior:"smooth"})},x=()=>{const I={dashboard:["Show me critical alerts","What are the pending approvals?","Show ticket trends","Display CSAT scores"],"integrated-contact-center":["How do I create a new ticket?","Show me my open tickets","What are the ticket priorities?","How do I assign tickets?"],"integrated-complaints":["How do I file a complaint?","Show me critical complaints","What is the escalation process?","How do I resolve complaints?"],"process-mapping":["How do I create a new process?","Show me all active processes","Find processes related to onboarding","Explain BPMN notation"],"knowledge-base":["How do I create an article?","Search for training materials","Show me SOPs","Find troubleshooting guides"],"workforce-management":["How do I create a schedule?","Show me team capacity","Explain shift management","How do I request time off?"]}[e||""]||["Show me all active processes","How do I create a new process?","Find SOPs for client onboarding","What are my pending tasks?"];return{contextMessage:t?`Hi! I'm Ollie, your AI Support Assistant. I can see you're on the ${t} module. How can I help you?`:"Hi! I'm Ollie, your AI Support Assistant. I can help you find processes, SOPs, knowledge articles, and guide you through any procedures. What can I help you with today?",suggestions:I}},w=async()=>{if(r)try{const{data:G,error:I}=await He.from("support_conversations").insert({user_id:r.id,conversation_type:"support",conversation_title:`${t||"General"} Support`}).select().single();if(I)throw console.error("Error creating conversation:",I),I;p(G.id);const{contextMessage:R,suggestions:S}=x();l([{id:"welcome",type:"assistant",content:R,suggestions:S,timestamp:new Date}])}catch(G){console.error("Error starting conversation:",G)}},_=async(G,I)=>{throw QR(),console.error("OpenAI API key not configured"),new Error("OpenAI API key not configured")},M=(G,I)=>{const R=G.toLowerCase(),S={"process-management":{keywords:["upload","document","manage","do","can","what"],response:`On the Process Management screen, you can:

• **Upload Documents**: Upload process documents (PDF, DOCX, PPTX, VSDX) for AI analysis
• **AI Processing**: The system automatically generates BPMN diagrams, SOPs, RACI matrices, and risk controls
• **View Artifacts**: Access all generated artifacts from uploaded documents
• **Version Control**: Track versions of your processes
• **Approvals**: Request and manage approval workflows
• **Create SOPs**: Click "Create SOP" on any artifact to add it to the SOP Builder with full version control`,suggestions:["How do I upload a process document?","What artifacts are generated?","How do I create an SOP from an artifact?","Tell me about the approval workflow"]},dashboard:{keywords:["show","view","display","what"],response:`The Dashboard provides:

• **Process Overview**: View all active processes and their status
• **Key Metrics**: See completion rates, average cycle times, and performance indicators
• **Pending Tasks**: Quick access to items requiring your attention
• **Recent Activity**: Latest updates across all modules
• **Analytics**: Visual charts showing trends and insights`,suggestions:["Show me pending tasks","What are the key metrics?","Show recent activity","Display process analytics"]},"sop-builder":{keywords:["create","upload","export","version"],response:`In the SOP Builder, you can:

• **Create SOPs**: Build new Standard Operating Procedures from scratch
• **Upload Documents**: Import existing SOPs from TXT, DOCX, or PDF files
• **Version Control**: Track all changes with automatic versioning
• **Approval Workflow**: Request approval and publish SOPs
• **Export**: Download SOPs as PDF or DOCX with professional formatting
• **Link to Processes**: SOPs can be created from process artifacts`,suggestions:["How do I create a new SOP?","How do I upload an existing document?","How does version control work?","How do I export an SOP?"]},"knowledge-management":{keywords:["article","search","create","find"],response:`In Knowledge Management, you can:

• **Create Articles**: Write and publish knowledge base articles
• **Organize Content**: Use categories and tags for easy navigation
• **Search**: Find articles quickly with full-text search
• **Vote & Rate**: Mark articles as helpful to improve quality
• **Track Usage**: See view counts and effectiveness metrics
• **Link to Processes**: Connect articles to relevant processes`,suggestions:["How do I create a knowledge article?","How do I search for information?","How do I organize articles?","What are article categories?"]}},j=S[I||""]||S.dashboard;return j.keywords.some(E=>R.includes(E))||R.includes("help")||R.includes("how")?{content:j.response,suggestions:j.suggestions}:{content:"I'm Ollie, your AI assistant for OllieProcess. I can help you navigate the platform, understand features, and find information. What would you like to know?",suggestions:j.suggestions}},U=async()=>{if(!c.trim()||!d||!r)return;const G={id:Date.now().toString(),type:"user",content:c,timestamp:new Date};l(R=>[...R,G]);const I=c;u(""),f(!0);try{const{error:R}=await He.from("support_messages").insert({conversation_id:d,message_type:"user_query",message_content:I,sender_type:"user",context_module:e});R&&console.error("Error inserting user message:",R);let S,j=[];if(!QR()){console.warn("No OpenAI key found in environment, using fallback response");const A=M(I,e);S=A.content,j=A.suggestions}const E={id:(Date.now()+1).toString(),type:"assistant",content:S,suggestions:j,timestamp:new Date};l(A=>[...A,E]),n||m(!0),await He.from("support_messages").insert({conversation_id:d,message_type:"ai_response",message_content:S,sender_type:"assistant",referenced_items:null}),await He.from("support_conversations").update({last_message_at:new Date().toISOString()}).eq("id",d)}catch(R){console.error("Error sending message:",R);const S={id:(Date.now()+1).toString(),type:"assistant",content:"I apologize, but I'm having trouble processing your request. Please try again or rephrase your question.",timestamp:new Date};l(j=>[...j,S])}finally{f(!1)}},L=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),U())},O=G=>{u(G)},H=G=>{if(!G)return null;const{processes:I=[],sops:R=[],knowledge:S=[],artifacts:j=[]}=G;return[...I,...R,...S,...j].length===0?null:b.jsxs("div",{className:"mt-3 space-y-2",children:[I.map((E,A)=>b.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(mu,{className:"w-4 h-4 text-blue-600 mt-1 flex-shrink-0"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:E.title}),b.jsx("p",{className:"text-xs text-blue-700 line-clamp-2",children:E.description}),b.jsx("span",{className:"text-xs text-blue-600",children:"Process"})]})]})},`process-${A}`)),R.map((E,A)=>b.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(Ii,{className:"w-4 h-4 text-purple-600 mt-1 flex-shrink-0"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("h4",{className:"font-semibold text-purple-900 text-sm",children:E.title}),b.jsx("p",{className:"text-xs text-purple-700 line-clamp-2",children:E.content}),b.jsx("span",{className:"text-xs text-purple-600",children:"SOP"})]})]})},`sop-${A}`)),S.map((E,A)=>b.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(R0,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("h4",{className:"font-semibold text-green-900 text-sm",children:E.title}),b.jsx("p",{className:"text-xs text-green-700 line-clamp-2",children:E.content}),b.jsx("span",{className:"text-xs text-green-600",children:"Knowledge Article"})]})]})},`knowledge-${A}`))]})};return n?b.jsxs("div",{className:`fixed bg-white rounded-2xl shadow-2xl z-50 flex flex-col transition-all duration-300 ${s?"inset-4":"bottom-6 right-6 w-96 h-[600px]"}`,style:{maxHeight:s?"100vh":"600px"},children:[b.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-2xl flex items-center justify-between flex-shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[b.jsx("div",{className:"p-2 bg-white/20 rounded-lg flex-shrink-0",children:b.jsx("span",{className:"text-2xl",children:"😺"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("h3",{className:"font-bold",children:"Ollie - AI Support Assistant"}),b.jsxs("p",{className:"text-xs text-blue-100 flex items-center gap-1 truncate",children:[t&&b.jsxs(b.Fragment,{children:[b.jsx(nG,{className:"w-3 h-3 flex-shrink-0"}),b.jsx("span",{className:"truncate",children:t})]}),!t&&"Always here to help"]})]})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx("button",{onClick:()=>o(!s),className:"p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":s?"Minimize":"Maximize",children:s?b.jsx(sG,{className:"w-4 h-4"}):b.jsx(VI,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close",children:b.jsx(ll,{className:"w-4 h-4"})})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[a.map(G=>b.jsx("div",{className:`flex ${G.type==="user"?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 ${G.type==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"}`,children:[b.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.content}),G.results&&H(G.results),G.suggestions&&G.suggestions.length>0&&b.jsxs("div",{className:"mt-3 space-y-2",children:[b.jsx("p",{className:"text-xs opacity-75",children:"Suggested questions:"}),G.suggestions.map((I,R)=>b.jsx("button",{onClick:()=>O(I),className:`block w-full text-left px-3 py-2 rounded-lg text-xs transition-colors ${G.type==="user"?"bg-white/10 hover:bg-white/20":"bg-white hover:bg-slate-50 border border-slate-200"}`,children:I},R))]}),b.jsx("p",{className:"text-xs opacity-50 mt-2",children:G.timestamp.toLocaleTimeString()})]})},G.id)),h&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"bg-slate-100 rounded-2xl p-3",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),b.jsx("span",{className:"text-sm text-slate-600",children:"Thinking..."})]})})}),b.jsx("div",{ref:v})]}),b.jsxs("div",{className:"p-4 border-t border-slate-200 flex-shrink-0",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("textarea",{value:c,onChange:G=>u(G.target.value),onKeyPress:L,placeholder:"Ask me anything...",rows:1,className:"flex-1 px-4 py-3 border border-slate-300 rounded-xl resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",style:{minHeight:"44px",maxHeight:"120px"}}),b.jsx("button",{onClick:U,disabled:!c.trim()||h,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex-shrink-0","aria-label":"Send message",children:b.jsx(dG,{className:"w-5 h-5"})})]}),b.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["Ollie • AI-powered support • Context-aware help for ",t||"all modules"]})]})]}):b.jsxs("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-200 z-50 group","aria-label":"Open Ollie AI Assistant",children:[b.jsx("span",{className:"text-3xl",children:"😺"}),g&&b.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),b.jsx("span",{className:"absolute right-full mr-3 px-3 py-2 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Ollie - Always here to help"})]})}const Ege=()=>{const{user:e}=Is(),[t,r]=Me.useState([]),[n,i]=Me.useState(!1),[s,o]=Me.useState(0);Me.useEffect(()=>{e&&(a(),l())},[e]);const a=async()=>{const{data:d,error:p}=await He.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(20);d&&(r(d),o(d.filter(g=>!g.read).length))},l=()=>{const d=He.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e==null?void 0:e.id}`},()=>{a()}).subscribe();return()=>{He.removeChannel(d)}},c=async d=>{await He.from("notifications").update({read:!0}).eq("id",d),a()},u=async()=>{await He.from("notifications").update({read:!0}).eq("user_id",e==null?void 0:e.id).eq("read",!1),a()},h=async d=>{await He.from("notifications").delete().eq("id",d),a()},f=d=>{switch(d){case"success":return b.jsx(br,{size:20,className:"text-green-600"});case"warning":return b.jsx(xo,{size:20,className:"text-yellow-600"});case"error":return b.jsx(ol,{size:20,className:"text-red-600"});default:return b.jsx(QV,{size:20,className:"text-blue-600"})}};return b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-colors",children:[b.jsx(FI,{size:20}),s>0&&b.jsx("span",{className:"absolute top-0 right-0 flex h-5 w-5 items-center justify-center bg-red-600 text-white text-xs rounded-full",children:s>9?"9+":s})]}),n&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),b.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-slate-200 z-50 max-h-[600px] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),s>0&&b.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-700",children:"Mark all read"})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:t.length===0?b.jsx("div",{className:"p-8 text-center text-slate-500",children:"No notifications yet"}):b.jsx("div",{className:"divide-y divide-slate-100",children:t.map(d=>b.jsx("div",{className:`p-4 ${d.read?"":"bg-blue-50"} hover:bg-slate-50 transition-colors`,children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(d.type)}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsx("h4",{className:"font-medium text-slate-800 text-sm",children:d.title}),b.jsxs("div",{className:"flex gap-1",children:[!d.read&&b.jsx("button",{onClick:()=>c(d.id),className:"text-slate-400 hover:text-blue-600 transition-colors",title:"Mark as read",children:b.jsx(KV,{size:16})}),b.jsx("button",{onClick:()=>h(d.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete",children:b.jsx(ll,{size:16})})]})]}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:d.message}),d.link&&b.jsx("a",{href:d.link,className:"text-sm text-blue-600 hover:underline mt-1 inline-block",children:"View details"}),b.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(d.created_at).toLocaleString()})]})]})},d.id))})})]})]})]})},Dv=[{id:"dashboard",label:"Dashboard",icon:b.jsx(eG,{size:20}),component:b.jsx(IG,{}),category:"Overview"},{id:"process-management",label:"Process Management",icon:b.jsx(Wd,{size:20}),component:b.jsx(Fde,{}),category:"Core"},{id:"process-mapping",label:"Process Mapping",icon:b.jsx(Fb,{size:20}),component:b.jsx(MG,{}),category:"Core"},{id:"visual-bpmn",label:"Visual BPMN Editor",icon:b.jsx(Wd,{size:20}),component:b.jsx(Yde,{}),category:"Core"},{id:"my-tasks",label:"My Process Tasks",icon:b.jsx(br,{size:20}),component:b.jsx(ohe,{}),category:"Core"},{id:"process-execution",label:"Process Execution",icon:b.jsx(GI,{size:20}),component:b.jsx(Jde,{}),category:"Execution"},{id:"dynamic-orchestrator",label:"Process Orchestrator",icon:b.jsx(ns,{size:20}),component:b.jsx(hhe,{}),category:"Execution"},{id:"approvals",label:"Approvals Queue",icon:b.jsx(br,{size:20}),component:b.jsx(vhe,{}),category:"Execution"},{id:"process-analytics",label:"Process Analytics",icon:b.jsx(T0,{size:20}),component:b.jsx(she,{}),category:"Analytics"},{id:"process-performance",label:"Process Performance",icon:b.jsx(Db,{size:20}),component:b.jsx(ahe,{}),category:"Analytics"},{id:"bottleneck-detection",label:"Bottleneck Detection",icon:b.jsx(xo,{size:20}),component:b.jsx(fhe,{}),category:"Analytics"},{id:"process-discovery",label:"Process Discovery & Mining",icon:b.jsx(P0,{size:20}),component:b.jsx(lhe,{}),category:"AI & Intelligence"},{id:"ai-optimization",label:"AI Optimization",icon:b.jsx(vo,{size:20}),component:b.jsx(che,{}),category:"AI & Intelligence"},{id:"ai-recommendations",label:"AI Recommendations",icon:b.jsx($y,{size:20}),component:b.jsx(mhe,{}),category:"AI & Intelligence"},{id:"process-simulation",label:"Process Simulation",icon:b.jsx(Ts,{size:20}),component:b.jsx(uhe,{}),category:"Advanced"},{id:"compliance",label:"Compliance Hub",icon:b.jsx(mu,{size:20}),component:b.jsx(dhe,{}),category:"Advanced"},{id:"knowledge-management",label:"Knowledge Base",icon:b.jsx(R0,{size:20}),component:b.jsx(Ehe,{}),category:"Knowledge"},{id:"smart-knowledge",label:"Smart Knowledge AI",icon:b.jsx(vo,{size:20}),component:b.jsx(khe,{}),category:"Knowledge"},{id:"technical-specs",label:"Technical Specs & SOPs",icon:b.jsx(Ii,{size:20}),component:b.jsx(Nhe,{}),category:"Knowledge"},{id:"sop-builder",label:"SOP Builder",icon:b.jsx(Ii,{size:20}),component:b.jsx(xge,{}),category:"Knowledge"},{id:"integrations",label:"Integration Management",icon:b.jsx(qI,{size:20}),component:b.jsx(_ge,{}),category:"Configuration"}],kge=()=>{var v;const{user:e,signOut:t,loading:r}=Is(),[n,i]=Me.useState("dashboard"),[s,o]=Me.useState(!0),[a,l]=Me.useState(""),[c,u]=Me.useState(U1.isEnabled());Me.useEffect(()=>{ZN.init(),document.body.classList.remove("no-keyboard-nav");const y=()=>{document.body.classList.add("no-keyboard-nav")},x=w=>{w.key==="Tab"&&(document.body.classList.remove("no-keyboard-nav"),document.body.classList.add("keyboard-navigating"))};return document.addEventListener("mousedown",y),document.addEventListener("keydown",x),()=>{ZN.destroy(),document.removeEventListener("mousedown",y),document.removeEventListener("keydown",x)}},[]),Me.useEffect(()=>{var y;if(n&&U1.isEnabled()){const x=n==="settings"?"Settings":((y=Dv.find(w=>w.id===n))==null?void 0:y.label)||"Dashboard";U1.announceNavigation(x)}},[n]);const h=()=>{const y=!c;u(y),U1.setEnabled(y)},f=async()=>{console.log("Sign out clicked");try{await t(),console.log("Sign out successful")}catch(y){console.error("Sign out failed:",y)}};if(r)return b.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(!e)return b.jsx(xG,{});const d=Dv.find(y=>y.id===n),p=n==="settings"?b.jsx(wge,{}):null,m=Dv.filter(y=>y.label.toLowerCase().includes(a.toLowerCase())).reduce((y,x)=>(y[x.category]||(y[x.category]=[]),y[x.category].push(x),y),{});return b.jsxs(b.Fragment,{children:[b.jsx("a",{href:"#main-content",className:"skip-to-main",children:"Skip to main content"}),b.jsx("div",{id:"screen-reader-announcer",className:"sr-only","aria-live":"polite","aria-atomic":"true"}),b.jsxs("div",{className:"flex h-screen bg-slate-50",children:[b.jsxs("aside",{role:"navigation","aria-label":"Main navigation",className:`${s?"w-72":"w-20"} bg-white border-r border-slate-200 transition-all duration-300 flex flex-col`,children:[b.jsx("div",{className:"p-6 border-b border-slate-200",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-2.5 rounded-xl",children:b.jsx(Fb,{size:24,className:"text-white"})}),s&&b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"OllieProcess"}),b.jsx("p",{className:"text-xs text-slate-500",children:"Process Management"})]})]}),b.jsx("button",{onClick:()=>o(!s),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":s?"Collapse sidebar":"Expand sidebar","aria-expanded":s,children:b.jsx(Wd,{size:18,className:"text-slate-600"})})]})}),s&&b.jsx("div",{className:"px-4 py-3 border-b border-slate-200",children:b.jsxs("div",{className:"relative",children:[b.jsx(h8,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"search",placeholder:"Search modules...",value:a,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Search modules"})]})}),b.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s?b.jsx("div",{className:"space-y-6",children:Object.entries(m).map(([y,x])=>b.jsxs("div",{children:[b.jsx("h3",{className:"px-6 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:y}),b.jsx("div",{className:"space-y-1 px-3",children:x.map(w=>b.jsxs("button",{onClick:()=>i(w.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${n===w.id?"bg-blue-50 text-blue-600 font-medium shadow-sm":"text-slate-600 hover:bg-slate-50"}`,"data-module-id":w.id,"aria-label":`Navigate to ${w.label}`,"aria-current":n===w.id?"page":void 0,children:[w.icon,b.jsx("span",{className:"text-sm",children:w.label})]},w.id))})]},y))}):b.jsx("div",{className:"space-y-2 px-3",children:Dv.map(y=>b.jsx("button",{onClick:()=>i(y.id),className:`w-full flex items-center justify-center p-3 rounded-lg transition-all ${n===y.id?"bg-blue-50 text-blue-600":"text-slate-600 hover:bg-slate-50"}`,title:y.label,"data-module-id":y.id,"aria-label":`Navigate to ${y.label}`,"aria-current":n===y.id?"page":void 0,children:y.icon},y.id))})}),b.jsx("div",{className:"p-4 border-t border-slate-200",children:s?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:(v=e.email)==null?void 0:v.charAt(0).toUpperCase()}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e.email}),b.jsx("p",{className:"text-xs text-slate-500",children:"Process Manager"})]}),b.jsx("button",{onClick:()=>i("settings"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-600 hover:text-blue-600",title:"Settings",children:b.jsx(mu,{size:18})})]}),b.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors font-medium text-sm",children:[b.jsx(KN,{size:16}),"Sign Out"]})]}):b.jsxs("div",{className:"space-y-2",children:[b.jsx("button",{onClick:()=>i("settings"),className:"w-full p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-600 hover:text-blue-600",title:"Settings",children:b.jsx(mu,{size:18})}),b.jsx("button",{onClick:f,className:"w-full p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-600 hover:text-red-600",title:"Sign out",children:b.jsx(KN,{size:18})})]})})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:n==="settings"?"Settings":(d==null?void 0:d.label)||"Dashboard"}),b.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:n==="settings"?"Manage your account and preferences":"Welcome to your workspace"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${c?"bg-blue-100 text-blue-700":"text-slate-600 hover:bg-slate-100"}`,title:c?"Disable screen reader":"Enable screen reader","aria-label":c?"Disable screen reader":"Enable screen reader","aria-pressed":c,children:c?b.jsx(mG,{size:20}):b.jsx(gG,{size:20})}),b.jsx(Ege,{}),b.jsx("button",{onClick:()=>i("settings"),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Settings","aria-label":"Open settings",children:b.jsx(mu,{size:20})})]})]}),b.jsx("main",{id:"main-content",role:"main","aria-label":"Main content",className:"flex-1 overflow-auto",children:b.jsx("div",{className:"p-8",children:p||(d==null?void 0:d.component)})})]}),b.jsx(Sge,{currentModule:n,currentModuleName:n==="settings"?"Settings":d==null?void 0:d.label})]})]})};function Nge(){return b.jsx(zV,{children:b.jsx(kge,{})})}fI(document.getElementById("root")).render(b.jsx(Me.StrictMode,{children:b.jsx(Nge,{})}));export{an as _,tr as c,Cge as g};
